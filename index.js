"use strict";var M1=Object.create;var Yi=Object.defineProperty;var B1=Object.getOwnPropertyDescriptor;var D1=Object.getOwnPropertyNames;var z1=Object.getPrototypeOf,F1=Object.prototype.hasOwnProperty;var ut=(e,r)=>()=>(e&&(r=e(e=0)),r);var Tt=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports),U1=(e,r)=>{for(var n in r)Yi(e,n,{get:r[n],enumerable:!0})},Zf=(e,r,n,i)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of D1(r))!F1.call(e,s)&&s!==n&&Yi(e,s,{get:()=>r[s],enumerable:!(i=B1(r,s))||i.enumerable});return e};var Po=(e,r,n)=>(n=e!=null?M1(z1(e)):{},Zf(r||!e||!e.__esModule?Yi(n,"default",{value:e,enumerable:!0}):n,e)),H1=e=>Zf(Yi({},"__esModule",{value:!0}),e);var ed=(e,r,n)=>new Promise((i,s)=>{var u=h=>{try{c(n.next(h))}catch(p){s(p)}},l=h=>{try{c(n.throw(h))}catch(p){s(p)}},c=h=>h.done?i(h.value):Promise.resolve(h.value).then(u,l);c((n=n.apply(e,r)).next())});var Qi=Tt(Dn=>{"use strict";Object.defineProperty(Dn,"__esModule",{value:!0});Dn.toCommandProperties=Dn.toCommandValue=void 0;function W1(e){return e==null?"":typeof e=="string"||e instanceof String?e:JSON.stringify(e)}Dn.toCommandValue=W1;function V1(e){return Object.keys(e).length?{title:e.title,file:e.file,line:e.startLine,endLine:e.endLine,col:e.startColumn,endColumn:e.endColumn}:{}}Dn.toCommandProperties=V1});var od=Tt($t=>{"use strict";var G1=$t&&$t.__createBinding||(Object.create?function(e,r,n,i){i===void 0&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return r[n]}})}:function(e,r,n,i){i===void 0&&(i=n),e[i]=r[n]}),K1=$t&&$t.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),J1=$t&&$t.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var n in e)n!=="default"&&Object.hasOwnProperty.call(e,n)&&G1(r,e,n);return K1(r,e),r};Object.defineProperty($t,"__esModule",{value:!0});$t.issue=$t.issueCommand=void 0;var Y1=J1(require("os")),rd=Qi();function nd(e,r,n){let i=new Pu(e,r,n);process.stdout.write(i.toString()+Y1.EOL)}$t.issueCommand=nd;function Q1(e,r=""){nd(e,{},r)}$t.issue=Q1;var td="::",Pu=class{constructor(r,n,i){r||(r="missing.command"),this.command=r,this.properties=n,this.message=i}toString(){let r=td+this.command;if(this.properties&&Object.keys(this.properties).length>0){r+=" ";let n=!0;for(let i in this.properties)if(this.properties.hasOwnProperty(i)){let s=this.properties[i];s&&(n?n=!1:r+=",",r+=`${i}=${Z1(s)}`)}}return r+=`${td}${X1(this.message)}`,r}};function X1(e){return rd.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function Z1(e){return rd.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}});function Co(){return Xi>Zi.length-16&&(id.default.randomFillSync(Zi),Xi=0),Zi.slice(Xi,Xi+=16)}var id,Zi,Xi,Cu=ut(()=>{id=Po(require("crypto")),Zi=new Uint8Array(256),Xi=Zi.length});var sd,ad=ut(()=>{sd=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function eS(e){return typeof e=="string"&&sd.test(e)}var Mr,Io=ut(()=>{ad();Mr=eS});function tS(e,r=0){let n=(Ze[e[r+0]]+Ze[e[r+1]]+Ze[e[r+2]]+Ze[e[r+3]]+"-"+Ze[e[r+4]]+Ze[e[r+5]]+"-"+Ze[e[r+6]]+Ze[e[r+7]]+"-"+Ze[e[r+8]]+Ze[e[r+9]]+"-"+Ze[e[r+10]]+Ze[e[r+11]]+Ze[e[r+12]]+Ze[e[r+13]]+Ze[e[r+14]]+Ze[e[r+15]]).toLowerCase();if(!Mr(n))throw TypeError("Stringified UUID is invalid");return n}var Ze,Br,jo=ut(()=>{Io();Ze=[];for(let e=0;e<256;++e)Ze.push((e+256).toString(16).substr(1));Br=tS});function rS(e,r,n){let i=r&&n||0,s=r||new Array(16);e=e||{};let u=e.node||ud,l=e.clockseq!==void 0?e.clockseq:Iu;if(u==null||l==null){let m=e.random||(e.rng||Co)();u==null&&(u=ud=[m[0]|1,m[1],m[2],m[3],m[4],m[5]]),l==null&&(l=Iu=(m[6]<<8|m[7])&16383)}let c=e.msecs!==void 0?e.msecs:Date.now(),h=e.nsecs!==void 0?e.nsecs:qu+1,p=c-ju+(h-qu)/1e4;if(p<0&&e.clockseq===void 0&&(l=l+1&16383),(p<0||c>ju)&&e.nsecs===void 0&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");ju=c,qu=h,Iu=l,c+=122192928e5;let y=((c&268435455)*1e4+h)%4294967296;s[i++]=y>>>24&255,s[i++]=y>>>16&255,s[i++]=y>>>8&255,s[i++]=y&255;let d=c/4294967296*1e4&268435455;s[i++]=d>>>8&255,s[i++]=d&255,s[i++]=d>>>24&15|16,s[i++]=d>>>16&255,s[i++]=l>>>8|128,s[i++]=l&255;for(let m=0;m<6;++m)s[i+m]=u[m];return r||Br(s)}var ud,Iu,ju,qu,ld,cd=ut(()=>{Cu();jo();ju=0,qu=0;ld=rS});function nS(e){if(!Mr(e))throw TypeError("Invalid UUID");let r,n=new Uint8Array(16);return n[0]=(r=parseInt(e.slice(0,8),16))>>>24,n[1]=r>>>16&255,n[2]=r>>>8&255,n[3]=r&255,n[4]=(r=parseInt(e.slice(9,13),16))>>>8,n[5]=r&255,n[6]=(r=parseInt(e.slice(14,18),16))>>>8,n[7]=r&255,n[8]=(r=parseInt(e.slice(19,23),16))>>>8,n[9]=r&255,n[10]=(r=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=r/4294967296&255,n[12]=r>>>24&255,n[13]=r>>>16&255,n[14]=r>>>8&255,n[15]=r&255,n}var es,$u=ut(()=>{Io();es=nS});function oS(e){e=unescape(encodeURIComponent(e));let r=[];for(let n=0;n<e.length;++n)r.push(e.charCodeAt(n));return r}function ts(e,r,n){function i(s,u,l,c){if(typeof s=="string"&&(s=oS(s)),typeof u=="string"&&(u=es(u)),u.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let h=new Uint8Array(16+s.length);if(h.set(u),h.set(s,u.length),h=n(h),h[6]=h[6]&15|r,h[8]=h[8]&63|128,l){c=c||0;for(let p=0;p<16;++p)l[c+p]=h[p];return l}return Br(h)}try{i.name=e}catch{}return i.DNS=iS,i.URL=sS,i}var iS,sS,Lu=ut(()=>{jo();$u();iS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",sS="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function aS(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),hd.default.createHash("md5").update(e).digest()}var hd,fd,dd=ut(()=>{hd=Po(require("crypto"));fd=aS});var uS,pd,md=ut(()=>{Lu();dd();uS=ts("v3",48,fd),pd=uS});function lS(e,r,n){e=e||{};let i=e.random||(e.rng||Co)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,r){n=n||0;for(let s=0;s<16;++s)r[n+s]=i[s];return r}return Br(i)}var yd,gd=ut(()=>{Cu();jo();yd=lS});function cS(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),vd.default.createHash("sha1").update(e).digest()}var vd,bd,_d=ut(()=>{vd=Po(require("crypto"));bd=cS});var hS,wd,Ed=ut(()=>{Lu();_d();hS=ts("v5",80,bd),wd=hS});var Sd,Td=ut(()=>{Sd="00000000-0000-0000-0000-000000000000"});function fS(e){if(!Mr(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}var Rd,Od=ut(()=>{Io();Rd=fS});var xd={};U1(xd,{NIL:()=>Sd,parse:()=>es,stringify:()=>Br,v1:()=>ld,v3:()=>pd,v4:()=>yd,v5:()=>wd,validate:()=>Mr,version:()=>Rd});var Ad=ut(()=>{cd();md();gd();Ed();Td();Od();Io();jo();$u()});var Id=Tt(Lt=>{"use strict";var dS=Lt&&Lt.__createBinding||(Object.create?function(e,r,n,i){i===void 0&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return r[n]}})}:function(e,r,n,i){i===void 0&&(i=n),e[i]=r[n]}),pS=Lt&&Lt.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),Pd=Lt&&Lt.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var n in e)n!=="default"&&Object.hasOwnProperty.call(e,n)&&dS(r,e,n);return pS(r,e),r};Object.defineProperty(Lt,"__esModule",{value:!0});Lt.prepareKeyValueMessage=Lt.issueFileCommand=void 0;var kd=Pd(require("fs")),Nu=Pd(require("os")),mS=(Ad(),H1(xd)),Cd=Qi();function yS(e,r){let n=process.env[`GITHUB_${e}`];if(!n)throw new Error(`Unable to find environment variable for file command ${e}`);if(!kd.existsSync(n))throw new Error(`Missing file at path: ${n}`);kd.appendFileSync(n,`${Cd.toCommandValue(r)}${Nu.EOL}`,{encoding:"utf8"})}Lt.issueFileCommand=yS;function gS(e,r){let n=`ghadelimiter_${mS.v4()}`,i=Cd.toCommandValue(r);if(e.includes(n))throw new Error(`Unexpected input: name should not contain the delimiter "${n}"`);if(i.includes(n))throw new Error(`Unexpected input: value should not contain the delimiter "${n}"`);return`${e}<<${n}${Nu.EOL}${i}${Nu.EOL}${n}`}Lt.prepareKeyValueMessage=gS});var qd=Tt(zn=>{"use strict";Object.defineProperty(zn,"__esModule",{value:!0});zn.checkBypass=zn.getProxyUrl=void 0;function vS(e){let r=e.protocol==="https:";if(jd(e))return;let n=(()=>r?process.env.https_proxy||process.env.HTTPS_PROXY:process.env.http_proxy||process.env.HTTP_PROXY)();if(n)return new URL(n)}zn.getProxyUrl=vS;function jd(e){if(!e.hostname)return!1;let r=process.env.no_proxy||process.env.NO_PROXY||"";if(!r)return!1;let n;e.port?n=Number(e.port):e.protocol==="http:"?n=80:e.protocol==="https:"&&(n=443);let i=[e.hostname.toUpperCase()];typeof n=="number"&&i.push(`${i[0]}:${n}`);for(let s of r.split(",").map(u=>u.trim().toUpperCase()).filter(u=>u))if(i.some(u=>u===s))return!0;return!1}zn.checkBypass=jd});var Md=Tt(Fn=>{"use strict";var Lk=require("net"),bS=require("tls"),Mu=require("http"),$d=require("https"),_S=require("events"),Nk=require("assert"),wS=require("util");Fn.httpOverHttp=ES;Fn.httpsOverHttp=SS;Fn.httpOverHttps=TS;Fn.httpsOverHttps=RS;function ES(e){var r=new _r(e);return r.request=Mu.request,r}function SS(e){var r=new _r(e);return r.request=Mu.request,r.createSocket=Ld,r.defaultPort=443,r}function TS(e){var r=new _r(e);return r.request=$d.request,r}function RS(e){var r=new _r(e);return r.request=$d.request,r.createSocket=Ld,r.defaultPort=443,r}function _r(e){var r=this;r.options=e||{},r.proxyOptions=r.options.proxy||{},r.maxSockets=r.options.maxSockets||Mu.Agent.defaultMaxSockets,r.requests=[],r.sockets=[],r.on("free",function(i,s,u,l){for(var c=Nd(s,u,l),h=0,p=r.requests.length;h<p;++h){var y=r.requests[h];if(y.host===c.host&&y.port===c.port){r.requests.splice(h,1),y.request.onSocket(i);return}}i.destroy(),r.removeSocket(i)})}wS.inherits(_r,_S.EventEmitter);_r.prototype.addRequest=function(r,n,i,s){var u=this,l=Bu({request:r},u.options,Nd(n,i,s));if(u.sockets.length>=this.maxSockets){u.requests.push(l);return}u.createSocket(l,function(c){c.on("free",h),c.on("close",p),c.on("agentRemove",p),r.onSocket(c);function h(){u.emit("free",c,l)}function p(y){u.removeSocket(c),c.removeListener("free",h),c.removeListener("close",p),c.removeListener("agentRemove",p)}})};_r.prototype.createSocket=function(r,n){var i=this,s={};i.sockets.push(s);var u=Bu({},i.proxyOptions,{method:"CONNECT",path:r.host+":"+r.port,agent:!1,headers:{host:r.host+":"+r.port}});r.localAddress&&(u.localAddress=r.localAddress),u.proxyAuth&&(u.headers=u.headers||{},u.headers["Proxy-Authorization"]="Basic "+new Buffer(u.proxyAuth).toString("base64")),Dr("making CONNECT request");var l=i.request(u);l.useChunkedEncodingByDefault=!1,l.once("response",c),l.once("upgrade",h),l.once("connect",p),l.once("error",y),l.end();function c(d){d.upgrade=!0}function h(d,m,_){process.nextTick(function(){p(d,m,_)})}function p(d,m,_){if(l.removeAllListeners(),m.removeAllListeners(),d.statusCode!==200){Dr("tunneling socket could not be established, statusCode=%d",d.statusCode),m.destroy();var A=new Error("tunneling socket could not be established, statusCode="+d.statusCode);A.code="ECONNRESET",r.request.emit("error",A),i.removeSocket(s);return}if(_.length>0){Dr("got illegal response body from proxy"),m.destroy();var A=new Error("got illegal response body from proxy");A.code="ECONNRESET",r.request.emit("error",A),i.removeSocket(s);return}return Dr("tunneling connection has established"),i.sockets[i.sockets.indexOf(s)]=m,n(m)}function y(d){l.removeAllListeners(),Dr(`tunneling socket could not be established, cause=%s
`,d.message,d.stack);var m=new Error("tunneling socket could not be established, cause="+d.message);m.code="ECONNRESET",r.request.emit("error",m),i.removeSocket(s)}};_r.prototype.removeSocket=function(r){var n=this.sockets.indexOf(r);if(n!==-1){this.sockets.splice(n,1);var i=this.requests.shift();i&&this.createSocket(i,function(s){i.request.onSocket(s)})}};function Ld(e,r){var n=this;_r.prototype.createSocket.call(n,e,function(i){var s=e.request.getHeader("host"),u=Bu({},n.options,{socket:i,servername:s?s.replace(/:.*$/,""):e.host}),l=bS.connect(0,u);n.sockets[n.sockets.indexOf(i)]=l,r(l)})}function Nd(e,r,n){return typeof e=="string"?{host:e,port:r,localAddress:n}:e}function Bu(e){for(var r=1,n=arguments.length;r<n;++r){var i=arguments[r];if(typeof i=="object")for(var s=Object.keys(i),u=0,l=s.length;u<l;++u){var c=s[u];i[c]!==void 0&&(e[c]=i[c])}}return e}var Dr;process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)?Dr=function(){var e=Array.prototype.slice.call(arguments);typeof e[0]=="string"?e[0]="TUNNEL: "+e[0]:e.unshift("TUNNEL:"),console.error.apply(console,e)}:Dr=function(){};Fn.debug=Dr});var Dd=Tt((Bk,Bd)=>{Bd.exports=Md()});var Fd=Tt(Pe=>{"use strict";var OS=Pe&&Pe.__createBinding||(Object.create?function(e,r,n,i){i===void 0&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return r[n]}})}:function(e,r,n,i){i===void 0&&(i=n),e[i]=r[n]}),xS=Pe&&Pe.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),ss=Pe&&Pe.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var n in e)n!=="default"&&Object.hasOwnProperty.call(e,n)&&OS(r,e,n);return xS(r,e),r},Ge=Pe&&Pe.__awaiter||function(e,r,n,i){function s(u){return u instanceof n?u:new n(function(l){l(u)})}return new(n||(n=Promise))(function(u,l){function c(y){try{p(i.next(y))}catch(d){l(d)}}function h(y){try{p(i.throw(y))}catch(d){l(d)}}function p(y){y.done?u(y.value):s(y.value).then(c,h)}p((i=i.apply(e,r||[])).next())})};Object.defineProperty(Pe,"__esModule",{value:!0});Pe.HttpClient=Pe.isHttps=Pe.HttpClientResponse=Pe.HttpClientError=Pe.getProxyUrl=Pe.MediaTypes=Pe.Headers=Pe.HttpCodes=void 0;var rs=ss(require("http")),Du=ss(require("https")),zd=ss(qd()),ns=ss(Dd()),Gt;(function(e){e[e.OK=200]="OK",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.ResourceMoved=302]="ResourceMoved",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.SwitchProxy=306]="SwitchProxy",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.TooManyRequests=429]="TooManyRequests",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout"})(Gt=Pe.HttpCodes||(Pe.HttpCodes={}));var lt;(function(e){e.Accept="accept",e.ContentType="content-type"})(lt=Pe.Headers||(Pe.Headers={}));var zr;(function(e){e.ApplicationJson="application/json"})(zr=Pe.MediaTypes||(Pe.MediaTypes={}));function AS(e){let r=zd.getProxyUrl(new URL(e));return r?r.href:""}Pe.getProxyUrl=AS;var kS=[Gt.MovedPermanently,Gt.ResourceMoved,Gt.SeeOther,Gt.TemporaryRedirect,Gt.PermanentRedirect],PS=[Gt.BadGateway,Gt.ServiceUnavailable,Gt.GatewayTimeout],CS=["OPTIONS","GET","DELETE","HEAD"],IS=10,jS=5,Un=class extends Error{constructor(r,n){super(r),this.name="HttpClientError",this.statusCode=n,Object.setPrototypeOf(this,Un.prototype)}};Pe.HttpClientError=Un;var is=class{constructor(r){this.message=r}readBody(){return Ge(this,void 0,void 0,function*(){return new Promise(r=>Ge(this,void 0,void 0,function*(){let n=Buffer.alloc(0);this.message.on("data",i=>{n=Buffer.concat([n,i])}),this.message.on("end",()=>{r(n.toString())})}))})}};Pe.HttpClientResponse=is;function qS(e){return new URL(e).protocol==="https:"}Pe.isHttps=qS;var zu=class{constructor(r,n,i){this._ignoreSslError=!1,this._allowRedirects=!0,this._allowRedirectDowngrade=!1,this._maxRedirects=50,this._allowRetries=!1,this._maxRetries=1,this._keepAlive=!1,this._disposed=!1,this.userAgent=r,this.handlers=n||[],this.requestOptions=i,i&&(i.ignoreSslError!=null&&(this._ignoreSslError=i.ignoreSslError),this._socketTimeout=i.socketTimeout,i.allowRedirects!=null&&(this._allowRedirects=i.allowRedirects),i.allowRedirectDowngrade!=null&&(this._allowRedirectDowngrade=i.allowRedirectDowngrade),i.maxRedirects!=null&&(this._maxRedirects=Math.max(i.maxRedirects,0)),i.keepAlive!=null&&(this._keepAlive=i.keepAlive),i.allowRetries!=null&&(this._allowRetries=i.allowRetries),i.maxRetries!=null&&(this._maxRetries=i.maxRetries))}options(r,n){return Ge(this,void 0,void 0,function*(){return this.request("OPTIONS",r,null,n||{})})}get(r,n){return Ge(this,void 0,void 0,function*(){return this.request("GET",r,null,n||{})})}del(r,n){return Ge(this,void 0,void 0,function*(){return this.request("DELETE",r,null,n||{})})}post(r,n,i){return Ge(this,void 0,void 0,function*(){return this.request("POST",r,n,i||{})})}patch(r,n,i){return Ge(this,void 0,void 0,function*(){return this.request("PATCH",r,n,i||{})})}put(r,n,i){return Ge(this,void 0,void 0,function*(){return this.request("PUT",r,n,i||{})})}head(r,n){return Ge(this,void 0,void 0,function*(){return this.request("HEAD",r,null,n||{})})}sendStream(r,n,i,s){return Ge(this,void 0,void 0,function*(){return this.request(r,n,i,s)})}getJson(r,n={}){return Ge(this,void 0,void 0,function*(){n[lt.Accept]=this._getExistingOrDefaultHeader(n,lt.Accept,zr.ApplicationJson);let i=yield this.get(r,n);return this._processResponse(i,this.requestOptions)})}postJson(r,n,i={}){return Ge(this,void 0,void 0,function*(){let s=JSON.stringify(n,null,2);i[lt.Accept]=this._getExistingOrDefaultHeader(i,lt.Accept,zr.ApplicationJson),i[lt.ContentType]=this._getExistingOrDefaultHeader(i,lt.ContentType,zr.ApplicationJson);let u=yield this.post(r,s,i);return this._processResponse(u,this.requestOptions)})}putJson(r,n,i={}){return Ge(this,void 0,void 0,function*(){let s=JSON.stringify(n,null,2);i[lt.Accept]=this._getExistingOrDefaultHeader(i,lt.Accept,zr.ApplicationJson),i[lt.ContentType]=this._getExistingOrDefaultHeader(i,lt.ContentType,zr.ApplicationJson);let u=yield this.put(r,s,i);return this._processResponse(u,this.requestOptions)})}patchJson(r,n,i={}){return Ge(this,void 0,void 0,function*(){let s=JSON.stringify(n,null,2);i[lt.Accept]=this._getExistingOrDefaultHeader(i,lt.Accept,zr.ApplicationJson),i[lt.ContentType]=this._getExistingOrDefaultHeader(i,lt.ContentType,zr.ApplicationJson);let u=yield this.patch(r,s,i);return this._processResponse(u,this.requestOptions)})}request(r,n,i,s){return Ge(this,void 0,void 0,function*(){if(this._disposed)throw new Error("Client has already been disposed.");let u=new URL(n),l=this._prepareRequest(r,u,s),c=this._allowRetries&&CS.includes(r)?this._maxRetries+1:1,h=0,p;do{if(p=yield this.requestRaw(l,i),p&&p.message&&p.message.statusCode===Gt.Unauthorized){let d;for(let m of this.handlers)if(m.canHandleAuthentication(p)){d=m;break}return d?d.handleAuthentication(this,l,i):p}let y=this._maxRedirects;for(;p.message.statusCode&&kS.includes(p.message.statusCode)&&this._allowRedirects&&y>0;){let d=p.message.headers.location;if(!d)break;let m=new URL(d);if(u.protocol==="https:"&&u.protocol!==m.protocol&&!this._allowRedirectDowngrade)throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.");if(yield p.readBody(),m.hostname!==u.hostname)for(let _ in s)_.toLowerCase()==="authorization"&&delete s[_];l=this._prepareRequest(r,m,s),p=yield this.requestRaw(l,i),y--}if(!p.message.statusCode||!PS.includes(p.message.statusCode))return p;h+=1,h<c&&(yield p.readBody(),yield this._performExponentialBackoff(h))}while(h<c);return p})}dispose(){this._agent&&this._agent.destroy(),this._disposed=!0}requestRaw(r,n){return Ge(this,void 0,void 0,function*(){return new Promise((i,s)=>{function u(l,c){l?s(l):c?i(c):s(new Error("Unknown error"))}this.requestRawWithCallback(r,n,u)})})}requestRawWithCallback(r,n,i){typeof n=="string"&&(r.options.headers||(r.options.headers={}),r.options.headers["Content-Length"]=Buffer.byteLength(n,"utf8"));let s=!1;function u(h,p){s||(s=!0,i(h,p))}let l=r.httpModule.request(r.options,h=>{let p=new is(h);u(void 0,p)}),c;l.on("socket",h=>{c=h}),l.setTimeout(this._socketTimeout||3*6e4,()=>{c&&c.end(),u(new Error(`Request timeout: ${r.options.path}`))}),l.on("error",function(h){u(h)}),n&&typeof n=="string"&&l.write(n,"utf8"),n&&typeof n!="string"?(n.on("close",function(){l.end()}),n.pipe(l)):l.end()}getAgent(r){let n=new URL(r);return this._getAgent(n)}_prepareRequest(r,n,i){let s={};s.parsedUrl=n;let u=s.parsedUrl.protocol==="https:";s.httpModule=u?Du:rs;let l=u?443:80;if(s.options={},s.options.host=s.parsedUrl.hostname,s.options.port=s.parsedUrl.port?parseInt(s.parsedUrl.port):l,s.options.path=(s.parsedUrl.pathname||"")+(s.parsedUrl.search||""),s.options.method=r,s.options.headers=this._mergeHeaders(i),this.userAgent!=null&&(s.options.headers["user-agent"]=this.userAgent),s.options.agent=this._getAgent(s.parsedUrl),this.handlers)for(let c of this.handlers)c.prepareRequest(s.options);return s}_mergeHeaders(r){return this.requestOptions&&this.requestOptions.headers?Object.assign({},os(this.requestOptions.headers),os(r||{})):os(r||{})}_getExistingOrDefaultHeader(r,n,i){let s;return this.requestOptions&&this.requestOptions.headers&&(s=os(this.requestOptions.headers)[n]),r[n]||s||i}_getAgent(r){let n,i=zd.getProxyUrl(r),s=i&&i.hostname;if(this._keepAlive&&s&&(n=this._proxyAgent),this._keepAlive&&!s&&(n=this._agent),n)return n;let u=r.protocol==="https:",l=100;if(this.requestOptions&&(l=this.requestOptions.maxSockets||rs.globalAgent.maxSockets),i&&i.hostname){let c={maxSockets:l,keepAlive:this._keepAlive,proxy:Object.assign(Object.assign({},(i.username||i.password)&&{proxyAuth:`${i.username}:${i.password}`}),{host:i.hostname,port:i.port})},h,p=i.protocol==="https:";u?h=p?ns.httpsOverHttps:ns.httpsOverHttp:h=p?ns.httpOverHttps:ns.httpOverHttp,n=h(c),this._proxyAgent=n}if(this._keepAlive&&!n){let c={keepAlive:this._keepAlive,maxSockets:l};n=u?new Du.Agent(c):new rs.Agent(c),this._agent=n}return n||(n=u?Du.globalAgent:rs.globalAgent),u&&this._ignoreSslError&&(n.options=Object.assign(n.options||{},{rejectUnauthorized:!1})),n}_performExponentialBackoff(r){return Ge(this,void 0,void 0,function*(){r=Math.min(IS,r);let n=jS*Math.pow(2,r);return new Promise(i=>setTimeout(()=>i(),n))})}_processResponse(r,n){return Ge(this,void 0,void 0,function*(){return new Promise((i,s)=>Ge(this,void 0,void 0,function*(){let u=r.message.statusCode||0,l={statusCode:u,result:null,headers:{}};u===Gt.NotFound&&i(l);function c(y,d){if(typeof d=="string"){let m=new Date(d);if(!isNaN(m.valueOf()))return m}return d}let h,p;try{p=yield r.readBody(),p&&p.length>0&&(n&&n.deserializeDates?h=JSON.parse(p,c):h=JSON.parse(p),l.result=h),l.headers=r.message.headers}catch{}if(u>299){let y;h&&h.message?y=h.message:p&&p.length>0?y=p:y=`Failed request: (${u})`;let d=new Un(y,u);d.result=l.result,s(d)}else i(l)}))})}};Pe.HttpClient=zu;var os=e=>Object.keys(e).reduce((r,n)=>(r[n.toLowerCase()]=e[n],r),{})});var Ud=Tt(or=>{"use strict";var Wu=or&&or.__awaiter||function(e,r,n,i){function s(u){return u instanceof n?u:new n(function(l){l(u)})}return new(n||(n=Promise))(function(u,l){function c(y){try{p(i.next(y))}catch(d){l(d)}}function h(y){try{p(i.throw(y))}catch(d){l(d)}}function p(y){y.done?u(y.value):s(y.value).then(c,h)}p((i=i.apply(e,r||[])).next())})};Object.defineProperty(or,"__esModule",{value:!0});or.PersonalAccessTokenCredentialHandler=or.BearerCredentialHandler=or.BasicCredentialHandler=void 0;var Fu=class{constructor(r,n){this.username=r,this.password=n}prepareRequest(r){if(!r.headers)throw Error("The request has no headers");r.headers.Authorization=`Basic ${Buffer.from(`${this.username}:${this.password}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return Wu(this,void 0,void 0,function*(){throw new Error("not implemented")})}};or.BasicCredentialHandler=Fu;var Uu=class{constructor(r){this.token=r}prepareRequest(r){if(!r.headers)throw Error("The request has no headers");r.headers.Authorization=`Bearer ${this.token}`}canHandleAuthentication(){return!1}handleAuthentication(){return Wu(this,void 0,void 0,function*(){throw new Error("not implemented")})}};or.BearerCredentialHandler=Uu;var Hu=class{constructor(r){this.token=r}prepareRequest(r){if(!r.headers)throw Error("The request has no headers");r.headers.Authorization=`Basic ${Buffer.from(`PAT:${this.token}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return Wu(this,void 0,void 0,function*(){throw new Error("not implemented")})}};or.PersonalAccessTokenCredentialHandler=Hu});var Vd=Tt(Hn=>{"use strict";var Hd=Hn&&Hn.__awaiter||function(e,r,n,i){function s(u){return u instanceof n?u:new n(function(l){l(u)})}return new(n||(n=Promise))(function(u,l){function c(y){try{p(i.next(y))}catch(d){l(d)}}function h(y){try{p(i.throw(y))}catch(d){l(d)}}function p(y){y.done?u(y.value):s(y.value).then(c,h)}p((i=i.apply(e,r||[])).next())})};Object.defineProperty(Hn,"__esModule",{value:!0});Hn.OidcClient=void 0;var $S=Fd(),LS=Ud(),Wd=Vu(),Fr=class{static createHttpClient(r=!0,n=10){let i={allowRetries:r,maxRetries:n};return new $S.HttpClient("actions/oidc-client",[new LS.BearerCredentialHandler(Fr.getRequestToken())],i)}static getRequestToken(){let r=process.env.ACTIONS_ID_TOKEN_REQUEST_TOKEN;if(!r)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable");return r}static getIDTokenUrl(){let r=process.env.ACTIONS_ID_TOKEN_REQUEST_URL;if(!r)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable");return r}static getCall(r){var n;return Hd(this,void 0,void 0,function*(){let u=(n=(yield Fr.createHttpClient().getJson(r).catch(l=>{throw new Error(`Failed to get ID Token. 
 
        Error Code : ${l.statusCode}
 
        Error Message: ${l.result.message}`)})).result)===null||n===void 0?void 0:n.value;if(!u)throw new Error("Response json body do not have ID Token field");return u})}static getIDToken(r){return Hd(this,void 0,void 0,function*(){try{let n=Fr.getIDTokenUrl();if(r){let s=encodeURIComponent(r);n=`${n}&audience=${s}`}Wd.debug(`ID token url is ${n}`);let i=yield Fr.getCall(n);return Wd.setSecret(i),i}catch(n){throw new Error(`Error message: ${n.message}`)}})}};Hn.OidcClient=Fr});var Yu=Tt(yt=>{"use strict";var Gu=yt&&yt.__awaiter||function(e,r,n,i){function s(u){return u instanceof n?u:new n(function(l){l(u)})}return new(n||(n=Promise))(function(u,l){function c(y){try{p(i.next(y))}catch(d){l(d)}}function h(y){try{p(i.throw(y))}catch(d){l(d)}}function p(y){y.done?u(y.value):s(y.value).then(c,h)}p((i=i.apply(e,r||[])).next())})};Object.defineProperty(yt,"__esModule",{value:!0});yt.summary=yt.markdownSummary=yt.SUMMARY_DOCS_URL=yt.SUMMARY_ENV_VAR=void 0;var NS=require("os"),Ku=require("fs"),{access:MS,appendFile:BS,writeFile:DS}=Ku.promises;yt.SUMMARY_ENV_VAR="GITHUB_STEP_SUMMARY";yt.SUMMARY_DOCS_URL="https://docs.github.com/actions/using-workflows/workflow-commands-for-github-actions#adding-a-job-summary";var Ju=class{constructor(){this._buffer=""}filePath(){return Gu(this,void 0,void 0,function*(){if(this._filePath)return this._filePath;let r=process.env[yt.SUMMARY_ENV_VAR];if(!r)throw new Error(`Unable to find environment variable for $${yt.SUMMARY_ENV_VAR}. Check if your runtime environment supports job summaries.`);try{yield MS(r,Ku.constants.R_OK|Ku.constants.W_OK)}catch{throw new Error(`Unable to access summary file: '${r}'. Check if the file has correct read/write permissions.`)}return this._filePath=r,this._filePath})}wrap(r,n,i={}){let s=Object.entries(i).map(([u,l])=>` ${u}="${l}"`).join("");return n?`<${r}${s}>${n}</${r}>`:`<${r}${s}>`}write(r){return Gu(this,void 0,void 0,function*(){let n=!!r?.overwrite,i=yield this.filePath();return yield(n?DS:BS)(i,this._buffer,{encoding:"utf8"}),this.emptyBuffer()})}clear(){return Gu(this,void 0,void 0,function*(){return this.emptyBuffer().write({overwrite:!0})})}stringify(){return this._buffer}isEmptyBuffer(){return this._buffer.length===0}emptyBuffer(){return this._buffer="",this}addRaw(r,n=!1){return this._buffer+=r,n?this.addEOL():this}addEOL(){return this.addRaw(NS.EOL)}addCodeBlock(r,n){let i=Object.assign({},n&&{lang:n}),s=this.wrap("pre",this.wrap("code",r),i);return this.addRaw(s).addEOL()}addList(r,n=!1){let i=n?"ol":"ul",s=r.map(l=>this.wrap("li",l)).join(""),u=this.wrap(i,s);return this.addRaw(u).addEOL()}addTable(r){let n=r.map(s=>{let u=s.map(l=>{if(typeof l=="string")return this.wrap("td",l);let{header:c,data:h,colspan:p,rowspan:y}=l,d=c?"th":"td",m=Object.assign(Object.assign({},p&&{colspan:p}),y&&{rowspan:y});return this.wrap(d,h,m)}).join("");return this.wrap("tr",u)}).join(""),i=this.wrap("table",n);return this.addRaw(i).addEOL()}addDetails(r,n){let i=this.wrap("details",this.wrap("summary",r)+n);return this.addRaw(i).addEOL()}addImage(r,n,i){let{width:s,height:u}=i||{},l=Object.assign(Object.assign({},s&&{width:s}),u&&{height:u}),c=this.wrap("img",null,Object.assign({src:r,alt:n},l));return this.addRaw(c).addEOL()}addHeading(r,n){let i=`h${n}`,s=["h1","h2","h3","h4","h5","h6"].includes(i)?i:"h1",u=this.wrap(s,r);return this.addRaw(u).addEOL()}addSeparator(){let r=this.wrap("hr",null);return this.addRaw(r).addEOL()}addBreak(){let r=this.wrap("br",null);return this.addRaw(r).addEOL()}addQuote(r,n){let i=Object.assign({},n&&{cite:n}),s=this.wrap("blockquote",r,i);return this.addRaw(s).addEOL()}addLink(r,n){let i=this.wrap("a",r,{href:n});return this.addRaw(i).addEOL()}},Gd=new Ju;yt.markdownSummary=Gd;yt.summary=Gd});var Kd=Tt(gt=>{"use strict";var zS=gt&&gt.__createBinding||(Object.create?function(e,r,n,i){i===void 0&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return r[n]}})}:function(e,r,n,i){i===void 0&&(i=n),e[i]=r[n]}),FS=gt&&gt.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),US=gt&&gt.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var n in e)n!=="default"&&Object.hasOwnProperty.call(e,n)&&zS(r,e,n);return FS(r,e),r};Object.defineProperty(gt,"__esModule",{value:!0});gt.toPlatformPath=gt.toWin32Path=gt.toPosixPath=void 0;var HS=US(require("path"));function WS(e){return e.replace(/[\\]/g,"/")}gt.toPosixPath=WS;function VS(e){return e.replace(/[/]/g,"\\")}gt.toWin32Path=VS;function GS(e){return e.replace(/[/\\]/g,HS.sep)}gt.toPlatformPath=GS});var Vu=Tt(le=>{"use strict";var KS=le&&le.__createBinding||(Object.create?function(e,r,n,i){i===void 0&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return r[n]}})}:function(e,r,n,i){i===void 0&&(i=n),e[i]=r[n]}),JS=le&&le.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),Jd=le&&le.__importStar||function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var n in e)n!=="default"&&Object.hasOwnProperty.call(e,n)&&KS(r,e,n);return JS(r,e),r},Yd=le&&le.__awaiter||function(e,r,n,i){function s(u){return u instanceof n?u:new n(function(l){l(u)})}return new(n||(n=Promise))(function(u,l){function c(y){try{p(i.next(y))}catch(d){l(d)}}function h(y){try{p(i.throw(y))}catch(d){l(d)}}function p(y){y.done?u(y.value):s(y.value).then(c,h)}p((i=i.apply(e,r||[])).next())})};Object.defineProperty(le,"__esModule",{value:!0});le.getIDToken=le.getState=le.saveState=le.group=le.endGroup=le.startGroup=le.info=le.notice=le.warning=le.error=le.debug=le.isDebug=le.setFailed=le.setCommandEcho=le.setOutput=le.getBooleanInput=le.getMultilineInput=le.getInput=le.addPath=le.setSecret=le.exportVariable=le.ExitCode=void 0;var Nt=od(),nn=Id(),Wn=Qi(),Qd=Jd(require("os")),YS=Jd(require("path")),QS=Vd(),Xd;(function(e){e[e.Success=0]="Success",e[e.Failure=1]="Failure"})(Xd=le.ExitCode||(le.ExitCode={}));function XS(e,r){let n=Wn.toCommandValue(r);if(process.env[e]=n,process.env.GITHUB_ENV||"")return nn.issueFileCommand("ENV",nn.prepareKeyValueMessage(e,r));Nt.issueCommand("set-env",{name:e},n)}le.exportVariable=XS;function ZS(e){Nt.issueCommand("add-mask",{},e)}le.setSecret=ZS;function eT(e){process.env.GITHUB_PATH||""?nn.issueFileCommand("PATH",e):Nt.issueCommand("add-path",{},e),process.env.PATH=`${e}${YS.delimiter}${process.env.PATH}`}le.addPath=eT;function Qu(e,r){let n=process.env[`INPUT_${e.replace(/ /g,"_").toUpperCase()}`]||"";if(r&&r.required&&!n)throw new Error(`Input required and not supplied: ${e}`);return r&&r.trimWhitespace===!1?n:n.trim()}le.getInput=Qu;function tT(e,r){let n=Qu(e,r).split(`
`).filter(i=>i!=="");return r&&r.trimWhitespace===!1?n:n.map(i=>i.trim())}le.getMultilineInput=tT;function rT(e,r){let n=["true","True","TRUE"],i=["false","False","FALSE"],s=Qu(e,r);if(n.includes(s))return!0;if(i.includes(s))return!1;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${e}
Support boolean input list: \`true | True | TRUE | false | False | FALSE\``)}le.getBooleanInput=rT;function nT(e,r){if(process.env.GITHUB_OUTPUT||"")return nn.issueFileCommand("OUTPUT",nn.prepareKeyValueMessage(e,r));process.stdout.write(Qd.EOL),Nt.issueCommand("set-output",{name:e},Wn.toCommandValue(r))}le.setOutput=nT;function oT(e){Nt.issue("echo",e?"on":"off")}le.setCommandEcho=oT;function iT(e){process.exitCode=Xd.Failure,Zd(e)}le.setFailed=iT;function sT(){return process.env.RUNNER_DEBUG==="1"}le.isDebug=sT;function aT(e){Nt.issueCommand("debug",{},e)}le.debug=aT;function Zd(e,r={}){Nt.issueCommand("error",Wn.toCommandProperties(r),e instanceof Error?e.toString():e)}le.error=Zd;function uT(e,r={}){Nt.issueCommand("warning",Wn.toCommandProperties(r),e instanceof Error?e.toString():e)}le.warning=uT;function lT(e,r={}){Nt.issueCommand("notice",Wn.toCommandProperties(r),e instanceof Error?e.toString():e)}le.notice=lT;function cT(e){process.stdout.write(e+Qd.EOL)}le.info=cT;function ep(e){Nt.issue("group",e)}le.startGroup=ep;function tp(){Nt.issue("endgroup")}le.endGroup=tp;function hT(e,r){return Yd(this,void 0,void 0,function*(){ep(e);let n;try{n=yield r()}finally{tp()}return n})}le.group=hT;function fT(e,r){if(process.env.GITHUB_STATE||"")return nn.issueFileCommand("STATE",nn.prepareKeyValueMessage(e,r));Nt.issueCommand("save-state",{name:e},Wn.toCommandValue(r))}le.saveState=fT;function dT(e){return process.env[`STATE_${e}`]||""}le.getState=dT;function pT(e){return Yd(this,void 0,void 0,function*(){return yield QS.OidcClient.getIDToken(e)})}le.getIDToken=pT;var mT=Yu();Object.defineProperty(le,"summary",{enumerable:!0,get:function(){return mT.summary}});var yT=Yu();Object.defineProperty(le,"markdownSummary",{enumerable:!0,get:function(){return yT.markdownSummary}});var Xu=Kd();Object.defineProperty(le,"toPosixPath",{enumerable:!0,get:function(){return Xu.toPosixPath}});Object.defineProperty(le,"toWin32Path",{enumerable:!0,get:function(){return Xu.toWin32Path}});Object.defineProperty(le,"toPlatformPath",{enumerable:!0,get:function(){return Xu.toPlatformPath}})});var Qy=Tt((Gk,Yy)=>{var gT=Object.create,ei=Object.defineProperty,vT=Object.getOwnPropertyDescriptor,bT=Object.getOwnPropertyNames,js=Object.getOwnPropertySymbols,_T=Object.getPrototypeOf,ql=Object.prototype.hasOwnProperty,nm=Object.prototype.propertyIsEnumerable,rp=(e,r,n)=>r in e?ei(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n,$l=(e,r)=>{for(var n in r||={})ql.call(r,n)&&rp(e,n,r[n]);if(js)for(var n of js(r))nm.call(r,n)&&rp(e,n,r[n]);return e},Ll=(e,r)=>{var n={};for(var i in e)ql.call(e,i)&&r.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&js)for(var i of js(e))r.indexOf(i)<0&&nm.call(e,i)&&(n[i]=e[i]);return n},Q=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports),wT=(e,r)=>{for(var n in r)ei(e,n,{get:r[n],enumerable:!0})},om=(e,r,n,i)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of bT(r))!ql.call(e,s)&&s!==n&&ei(e,s,{get:()=>r[s],enumerable:!(i=vT(r,s))||i.enumerable});return e},He=(e,r,n)=>(n=e!=null?gT(_T(e)):{},om(r||!e||!e.__esModule?ei(n,"default",{value:e,enumerable:!0}):n,e)),ET=e=>om(ei({},"__esModule",{value:!0}),e),Tn=(e,r,n)=>new Promise((i,s)=>{var u=h=>{try{c(n.next(h))}catch(p){s(p)}},l=h=>{try{c(n.throw(h))}catch(p){s(p)}},c=h=>h.done?i(h.value):Promise.resolve(h.value).then(u,l);c((n=n.apply(e,r)).next())}),ST=Q((e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});function n(s){return s.encrypted}var i=(s,u)=>{let l;typeof u=="function"?l={connect:u}:l=u;let c=typeof l.connect=="function",h=typeof l.secureConnect=="function",p=typeof l.close=="function",y=()=>{c&&l.connect(),n(s)&&h&&(s.authorized?l.secureConnect():s.authorizationError||s.once("secureConnect",l.secureConnect)),p&&s.once("close",l.close)};s.writable&&!s.connecting?y():s.connecting?s.once("connect",y):s.destroyed&&p&&l.close(s._hadError)};e.default=i,r.exports=i,r.exports.default=i}),TT=Q((e,r)=>{"use strict";var{PassThrough:n}=require("stream");r.exports=i=>{i={...i};let{array:s}=i,{encoding:u}=i,l=u==="buffer",c=!1;s?c=!(u||l):u=u||"utf8",l&&(u=null);let h=new n({objectMode:c});u&&h.setEncoding(u);let p=0,y=[];return h.on("data",d=>{y.push(d),c?p=y.length:p+=d.length}),h.getBufferedValue=()=>s?y:l?Buffer.concat(y,p):y.join(""),h.getBufferedLength=()=>p,h}}),im=Q((e,r)=>{"use strict";var{constants:n}=require("buffer"),i=require("stream"),{promisify:s}=require("util"),u=TT(),l=s(i.pipeline),c=class extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}};async function h(p,y){if(!p)throw new Error("Expected a stream");y={maxBuffer:1/0,...y};let{maxBuffer:d}=y,m=u(y);return await new Promise((_,A)=>{let P=R=>{R&&m.getBufferedLength()<=n.MAX_LENGTH&&(R.bufferedData=m.getBufferedValue()),A(R)};(async()=>{try{await l(p,m),_()}catch(R){P(R)}})(),m.on("data",()=>{m.getBufferedLength()>d&&P(new c)})}),m.getBufferedValue()}r.exports=h,r.exports.buffer=(p,y)=>h(p,{...y,encoding:"buffer"}),r.exports.array=(p,y)=>h(p,{...y,array:!0}),r.exports.MaxBufferError=c}),RT=Q((e,r)=>{"use strict";var n=new Set([200,203,204,206,300,301,404,405,410,414,501]),i=new Set([200,203,204,300,301,302,303,307,308,404,405,410,414,501]),s=new Set([500,502,503,504]),u={date:!0,connection:!0,"keep-alive":!0,"proxy-authenticate":!0,"proxy-authorization":!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0},l={"content-length":!0,"content-encoding":!0,"transfer-encoding":!0,"content-range":!0};function c(d){let m=parseInt(d,10);return isFinite(m)?m:0}function h(d){return d?s.has(d.status):!0}function p(d){let m={};if(!d)return m;let _=d.trim().split(/\s*,\s*/);for(let A of _){let[P,R]=A.split(/\s*=\s*/,2);m[P]=R===void 0?!0:R.replace(/^"|"$/g,"")}return m}function y(d){let m=[];for(let _ in d){let A=d[_];m.push(A===!0?_:_+"="+A)}if(m.length)return m.join(", ")}r.exports=class{constructor(d,m,{shared:_,cacheHeuristic:A,immutableMinTimeToLive:P,ignoreCargoCult:R,_fromObject:V}={}){if(V){this._fromObject(V);return}if(!m||!m.headers)throw Error("Response headers missing");this._assertRequestHasHeaders(d),this._responseTime=this.now(),this._isShared=_!==!1,this._cacheHeuristic=A!==void 0?A:.1,this._immutableMinTtl=P!==void 0?P:24*3600*1e3,this._status="status"in m?m.status:200,this._resHeaders=m.headers,this._rescc=p(m.headers["cache-control"]),this._method="method"in d?d.method:"GET",this._url=d.url,this._host=d.headers.host,this._noAuthorization=!d.headers.authorization,this._reqHeaders=m.headers.vary?d.headers:null,this._reqcc=p(d.headers["cache-control"]),R&&"pre-check"in this._rescc&&"post-check"in this._rescc&&(delete this._rescc["pre-check"],delete this._rescc["post-check"],delete this._rescc["no-cache"],delete this._rescc["no-store"],delete this._rescc["must-revalidate"],this._resHeaders=Object.assign({},this._resHeaders,{"cache-control":y(this._rescc)}),delete this._resHeaders.expires,delete this._resHeaders.pragma),m.headers["cache-control"]==null&&/no-cache/.test(m.headers.pragma)&&(this._rescc["no-cache"]=!0)}now(){return Date.now()}storable(){return!!(!this._reqcc["no-store"]&&(this._method==="GET"||this._method==="HEAD"||this._method==="POST"&&this._hasExplicitExpiration())&&i.has(this._status)&&!this._rescc["no-store"]&&(!this._isShared||!this._rescc.private)&&(!this._isShared||this._noAuthorization||this._allowsStoringAuthenticated())&&(this._resHeaders.expires||this._rescc["max-age"]||this._isShared&&this._rescc["s-maxage"]||this._rescc.public||n.has(this._status)))}_hasExplicitExpiration(){return this._isShared&&this._rescc["s-maxage"]||this._rescc["max-age"]||this._resHeaders.expires}_assertRequestHasHeaders(d){if(!d||!d.headers)throw Error("Request headers missing")}satisfiesWithoutRevalidation(d){this._assertRequestHasHeaders(d);let m=p(d.headers["cache-control"]);return m["no-cache"]||/no-cache/.test(d.headers.pragma)||m["max-age"]&&this.age()>m["max-age"]||m["min-fresh"]&&this.timeToLive()<1e3*m["min-fresh"]||this.stale()&&!(m["max-stale"]&&!this._rescc["must-revalidate"]&&(m["max-stale"]===!0||m["max-stale"]>this.age()-this.maxAge()))?!1:this._requestMatches(d,!1)}_requestMatches(d,m){return(!this._url||this._url===d.url)&&this._host===d.headers.host&&(!d.method||this._method===d.method||m&&d.method==="HEAD")&&this._varyMatches(d)}_allowsStoringAuthenticated(){return this._rescc["must-revalidate"]||this._rescc.public||this._rescc["s-maxage"]}_varyMatches(d){if(!this._resHeaders.vary)return!0;if(this._resHeaders.vary==="*")return!1;let m=this._resHeaders.vary.trim().toLowerCase().split(/\s*,\s*/);for(let _ of m)if(d.headers[_]!==this._reqHeaders[_])return!1;return!0}_copyWithoutHopByHopHeaders(d){let m={};for(let _ in d)u[_]||(m[_]=d[_]);if(d.connection){let _=d.connection.trim().split(/\s*,\s*/);for(let A of _)delete m[A]}if(m.warning){let _=m.warning.split(/,/).filter(A=>!/^\s*1[0-9][0-9]/.test(A));_.length?m.warning=_.join(",").trim():delete m.warning}return m}responseHeaders(){let d=this._copyWithoutHopByHopHeaders(this._resHeaders),m=this.age();return m>3600*24&&!this._hasExplicitExpiration()&&this.maxAge()>3600*24&&(d.warning=(d.warning?`${d.warning}, `:"")+'113 - "rfc7234 5.5.4"'),d.age=`${Math.round(m)}`,d.date=new Date(this.now()).toUTCString(),d}date(){let d=Date.parse(this._resHeaders.date);return isFinite(d)?d:this._responseTime}age(){let d=this._ageValue(),m=(this.now()-this._responseTime)/1e3;return d+m}_ageValue(){return c(this._resHeaders.age)}maxAge(){if(!this.storable()||this._rescc["no-cache"]||this._isShared&&this._resHeaders["set-cookie"]&&!this._rescc.public&&!this._rescc.immutable||this._resHeaders.vary==="*")return 0;if(this._isShared){if(this._rescc["proxy-revalidate"])return 0;if(this._rescc["s-maxage"])return c(this._rescc["s-maxage"])}if(this._rescc["max-age"])return c(this._rescc["max-age"]);let d=this._rescc.immutable?this._immutableMinTtl:0,m=this.date();if(this._resHeaders.expires){let _=Date.parse(this._resHeaders.expires);return Number.isNaN(_)||_<m?0:Math.max(d,(_-m)/1e3)}if(this._resHeaders["last-modified"]){let _=Date.parse(this._resHeaders["last-modified"]);if(isFinite(_)&&m>_)return Math.max(d,(m-_)/1e3*this._cacheHeuristic)}return d}timeToLive(){let d=this.maxAge()-this.age(),m=d+c(this._rescc["stale-if-error"]),_=d+c(this._rescc["stale-while-revalidate"]);return Math.max(0,d,m,_)*1e3}stale(){return this.maxAge()<=this.age()}_useStaleIfError(){return this.maxAge()+c(this._rescc["stale-if-error"])>this.age()}useStaleWhileRevalidate(){return this.maxAge()+c(this._rescc["stale-while-revalidate"])>this.age()}static fromObject(d){return new this(void 0,void 0,{_fromObject:d})}_fromObject(d){if(this._responseTime)throw Error("Reinitialized");if(!d||d.v!==1)throw Error("Invalid serialization");this._responseTime=d.t,this._isShared=d.sh,this._cacheHeuristic=d.ch,this._immutableMinTtl=d.imm!==void 0?d.imm:24*3600*1e3,this._status=d.st,this._resHeaders=d.resh,this._rescc=d.rescc,this._method=d.m,this._url=d.u,this._host=d.h,this._noAuthorization=d.a,this._reqHeaders=d.reqh,this._reqcc=d.reqcc}toObject(){return{v:1,t:this._responseTime,sh:this._isShared,ch:this._cacheHeuristic,imm:this._immutableMinTtl,st:this._status,resh:this._resHeaders,rescc:this._rescc,m:this._method,u:this._url,h:this._host,a:this._noAuthorization,reqh:this._reqHeaders,reqcc:this._reqcc}}revalidationHeaders(d){this._assertRequestHasHeaders(d);let m=this._copyWithoutHopByHopHeaders(d.headers);if(delete m["if-range"],!this._requestMatches(d,!0)||!this.storable())return delete m["if-none-match"],delete m["if-modified-since"],m;if(this._resHeaders.etag&&(m["if-none-match"]=m["if-none-match"]?`${m["if-none-match"]}, ${this._resHeaders.etag}`:this._resHeaders.etag),m["accept-ranges"]||m["if-match"]||m["if-unmodified-since"]||this._method&&this._method!="GET"){if(delete m["if-modified-since"],m["if-none-match"]){let _=m["if-none-match"].split(/,/).filter(A=>!/^\s*W\//.test(A));_.length?m["if-none-match"]=_.join(",").trim():delete m["if-none-match"]}}else this._resHeaders["last-modified"]&&!m["if-modified-since"]&&(m["if-modified-since"]=this._resHeaders["last-modified"]);return m}revalidatedPolicy(d,m){if(this._assertRequestHasHeaders(d),this._useStaleIfError()&&h(m))return{modified:!1,matches:!1,policy:this};if(!m||!m.headers)throw Error("Response headers missing");let _=!1;if(m.status!==void 0&&m.status!=304?_=!1:m.headers.etag&&!/^\s*W\//.test(m.headers.etag)?_=this._resHeaders.etag&&this._resHeaders.etag.replace(/^\s*W\//,"")===m.headers.etag:this._resHeaders.etag&&m.headers.etag?_=this._resHeaders.etag.replace(/^\s*W\//,"")===m.headers.etag.replace(/^\s*W\//,""):this._resHeaders["last-modified"]?_=this._resHeaders["last-modified"]===m.headers["last-modified"]:!this._resHeaders.etag&&!this._resHeaders["last-modified"]&&!m.headers.etag&&!m.headers["last-modified"]&&(_=!0),!_)return{policy:new this.constructor(d,m),modified:m.status!=304,matches:!1};let A={};for(let R in this._resHeaders)A[R]=R in m.headers&&!l[R]?m.headers[R]:this._resHeaders[R];let P=Object.assign({},m,{status:this._status,method:this._method,headers:A});return{policy:new this.constructor(d,P,{shared:this._isShared,cacheHeuristic:this._cacheHeuristic,immutableMinTimeToLive:this._immutableMinTtl}),modified:!1,matches:!0}}}}),OT=Q(e=>{e.stringify=function r(n){if(typeof n>"u")return n;if(n&&Buffer.isBuffer(n))return JSON.stringify(":base64:"+n.toString("base64"));if(n&&n.toJSON&&(n=n.toJSON()),n&&typeof n=="object"){var i="",s=Array.isArray(n);i=s?"[":"{";var u=!0;for(var l in n){var c=typeof n[l]=="function"||!s&&typeof n[l]>"u";Object.hasOwnProperty.call(n,l)&&!c&&(u||(i+=","),u=!1,s?n[l]==null?i+="null":i+=r(n[l]):n[l]!==void 0&&(i+=r(l)+":"+r(n[l])))}return i+=s?"]":"}",i}else return typeof n=="string"?JSON.stringify(/^:/.test(n)?":"+n:n):typeof n>"u"?"null":JSON.stringify(n)},e.parse=function(r){return JSON.parse(r,function(n,i){return typeof i=="string"?/^:base64:/.test(i)?Buffer.from(i.substring(8),"base64"):/^:/.test(i)?i.substring(1):i:i})}}),xT=Q((e,r)=>{"use strict";var n=require("events"),i=OT(),s=c=>{let h={redis:"@keyv/redis",rediss:"@keyv/redis",mongodb:"@keyv/mongo",mongo:"@keyv/mongo",sqlite:"@keyv/sqlite",postgresql:"@keyv/postgres",postgres:"@keyv/postgres",mysql:"@keyv/mysql",etcd:"@keyv/etcd",offline:"@keyv/offline",tiered:"@keyv/tiered"};if(c.adapter||c.uri){let p=c.adapter||/^[^:+]*/.exec(c.uri)[0];return new(require(h[p]))(c)}return new Map},u=["sqlite","postgres","mysql","mongo","redis","tiered"],l=class extends n{constructor(c,{emitErrors:h=!0,...p}={}){if(super(),this.opts={namespace:"keyv",serialize:i.stringify,deserialize:i.parse,...typeof c=="string"?{uri:c}:c,...p},!this.opts.store){let d={...this.opts};this.opts.store=s(d)}if(this.opts.compression){let d=this.opts.compression;this.opts.serialize=d.serialize.bind(d),this.opts.deserialize=d.deserialize.bind(d)}typeof this.opts.store.on=="function"&&h&&this.opts.store.on("error",d=>this.emit("error",d)),this.opts.store.namespace=this.opts.namespace;let y=d=>async function*(){for await(let[m,_]of typeof d=="function"?d(this.opts.store.namespace):d){let A=this.opts.deserialize(_);if(!(this.opts.store.namespace&&!m.includes(this.opts.store.namespace))){if(typeof A.expires=="number"&&Date.now()>A.expires){this.delete(m);continue}yield[this._getKeyUnprefix(m),A.value]}}};typeof this.opts.store[Symbol.iterator]=="function"&&this.opts.store instanceof Map?this.iterator=y(this.opts.store):typeof this.opts.store.iterator=="function"&&this.opts.store.opts&&this._checkIterableAdaptar()&&(this.iterator=y(this.opts.store.iterator.bind(this.opts.store)))}_checkIterableAdaptar(){return u.includes(this.opts.store.opts.dialect)||u.findIndex(c=>this.opts.store.opts.url.includes(c))>=0}_getKeyPrefix(c){return`${this.opts.namespace}:${c}`}_getKeyPrefixArray(c){return c.map(h=>`${this.opts.namespace}:${h}`)}_getKeyUnprefix(c){return c.split(":").splice(1).join(":")}get(c,h){let{store:p}=this.opts,y=Array.isArray(c),d=y?this._getKeyPrefixArray(c):this._getKeyPrefix(c);if(y&&p.getMany===void 0){let m=[];for(let _ of d)m.push(Promise.resolve().then(()=>p.get(_)).then(A=>typeof A=="string"?this.opts.deserialize(A):this.opts.compression?this.opts.deserialize(A):A).then(A=>{if(A!=null)return typeof A.expires=="number"&&Date.now()>A.expires?this.delete(_).then(()=>{}):h&&h.raw?A:A.value}));return Promise.allSettled(m).then(_=>{let A=[];for(let P of _)A.push(P.value);return A})}return Promise.resolve().then(()=>y?p.getMany(d):p.get(d)).then(m=>typeof m=="string"?this.opts.deserialize(m):this.opts.compression?this.opts.deserialize(m):m).then(m=>{if(m!=null){if(y){let _=[];for(let A of m){if(typeof A=="string"&&(A=this.opts.deserialize(A)),A==null){_.push(void 0);continue}typeof A.expires=="number"&&Date.now()>A.expires?(this.delete(c).then(()=>{}),_.push(void 0)):_.push(h&&h.raw?A:A.value)}return _}return typeof m.expires=="number"&&Date.now()>m.expires?this.delete(c).then(()=>{}):h&&h.raw?m:m.value}})}set(c,h,p){let y=this._getKeyPrefix(c);typeof p>"u"&&(p=this.opts.ttl),p===0&&(p=void 0);let{store:d}=this.opts;return Promise.resolve().then(()=>{let m=typeof p=="number"?Date.now()+p:null;return typeof h=="symbol"&&this.emit("error","symbol cannot be serialized"),h={value:h,expires:m},this.opts.serialize(h)}).then(m=>d.set(y,m,p)).then(()=>!0)}delete(c){let{store:h}=this.opts;if(Array.isArray(c)){let y=this._getKeyPrefixArray(c);if(h.deleteMany===void 0){let d=[];for(let m of y)d.push(h.delete(m));return Promise.allSettled(d).then(m=>m.every(_=>_.value===!0))}return Promise.resolve().then(()=>h.deleteMany(y))}let p=this._getKeyPrefix(c);return Promise.resolve().then(()=>h.delete(p))}clear(){let{store:c}=this.opts;return Promise.resolve().then(()=>c.clear())}has(c){let h=this._getKeyPrefix(c),{store:p}=this.opts;return Promise.resolve().then(async()=>typeof p.has=="function"?p.has(h):await p.get(h)!==void 0)}disconnect(){let{store:c}=this.opts;if(typeof c.disconnect=="function")return c.disconnect()}};r.exports=l}),AT=Q((e,r)=>{"use strict";var n=["aborted","complete","headers","httpVersion","httpVersionMinor","httpVersionMajor","method","rawHeaders","rawTrailers","setTimeout","socket","statusCode","statusMessage","trailers","url"];r.exports=(i,s)=>{if(s._readableState.autoDestroy)throw new Error("The second stream must have the `autoDestroy` option set to `false`");let u=new Set(Object.keys(i).concat(n)),l={};for(let c of u)c in s||(l[c]={get(){let h=i[c];return typeof h=="function"?h.bind(i):h},set(h){i[c]=h},enumerable:!0,configurable:!1});return Object.defineProperties(s,l),i.once("aborted",()=>{s.destroy(),s.emit("aborted")}),i.once("close",()=>{i.complete&&s.readable?s.once("end",()=>{s.emit("close")}):s.emit("close")}),s}}),kT=Q((e,r)=>{"use strict";var{Transform:n,PassThrough:i}=require("stream"),s=require("zlib"),u=AT();r.exports=l=>{let c=(l.headers["content-encoding"]||"").toLowerCase();if(!["gzip","deflate","br"].includes(c))return l;let h=c==="br";if(h&&typeof s.createBrotliDecompress!="function")return l.destroy(new Error("Brotli is not supported on Node.js < 12")),l;let p=!0,y=new n({transform(_,A,P){p=!1,P(null,_)},flush(_){_()}}),d=new i({autoDestroy:!1,destroy(_,A){l.destroy(),A(_)}}),m=h?s.createBrotliDecompress():s.createUnzip();return m.once("error",_=>{if(p&&!l.readable){d.end();return}d.destroy(_)}),u(l,d),l.pipe(y).pipe(m).pipe(d),d}}),sm=Q((e,r)=>{"use strict";var n=class{constructor(i={}){if(!(i.maxSize&&i.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=i.maxSize,this.onEviction=i.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(i,s){if(this.cache.set(i,s),this._size++,this._size>=this.maxSize){if(this._size=0,typeof this.onEviction=="function")for(let[u,l]of this.oldCache.entries())this.onEviction(u,l);this.oldCache=this.cache,this.cache=new Map}}get(i){if(this.cache.has(i))return this.cache.get(i);if(this.oldCache.has(i)){let s=this.oldCache.get(i);return this.oldCache.delete(i),this._set(i,s),s}}set(i,s){return this.cache.has(i)?this.cache.set(i,s):this._set(i,s),this}has(i){return this.cache.has(i)||this.oldCache.has(i)}peek(i){if(this.cache.has(i))return this.cache.get(i);if(this.oldCache.has(i))return this.oldCache.get(i)}delete(i){let s=this.cache.delete(i);return s&&this._size--,this.oldCache.delete(i)||s}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(let[i]of this)yield i}*values(){for(let[,i]of this)yield i}*[Symbol.iterator](){for(let i of this.cache)yield i;for(let i of this.oldCache){let[s]=i;this.cache.has(s)||(yield i)}}get size(){let i=0;for(let s of this.oldCache.keys())this.cache.has(s)||i++;return Math.min(this._size+i,this.maxSize)}};r.exports=n}),am=Q((e,r)=>{"use strict";r.exports=n=>{if(n.listenerCount("error")!==0)return n;n.__destroy=n._destroy,n._destroy=(...s)=>{let u=s.pop();n.__destroy(...s,async l=>{await Promise.resolve(),u(l)})};let i=s=>{Promise.resolve().then(()=>{n.emit("error",s)})};return n.once("error",i),Promise.resolve().then(()=>{n.off("error",i)}),n}}),oo=Q((e,r)=>{"use strict";var{URL:n}=require("url"),i=require("events"),s=require("tls"),u=require("http2"),l=sm(),c=am(),h=Symbol("currentStreamCount"),p=Symbol("request"),y=Symbol("cachedOriginSet"),d=Symbol("gracefullyClosing"),m=Symbol("length"),_=["createConnection","maxDeflateDynamicTableSize","maxSettings","maxSessionMemory","maxHeaderListPairs","maxOutstandingPings","maxReservedRemoteStreams","maxSendHeaderBlockLength","paddingStrategy","peerMaxConcurrentStreams","settings","family","localAddress","rejectUnauthorized","pskCallback","minDHSize","path","socket","ca","cert","sigalgs","ciphers","clientCertEngine","crl","dhparam","ecdhCurve","honorCipherOrder","key","privateKeyEngine","privateKeyIdentifier","maxVersion","minVersion","pfx","secureOptions","secureProtocol","sessionIdContext","ticketKeys"],A=(B,v,q)=>{let C=0,k=B.length;for(;C<k;){let L=C+k>>>1;q(B[L],v)?C=L+1:k=L}return C},P=(B,v)=>B.remoteSettings.maxConcurrentStreams>v.remoteSettings.maxConcurrentStreams,R=(B,v)=>{for(let q=0;q<B.length;q++){let C=B[q];C[y].length>0&&C[y].length<v[y].length&&C[y].every(k=>v[y].includes(k))&&C[h]+v[h]<=v.remoteSettings.maxConcurrentStreams&&z(C)}},V=(B,v)=>{for(let q=0;q<B.length;q++){let C=B[q];if(v[y].length>0&&v[y].length<C[y].length&&v[y].every(k=>C[y].includes(k))&&v[h]+C[h]<=C.remoteSettings.maxConcurrentStreams)return z(v),!0}return!1},z=B=>{B[d]=!0,B[h]===0&&B.close()},S=class extends i{constructor({timeout:B=0,maxSessions:v=Number.POSITIVE_INFINITY,maxEmptySessions:q=10,maxCachedTlsSessions:C=100}={}){super(),this.sessions={},this.queue={},this.timeout=B,this.maxSessions=v,this.maxEmptySessions=q,this._emptySessionCount=0,this._sessionCount=0,this.settings={enablePush:!1,initialWindowSize:1024*1024*32},this.tlsSessionCache=new l({maxSize:C})}get protocol(){return"https:"}normalizeOptions(B){let v="";for(let q=0;q<_.length;q++){let C=_[q];v+=":",B&&B[C]!==void 0&&(v+=B[C])}return v}_processQueue(){if(this._sessionCount>=this.maxSessions){this.closeEmptySessions(this.maxSessions-this._sessionCount+1);return}for(let B in this.queue)for(let v in this.queue[B]){let q=this.queue[B][v];q.completed||(q.completed=!0,q())}}_isBetterSession(B,v){return B>v}_accept(B,v,q,C){let k=0;for(;k<v.length&&B[h]<B.remoteSettings.maxConcurrentStreams;)v[k].resolve(B),k++;v.splice(0,k),v.length>0&&(this.getSession(q,C,v),v.length=0)}getSession(B,v,q){return new Promise((C,k)=>{Array.isArray(q)&&q.length>0?(q=[...q],C()):q=[{resolve:C,reject:k}];try{if(typeof B=="string")B=new n(B);else if(!(B instanceof n))throw new TypeError("The `origin` argument needs to be a string or an URL object");if(v){let{servername:T}=v,{hostname:E}=B;if(T&&E!==T)throw new Error(`Origin ${E} differs from servername ${T}`)}}catch(T){for(let E=0;E<q.length;E++)q[E].reject(T);return}let L=this.normalizeOptions(v),H=B.origin;if(L in this.sessions){let T=this.sessions[L],E=-1,N=-1,F;for(let j=0;j<T.length;j++){let W=T[j],ee=W.remoteSettings.maxConcurrentStreams;if(ee<E)break;if(!W[y].includes(H))continue;let se=W[h];se>=ee||W[d]||W.destroyed||(F||(E=ee),this._isBetterSession(se,N)&&(F=W,N=se))}if(F){this._accept(F,q,H,v);return}}if(L in this.queue){if(H in this.queue[L]){this.queue[L][H].listeners.push(...q);return}}else this.queue[L]={[m]:0};let Y=()=>{L in this.queue&&this.queue[L][H]===ne&&(delete this.queue[L][H],--this.queue[L][m]===0&&delete this.queue[L])},ne=async()=>{this._sessionCount++;let T=`${H}:${L}`,E=!1,N;try{let F={...v};F.settings===void 0&&(F.settings=this.settings),F.session===void 0&&(F.session=this.tlsSessionCache.get(T)),N=await(F.createConnection||this.createConnection).call(this,B,F),F.createConnection=()=>N;let j=u.connect(B,F);j[h]=0,j[d]=!1;let W=()=>{let{socket:te}=j,ie;return te.servername===!1?(te.servername=te.remoteAddress,ie=j.originSet,te.servername=!1):ie=j.originSet,ie},ee=()=>j[h]<j.remoteSettings.maxConcurrentStreams;j.socket.once("session",te=>{this.tlsSessionCache.set(T,te)}),j.once("error",te=>{for(let ie=0;ie<q.length;ie++)q[ie].reject(te);this.tlsSessionCache.delete(T)}),j.setTimeout(this.timeout,()=>{j.destroy()}),j.once("close",()=>{if(this._sessionCount--,E){this._emptySessionCount--;let te=this.sessions[L];te.length===1?delete this.sessions[L]:te.splice(te.indexOf(j),1)}else{Y();let te=new Error("Session closed without receiving a SETTINGS frame");te.code="HTTP2WRAPPER_NOSETTINGS";for(let ie=0;ie<q.length;ie++)q[ie].reject(te)}this._processQueue()});let se=()=>{let te=this.queue[L];if(!te)return;let ie=j[y];for(let Ae=0;Ae<ie.length;Ae++){let Fe=ie[Ae];if(Fe in te){let{listeners:Ue,completed:Ot}=te[Fe],lr=0;for(;lr<Ue.length&&ee();)Ue[lr].resolve(j),lr++;if(te[Fe].listeners.splice(0,lr),te[Fe].listeners.length===0&&!Ot&&(delete te[Fe],--te[m]===0)){delete this.queue[L];break}if(!ee())break}}};j.on("origin",()=>{j[y]=W()||[],j[d]=!1,V(this.sessions[L],j),!(j[d]||!ee())&&(se(),ee()&&R(this.sessions[L],j))}),j.once("remoteSettings",()=>{if(ne.destroyed){let te=new Error("Agent has been destroyed");for(let ie=0;ie<q.length;ie++)q[ie].reject(te);j.destroy();return}if(j.setLocalWindowSize&&j.setLocalWindowSize(1024*1024*4),j[y]=W()||[],j.socket.encrypted){let te=j[y][0];if(te!==H){let ie=new Error(`Requested origin ${H} does not match server ${te}`);for(let Ae=0;Ae<q.length;Ae++)q[Ae].reject(ie);j.destroy();return}}Y();{let te=this.sessions;if(L in te){let ie=te[L];ie.splice(A(ie,j,P),0,j)}else te[L]=[j]}E=!0,this._emptySessionCount++,this.emit("session",j),this._accept(j,q,H,v),j[h]===0&&this._emptySessionCount>this.maxEmptySessions&&this.closeEmptySessions(this._emptySessionCount-this.maxEmptySessions),j.on("remoteSettings",()=>{ee()&&(se(),ee()&&R(this.sessions[L],j))})}),j[p]=j.request,j.request=(te,ie)=>{if(j[d])throw new Error("The session is gracefully closing. No new streams are allowed.");let Ae=j[p](te,ie);return j.ref(),j[h]++===0&&this._emptySessionCount--,Ae.once("close",()=>{if(--j[h]===0&&(this._emptySessionCount++,j.unref(),this._emptySessionCount>this.maxEmptySessions||j[d])){j.close();return}j.destroyed||j.closed||ee()&&!V(this.sessions[L],j)&&(R(this.sessions[L],j),se(),j[h]===0&&this._processQueue())}),Ae}}catch(F){Y(),this._sessionCount--;for(let j=0;j<q.length;j++)q[j].reject(F)}};ne.listeners=q,ne.completed=!1,ne.destroyed=!1,this.queue[L][H]=ne,this.queue[L][m]++,this._processQueue()})}request(B,v,q,C){return new Promise((k,L)=>{this.getSession(B,v,[{reject:L,resolve:H=>{try{let Y=H.request(q,C);c(Y),k(Y)}catch(Y){L(Y)}}}])})}async createConnection(B,v){return S.connect(B,v)}static connect(B,v){v.ALPNProtocols=["h2"];let q=B.port||443,C=B.hostname;typeof v.servername>"u"&&(v.servername=C);let k=s.connect(q,C,v);return v.socket&&(k._peername={family:void 0,address:void 0,port:q}),k}closeEmptySessions(B=Number.POSITIVE_INFINITY){let v=0,{sessions:q}=this;for(let C in q){let k=q[C];for(let L=0;L<k.length;L++){let H=k[L];if(H[h]===0&&(v++,H.close(),v>=B))return v}}return v}destroy(B){let{sessions:v,queue:q}=this;for(let C in v){let k=v[C];for(let L=0;L<k.length;L++)k[L].destroy(B)}for(let C in q){let k=q[C];for(let L in k)k[L].destroyed=!0}this.queue={},this.tlsSessionCache.clear()}get emptySessionCount(){return this._emptySessionCount}get pendingSessionCount(){return this._sessionCount-this._emptySessionCount}get sessionCount(){return this._sessionCount}};S.kCurrentStreamCount=h,S.kGracefullyClosing=d,r.exports={Agent:S,globalAgent:new S}}),um=Q((e,r)=>{"use strict";var{Readable:n}=require("stream"),i=class extends n{constructor(s,u){super({emitClose:!1,autoDestroy:!0,highWaterMark:u}),this.statusCode=null,this.statusMessage="",this.httpVersion="2.0",this.httpVersionMajor=2,this.httpVersionMinor=0,this.headers={},this.trailers={},this.req=null,this.aborted=!1,this.complete=!1,this.upgrade=null,this.rawHeaders=[],this.rawTrailers=[],this.socket=s,this._dumped=!1}get connection(){return this.socket}set connection(s){this.socket=s}_destroy(s,u){this.readableEnded||(this.aborted=!0),u(),this.req._request.destroy(s)}setTimeout(s,u){return this.req.setTimeout(s,u),this}_dump(){this._dumped||(this._dumped=!0,this.removeAllListeners("data"),this.resume())}_read(){this.req&&this.req._request.resume()}};r.exports=i}),PT=Q((e,r)=>{"use strict";r.exports=(n,i,s)=>{for(let u of s)n.on(u,(...l)=>i.emit(u,...l))}}),Vs=Q((e,r)=>{"use strict";var n=(i,s,u)=>{r.exports[s]=class extends i{constructor(...l){super(typeof u=="string"?u:u(l)),this.name=`${super.name} [${s}]`,this.code=s}}};n(TypeError,"ERR_INVALID_ARG_TYPE",i=>{let s=i[0].includes(".")?"property":"argument",u=i[1],l=Array.isArray(u);return l&&(u=`${u.slice(0,-1).join(", ")} or ${u.slice(-1)}`),`The "${i[0]}" ${s} must be ${l?"one of":"of"} type ${u}. Received ${typeof i[2]}`}),n(TypeError,"ERR_INVALID_PROTOCOL",i=>`Protocol "${i[0]}" not supported. Expected "${i[1]}"`),n(Error,"ERR_HTTP_HEADERS_SENT",i=>`Cannot ${i[0]} headers after they are sent to the client`),n(TypeError,"ERR_INVALID_HTTP_TOKEN",i=>`${i[0]} must be a valid HTTP token [${i[1]}]`),n(TypeError,"ERR_HTTP_INVALID_HEADER_VALUE",i=>`Invalid value "${i[0]} for header "${i[1]}"`),n(TypeError,"ERR_INVALID_CHAR",i=>`Invalid character in ${i[0]} [${i[1]}]`),n(Error,"ERR_HTTP2_NO_SOCKET_MANIPULATION","HTTP/2 sockets should not be directly manipulated (e.g. read and written)")}),CT=Q((e,r)=>{"use strict";r.exports=n=>{switch(n){case":method":case":scheme":case":authority":case":path":return!0;default:return!1}}}),lm=Q((e,r)=>{"use strict";var{ERR_INVALID_HTTP_TOKEN:n}=Vs(),i=CT(),s=/^[\^`\-\w!#$%&*+.|~]+$/;r.exports=u=>{if(typeof u!="string"||!s.test(u)&&!i(u))throw new n("Header name",u)}}),cm=Q((e,r)=>{"use strict";var{ERR_HTTP_INVALID_HEADER_VALUE:n,ERR_INVALID_CHAR:i}=Vs(),s=/[^\t\u0020-\u007E\u0080-\u00FF]/;r.exports=(u,l)=>{if(typeof l>"u")throw new n(l,u);if(s.test(l))throw new i("header content",u)}}),IT=Q((e,r)=>{"use strict";var{ERR_HTTP2_NO_SOCKET_MANIPULATION:n}=Vs(),i={has(s,u){let l=s.session===void 0?s:s.session.socket;return u in s||u in l},get(s,u){switch(u){case"on":case"once":case"end":case"emit":case"destroy":return s[u].bind(s);case"writable":case"destroyed":return s[u];case"readable":return s.destroyed?!1:s.readable;case"setTimeout":{let{session:l}=s;return l!==void 0?l.setTimeout.bind(l):s.setTimeout.bind(s)}case"write":case"read":case"pause":case"resume":throw new n;default:{let l=s.session===void 0?s:s.session.socket,c=l[u];return typeof c=="function"?c.bind(l):c}}},getPrototypeOf(s){return s.session!==void 0?Reflect.getPrototypeOf(s.session.socket):Reflect.getPrototypeOf(s)},set(s,u,l){switch(u){case"writable":case"readable":case"destroyed":case"on":case"once":case"end":case"emit":case"destroy":return s[u]=l,!0;case"setTimeout":{let{session:c}=s;return c===void 0?s.setTimeout=l:c.setTimeout=l,!0}case"write":case"read":case"pause":case"resume":throw new n;default:{let c=s.session===void 0?s:s.session.socket;return c[u]=l,!0}}}};r.exports=i}),hm=Q((e,r)=>{"use strict";var{URL:n,urlToHttpOptions:i}=require("url"),s=require("http2"),{Writable:u}=require("stream"),{Agent:l,globalAgent:c}=oo(),h=um(),p=PT(),{ERR_INVALID_ARG_TYPE:y,ERR_INVALID_PROTOCOL:d,ERR_HTTP_HEADERS_SENT:m}=Vs(),_=lm(),A=cm(),P=IT(),{HTTP2_HEADER_STATUS:R,HTTP2_HEADER_METHOD:V,HTTP2_HEADER_PATH:z,HTTP2_HEADER_AUTHORITY:S,HTTP2_METHOD_CONNECT:B}=s.constants,v=Symbol("headers"),q=Symbol("origin"),C=Symbol("session"),k=Symbol("options"),L=Symbol("flushedHeaders"),H=Symbol("jobs"),Y=Symbol("pendingAgentPromise"),ne=class extends u{constructor(T,E,N){if(super({autoDestroy:!1,emitClose:!1}),typeof T=="string"?T=i(new n(T)):T instanceof n?T=i(T):T={...T},typeof E=="function"||E===void 0?(N=E,E=T):E=Object.assign(T,E),E.h2session){if(this[C]=E.h2session,this[C].destroyed)throw new Error("The session has been closed already");this.protocol=this[C].socket.encrypted?"https:":"http:"}else if(E.agent===!1)this.agent=new l({maxEmptySessions:0});else if(typeof E.agent>"u"||E.agent===null)this.agent=c;else if(typeof E.agent.request=="function")this.agent=E.agent;else throw new y("options.agent",["http2wrapper.Agent-like Object","undefined","false"],E.agent);if(this.agent&&(this.protocol=this.agent.protocol),E.protocol&&E.protocol!==this.protocol)throw new d(E.protocol,this.protocol);E.port||(E.port=E.defaultPort||this.agent&&this.agent.defaultPort||443),E.host=E.hostname||E.host||"localhost",delete E.hostname;let{timeout:F}=E;E.timeout=void 0,this[v]=Object.create(null),this[H]=[],this[Y]=void 0,this.socket=null,this.connection=null,this.method=E.method||"GET",this.method==="CONNECT"&&(E.path==="/"||E.path===void 0)||(this.path=E.path),this.res=null,this.aborted=!1,this.reusedSocket=!1;let{headers:j}=E;if(j)for(let ee in j)this.setHeader(ee,j[ee]);E.auth&&!("authorization"in this[v])&&(this[v].authorization="Basic "+Buffer.from(E.auth).toString("base64")),E.session=E.tlsSession,E.path=E.socketPath,this[k]=E,this[q]=new n(`${this.protocol}//${E.servername||E.host}:${E.port}`);let W=E._reuseSocket;W&&(E.createConnection=(...ee)=>W.destroyed?this.agent.createConnection(...ee):W,this.agent.getSession(this[q],this[k]).catch(()=>{})),F&&this.setTimeout(F),N&&this.once("response",N),this[L]=!1}get method(){return this[v][V]}set method(T){T&&(this[v][V]=T.toUpperCase())}get path(){let T=this.method==="CONNECT"?S:z;return this[v][T]}set path(T){if(T){let E=this.method==="CONNECT"?S:z;this[v][E]=T}}get host(){return this[q].hostname}set host(T){}get _mustNotHaveABody(){return this.method==="GET"||this.method==="HEAD"||this.method==="DELETE"}_write(T,E,N){if(this._mustNotHaveABody){N(new Error("The GET, HEAD and DELETE methods must NOT have a body"));return}this.flushHeaders();let F=()=>this._request.write(T,E,N);this._request?F():this[H].push(F)}_final(T){this.flushHeaders();let E=()=>{if(this._mustNotHaveABody||this.method==="CONNECT"){T();return}this._request.end(T)};this._request?E():this[H].push(E)}abort(){this.res&&this.res.complete||(this.aborted||process.nextTick(()=>this.emit("abort")),this.aborted=!0,this.destroy())}async _destroy(T,E){this.res&&this.res._dump(),this._request?this._request.destroy():process.nextTick(()=>{this.emit("close")});try{await this[Y]}catch(N){this.aborted&&(T=N)}E(T)}async flushHeaders(){if(this[L]||this.destroyed)return;this[L]=!0;let T=this.method===B,E=N=>{if(this._request=N,this.destroyed){N.destroy();return}T||p(N,this,["timeout","continue"]),N.once("error",j=>{this.destroy(j)}),N.once("aborted",()=>{let{res:j}=this;j?(j.aborted=!0,j.emit("aborted"),j.destroy()):this.destroy(new Error("The server aborted the HTTP/2 stream"))});let F=(j,W,ee)=>{let se=new h(this.socket,N.readableHighWaterMark);this.res=se,se.url=`${this[q].origin}${this.path}`,se.req=this,se.statusCode=j[R],se.headers=j,se.rawHeaders=ee,se.once("end",()=>{se.complete=!0,se.socket=null,se.connection=null}),T?(se.upgrade=!0,this.emit("connect",se,N,Buffer.alloc(0))?this.emit("close"):N.destroy()):(N.on("data",te=>{!se._dumped&&!se.push(te)&&N.pause()}),N.once("end",()=>{this.aborted||se.push(null)}),this.emit("response",se)||se._dump())};N.once("response",F),N.once("headers",j=>this.emit("information",{statusCode:j[R]})),N.once("trailers",(j,W,ee)=>{let{res:se}=this;if(se===null){F(j,W,ee);return}se.trailers=j,se.rawTrailers=ee}),N.once("close",()=>{let{aborted:j,res:W}=this;if(W){j&&(W.aborted=!0,W.emit("aborted"),W.destroy());let ee=()=>{W.emit("close"),this.destroy(),this.emit("close")};W.readable?W.once("end",ee):ee();return}if(!this.destroyed){this.destroy(new Error("The HTTP/2 stream has been early terminated")),this.emit("close");return}this.destroy(),this.emit("close")}),this.socket=new Proxy(N,P);for(let j of this[H])j();this[H].length=0,this.emit("socket",this.socket)};if(!(S in this[v])&&!T&&(this[v][S]=this[q].host),this[C])try{E(this[C].request(this[v]))}catch(N){this.destroy(N)}else{this.reusedSocket=!0;try{let N=this.agent.request(this[q],this[k],this[v]);this[Y]=N,E(await N),this[Y]=!1}catch(N){this[Y]=!1,this.destroy(N)}}}get connection(){return this.socket}set connection(T){this.socket=T}getHeaderNames(){return Object.keys(this[v])}hasHeader(T){if(typeof T!="string")throw new y("name","string",T);return Boolean(this[v][T.toLowerCase()])}getHeader(T){if(typeof T!="string")throw new y("name","string",T);return this[v][T.toLowerCase()]}get headersSent(){return this[L]}removeHeader(T){if(typeof T!="string")throw new y("name","string",T);if(this.headersSent)throw new m("remove");delete this[v][T.toLowerCase()]}setHeader(T,E){if(this.headersSent)throw new m("set");_(T),A(T,E);let N=T.toLowerCase();if(N==="connection"){if(E.toLowerCase()==="keep-alive")return;throw new Error(`Invalid 'connection' header: ${E}`)}N==="host"&&this.method==="CONNECT"?this[v][S]=E:this[v][N]=E}setNoDelay(){}setSocketKeepAlive(){}setTimeout(T,E){let N=()=>this._request.setTimeout(T,E);return this._request?N():this[H].push(N),this}get maxHeadersCount(){if(!this.destroyed&&this._request)return this._request.session.localSettings.maxHeaderListSize}set maxHeadersCount(T){}};r.exports=ne}),jT=Q((e,r)=>{"use strict";var n=require("tls");r.exports=(i={},s=n.connect)=>new Promise((u,l)=>{let c=!1,h,p=async()=>{await d,h.off("timeout",y),h.off("error",l),i.resolveSocket?(u({alpnProtocol:h.alpnProtocol,socket:h,timeout:c}),c&&(await Promise.resolve(),h.emit("timeout"))):(h.destroy(),u({alpnProtocol:h.alpnProtocol,timeout:c}))},y=async()=>{c=!0,p()},d=(async()=>{try{h=await s(i,p),h.on("error",l),h.once("timeout",y)}catch(m){l(m)}})()})}),qT=Q((e,r)=>{"use strict";var{isIP:n}=require("net"),i=require("assert"),s=u=>{if(u[0]==="["){let c=u.indexOf("]");return i(c!==-1),u.slice(1,c)}let l=u.indexOf(":");return l===-1?u:u.slice(0,l)};r.exports=u=>{let l=s(u);return n(l)?"":l}}),$T=Q((e,r)=>{"use strict";var{URL:n,urlToHttpOptions:i}=require("url"),s=require("http"),u=require("https"),l=jT(),c=sm(),{Agent:h,globalAgent:p}=oo(),y=hm(),d=qT(),m=am(),_=new c({maxSize:100}),A=new Map,P=(z,S,B)=>{S._httpMessage={shouldKeepAlive:!0};let v=()=>{z.emit("free",S,B)};S.on("free",v);let q=()=>{z.removeSocket(S,B)};S.on("close",q);let C=()=>{let{freeSockets:L}=z;for(let H of Object.values(L))if(H.includes(S)){S.destroy();return}};S.on("timeout",C);let k=()=>{z.removeSocket(S,B),S.off("close",q),S.off("free",v),S.off("timeout",C),S.off("agentRemove",k)};S.on("agentRemove",k),z.emit("free",S,B)},R=(z,S=new Map,B=void 0)=>async v=>{let q=`${v.host}:${v.port}:${v.ALPNProtocols.sort()}`;if(!z.has(q)){if(S.has(q))return{alpnProtocol:(await S.get(q)).alpnProtocol};let{path:C}=v;v.path=v.socketPath;let k=l(v,B);S.set(q,k);try{let L=await k;return z.set(q,L.alpnProtocol),S.delete(q),v.path=C,L}catch(L){throw S.delete(q),v.path=C,L}}return{alpnProtocol:z.get(q)}},V=R(_,A);r.exports=async(z,S,B)=>{if(typeof z=="string"?z=i(new n(z)):z instanceof n?z=i(z):z={...z},typeof S=="function"||S===void 0?(B=S,S=z):S=Object.assign(z,S),S.ALPNProtocols=S.ALPNProtocols||["h2","http/1.1"],!Array.isArray(S.ALPNProtocols)||S.ALPNProtocols.length===0)throw new Error("The `ALPNProtocols` option must be an Array with at least one entry");S.protocol=S.protocol||"https:";let v=S.protocol==="https:";S.host=S.hostname||S.host||"localhost",S.session=S.tlsSession,S.servername=S.servername||d(S.headers&&S.headers.host||S.host),S.port=S.port||(v?443:80),S._defaultAgent=v?u.globalAgent:s.globalAgent;let q=S.resolveProtocol||V,{agent:C}=S;if(C!==void 0&&C!==!1&&C.constructor.name!=="Object")throw new Error("The `options.agent` can be only an object `http`, `https` or `http2` properties");if(v){S.resolveSocket=!0;let{socket:k,alpnProtocol:L,timeout:H}=await q(S);if(H){k&&k.destroy();let ne=new Error(`Timed out resolving ALPN: ${S.timeout} ms`);throw ne.code="ETIMEDOUT",ne.ms=S.timeout,ne}k&&S.createConnection&&(k.destroy(),k=void 0),delete S.resolveSocket;let Y=L==="h2";if(C&&(C=Y?C.http2:C.https,S.agent=C),C===void 0&&(C=Y?p:u.globalAgent),k)if(C===!1)k.destroy();else{let ne=(Y?h:u.Agent).prototype.createConnection;C.createConnection===ne?Y?S._reuseSocket=k:P(C,k,S):k.destroy()}if(Y)return m(new y(S,B))}else C&&(S.agent=C.http);return m(s.request(S,B))},r.exports.protocolCache=_,r.exports.resolveProtocol=V,r.exports.createResolveProtocol=R}),fm=Q((e,r)=>{"use strict";var n=require("stream"),i=require("tls"),s=new i.TLSSocket(new n.PassThrough)._handle._parentWrap.constructor;r.exports=s}),dm=Q((e,r)=>{"use strict";var n=class extends Error{constructor(i,s=""){super(`The proxy server rejected the request with status code ${i} (${s||"empty status message"})`),this.statusCode=i,this.statusMessage=s}};r.exports=n}),LT=Q((e,r)=>{"use strict";var n=(i,s,u)=>{if(!u.some(l=>typeof l=="string"?typeof s===l:s instanceof l)){let l=u.map(c=>typeof c=="string"?c:c.name);throw new TypeError(`Expected '${i}' to be a type of ${l.join(" or ")}, got ${typeof s}`)}};r.exports=n}),pm=Q((e,r)=>{"use strict";var{URL:n}=require("url"),i=LT();r.exports=(s,u)=>{i("proxyOptions",u,["object"]),i("proxyOptions.headers",u.headers,["object","undefined"]),i("proxyOptions.raw",u.raw,["boolean","undefined"]),i("proxyOptions.url",u.url,[n,"string"]);let l=new n(u.url);s.proxyOptions={raw:!0,...u,headers:{...u.headers},url:l}}}),Nl=Q((e,r)=>{"use strict";r.exports=n=>{let{username:i,password:s}=n.proxyOptions.url;if(i||s){let u=`${i}:${s}`,l=`Basic ${Buffer.from(u).toString("base64")}`;return{"proxy-authorization":l,authorization:l}}return{}}}),NT=Q((e,r)=>{"use strict";var n=require("tls"),i=require("http"),s=require("https"),u=fm(),{globalAgent:l}=oo(),c=dm(),h=pm(),p=Nl(),y=(_,A,P)=>{(async()=>{try{let{proxyOptions:R}=_,{url:V,headers:z,raw:S}=R,B=await l.request(V,R,{...p(_),...z,":method":"CONNECT",":authority":`${A.host}:${A.port}`});B.once("error",P),B.once("response",v=>{let q=v[":status"];if(q!==200){P(new c(q,""));return}let C=_ instanceof s.Agent;if(S&&C){A.socket=B;let L=n.connect(A);L.once("close",()=>{B.destroy()}),P(null,L);return}let k=new u(B);k.encrypted=!1,k._handle.getpeername=L=>{L.family=void 0,L.address=void 0,L.port=void 0},P(null,k)})}catch(R){P(R)}})()},d=class extends i.Agent{constructor(_){super(_),h(this,_.proxyOptions)}createConnection(_,A){y(this,_,A)}},m=class extends s.Agent{constructor(_){super(_),h(this,_.proxyOptions)}createConnection(_,A){y(this,_,A)}};r.exports={HttpOverHttp2:d,HttpsOverHttp2:m}}),mm=Q((e,r)=>{"use strict";var{Agent:n}=oo(),i=fm(),s=dm(),u=pm(),l=class extends n{constructor(c){super(c),u(this,c.proxyOptions)}async createConnection(c,h){let p=`${c.hostname}:${c.port||443}`,[y,d,m]=await this._getProxyStream(p);if(d!==200)throw new s(d,m);if(this.proxyOptions.raw)h.socket=y;else{let _=new i(y);return _.encrypted=!1,_._handle.getpeername=A=>{A.family=void 0,A.address=void 0,A.port=void 0},_}return super.createConnection(c,h)}};r.exports=l}),MT=Q((e,r)=>{"use strict";var{globalAgent:n}=oo(),i=mm(),s=Nl(),u=c=>new Promise((h,p)=>{c.once("error",p),c.once("response",y=>{c.off("error",p),h(y[":status"])})}),l=class extends i{async _getProxyStream(c){let{proxyOptions:h}=this,p={...s(this),...h.headers,":method":"CONNECT",":authority":c},y=await n.request(h.url,h,p),d=await u(y);return[y,d,""]}};r.exports=l}),BT=Q((e,r)=>{"use strict";var n=require("http"),i=require("https"),s=mm(),u=Nl(),l=h=>new Promise((p,y)=>{let d=(m,_,A)=>{_.unshift(A),h.off("error",y),p([_,m.statusCode,m.statusMessage])};h.once("error",y),h.once("connect",d)}),c=class extends s{async _getProxyStream(h){let{proxyOptions:p}=this,{url:y,headers:d}=this.proxyOptions,m=(y.protocol==="https:"?i:n).request({...p,hostname:y.hostname,port:y.port,path:h,headers:{...u(this),...d,host:h},method:"CONNECT"}).end();return l(m)}};r.exports={Http2OverHttp:c,Http2OverHttps:c}}),DT=Q((e,r)=>{"use strict";var n=require("http2"),{Agent:i,globalAgent:s}=oo(),u=hm(),l=um(),c=$T(),{HttpOverHttp2:h,HttpsOverHttp2:p}=NT(),y=MT(),{Http2OverHttp:d,Http2OverHttps:m}=BT(),_=lm(),A=cm(),P=(V,z,S)=>new u(V,z,S),R=(V,z,S)=>{let B=new u(V,z,S);return B.end(),B};r.exports={...n,ClientRequest:u,IncomingMessage:l,Agent:i,globalAgent:s,request:P,get:R,auto:c,proxies:{HttpOverHttp2:h,HttpsOverHttp2:p,Http2OverHttp2:y,Http2OverHttp:d,Http2OverHttps:m},validateHeaderName:_,validateHeaderValue:A}}),zT=Q((e,r)=>{if(!globalThis.DOMException)try{let{MessageChannel:n}=require("worker_threads"),i=new n().port1,s=new ArrayBuffer;i.postMessage(s,[s,s])}catch(n){n.constructor.name==="DOMException"&&(globalThis.DOMException=n.constructor)}r.exports=globalThis.DOMException}),Gs=Q((e,r)=>{var n=function(i,s){Error.call(this,i),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="JsonWebTokenError",this.message=i,s&&(this.inner=s)};n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,r.exports=n}),ym=Q((e,r)=>{var n=Gs(),i=function(s,u){n.call(this,s),this.name="NotBeforeError",this.date=u};i.prototype=Object.create(n.prototype),i.prototype.constructor=i,r.exports=i}),gm=Q((e,r)=>{var n=Gs(),i=function(s,u){n.call(this,s),this.name="TokenExpiredError",this.expiredAt=u};i.prototype=Object.create(n.prototype),i.prototype.constructor=i,r.exports=i}),ti=Q((e,r)=>{var n=require("buffer"),i=n.Buffer;function s(l,c){for(var h in l)c[h]=l[h]}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?r.exports=n:(s(n,e),e.Buffer=u);function u(l,c,h){return i(l,c,h)}u.prototype=Object.create(i.prototype),s(i,u),u.from=function(l,c,h){if(typeof l=="number")throw new TypeError("Argument must not be a number");return i(l,c,h)},u.alloc=function(l,c,h){if(typeof l!="number")throw new TypeError("Argument must be a number");var p=i(l);return c!==void 0?typeof h=="string"?p.fill(c,h):p.fill(c):p.fill(0),p},u.allocUnsafe=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return i(l)},u.allocUnsafeSlow=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(l)}}),vm=Q((e,r)=>{var n=ti().Buffer,i=require("stream"),s=require("util");function u(l){if(this.buffer=null,this.writable=!0,this.readable=!0,!l)return this.buffer=n.alloc(0),this;if(typeof l.pipe=="function")return this.buffer=n.alloc(0),l.pipe(this),this;if(l.length||typeof l=="object")return this.buffer=l,this.writable=!1,process.nextTick(function(){this.emit("end",l),this.readable=!1,this.emit("close")}.bind(this)),this;throw new TypeError("Unexpected data type ("+typeof l+")")}s.inherits(u,i),u.prototype.write=function(l){this.buffer=n.concat([this.buffer,n.from(l)]),this.emit("data",l)},u.prototype.end=function(l){l&&this.write(l),this.emit("end",l),this.emit("close"),this.writable=!1,this.readable=!1},r.exports=u}),FT=Q((e,r)=>{"use strict";var n=require("buffer").Buffer,i=require("buffer").SlowBuffer;r.exports=s;function s(c,h){if(!n.isBuffer(c)||!n.isBuffer(h)||c.length!==h.length)return!1;for(var p=0,y=0;y<c.length;y++)p|=c[y]^h[y];return p===0}s.install=function(){n.prototype.equal=i.prototype.equal=function(c){return s(this,c)}};var u=n.prototype.equal,l=i.prototype.equal;s.restore=function(){n.prototype.equal=u,i.prototype.equal=l}}),UT=Q((e,r)=>{"use strict";function n(u){var l=(u/8|0)+(u%8===0?0:1);return l}var i={ES256:n(256),ES384:n(384),ES512:n(521)};function s(u){var l=i[u];if(l)return l;throw new Error('Unknown algorithm "'+u+'"')}r.exports=s}),HT=Q((e,r)=>{"use strict";var n=ti().Buffer,i=UT(),s=128,u=0,l=32,c=16,h=2,p=c|l|u<<6,y=h|u<<6;function d(R){return R.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function m(R){if(n.isBuffer(R))return R;if(typeof R=="string")return n.from(R,"base64");throw new TypeError("ECDSA signature must be a Base64 string or a Buffer")}function _(R,V){R=m(R);var z=i(V),S=z+1,B=R.length,v=0;if(R[v++]!==p)throw new Error('Could not find expected "seq"');var q=R[v++];if(q===(s|1)&&(q=R[v++]),B-v<q)throw new Error('"seq" specified length of "'+q+'", only "'+(B-v)+'" remaining');if(R[v++]!==y)throw new Error('Could not find expected "int" for "r"');var C=R[v++];if(B-v-2<C)throw new Error('"r" specified length of "'+C+'", only "'+(B-v-2)+'" available');if(S<C)throw new Error('"r" specified length of "'+C+'", max of "'+S+'" is acceptable');var k=v;if(v+=C,R[v++]!==y)throw new Error('Could not find expected "int" for "s"');var L=R[v++];if(B-v!==L)throw new Error('"s" specified length of "'+L+'", expected "'+(B-v)+'"');if(S<L)throw new Error('"s" specified length of "'+L+'", max of "'+S+'" is acceptable');var H=v;if(v+=L,v!==B)throw new Error('Expected to consume entire buffer, but "'+(B-v)+'" bytes remain');var Y=z-C,ne=z-L,T=n.allocUnsafe(Y+C+ne+L);for(v=0;v<Y;++v)T[v]=0;R.copy(T,v,k+Math.max(-Y,0),k+C),v=z;for(var E=v;v<E+ne;++v)T[v]=0;return R.copy(T,v,H+Math.max(-ne,0),H+L),T=T.toString("base64"),T=d(T),T}function A(R,V,z){for(var S=0;V+S<z&&R[V+S]===0;)++S;var B=R[V+S]>=s;return B&&--S,S}function P(R,V){R=m(R);var z=i(V),S=R.length;if(S!==z*2)throw new TypeError('"'+V+'" signatures must be "'+z*2+'" bytes, saw "'+S+'"');var B=A(R,0,z),v=A(R,z,R.length),q=z-B,C=z-v,k=1+1+q+1+1+C,L=k<s,H=n.allocUnsafe((L?2:3)+k),Y=0;return H[Y++]=p,L?H[Y++]=k:(H[Y++]=s|1,H[Y++]=k&255),H[Y++]=y,H[Y++]=q,B<0?(H[Y++]=0,Y+=R.copy(H,Y,0,z)):Y+=R.copy(H,Y,B,z),H[Y++]=y,H[Y++]=C,v<0?(H[Y++]=0,R.copy(H,Y,z)):R.copy(H,Y,z+v),H}r.exports={derToJose:_,joseToDer:P}}),bm=Q((e,r)=>{var n=FT(),i=ti().Buffer,s=require("crypto"),u=HT(),l=require("util"),c=`"%s" is not a valid algorithm.
  Supported algorithms are:
  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".`,h="secret must be a string or buffer",p="key must be a string or a buffer",y="key must be a string, a buffer or an object",d=typeof s.createPublicKey=="function";d&&(p+=" or a KeyObject",h+="or a KeyObject");function m(E){if(!i.isBuffer(E)&&typeof E!="string"&&(!d||typeof E!="object"||typeof E.type!="string"||typeof E.asymmetricKeyType!="string"||typeof E.export!="function"))throw V(p)}function _(E){if(!i.isBuffer(E)&&typeof E!="string"&&typeof E!="object")throw V(y)}function A(E){if(!i.isBuffer(E)){if(typeof E=="string")return E;if(!d||typeof E!="object"||E.type!=="secret"||typeof E.export!="function")throw V(h)}}function P(E){return E.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function R(E){E=E.toString();var N=4-E.length%4;if(N!==4)for(var F=0;F<N;++F)E+="=";return E.replace(/\-/g,"+").replace(/_/g,"/")}function V(E){var N=[].slice.call(arguments,1),F=l.format.bind(l,E).apply(null,N);return new TypeError(F)}function z(E){return i.isBuffer(E)||typeof E=="string"}function S(E){return z(E)||(E=JSON.stringify(E)),E}function B(E){return function(N,F){A(F),N=S(N);var j=s.createHmac("sha"+E,F),W=(j.update(N),j.digest("base64"));return P(W)}}function v(E){return function(N,F,j){var W=B(E)(N,j);return n(i.from(F),i.from(W))}}function q(E){return function(N,F){_(F),N=S(N);var j=s.createSign("RSA-SHA"+E),W=(j.update(N),j.sign(F,"base64"));return P(W)}}function C(E){return function(N,F,j){m(j),N=S(N),F=R(F);var W=s.createVerify("RSA-SHA"+E);return W.update(N),W.verify(j,F,"base64")}}function k(E){return function(N,F){_(F),N=S(N);var j=s.createSign("RSA-SHA"+E),W=(j.update(N),j.sign({key:F,padding:s.constants.RSA_PKCS1_PSS_PADDING,saltLength:s.constants.RSA_PSS_SALTLEN_DIGEST},"base64"));return P(W)}}function L(E){return function(N,F,j){m(j),N=S(N),F=R(F);var W=s.createVerify("RSA-SHA"+E);return W.update(N),W.verify({key:j,padding:s.constants.RSA_PKCS1_PSS_PADDING,saltLength:s.constants.RSA_PSS_SALTLEN_DIGEST},F,"base64")}}function H(E){var N=q(E);return function(){var F=N.apply(null,arguments);return F=u.derToJose(F,"ES"+E),F}}function Y(E){var N=C(E);return function(F,j,W){j=u.joseToDer(j,"ES"+E).toString("base64");var ee=N(F,j,W);return ee}}function ne(){return function(){return""}}function T(){return function(E,N){return N===""}}r.exports=function(E){var N={hs:B,rs:q,ps:k,es:H,none:ne},F={hs:v,rs:C,ps:L,es:Y,none:T},j=E.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i);if(!j)throw V(c,E);var W=(j[1]||j[3]).toLowerCase(),ee=j[2];return{sign:N[W](ee),verify:F[W](ee)}}}),_m=Q((e,r)=>{var n=require("buffer").Buffer;r.exports=function(i){return typeof i=="string"?i:typeof i=="number"||n.isBuffer(i)?i.toString():JSON.stringify(i)}}),WT=Q((e,r)=>{var n=ti().Buffer,i=vm(),s=bm(),u=require("stream"),l=_m(),c=require("util");function h(m,_){return n.from(m,_).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function p(m,_,A){A=A||"utf8";var P=h(l(m),"binary"),R=h(l(_),A);return c.format("%s.%s",P,R)}function y(m){var _=m.header,A=m.payload,P=m.secret||m.privateKey,R=m.encoding,V=s(_.alg),z=p(_,A,R),S=V.sign(z,P);return c.format("%s.%s",z,S)}function d(m){var _=m.secret||m.privateKey||m.key,A=new i(_);this.readable=!0,this.header=m.header,this.encoding=m.encoding,this.secret=this.privateKey=this.key=A,this.payload=new i(m.payload),this.secret.once("close",function(){!this.payload.writable&&this.readable&&this.sign()}.bind(this)),this.payload.once("close",function(){!this.secret.writable&&this.readable&&this.sign()}.bind(this))}c.inherits(d,u),d.prototype.sign=function(){try{var m=y({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",m),this.emit("data",m),this.emit("end"),this.readable=!1,m}catch(_){this.readable=!1,this.emit("error",_),this.emit("close")}},d.sign=y,r.exports=d}),VT=Q((e,r)=>{var n=ti().Buffer,i=vm(),s=bm(),u=require("stream"),l=_m(),c=require("util"),h=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function p(S){return Object.prototype.toString.call(S)==="[object Object]"}function y(S){if(p(S))return S;try{return JSON.parse(S)}catch{return}}function d(S){var B=S.split(".",1)[0];return y(n.from(B,"base64").toString("binary"))}function m(S){return S.split(".",2).join(".")}function _(S){return S.split(".")[2]}function A(S,B){B=B||"utf8";var v=S.split(".")[1];return n.from(v,"base64").toString(B)}function P(S){return h.test(S)&&!!d(S)}function R(S,B,v){if(!B){var q=new Error("Missing algorithm parameter for jws.verify");throw q.code="MISSING_ALGORITHM",q}S=l(S);var C=_(S),k=m(S),L=s(B);return L.verify(k,C,v)}function V(S,B){if(B=B||{},S=l(S),!P(S))return null;var v=d(S);if(!v)return null;var q=A(S);return(v.typ==="JWT"||B.json)&&(q=JSON.parse(q,B.encoding)),{header:v,payload:q,signature:_(S)}}function z(S){S=S||{};var B=S.secret||S.publicKey||S.key,v=new i(B);this.readable=!0,this.algorithm=S.algorithm,this.encoding=S.encoding,this.secret=this.publicKey=this.key=v,this.signature=new i(S.signature),this.secret.once("close",function(){!this.signature.writable&&this.readable&&this.verify()}.bind(this)),this.signature.once("close",function(){!this.secret.writable&&this.readable&&this.verify()}.bind(this))}c.inherits(z,u),z.prototype.verify=function(){try{var S=R(this.signature.buffer,this.algorithm,this.key.buffer),B=V(this.signature.buffer,this.encoding);return this.emit("done",S,B),this.emit("data",S),this.emit("end"),this.readable=!1,S}catch(v){this.readable=!1,this.emit("error",v),this.emit("close")}},z.decode=V,z.isValid=P,z.verify=R,r.exports=z}),Ml=Q(e=>{var r=WT(),n=VT(),i=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"];e.ALGORITHMS=i,e.sign=r.sign,e.verify=n.verify,e.decode=n.decode,e.isValid=n.isValid,e.createSign=function(s){return new r(s)},e.createVerify=function(s){return new n(s)}}),wm=Q((e,r)=>{var n=Ml();r.exports=function(i,s){s=s||{};var u=n.decode(i,s);if(!u)return null;var l=u.payload;if(typeof l=="string")try{var c=JSON.parse(l);c!==null&&typeof c=="object"&&(l=c)}catch{}return s.complete===!0?{header:u.header,payload:l,signature:u.signature}:l}}),GT=Q((e,r)=>{var n=1e3,i=n*60,s=i*60,u=s*24,l=u*7,c=u*365.25;r.exports=function(m,_){_=_||{};var A=typeof m;if(A==="string"&&m.length>0)return h(m);if(A==="number"&&isFinite(m))return _.long?y(m):p(m);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(m))};function h(m){if(m=String(m),!(m.length>100)){var _=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(m);if(_){var A=parseFloat(_[1]),P=(_[2]||"ms").toLowerCase();switch(P){case"years":case"year":case"yrs":case"yr":case"y":return A*c;case"weeks":case"week":case"w":return A*l;case"days":case"day":case"d":return A*u;case"hours":case"hour":case"hrs":case"hr":case"h":return A*s;case"minutes":case"minute":case"mins":case"min":case"m":return A*i;case"seconds":case"second":case"secs":case"sec":case"s":return A*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return A;default:return}}}}function p(m){var _=Math.abs(m);return _>=u?Math.round(m/u)+"d":_>=s?Math.round(m/s)+"h":_>=i?Math.round(m/i)+"m":_>=n?Math.round(m/n)+"s":m+"ms"}function y(m){var _=Math.abs(m);return _>=u?d(m,_,u,"day"):_>=s?d(m,_,s,"hour"):_>=i?d(m,_,i,"minute"):_>=n?d(m,_,n,"second"):m+" ms"}function d(m,_,A,P){var R=_>=A*1.5;return Math.round(m/A)+" "+P+(R?"s":"")}}),Em=Q((e,r)=>{var n=GT();r.exports=function(i,s){var u=s||Math.floor(Date.now()/1e3);if(typeof i=="string"){var l=n(i);return typeof l>"u"?void 0:Math.floor(u+l/1e3)}else return typeof i=="number"?u+i:void 0}}),Ks=Q((e,r)=>{var n="2.0.0",i=Number.MAX_SAFE_INTEGER||9007199254740991,s=16;r.exports={SEMVER_SPEC_VERSION:n,MAX_LENGTH:256,MAX_SAFE_INTEGER:i,MAX_SAFE_COMPONENT_LENGTH:s}}),Js=Q((e,r)=>{var n=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...i)=>console.error("SEMVER",...i):()=>{};r.exports=n}),io=Q((e,r)=>{var{MAX_SAFE_COMPONENT_LENGTH:n}=Ks(),i=Js();e=r.exports={};var s=e.re=[],u=e.src=[],l=e.t={},c=0,h=(p,y,d)=>{let m=c++;i(p,m,y),l[p]=m,u[m]=y,s[m]=new RegExp(y,d?"g":void 0)};h("NUMERICIDENTIFIER","0|[1-9]\\d*"),h("NUMERICIDENTIFIERLOOSE","[0-9]+"),h("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),h("MAINVERSION",`(${u[l.NUMERICIDENTIFIER]})\\.(${u[l.NUMERICIDENTIFIER]})\\.(${u[l.NUMERICIDENTIFIER]})`),h("MAINVERSIONLOOSE",`(${u[l.NUMERICIDENTIFIERLOOSE]})\\.(${u[l.NUMERICIDENTIFIERLOOSE]})\\.(${u[l.NUMERICIDENTIFIERLOOSE]})`),h("PRERELEASEIDENTIFIER",`(?:${u[l.NUMERICIDENTIFIER]}|${u[l.NONNUMERICIDENTIFIER]})`),h("PRERELEASEIDENTIFIERLOOSE",`(?:${u[l.NUMERICIDENTIFIERLOOSE]}|${u[l.NONNUMERICIDENTIFIER]})`),h("PRERELEASE",`(?:-(${u[l.PRERELEASEIDENTIFIER]}(?:\\.${u[l.PRERELEASEIDENTIFIER]})*))`),h("PRERELEASELOOSE",`(?:-?(${u[l.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${u[l.PRERELEASEIDENTIFIERLOOSE]})*))`),h("BUILDIDENTIFIER","[0-9A-Za-z-]+"),h("BUILD",`(?:\\+(${u[l.BUILDIDENTIFIER]}(?:\\.${u[l.BUILDIDENTIFIER]})*))`),h("FULLPLAIN",`v?${u[l.MAINVERSION]}${u[l.PRERELEASE]}?${u[l.BUILD]}?`),h("FULL",`^${u[l.FULLPLAIN]}$`),h("LOOSEPLAIN",`[v=\\s]*${u[l.MAINVERSIONLOOSE]}${u[l.PRERELEASELOOSE]}?${u[l.BUILD]}?`),h("LOOSE",`^${u[l.LOOSEPLAIN]}$`),h("GTLT","((?:<|>)?=?)"),h("XRANGEIDENTIFIERLOOSE",`${u[l.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),h("XRANGEIDENTIFIER",`${u[l.NUMERICIDENTIFIER]}|x|X|\\*`),h("XRANGEPLAIN",`[v=\\s]*(${u[l.XRANGEIDENTIFIER]})(?:\\.(${u[l.XRANGEIDENTIFIER]})(?:\\.(${u[l.XRANGEIDENTIFIER]})(?:${u[l.PRERELEASE]})?${u[l.BUILD]}?)?)?`),h("XRANGEPLAINLOOSE",`[v=\\s]*(${u[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[l.XRANGEIDENTIFIERLOOSE]})(?:${u[l.PRERELEASELOOSE]})?${u[l.BUILD]}?)?)?`),h("XRANGE",`^${u[l.GTLT]}\\s*${u[l.XRANGEPLAIN]}$`),h("XRANGELOOSE",`^${u[l.GTLT]}\\s*${u[l.XRANGEPLAINLOOSE]}$`),h("COERCE",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?(?:$|[^\\d])`),h("COERCERTL",u[l.COERCE],!0),h("LONETILDE","(?:~>?)"),h("TILDETRIM",`(\\s*)${u[l.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",h("TILDE",`^${u[l.LONETILDE]}${u[l.XRANGEPLAIN]}$`),h("TILDELOOSE",`^${u[l.LONETILDE]}${u[l.XRANGEPLAINLOOSE]}$`),h("LONECARET","(?:\\^)"),h("CARETTRIM",`(\\s*)${u[l.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",h("CARET",`^${u[l.LONECARET]}${u[l.XRANGEPLAIN]}$`),h("CARETLOOSE",`^${u[l.LONECARET]}${u[l.XRANGEPLAINLOOSE]}$`),h("COMPARATORLOOSE",`^${u[l.GTLT]}\\s*(${u[l.LOOSEPLAIN]})$|^$`),h("COMPARATOR",`^${u[l.GTLT]}\\s*(${u[l.FULLPLAIN]})$|^$`),h("COMPARATORTRIM",`(\\s*)${u[l.GTLT]}\\s*(${u[l.LOOSEPLAIN]}|${u[l.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",h("HYPHENRANGE",`^\\s*(${u[l.XRANGEPLAIN]})\\s+-\\s+(${u[l.XRANGEPLAIN]})\\s*$`),h("HYPHENRANGELOOSE",`^\\s*(${u[l.XRANGEPLAINLOOSE]})\\s+-\\s+(${u[l.XRANGEPLAINLOOSE]})\\s*$`),h("STAR","(<|>)?=?\\s*\\*"),h("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),h("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}),Ys=Q((e,r)=>{var n=["includePrerelease","loose","rtl"],i=s=>s?typeof s!="object"?{loose:!0}:n.filter(u=>s[u]).reduce((u,l)=>(u[l]=!0,u),{}):{};r.exports=i}),Sm=Q((e,r)=>{var n=/^[0-9]+$/,i=(u,l)=>{let c=n.test(u),h=n.test(l);return c&&h&&(u=+u,l=+l),u===l?0:c&&!h?-1:h&&!c?1:u<l?-1:1},s=(u,l)=>i(l,u);r.exports={compareIdentifiers:i,rcompareIdentifiers:s}}),ht=Q((e,r)=>{var n=Js(),{MAX_LENGTH:i,MAX_SAFE_INTEGER:s}=Ks(),{re:u,t:l}=io(),c=Ys(),{compareIdentifiers:h}=Sm(),p=class{constructor(y,d){if(d=c(d),y instanceof p){if(y.loose===!!d.loose&&y.includePrerelease===!!d.includePrerelease)return y;y=y.version}else if(typeof y!="string")throw new TypeError(`Invalid Version: ${y}`);if(y.length>i)throw new TypeError(`version is longer than ${i} characters`);n("SemVer",y,d),this.options=d,this.loose=!!d.loose,this.includePrerelease=!!d.includePrerelease;let m=y.trim().match(d.loose?u[l.LOOSE]:u[l.FULL]);if(!m)throw new TypeError(`Invalid Version: ${y}`);if(this.raw=y,this.major=+m[1],this.minor=+m[2],this.patch=+m[3],this.major>s||this.major<0)throw new TypeError("Invalid major version");if(this.minor>s||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>s||this.patch<0)throw new TypeError("Invalid patch version");m[4]?this.prerelease=m[4].split(".").map(_=>{if(/^[0-9]+$/.test(_)){let A=+_;if(A>=0&&A<s)return A}return _}):this.prerelease=[],this.build=m[5]?m[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(y){if(n("SemVer.compare",this.version,this.options,y),!(y instanceof p)){if(typeof y=="string"&&y===this.version)return 0;y=new p(y,this.options)}return y.version===this.version?0:this.compareMain(y)||this.comparePre(y)}compareMain(y){return y instanceof p||(y=new p(y,this.options)),h(this.major,y.major)||h(this.minor,y.minor)||h(this.patch,y.patch)}comparePre(y){if(y instanceof p||(y=new p(y,this.options)),this.prerelease.length&&!y.prerelease.length)return-1;if(!this.prerelease.length&&y.prerelease.length)return 1;if(!this.prerelease.length&&!y.prerelease.length)return 0;let d=0;do{let m=this.prerelease[d],_=y.prerelease[d];if(n("prerelease compare",d,m,_),m===void 0&&_===void 0)return 0;if(_===void 0)return 1;if(m===void 0)return-1;if(m!==_)return h(m,_)}while(++d)}compareBuild(y){y instanceof p||(y=new p(y,this.options));let d=0;do{let m=this.build[d],_=y.build[d];if(n("prerelease compare",d,m,_),m===void 0&&_===void 0)return 0;if(_===void 0)return 1;if(m===void 0)return-1;if(m!==_)return h(m,_)}while(++d)}inc(y,d){switch(y){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",d);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",d);break;case"prepatch":this.prerelease.length=0,this.inc("patch",d),this.inc("pre",d);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",d),this.inc("pre",d);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let m=this.prerelease.length;for(;--m>=0;)typeof this.prerelease[m]=="number"&&(this.prerelease[m]++,m=-2);m===-1&&this.prerelease.push(0)}d&&(h(this.prerelease[0],d)===0?isNaN(this.prerelease[1])&&(this.prerelease=[d,0]):this.prerelease=[d,0]);break;default:throw new Error(`invalid increment argument: ${y}`)}return this.format(),this.raw=this.version,this}};r.exports=p}),so=Q((e,r)=>{var{MAX_LENGTH:n}=Ks(),{re:i,t:s}=io(),u=ht(),l=Ys(),c=(h,p)=>{if(p=l(p),h instanceof u)return h;if(typeof h!="string"||h.length>n||!(p.loose?i[s.LOOSE]:i[s.FULL]).test(h))return null;try{return new u(h,p)}catch{return null}};r.exports=c}),KT=Q((e,r)=>{var n=so(),i=(s,u)=>{let l=n(s,u);return l?l.version:null};r.exports=i}),JT=Q((e,r)=>{var n=so(),i=(s,u)=>{let l=n(s.trim().replace(/^[=v]+/,""),u);return l?l.version:null};r.exports=i}),YT=Q((e,r)=>{var n=ht(),i=(s,u,l,c)=>{typeof l=="string"&&(c=l,l=void 0);try{return new n(s instanceof n?s.version:s,l).inc(u,c).version}catch{return null}};r.exports=i}),Xt=Q((e,r)=>{var n=ht(),i=(s,u,l)=>new n(s,l).compare(new n(u,l));r.exports=i}),Bl=Q((e,r)=>{var n=Xt(),i=(s,u,l)=>n(s,u,l)===0;r.exports=i}),QT=Q((e,r)=>{var n=so(),i=Bl(),s=(u,l)=>{if(i(u,l))return null;{let c=n(u),h=n(l),p=c.prerelease.length||h.prerelease.length,y=p?"pre":"",d=p?"prerelease":"";for(let m in c)if((m==="major"||m==="minor"||m==="patch")&&c[m]!==h[m])return y+m;return d}};r.exports=s}),XT=Q((e,r)=>{var n=ht(),i=(s,u)=>new n(s,u).major;r.exports=i}),ZT=Q((e,r)=>{var n=ht(),i=(s,u)=>new n(s,u).minor;r.exports=i}),eR=Q((e,r)=>{var n=ht(),i=(s,u)=>new n(s,u).patch;r.exports=i}),tR=Q((e,r)=>{var n=so(),i=(s,u)=>{let l=n(s,u);return l&&l.prerelease.length?l.prerelease:null};r.exports=i}),rR=Q((e,r)=>{var n=Xt(),i=(s,u,l)=>n(u,s,l);r.exports=i}),nR=Q((e,r)=>{var n=Xt(),i=(s,u)=>n(s,u,!0);r.exports=i}),Dl=Q((e,r)=>{var n=ht(),i=(s,u,l)=>{let c=new n(s,l),h=new n(u,l);return c.compare(h)||c.compareBuild(h)};r.exports=i}),oR=Q((e,r)=>{var n=Dl(),i=(s,u)=>s.sort((l,c)=>n(l,c,u));r.exports=i}),iR=Q((e,r)=>{var n=Dl(),i=(s,u)=>s.sort((l,c)=>n(c,l,u));r.exports=i}),Qs=Q((e,r)=>{var n=Xt(),i=(s,u,l)=>n(s,u,l)>0;r.exports=i}),zl=Q((e,r)=>{var n=Xt(),i=(s,u,l)=>n(s,u,l)<0;r.exports=i}),Tm=Q((e,r)=>{var n=Xt(),i=(s,u,l)=>n(s,u,l)!==0;r.exports=i}),Fl=Q((e,r)=>{var n=Xt(),i=(s,u,l)=>n(s,u,l)>=0;r.exports=i}),Ul=Q((e,r)=>{var n=Xt(),i=(s,u,l)=>n(s,u,l)<=0;r.exports=i}),Rm=Q((e,r)=>{var n=Bl(),i=Tm(),s=Qs(),u=Fl(),l=zl(),c=Ul(),h=(p,y,d,m)=>{switch(y){case"===":return typeof p=="object"&&(p=p.version),typeof d=="object"&&(d=d.version),p===d;case"!==":return typeof p=="object"&&(p=p.version),typeof d=="object"&&(d=d.version),p!==d;case"":case"=":case"==":return n(p,d,m);case"!=":return i(p,d,m);case">":return s(p,d,m);case">=":return u(p,d,m);case"<":return l(p,d,m);case"<=":return c(p,d,m);default:throw new TypeError(`Invalid operator: ${y}`)}};r.exports=h}),sR=Q((e,r)=>{var n=ht(),i=so(),{re:s,t:u}=io(),l=(c,h)=>{if(c instanceof n)return c;if(typeof c=="number"&&(c=String(c)),typeof c!="string")return null;h=h||{};let p=null;if(!h.rtl)p=c.match(s[u.COERCE]);else{let y;for(;(y=s[u.COERCERTL].exec(c))&&(!p||p.index+p[0].length!==c.length);)(!p||y.index+y[0].length!==p.index+p[0].length)&&(p=y),s[u.COERCERTL].lastIndex=y.index+y[1].length+y[2].length;s[u.COERCERTL].lastIndex=-1}return p===null?null:i(`${p[2]}.${p[3]||"0"}.${p[4]||"0"}`,h)};r.exports=l}),aR=Q((e,r)=>{"use strict";r.exports=function(n){n.prototype[Symbol.iterator]=function*(){for(let i=this.head;i;i=i.next)yield i.value}}}),uR=Q((e,r)=>{"use strict";r.exports=n,n.Node=l,n.create=n;function n(c){var h=this;if(h instanceof n||(h=new n),h.tail=null,h.head=null,h.length=0,c&&typeof c.forEach=="function")c.forEach(function(d){h.push(d)});else if(arguments.length>0)for(var p=0,y=arguments.length;p<y;p++)h.push(arguments[p]);return h}n.prototype.removeNode=function(c){if(c.list!==this)throw new Error("removing node which does not belong to this list");var h=c.next,p=c.prev;return h&&(h.prev=p),p&&(p.next=h),c===this.head&&(this.head=h),c===this.tail&&(this.tail=p),c.list.length--,c.next=null,c.prev=null,c.list=null,h},n.prototype.unshiftNode=function(c){if(c!==this.head){c.list&&c.list.removeNode(c);var h=this.head;c.list=this,c.next=h,h&&(h.prev=c),this.head=c,this.tail||(this.tail=c),this.length++}},n.prototype.pushNode=function(c){if(c!==this.tail){c.list&&c.list.removeNode(c);var h=this.tail;c.list=this,c.prev=h,h&&(h.next=c),this.tail=c,this.head||(this.head=c),this.length++}},n.prototype.push=function(){for(var c=0,h=arguments.length;c<h;c++)s(this,arguments[c]);return this.length},n.prototype.unshift=function(){for(var c=0,h=arguments.length;c<h;c++)u(this,arguments[c]);return this.length},n.prototype.pop=function(){if(this.tail){var c=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,c}},n.prototype.shift=function(){if(this.head){var c=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,c}},n.prototype.forEach=function(c,h){h=h||this;for(var p=this.head,y=0;p!==null;y++)c.call(h,p.value,y,this),p=p.next},n.prototype.forEachReverse=function(c,h){h=h||this;for(var p=this.tail,y=this.length-1;p!==null;y--)c.call(h,p.value,y,this),p=p.prev},n.prototype.get=function(c){for(var h=0,p=this.head;p!==null&&h<c;h++)p=p.next;if(h===c&&p!==null)return p.value},n.prototype.getReverse=function(c){for(var h=0,p=this.tail;p!==null&&h<c;h++)p=p.prev;if(h===c&&p!==null)return p.value},n.prototype.map=function(c,h){h=h||this;for(var p=new n,y=this.head;y!==null;)p.push(c.call(h,y.value,this)),y=y.next;return p},n.prototype.mapReverse=function(c,h){h=h||this;for(var p=new n,y=this.tail;y!==null;)p.push(c.call(h,y.value,this)),y=y.prev;return p},n.prototype.reduce=function(c,h){var p,y=this.head;if(arguments.length>1)p=h;else if(this.head)y=this.head.next,p=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var d=0;y!==null;d++)p=c(p,y.value,d),y=y.next;return p},n.prototype.reduceReverse=function(c,h){var p,y=this.tail;if(arguments.length>1)p=h;else if(this.tail)y=this.tail.prev,p=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var d=this.length-1;y!==null;d--)p=c(p,y.value,d),y=y.prev;return p},n.prototype.toArray=function(){for(var c=new Array(this.length),h=0,p=this.head;p!==null;h++)c[h]=p.value,p=p.next;return c},n.prototype.toArrayReverse=function(){for(var c=new Array(this.length),h=0,p=this.tail;p!==null;h++)c[h]=p.value,p=p.prev;return c},n.prototype.slice=function(c,h){h=h||this.length,h<0&&(h+=this.length),c=c||0,c<0&&(c+=this.length);var p=new n;if(h<c||h<0)return p;c<0&&(c=0),h>this.length&&(h=this.length);for(var y=0,d=this.head;d!==null&&y<c;y++)d=d.next;for(;d!==null&&y<h;y++,d=d.next)p.push(d.value);return p},n.prototype.sliceReverse=function(c,h){h=h||this.length,h<0&&(h+=this.length),c=c||0,c<0&&(c+=this.length);var p=new n;if(h<c||h<0)return p;c<0&&(c=0),h>this.length&&(h=this.length);for(var y=this.length,d=this.tail;d!==null&&y>h;y--)d=d.prev;for(;d!==null&&y>c;y--,d=d.prev)p.push(d.value);return p},n.prototype.splice=function(c,h,...p){c>this.length&&(c=this.length-1),c<0&&(c=this.length+c);for(var y=0,d=this.head;d!==null&&y<c;y++)d=d.next;for(var m=[],y=0;d&&y<h;y++)m.push(d.value),d=this.removeNode(d);d===null&&(d=this.tail),d!==this.head&&d!==this.tail&&(d=d.prev);for(var y=0;y<p.length;y++)d=i(this,d,p[y]);return m},n.prototype.reverse=function(){for(var c=this.head,h=this.tail,p=c;p!==null;p=p.prev){var y=p.prev;p.prev=p.next,p.next=y}return this.head=h,this.tail=c,this};function i(c,h,p){var y=h===c.head?new l(p,null,h,c):new l(p,h,h.next,c);return y.next===null&&(c.tail=y),y.prev===null&&(c.head=y),c.length++,y}function s(c,h){c.tail=new l(h,c.tail,null,c),c.head||(c.head=c.tail),c.length++}function u(c,h){c.head=new l(h,null,c.head,c),c.tail||(c.tail=c.head),c.length++}function l(c,h,p,y){if(!(this instanceof l))return new l(c,h,p,y);this.list=y,this.value=c,h?(h.next=this,this.prev=h):this.prev=null,p?(p.prev=this,this.next=p):this.next=null}try{aR()(n)}catch{}}),lR=Q((e,r)=>{"use strict";var n=uR(),i=Symbol("max"),s=Symbol("length"),u=Symbol("lengthCalculator"),l=Symbol("allowStale"),c=Symbol("maxAge"),h=Symbol("dispose"),p=Symbol("noDisposeOnSet"),y=Symbol("lruList"),d=Symbol("cache"),m=Symbol("updateAgeOnGet"),_=()=>1,A=class{constructor(v){if(typeof v=="number"&&(v={max:v}),v||(v={}),v.max&&(typeof v.max!="number"||v.max<0))throw new TypeError("max must be a non-negative number");let q=this[i]=v.max||1/0,C=v.length||_;if(this[u]=typeof C!="function"?_:C,this[l]=v.stale||!1,v.maxAge&&typeof v.maxAge!="number")throw new TypeError("maxAge must be a number");this[c]=v.maxAge||0,this[h]=v.dispose,this[p]=v.noDisposeOnSet||!1,this[m]=v.updateAgeOnGet||!1,this.reset()}set max(v){if(typeof v!="number"||v<0)throw new TypeError("max must be a non-negative number");this[i]=v||1/0,V(this)}get max(){return this[i]}set allowStale(v){this[l]=!!v}get allowStale(){return this[l]}set maxAge(v){if(typeof v!="number")throw new TypeError("maxAge must be a non-negative number");this[c]=v,V(this)}get maxAge(){return this[c]}set lengthCalculator(v){typeof v!="function"&&(v=_),v!==this[u]&&(this[u]=v,this[s]=0,this[y].forEach(q=>{q.length=this[u](q.value,q.key),this[s]+=q.length})),V(this)}get lengthCalculator(){return this[u]}get length(){return this[s]}get itemCount(){return this[y].length}rforEach(v,q){q=q||this;for(let C=this[y].tail;C!==null;){let k=C.prev;B(this,v,C,q),C=k}}forEach(v,q){q=q||this;for(let C=this[y].head;C!==null;){let k=C.next;B(this,v,C,q),C=k}}keys(){return this[y].toArray().map(v=>v.key)}values(){return this[y].toArray().map(v=>v.value)}reset(){this[h]&&this[y]&&this[y].length&&this[y].forEach(v=>this[h](v.key,v.value)),this[d]=new Map,this[y]=new n,this[s]=0}dump(){return this[y].map(v=>R(this,v)?!1:{k:v.key,v:v.value,e:v.now+(v.maxAge||0)}).toArray().filter(v=>v)}dumpLru(){return this[y]}set(v,q,C){if(C=C||this[c],C&&typeof C!="number")throw new TypeError("maxAge must be a number");let k=C?Date.now():0,L=this[u](q,v);if(this[d].has(v)){if(L>this[i])return z(this,this[d].get(v)),!1;let Y=this[d].get(v).value;return this[h]&&(this[p]||this[h](v,Y.value)),Y.now=k,Y.maxAge=C,Y.value=q,this[s]+=L-Y.length,Y.length=L,this.get(v),V(this),!0}let H=new S(v,q,L,k,C);return H.length>this[i]?(this[h]&&this[h](v,q),!1):(this[s]+=H.length,this[y].unshift(H),this[d].set(v,this[y].head),V(this),!0)}has(v){if(!this[d].has(v))return!1;let q=this[d].get(v).value;return!R(this,q)}get(v){return P(this,v,!0)}peek(v){return P(this,v,!1)}pop(){let v=this[y].tail;return v?(z(this,v),v.value):null}del(v){z(this,this[d].get(v))}load(v){this.reset();let q=Date.now();for(let C=v.length-1;C>=0;C--){let k=v[C],L=k.e||0;if(L===0)this.set(k.k,k.v);else{let H=L-q;H>0&&this.set(k.k,k.v,H)}}}prune(){this[d].forEach((v,q)=>P(this,q,!1))}},P=(v,q,C)=>{let k=v[d].get(q);if(k){let L=k.value;if(R(v,L)){if(z(v,k),!v[l])return}else C&&(v[m]&&(k.value.now=Date.now()),v[y].unshiftNode(k));return L.value}},R=(v,q)=>{if(!q||!q.maxAge&&!v[c])return!1;let C=Date.now()-q.now;return q.maxAge?C>q.maxAge:v[c]&&C>v[c]},V=v=>{if(v[s]>v[i])for(let q=v[y].tail;v[s]>v[i]&&q!==null;){let C=q.prev;z(v,q),q=C}},z=(v,q)=>{if(q){let C=q.value;v[h]&&v[h](C.key,C.value),v[s]-=C.length,v[d].delete(C.key),v[y].removeNode(q)}},S=class{constructor(v,q,C,k,L){this.key=v,this.value=q,this.length=C,this.now=k,this.maxAge=L||0}},B=(v,q,C,k)=>{let L=C.value;R(v,L)&&(z(v,C),v[l]||(L=void 0)),L&&q.call(k,L.value,L.key,v)};r.exports=A}),Zt=Q((e,r)=>{var n=class{constructor(T,E){if(E=u(E),T instanceof n)return T.loose===!!E.loose&&T.includePrerelease===!!E.includePrerelease?T:new n(T.raw,E);if(T instanceof l)return this.raw=T.value,this.set=[[T]],this.format(),this;if(this.options=E,this.loose=!!E.loose,this.includePrerelease=!!E.includePrerelease,this.raw=T,this.set=T.split("||").map(N=>this.parseRange(N.trim())).filter(N=>N.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${T}`);if(this.set.length>1){let N=this.set[0];if(this.set=this.set.filter(F=>!A(F[0])),this.set.length===0)this.set=[N];else if(this.set.length>1){for(let F of this.set)if(F.length===1&&P(F[0])){this.set=[F];break}}}this.format()}format(){return this.range=this.set.map(T=>T.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(T){T=T.trim();let E=`parseRange:${Object.keys(this.options).join(",")}:${T}`,N=s.get(E);if(N)return N;let F=this.options.loose,j=F?p[y.HYPHENRANGELOOSE]:p[y.HYPHENRANGE];T=T.replace(j,Y(this.options.includePrerelease)),c("hyphen replace",T),T=T.replace(p[y.COMPARATORTRIM],d),c("comparator trim",T),T=T.replace(p[y.TILDETRIM],m),T=T.replace(p[y.CARETTRIM],_),T=T.split(/\s+/).join(" ");let W=T.split(" ").map(ie=>V(ie,this.options)).join(" ").split(/\s+/).map(ie=>H(ie,this.options));F&&(W=W.filter(ie=>(c("loose invalid filter",ie,this.options),!!ie.match(p[y.COMPARATORLOOSE])))),c("range list",W);let ee=new Map,se=W.map(ie=>new l(ie,this.options));for(let ie of se){if(A(ie))return[ie];ee.set(ie.value,ie)}ee.size>1&&ee.has("")&&ee.delete("");let te=[...ee.values()];return s.set(E,te),te}intersects(T,E){if(!(T instanceof n))throw new TypeError("a Range is required");return this.set.some(N=>R(N,E)&&T.set.some(F=>R(F,E)&&N.every(j=>F.every(W=>j.intersects(W,E)))))}test(T){if(!T)return!1;if(typeof T=="string")try{T=new h(T,this.options)}catch{return!1}for(let E=0;E<this.set.length;E++)if(ne(this.set[E],T,this.options))return!0;return!1}};r.exports=n;var i=lR(),s=new i({max:1e3}),u=Ys(),l=Xs(),c=Js(),h=ht(),{re:p,t:y,comparatorTrimReplace:d,tildeTrimReplace:m,caretTrimReplace:_}=io(),A=T=>T.value==="<0.0.0-0",P=T=>T.value==="",R=(T,E)=>{let N=!0,F=T.slice(),j=F.pop();for(;N&&F.length;)N=F.every(W=>j.intersects(W,E)),j=F.pop();return N},V=(T,E)=>(c("comp",T,E),T=v(T,E),c("caret",T),T=S(T,E),c("tildes",T),T=C(T,E),c("xrange",T),T=L(T,E),c("stars",T),T),z=T=>!T||T.toLowerCase()==="x"||T==="*",S=(T,E)=>T.trim().split(/\s+/).map(N=>B(N,E)).join(" "),B=(T,E)=>{let N=E.loose?p[y.TILDELOOSE]:p[y.TILDE];return T.replace(N,(F,j,W,ee,se)=>{c("tilde",T,F,j,W,ee,se);let te;return z(j)?te="":z(W)?te=`>=${j}.0.0 <${+j+1}.0.0-0`:z(ee)?te=`>=${j}.${W}.0 <${j}.${+W+1}.0-0`:se?(c("replaceTilde pr",se),te=`>=${j}.${W}.${ee}-${se} <${j}.${+W+1}.0-0`):te=`>=${j}.${W}.${ee} <${j}.${+W+1}.0-0`,c("tilde return",te),te})},v=(T,E)=>T.trim().split(/\s+/).map(N=>q(N,E)).join(" "),q=(T,E)=>{c("caret",T,E);let N=E.loose?p[y.CARETLOOSE]:p[y.CARET],F=E.includePrerelease?"-0":"";return T.replace(N,(j,W,ee,se,te)=>{c("caret",T,j,W,ee,se,te);let ie;return z(W)?ie="":z(ee)?ie=`>=${W}.0.0${F} <${+W+1}.0.0-0`:z(se)?W==="0"?ie=`>=${W}.${ee}.0${F} <${W}.${+ee+1}.0-0`:ie=`>=${W}.${ee}.0${F} <${+W+1}.0.0-0`:te?(c("replaceCaret pr",te),W==="0"?ee==="0"?ie=`>=${W}.${ee}.${se}-${te} <${W}.${ee}.${+se+1}-0`:ie=`>=${W}.${ee}.${se}-${te} <${W}.${+ee+1}.0-0`:ie=`>=${W}.${ee}.${se}-${te} <${+W+1}.0.0-0`):(c("no pr"),W==="0"?ee==="0"?ie=`>=${W}.${ee}.${se}${F} <${W}.${ee}.${+se+1}-0`:ie=`>=${W}.${ee}.${se}${F} <${W}.${+ee+1}.0-0`:ie=`>=${W}.${ee}.${se} <${+W+1}.0.0-0`),c("caret return",ie),ie})},C=(T,E)=>(c("replaceXRanges",T,E),T.split(/\s+/).map(N=>k(N,E)).join(" ")),k=(T,E)=>{T=T.trim();let N=E.loose?p[y.XRANGELOOSE]:p[y.XRANGE];return T.replace(N,(F,j,W,ee,se,te)=>{c("xRange",T,F,j,W,ee,se,te);let ie=z(W),Ae=ie||z(ee),Fe=Ae||z(se),Ue=Fe;return j==="="&&Ue&&(j=""),te=E.includePrerelease?"-0":"",ie?j===">"||j==="<"?F="<0.0.0-0":F="*":j&&Ue?(Ae&&(ee=0),se=0,j===">"?(j=">=",Ae?(W=+W+1,ee=0,se=0):(ee=+ee+1,se=0)):j==="<="&&(j="<",Ae?W=+W+1:ee=+ee+1),j==="<"&&(te="-0"),F=`${j+W}.${ee}.${se}${te}`):Ae?F=`>=${W}.0.0${te} <${+W+1}.0.0-0`:Fe&&(F=`>=${W}.${ee}.0${te} <${W}.${+ee+1}.0-0`),c("xRange return",F),F})},L=(T,E)=>(c("replaceStars",T,E),T.trim().replace(p[y.STAR],"")),H=(T,E)=>(c("replaceGTE0",T,E),T.trim().replace(p[E.includePrerelease?y.GTE0PRE:y.GTE0],"")),Y=T=>(E,N,F,j,W,ee,se,te,ie,Ae,Fe,Ue,Ot)=>(z(F)?N="":z(j)?N=`>=${F}.0.0${T?"-0":""}`:z(W)?N=`>=${F}.${j}.0${T?"-0":""}`:ee?N=`>=${N}`:N=`>=${N}${T?"-0":""}`,z(ie)?te="":z(Ae)?te=`<${+ie+1}.0.0-0`:z(Fe)?te=`<${ie}.${+Ae+1}.0-0`:Ue?te=`<=${ie}.${Ae}.${Fe}-${Ue}`:T?te=`<${ie}.${Ae}.${+Fe+1}-0`:te=`<=${te}`,`${N} ${te}`.trim()),ne=(T,E,N)=>{for(let F=0;F<T.length;F++)if(!T[F].test(E))return!1;if(E.prerelease.length&&!N.includePrerelease){for(let F=0;F<T.length;F++)if(c(T[F].semver),T[F].semver!==l.ANY&&T[F].semver.prerelease.length>0){let j=T[F].semver;if(j.major===E.major&&j.minor===E.minor&&j.patch===E.patch)return!0}return!1}return!0}}),Xs=Q((e,r)=>{var n=Symbol("SemVer ANY"),i=class{static get ANY(){return n}constructor(d,m){if(m=s(m),d instanceof i){if(d.loose===!!m.loose)return d;d=d.value}h("comparator",d,m),this.options=m,this.loose=!!m.loose,this.parse(d),this.semver===n?this.value="":this.value=this.operator+this.semver.version,h("comp",this)}parse(d){let m=this.options.loose?u[l.COMPARATORLOOSE]:u[l.COMPARATOR],_=d.match(m);if(!_)throw new TypeError(`Invalid comparator: ${d}`);this.operator=_[1]!==void 0?_[1]:"",this.operator==="="&&(this.operator=""),_[2]?this.semver=new p(_[2],this.options.loose):this.semver=n}toString(){return this.value}test(d){if(h("Comparator.test",d,this.options.loose),this.semver===n||d===n)return!0;if(typeof d=="string")try{d=new p(d,this.options)}catch{return!1}return c(d,this.operator,this.semver,this.options)}intersects(d,m){if(!(d instanceof i))throw new TypeError("a Comparator is required");if((!m||typeof m!="object")&&(m={loose:!!m,includePrerelease:!1}),this.operator==="")return this.value===""?!0:new y(d.value,m).test(this.value);if(d.operator==="")return d.value===""?!0:new y(this.value,m).test(d.semver);let _=(this.operator===">="||this.operator===">")&&(d.operator===">="||d.operator===">"),A=(this.operator==="<="||this.operator==="<")&&(d.operator==="<="||d.operator==="<"),P=this.semver.version===d.semver.version,R=(this.operator===">="||this.operator==="<=")&&(d.operator===">="||d.operator==="<="),V=c(this.semver,"<",d.semver,m)&&(this.operator===">="||this.operator===">")&&(d.operator==="<="||d.operator==="<"),z=c(this.semver,">",d.semver,m)&&(this.operator==="<="||this.operator==="<")&&(d.operator===">="||d.operator===">");return _||A||P&&R||V||z}};r.exports=i;var s=Ys(),{re:u,t:l}=io(),c=Rm(),h=Js(),p=ht(),y=Zt()}),Zs=Q((e,r)=>{var n=Zt(),i=(s,u,l)=>{try{u=new n(u,l)}catch{return!1}return u.test(s)};r.exports=i}),cR=Q((e,r)=>{var n=Zt(),i=(s,u)=>new n(s,u).set.map(l=>l.map(c=>c.value).join(" ").trim().split(" "));r.exports=i}),hR=Q((e,r)=>{var n=ht(),i=Zt(),s=(u,l,c)=>{let h=null,p=null,y=null;try{y=new i(l,c)}catch{return null}return u.forEach(d=>{y.test(d)&&(!h||p.compare(d)===-1)&&(h=d,p=new n(h,c))}),h};r.exports=s}),fR=Q((e,r)=>{var n=ht(),i=Zt(),s=(u,l,c)=>{let h=null,p=null,y=null;try{y=new i(l,c)}catch{return null}return u.forEach(d=>{y.test(d)&&(!h||p.compare(d)===1)&&(h=d,p=new n(h,c))}),h};r.exports=s}),dR=Q((e,r)=>{var n=ht(),i=Zt(),s=Qs(),u=(l,c)=>{l=new i(l,c);let h=new n("0.0.0");if(l.test(h)||(h=new n("0.0.0-0"),l.test(h)))return h;h=null;for(let p=0;p<l.set.length;++p){let y=l.set[p],d=null;y.forEach(m=>{let _=new n(m.semver.version);switch(m.operator){case">":_.prerelease.length===0?_.patch++:_.prerelease.push(0),_.raw=_.format();case"":case">=":(!d||s(_,d))&&(d=_);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${m.operator}`)}}),d&&(!h||s(h,d))&&(h=d)}return h&&l.test(h)?h:null};r.exports=u}),pR=Q((e,r)=>{var n=Zt(),i=(s,u)=>{try{return new n(s,u).range||"*"}catch{return null}};r.exports=i}),Hl=Q((e,r)=>{var n=ht(),i=Xs(),{ANY:s}=i,u=Zt(),l=Zs(),c=Qs(),h=zl(),p=Ul(),y=Fl(),d=(m,_,A,P)=>{m=new n(m,P),_=new u(_,P);let R,V,z,S,B;switch(A){case">":R=c,V=p,z=h,S=">",B=">=";break;case"<":R=h,V=y,z=c,S="<",B="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(l(m,_,P))return!1;for(let v=0;v<_.set.length;++v){let q=_.set[v],C=null,k=null;if(q.forEach(L=>{L.semver===s&&(L=new i(">=0.0.0")),C=C||L,k=k||L,R(L.semver,C.semver,P)?C=L:z(L.semver,k.semver,P)&&(k=L)}),C.operator===S||C.operator===B||(!k.operator||k.operator===S)&&V(m,k.semver)||k.operator===B&&z(m,k.semver))return!1}return!0};r.exports=d}),mR=Q((e,r)=>{var n=Hl(),i=(s,u,l)=>n(s,u,">",l);r.exports=i}),yR=Q((e,r)=>{var n=Hl(),i=(s,u,l)=>n(s,u,"<",l);r.exports=i}),gR=Q((e,r)=>{var n=Zt(),i=(s,u,l)=>(s=new n(s,l),u=new n(u,l),s.intersects(u));r.exports=i}),vR=Q((e,r)=>{var n=Zs(),i=Xt();r.exports=(s,u,l)=>{let c=[],h=null,p=null,y=s.sort((A,P)=>i(A,P,l));for(let A of y)n(A,u,l)?(p=A,h||(h=A)):(p&&c.push([h,p]),p=null,h=null);h&&c.push([h,null]);let d=[];for(let[A,P]of c)A===P?d.push(A):!P&&A===y[0]?d.push("*"):P?A===y[0]?d.push(`<=${P}`):d.push(`${A} - ${P}`):d.push(`>=${A}`);let m=d.join(" || "),_=typeof u.raw=="string"?u.raw:String(u);return m.length<_.length?m:u}}),bR=Q((e,r)=>{var n=Zt(),i=Xs(),{ANY:s}=i,u=Zs(),l=Xt(),c=(d,m,_={})=>{if(d===m)return!0;d=new n(d,_),m=new n(m,_);let A=!1;e:for(let P of d.set){for(let R of m.set){let V=h(P,R,_);if(A=A||V!==null,V)continue e}if(A)return!1}return!0},h=(d,m,_)=>{if(d===m)return!0;if(d.length===1&&d[0].semver===s){if(m.length===1&&m[0].semver===s)return!0;_.includePrerelease?d=[new i(">=0.0.0-0")]:d=[new i(">=0.0.0")]}if(m.length===1&&m[0].semver===s){if(_.includePrerelease)return!0;m=[new i(">=0.0.0")]}let A=new Set,P,R;for(let k of d)k.operator===">"||k.operator===">="?P=p(P,k,_):k.operator==="<"||k.operator==="<="?R=y(R,k,_):A.add(k.semver);if(A.size>1)return null;let V;if(P&&R&&(V=l(P.semver,R.semver,_),V>0||V===0&&(P.operator!==">="||R.operator!=="<=")))return null;for(let k of A){if(P&&!u(k,String(P),_)||R&&!u(k,String(R),_))return null;for(let L of m)if(!u(k,String(L),_))return!1;return!0}let z,S,B,v,q=R&&!_.includePrerelease&&R.semver.prerelease.length?R.semver:!1,C=P&&!_.includePrerelease&&P.semver.prerelease.length?P.semver:!1;q&&q.prerelease.length===1&&R.operator==="<"&&q.prerelease[0]===0&&(q=!1);for(let k of m){if(v=v||k.operator===">"||k.operator===">=",B=B||k.operator==="<"||k.operator==="<=",P){if(C&&k.semver.prerelease&&k.semver.prerelease.length&&k.semver.major===C.major&&k.semver.minor===C.minor&&k.semver.patch===C.patch&&(C=!1),k.operator===">"||k.operator===">="){if(z=p(P,k,_),z===k&&z!==P)return!1}else if(P.operator===">="&&!u(P.semver,String(k),_))return!1}if(R){if(q&&k.semver.prerelease&&k.semver.prerelease.length&&k.semver.major===q.major&&k.semver.minor===q.minor&&k.semver.patch===q.patch&&(q=!1),k.operator==="<"||k.operator==="<="){if(S=y(R,k,_),S===k&&S!==R)return!1}else if(R.operator==="<="&&!u(R.semver,String(k),_))return!1}if(!k.operator&&(R||P)&&V!==0)return!1}return!(P&&B&&!R&&V!==0||R&&v&&!P&&V!==0||C||q)},p=(d,m,_)=>{if(!d)return m;let A=l(d.semver,m.semver,_);return A>0?d:A<0||m.operator===">"&&d.operator===">="?m:d},y=(d,m,_)=>{if(!d)return m;let A=l(d.semver,m.semver,_);return A<0?d:A>0||m.operator==="<"&&d.operator==="<="?m:d};r.exports=c}),Wl=Q((e,r)=>{var n=io(),i=Ks(),s=ht(),u=Sm(),l=so(),c=KT(),h=JT(),p=YT(),y=QT(),d=XT(),m=ZT(),_=eR(),A=tR(),P=Xt(),R=rR(),V=nR(),z=Dl(),S=oR(),B=iR(),v=Qs(),q=zl(),C=Bl(),k=Tm(),L=Fl(),H=Ul(),Y=Rm(),ne=sR(),T=Xs(),E=Zt(),N=Zs(),F=cR(),j=hR(),W=fR(),ee=dR(),se=pR(),te=Hl(),ie=mR(),Ae=yR(),Fe=gR(),Ue=vR(),Ot=bR();r.exports={parse:l,valid:c,clean:h,inc:p,diff:y,major:d,minor:m,patch:_,prerelease:A,compare:P,rcompare:R,compareLoose:V,compareBuild:z,sort:S,rsort:B,gt:v,lt:q,eq:C,neq:k,gte:L,lte:H,cmp:Y,coerce:ne,Comparator:T,Range:E,satisfies:N,toComparators:F,maxSatisfying:j,minSatisfying:W,minVersion:ee,validRange:se,outside:te,gtr:ie,ltr:Ae,intersects:Fe,simplifyRange:Ue,subset:Ot,SemVer:s,re:n.re,src:n.src,tokens:n.t,SEMVER_SPEC_VERSION:i.SEMVER_SPEC_VERSION,compareIdentifiers:u.compareIdentifiers,rcompareIdentifiers:u.rcompareIdentifiers}}),_R=Q((e,r)=>{var n=Wl();r.exports=n.satisfies(process.version,">=15.7.0")}),wR=Q((e,r)=>{var n=Wl();r.exports=n.satisfies(process.version,">=16.9.0")}),Om=Q((e,r)=>{var n=_R(),i=wR(),s={ec:["ES256","ES384","ES512"],rsa:["RS256","PS256","RS384","PS384","RS512","PS512"],"rsa-pss":["PS256","PS384","PS512"]},u={ES256:"prime256v1",ES384:"secp384r1",ES512:"secp521r1"};r.exports=function(l,c){if(!l||!c)return;let h=c.asymmetricKeyType;if(!h)return;let p=s[h];if(!p)throw new Error(`Unknown key type "${h}".`);if(!p.includes(l))throw new Error(`"alg" parameter for "${h}" key type must be one of: ${p.join(", ")}.`);if(n)switch(h){case"ec":let y=c.asymmetricKeyDetails.namedCurve,d=u[l];if(y!==d)throw new Error(`"alg" parameter "${l}" requires curve "${d}".`);break;case"rsa-pss":if(i){let m=parseInt(l.slice(-3),10),{hashAlgorithm:_,mgf1HashAlgorithm:A,saltLength:P}=c.asymmetricKeyDetails;if(_!==`sha${m}`||A!==_)throw new Error(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${l}.`);if(P!==void 0&&P>m>>3)throw new Error(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${l}.`)}break}}}),xm=Q((e,r)=>{var n=Wl();r.exports=n.satisfies(process.version,"^6.12.0 || >=8.0.0")}),ER=Q((e,r)=>{var n=Gs(),i=ym(),s=gm(),u=wm(),l=Em(),c=Om(),h=xm(),p=Ml(),{KeyObject:y,createSecretKey:d,createPublicKey:m}=require("crypto"),_=["RS256","RS384","RS512"],A=["ES256","ES384","ES512"],P=["RS256","RS384","RS512"],R=["HS256","HS384","HS512"];h&&(_.splice(_.length,0,"PS256","PS384","PS512"),P.splice(P.length,0,"PS256","PS384","PS512")),r.exports=function(V,z,S,B){typeof S=="function"&&!B&&(B=S,S={}),S||(S={}),S=Object.assign({},S);let v;if(B?v=B:v=function(Y,ne){if(Y)throw Y;return ne},S.clockTimestamp&&typeof S.clockTimestamp!="number")return v(new n("clockTimestamp must be a number"));if(S.nonce!==void 0&&(typeof S.nonce!="string"||S.nonce.trim()===""))return v(new n("nonce must be a non-empty string"));if(S.allowInvalidAsymmetricKeyTypes!==void 0&&typeof S.allowInvalidAsymmetricKeyTypes!="boolean")return v(new n("allowInvalidAsymmetricKeyTypes must be a boolean"));let q=S.clockTimestamp||Math.floor(Date.now()/1e3);if(!V)return v(new n("jwt must be provided"));if(typeof V!="string")return v(new n("jwt must be a string"));let C=V.split(".");if(C.length!==3)return v(new n("jwt malformed"));let k;try{k=u(V,{complete:!0})}catch(Y){return v(Y)}if(!k)return v(new n("invalid token"));let L=k.header,H;if(typeof z=="function"){if(!B)return v(new n("verify must be called asynchronous if secret or public key is provided as a callback"));H=z}else H=function(Y,ne){return ne(null,z)};return H(L,function(Y,ne){if(Y)return v(new n("error in secret or public key callback: "+Y.message));let T=C[2].trim()!=="";if(!T&&ne)return v(new n("jwt signature is required"));if(T&&!ne)return v(new n("secret or public key must be provided"));if(!T&&!S.algorithms)return v(new n('please specify "none" in "algorithms" to verify unsigned tokens'));if(ne!=null&&!(ne instanceof y))try{ne=m(ne)}catch{try{ne=d(typeof ne=="string"?Buffer.from(ne):ne)}catch{return v(new n("secretOrPublicKey is not valid key material"))}}if(S.algorithms||(ne.type==="secret"?S.algorithms=R:["rsa","rsa-pss"].includes(ne.asymmetricKeyType)?S.algorithms=P:ne.asymmetricKeyType==="ec"?S.algorithms=A:S.algorithms=_),S.algorithms.indexOf(k.header.alg)===-1)return v(new n("invalid algorithm"));if(L.alg.startsWith("HS")&&ne.type!=="secret")return v(new n(`secretOrPublicKey must be a symmetric key when using ${L.alg}`));if(/^(?:RS|PS|ES)/.test(L.alg)&&ne.type!=="public")return v(new n(`secretOrPublicKey must be an asymmetric key when using ${L.alg}`));if(!S.allowInvalidAsymmetricKeyTypes)try{c(L.alg,ne)}catch(F){return v(F)}let E;try{E=p.verify(V,k.header.alg,ne)}catch(F){return v(F)}if(!E)return v(new n("invalid signature"));let N=k.payload;if(typeof N.nbf<"u"&&!S.ignoreNotBefore){if(typeof N.nbf!="number")return v(new n("invalid nbf value"));if(N.nbf>q+(S.clockTolerance||0))return v(new i("jwt not active",new Date(N.nbf*1e3)))}if(typeof N.exp<"u"&&!S.ignoreExpiration){if(typeof N.exp!="number")return v(new n("invalid exp value"));if(q>=N.exp+(S.clockTolerance||0))return v(new s("jwt expired",new Date(N.exp*1e3)))}if(S.audience){let F=Array.isArray(S.audience)?S.audience:[S.audience];if(!(Array.isArray(N.aud)?N.aud:[N.aud]).some(function(j){return F.some(function(W){return W instanceof RegExp?W.test(j):W===j})}))return v(new n("jwt audience invalid. expected: "+F.join(" or ")))}if(S.issuer&&(typeof S.issuer=="string"&&N.iss!==S.issuer||Array.isArray(S.issuer)&&S.issuer.indexOf(N.iss)===-1))return v(new n("jwt issuer invalid. expected: "+S.issuer));if(S.subject&&N.sub!==S.subject)return v(new n("jwt subject invalid. expected: "+S.subject));if(S.jwtid&&N.jti!==S.jwtid)return v(new n("jwt jwtid invalid. expected: "+S.jwtid));if(S.nonce&&N.nonce!==S.nonce)return v(new n("jwt nonce invalid. expected: "+S.nonce));if(S.maxAge){if(typeof N.iat!="number")return v(new n("iat required when maxAge is specified"));let F=l(S.maxAge,N.iat);if(typeof F>"u")return v(new n('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'));if(q>=F+(S.clockTolerance||0))return v(new s("maxAge exceeded",new Date(F*1e3)))}if(S.complete===!0){let F=k.signature;return v(null,{header:L,payload:N,signature:F})}return v(null,N)})}}),SR=Q((e,r)=>{(function(){var n,i="4.17.21",s=200,u="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",l="Expected a function",c="Invalid `variable` option passed into `_.template`",h="__lodash_hash_undefined__",p=500,y="__lodash_placeholder__",d=1,m=2,_=4,A=1,P=2,R=1,V=2,z=4,S=8,B=16,v=32,q=64,C=128,k=256,L=512,H=30,Y="...",ne=800,T=16,E=1,N=2,F=3,j=1/0,W=9007199254740991,ee=17976931348623157e292,se=0/0,te=4294967295,ie=te-1,Ae=te>>>1,Fe=[["ary",C],["bind",R],["bindKey",V],["curry",S],["curryRight",B],["flip",L],["partial",v],["partialRight",q],["rearg",k]],Ue="[object Arguments]",Ot="[object Array]",lr="[object AsyncFunction]",xr="[object Boolean]",uo="[object Date]",eg="[object DOMException]",ii="[object Error]",si="[object Function]",wc="[object GeneratorFunction]",zt="[object Map]",lo="[object Number]",tg="[object Null]",cr="[object Object]",Ec="[object Promise]",rg="[object Proxy]",co="[object RegExp]",Ft="[object Set]",ho="[object String]",ai="[object Symbol]",ng="[object Undefined]",fo="[object WeakMap]",og="[object WeakSet]",po="[object ArrayBuffer]",On="[object DataView]",la="[object Float32Array]",ca="[object Float64Array]",ha="[object Int8Array]",fa="[object Int16Array]",da="[object Int32Array]",pa="[object Uint8Array]",ma="[object Uint8ClampedArray]",ya="[object Uint16Array]",ga="[object Uint32Array]",ig=/\b__p \+= '';/g,sg=/\b(__p \+=) '' \+/g,ag=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Sc=/&(?:amp|lt|gt|quot|#39);/g,Tc=/[&<>"']/g,ug=RegExp(Sc.source),lg=RegExp(Tc.source),cg=/<%-([\s\S]+?)%>/g,hg=/<%([\s\S]+?)%>/g,Rc=/<%=([\s\S]+?)%>/g,fg=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,dg=/^\w*$/,pg=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,va=/[\\^$.*+?()[\]{}|]/g,mg=RegExp(va.source),ba=/^\s+/,yg=/\s/,gg=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,vg=/\{\n\/\* \[wrapped with (.+)\] \*/,bg=/,? & /,_g=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,wg=/[()=,{}\[\]\/\s]/,Eg=/\\(\\)?/g,Sg=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Oc=/\w*$/,Tg=/^[-+]0x[0-9a-f]+$/i,Rg=/^0b[01]+$/i,Og=/^\[object .+?Constructor\]$/,xg=/^0o[0-7]+$/i,Ag=/^(?:0|[1-9]\d*)$/,kg=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ui=/($^)/,Pg=/['\n\r\u2028\u2029\\]/g,li="\\ud800-\\udfff",Cg="\\u0300-\\u036f",Ig="\\ufe20-\\ufe2f",jg="\\u20d0-\\u20ff",xc=Cg+Ig+jg,Ac="\\u2700-\\u27bf",kc="a-z\\xdf-\\xf6\\xf8-\\xff",qg="\\xac\\xb1\\xd7\\xf7",$g="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Lg="\\u2000-\\u206f",Ng=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Pc="A-Z\\xc0-\\xd6\\xd8-\\xde",Cc="\\ufe0e\\ufe0f",Ic=qg+$g+Lg+Ng,_a="['\u2019]",Mg="["+li+"]",jc="["+Ic+"]",ci="["+xc+"]",qc="\\d+",Bg="["+Ac+"]",$c="["+kc+"]",Lc="[^"+li+Ic+qc+Ac+kc+Pc+"]",wa="\\ud83c[\\udffb-\\udfff]",Dg="(?:"+ci+"|"+wa+")",Nc="[^"+li+"]",Ea="(?:\\ud83c[\\udde6-\\uddff]){2}",Sa="[\\ud800-\\udbff][\\udc00-\\udfff]",xn="["+Pc+"]",Mc="\\u200d",Bc="(?:"+$c+"|"+Lc+")",zg="(?:"+xn+"|"+Lc+")",Dc="(?:"+_a+"(?:d|ll|m|re|s|t|ve))?",zc="(?:"+_a+"(?:D|LL|M|RE|S|T|VE))?",Fc=Dg+"?",Uc="["+Cc+"]?",Fg="(?:"+Mc+"(?:"+[Nc,Ea,Sa].join("|")+")"+Uc+Fc+")*",Ug="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Hg="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Hc=Uc+Fc+Fg,Wg="(?:"+[Bg,Ea,Sa].join("|")+")"+Hc,Vg="(?:"+[Nc+ci+"?",ci,Ea,Sa,Mg].join("|")+")",Gg=RegExp(_a,"g"),Kg=RegExp(ci,"g"),Ta=RegExp(wa+"(?="+wa+")|"+Vg+Hc,"g"),Jg=RegExp([xn+"?"+$c+"+"+Dc+"(?="+[jc,xn,"$"].join("|")+")",zg+"+"+zc+"(?="+[jc,xn+Bc,"$"].join("|")+")",xn+"?"+Bc+"+"+Dc,xn+"+"+zc,Hg,Ug,qc,Wg].join("|"),"g"),Yg=RegExp("["+Mc+li+xc+Cc+"]"),Qg=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Xg=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Zg=-1,qe={};qe[la]=qe[ca]=qe[ha]=qe[fa]=qe[da]=qe[pa]=qe[ma]=qe[ya]=qe[ga]=!0,qe[Ue]=qe[Ot]=qe[po]=qe[xr]=qe[On]=qe[uo]=qe[ii]=qe[si]=qe[zt]=qe[lo]=qe[cr]=qe[co]=qe[Ft]=qe[ho]=qe[fo]=!1;var je={};je[Ue]=je[Ot]=je[po]=je[On]=je[xr]=je[uo]=je[la]=je[ca]=je[ha]=je[fa]=je[da]=je[zt]=je[lo]=je[cr]=je[co]=je[Ft]=je[ho]=je[ai]=je[pa]=je[ma]=je[ya]=je[ga]=!0,je[ii]=je[si]=je[fo]=!1;var ev={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},tv={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},rv={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},nv={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ov=parseFloat,iv=parseInt,Wc=typeof global=="object"&&global&&global.Object===Object&&global,sv=typeof self=="object"&&self&&self.Object===Object&&self,Je=Wc||sv||Function("return this")(),Ra=typeof e=="object"&&e&&!e.nodeType&&e,Kr=Ra&&typeof r=="object"&&r&&!r.nodeType&&r,Vc=Kr&&Kr.exports===Ra,Oa=Vc&&Wc.process,xt=function(){try{var M=Kr&&Kr.require&&Kr.require("util").types;return M||Oa&&Oa.binding&&Oa.binding("util")}catch{}}(),Gc=xt&&xt.isArrayBuffer,Kc=xt&&xt.isDate,Jc=xt&&xt.isMap,Yc=xt&&xt.isRegExp,Qc=xt&&xt.isSet,Xc=xt&&xt.isTypedArray;function vt(M,G,U){switch(U.length){case 0:return M.call(G);case 1:return M.call(G,U[0]);case 2:return M.call(G,U[0],U[1]);case 3:return M.call(G,U[0],U[1],U[2])}return M.apply(G,U)}function av(M,G,U,ae){for(var pe=-1,Te=M==null?0:M.length;++pe<Te;){var We=M[pe];G(ae,We,U(We),M)}return ae}function At(M,G){for(var U=-1,ae=M==null?0:M.length;++U<ae&&G(M[U],U,M)!==!1;);return M}function uv(M,G){for(var U=M==null?0:M.length;U--&&G(M[U],U,M)!==!1;);return M}function Zc(M,G){for(var U=-1,ae=M==null?0:M.length;++U<ae;)if(!G(M[U],U,M))return!1;return!0}function Ar(M,G){for(var U=-1,ae=M==null?0:M.length,pe=0,Te=[];++U<ae;){var We=M[U];G(We,U,M)&&(Te[pe++]=We)}return Te}function hi(M,G){var U=M==null?0:M.length;return!!U&&An(M,G,0)>-1}function xa(M,G,U){for(var ae=-1,pe=M==null?0:M.length;++ae<pe;)if(U(G,M[ae]))return!0;return!1}function Le(M,G){for(var U=-1,ae=M==null?0:M.length,pe=Array(ae);++U<ae;)pe[U]=G(M[U],U,M);return pe}function kr(M,G){for(var U=-1,ae=G.length,pe=M.length;++U<ae;)M[pe+U]=G[U];return M}function Aa(M,G,U,ae){var pe=-1,Te=M==null?0:M.length;for(ae&&Te&&(U=M[++pe]);++pe<Te;)U=G(U,M[pe],pe,M);return U}function lv(M,G,U,ae){var pe=M==null?0:M.length;for(ae&&pe&&(U=M[--pe]);pe--;)U=G(U,M[pe],pe,M);return U}function ka(M,G){for(var U=-1,ae=M==null?0:M.length;++U<ae;)if(G(M[U],U,M))return!0;return!1}var cv=Pa("length");function hv(M){return M.split("")}function fv(M){return M.match(_g)||[]}function eh(M,G,U){var ae;return U(M,function(pe,Te,We){if(G(pe,Te,We))return ae=Te,!1}),ae}function fi(M,G,U,ae){for(var pe=M.length,Te=U+(ae?1:-1);ae?Te--:++Te<pe;)if(G(M[Te],Te,M))return Te;return-1}function An(M,G,U){return G===G?Tv(M,G,U):fi(M,th,U)}function dv(M,G,U,ae){for(var pe=U-1,Te=M.length;++pe<Te;)if(ae(M[pe],G))return pe;return-1}function th(M){return M!==M}function rh(M,G){var U=M==null?0:M.length;return U?Ia(M,G)/U:se}function Pa(M){return function(G){return G==null?n:G[M]}}function Ca(M){return function(G){return M==null?n:M[G]}}function nh(M,G,U,ae,pe){return pe(M,function(Te,We,Ie){U=ae?(ae=!1,Te):G(U,Te,We,Ie)}),U}function pv(M,G){var U=M.length;for(M.sort(G);U--;)M[U]=M[U].value;return M}function Ia(M,G){for(var U,ae=-1,pe=M.length;++ae<pe;){var Te=G(M[ae]);Te!==n&&(U=U===n?Te:U+Te)}return U}function ja(M,G){for(var U=-1,ae=Array(M);++U<M;)ae[U]=G(U);return ae}function mv(M,G){return Le(G,function(U){return[U,M[U]]})}function oh(M){return M&&M.slice(0,uh(M)+1).replace(ba,"")}function bt(M){return function(G){return M(G)}}function qa(M,G){return Le(G,function(U){return M[U]})}function mo(M,G){return M.has(G)}function ih(M,G){for(var U=-1,ae=M.length;++U<ae&&An(G,M[U],0)>-1;);return U}function sh(M,G){for(var U=M.length;U--&&An(G,M[U],0)>-1;);return U}function yv(M,G){for(var U=M.length,ae=0;U--;)M[U]===G&&++ae;return ae}var gv=Ca(ev),vv=Ca(tv);function bv(M){return"\\"+nv[M]}function _v(M,G){return M==null?n:M[G]}function kn(M){return Yg.test(M)}function wv(M){return Qg.test(M)}function Ev(M){for(var G,U=[];!(G=M.next()).done;)U.push(G.value);return U}function $a(M){var G=-1,U=Array(M.size);return M.forEach(function(ae,pe){U[++G]=[pe,ae]}),U}function ah(M,G){return function(U){return M(G(U))}}function Pr(M,G){for(var U=-1,ae=M.length,pe=0,Te=[];++U<ae;){var We=M[U];(We===G||We===y)&&(M[U]=y,Te[pe++]=U)}return Te}function di(M){var G=-1,U=Array(M.size);return M.forEach(function(ae){U[++G]=ae}),U}function Sv(M){var G=-1,U=Array(M.size);return M.forEach(function(ae){U[++G]=[ae,ae]}),U}function Tv(M,G,U){for(var ae=U-1,pe=M.length;++ae<pe;)if(M[ae]===G)return ae;return-1}function Rv(M,G,U){for(var ae=U+1;ae--;)if(M[ae]===G)return ae;return ae}function Pn(M){return kn(M)?xv(M):cv(M)}function Ut(M){return kn(M)?Av(M):hv(M)}function uh(M){for(var G=M.length;G--&&yg.test(M.charAt(G)););return G}var Ov=Ca(rv);function xv(M){for(var G=Ta.lastIndex=0;Ta.test(M);)++G;return G}function Av(M){return M.match(Ta)||[]}function kv(M){return M.match(Jg)||[]}var Pv=function M(G){G=G==null?Je:Cr.defaults(Je.Object(),G,Cr.pick(Je,Xg));var U=G.Array,ae=G.Date,pe=G.Error,Te=G.Function,We=G.Math,Ie=G.Object,La=G.RegExp,Cv=G.String,kt=G.TypeError,pi=U.prototype,Iv=Te.prototype,Cn=Ie.prototype,mi=G["__core-js_shared__"],yi=Iv.toString,ke=Cn.hasOwnProperty,jv=0,lh=function(){var t=/[^.]+$/.exec(mi&&mi.keys&&mi.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),gi=Cn.toString,qv=yi.call(Ie),$v=Je._,Lv=La("^"+yi.call(ke).replace(va,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),vi=Vc?G.Buffer:n,Ir=G.Symbol,bi=G.Uint8Array,ch=vi?vi.allocUnsafe:n,_i=ah(Ie.getPrototypeOf,Ie),hh=Ie.create,fh=Cn.propertyIsEnumerable,wi=pi.splice,dh=Ir?Ir.isConcatSpreadable:n,yo=Ir?Ir.iterator:n,Jr=Ir?Ir.toStringTag:n,Ei=function(){try{var t=en(Ie,"defineProperty");return t({},"",{}),t}catch{}}(),Nv=G.clearTimeout!==Je.clearTimeout&&G.clearTimeout,Mv=ae&&ae.now!==Je.Date.now&&ae.now,Bv=G.setTimeout!==Je.setTimeout&&G.setTimeout,Si=We.ceil,Ti=We.floor,Na=Ie.getOwnPropertySymbols,Dv=vi?vi.isBuffer:n,ph=G.isFinite,zv=pi.join,Fv=ah(Ie.keys,Ie),Ve=We.max,tt=We.min,Uv=ae.now,Hv=G.parseInt,mh=We.random,Wv=pi.reverse,Ma=en(G,"DataView"),go=en(G,"Map"),Ba=en(G,"Promise"),In=en(G,"Set"),vo=en(G,"WeakMap"),bo=en(Ie,"create"),Ri=vo&&new vo,jn={},Vv=tn(Ma),Gv=tn(go),Kv=tn(Ba),Jv=tn(In),Yv=tn(vo),Oi=Ir?Ir.prototype:n,_o=Oi?Oi.valueOf:n,yh=Oi?Oi.toString:n;function b(t){if(Be(t)&&!me(t)&&!(t instanceof _e)){if(t instanceof Pt)return t;if(ke.call(t,"__wrapped__"))return vf(t)}return new Pt(t)}var qn=function(){function t(){}return function(o){if(!Ne(o))return{};if(hh)return hh(o);t.prototype=o;var a=new t;return t.prototype=n,a}}();function xi(){}function Pt(t,o){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!o,this.__index__=0,this.__values__=n}b.templateSettings={escape:cg,evaluate:hg,interpolate:Rc,variable:"",imports:{_:b}},b.prototype=xi.prototype,b.prototype.constructor=b,Pt.prototype=qn(xi.prototype),Pt.prototype.constructor=Pt;function _e(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=te,this.__views__=[]}function Qv(){var t=new _e(this.__wrapped__);return t.__actions__=ft(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=ft(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=ft(this.__views__),t}function Xv(){if(this.__filtered__){var t=new _e(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function Zv(){var t=this.__wrapped__.value(),o=this.__dir__,a=me(t),f=o<0,g=a?t.length:0,w=hb(0,g,this.__views__),O=w.start,I=w.end,D=I-O,K=f?I:O-1,J=this.__iteratees__,X=J.length,oe=0,ue=tt(D,this.__takeCount__);if(!a||!f&&g==D&&ue==D)return Dh(t,this.__actions__);var he=[];e:for(;D--&&oe<ue;){K+=o;for(var ge=-1,fe=t[K];++ge<X;){var be=J[ge],we=be.iteratee,Et=be.type,at=we(fe);if(Et==N)fe=at;else if(!at){if(Et==E)continue e;break e}}he[oe++]=fe}return he}_e.prototype=qn(xi.prototype),_e.prototype.constructor=_e;function Yr(t){var o=-1,a=t==null?0:t.length;for(this.clear();++o<a;){var f=t[o];this.set(f[0],f[1])}}function e0(){this.__data__=bo?bo(null):{},this.size=0}function t0(t){var o=this.has(t)&&delete this.__data__[t];return this.size-=o?1:0,o}function r0(t){var o=this.__data__;if(bo){var a=o[t];return a===h?n:a}return ke.call(o,t)?o[t]:n}function n0(t){var o=this.__data__;return bo?o[t]!==n:ke.call(o,t)}function o0(t,o){var a=this.__data__;return this.size+=this.has(t)?0:1,a[t]=bo&&o===n?h:o,this}Yr.prototype.clear=e0,Yr.prototype.delete=t0,Yr.prototype.get=r0,Yr.prototype.has=n0,Yr.prototype.set=o0;function hr(t){var o=-1,a=t==null?0:t.length;for(this.clear();++o<a;){var f=t[o];this.set(f[0],f[1])}}function i0(){this.__data__=[],this.size=0}function s0(t){var o=this.__data__,a=Ai(o,t);if(a<0)return!1;var f=o.length-1;return a==f?o.pop():wi.call(o,a,1),--this.size,!0}function a0(t){var o=this.__data__,a=Ai(o,t);return a<0?n:o[a][1]}function u0(t){return Ai(this.__data__,t)>-1}function l0(t,o){var a=this.__data__,f=Ai(a,t);return f<0?(++this.size,a.push([t,o])):a[f][1]=o,this}hr.prototype.clear=i0,hr.prototype.delete=s0,hr.prototype.get=a0,hr.prototype.has=u0,hr.prototype.set=l0;function fr(t){var o=-1,a=t==null?0:t.length;for(this.clear();++o<a;){var f=t[o];this.set(f[0],f[1])}}function c0(){this.size=0,this.__data__={hash:new Yr,map:new(go||hr),string:new Yr}}function h0(t){var o=Di(this,t).delete(t);return this.size-=o?1:0,o}function f0(t){return Di(this,t).get(t)}function d0(t){return Di(this,t).has(t)}function p0(t,o){var a=Di(this,t),f=a.size;return a.set(t,o),this.size+=a.size==f?0:1,this}fr.prototype.clear=c0,fr.prototype.delete=h0,fr.prototype.get=f0,fr.prototype.has=d0,fr.prototype.set=p0;function Qr(t){var o=-1,a=t==null?0:t.length;for(this.__data__=new fr;++o<a;)this.add(t[o])}function m0(t){return this.__data__.set(t,h),this}function y0(t){return this.__data__.has(t)}Qr.prototype.add=Qr.prototype.push=m0,Qr.prototype.has=y0;function Ht(t){var o=this.__data__=new hr(t);this.size=o.size}function g0(){this.__data__=new hr,this.size=0}function v0(t){var o=this.__data__,a=o.delete(t);return this.size=o.size,a}function b0(t){return this.__data__.get(t)}function _0(t){return this.__data__.has(t)}function w0(t,o){var a=this.__data__;if(a instanceof hr){var f=a.__data__;if(!go||f.length<s-1)return f.push([t,o]),this.size=++a.size,this;a=this.__data__=new fr(f)}return a.set(t,o),this.size=a.size,this}Ht.prototype.clear=g0,Ht.prototype.delete=v0,Ht.prototype.get=b0,Ht.prototype.has=_0,Ht.prototype.set=w0;function gh(t,o){var a=me(t),f=!a&&rn(t),g=!a&&!f&&Nr(t),w=!a&&!f&&!g&&Mn(t),O=a||f||g||w,I=O?ja(t.length,Cv):[],D=I.length;for(var K in t)(o||ke.call(t,K))&&!(O&&(K=="length"||g&&(K=="offset"||K=="parent")||w&&(K=="buffer"||K=="byteLength"||K=="byteOffset")||yr(K,D)))&&I.push(K);return I}function vh(t){var o=t.length;return o?t[Ya(0,o-1)]:n}function E0(t,o){return zi(ft(t),Xr(o,0,t.length))}function S0(t){return zi(ft(t))}function Da(t,o,a){(a!==n&&!Wt(t[o],a)||a===n&&!(o in t))&&dr(t,o,a)}function wo(t,o,a){var f=t[o];(!(ke.call(t,o)&&Wt(f,a))||a===n&&!(o in t))&&dr(t,o,a)}function Ai(t,o){for(var a=t.length;a--;)if(Wt(t[a][0],o))return a;return-1}function T0(t,o,a,f){return jr(t,function(g,w,O){o(f,g,a(g),O)}),f}function bh(t,o){return t&&rr(o,Ye(o),t)}function R0(t,o){return t&&rr(o,pt(o),t)}function dr(t,o,a){o=="__proto__"&&Ei?Ei(t,o,{configurable:!0,enumerable:!0,value:a,writable:!0}):t[o]=a}function za(t,o){for(var a=-1,f=o.length,g=U(f),w=t==null;++a<f;)g[a]=w?n:wu(t,o[a]);return g}function Xr(t,o,a){return t===t&&(a!==n&&(t=t<=a?t:a),o!==n&&(t=t>=o?t:o)),t}function Ct(t,o,a,f,g,w){var O,I=o&d,D=o&m,K=o&_;if(a&&(O=g?a(t,f,g,w):a(t)),O!==n)return O;if(!Ne(t))return t;var J=me(t);if(J){if(O=db(t),!I)return ft(t,O)}else{var X=rt(t),oe=X==si||X==wc;if(Nr(t))return Uh(t,I);if(X==cr||X==Ue||oe&&!g){if(O=D||oe?{}:lf(t),!I)return D?rb(t,R0(O,t)):tb(t,bh(O,t))}else{if(!je[X])return g?t:{};O=pb(t,X,I)}}w||(w=new Ht);var ue=w.get(t);if(ue)return ue;w.set(t,O),Mf(t)?t.forEach(function(fe){O.add(Ct(fe,o,a,fe,t,w))}):Lf(t)&&t.forEach(function(fe,be){O.set(be,Ct(fe,o,a,be,t,w))});var he=K?D?au:su:D?pt:Ye,ge=J?n:he(t);return At(ge||t,function(fe,be){ge&&(be=fe,fe=t[be]),wo(O,be,Ct(fe,o,a,be,t,w))}),O}function O0(t){var o=Ye(t);return function(a){return _h(a,t,o)}}function _h(t,o,a){var f=a.length;if(t==null)return!f;for(t=Ie(t);f--;){var g=a[f],w=o[g],O=t[g];if(O===n&&!(g in t)||!w(O))return!1}return!0}function wh(t,o,a){if(typeof t!="function")throw new kt(l);return Ao(function(){t.apply(n,a)},o)}function Eo(t,o,a,f){var g=-1,w=hi,O=!0,I=t.length,D=[],K=o.length;if(!I)return D;a&&(o=Le(o,bt(a))),f?(w=xa,O=!1):o.length>=s&&(w=mo,O=!1,o=new Qr(o));e:for(;++g<I;){var J=t[g],X=a==null?J:a(J);if(J=f||J!==0?J:0,O&&X===X){for(var oe=K;oe--;)if(o[oe]===X)continue e;D.push(J)}else w(o,X,f)||D.push(J)}return D}var jr=Kh(tr),Eh=Kh(Ua,!0);function x0(t,o){var a=!0;return jr(t,function(f,g,w){return a=!!o(f,g,w),a}),a}function ki(t,o,a){for(var f=-1,g=t.length;++f<g;){var w=t[f],O=o(w);if(O!=null&&(I===n?O===O&&!wt(O):a(O,I)))var I=O,D=w}return D}function A0(t,o,a,f){var g=t.length;for(a=ye(a),a<0&&(a=-a>g?0:g+a),f=f===n||f>g?g:ye(f),f<0&&(f+=g),f=a>f?0:Df(f);a<f;)t[a++]=o;return t}function Sh(t,o){var a=[];return jr(t,function(f,g,w){o(f,g,w)&&a.push(f)}),a}function Xe(t,o,a,f,g){var w=-1,O=t.length;for(a||(a=yb),g||(g=[]);++w<O;){var I=t[w];o>0&&a(I)?o>1?Xe(I,o-1,a,f,g):kr(g,I):f||(g[g.length]=I)}return g}var Fa=Jh(),Th=Jh(!0);function tr(t,o){return t&&Fa(t,o,Ye)}function Ua(t,o){return t&&Th(t,o,Ye)}function Pi(t,o){return Ar(o,function(a){return gr(t[a])})}function Zr(t,o){o=$r(o,t);for(var a=0,f=o.length;t!=null&&a<f;)t=t[nr(o[a++])];return a&&a==f?t:n}function Rh(t,o,a){var f=o(t);return me(t)?f:kr(f,a(t))}function it(t){return t==null?t===n?ng:tg:Jr&&Jr in Ie(t)?cb(t):Sb(t)}function Ha(t,o){return t>o}function k0(t,o){return t!=null&&ke.call(t,o)}function P0(t,o){return t!=null&&o in Ie(t)}function C0(t,o,a){return t>=tt(o,a)&&t<Ve(o,a)}function Wa(t,o,a){for(var f=a?xa:hi,g=t[0].length,w=t.length,O=w,I=U(w),D=1/0,K=[];O--;){var J=t[O];O&&o&&(J=Le(J,bt(o))),D=tt(J.length,D),I[O]=!a&&(o||g>=120&&J.length>=120)?new Qr(O&&J):n}J=t[0];var X=-1,oe=I[0];e:for(;++X<g&&K.length<D;){var ue=J[X],he=o?o(ue):ue;if(ue=a||ue!==0?ue:0,!(oe?mo(oe,he):f(K,he,a))){for(O=w;--O;){var ge=I[O];if(!(ge?mo(ge,he):f(t[O],he,a)))continue e}oe&&oe.push(he),K.push(ue)}}return K}function I0(t,o,a,f){return tr(t,function(g,w,O){o(f,a(g),w,O)}),f}function So(t,o,a){o=$r(o,t),t=df(t,o);var f=t==null?t:t[nr(jt(o))];return f==null?n:vt(f,t,a)}function Oh(t){return Be(t)&&it(t)==Ue}function j0(t){return Be(t)&&it(t)==po}function q0(t){return Be(t)&&it(t)==uo}function To(t,o,a,f,g){return t===o?!0:t==null||o==null||!Be(t)&&!Be(o)?t!==t&&o!==o:$0(t,o,a,f,To,g)}function $0(t,o,a,f,g,w){var O=me(t),I=me(o),D=O?Ot:rt(t),K=I?Ot:rt(o);D=D==Ue?cr:D,K=K==Ue?cr:K;var J=D==cr,X=K==cr,oe=D==K;if(oe&&Nr(t)){if(!Nr(o))return!1;O=!0,J=!1}if(oe&&!J)return w||(w=new Ht),O||Mn(t)?sf(t,o,a,f,g,w):ub(t,o,D,a,f,g,w);if(!(a&A)){var ue=J&&ke.call(t,"__wrapped__"),he=X&&ke.call(o,"__wrapped__");if(ue||he){var ge=ue?t.value():t,fe=he?o.value():o;return w||(w=new Ht),g(ge,fe,a,f,w)}}return oe?(w||(w=new Ht),lb(t,o,a,f,g,w)):!1}function L0(t){return Be(t)&&rt(t)==zt}function Va(t,o,a,f){var g=a.length,w=g,O=!f;if(t==null)return!w;for(t=Ie(t);g--;){var I=a[g];if(O&&I[2]?I[1]!==t[I[0]]:!(I[0]in t))return!1}for(;++g<w;){I=a[g];var D=I[0],K=t[D],J=I[1];if(O&&I[2]){if(K===n&&!(D in t))return!1}else{var X=new Ht;if(f)var oe=f(K,J,D,t,o,X);if(!(oe===n?To(J,K,A|P,f,X):oe))return!1}}return!0}function xh(t){if(!Ne(t)||vb(t))return!1;var o=gr(t)?Lv:Og;return o.test(tn(t))}function N0(t){return Be(t)&&it(t)==co}function M0(t){return Be(t)&&rt(t)==Ft}function B0(t){return Be(t)&&Gi(t.length)&&!!qe[it(t)]}function Ah(t){return typeof t=="function"?t:t==null?mt:typeof t=="object"?me(t)?Ch(t[0],t[1]):Ph(t):Qf(t)}function Ga(t){if(!xo(t))return Fv(t);var o=[];for(var a in Ie(t))ke.call(t,a)&&a!="constructor"&&o.push(a);return o}function D0(t){if(!Ne(t))return Eb(t);var o=xo(t),a=[];for(var f in t)f=="constructor"&&(o||!ke.call(t,f))||a.push(f);return a}function Ka(t,o){return t<o}function kh(t,o){var a=-1,f=dt(t)?U(t.length):[];return jr(t,function(g,w,O){f[++a]=o(g,w,O)}),f}function Ph(t){var o=lu(t);return o.length==1&&o[0][2]?hf(o[0][0],o[0][1]):function(a){return a===t||Va(a,t,o)}}function Ch(t,o){return hu(t)&&cf(o)?hf(nr(t),o):function(a){var f=wu(a,t);return f===n&&f===o?Eu(a,t):To(o,f,A|P)}}function Ci(t,o,a,f,g){t!==o&&Fa(o,function(w,O){if(g||(g=new Ht),Ne(w))z0(t,o,O,a,Ci,f,g);else{var I=f?f(du(t,O),w,O+"",t,o,g):n;I===n&&(I=w),Da(t,O,I)}},pt)}function z0(t,o,a,f,g,w,O){var I=du(t,a),D=du(o,a),K=O.get(D);if(K){Da(t,a,K);return}var J=w?w(I,D,a+"",t,o,O):n,X=J===n;if(X){var oe=me(D),ue=!oe&&Nr(D),he=!oe&&!ue&&Mn(D);J=D,oe||ue||he?me(I)?J=I:De(I)?J=ft(I):ue?(X=!1,J=Uh(D,!0)):he?(X=!1,J=Hh(D,!0)):J=[]:ko(D)||rn(D)?(J=I,rn(I)?J=zf(I):(!Ne(I)||gr(I))&&(J=lf(D))):X=!1}X&&(O.set(D,J),g(J,D,f,w,O),O.delete(D)),Da(t,a,J)}function Ih(t,o){var a=t.length;if(a)return o+=o<0?a:0,yr(o,a)?t[o]:n}function jh(t,o,a){o.length?o=Le(o,function(w){return me(w)?function(O){return Zr(O,w.length===1?w[0]:w)}:w}):o=[mt];var f=-1;o=Le(o,bt(ce()));var g=kh(t,function(w,O,I){var D=Le(o,function(K){return K(w)});return{criteria:D,index:++f,value:w}});return pv(g,function(w,O){return eb(w,O,a)})}function F0(t,o){return qh(t,o,function(a,f){return Eu(t,f)})}function qh(t,o,a){for(var f=-1,g=o.length,w={};++f<g;){var O=o[f],I=Zr(t,O);a(I,O)&&Ro(w,$r(O,t),I)}return w}function U0(t){return function(o){return Zr(o,t)}}function Ja(t,o,a,f){var g=f?dv:An,w=-1,O=o.length,I=t;for(t===o&&(o=ft(o)),a&&(I=Le(t,bt(a)));++w<O;)for(var D=0,K=o[w],J=a?a(K):K;(D=g(I,J,D,f))>-1;)I!==t&&wi.call(I,D,1),wi.call(t,D,1);return t}function $h(t,o){for(var a=t?o.length:0,f=a-1;a--;){var g=o[a];if(a==f||g!==w){var w=g;yr(g)?wi.call(t,g,1):Za(t,g)}}return t}function Ya(t,o){return t+Ti(mh()*(o-t+1))}function H0(t,o,a,f){for(var g=-1,w=Ve(Si((o-t)/(a||1)),0),O=U(w);w--;)O[f?w:++g]=t,t+=a;return O}function Qa(t,o){var a="";if(!t||o<1||o>W)return a;do o%2&&(a+=t),o=Ti(o/2),o&&(t+=t);while(o);return a}function ve(t,o){return pu(ff(t,o,mt),t+"")}function W0(t){return vh(Bn(t))}function V0(t,o){var a=Bn(t);return zi(a,Xr(o,0,a.length))}function Ro(t,o,a,f){if(!Ne(t))return t;o=$r(o,t);for(var g=-1,w=o.length,O=w-1,I=t;I!=null&&++g<w;){var D=nr(o[g]),K=a;if(D==="__proto__"||D==="constructor"||D==="prototype")return t;if(g!=O){var J=I[D];K=f?f(J,D,I):n,K===n&&(K=Ne(J)?J:yr(o[g+1])?[]:{})}wo(I,D,K),I=I[D]}return t}var Lh=Ri?function(t,o){return Ri.set(t,o),t}:mt,G0=Ei?function(t,o){return Ei(t,"toString",{configurable:!0,enumerable:!1,value:Tu(o),writable:!0})}:mt;function K0(t){return zi(Bn(t))}function It(t,o,a){var f=-1,g=t.length;o<0&&(o=-o>g?0:g+o),a=a>g?g:a,a<0&&(a+=g),g=o>a?0:a-o>>>0,o>>>=0;for(var w=U(g);++f<g;)w[f]=t[f+o];return w}function J0(t,o){var a;return jr(t,function(f,g,w){return a=o(f,g,w),!a}),!!a}function Ii(t,o,a){var f=0,g=t==null?f:t.length;if(typeof o=="number"&&o===o&&g<=Ae){for(;f<g;){var w=f+g>>>1,O=t[w];O!==null&&!wt(O)&&(a?O<=o:O<o)?f=w+1:g=w}return g}return Xa(t,o,mt,a)}function Xa(t,o,a,f){var g=0,w=t==null?0:t.length;if(w===0)return 0;o=a(o);for(var O=o!==o,I=o===null,D=wt(o),K=o===n;g<w;){var J=Ti((g+w)/2),X=a(t[J]),oe=X!==n,ue=X===null,he=X===X,ge=wt(X);if(O)var fe=f||he;else K?fe=he&&(f||oe):I?fe=he&&oe&&(f||!ue):D?fe=he&&oe&&!ue&&(f||!ge):ue||ge?fe=!1:fe=f?X<=o:X<o;fe?g=J+1:w=J}return tt(w,ie)}function Nh(t,o){for(var a=-1,f=t.length,g=0,w=[];++a<f;){var O=t[a],I=o?o(O):O;if(!a||!Wt(I,D)){var D=I;w[g++]=O===0?0:O}}return w}function Mh(t){return typeof t=="number"?t:wt(t)?se:+t}function _t(t){if(typeof t=="string")return t;if(me(t))return Le(t,_t)+"";if(wt(t))return yh?yh.call(t):"";var o=t+"";return o=="0"&&1/t==-j?"-0":o}function qr(t,o,a){var f=-1,g=hi,w=t.length,O=!0,I=[],D=I;if(a)O=!1,g=xa;else if(w>=s){var K=o?null:sb(t);if(K)return di(K);O=!1,g=mo,D=new Qr}else D=o?[]:I;e:for(;++f<w;){var J=t[f],X=o?o(J):J;if(J=a||J!==0?J:0,O&&X===X){for(var oe=D.length;oe--;)if(D[oe]===X)continue e;o&&D.push(X),I.push(J)}else g(D,X,a)||(D!==I&&D.push(X),I.push(J))}return I}function Za(t,o){return o=$r(o,t),t=df(t,o),t==null||delete t[nr(jt(o))]}function Bh(t,o,a,f){return Ro(t,o,a(Zr(t,o)),f)}function ji(t,o,a,f){for(var g=t.length,w=f?g:-1;(f?w--:++w<g)&&o(t[w],w,t););return a?It(t,f?0:w,f?w+1:g):It(t,f?w+1:0,f?g:w)}function Dh(t,o){var a=t;return a instanceof _e&&(a=a.value()),Aa(o,function(f,g){return g.func.apply(g.thisArg,kr([f],g.args))},a)}function eu(t,o,a){var f=t.length;if(f<2)return f?qr(t[0]):[];for(var g=-1,w=U(f);++g<f;)for(var O=t[g],I=-1;++I<f;)I!=g&&(w[g]=Eo(w[g]||O,t[I],o,a));return qr(Xe(w,1),o,a)}function zh(t,o,a){for(var f=-1,g=t.length,w=o.length,O={};++f<g;){var I=f<w?o[f]:n;a(O,t[f],I)}return O}function tu(t){return De(t)?t:[]}function ru(t){return typeof t=="function"?t:mt}function $r(t,o){return me(t)?t:hu(t,o)?[t]:gf(xe(t))}var Y0=ve;function Lr(t,o,a){var f=t.length;return a=a===n?f:a,!o&&a>=f?t:It(t,o,a)}var Fh=Nv||function(t){return Je.clearTimeout(t)};function Uh(t,o){if(o)return t.slice();var a=t.length,f=ch?ch(a):new t.constructor(a);return t.copy(f),f}function nu(t){var o=new t.constructor(t.byteLength);return new bi(o).set(new bi(t)),o}function Q0(t,o){var a=o?nu(t.buffer):t.buffer;return new t.constructor(a,t.byteOffset,t.byteLength)}function X0(t){var o=new t.constructor(t.source,Oc.exec(t));return o.lastIndex=t.lastIndex,o}function Z0(t){return _o?Ie(_o.call(t)):{}}function Hh(t,o){var a=o?nu(t.buffer):t.buffer;return new t.constructor(a,t.byteOffset,t.length)}function Wh(t,o){if(t!==o){var a=t!==n,f=t===null,g=t===t,w=wt(t),O=o!==n,I=o===null,D=o===o,K=wt(o);if(!I&&!K&&!w&&t>o||w&&O&&D&&!I&&!K||f&&O&&D||!a&&D||!g)return 1;if(!f&&!w&&!K&&t<o||K&&a&&g&&!f&&!w||I&&a&&g||!O&&g||!D)return-1}return 0}function eb(t,o,a){for(var f=-1,g=t.criteria,w=o.criteria,O=g.length,I=a.length;++f<O;){var D=Wh(g[f],w[f]);if(D){if(f>=I)return D;var K=a[f];return D*(K=="desc"?-1:1)}}return t.index-o.index}function Vh(t,o,a,f){for(var g=-1,w=t.length,O=a.length,I=-1,D=o.length,K=Ve(w-O,0),J=U(D+K),X=!f;++I<D;)J[I]=o[I];for(;++g<O;)(X||g<w)&&(J[a[g]]=t[g]);for(;K--;)J[I++]=t[g++];return J}function Gh(t,o,a,f){for(var g=-1,w=t.length,O=-1,I=a.length,D=-1,K=o.length,J=Ve(w-I,0),X=U(J+K),oe=!f;++g<J;)X[g]=t[g];for(var ue=g;++D<K;)X[ue+D]=o[D];for(;++O<I;)(oe||g<w)&&(X[ue+a[O]]=t[g++]);return X}function ft(t,o){var a=-1,f=t.length;for(o||(o=U(f));++a<f;)o[a]=t[a];return o}function rr(t,o,a,f){var g=!a;a||(a={});for(var w=-1,O=o.length;++w<O;){var I=o[w],D=f?f(a[I],t[I],I,a,t):n;D===n&&(D=t[I]),g?dr(a,I,D):wo(a,I,D)}return a}function tb(t,o){return rr(t,cu(t),o)}function rb(t,o){return rr(t,af(t),o)}function qi(t,o){return function(a,f){var g=me(a)?av:T0,w=o?o():{};return g(a,t,ce(f,2),w)}}function $n(t){return ve(function(o,a){var f=-1,g=a.length,w=g>1?a[g-1]:n,O=g>2?a[2]:n;for(w=t.length>3&&typeof w=="function"?(g--,w):n,O&&st(a[0],a[1],O)&&(w=g<3?n:w,g=1),o=Ie(o);++f<g;){var I=a[f];I&&t(o,I,f,w)}return o})}function Kh(t,o){return function(a,f){if(a==null)return a;if(!dt(a))return t(a,f);for(var g=a.length,w=o?g:-1,O=Ie(a);(o?w--:++w<g)&&f(O[w],w,O)!==!1;);return a}}function Jh(t){return function(o,a,f){for(var g=-1,w=Ie(o),O=f(o),I=O.length;I--;){var D=O[t?I:++g];if(a(w[D],D,w)===!1)break}return o}}function nb(t,o,a){var f=o&R,g=Oo(t);function w(){var O=this&&this!==Je&&this instanceof w?g:t;return O.apply(f?a:this,arguments)}return w}function Yh(t){return function(o){o=xe(o);var a=kn(o)?Ut(o):n,f=a?a[0]:o.charAt(0),g=a?Lr(a,1).join(""):o.slice(1);return f[t]()+g}}function Ln(t){return function(o){return Aa(Jf(Kf(o).replace(Gg,"")),t,"")}}function Oo(t){return function(){var o=arguments;switch(o.length){case 0:return new t;case 1:return new t(o[0]);case 2:return new t(o[0],o[1]);case 3:return new t(o[0],o[1],o[2]);case 4:return new t(o[0],o[1],o[2],o[3]);case 5:return new t(o[0],o[1],o[2],o[3],o[4]);case 6:return new t(o[0],o[1],o[2],o[3],o[4],o[5]);case 7:return new t(o[0],o[1],o[2],o[3],o[4],o[5],o[6])}var a=qn(t.prototype),f=t.apply(a,o);return Ne(f)?f:a}}function ob(t,o,a){var f=Oo(t);function g(){for(var w=arguments.length,O=U(w),I=w,D=Nn(g);I--;)O[I]=arguments[I];var K=w<3&&O[0]!==D&&O[w-1]!==D?[]:Pr(O,D);if(w-=K.length,w<a)return tf(t,o,$i,g.placeholder,n,O,K,n,n,a-w);var J=this&&this!==Je&&this instanceof g?f:t;return vt(J,this,O)}return g}function Qh(t){return function(o,a,f){var g=Ie(o);if(!dt(o)){var w=ce(a,3);o=Ye(o),a=function(I){return w(g[I],I,g)}}var O=t(o,a,f);return O>-1?g[w?o[O]:O]:n}}function Xh(t){return mr(function(o){var a=o.length,f=a,g=Pt.prototype.thru;for(t&&o.reverse();f--;){var w=o[f];if(typeof w!="function")throw new kt(l);if(g&&!O&&Bi(w)=="wrapper")var O=new Pt([],!0)}for(f=O?f:a;++f<a;){w=o[f];var I=Bi(w),D=I=="wrapper"?uu(w):n;D&&fu(D[0])&&D[1]==(C|S|v|k)&&!D[4].length&&D[9]==1?O=O[Bi(D[0])].apply(O,D[3]):O=w.length==1&&fu(w)?O[I]():O.thru(w)}return function(){var K=arguments,J=K[0];if(O&&K.length==1&&me(J))return O.plant(J).value();for(var X=0,oe=a?o[X].apply(this,K):J;++X<a;)oe=o[X].call(this,oe);return oe}})}function $i(t,o,a,f,g,w,O,I,D,K){var J=o&C,X=o&R,oe=o&V,ue=o&(S|B),he=o&L,ge=oe?n:Oo(t);function fe(){for(var be=arguments.length,we=U(be),Et=be;Et--;)we[Et]=arguments[Et];if(ue)var at=Nn(fe),St=yv(we,at);if(f&&(we=Vh(we,f,g,ue)),w&&(we=Gh(we,w,O,ue)),be-=St,ue&&be<K){var ze=Pr(we,at);return tf(t,o,$i,fe.placeholder,a,we,ze,I,D,K-be)}var Vt=X?a:this,br=oe?Vt[t]:t;return be=we.length,I?we=Tb(we,I):he&&be>1&&we.reverse(),J&&D<be&&(we.length=D),this&&this!==Je&&this instanceof fe&&(br=ge||Oo(br)),br.apply(Vt,we)}return fe}function Zh(t,o){return function(a,f){return I0(a,t,o(f),{})}}function Li(t,o){return function(a,f){var g;if(a===n&&f===n)return o;if(a!==n&&(g=a),f!==n){if(g===n)return f;typeof a=="string"||typeof f=="string"?(a=_t(a),f=_t(f)):(a=Mh(a),f=Mh(f)),g=t(a,f)}return g}}function ou(t){return mr(function(o){return o=Le(o,bt(ce())),ve(function(a){var f=this;return t(o,function(g){return vt(g,f,a)})})})}function Ni(t,o){o=o===n?" ":_t(o);var a=o.length;if(a<2)return a?Qa(o,t):o;var f=Qa(o,Si(t/Pn(o)));return kn(o)?Lr(Ut(f),0,t).join(""):f.slice(0,t)}function ib(t,o,a,f){var g=o&R,w=Oo(t);function O(){for(var I=-1,D=arguments.length,K=-1,J=f.length,X=U(J+D),oe=this&&this!==Je&&this instanceof O?w:t;++K<J;)X[K]=f[K];for(;D--;)X[K++]=arguments[++I];return vt(oe,g?a:this,X)}return O}function ef(t){return function(o,a,f){return f&&typeof f!="number"&&st(o,a,f)&&(a=f=n),o=vr(o),a===n?(a=o,o=0):a=vr(a),f=f===n?o<a?1:-1:vr(f),H0(o,a,f,t)}}function Mi(t){return function(o,a){return typeof o=="string"&&typeof a=="string"||(o=qt(o),a=qt(a)),t(o,a)}}function tf(t,o,a,f,g,w,O,I,D,K){var J=o&S,X=J?O:n,oe=J?n:O,ue=J?w:n,he=J?n:w;o|=J?v:q,o&=~(J?q:v),o&z||(o&=~(R|V));var ge=[t,o,g,ue,X,he,oe,I,D,K],fe=a.apply(n,ge);return fu(t)&&pf(fe,ge),fe.placeholder=f,mf(fe,t,o)}function iu(t){var o=We[t];return function(a,f){if(a=qt(a),f=f==null?0:tt(ye(f),292),f&&ph(a)){var g=(xe(a)+"e").split("e"),w=o(g[0]+"e"+(+g[1]+f));return g=(xe(w)+"e").split("e"),+(g[0]+"e"+(+g[1]-f))}return o(a)}}var sb=In&&1/di(new In([,-0]))[1]==j?function(t){return new In(t)}:xu;function rf(t){return function(o){var a=rt(o);return a==zt?$a(o):a==Ft?Sv(o):mv(o,t(o))}}function pr(t,o,a,f,g,w,O,I){var D=o&V;if(!D&&typeof t!="function")throw new kt(l);var K=f?f.length:0;if(K||(o&=~(v|q),f=g=n),O=O===n?O:Ve(ye(O),0),I=I===n?I:ye(I),K-=g?g.length:0,o&q){var J=f,X=g;f=g=n}var oe=D?n:uu(t),ue=[t,o,a,f,g,J,X,w,O,I];if(oe&&wb(ue,oe),t=ue[0],o=ue[1],a=ue[2],f=ue[3],g=ue[4],I=ue[9]=ue[9]===n?D?0:t.length:Ve(ue[9]-K,0),!I&&o&(S|B)&&(o&=~(S|B)),!o||o==R)var he=nb(t,o,a);else o==S||o==B?he=ob(t,o,I):(o==v||o==(R|v))&&!g.length?he=ib(t,o,a,f):he=$i.apply(n,ue);var ge=oe?Lh:pf;return mf(ge(he,ue),t,o)}function nf(t,o,a,f){return t===n||Wt(t,Cn[a])&&!ke.call(f,a)?o:t}function of(t,o,a,f,g,w){return Ne(t)&&Ne(o)&&(w.set(o,t),Ci(t,o,n,of,w),w.delete(o)),t}function ab(t){return ko(t)?n:t}function sf(t,o,a,f,g,w){var O=a&A,I=t.length,D=o.length;if(I!=D&&!(O&&D>I))return!1;var K=w.get(t),J=w.get(o);if(K&&J)return K==o&&J==t;var X=-1,oe=!0,ue=a&P?new Qr:n;for(w.set(t,o),w.set(o,t);++X<I;){var he=t[X],ge=o[X];if(f)var fe=O?f(ge,he,X,o,t,w):f(he,ge,X,t,o,w);if(fe!==n){if(fe)continue;oe=!1;break}if(ue){if(!ka(o,function(be,we){if(!mo(ue,we)&&(he===be||g(he,be,a,f,w)))return ue.push(we)})){oe=!1;break}}else if(!(he===ge||g(he,ge,a,f,w))){oe=!1;break}}return w.delete(t),w.delete(o),oe}function ub(t,o,a,f,g,w,O){switch(a){case On:if(t.byteLength!=o.byteLength||t.byteOffset!=o.byteOffset)return!1;t=t.buffer,o=o.buffer;case po:return!(t.byteLength!=o.byteLength||!w(new bi(t),new bi(o)));case xr:case uo:case lo:return Wt(+t,+o);case ii:return t.name==o.name&&t.message==o.message;case co:case ho:return t==o+"";case zt:var I=$a;case Ft:var D=f&A;if(I||(I=di),t.size!=o.size&&!D)return!1;var K=O.get(t);if(K)return K==o;f|=P,O.set(t,o);var J=sf(I(t),I(o),f,g,w,O);return O.delete(t),J;case ai:if(_o)return _o.call(t)==_o.call(o)}return!1}function lb(t,o,a,f,g,w){var O=a&A,I=su(t),D=I.length,K=su(o),J=K.length;if(D!=J&&!O)return!1;for(var X=D;X--;){var oe=I[X];if(!(O?oe in o:ke.call(o,oe)))return!1}var ue=w.get(t),he=w.get(o);if(ue&&he)return ue==o&&he==t;var ge=!0;w.set(t,o),w.set(o,t);for(var fe=O;++X<D;){oe=I[X];var be=t[oe],we=o[oe];if(f)var Et=O?f(we,be,oe,o,t,w):f(be,we,oe,t,o,w);if(!(Et===n?be===we||g(be,we,a,f,w):Et)){ge=!1;break}fe||(fe=oe=="constructor")}if(ge&&!fe){var at=t.constructor,St=o.constructor;at!=St&&"constructor"in t&&"constructor"in o&&!(typeof at=="function"&&at instanceof at&&typeof St=="function"&&St instanceof St)&&(ge=!1)}return w.delete(t),w.delete(o),ge}function mr(t){return pu(ff(t,n,wf),t+"")}function su(t){return Rh(t,Ye,cu)}function au(t){return Rh(t,pt,af)}var uu=Ri?function(t){return Ri.get(t)}:xu;function Bi(t){for(var o=t.name+"",a=jn[o],f=ke.call(jn,o)?a.length:0;f--;){var g=a[f],w=g.func;if(w==null||w==t)return g.name}return o}function Nn(t){var o=ke.call(b,"placeholder")?b:t;return o.placeholder}function ce(){var t=b.iteratee||Ru;return t=t===Ru?Ah:t,arguments.length?t(arguments[0],arguments[1]):t}function Di(t,o){var a=t.__data__;return gb(o)?a[typeof o=="string"?"string":"hash"]:a.map}function lu(t){for(var o=Ye(t),a=o.length;a--;){var f=o[a],g=t[f];o[a]=[f,g,cf(g)]}return o}function en(t,o){var a=_v(t,o);return xh(a)?a:n}function cb(t){var o=ke.call(t,Jr),a=t[Jr];try{t[Jr]=n;var f=!0}catch{}var g=gi.call(t);return f&&(o?t[Jr]=a:delete t[Jr]),g}var cu=Na?function(t){return t==null?[]:(t=Ie(t),Ar(Na(t),function(o){return fh.call(t,o)}))}:Au,af=Na?function(t){for(var o=[];t;)kr(o,cu(t)),t=_i(t);return o}:Au,rt=it;(Ma&&rt(new Ma(new ArrayBuffer(1)))!=On||go&&rt(new go)!=zt||Ba&&rt(Ba.resolve())!=Ec||In&&rt(new In)!=Ft||vo&&rt(new vo)!=fo)&&(rt=function(t){var o=it(t),a=o==cr?t.constructor:n,f=a?tn(a):"";if(f)switch(f){case Vv:return On;case Gv:return zt;case Kv:return Ec;case Jv:return Ft;case Yv:return fo}return o});function hb(t,o,a){for(var f=-1,g=a.length;++f<g;){var w=a[f],O=w.size;switch(w.type){case"drop":t+=O;break;case"dropRight":o-=O;break;case"take":o=tt(o,t+O);break;case"takeRight":t=Ve(t,o-O);break}}return{start:t,end:o}}function fb(t){var o=t.match(vg);return o?o[1].split(bg):[]}function uf(t,o,a){o=$r(o,t);for(var f=-1,g=o.length,w=!1;++f<g;){var O=nr(o[f]);if(!(w=t!=null&&a(t,O)))break;t=t[O]}return w||++f!=g?w:(g=t==null?0:t.length,!!g&&Gi(g)&&yr(O,g)&&(me(t)||rn(t)))}function db(t){var o=t.length,a=new t.constructor(o);return o&&typeof t[0]=="string"&&ke.call(t,"index")&&(a.index=t.index,a.input=t.input),a}function lf(t){return typeof t.constructor=="function"&&!xo(t)?qn(_i(t)):{}}function pb(t,o,a){var f=t.constructor;switch(o){case po:return nu(t);case xr:case uo:return new f(+t);case On:return Q0(t,a);case la:case ca:case ha:case fa:case da:case pa:case ma:case ya:case ga:return Hh(t,a);case zt:return new f;case lo:case ho:return new f(t);case co:return X0(t);case Ft:return new f;case ai:return Z0(t)}}function mb(t,o){var a=o.length;if(!a)return t;var f=a-1;return o[f]=(a>1?"& ":"")+o[f],o=o.join(a>2?", ":" "),t.replace(gg,`{
/* [wrapped with `+o+`] */
`)}function yb(t){return me(t)||rn(t)||!!(dh&&t&&t[dh])}function yr(t,o){var a=typeof t;return o=o??W,!!o&&(a=="number"||a!="symbol"&&Ag.test(t))&&t>-1&&t%1==0&&t<o}function st(t,o,a){if(!Ne(a))return!1;var f=typeof o;return(f=="number"?dt(a)&&yr(o,a.length):f=="string"&&o in a)?Wt(a[o],t):!1}function hu(t,o){if(me(t))return!1;var a=typeof t;return a=="number"||a=="symbol"||a=="boolean"||t==null||wt(t)?!0:dg.test(t)||!fg.test(t)||o!=null&&t in Ie(o)}function gb(t){var o=typeof t;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?t!=="__proto__":t===null}function fu(t){var o=Bi(t),a=b[o];if(typeof a!="function"||!(o in _e.prototype))return!1;if(t===a)return!0;var f=uu(a);return!!f&&t===f[0]}function vb(t){return!!lh&&lh in t}var bb=mi?gr:ku;function xo(t){var o=t&&t.constructor,a=typeof o=="function"&&o.prototype||Cn;return t===a}function cf(t){return t===t&&!Ne(t)}function hf(t,o){return function(a){return a==null?!1:a[t]===o&&(o!==n||t in Ie(a))}}function _b(t){var o=Wi(t,function(f){return a.size===p&&a.clear(),f}),a=o.cache;return o}function wb(t,o){var a=t[1],f=o[1],g=a|f,w=g<(R|V|C),O=f==C&&a==S||f==C&&a==k&&t[7].length<=o[8]||f==(C|k)&&o[7].length<=o[8]&&a==S;if(!(w||O))return t;f&R&&(t[2]=o[2],g|=a&R?0:z);var I=o[3];if(I){var D=t[3];t[3]=D?Vh(D,I,o[4]):I,t[4]=D?Pr(t[3],y):o[4]}return I=o[5],I&&(D=t[5],t[5]=D?Gh(D,I,o[6]):I,t[6]=D?Pr(t[5],y):o[6]),I=o[7],I&&(t[7]=I),f&C&&(t[8]=t[8]==null?o[8]:tt(t[8],o[8])),t[9]==null&&(t[9]=o[9]),t[0]=o[0],t[1]=g,t}function Eb(t){var o=[];if(t!=null)for(var a in Ie(t))o.push(a);return o}function Sb(t){return gi.call(t)}function ff(t,o,a){return o=Ve(o===n?t.length-1:o,0),function(){for(var f=arguments,g=-1,w=Ve(f.length-o,0),O=U(w);++g<w;)O[g]=f[o+g];g=-1;for(var I=U(o+1);++g<o;)I[g]=f[g];return I[o]=a(O),vt(t,this,I)}}function df(t,o){return o.length<2?t:Zr(t,It(o,0,-1))}function Tb(t,o){for(var a=t.length,f=tt(o.length,a),g=ft(t);f--;){var w=o[f];t[f]=yr(w,a)?g[w]:n}return t}function du(t,o){if(!(o==="constructor"&&typeof t[o]=="function")&&o!="__proto__")return t[o]}var pf=yf(Lh),Ao=Bv||function(t,o){return Je.setTimeout(t,o)},pu=yf(G0);function mf(t,o,a){var f=o+"";return pu(t,mb(f,Rb(fb(f),a)))}function yf(t){var o=0,a=0;return function(){var f=Uv(),g=T-(f-a);if(a=f,g>0){if(++o>=ne)return arguments[0]}else o=0;return t.apply(n,arguments)}}function zi(t,o){var a=-1,f=t.length,g=f-1;for(o=o===n?f:o;++a<o;){var w=Ya(a,g),O=t[w];t[w]=t[a],t[a]=O}return t.length=o,t}var gf=_b(function(t){var o=[];return t.charCodeAt(0)===46&&o.push(""),t.replace(pg,function(a,f,g,w){o.push(g?w.replace(Eg,"$1"):f||a)}),o});function nr(t){if(typeof t=="string"||wt(t))return t;var o=t+"";return o=="0"&&1/t==-j?"-0":o}function tn(t){if(t!=null){try{return yi.call(t)}catch{}try{return t+""}catch{}}return""}function Rb(t,o){return At(Fe,function(a){var f="_."+a[0];o&a[1]&&!hi(t,f)&&t.push(f)}),t.sort()}function vf(t){if(t instanceof _e)return t.clone();var o=new Pt(t.__wrapped__,t.__chain__);return o.__actions__=ft(t.__actions__),o.__index__=t.__index__,o.__values__=t.__values__,o}function Ob(t,o,a){(a?st(t,o,a):o===n)?o=1:o=Ve(ye(o),0);var f=t==null?0:t.length;if(!f||o<1)return[];for(var g=0,w=0,O=U(Si(f/o));g<f;)O[w++]=It(t,g,g+=o);return O}function xb(t){for(var o=-1,a=t==null?0:t.length,f=0,g=[];++o<a;){var w=t[o];w&&(g[f++]=w)}return g}function Ab(){var t=arguments.length;if(!t)return[];for(var o=U(t-1),a=arguments[0],f=t;f--;)o[f-1]=arguments[f];return kr(me(a)?ft(a):[a],Xe(o,1))}var kb=ve(function(t,o){return De(t)?Eo(t,Xe(o,1,De,!0)):[]}),Pb=ve(function(t,o){var a=jt(o);return De(a)&&(a=n),De(t)?Eo(t,Xe(o,1,De,!0),ce(a,2)):[]}),Cb=ve(function(t,o){var a=jt(o);return De(a)&&(a=n),De(t)?Eo(t,Xe(o,1,De,!0),n,a):[]});function Ib(t,o,a){var f=t==null?0:t.length;return f?(o=a||o===n?1:ye(o),It(t,o<0?0:o,f)):[]}function jb(t,o,a){var f=t==null?0:t.length;return f?(o=a||o===n?1:ye(o),o=f-o,It(t,0,o<0?0:o)):[]}function qb(t,o){return t&&t.length?ji(t,ce(o,3),!0,!0):[]}function $b(t,o){return t&&t.length?ji(t,ce(o,3),!0):[]}function Lb(t,o,a,f){var g=t==null?0:t.length;return g?(a&&typeof a!="number"&&st(t,o,a)&&(a=0,f=g),A0(t,o,a,f)):[]}function bf(t,o,a){var f=t==null?0:t.length;if(!f)return-1;var g=a==null?0:ye(a);return g<0&&(g=Ve(f+g,0)),fi(t,ce(o,3),g)}function _f(t,o,a){var f=t==null?0:t.length;if(!f)return-1;var g=f-1;return a!==n&&(g=ye(a),g=a<0?Ve(f+g,0):tt(g,f-1)),fi(t,ce(o,3),g,!0)}function wf(t){var o=t==null?0:t.length;return o?Xe(t,1):[]}function Nb(t){var o=t==null?0:t.length;return o?Xe(t,j):[]}function Mb(t,o){var a=t==null?0:t.length;return a?(o=o===n?1:ye(o),Xe(t,o)):[]}function Bb(t){for(var o=-1,a=t==null?0:t.length,f={};++o<a;){var g=t[o];f[g[0]]=g[1]}return f}function Ef(t){return t&&t.length?t[0]:n}function Db(t,o,a){var f=t==null?0:t.length;if(!f)return-1;var g=a==null?0:ye(a);return g<0&&(g=Ve(f+g,0)),An(t,o,g)}function zb(t){var o=t==null?0:t.length;return o?It(t,0,-1):[]}var Fb=ve(function(t){var o=Le(t,tu);return o.length&&o[0]===t[0]?Wa(o):[]}),Ub=ve(function(t){var o=jt(t),a=Le(t,tu);return o===jt(a)?o=n:a.pop(),a.length&&a[0]===t[0]?Wa(a,ce(o,2)):[]}),Hb=ve(function(t){var o=jt(t),a=Le(t,tu);return o=typeof o=="function"?o:n,o&&a.pop(),a.length&&a[0]===t[0]?Wa(a,n,o):[]});function Wb(t,o){return t==null?"":zv.call(t,o)}function jt(t){var o=t==null?0:t.length;return o?t[o-1]:n}function Vb(t,o,a){var f=t==null?0:t.length;if(!f)return-1;var g=f;return a!==n&&(g=ye(a),g=g<0?Ve(f+g,0):tt(g,f-1)),o===o?Rv(t,o,g):fi(t,th,g,!0)}function Gb(t,o){return t&&t.length?Ih(t,ye(o)):n}var Kb=ve(Sf);function Sf(t,o){return t&&t.length&&o&&o.length?Ja(t,o):t}function Jb(t,o,a){return t&&t.length&&o&&o.length?Ja(t,o,ce(a,2)):t}function Yb(t,o,a){return t&&t.length&&o&&o.length?Ja(t,o,n,a):t}var Qb=mr(function(t,o){var a=t==null?0:t.length,f=za(t,o);return $h(t,Le(o,function(g){return yr(g,a)?+g:g}).sort(Wh)),f});function Xb(t,o){var a=[];if(!(t&&t.length))return a;var f=-1,g=[],w=t.length;for(o=ce(o,3);++f<w;){var O=t[f];o(O,f,t)&&(a.push(O),g.push(f))}return $h(t,g),a}function mu(t){return t==null?t:Wv.call(t)}function Zb(t,o,a){var f=t==null?0:t.length;return f?(a&&typeof a!="number"&&st(t,o,a)?(o=0,a=f):(o=o==null?0:ye(o),a=a===n?f:ye(a)),It(t,o,a)):[]}function e_(t,o){return Ii(t,o)}function t_(t,o,a){return Xa(t,o,ce(a,2))}function r_(t,o){var a=t==null?0:t.length;if(a){var f=Ii(t,o);if(f<a&&Wt(t[f],o))return f}return-1}function n_(t,o){return Ii(t,o,!0)}function o_(t,o,a){return Xa(t,o,ce(a,2),!0)}function i_(t,o){var a=t==null?0:t.length;if(a){var f=Ii(t,o,!0)-1;if(Wt(t[f],o))return f}return-1}function s_(t){return t&&t.length?Nh(t):[]}function a_(t,o){return t&&t.length?Nh(t,ce(o,2)):[]}function u_(t){var o=t==null?0:t.length;return o?It(t,1,o):[]}function l_(t,o,a){return t&&t.length?(o=a||o===n?1:ye(o),It(t,0,o<0?0:o)):[]}function c_(t,o,a){var f=t==null?0:t.length;return f?(o=a||o===n?1:ye(o),o=f-o,It(t,o<0?0:o,f)):[]}function h_(t,o){return t&&t.length?ji(t,ce(o,3),!1,!0):[]}function f_(t,o){return t&&t.length?ji(t,ce(o,3)):[]}var d_=ve(function(t){return qr(Xe(t,1,De,!0))}),p_=ve(function(t){var o=jt(t);return De(o)&&(o=n),qr(Xe(t,1,De,!0),ce(o,2))}),m_=ve(function(t){var o=jt(t);return o=typeof o=="function"?o:n,qr(Xe(t,1,De,!0),n,o)});function y_(t){return t&&t.length?qr(t):[]}function g_(t,o){return t&&t.length?qr(t,ce(o,2)):[]}function v_(t,o){return o=typeof o=="function"?o:n,t&&t.length?qr(t,n,o):[]}function yu(t){if(!(t&&t.length))return[];var o=0;return t=Ar(t,function(a){if(De(a))return o=Ve(a.length,o),!0}),ja(o,function(a){return Le(t,Pa(a))})}function Tf(t,o){if(!(t&&t.length))return[];var a=yu(t);return o==null?a:Le(a,function(f){return vt(o,n,f)})}var b_=ve(function(t,o){return De(t)?Eo(t,o):[]}),__=ve(function(t){return eu(Ar(t,De))}),w_=ve(function(t){var o=jt(t);return De(o)&&(o=n),eu(Ar(t,De),ce(o,2))}),E_=ve(function(t){var o=jt(t);return o=typeof o=="function"?o:n,eu(Ar(t,De),n,o)}),S_=ve(yu);function T_(t,o){return zh(t||[],o||[],wo)}function R_(t,o){return zh(t||[],o||[],Ro)}var O_=ve(function(t){var o=t.length,a=o>1?t[o-1]:n;return a=typeof a=="function"?(t.pop(),a):n,Tf(t,a)});function Rf(t){var o=b(t);return o.__chain__=!0,o}function x_(t,o){return o(t),t}function Fi(t,o){return o(t)}var A_=mr(function(t){var o=t.length,a=o?t[0]:0,f=this.__wrapped__,g=function(w){return za(w,t)};return o>1||this.__actions__.length||!(f instanceof _e)||!yr(a)?this.thru(g):(f=f.slice(a,+a+(o?1:0)),f.__actions__.push({func:Fi,args:[g],thisArg:n}),new Pt(f,this.__chain__).thru(function(w){return o&&!w.length&&w.push(n),w}))});function k_(){return Rf(this)}function P_(){return new Pt(this.value(),this.__chain__)}function C_(){this.__values__===n&&(this.__values__=Bf(this.value()));var t=this.__index__>=this.__values__.length,o=t?n:this.__values__[this.__index__++];return{done:t,value:o}}function I_(){return this}function j_(t){for(var o,a=this;a instanceof xi;){var f=vf(a);f.__index__=0,f.__values__=n,o?g.__wrapped__=f:o=f;var g=f;a=a.__wrapped__}return g.__wrapped__=t,o}function q_(){var t=this.__wrapped__;if(t instanceof _e){var o=t;return this.__actions__.length&&(o=new _e(this)),o=o.reverse(),o.__actions__.push({func:Fi,args:[mu],thisArg:n}),new Pt(o,this.__chain__)}return this.thru(mu)}function $_(){return Dh(this.__wrapped__,this.__actions__)}var L_=qi(function(t,o,a){ke.call(t,a)?++t[a]:dr(t,a,1)});function N_(t,o,a){var f=me(t)?Zc:x0;return a&&st(t,o,a)&&(o=n),f(t,ce(o,3))}function M_(t,o){var a=me(t)?Ar:Sh;return a(t,ce(o,3))}var B_=Qh(bf),D_=Qh(_f);function z_(t,o){return Xe(Ui(t,o),1)}function F_(t,o){return Xe(Ui(t,o),j)}function U_(t,o,a){return a=a===n?1:ye(a),Xe(Ui(t,o),a)}function Of(t,o){var a=me(t)?At:jr;return a(t,ce(o,3))}function xf(t,o){var a=me(t)?uv:Eh;return a(t,ce(o,3))}var H_=qi(function(t,o,a){ke.call(t,a)?t[a].push(o):dr(t,a,[o])});function W_(t,o,a,f){t=dt(t)?t:Bn(t),a=a&&!f?ye(a):0;var g=t.length;return a<0&&(a=Ve(g+a,0)),Ki(t)?a<=g&&t.indexOf(o,a)>-1:!!g&&An(t,o,a)>-1}var V_=ve(function(t,o,a){var f=-1,g=typeof o=="function",w=dt(t)?U(t.length):[];return jr(t,function(O){w[++f]=g?vt(o,O,a):So(O,o,a)}),w}),G_=qi(function(t,o,a){dr(t,a,o)});function Ui(t,o){var a=me(t)?Le:kh;return a(t,ce(o,3))}function K_(t,o,a,f){return t==null?[]:(me(o)||(o=o==null?[]:[o]),a=f?n:a,me(a)||(a=a==null?[]:[a]),jh(t,o,a))}var J_=qi(function(t,o,a){t[a?0:1].push(o)},function(){return[[],[]]});function Y_(t,o,a){var f=me(t)?Aa:nh,g=arguments.length<3;return f(t,ce(o,4),a,g,jr)}function Q_(t,o,a){var f=me(t)?lv:nh,g=arguments.length<3;return f(t,ce(o,4),a,g,Eh)}function X_(t,o){var a=me(t)?Ar:Sh;return a(t,Vi(ce(o,3)))}function Z_(t){var o=me(t)?vh:W0;return o(t)}function ew(t,o,a){(a?st(t,o,a):o===n)?o=1:o=ye(o);var f=me(t)?E0:V0;return f(t,o)}function tw(t){var o=me(t)?S0:K0;return o(t)}function rw(t){if(t==null)return 0;if(dt(t))return Ki(t)?Pn(t):t.length;var o=rt(t);return o==zt||o==Ft?t.size:Ga(t).length}function nw(t,o,a){var f=me(t)?ka:J0;return a&&st(t,o,a)&&(o=n),f(t,ce(o,3))}var ow=ve(function(t,o){if(t==null)return[];var a=o.length;return a>1&&st(t,o[0],o[1])?o=[]:a>2&&st(o[0],o[1],o[2])&&(o=[o[0]]),jh(t,Xe(o,1),[])}),Hi=Mv||function(){return Je.Date.now()};function iw(t,o){if(typeof o!="function")throw new kt(l);return t=ye(t),function(){if(--t<1)return o.apply(this,arguments)}}function Af(t,o,a){return o=a?n:o,o=t&&o==null?t.length:o,pr(t,C,n,n,n,n,o)}function kf(t,o){var a;if(typeof o!="function")throw new kt(l);return t=ye(t),function(){return--t>0&&(a=o.apply(this,arguments)),t<=1&&(o=n),a}}var gu=ve(function(t,o,a){var f=R;if(a.length){var g=Pr(a,Nn(gu));f|=v}return pr(t,f,o,a,g)}),Pf=ve(function(t,o,a){var f=R|V;if(a.length){var g=Pr(a,Nn(Pf));f|=v}return pr(o,f,t,a,g)});function Cf(t,o,a){o=a?n:o;var f=pr(t,S,n,n,n,n,n,o);return f.placeholder=Cf.placeholder,f}function If(t,o,a){o=a?n:o;var f=pr(t,B,n,n,n,n,n,o);return f.placeholder=If.placeholder,f}function jf(t,o,a){var f,g,w,O,I,D,K=0,J=!1,X=!1,oe=!0;if(typeof t!="function")throw new kt(l);o=qt(o)||0,Ne(a)&&(J=!!a.leading,X="maxWait"in a,w=X?Ve(qt(a.maxWait)||0,o):w,oe="trailing"in a?!!a.trailing:oe);function ue(ze){var Vt=f,br=g;return f=g=n,K=ze,O=t.apply(br,Vt),O}function he(ze){return K=ze,I=Ao(be,o),J?ue(ze):O}function ge(ze){var Vt=ze-D,br=ze-K,Xf=o-Vt;return X?tt(Xf,w-br):Xf}function fe(ze){var Vt=ze-D,br=ze-K;return D===n||Vt>=o||Vt<0||X&&br>=w}function be(){var ze=Hi();if(fe(ze))return we(ze);I=Ao(be,ge(ze))}function we(ze){return I=n,oe&&f?ue(ze):(f=g=n,O)}function Et(){I!==n&&Fh(I),K=0,f=D=g=I=n}function at(){return I===n?O:we(Hi())}function St(){var ze=Hi(),Vt=fe(ze);if(f=arguments,g=this,D=ze,Vt){if(I===n)return he(D);if(X)return Fh(I),I=Ao(be,o),ue(D)}return I===n&&(I=Ao(be,o)),O}return St.cancel=Et,St.flush=at,St}var sw=ve(function(t,o){return wh(t,1,o)}),aw=ve(function(t,o,a){return wh(t,qt(o)||0,a)});function uw(t){return pr(t,L)}function Wi(t,o){if(typeof t!="function"||o!=null&&typeof o!="function")throw new kt(l);var a=function(){var f=arguments,g=o?o.apply(this,f):f[0],w=a.cache;if(w.has(g))return w.get(g);var O=t.apply(this,f);return a.cache=w.set(g,O)||w,O};return a.cache=new(Wi.Cache||fr),a}Wi.Cache=fr;function Vi(t){if(typeof t!="function")throw new kt(l);return function(){var o=arguments;switch(o.length){case 0:return!t.call(this);case 1:return!t.call(this,o[0]);case 2:return!t.call(this,o[0],o[1]);case 3:return!t.call(this,o[0],o[1],o[2])}return!t.apply(this,o)}}function lw(t){return kf(2,t)}var cw=Y0(function(t,o){o=o.length==1&&me(o[0])?Le(o[0],bt(ce())):Le(Xe(o,1),bt(ce()));var a=o.length;return ve(function(f){for(var g=-1,w=tt(f.length,a);++g<w;)f[g]=o[g].call(this,f[g]);return vt(t,this,f)})}),vu=ve(function(t,o){var a=Pr(o,Nn(vu));return pr(t,v,n,o,a)}),qf=ve(function(t,o){var a=Pr(o,Nn(qf));return pr(t,q,n,o,a)}),hw=mr(function(t,o){return pr(t,k,n,n,n,o)});function fw(t,o){if(typeof t!="function")throw new kt(l);return o=o===n?o:ye(o),ve(t,o)}function dw(t,o){if(typeof t!="function")throw new kt(l);return o=o==null?0:Ve(ye(o),0),ve(function(a){var f=a[o],g=Lr(a,0,o);return f&&kr(g,f),vt(t,this,g)})}function pw(t,o,a){var f=!0,g=!0;if(typeof t!="function")throw new kt(l);return Ne(a)&&(f="leading"in a?!!a.leading:f,g="trailing"in a?!!a.trailing:g),jf(t,o,{leading:f,maxWait:o,trailing:g})}function mw(t){return Af(t,1)}function yw(t,o){return vu(ru(o),t)}function gw(){if(!arguments.length)return[];var t=arguments[0];return me(t)?t:[t]}function vw(t){return Ct(t,_)}function bw(t,o){return o=typeof o=="function"?o:n,Ct(t,_,o)}function _w(t){return Ct(t,d|_)}function ww(t,o){return o=typeof o=="function"?o:n,Ct(t,d|_,o)}function Ew(t,o){return o==null||_h(t,o,Ye(o))}function Wt(t,o){return t===o||t!==t&&o!==o}var Sw=Mi(Ha),Tw=Mi(function(t,o){return t>=o}),rn=Oh(function(){return arguments}())?Oh:function(t){return Be(t)&&ke.call(t,"callee")&&!fh.call(t,"callee")},me=U.isArray,Rw=Gc?bt(Gc):j0;function dt(t){return t!=null&&Gi(t.length)&&!gr(t)}function De(t){return Be(t)&&dt(t)}function Ow(t){return t===!0||t===!1||Be(t)&&it(t)==xr}var Nr=Dv||ku,xw=Kc?bt(Kc):q0;function Aw(t){return Be(t)&&t.nodeType===1&&!ko(t)}function kw(t){if(t==null)return!0;if(dt(t)&&(me(t)||typeof t=="string"||typeof t.splice=="function"||Nr(t)||Mn(t)||rn(t)))return!t.length;var o=rt(t);if(o==zt||o==Ft)return!t.size;if(xo(t))return!Ga(t).length;for(var a in t)if(ke.call(t,a))return!1;return!0}function Pw(t,o){return To(t,o)}function Cw(t,o,a){a=typeof a=="function"?a:n;var f=a?a(t,o):n;return f===n?To(t,o,n,a):!!f}function bu(t){if(!Be(t))return!1;var o=it(t);return o==ii||o==eg||typeof t.message=="string"&&typeof t.name=="string"&&!ko(t)}function Iw(t){return typeof t=="number"&&ph(t)}function gr(t){if(!Ne(t))return!1;var o=it(t);return o==si||o==wc||o==lr||o==rg}function $f(t){return typeof t=="number"&&t==ye(t)}function Gi(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=W}function Ne(t){var o=typeof t;return t!=null&&(o=="object"||o=="function")}function Be(t){return t!=null&&typeof t=="object"}var Lf=Jc?bt(Jc):L0;function jw(t,o){return t===o||Va(t,o,lu(o))}function qw(t,o,a){return a=typeof a=="function"?a:n,Va(t,o,lu(o),a)}function $w(t){return Nf(t)&&t!=+t}function Lw(t){if(bb(t))throw new pe(u);return xh(t)}function Nw(t){return t===null}function Mw(t){return t==null}function Nf(t){return typeof t=="number"||Be(t)&&it(t)==lo}function ko(t){if(!Be(t)||it(t)!=cr)return!1;var o=_i(t);if(o===null)return!0;var a=ke.call(o,"constructor")&&o.constructor;return typeof a=="function"&&a instanceof a&&yi.call(a)==qv}var _u=Yc?bt(Yc):N0;function Bw(t){return $f(t)&&t>=-W&&t<=W}var Mf=Qc?bt(Qc):M0;function Ki(t){return typeof t=="string"||!me(t)&&Be(t)&&it(t)==ho}function wt(t){return typeof t=="symbol"||Be(t)&&it(t)==ai}var Mn=Xc?bt(Xc):B0;function Dw(t){return t===n}function zw(t){return Be(t)&&rt(t)==fo}function Fw(t){return Be(t)&&it(t)==og}var Uw=Mi(Ka),Hw=Mi(function(t,o){return t<=o});function Bf(t){if(!t)return[];if(dt(t))return Ki(t)?Ut(t):ft(t);if(yo&&t[yo])return Ev(t[yo]());var o=rt(t),a=o==zt?$a:o==Ft?di:Bn;return a(t)}function vr(t){if(!t)return t===0?t:0;if(t=qt(t),t===j||t===-j){var o=t<0?-1:1;return o*ee}return t===t?t:0}function ye(t){var o=vr(t),a=o%1;return o===o?a?o-a:o:0}function Df(t){return t?Xr(ye(t),0,te):0}function qt(t){if(typeof t=="number")return t;if(wt(t))return se;if(Ne(t)){var o=typeof t.valueOf=="function"?t.valueOf():t;t=Ne(o)?o+"":o}if(typeof t!="string")return t===0?t:+t;t=oh(t);var a=Rg.test(t);return a||xg.test(t)?iv(t.slice(2),a?2:8):Tg.test(t)?se:+t}function zf(t){return rr(t,pt(t))}function Ww(t){return t?Xr(ye(t),-W,W):t===0?t:0}function xe(t){return t==null?"":_t(t)}var Vw=$n(function(t,o){if(xo(o)||dt(o)){rr(o,Ye(o),t);return}for(var a in o)ke.call(o,a)&&wo(t,a,o[a])}),Ff=$n(function(t,o){rr(o,pt(o),t)}),Ji=$n(function(t,o,a,f){rr(o,pt(o),t,f)}),Gw=$n(function(t,o,a,f){rr(o,Ye(o),t,f)}),Kw=mr(za);function Jw(t,o){var a=qn(t);return o==null?a:bh(a,o)}var Yw=ve(function(t,o){t=Ie(t);var a=-1,f=o.length,g=f>2?o[2]:n;for(g&&st(o[0],o[1],g)&&(f=1);++a<f;)for(var w=o[a],O=pt(w),I=-1,D=O.length;++I<D;){var K=O[I],J=t[K];(J===n||Wt(J,Cn[K])&&!ke.call(t,K))&&(t[K]=w[K])}return t}),Qw=ve(function(t){return t.push(n,of),vt(Uf,n,t)});function Xw(t,o){return eh(t,ce(o,3),tr)}function Zw(t,o){return eh(t,ce(o,3),Ua)}function eE(t,o){return t==null?t:Fa(t,ce(o,3),pt)}function tE(t,o){return t==null?t:Th(t,ce(o,3),pt)}function rE(t,o){return t&&tr(t,ce(o,3))}function nE(t,o){return t&&Ua(t,ce(o,3))}function oE(t){return t==null?[]:Pi(t,Ye(t))}function iE(t){return t==null?[]:Pi(t,pt(t))}function wu(t,o,a){var f=t==null?n:Zr(t,o);return f===n?a:f}function sE(t,o){return t!=null&&uf(t,o,k0)}function Eu(t,o){return t!=null&&uf(t,o,P0)}var aE=Zh(function(t,o,a){o!=null&&typeof o.toString!="function"&&(o=gi.call(o)),t[o]=a},Tu(mt)),uE=Zh(function(t,o,a){o!=null&&typeof o.toString!="function"&&(o=gi.call(o)),ke.call(t,o)?t[o].push(a):t[o]=[a]},ce),lE=ve(So);function Ye(t){return dt(t)?gh(t):Ga(t)}function pt(t){return dt(t)?gh(t,!0):D0(t)}function cE(t,o){var a={};return o=ce(o,3),tr(t,function(f,g,w){dr(a,o(f,g,w),f)}),a}function hE(t,o){var a={};return o=ce(o,3),tr(t,function(f,g,w){dr(a,g,o(f,g,w))}),a}var fE=$n(function(t,o,a){Ci(t,o,a)}),Uf=$n(function(t,o,a,f){Ci(t,o,a,f)}),dE=mr(function(t,o){var a={};if(t==null)return a;var f=!1;o=Le(o,function(w){return w=$r(w,t),f||(f=w.length>1),w}),rr(t,au(t),a),f&&(a=Ct(a,d|m|_,ab));for(var g=o.length;g--;)Za(a,o[g]);return a});function pE(t,o){return Hf(t,Vi(ce(o)))}var mE=mr(function(t,o){return t==null?{}:F0(t,o)});function Hf(t,o){if(t==null)return{};var a=Le(au(t),function(f){return[f]});return o=ce(o),qh(t,a,function(f,g){return o(f,g[0])})}function yE(t,o,a){o=$r(o,t);var f=-1,g=o.length;for(g||(g=1,t=n);++f<g;){var w=t==null?n:t[nr(o[f])];w===n&&(f=g,w=a),t=gr(w)?w.call(t):w}return t}function gE(t,o,a){return t==null?t:Ro(t,o,a)}function vE(t,o,a,f){return f=typeof f=="function"?f:n,t==null?t:Ro(t,o,a,f)}var Wf=rf(Ye),Vf=rf(pt);function bE(t,o,a){var f=me(t),g=f||Nr(t)||Mn(t);if(o=ce(o,4),a==null){var w=t&&t.constructor;g?a=f?new w:[]:Ne(t)?a=gr(w)?qn(_i(t)):{}:a={}}return(g?At:tr)(t,function(O,I,D){return o(a,O,I,D)}),a}function _E(t,o){return t==null?!0:Za(t,o)}function wE(t,o,a){return t==null?t:Bh(t,o,ru(a))}function EE(t,o,a,f){return f=typeof f=="function"?f:n,t==null?t:Bh(t,o,ru(a),f)}function Bn(t){return t==null?[]:qa(t,Ye(t))}function SE(t){return t==null?[]:qa(t,pt(t))}function TE(t,o,a){return a===n&&(a=o,o=n),a!==n&&(a=qt(a),a=a===a?a:0),o!==n&&(o=qt(o),o=o===o?o:0),Xr(qt(t),o,a)}function RE(t,o,a){return o=vr(o),a===n?(a=o,o=0):a=vr(a),t=qt(t),C0(t,o,a)}function OE(t,o,a){if(a&&typeof a!="boolean"&&st(t,o,a)&&(o=a=n),a===n&&(typeof o=="boolean"?(a=o,o=n):typeof t=="boolean"&&(a=t,t=n)),t===n&&o===n?(t=0,o=1):(t=vr(t),o===n?(o=t,t=0):o=vr(o)),t>o){var f=t;t=o,o=f}if(a||t%1||o%1){var g=mh();return tt(t+g*(o-t+ov("1e-"+((g+"").length-1))),o)}return Ya(t,o)}var xE=Ln(function(t,o,a){return o=o.toLowerCase(),t+(a?Gf(o):o)});function Gf(t){return Su(xe(t).toLowerCase())}function Kf(t){return t=xe(t),t&&t.replace(kg,gv).replace(Kg,"")}function AE(t,o,a){t=xe(t),o=_t(o);var f=t.length;a=a===n?f:Xr(ye(a),0,f);var g=a;return a-=o.length,a>=0&&t.slice(a,g)==o}function kE(t){return t=xe(t),t&&lg.test(t)?t.replace(Tc,vv):t}function PE(t){return t=xe(t),t&&mg.test(t)?t.replace(va,"\\$&"):t}var CE=Ln(function(t,o,a){return t+(a?"-":"")+o.toLowerCase()}),IE=Ln(function(t,o,a){return t+(a?" ":"")+o.toLowerCase()}),jE=Yh("toLowerCase");function qE(t,o,a){t=xe(t),o=ye(o);var f=o?Pn(t):0;if(!o||f>=o)return t;var g=(o-f)/2;return Ni(Ti(g),a)+t+Ni(Si(g),a)}function $E(t,o,a){t=xe(t),o=ye(o);var f=o?Pn(t):0;return o&&f<o?t+Ni(o-f,a):t}function LE(t,o,a){t=xe(t),o=ye(o);var f=o?Pn(t):0;return o&&f<o?Ni(o-f,a)+t:t}function NE(t,o,a){return a||o==null?o=0:o&&(o=+o),Hv(xe(t).replace(ba,""),o||0)}function ME(t,o,a){return(a?st(t,o,a):o===n)?o=1:o=ye(o),Qa(xe(t),o)}function BE(){var t=arguments,o=xe(t[0]);return t.length<3?o:o.replace(t[1],t[2])}var DE=Ln(function(t,o,a){return t+(a?"_":"")+o.toLowerCase()});function zE(t,o,a){return a&&typeof a!="number"&&st(t,o,a)&&(o=a=n),a=a===n?te:a>>>0,a?(t=xe(t),t&&(typeof o=="string"||o!=null&&!_u(o))&&(o=_t(o),!o&&kn(t))?Lr(Ut(t),0,a):t.split(o,a)):[]}var FE=Ln(function(t,o,a){return t+(a?" ":"")+Su(o)});function UE(t,o,a){return t=xe(t),a=a==null?0:Xr(ye(a),0,t.length),o=_t(o),t.slice(a,a+o.length)==o}function HE(t,o,a){var f=b.templateSettings;a&&st(t,o,a)&&(o=n),t=xe(t),o=Ji({},o,f,nf);var g=Ji({},o.imports,f.imports,nf),w=Ye(g),O=qa(g,w),I,D,K=0,J=o.interpolate||ui,X="__p += '",oe=La((o.escape||ui).source+"|"+J.source+"|"+(J===Rc?Sg:ui).source+"|"+(o.evaluate||ui).source+"|$","g"),ue="//# sourceURL="+(ke.call(o,"sourceURL")?(o.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Zg+"]")+`
`;t.replace(oe,function(fe,be,we,Et,at,St){return we||(we=Et),X+=t.slice(K,St).replace(Pg,bv),be&&(I=!0,X+=`' +
__e(`+be+`) +
'`),at&&(D=!0,X+=`';
`+at+`;
__p += '`),we&&(X+=`' +
((__t = (`+we+`)) == null ? '' : __t) +
'`),K=St+fe.length,fe}),X+=`';
`;var he=ke.call(o,"variable")&&o.variable;if(!he)X=`with (obj) {
`+X+`
}
`;else if(wg.test(he))throw new pe(c);X=(D?X.replace(ig,""):X).replace(sg,"$1").replace(ag,"$1;"),X="function("+(he||"obj")+`) {
`+(he?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(I?", __e = _.escape":"")+(D?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+X+`return __p
}`;var ge=Yf(function(){return Te(w,ue+"return "+X).apply(n,O)});if(ge.source=X,bu(ge))throw ge;return ge}function WE(t){return xe(t).toLowerCase()}function VE(t){return xe(t).toUpperCase()}function GE(t,o,a){if(t=xe(t),t&&(a||o===n))return oh(t);if(!t||!(o=_t(o)))return t;var f=Ut(t),g=Ut(o),w=ih(f,g),O=sh(f,g)+1;return Lr(f,w,O).join("")}function KE(t,o,a){if(t=xe(t),t&&(a||o===n))return t.slice(0,uh(t)+1);if(!t||!(o=_t(o)))return t;var f=Ut(t),g=sh(f,Ut(o))+1;return Lr(f,0,g).join("")}function JE(t,o,a){if(t=xe(t),t&&(a||o===n))return t.replace(ba,"");if(!t||!(o=_t(o)))return t;var f=Ut(t),g=ih(f,Ut(o));return Lr(f,g).join("")}function YE(t,o){var a=H,f=Y;if(Ne(o)){var g="separator"in o?o.separator:g;a="length"in o?ye(o.length):a,f="omission"in o?_t(o.omission):f}t=xe(t);var w=t.length;if(kn(t)){var O=Ut(t);w=O.length}if(a>=w)return t;var I=a-Pn(f);if(I<1)return f;var D=O?Lr(O,0,I).join(""):t.slice(0,I);if(g===n)return D+f;if(O&&(I+=D.length-I),_u(g)){if(t.slice(I).search(g)){var K,J=D;for(g.global||(g=La(g.source,xe(Oc.exec(g))+"g")),g.lastIndex=0;K=g.exec(J);)var X=K.index;D=D.slice(0,X===n?I:X)}}else if(t.indexOf(_t(g),I)!=I){var oe=D.lastIndexOf(g);oe>-1&&(D=D.slice(0,oe))}return D+f}function QE(t){return t=xe(t),t&&ug.test(t)?t.replace(Sc,Ov):t}var XE=Ln(function(t,o,a){return t+(a?" ":"")+o.toUpperCase()}),Su=Yh("toUpperCase");function Jf(t,o,a){return t=xe(t),o=a?n:o,o===n?wv(t)?kv(t):fv(t):t.match(o)||[]}var Yf=ve(function(t,o){try{return vt(t,n,o)}catch(a){return bu(a)?a:new pe(a)}}),ZE=mr(function(t,o){return At(o,function(a){a=nr(a),dr(t,a,gu(t[a],t))}),t});function e1(t){var o=t==null?0:t.length,a=ce();return t=o?Le(t,function(f){if(typeof f[1]!="function")throw new kt(l);return[a(f[0]),f[1]]}):[],ve(function(f){for(var g=-1;++g<o;){var w=t[g];if(vt(w[0],this,f))return vt(w[1],this,f)}})}function t1(t){return O0(Ct(t,d))}function Tu(t){return function(){return t}}function r1(t,o){return t==null||t!==t?o:t}var n1=Xh(),o1=Xh(!0);function mt(t){return t}function Ru(t){return Ah(typeof t=="function"?t:Ct(t,d))}function i1(t){return Ph(Ct(t,d))}function s1(t,o){return Ch(t,Ct(o,d))}var a1=ve(function(t,o){return function(a){return So(a,t,o)}}),u1=ve(function(t,o){return function(a){return So(t,a,o)}});function Ou(t,o,a){var f=Ye(o),g=Pi(o,f);a==null&&!(Ne(o)&&(g.length||!f.length))&&(a=o,o=t,t=this,g=Pi(o,Ye(o)));var w=!(Ne(a)&&"chain"in a)||!!a.chain,O=gr(t);return At(g,function(I){var D=o[I];t[I]=D,O&&(t.prototype[I]=function(){var K=this.__chain__;if(w||K){var J=t(this.__wrapped__),X=J.__actions__=ft(this.__actions__);return X.push({func:D,args:arguments,thisArg:t}),J.__chain__=K,J}return D.apply(t,kr([this.value()],arguments))})}),t}function l1(){return Je._===this&&(Je._=$v),this}function xu(){}function c1(t){return t=ye(t),ve(function(o){return Ih(o,t)})}var h1=ou(Le),f1=ou(Zc),d1=ou(ka);function Qf(t){return hu(t)?Pa(nr(t)):U0(t)}function p1(t){return function(o){return t==null?n:Zr(t,o)}}var m1=ef(),y1=ef(!0);function Au(){return[]}function ku(){return!1}function g1(){return{}}function v1(){return""}function b1(){return!0}function _1(t,o){if(t=ye(t),t<1||t>W)return[];var a=te,f=tt(t,te);o=ce(o),t-=te;for(var g=ja(f,o);++a<t;)o(a);return g}function w1(t){return me(t)?Le(t,nr):wt(t)?[t]:ft(gf(xe(t)))}function E1(t){var o=++jv;return xe(t)+o}var S1=Li(function(t,o){return t+o},0),T1=iu("ceil"),R1=Li(function(t,o){return t/o},1),O1=iu("floor");function x1(t){return t&&t.length?ki(t,mt,Ha):n}function A1(t,o){return t&&t.length?ki(t,ce(o,2),Ha):n}function k1(t){return rh(t,mt)}function P1(t,o){return rh(t,ce(o,2))}function C1(t){return t&&t.length?ki(t,mt,Ka):n}function I1(t,o){return t&&t.length?ki(t,ce(o,2),Ka):n}var j1=Li(function(t,o){return t*o},1),q1=iu("round"),$1=Li(function(t,o){return t-o},0);function L1(t){return t&&t.length?Ia(t,mt):0}function N1(t,o){return t&&t.length?Ia(t,ce(o,2)):0}return b.after=iw,b.ary=Af,b.assign=Vw,b.assignIn=Ff,b.assignInWith=Ji,b.assignWith=Gw,b.at=Kw,b.before=kf,b.bind=gu,b.bindAll=ZE,b.bindKey=Pf,b.castArray=gw,b.chain=Rf,b.chunk=Ob,b.compact=xb,b.concat=Ab,b.cond=e1,b.conforms=t1,b.constant=Tu,b.countBy=L_,b.create=Jw,b.curry=Cf,b.curryRight=If,b.debounce=jf,b.defaults=Yw,b.defaultsDeep=Qw,b.defer=sw,b.delay=aw,b.difference=kb,b.differenceBy=Pb,b.differenceWith=Cb,b.drop=Ib,b.dropRight=jb,b.dropRightWhile=qb,b.dropWhile=$b,b.fill=Lb,b.filter=M_,b.flatMap=z_,b.flatMapDeep=F_,b.flatMapDepth=U_,b.flatten=wf,b.flattenDeep=Nb,b.flattenDepth=Mb,b.flip=uw,b.flow=n1,b.flowRight=o1,b.fromPairs=Bb,b.functions=oE,b.functionsIn=iE,b.groupBy=H_,b.initial=zb,b.intersection=Fb,b.intersectionBy=Ub,b.intersectionWith=Hb,b.invert=aE,b.invertBy=uE,b.invokeMap=V_,b.iteratee=Ru,b.keyBy=G_,b.keys=Ye,b.keysIn=pt,b.map=Ui,b.mapKeys=cE,b.mapValues=hE,b.matches=i1,b.matchesProperty=s1,b.memoize=Wi,b.merge=fE,b.mergeWith=Uf,b.method=a1,b.methodOf=u1,b.mixin=Ou,b.negate=Vi,b.nthArg=c1,b.omit=dE,b.omitBy=pE,b.once=lw,b.orderBy=K_,b.over=h1,b.overArgs=cw,b.overEvery=f1,b.overSome=d1,b.partial=vu,b.partialRight=qf,b.partition=J_,b.pick=mE,b.pickBy=Hf,b.property=Qf,b.propertyOf=p1,b.pull=Kb,b.pullAll=Sf,b.pullAllBy=Jb,b.pullAllWith=Yb,b.pullAt=Qb,b.range=m1,b.rangeRight=y1,b.rearg=hw,b.reject=X_,b.remove=Xb,b.rest=fw,b.reverse=mu,b.sampleSize=ew,b.set=gE,b.setWith=vE,b.shuffle=tw,b.slice=Zb,b.sortBy=ow,b.sortedUniq=s_,b.sortedUniqBy=a_,b.split=zE,b.spread=dw,b.tail=u_,b.take=l_,b.takeRight=c_,b.takeRightWhile=h_,b.takeWhile=f_,b.tap=x_,b.throttle=pw,b.thru=Fi,b.toArray=Bf,b.toPairs=Wf,b.toPairsIn=Vf,b.toPath=w1,b.toPlainObject=zf,b.transform=bE,b.unary=mw,b.union=d_,b.unionBy=p_,b.unionWith=m_,b.uniq=y_,b.uniqBy=g_,b.uniqWith=v_,b.unset=_E,b.unzip=yu,b.unzipWith=Tf,b.update=wE,b.updateWith=EE,b.values=Bn,b.valuesIn=SE,b.without=b_,b.words=Jf,b.wrap=yw,b.xor=__,b.xorBy=w_,b.xorWith=E_,b.zip=S_,b.zipObject=T_,b.zipObjectDeep=R_,b.zipWith=O_,b.entries=Wf,b.entriesIn=Vf,b.extend=Ff,b.extendWith=Ji,Ou(b,b),b.add=S1,b.attempt=Yf,b.camelCase=xE,b.capitalize=Gf,b.ceil=T1,b.clamp=TE,b.clone=vw,b.cloneDeep=_w,b.cloneDeepWith=ww,b.cloneWith=bw,b.conformsTo=Ew,b.deburr=Kf,b.defaultTo=r1,b.divide=R1,b.endsWith=AE,b.eq=Wt,b.escape=kE,b.escapeRegExp=PE,b.every=N_,b.find=B_,b.findIndex=bf,b.findKey=Xw,b.findLast=D_,b.findLastIndex=_f,b.findLastKey=Zw,b.floor=O1,b.forEach=Of,b.forEachRight=xf,b.forIn=eE,b.forInRight=tE,b.forOwn=rE,b.forOwnRight=nE,b.get=wu,b.gt=Sw,b.gte=Tw,b.has=sE,b.hasIn=Eu,b.head=Ef,b.identity=mt,b.includes=W_,b.indexOf=Db,b.inRange=RE,b.invoke=lE,b.isArguments=rn,b.isArray=me,b.isArrayBuffer=Rw,b.isArrayLike=dt,b.isArrayLikeObject=De,b.isBoolean=Ow,b.isBuffer=Nr,b.isDate=xw,b.isElement=Aw,b.isEmpty=kw,b.isEqual=Pw,b.isEqualWith=Cw,b.isError=bu,b.isFinite=Iw,b.isFunction=gr,b.isInteger=$f,b.isLength=Gi,b.isMap=Lf,b.isMatch=jw,b.isMatchWith=qw,b.isNaN=$w,b.isNative=Lw,b.isNil=Mw,b.isNull=Nw,b.isNumber=Nf,b.isObject=Ne,b.isObjectLike=Be,b.isPlainObject=ko,b.isRegExp=_u,b.isSafeInteger=Bw,b.isSet=Mf,b.isString=Ki,b.isSymbol=wt,b.isTypedArray=Mn,b.isUndefined=Dw,b.isWeakMap=zw,b.isWeakSet=Fw,b.join=Wb,b.kebabCase=CE,b.last=jt,b.lastIndexOf=Vb,b.lowerCase=IE,b.lowerFirst=jE,b.lt=Uw,b.lte=Hw,b.max=x1,b.maxBy=A1,b.mean=k1,b.meanBy=P1,b.min=C1,b.minBy=I1,b.stubArray=Au,b.stubFalse=ku,b.stubObject=g1,b.stubString=v1,b.stubTrue=b1,b.multiply=j1,b.nth=Gb,b.noConflict=l1,b.noop=xu,b.now=Hi,b.pad=qE,b.padEnd=$E,b.padStart=LE,b.parseInt=NE,b.random=OE,b.reduce=Y_,b.reduceRight=Q_,b.repeat=ME,b.replace=BE,b.result=yE,b.round=q1,b.runInContext=M,b.sample=Z_,b.size=rw,b.snakeCase=DE,b.some=nw,b.sortedIndex=e_,b.sortedIndexBy=t_,b.sortedIndexOf=r_,b.sortedLastIndex=n_,b.sortedLastIndexBy=o_,b.sortedLastIndexOf=i_,b.startCase=FE,b.startsWith=UE,b.subtract=$1,b.sum=L1,b.sumBy=N1,b.template=HE,b.times=_1,b.toFinite=vr,b.toInteger=ye,b.toLength=Df,b.toLower=WE,b.toNumber=qt,b.toSafeInteger=Ww,b.toString=xe,b.toUpper=VE,b.trim=GE,b.trimEnd=KE,b.trimStart=JE,b.truncate=YE,b.unescape=QE,b.uniqueId=E1,b.upperCase=XE,b.upperFirst=Su,b.each=Of,b.eachRight=xf,b.first=Ef,Ou(b,function(){var t={};return tr(b,function(o,a){ke.call(b.prototype,a)||(t[a]=o)}),t}(),{chain:!1}),b.VERSION=i,At(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){b[t].placeholder=b}),At(["drop","take"],function(t,o){_e.prototype[t]=function(a){a=a===n?1:Ve(ye(a),0);var f=this.__filtered__&&!o?new _e(this):this.clone();return f.__filtered__?f.__takeCount__=tt(a,f.__takeCount__):f.__views__.push({size:tt(a,te),type:t+(f.__dir__<0?"Right":"")}),f},_e.prototype[t+"Right"]=function(a){return this.reverse()[t](a).reverse()}}),At(["filter","map","takeWhile"],function(t,o){var a=o+1,f=a==E||a==F;_e.prototype[t]=function(g){var w=this.clone();return w.__iteratees__.push({iteratee:ce(g,3),type:a}),w.__filtered__=w.__filtered__||f,w}}),At(["head","last"],function(t,o){var a="take"+(o?"Right":"");_e.prototype[t]=function(){return this[a](1).value()[0]}}),At(["initial","tail"],function(t,o){var a="drop"+(o?"":"Right");_e.prototype[t]=function(){return this.__filtered__?new _e(this):this[a](1)}}),_e.prototype.compact=function(){return this.filter(mt)},_e.prototype.find=function(t){return this.filter(t).head()},_e.prototype.findLast=function(t){return this.reverse().find(t)},_e.prototype.invokeMap=ve(function(t,o){return typeof t=="function"?new _e(this):this.map(function(a){return So(a,t,o)})}),_e.prototype.reject=function(t){return this.filter(Vi(ce(t)))},_e.prototype.slice=function(t,o){t=ye(t);var a=this;return a.__filtered__&&(t>0||o<0)?new _e(a):(t<0?a=a.takeRight(-t):t&&(a=a.drop(t)),o!==n&&(o=ye(o),a=o<0?a.dropRight(-o):a.take(o-t)),a)},_e.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},_e.prototype.toArray=function(){return this.take(te)},tr(_e.prototype,function(t,o){var a=/^(?:filter|find|map|reject)|While$/.test(o),f=/^(?:head|last)$/.test(o),g=b[f?"take"+(o=="last"?"Right":""):o],w=f||/^find/.test(o);g&&(b.prototype[o]=function(){var O=this.__wrapped__,I=f?[1]:arguments,D=O instanceof _e,K=I[0],J=D||me(O),X=function(be){var we=g.apply(b,kr([be],I));return f&&oe?we[0]:we};J&&a&&typeof K=="function"&&K.length!=1&&(D=J=!1);var oe=this.__chain__,ue=!!this.__actions__.length,he=w&&!oe,ge=D&&!ue;if(!w&&J){O=ge?O:new _e(this);var fe=t.apply(O,I);return fe.__actions__.push({func:Fi,args:[X],thisArg:n}),new Pt(fe,oe)}return he&&ge?t.apply(this,I):(fe=this.thru(X),he?f?fe.value()[0]:fe.value():fe)})}),At(["pop","push","shift","sort","splice","unshift"],function(t){var o=pi[t],a=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",f=/^(?:pop|shift)$/.test(t);b.prototype[t]=function(){var g=arguments;if(f&&!this.__chain__){var w=this.value();return o.apply(me(w)?w:[],g)}return this[a](function(O){return o.apply(me(O)?O:[],g)})}}),tr(_e.prototype,function(t,o){var a=b[o];if(a){var f=a.name+"";ke.call(jn,f)||(jn[f]=[]),jn[f].push({name:o,func:a})}}),jn[$i(n,V).name]=[{name:"wrapper",func:n}],_e.prototype.clone=Qv,_e.prototype.reverse=Xv,_e.prototype.value=Zv,b.prototype.at=A_,b.prototype.chain=k_,b.prototype.commit=P_,b.prototype.next=C_,b.prototype.plant=j_,b.prototype.reverse=q_,b.prototype.toJSON=b.prototype.valueOf=b.prototype.value=$_,b.prototype.first=b.prototype.head,yo&&(b.prototype[yo]=I_),b},Cr=Pv();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(Je._=Cr,define(function(){return Cr})):Kr?((Kr.exports=Cr)._=Cr,Ra._=Cr):Je._=Cr}).call(e)}),TR=Q((e,r)=>{var n=Em(),i=xm(),s=Om(),u=Ml(),{includes:l,isBoolean:c,isInteger:h,isNumber:p,isPlainObject:y,isString:d,once:m}=SR(),{KeyObject:_,createSecretKey:A,createPrivateKey:P}=require("crypto"),R=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];i&&R.splice(3,0,"PS256","PS384","PS512");var V={expiresIn:{isValid:function(k){return h(k)||d(k)&&k},message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:function(k){return h(k)||d(k)&&k},message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:function(k){return d(k)||Array.isArray(k)},message:'"audience" must be a string or array'},algorithm:{isValid:l.bind(null,R),message:'"algorithm" must be a valid string enum value'},header:{isValid:y,message:'"header" must be an object'},encoding:{isValid:d,message:'"encoding" must be a string'},issuer:{isValid:d,message:'"issuer" must be a string'},subject:{isValid:d,message:'"subject" must be a string'},jwtid:{isValid:d,message:'"jwtid" must be a string'},noTimestamp:{isValid:c,message:'"noTimestamp" must be a boolean'},keyid:{isValid:d,message:'"keyid" must be a string'},mutatePayload:{isValid:c,message:'"mutatePayload" must be a boolean'},allowInsecureKeySizes:{isValid:c,message:'"allowInsecureKeySizes" must be a boolean'},allowInvalidAsymmetricKeyTypes:{isValid:c,message:'"allowInvalidAsymmetricKeyTypes" must be a boolean'}},z={iat:{isValid:p,message:'"iat" should be a number of seconds'},exp:{isValid:p,message:'"exp" should be a number of seconds'},nbf:{isValid:p,message:'"nbf" should be a number of seconds'}};function S(k,L,H,Y){if(!y(H))throw new Error('Expected "'+Y+'" to be a plain object.');Object.keys(H).forEach(function(ne){let T=k[ne];if(!T){if(!L)throw new Error('"'+ne+'" is not allowed in "'+Y+'"');return}if(!T.isValid(H[ne]))throw new Error(T.message)})}function B(k){return S(V,!1,k,"options")}function v(k){return S(z,!0,k,"payload")}var q={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"},C=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"];r.exports=function(k,L,H,Y){typeof H=="function"?(Y=H,H={}):H=H||{};let ne=typeof k=="object"&&!Buffer.isBuffer(k),T=Object.assign({alg:H.algorithm||"HS256",typ:ne?"JWT":void 0,kid:H.keyid},H.header);function E(j){if(Y)return Y(j);throw j}if(!L&&H.algorithm!=="none")return E(new Error("secretOrPrivateKey must have a value"));if(L!=null&&!(L instanceof _))try{L=P(L)}catch{try{L=A(typeof L=="string"?Buffer.from(L):L)}catch{return E(new Error("secretOrPrivateKey is not valid key material"))}}if(T.alg.startsWith("HS")&&L.type!=="secret")return E(new Error(`secretOrPrivateKey must be a symmetric key when using ${T.alg}`));if(/^(?:RS|PS|ES)/.test(T.alg)){if(L.type!=="private")return E(new Error(`secretOrPrivateKey must be an asymmetric key when using ${T.alg}`));if(!H.allowInsecureKeySizes&&!T.alg.startsWith("ES")&&L.asymmetricKeyDetails!==void 0&&L.asymmetricKeyDetails.modulusLength<2048)return E(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${T.alg}`))}if(typeof k>"u")return E(new Error("payload is required"));if(ne){try{v(k)}catch(j){return E(j)}H.mutatePayload||(k=Object.assign({},k))}else{let j=C.filter(function(W){return typeof H[W]<"u"});if(j.length>0)return E(new Error("invalid "+j.join(",")+" option for "+typeof k+" payload"))}if(typeof k.exp<"u"&&typeof H.expiresIn<"u")return E(new Error('Bad "options.expiresIn" option the payload already has an "exp" property.'));if(typeof k.nbf<"u"&&typeof H.notBefore<"u")return E(new Error('Bad "options.notBefore" option the payload already has an "nbf" property.'));try{B(H)}catch(j){return E(j)}if(!H.allowInvalidAsymmetricKeyTypes)try{s(T.alg,L)}catch(j){return E(j)}let N=k.iat||Math.floor(Date.now()/1e3);if(H.noTimestamp?delete k.iat:ne&&(k.iat=N),typeof H.notBefore<"u"){try{k.nbf=n(H.notBefore,N)}catch(j){return E(j)}if(typeof k.nbf>"u")return E(new Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}if(typeof H.expiresIn<"u"&&typeof k=="object"){try{k.exp=n(H.expiresIn,N)}catch(j){return E(j)}if(typeof k.exp>"u")return E(new Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}Object.keys(q).forEach(function(j){let W=q[j];if(typeof H[j]<"u"){if(typeof k[W]<"u")return E(new Error('Bad "options.'+j+'" option. The payload already has an "'+W+'" property.'));k[W]=H[j]}});let F=H.encoding||"utf8";if(typeof Y=="function")Y=Y&&m(Y),u.createSign({header:T,privateKey:L,payload:k,encoding:F}).once("error",Y).once("done",function(j){if(!H.allowInsecureKeySizes&&/^(?:RS|PS)/.test(T.alg)&&j.length<256)return Y(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${T.alg}`));Y(null,j)});else{let j=u.sign({header:T,payload:k,secret:L,encoding:F});if(!H.allowInsecureKeySizes&&/^(?:RS|PS)/.test(T.alg)&&j.length<256)throw new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${T.alg}`);return j}}}),RR=Q((e,r)=>{r.exports={verify:ER(),sign:TR(),JsonWebTokenError:Gs(),NotBeforeError:ym(),TokenExpiredError:gm()},Object.defineProperty(r.exports,"decode",{enumerable:!1,value:wm()})}),Am={};wT(Am,{BrowserName:()=>km,marketNameMap:()=>Pm,submitChrome:()=>Gx,submitEdge:()=>eA,submitFirefox:()=>HA,submitOpera:()=>VA,supportedBrowserSet:()=>OR});Yy.exports=ET(Am);var km=(e=>(e.Chrome="chrome",e.Firefox="firefox",e.Opera="opera",e.Edge="edge",e))(km||{}),OR=new Set(["chrome","edge","firefox"]),Pm={chrome:"Chrome Web Store",edge:"Edge Add-ons",firefox:"Firefox Add-ons"},xR=require("fs"),Cm=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function AR(e){return Cm.includes(e)}var kR=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Blob","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","WeakRef","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","FormData","URLSearchParams","HTMLElement","NaN",...Cm];function PR(e){return kR.includes(e)}var CR=["null","undefined","string","number","bigint","boolean","symbol"];function IR(e){return CR.includes(e)}function ao(e){return r=>typeof r===e}var{toString:jR}=Object.prototype,ri=e=>{let r=jR.call(e).slice(8,-1);if(/HTML\w+Element/.test(r)&&x.domElement(e))return"HTMLElement";if(PR(r))return r},Ce=e=>r=>ri(r)===e;function x(e){if(e===null)return"null";switch(typeof e){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(e)?"NaN":"number";case"boolean":return"boolean";case"function":return"Function";case"bigint":return"bigint";case"symbol":return"symbol";default:}if(x.observable(e))return"Observable";if(x.array(e))return"Array";if(x.buffer(e))return"Buffer";let r=ri(e);if(r)return r;if(e instanceof String||e instanceof Boolean||e instanceof Number)throw new TypeError("Please don't use object wrappers for primitive types");return"Object"}x.undefined=ao("undefined");x.string=ao("string");var qR=ao("number");x.number=e=>qR(e)&&!x.nan(e);x.bigint=ao("bigint");x.function_=ao("function");x.null_=e=>e===null;x.class_=e=>x.function_(e)&&e.toString().startsWith("class ");x.boolean=e=>e===!0||e===!1;x.symbol=ao("symbol");x.numericString=e=>x.string(e)&&!x.emptyStringOrWhitespace(e)&&!Number.isNaN(Number(e));x.array=(e,r)=>Array.isArray(e)?x.function_(r)?e.every(n=>r(n)):!0:!1;x.buffer=e=>e?.constructor?.isBuffer?.(e)??!1;x.blob=e=>Ce("Blob")(e);x.nullOrUndefined=e=>x.null_(e)||x.undefined(e);x.object=e=>!x.null_(e)&&(typeof e=="object"||x.function_(e));x.iterable=e=>x.function_(e?.[Symbol.iterator]);x.asyncIterable=e=>x.function_(e?.[Symbol.asyncIterator]);x.generator=e=>x.iterable(e)&&x.function_(e?.next)&&x.function_(e?.throw);x.asyncGenerator=e=>x.asyncIterable(e)&&x.function_(e.next)&&x.function_(e.throw);x.nativePromise=e=>Ce("Promise")(e);var $R=e=>x.function_(e?.then)&&x.function_(e?.catch);x.promise=e=>x.nativePromise(e)||$R(e);x.generatorFunction=Ce("GeneratorFunction");x.asyncGeneratorFunction=e=>ri(e)==="AsyncGeneratorFunction";x.asyncFunction=e=>ri(e)==="AsyncFunction";x.boundFunction=e=>x.function_(e)&&!e.hasOwnProperty("prototype");x.regExp=Ce("RegExp");x.date=Ce("Date");x.error=Ce("Error");x.map=e=>Ce("Map")(e);x.set=e=>Ce("Set")(e);x.weakMap=e=>Ce("WeakMap")(e);x.weakSet=e=>Ce("WeakSet")(e);x.weakRef=e=>Ce("WeakRef")(e);x.int8Array=Ce("Int8Array");x.uint8Array=Ce("Uint8Array");x.uint8ClampedArray=Ce("Uint8ClampedArray");x.int16Array=Ce("Int16Array");x.uint16Array=Ce("Uint16Array");x.int32Array=Ce("Int32Array");x.uint32Array=Ce("Uint32Array");x.float32Array=Ce("Float32Array");x.float64Array=Ce("Float64Array");x.bigInt64Array=Ce("BigInt64Array");x.bigUint64Array=Ce("BigUint64Array");x.arrayBuffer=Ce("ArrayBuffer");x.sharedArrayBuffer=Ce("SharedArrayBuffer");x.dataView=Ce("DataView");x.enumCase=(e,r)=>Object.values(r).includes(e);x.directInstanceOf=(e,r)=>Object.getPrototypeOf(e)===r.prototype;x.urlInstance=e=>Ce("URL")(e);x.urlString=e=>{if(!x.string(e))return!1;try{return new URL(e),!0}catch{return!1}};x.truthy=e=>Boolean(e);x.falsy=e=>!e;x.nan=e=>Number.isNaN(e);x.primitive=e=>x.null_(e)||IR(typeof e);x.integer=e=>Number.isInteger(e);x.safeInteger=e=>Number.isSafeInteger(e);x.plainObject=e=>{if(typeof e!="object"||e===null)return!1;let r=Object.getPrototypeOf(e);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};x.typedArray=e=>AR(ri(e));var LR=e=>x.safeInteger(e)&&e>=0;x.arrayLike=e=>!x.nullOrUndefined(e)&&!x.function_(e)&&LR(e.length);x.inRange=(e,r)=>{if(x.number(r))return e>=Math.min(0,r)&&e<=Math.max(r,0);if(x.array(r)&&r.length===2)return e>=Math.min(...r)&&e<=Math.max(...r);throw new TypeError(`Invalid range: ${JSON.stringify(r)}`)};var NR=1,MR=["innerHTML","ownerDocument","style","attributes","nodeValue"];x.domElement=e=>x.object(e)&&e.nodeType===NR&&x.string(e.nodeName)&&!x.plainObject(e)&&MR.every(r=>r in e);x.observable=e=>e?e===e[Symbol.observable]?.()||e===e["@@observable"]?.():!1;x.nodeStream=e=>x.object(e)&&x.function_(e.pipe)&&!x.observable(e);x.infinite=e=>e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY;var Im=e=>r=>x.integer(r)&&Math.abs(r%2)===e;x.evenInteger=Im(0);x.oddInteger=Im(1);x.emptyArray=e=>x.array(e)&&e.length===0;x.nonEmptyArray=e=>x.array(e)&&e.length>0;x.emptyString=e=>x.string(e)&&e.length===0;var BR=e=>x.string(e)&&!/\S/.test(e);x.emptyStringOrWhitespace=e=>x.emptyString(e)||BR(e);x.nonEmptyString=e=>x.string(e)&&e.length>0;x.nonEmptyStringAndNotWhitespace=e=>x.string(e)&&!x.emptyStringOrWhitespace(e);x.emptyObject=e=>x.object(e)&&!x.map(e)&&!x.set(e)&&Object.keys(e).length===0;x.nonEmptyObject=e=>x.object(e)&&!x.map(e)&&!x.set(e)&&Object.keys(e).length>0;x.emptySet=e=>x.set(e)&&e.size===0;x.nonEmptySet=e=>x.set(e)&&e.size>0;x.emptyMap=e=>x.map(e)&&e.size===0;x.nonEmptyMap=e=>x.map(e)&&e.size>0;x.propertyKey=e=>x.any([x.string,x.number,x.symbol],e);x.formData=e=>Ce("FormData")(e);x.urlSearchParams=e=>Ce("URLSearchParams")(e);var jm=(e,r,n)=>{if(!x.function_(r))throw new TypeError(`Invalid predicate: ${JSON.stringify(r)}`);if(n.length===0)throw new TypeError("Invalid number of values");return e.call(n,r)};x.any=(e,...r)=>(x.array(e)?e:[e]).some(n=>jm(Array.prototype.some,n,r));x.all=(e,...r)=>jm(Array.prototype.every,e,r);var re=(e,r,n,i={})=>{if(!e){let{multipleValues:s}=i,u=s?`received values of types ${[...new Set(n.map(l=>`\`${x(l)}\``))].join(", ")}`:`received value of type \`${x(n)}\``;throw new TypeError(`Expected value which is \`${r}\`, ${u}.`)}},Z={undefined:e=>re(x.undefined(e),"undefined",e),string:e=>re(x.string(e),"string",e),number:e=>re(x.number(e),"number",e),bigint:e=>re(x.bigint(e),"bigint",e),function_:e=>re(x.function_(e),"Function",e),null_:e=>re(x.null_(e),"null",e),class_:e=>re(x.class_(e),"Class",e),boolean:e=>re(x.boolean(e),"boolean",e),symbol:e=>re(x.symbol(e),"symbol",e),numericString:e=>re(x.numericString(e),"string with a number",e),array:(e,r)=>{re(x.array(e),"Array",e),r&&e.forEach(r)},buffer:e=>re(x.buffer(e),"Buffer",e),blob:e=>re(x.blob(e),"Blob",e),nullOrUndefined:e=>re(x.nullOrUndefined(e),"null or undefined",e),object:e=>re(x.object(e),"Object",e),iterable:e=>re(x.iterable(e),"Iterable",e),asyncIterable:e=>re(x.asyncIterable(e),"AsyncIterable",e),generator:e=>re(x.generator(e),"Generator",e),asyncGenerator:e=>re(x.asyncGenerator(e),"AsyncGenerator",e),nativePromise:e=>re(x.nativePromise(e),"native Promise",e),promise:e=>re(x.promise(e),"Promise",e),generatorFunction:e=>re(x.generatorFunction(e),"GeneratorFunction",e),asyncGeneratorFunction:e=>re(x.asyncGeneratorFunction(e),"AsyncGeneratorFunction",e),asyncFunction:e=>re(x.asyncFunction(e),"AsyncFunction",e),boundFunction:e=>re(x.boundFunction(e),"Function",e),regExp:e=>re(x.regExp(e),"RegExp",e),date:e=>re(x.date(e),"Date",e),error:e=>re(x.error(e),"Error",e),map:e=>re(x.map(e),"Map",e),set:e=>re(x.set(e),"Set",e),weakMap:e=>re(x.weakMap(e),"WeakMap",e),weakSet:e=>re(x.weakSet(e),"WeakSet",e),weakRef:e=>re(x.weakRef(e),"WeakRef",e),int8Array:e=>re(x.int8Array(e),"Int8Array",e),uint8Array:e=>re(x.uint8Array(e),"Uint8Array",e),uint8ClampedArray:e=>re(x.uint8ClampedArray(e),"Uint8ClampedArray",e),int16Array:e=>re(x.int16Array(e),"Int16Array",e),uint16Array:e=>re(x.uint16Array(e),"Uint16Array",e),int32Array:e=>re(x.int32Array(e),"Int32Array",e),uint32Array:e=>re(x.uint32Array(e),"Uint32Array",e),float32Array:e=>re(x.float32Array(e),"Float32Array",e),float64Array:e=>re(x.float64Array(e),"Float64Array",e),bigInt64Array:e=>re(x.bigInt64Array(e),"BigInt64Array",e),bigUint64Array:e=>re(x.bigUint64Array(e),"BigUint64Array",e),arrayBuffer:e=>re(x.arrayBuffer(e),"ArrayBuffer",e),sharedArrayBuffer:e=>re(x.sharedArrayBuffer(e),"SharedArrayBuffer",e),dataView:e=>re(x.dataView(e),"DataView",e),enumCase:(e,r)=>re(x.enumCase(e,r),"EnumCase",e),urlInstance:e=>re(x.urlInstance(e),"URL",e),urlString:e=>re(x.urlString(e),"string with a URL",e),truthy:e=>re(x.truthy(e),"truthy",e),falsy:e=>re(x.falsy(e),"falsy",e),nan:e=>re(x.nan(e),"NaN",e),primitive:e=>re(x.primitive(e),"primitive",e),integer:e=>re(x.integer(e),"integer",e),safeInteger:e=>re(x.safeInteger(e),"integer",e),plainObject:e=>re(x.plainObject(e),"plain object",e),typedArray:e=>re(x.typedArray(e),"TypedArray",e),arrayLike:e=>re(x.arrayLike(e),"array-like",e),domElement:e=>re(x.domElement(e),"HTMLElement",e),observable:e=>re(x.observable(e),"Observable",e),nodeStream:e=>re(x.nodeStream(e),"Node.js Stream",e),infinite:e=>re(x.infinite(e),"infinite number",e),emptyArray:e=>re(x.emptyArray(e),"empty array",e),nonEmptyArray:e=>re(x.nonEmptyArray(e),"non-empty array",e),emptyString:e=>re(x.emptyString(e),"empty string",e),emptyStringOrWhitespace:e=>re(x.emptyStringOrWhitespace(e),"empty string or whitespace",e),nonEmptyString:e=>re(x.nonEmptyString(e),"non-empty string",e),nonEmptyStringAndNotWhitespace:e=>re(x.nonEmptyStringAndNotWhitespace(e),"non-empty string and not whitespace",e),emptyObject:e=>re(x.emptyObject(e),"empty object",e),nonEmptyObject:e=>re(x.nonEmptyObject(e),"non-empty object",e),emptySet:e=>re(x.emptySet(e),"empty set",e),nonEmptySet:e=>re(x.nonEmptySet(e),"non-empty set",e),emptyMap:e=>re(x.emptyMap(e),"empty map",e),nonEmptyMap:e=>re(x.nonEmptyMap(e),"non-empty map",e),propertyKey:e=>re(x.propertyKey(e),"PropertyKey",e),formData:e=>re(x.formData(e),"FormData",e),urlSearchParams:e=>re(x.urlSearchParams(e),"URLSearchParams",e),evenInteger:e=>re(x.evenInteger(e),"even integer",e),oddInteger:e=>re(x.oddInteger(e),"odd integer",e),directInstanceOf:(e,r)=>re(x.directInstanceOf(e,r),"T",e),inRange:(e,r)=>re(x.inRange(e,r),"in range",e),any:(e,...r)=>re(x.any(e,...r),"predicate returns truthy for any value",r,{multipleValues:!0}),all:(e,...r)=>re(x.all(e,...r),"predicate returns truthy for all values",r,{multipleValues:!0})};Object.defineProperties(x,{class:{value:x.class_},function:{value:x.function_},null:{value:x.null_}});Object.defineProperties(Z,{class:{value:Z.class_},function:{value:Z.function_},null:{value:Z.null_}});var $=x,DR=require("node:events"),zR=class extends Error{constructor(e){super(e||"Promise was canceled"),this.name="CancelError"}get isCanceled(){return!0}},Vl=class{static fn(e){return(...r)=>new Vl((n,i,s)=>{r.push(s),e(...r).then(n,i)})}constructor(e){this._cancelHandlers=[],this._isPending=!0,this._isCanceled=!1,this._rejectOnCancel=!0,this._promise=new Promise((r,n)=>{this._reject=n;let i=l=>{(!this._isCanceled||!u.shouldReject)&&(this._isPending=!1,r(l))},s=l=>{this._isPending=!1,n(l)},u=l=>{if(!this._isPending)throw new Error("The `onCancel` handler was attached after the promise settled.");this._cancelHandlers.push(l)};Object.defineProperties(u,{shouldReject:{get:()=>this._rejectOnCancel,set:l=>{this._rejectOnCancel=l}}}),e(i,s,u)})}then(e,r){return this._promise.then(e,r)}catch(e){return this._promise.catch(e)}finally(e){return this._promise.finally(e)}cancel(e){if(!(!this._isPending||this._isCanceled)){if(this._isCanceled=!0,this._cancelHandlers.length>0)try{for(let r of this._cancelHandlers)r()}catch(r){this._reject(r);return}this._rejectOnCancel&&this._reject(new zR(e))}}get isCanceled(){return this._isCanceled}};Object.setPrototypeOf(Vl.prototype,Promise.prototype);function FR(e){return $.object(e)&&"_onResponse"in e}var Ke=class extends Error{constructor(e,r,n){if(super(e),Object.defineProperty(this,"input",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stack",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"response",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Error.captureStackTrace(this,this.constructor),this.name="RequestError",this.code=r.code??"ERR_GOT_REQUEST_ERROR",this.input=r.input,FR(n)?(Object.defineProperty(this,"request",{enumerable:!1,value:n}),Object.defineProperty(this,"response",{enumerable:!1,value:n.response}),this.options=n.options):this.options=n,this.timings=this.request?.timings,$.string(r.stack)&&$.string(this.stack)){let i=this.stack.indexOf(this.message)+this.message.length,s=this.stack.slice(i).split(`
`).reverse(),u=r.stack.slice(r.stack.indexOf(r.message)+r.message.length).split(`
`).reverse();for(;u.length>0&&u[0]===s[0];)s.shift();this.stack=`${this.stack.slice(0,i)}${s.reverse().join(`
`)}${u.reverse().join(`
`)}`}}},UR=class extends Ke{constructor(e){super(`Redirected ${e.options.maxRedirects} times. Aborting.`,{},e),this.name="MaxRedirectsError",this.code="ERR_TOO_MANY_REDIRECTS"}},qs=class extends Ke{constructor(e){super(`Response code ${e.statusCode} (${e.statusMessage})`,{},e.request),this.name="HTTPError",this.code="ERR_NON_2XX_3XX_RESPONSE"}},HR=class extends Ke{constructor(e,r){super(e.message,e,r),this.name="CacheError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_CACHE_ACCESS":this.code}},np=class extends Ke{constructor(e,r){super(e.message,e,r),this.name="UploadError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_UPLOAD":this.code}},WR=class extends Ke{constructor(e,r,n){super(e.message,e,n),Object.defineProperty(this,"timings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"event",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="TimeoutError",this.event=e.event,this.timings=r}},op=class extends Ke{constructor(e,r){super(e.message,e,r),this.name="ReadError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_READING_RESPONSE_STREAM":this.code}},VR=class extends Ke{constructor(e){super("Retrying",{},e),this.name="RetryError",this.code="ERR_RETRYING"}},GR=class extends Ke{constructor(e){super("This operation was aborted.",{},e),this.code="ERR_ABORTED",this.name="AbortError"}},qm=He(require("node:process"),1),Zu=require("node:buffer"),KR=require("node:stream"),ip=require("node:url"),el=He(require("node:http"),1),JR=require("events"),YR=require("util"),QR=He(ST(),1),XR=e=>{if(e.timings)return e.timings;let r={start:Date.now(),socket:void 0,lookup:void 0,connect:void 0,secureConnect:void 0,upload:void 0,response:void 0,end:void 0,error:void 0,abort:void 0,phases:{wait:void 0,dns:void 0,tcp:void 0,tls:void 0,request:void 0,firstByte:void 0,download:void 0,total:void 0}};e.timings=r;let n=l=>{l.once(JR.errorMonitor,()=>{r.error=Date.now(),r.phases.total=r.error-r.start})};n(e);let i=()=>{r.abort=Date.now(),r.phases.total=r.abort-r.start};e.prependOnceListener("abort",i);let s=l=>{if(r.socket=Date.now(),r.phases.wait=r.socket-r.start,YR.types.isProxy(l))return;let c=()=>{r.lookup=Date.now(),r.phases.dns=r.lookup-r.socket};l.prependOnceListener("lookup",c),(0,QR.default)(l,{connect:()=>{r.connect=Date.now(),r.lookup===void 0&&(l.removeListener("lookup",c),r.lookup=r.connect,r.phases.dns=r.lookup-r.socket),r.phases.tcp=r.connect-r.lookup},secureConnect:()=>{r.secureConnect=Date.now(),r.phases.tls=r.secureConnect-r.connect}})};e.socket?s(e.socket):e.prependOnceListener("socket",s);let u=()=>{r.upload=Date.now(),r.phases.request=r.upload-(r.secureConnect??r.connect)};return e.writableFinished?u():e.prependOnceListener("finish",u),e.prependOnceListener("response",l=>{r.response=Date.now(),r.phases.firstByte=r.response-r.upload,l.timings=r,n(l),l.prependOnceListener("end",()=>{e.off("abort",i),l.off("aborted",i),!r.phases.total&&(r.end=Date.now(),r.phases.download=r.end-r.response,r.phases.total=r.end-r.start)}),l.prependOnceListener("aborted",i)}),r},ZR=XR,eO=He(require("node:events"),1),as=He(require("node:url"),1),tO=He(require("node:crypto"),1),$m=He(require("node:stream"),1),rO="text/plain",nO="us-ascii",tl=(e,r)=>r.some(n=>n instanceof RegExp?n.test(e):n===e),oO=new Set(["https:","http:","file:"]),iO=e=>{try{let{protocol:r}=new URL(e);return r.endsWith(":")&&!oO.has(r)}catch{return!1}},sO=(e,{stripHash:r})=>{let n=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(e);if(!n)throw new Error(`Invalid URL: ${e}`);let{type:i,data:s,hash:u}=n.groups,l=i.split(";");u=r?"":u;let c=!1;l[l.length-1]==="base64"&&(l.pop(),c=!0);let h=l.shift()?.toLowerCase()??"",p=[...l.map(y=>{let[d,m=""]=y.split("=").map(_=>_.trim());return d==="charset"&&(m=m.toLowerCase(),m===nO)?"":`${d}${m?`=${m}`:""}`}).filter(Boolean)];return c&&p.push("base64"),(p.length>0||h&&h!==rO)&&p.unshift(h),`data:${p.join(";")},${c?s.trim():s}${u?`#${u}`:""}`};function aO(e,r){if(r={defaultProtocol:"http",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,removeExplicitPort:!1,sortQueryParameters:!0,...r},typeof r.defaultProtocol=="string"&&!r.defaultProtocol.endsWith(":")&&(r.defaultProtocol=`${r.defaultProtocol}:`),e=e.trim(),/^data:/i.test(e))return sO(e,r);if(iO(e))return e;let n=e.startsWith("//");!n&&/^\.*\//.test(e)||(e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,r.defaultProtocol));let i=new URL(e);if(r.forceHttp&&r.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(r.forceHttp&&i.protocol==="https:"&&(i.protocol="http:"),r.forceHttps&&i.protocol==="http:"&&(i.protocol="https:"),r.stripAuthentication&&(i.username="",i.password=""),r.stripHash?i.hash="":r.stripTextFragment&&(i.hash=i.hash.replace(/#?:~:text.*?$/i,"")),i.pathname){let u=/\b[a-z][a-z\d+\-.]{1,50}:\/\//g,l=0,c="";for(;;){let p=u.exec(i.pathname);if(!p)break;let y=p[0],d=p.index,m=i.pathname.slice(l,d);c+=m.replace(/\/{2,}/g,"/"),c+=y,l=d+y.length}let h=i.pathname.slice(l,i.pathname.length);c+=h.replace(/\/{2,}/g,"/"),i.pathname=c}if(i.pathname)try{i.pathname=decodeURI(i.pathname)}catch{}if(r.removeDirectoryIndex===!0&&(r.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(r.removeDirectoryIndex)&&r.removeDirectoryIndex.length>0){let u=i.pathname.split("/"),l=u[u.length-1];tl(l,r.removeDirectoryIndex)&&(u=u.slice(0,-1),i.pathname=u.slice(1).join("/")+"/")}if(i.hostname&&(i.hostname=i.hostname.replace(/\.$/,""),r.stripWWW&&/^www\.(?!www\.)[a-z\-\d]{1,63}\.[a-z.\-\d]{2,63}$/.test(i.hostname)&&(i.hostname=i.hostname.replace(/^www\./,""))),Array.isArray(r.removeQueryParameters))for(let u of[...i.searchParams.keys()])tl(u,r.removeQueryParameters)&&i.searchParams.delete(u);if(!Array.isArray(r.keepQueryParameters)&&r.removeQueryParameters===!0&&(i.search=""),Array.isArray(r.keepQueryParameters)&&r.keepQueryParameters.length>0)for(let u of[...i.searchParams.keys()])tl(u,r.keepQueryParameters)||i.searchParams.delete(u);if(r.sortQueryParameters){i.searchParams.sort();try{i.search=decodeURIComponent(i.search)}catch{}}r.removeTrailingSlash&&(i.pathname=i.pathname.replace(/\/$/,"")),r.removeExplicitPort&&i.port&&(i.port="");let s=e;return e=i.toString(),!r.removeSingleSlash&&i.pathname==="/"&&!s.endsWith("/")&&i.hash===""&&(e=e.replace(/\/$/,"")),(r.removeTrailingSlash||i.pathname==="/")&&i.hash===""&&r.removeSingleSlash&&(e=e.replace(/\/$/,"")),n&&!r.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),r.stripProtocol&&(e=e.replace(/^(?:https?:)?\/\//,"")),e}var uO=He(im(),1),rl=He(RT(),1),lO=require("node:stream");function wl(e){return Object.fromEntries(Object.entries(e).map(([r,n])=>[r.toLowerCase(),n]))}var sp=class extends lO.Readable{statusCode;headers;body;url;constructor({statusCode:e,headers:r,body:n,url:i}){if(typeof e!="number")throw new TypeError("Argument `statusCode` should be a number");if(typeof r!="object")throw new TypeError("Argument `headers` should be an object");if(!(n instanceof Uint8Array))throw new TypeError("Argument `body` should be a buffer");if(typeof i!="string")throw new TypeError("Argument `url` should be a string");super({read(){this.push(n),this.push(null)}}),this.statusCode=e,this.headers=wl(r),this.body=n,this.url=i}},us=He(xT(),1),cO=["aborted","complete","headers","httpVersion","httpVersionMinor","httpVersionMajor","method","rawHeaders","rawTrailers","setTimeout","socket","statusCode","statusMessage","trailers","url"];function hO(e,r){if(r._readableState.autoDestroy)throw new Error("The second stream must have the `autoDestroy` option set to `false`");let n=new Set([...Object.keys(e),...cO]),i={};for(let s of n)s in r||(i[s]={get(){let u=e[s];return typeof u=="function"?u.bind(e):u},set(u){e[s]=u},enumerable:!0,configurable:!1});return Object.defineProperties(r,i),e.once("aborted",()=>{r.destroy(),r.emit("aborted")}),e.once("close",()=>{e.complete&&r.readable?r.once("end",()=>{r.emit("close")}):r.emit("close")}),r}var fO=class extends Error{constructor(e){super(e.message),Object.assign(this,e)}},Uo=class extends Error{constructor(e){super(e.message),Object.assign(this,e)}},dO=class{constructor(e,r){this.hooks=new Map,this.request=()=>(n,i)=>{let s;if(typeof n=="string")s=nl(as.default.parse(n)),n={};else if(n instanceof as.default.URL)s=nl(as.default.parse(n.toString())),n={};else{let[d,...m]=(n.path??"").split("?"),_=m.length>0?`?${m.join("?")}`:"";s=nl({...n,pathname:d,search:_})}n={headers:{},method:"GET",cache:!0,strictTtl:!1,automaticFailover:!1,...n,...yO(s)},n.headers=Object.fromEntries(pO(n.headers).map(([d,m])=>[d.toLowerCase(),m]));let u=new eO.default,l=aO(as.default.format(s),{stripWWW:!1,removeTrailingSlash:!1,stripAuthentication:!1}),c=`${n.method}:${l}`;n.body&&n.method!==void 0&&["POST","PATCH","PUT"].includes(n.method)&&(n.body instanceof $m.default.Readable?n.cache=!1:c+=`:${tO.default.createHash("md5").update(n.body).digest("hex")}`);let h=!1,p=!1,y=d=>{p=!0;let m=!1,_=()=>{},A=new Promise(R=>{_=()=>{m||(m=!0,R())}}),P=async R=>{if(h){R.status=R.statusCode;let z=rl.default.fromObject(h.cachePolicy).revalidatedPolicy(d,R);if(!z.modified){R.resume(),await new Promise(B=>{R.once("end",B)});let S=ap(z.policy.responseHeaders());R=new sp({statusCode:h.statusCode,headers:S,body:h.body,url:h.url}),R.cachePolicy=z.policy,R.fromCache=!0}}R.fromCache||(R.cachePolicy=new rl.default(d,R,d),R.fromCache=!1);let V;d.cache&&R.cachePolicy.storable()?(V=mO(R),(async()=>{try{let z=uO.default.buffer(R);await Promise.race([A,new Promise(q=>R.once("end",q)),new Promise(q=>R.once("close",q))]);let S=await z,B={url:R.url,statusCode:R.fromCache?h.statusCode:R.statusCode,body:S,cachePolicy:R.cachePolicy.toObject()},v=d.strictTtl?R.cachePolicy.timeToLive():void 0;if(d.maxTtl&&(v=v?Math.min(v,d.maxTtl):d.maxTtl),this.hooks.size>0)for(let q of this.hooks.keys())B=await this.runHook(q,B,R);await this.cache.set(c,B,v)}catch(z){u.emit("error",new Uo(z))}})()):d.cache&&h&&(async()=>{try{await this.cache.delete(c)}catch(z){u.emit("error",new Uo(z))}})(),u.emit("response",V??R),typeof i=="function"&&i(V??R)};try{let R=this.cacheRequest(d,P);R.once("error",_),R.once("abort",_),R.once("destroy",_),u.emit("request",R)}catch(R){u.emit("error",new fO(R))}};return(async()=>{let d=async _=>{await Promise.resolve();let A=_.cache?await this.cache.get(c):void 0;if(typeof A>"u"&&!_.forceRefresh){y(_);return}let P=rl.default.fromObject(A.cachePolicy);if(P.satisfiesWithoutRevalidation(_)&&!_.forceRefresh){let R=ap(P.responseHeaders()),V=new sp({statusCode:A.statusCode,headers:R,body:A.body,url:A.url});V.cachePolicy=P,V.fromCache=!0,u.emit("response",V),typeof i=="function"&&i(V)}else P.satisfiesWithoutRevalidation(_)&&Date.now()>=P.timeToLive()&&_.forceRefresh?(await this.cache.delete(c),_.headers=P.revalidationHeaders(_),y(_)):(h=A,_.headers=P.revalidationHeaders(_),y(_))},m=_=>u.emit("error",new Uo(_));if(this.cache instanceof us.default){let _=this.cache;_.once("error",m),u.on("error",()=>_.removeListener("error",m))}try{await d(n)}catch(_){n.automaticFailover&&!p&&y(n),u.emit("error",new Uo(_))}})(),u},this.addHook=(n,i)=>{this.hooks.has(n)||this.hooks.set(n,i)},this.removeHook=n=>this.hooks.delete(n),this.getHook=n=>this.hooks.get(n),this.runHook=async(n,...i)=>this.hooks.get(n)?.(...i),r instanceof us.default?this.cache=r:typeof r=="string"?this.cache=new us.default({uri:r,namespace:"cacheable-request"}):this.cache=new us.default({store:r,namespace:"cacheable-request"}),this.request=this.request.bind(this),this.cacheRequest=e}},pO=Object.entries,mO=e=>{let r=new $m.PassThrough({autoDestroy:!1});return hO(e,r),e.pipe(r)},yO=e=>{let r={...e};return r.path=`${e.pathname||"/"}${e.search||""}`,delete r.pathname,delete r.search,r},nl=e=>({protocol:e.protocol,auth:e.auth,hostname:e.hostname||e.host||"localhost",port:e.port,pathname:e.pathname,search:e.search}),ap=e=>{let r=[];for(let n of Object.keys(e))r[n.toLowerCase()]=e[n];return r},gO=dO,vO=He(kT(),1),bO=He(im(),1),Er=e=>typeof e=="function",_O=e=>Er(e[Symbol.asyncIterator]);async function*wO(e){let r=e.getReader();for(;;){let{done:n,value:i}=await r.read();if(n)break;yield i}}var EO=e=>{if(_O(e))return e;if(Er(e.getReader))return wO(e);throw new TypeError("Unsupported data source: Expected either ReadableStream or async iterable.")},up="abcdefghijklmnopqrstuvwxyz0123456789";function SO(){let e=16,r="";for(;e--;)r+=up[Math.random()*up.length<<0];return r}var lp=e=>String(e).replace(/\r|\n/g,(r,n,i)=>r==="\r"&&i[n+1]!==`
`||r===`
`&&i[n-1]!=="\r"?`\r
`:r),TO=e=>Object.prototype.toString.call(e).slice(8,-1).toLowerCase();function cp(e){if(TO(e)!=="object")return!1;let r=Object.getPrototypeOf(e);return r==null?!0:(r.constructor&&r.constructor.toString())===Object.toString()}function hp(e,r){if(typeof r=="string"){for(let[n,i]of Object.entries(e))if(r.toLowerCase()===n.toLowerCase())return i}}var RO=e=>new Proxy(e,{get:(r,n)=>hp(r,n),has:(r,n)=>hp(r,n)!==void 0}),Gl=e=>Boolean(e&&Er(e.constructor)&&e[Symbol.toStringTag]==="FormData"&&Er(e.append)&&Er(e.getAll)&&Er(e.entries)&&Er(e[Symbol.iterator])),fp=e=>String(e).replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/"/g,"%22"),on=e=>Boolean(e&&typeof e=="object"&&Er(e.constructor)&&e[Symbol.toStringTag]==="File"&&Er(e.stream)&&e.name!=null),qo=function(e,r,n,i,s){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?e!==r||!s:!r.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?s.call(e,n):s?s.value=n:r.set(e,n),n},$e=function(e,r,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?e!==r||!i:!r.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(e):i?i.value:r.get(e)},$o,Ur,Lo,ls,No,sn,Mo,Bo,cs,ol,dp,OO={enableAdditionalHeaders:!1},hs={writable:!1,configurable:!1},xO=class{constructor(e,r,n){if($o.add(this),Ur.set(this,`\r
`),Lo.set(this,void 0),ls.set(this,void 0),No.set(this,"-".repeat(2)),sn.set(this,new TextEncoder),Mo.set(this,void 0),Bo.set(this,void 0),cs.set(this,void 0),!Gl(e))throw new TypeError("Expected first argument to be a FormData instance.");let i;if(cp(r)?n=r:i=r,i||(i=SO()),typeof i!="string")throw new TypeError("Expected boundary argument to be a string.");if(n&&!cp(n))throw new TypeError("Expected options argument to be an object.");qo(this,Bo,Array.from(e.entries()),"f"),qo(this,cs,{...OO,...n},"f"),qo(this,Lo,$e(this,sn,"f").encode($e(this,Ur,"f")),"f"),qo(this,ls,$e(this,Lo,"f").byteLength,"f"),this.boundary=`form-data-boundary-${i}`,this.contentType=`multipart/form-data; boundary=${this.boundary}`,qo(this,Mo,$e(this,sn,"f").encode(`${$e(this,No,"f")}${this.boundary}${$e(this,No,"f")}${$e(this,Ur,"f").repeat(2)}`),"f");let s={"Content-Type":this.contentType},u=$e(this,$o,"m",dp).call(this);u&&(this.contentLength=u,s["Content-Length"]=u),this.headers=RO(Object.freeze(s)),Object.defineProperties(this,{boundary:hs,contentType:hs,contentLength:hs,headers:hs})}getContentLength(){return this.contentLength==null?void 0:Number(this.contentLength)}*values(){for(let[e,r]of $e(this,Bo,"f")){let n=on(r)?r:$e(this,sn,"f").encode(lp(r));yield $e(this,$o,"m",ol).call(this,e,n),yield n,yield $e(this,Lo,"f")}yield $e(this,Mo,"f")}async*encode(){for(let e of this.values())on(e)?yield*EO(e.stream()):yield e}[(Ur=new WeakMap,Lo=new WeakMap,ls=new WeakMap,No=new WeakMap,sn=new WeakMap,Mo=new WeakMap,Bo=new WeakMap,cs=new WeakMap,$o=new WeakSet,ol=function(e,r){let n="";n+=`${$e(this,No,"f")}${this.boundary}${$e(this,Ur,"f")}`,n+=`Content-Disposition: form-data; name="${fp(e)}"`,on(r)&&(n+=`; filename="${fp(r.name)}"${$e(this,Ur,"f")}`,n+=`Content-Type: ${r.type||"application/octet-stream"}`);let i=on(r)?r.size:r.byteLength;return $e(this,cs,"f").enableAdditionalHeaders===!0&&i!=null&&!isNaN(i)&&(n+=`${$e(this,Ur,"f")}Content-Length: ${on(r)?r.size:r.byteLength}`),$e(this,sn,"f").encode(`${n}${$e(this,Ur,"f").repeat(2)}`)},dp=function(){let e=0;for(let[r,n]of $e(this,Bo,"f")){let i=on(n)?n:$e(this,sn,"f").encode(lp(n)),s=on(i)?i.size:i.byteLength;if(s==null||isNaN(s))return;e+=$e(this,$o,"m",ol).call(this,r,i).byteLength,e+=s,e+=$e(this,ls,"f")}return String(e+$e(this,Mo,"f").byteLength)},Symbol.iterator)](){return this.values()}[Symbol.asyncIterator](){return this.encode()}},AO=require("node:buffer"),kO=require("node:util");function Lm(e){return $.nodeStream(e)&&$.function_(e.getBoundary)}async function PO(e,r){if(r&&"content-length"in r)return Number(r["content-length"]);if(!e)return 0;if($.string(e))return AO.Buffer.byteLength(e);if($.buffer(e))return e.length;if(Lm(e))return(0,kO.promisify)(e.getLength.bind(e))()}function Nm(e,r,n){let i={};for(let s of n){let u=(...l)=>{r.emit(s,...l)};i[s]=u,e.on(s,u)}return()=>{for(let[s,u]of Object.entries(i))e.off(s,u)}}var CO=He(require("node:net"),1);function IO(){let e=[];return{once(r,n,i){r.once(n,i),e.push({origin:r,event:n,fn:i})},unhandleAll(){for(let r of e){let{origin:n,event:i,fn:s}=r;n.removeListener(i,s)}e.length=0}}}var pp=Symbol("reentry"),jO=()=>{},Mm=class extends Error{constructor(e,r){super(`Timeout awaiting '${r}' for ${e}ms`),Object.defineProperty(this,"event",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="TimeoutError",this.code="ETIMEDOUT"}};function qO(e,r,n){if(pp in e)return jO;e[pp]=!0;let i=[],{once:s,unhandleAll:u}=IO(),l=(P,R,V)=>{let z=setTimeout(R,P,P,V);z.unref?.();let S=()=>{clearTimeout(z)};return i.push(S),S},{host:c,hostname:h}=n,p=(P,R)=>{e.destroy(new Mm(P,R))},y=()=>{for(let P of i)P();u()};if(e.once("error",P=>{if(y(),e.listenerCount("error")===0)throw P}),typeof r.request<"u"){let P=l(r.request,p,"request");s(e,"response",R=>{s(R,"end",P)})}if(typeof r.socket<"u"){let{socket:P}=r,R=()=>{p(P,"socket")};e.setTimeout(P,R),i.push(()=>{e.removeListener("timeout",R)})}let d=typeof r.lookup<"u",m=typeof r.connect<"u",_=typeof r.secureConnect<"u",A=typeof r.send<"u";return(d||m||_||A)&&s(e,"socket",P=>{let{socketPath:R}=e;if(P.connecting){let V=Boolean(R??CO.default.isIP(h??c??"")!==0);if(d&&!V&&typeof P.address().address>"u"){let z=l(r.lookup,p,"lookup");s(P,"lookup",z)}if(m){let z=()=>l(r.connect,p,"connect");V?s(P,"connect",z()):s(P,"lookup",S=>{S===null&&s(P,"connect",z())})}_&&n.protocol==="https:"&&s(P,"connect",()=>{let z=l(r.secureConnect,p,"secureConnect");s(P,"secureConnect",z)})}if(A){let V=()=>l(r.send,p,"send");P.connecting?s(P,"connect",()=>{s(e,"upload-complete",V())}):s(e,"upload-complete",V())}}),typeof r.response<"u"&&s(e,"upload-complete",()=>{let P=l(r.response,p,"response");s(e,"response",P)}),typeof r.read<"u"&&s(e,"response",P=>{let R=l(r.read,p,"read");s(P,"end",R)}),y}function $O(e){e=e;let r={protocol:e.protocol,hostname:$.string(e.hostname)&&e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,host:e.host,hash:e.hash,search:e.search,pathname:e.pathname,href:e.href,path:`${e.pathname||""}${e.search||""}`};return $.string(e.port)&&e.port.length>0&&(r.port=Number(e.port)),(e.username||e.password)&&(r.auth=`${e.username||""}:${e.password||""}`),r}var LO=class{constructor(){Object.defineProperty(this,"weakMap",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"map",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.weakMap=new WeakMap,this.map=new Map}set(e,r){typeof e=="object"?this.weakMap.set(e,r):this.map.set(e,r)}get(e){return typeof e=="object"?this.weakMap.get(e):this.map.get(e)}has(e){return typeof e=="object"?this.weakMap.has(e):this.map.has(e)}},NO=({attemptCount:e,retryOptions:r,error:n,retryAfter:i,computedValue:s})=>{if(n.name==="RetryError")return 1;if(e>r.limit)return 0;let u=r.methods.includes(n.options.method),l=r.errorCodes.includes(n.code),c=n.response&&r.statusCodes.includes(n.response.statusCode);if(!u||!l&&!c)return 0;if(n.response){if(i)return i>s?0:i;if(n.response.statusCode===413)return 0}let h=Math.random()*r.noise;return Math.min(2**(e-1)*1e3,r.backoffLimit)+h},MO=NO,BO=He(require("node:process"),1),il=require("node:util"),dn=require("node:url"),DO=require("node:tls"),zO=He(require("node:http"),1),FO=He(require("node:https"),1),Jn=require("node:dns"),sl=require("node:util"),UO=He(require("node:os"),1),{Resolver:mp}=Jn.promises,Vn=Symbol("cacheableLookupCreateConnection"),al=Symbol("cacheableLookupInstance"),yp=Symbol("expires"),HO=typeof Jn.ALL=="number",gp=e=>{if(!(e&&typeof e.createConnection=="function"))throw new Error("Expected an Agent instance as the first argument")},WO=e=>{for(let r of e)r.family!==6&&(r.address=`::ffff:${r.address}`,r.family=6)},vp=()=>{let e=!1,r=!1;for(let n of Object.values(UO.default.networkInterfaces()))for(let i of n)if(!i.internal&&(i.family==="IPv6"?r=!0:e=!0,e&&r))return{has4:e,has6:r};return{has4:e,has6:r}},VO=e=>Symbol.iterator in e,fs=e=>e.catch(r=>{if(r.code==="ENODATA"||r.code==="ENOTFOUND"||r.code==="ENOENT")return[];throw r}),bp={ttl:!0},GO={all:!0},KO={all:!0,family:4},JO={all:!0,family:6},YO=class{constructor({cache:e=new Map,maxTtl:r=1/0,fallbackDuration:n=3600,errorTtl:i=.15,resolver:s=new mp,lookup:u=Jn.lookup}={}){if(this.maxTtl=r,this.errorTtl=i,this._cache=e,this._resolver=s,this._dnsLookup=u&&(0,sl.promisify)(u),this.stats={cache:0,query:0},this._resolver instanceof mp?(this._resolve4=this._resolver.resolve4.bind(this._resolver),this._resolve6=this._resolver.resolve6.bind(this._resolver)):(this._resolve4=(0,sl.promisify)(this._resolver.resolve4.bind(this._resolver)),this._resolve6=(0,sl.promisify)(this._resolver.resolve6.bind(this._resolver))),this._iface=vp(),this._pending={},this._nextRemovalTime=!1,this._hostnamesToFallback=new Set,this.fallbackDuration=n,n>0){let l=setInterval(()=>{this._hostnamesToFallback.clear()},n*1e3);l.unref&&l.unref(),this._fallbackInterval=l}this.lookup=this.lookup.bind(this),this.lookupAsync=this.lookupAsync.bind(this)}set servers(e){this.clear(),this._resolver.setServers(e)}get servers(){return this._resolver.getServers()}lookup(e,r,n){if(typeof r=="function"?(n=r,r={}):typeof r=="number"&&(r={family:r}),!n)throw new Error("Callback must be a function.");this.lookupAsync(e,r).then(i=>{r.all?n(null,i):n(null,i.address,i.family,i.expires,i.ttl,i.source)},n)}async lookupAsync(e,r={}){typeof r=="number"&&(r={family:r});let n=await this.query(e);if(r.family===6){let i=n.filter(s=>s.family===6);r.hints&Jn.V4MAPPED&&(HO&&r.hints&Jn.ALL||i.length===0)?WO(n):n=i}else r.family===4&&(n=n.filter(i=>i.family===4));if(r.hints&Jn.ADDRCONFIG){let{_iface:i}=this;n=n.filter(s=>s.family===6?i.has6:i.has4)}if(n.length===0){let i=new Error(`cacheableLookup ENOTFOUND ${e}`);throw i.code="ENOTFOUND",i.hostname=e,i}return r.all?n:n[0]}async query(e){let r="cache",n=await this._cache.get(e);if(n&&this.stats.cache++,!n){let i=this._pending[e];if(i)this.stats.cache++,n=await i;else{r="query";let s=this.queryAndCache(e);this._pending[e]=s,this.stats.query++;try{n=await s}finally{delete this._pending[e]}}}return n=n.map(i=>({...i,source:r})),n}async _resolve(e){let[r,n]=await Promise.all([fs(this._resolve4(e,bp)),fs(this._resolve6(e,bp))]),i=0,s=0,u=0,l=Date.now();for(let c of r)c.family=4,c.expires=l+c.ttl*1e3,i=Math.max(i,c.ttl);for(let c of n)c.family=6,c.expires=l+c.ttl*1e3,s=Math.max(s,c.ttl);return r.length>0?n.length>0?u=Math.min(i,s):u=i:u=s,{entries:[...r,...n],cacheTtl:u}}async _lookup(e){try{let[r,n]=await Promise.all([fs(this._dnsLookup(e,KO)),fs(this._dnsLookup(e,JO))]);return{entries:[...r,...n],cacheTtl:0}}catch{return{entries:[],cacheTtl:0}}}async _set(e,r,n){if(this.maxTtl>0&&n>0){n=Math.min(n,this.maxTtl)*1e3,r[yp]=Date.now()+n;try{await this._cache.set(e,r,n)}catch(i){this.lookupAsync=async()=>{let s=new Error("Cache Error. Please recreate the CacheableLookup instance.");throw s.cause=i,s}}VO(this._cache)&&this._tick(n)}}async queryAndCache(e){if(this._hostnamesToFallback.has(e))return this._dnsLookup(e,GO);let r=await this._resolve(e);r.entries.length===0&&this._dnsLookup&&(r=await this._lookup(e),r.entries.length!==0&&this.fallbackDuration>0&&this._hostnamesToFallback.add(e));let n=r.entries.length===0?this.errorTtl:r.cacheTtl;return await this._set(e,r.entries,n),r.entries}_tick(e){let r=this._nextRemovalTime;(!r||e<r)&&(clearTimeout(this._removalTimeout),this._nextRemovalTime=e,this._removalTimeout=setTimeout(()=>{this._nextRemovalTime=!1;let n=1/0,i=Date.now();for(let[s,u]of this._cache){let l=u[yp];i>=l?this._cache.delete(s):l<n&&(n=l)}n!==1/0&&this._tick(n-i)},e),this._removalTimeout.unref&&this._removalTimeout.unref())}install(e){if(gp(e),Vn in e)throw new Error("CacheableLookup has been already installed");e[Vn]=e.createConnection,e[al]=this,e.createConnection=(r,n)=>("lookup"in r||(r.lookup=this.lookup),e[Vn](r,n))}uninstall(e){if(gp(e),e[Vn]){if(e[al]!==this)throw new Error("The agent is not owned by this CacheableLookup instance");e.createConnection=e[Vn],delete e[Vn],delete e[al]}}updateInterfaceInfo(){let{_iface:e}=this;this._iface=vp(),(e.has4&&!this._iface.has4||e.has6&&!this._iface.has6)&&this._cache.clear()}clear(e){if(e){this._cache.delete(e);return}this._cache.clear()}},QO=He(DT(),1);function XO(e){let r=[],n=e.split(",");for(let i of n){let[s,...u]=i.split(";"),l=s.trim();if(l[0]!=="<"||l[l.length-1]!==">")throw new Error(`Invalid format of the Link header reference: ${l}`);let c=l.slice(1,-1),h={};if(u.length===0)throw new Error(`Unexpected end of Link header parameters: ${u.join(";")}`);for(let p of u){let y=p.trim(),d=y.indexOf("=");if(d===-1)throw new Error(`Failed to parse Link header: ${e}`);let m=y.slice(0,d).trim(),_=y.slice(d+1).trim();h[m]=_}r.push({reference:c,parameters:h})}return r}var[_p,ZO]=BO.default.versions.node.split(".").map(Number);function ex(e){for(let r in e){let n=e[r];Z.any([$.string,$.number,$.boolean,$.null_,$.undefined],n)}}var tx=new Map,ul,rx=()=>ul||(ul=new YO,ul),nx={request:void 0,agent:{http:void 0,https:void 0,http2:void 0},h2session:void 0,decompress:!0,timeout:{connect:void 0,lookup:void 0,read:void 0,request:void 0,response:void 0,secureConnect:void 0,send:void 0,socket:void 0},prefixUrl:"",body:void 0,form:void 0,json:void 0,cookieJar:void 0,ignoreInvalidCookies:!1,searchParams:void 0,dnsLookup:void 0,dnsCache:void 0,context:{},hooks:{init:[],beforeRequest:[],beforeError:[],beforeRedirect:[],beforeRetry:[],afterResponse:[]},followRedirect:!0,maxRedirects:10,cache:void 0,throwHttpErrors:!0,username:"",password:"",http2:!1,allowGetBody:!1,headers:{"user-agent":"got (https://github.com/sindresorhus/got)"},methodRewriting:!1,dnsLookupIpVersion:void 0,parseJson:JSON.parse,stringifyJson:JSON.stringify,retry:{limit:2,methods:["GET","PUT","HEAD","DELETE","OPTIONS","TRACE"],statusCodes:[408,413,429,500,502,503,504,521,522,524],errorCodes:["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"],maxRetryAfter:void 0,calculateDelay:({computedValue:e})=>e,backoffLimit:Number.POSITIVE_INFINITY,noise:100},localAddress:void 0,method:"GET",createConnection:void 0,cacheOptions:{shared:void 0,cacheHeuristic:void 0,immutableMinTimeToLive:void 0,ignoreCargoCult:void 0},https:{alpnProtocols:void 0,rejectUnauthorized:void 0,checkServerIdentity:void 0,certificateAuthority:void 0,key:void 0,certificate:void 0,passphrase:void 0,pfx:void 0,ciphers:void 0,honorCipherOrder:void 0,minVersion:void 0,maxVersion:void 0,signatureAlgorithms:void 0,tlsSessionLifetime:void 0,dhparam:void 0,ecdhCurve:void 0,certificateRevocationLists:void 0},encoding:void 0,resolveBodyOnly:!1,isStream:!1,responseType:"text",url:void 0,pagination:{transform(e){return e.request.options.responseType==="json"?e.body:JSON.parse(e.body)},paginate({response:e}){let r=e.headers.link;if(typeof r!="string"||r.trim()==="")return!1;let n=XO(r).find(i=>i.parameters.rel==="next"||i.parameters.rel==='"next"');return n?{url:new dn.URL(n.reference,e.url)}:!1},filter:()=>!0,shouldContinue:()=>!0,countLimit:Number.POSITIVE_INFINITY,backoff:0,requestLimit:1e4,stackAllItems:!1},setHost:!0,maxHeaderSize:void 0,signal:void 0,enableUnixSockets:!0},ox=e=>{let{hooks:r,retry:n}=e,i={...e,context:{...e.context},cacheOptions:{...e.cacheOptions},https:{...e.https},agent:{...e.agent},headers:{...e.headers},retry:{...n,errorCodes:[...n.errorCodes],methods:[...n.methods],statusCodes:[...n.statusCodes]},timeout:{...e.timeout},hooks:{init:[...r.init],beforeRequest:[...r.beforeRequest],beforeError:[...r.beforeError],beforeRedirect:[...r.beforeRedirect],beforeRetry:[...r.beforeRetry],afterResponse:[...r.afterResponse]},searchParams:e.searchParams?new dn.URLSearchParams(e.searchParams):void 0,pagination:{...e.pagination}};return i.url!==void 0&&(i.prefixUrl=""),i},ix=e=>{let{hooks:r,retry:n}=e,i={...e};return $.object(e.context)&&(i.context={...e.context}),$.object(e.cacheOptions)&&(i.cacheOptions={...e.cacheOptions}),$.object(e.https)&&(i.https={...e.https}),$.object(e.cacheOptions)&&(i.cacheOptions={...i.cacheOptions}),$.object(e.agent)&&(i.agent={...e.agent}),$.object(e.headers)&&(i.headers={...e.headers}),$.object(n)&&(i.retry={...n},$.array(n.errorCodes)&&(i.retry.errorCodes=[...n.errorCodes]),$.array(n.methods)&&(i.retry.methods=[...n.methods]),$.array(n.statusCodes)&&(i.retry.statusCodes=[...n.statusCodes])),$.object(e.timeout)&&(i.timeout={...e.timeout}),$.object(r)&&(i.hooks={...r},$.array(r.init)&&(i.hooks.init=[...r.init]),$.array(r.beforeRequest)&&(i.hooks.beforeRequest=[...r.beforeRequest]),$.array(r.beforeError)&&(i.hooks.beforeError=[...r.beforeError]),$.array(r.beforeRedirect)&&(i.hooks.beforeRedirect=[...r.beforeRedirect]),$.array(r.beforeRetry)&&(i.hooks.beforeRetry=[...r.beforeRetry]),$.array(r.afterResponse)&&(i.hooks.afterResponse=[...r.afterResponse])),$.object(e.pagination)&&(i.pagination={...e.pagination}),i},sx=e=>{let r=[e.timeout.socket,e.timeout.connect,e.timeout.lookup,e.timeout.request,e.timeout.secureConnect].filter(n=>typeof n=="number");if(r.length>0)return Math.min(...r)},wp=(e,r,n)=>{let i=e.hooks?.init;if(i)for(let s of i)s(r,n)},Sr=class{constructor(e,r,n){if(Object.defineProperty(this,"_unixOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_internals",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_merging",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_init",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Z.any([$.string,$.urlInstance,$.object,$.undefined],e),Z.any([$.object,$.undefined],r),Z.any([$.object,$.undefined],n),e instanceof Sr||r instanceof Sr)throw new TypeError("The defaults must be passed as the third argument");this._internals=ox(n?._internals??n??nx),this._init=[...n?._init??[]],this._merging=!1,this._unixOptions=void 0;try{if($.plainObject(e))try{this.merge(e),this.merge(r)}finally{this.url=e.url}else try{this.merge(r)}finally{if(r?.url!==void 0)if(e===void 0)this.url=r.url;else throw new TypeError("The `url` option is mutually exclusive with the `input` argument");else e!==void 0&&(this.url=e)}}catch(i){throw i.options=this,i}}merge(e){if(e){if(e instanceof Sr){for(let r of e._init)this.merge(r);return}e=ix(e),wp(this,e,this),wp(e,e,this),this._merging=!0,"isStream"in e&&(this.isStream=e.isStream);try{let r=!1;for(let n in e)if(!(n==="mutableDefaults"||n==="handlers")&&n!=="url"){if(!(n in this))throw new Error(`Unexpected option: ${n}`);this[n]=e[n],r=!0}r&&this._init.push(e)}finally{this._merging=!1}}}get request(){return this._internals.request}set request(e){Z.any([$.function_,$.undefined],e),this._internals.request=e}get agent(){return this._internals.agent}set agent(e){Z.plainObject(e);for(let r in e){if(!(r in this._internals.agent))throw new TypeError(`Unexpected agent option: ${r}`);Z.any([$.object,$.undefined],e[r])}this._merging?Object.assign(this._internals.agent,e):this._internals.agent={...e}}get h2session(){return this._internals.h2session}set h2session(e){this._internals.h2session=e}get decompress(){return this._internals.decompress}set decompress(e){Z.boolean(e),this._internals.decompress=e}get timeout(){return this._internals.timeout}set timeout(e){Z.plainObject(e);for(let r in e){if(!(r in this._internals.timeout))throw new Error(`Unexpected timeout option: ${r}`);Z.any([$.number,$.undefined],e[r])}this._merging?Object.assign(this._internals.timeout,e):this._internals.timeout={...e}}get prefixUrl(){return this._internals.prefixUrl}set prefixUrl(e){if(Z.any([$.string,$.urlInstance],e),e===""){this._internals.prefixUrl="";return}if(e=e.toString(),e.endsWith("/")||(e+="/"),this._internals.prefixUrl&&this._internals.url){let{href:r}=this._internals.url;this._internals.url.href=e+r.slice(this._internals.prefixUrl.length)}this._internals.prefixUrl=e}get body(){return this._internals.body}set body(e){Z.any([$.string,$.buffer,$.nodeStream,$.generator,$.asyncGenerator,Gl,$.undefined],e),$.nodeStream(e)&&Z.truthy(e.readable),e!==void 0&&(Z.undefined(this._internals.form),Z.undefined(this._internals.json)),this._internals.body=e}get form(){return this._internals.form}set form(e){Z.any([$.plainObject,$.undefined],e),e!==void 0&&(Z.undefined(this._internals.body),Z.undefined(this._internals.json)),this._internals.form=e}get json(){return this._internals.json}set json(e){e!==void 0&&(Z.undefined(this._internals.body),Z.undefined(this._internals.form)),this._internals.json=e}get url(){return this._internals.url}set url(e){if(Z.any([$.string,$.urlInstance,$.undefined],e),e===void 0){this._internals.url=void 0;return}if($.string(e)&&e.startsWith("/"))throw new Error("`url` must not start with a slash");let r=`${this.prefixUrl}${e.toString()}`,n=new dn.URL(r);if(this._internals.url=n,decodeURI(r),n.protocol==="unix:"&&(n.href=`http://unix${n.pathname}${n.search}`),n.protocol!=="http:"&&n.protocol!=="https:"){let i=new Error(`Unsupported protocol: ${n.protocol}`);throw i.code="ERR_UNSUPPORTED_PROTOCOL",i}if(this._internals.username&&(n.username=this._internals.username,this._internals.username=""),this._internals.password&&(n.password=this._internals.password,this._internals.password=""),this._internals.searchParams&&(n.search=this._internals.searchParams.toString(),this._internals.searchParams=void 0),n.hostname==="unix"){if(!this._internals.enableUnixSockets)throw new Error("Using UNIX domain sockets but option `enableUnixSockets` is not enabled");let i=/(?<socketPath>.+?):(?<path>.+)/.exec(`${n.pathname}${n.search}`);if(i?.groups){let{socketPath:s,path:u}=i.groups;this._unixOptions={socketPath:s,path:u,host:""}}else this._unixOptions=void 0;return}this._unixOptions=void 0}get cookieJar(){return this._internals.cookieJar}set cookieJar(e){if(Z.any([$.object,$.undefined],e),e===void 0){this._internals.cookieJar=void 0;return}let{setCookie:r,getCookieString:n}=e;Z.function_(r),Z.function_(n),r.length===4&&n.length===0?(r=(0,il.promisify)(r.bind(e)),n=(0,il.promisify)(n.bind(e)),this._internals.cookieJar={setCookie:r,getCookieString:n}):this._internals.cookieJar=e}get signal(){return this._internals.signal}set signal(e){Z.object(e),this._internals.signal=e}get ignoreInvalidCookies(){return this._internals.ignoreInvalidCookies}set ignoreInvalidCookies(e){Z.boolean(e),this._internals.ignoreInvalidCookies=e}get searchParams(){return this._internals.url?this._internals.url.searchParams:(this._internals.searchParams===void 0&&(this._internals.searchParams=new dn.URLSearchParams),this._internals.searchParams)}set searchParams(e){Z.any([$.string,$.object,$.undefined],e);let r=this._internals.url;if(e===void 0){this._internals.searchParams=void 0,r&&(r.search="");return}let n=this.searchParams,i;if($.string(e))i=new dn.URLSearchParams(e);else if(e instanceof dn.URLSearchParams)i=e;else{ex(e),i=new dn.URLSearchParams;for(let s in e){let u=e[s];u===null?i.append(s,""):u===void 0?n.delete(s):i.append(s,u)}}if(this._merging){for(let s of i.keys())n.delete(s);for(let[s,u]of i)n.append(s,u)}else r?r.search=n.toString():this._internals.searchParams=n}get searchParameters(){throw new Error("The `searchParameters` option does not exist. Use `searchParams` instead.")}set searchParameters(e){throw new Error("The `searchParameters` option does not exist. Use `searchParams` instead.")}get dnsLookup(){return this._internals.dnsLookup}set dnsLookup(e){Z.any([$.function_,$.undefined],e),this._internals.dnsLookup=e}get dnsCache(){return this._internals.dnsCache}set dnsCache(e){Z.any([$.object,$.boolean,$.undefined],e),e===!0?this._internals.dnsCache=rx():e===!1?this._internals.dnsCache=void 0:this._internals.dnsCache=e}get context(){return this._internals.context}set context(e){Z.object(e),this._merging?Object.assign(this._internals.context,e):this._internals.context={...e}}get hooks(){return this._internals.hooks}set hooks(e){Z.object(e);for(let r in e){if(!(r in this._internals.hooks))throw new Error(`Unexpected hook event: ${r}`);let n=r,i=e[n];if(Z.any([$.array,$.undefined],i),i)for(let s of i)Z.function_(s);if(this._merging)i&&this._internals.hooks[n].push(...i);else{if(!i)throw new Error(`Missing hook event: ${r}`);this._internals.hooks[r]=[...i]}}}get followRedirect(){return this._internals.followRedirect}set followRedirect(e){Z.boolean(e),this._internals.followRedirect=e}get followRedirects(){throw new TypeError("The `followRedirects` option does not exist. Use `followRedirect` instead.")}set followRedirects(e){throw new TypeError("The `followRedirects` option does not exist. Use `followRedirect` instead.")}get maxRedirects(){return this._internals.maxRedirects}set maxRedirects(e){Z.number(e),this._internals.maxRedirects=e}get cache(){return this._internals.cache}set cache(e){Z.any([$.object,$.string,$.boolean,$.undefined],e),e===!0?this._internals.cache=tx:e===!1?this._internals.cache=void 0:this._internals.cache=e}get throwHttpErrors(){return this._internals.throwHttpErrors}set throwHttpErrors(e){Z.boolean(e),this._internals.throwHttpErrors=e}get username(){let e=this._internals.url,r=e?e.username:this._internals.username;return decodeURIComponent(r)}set username(e){Z.string(e);let r=this._internals.url,n=encodeURIComponent(e);r?r.username=n:this._internals.username=n}get password(){let e=this._internals.url,r=e?e.password:this._internals.password;return decodeURIComponent(r)}set password(e){Z.string(e);let r=this._internals.url,n=encodeURIComponent(e);r?r.password=n:this._internals.password=n}get http2(){return this._internals.http2}set http2(e){Z.boolean(e),this._internals.http2=e}get allowGetBody(){return this._internals.allowGetBody}set allowGetBody(e){Z.boolean(e),this._internals.allowGetBody=e}get headers(){return this._internals.headers}set headers(e){Z.plainObject(e),this._merging?Object.assign(this._internals.headers,wl(e)):this._internals.headers=wl(e)}get methodRewriting(){return this._internals.methodRewriting}set methodRewriting(e){Z.boolean(e),this._internals.methodRewriting=e}get dnsLookupIpVersion(){return this._internals.dnsLookupIpVersion}set dnsLookupIpVersion(e){if(e!==void 0&&e!==4&&e!==6)throw new TypeError(`Invalid DNS lookup IP version: ${e}`);this._internals.dnsLookupIpVersion=e}get parseJson(){return this._internals.parseJson}set parseJson(e){Z.function_(e),this._internals.parseJson=e}get stringifyJson(){return this._internals.stringifyJson}set stringifyJson(e){Z.function_(e),this._internals.stringifyJson=e}get retry(){return this._internals.retry}set retry(e){if(Z.plainObject(e),Z.any([$.function_,$.undefined],e.calculateDelay),Z.any([$.number,$.undefined],e.maxRetryAfter),Z.any([$.number,$.undefined],e.limit),Z.any([$.array,$.undefined],e.methods),Z.any([$.array,$.undefined],e.statusCodes),Z.any([$.array,$.undefined],e.errorCodes),Z.any([$.number,$.undefined],e.noise),e.noise&&Math.abs(e.noise)>100)throw new Error(`The maximum acceptable retry noise is +/- 100ms, got ${e.noise}`);for(let n in e)if(!(n in this._internals.retry))throw new Error(`Unexpected retry option: ${n}`);this._merging?Object.assign(this._internals.retry,e):this._internals.retry={...e};let{retry:r}=this._internals;r.methods=[...new Set(r.methods.map(n=>n.toUpperCase()))],r.statusCodes=[...new Set(r.statusCodes)],r.errorCodes=[...new Set(r.errorCodes)]}get localAddress(){return this._internals.localAddress}set localAddress(e){Z.any([$.string,$.undefined],e),this._internals.localAddress=e}get method(){return this._internals.method}set method(e){Z.string(e),this._internals.method=e.toUpperCase()}get createConnection(){return this._internals.createConnection}set createConnection(e){Z.any([$.function_,$.undefined],e),this._internals.createConnection=e}get cacheOptions(){return this._internals.cacheOptions}set cacheOptions(e){Z.plainObject(e),Z.any([$.boolean,$.undefined],e.shared),Z.any([$.number,$.undefined],e.cacheHeuristic),Z.any([$.number,$.undefined],e.immutableMinTimeToLive),Z.any([$.boolean,$.undefined],e.ignoreCargoCult);for(let r in e)if(!(r in this._internals.cacheOptions))throw new Error(`Cache option \`${r}\` does not exist`);this._merging?Object.assign(this._internals.cacheOptions,e):this._internals.cacheOptions={...e}}get https(){return this._internals.https}set https(e){Z.plainObject(e),Z.any([$.boolean,$.undefined],e.rejectUnauthorized),Z.any([$.function_,$.undefined],e.checkServerIdentity),Z.any([$.string,$.object,$.array,$.undefined],e.certificateAuthority),Z.any([$.string,$.object,$.array,$.undefined],e.key),Z.any([$.string,$.object,$.array,$.undefined],e.certificate),Z.any([$.string,$.undefined],e.passphrase),Z.any([$.string,$.buffer,$.array,$.undefined],e.pfx),Z.any([$.array,$.undefined],e.alpnProtocols),Z.any([$.string,$.undefined],e.ciphers),Z.any([$.string,$.buffer,$.undefined],e.dhparam),Z.any([$.string,$.undefined],e.signatureAlgorithms),Z.any([$.string,$.undefined],e.minVersion),Z.any([$.string,$.undefined],e.maxVersion),Z.any([$.boolean,$.undefined],e.honorCipherOrder),Z.any([$.number,$.undefined],e.tlsSessionLifetime),Z.any([$.string,$.undefined],e.ecdhCurve),Z.any([$.string,$.buffer,$.array,$.undefined],e.certificateRevocationLists);for(let r in e)if(!(r in this._internals.https))throw new Error(`HTTPS option \`${r}\` does not exist`);this._merging?Object.assign(this._internals.https,e):this._internals.https={...e}}get encoding(){return this._internals.encoding}set encoding(e){if(e===null)throw new TypeError("To get a Buffer, set `options.responseType` to `buffer` instead");Z.any([$.string,$.undefined],e),this._internals.encoding=e}get resolveBodyOnly(){return this._internals.resolveBodyOnly}set resolveBodyOnly(e){Z.boolean(e),this._internals.resolveBodyOnly=e}get isStream(){return this._internals.isStream}set isStream(e){Z.boolean(e),this._internals.isStream=e}get responseType(){return this._internals.responseType}set responseType(e){if(e===void 0){this._internals.responseType="text";return}if(e!=="text"&&e!=="buffer"&&e!=="json")throw new Error(`Invalid \`responseType\` option: ${e}`);this._internals.responseType=e}get pagination(){return this._internals.pagination}set pagination(e){Z.object(e),this._merging?Object.assign(this._internals.pagination,e):this._internals.pagination=e}get auth(){throw new Error("Parameter `auth` is deprecated. Use `username` / `password` instead.")}set auth(e){throw new Error("Parameter `auth` is deprecated. Use `username` / `password` instead.")}get setHost(){return this._internals.setHost}set setHost(e){Z.boolean(e),this._internals.setHost=e}get maxHeaderSize(){return this._internals.maxHeaderSize}set maxHeaderSize(e){Z.any([$.number,$.undefined],e),this._internals.maxHeaderSize=e}get enableUnixSockets(){return this._internals.enableUnixSockets}set enableUnixSockets(e){Z.boolean(e),this._internals.enableUnixSockets=e}toJSON(){return{...this._internals}}[Symbol.for("nodejs.util.inspect.custom")](e,r){return(0,il.inspect)(this._internals,r)}createNativeRequestOptions(){let e=this._internals,r=e.url,n;r.protocol==="https:"?n=e.http2?e.agent:e.agent.https:n=e.agent.http;let{https:i}=e,{pfx:s}=i;return $.array(s)&&$.plainObject(s[0])&&(s=s.map(u=>({buf:u.buffer,passphrase:u.passphrase}))),{...e.cacheOptions,...this._unixOptions,ALPNProtocols:i.alpnProtocols,ca:i.certificateAuthority,cert:i.certificate,key:i.key,passphrase:i.passphrase,pfx:i.pfx,rejectUnauthorized:i.rejectUnauthorized,checkServerIdentity:i.checkServerIdentity??DO.checkServerIdentity,ciphers:i.ciphers,honorCipherOrder:i.honorCipherOrder,minVersion:i.minVersion,maxVersion:i.maxVersion,sigalgs:i.signatureAlgorithms,sessionTimeout:i.tlsSessionLifetime,dhparam:i.dhparam,ecdhCurve:i.ecdhCurve,crl:i.certificateRevocationLists,lookup:e.dnsLookup??e.dnsCache?.lookup,family:e.dnsLookupIpVersion,agent:n,setHost:e.setHost,method:e.method,maxHeaderSize:e.maxHeaderSize,localAddress:e.localAddress,headers:e.headers,createConnection:e.createConnection,timeout:e.http2?sx(e):void 0,h2session:e.h2session}}getRequestFunction(){let e=this._internals.url,{request:r}=this._internals;return!r&&e?this.getFallbackRequestFunction():r}getFallbackRequestFunction(){let e=this._internals.url;if(e){if(e.protocol==="https:"){if(this._internals.http2){if(_p<15||_p===15&&ZO<10){let r=new Error("To use the `http2` option, install Node.js 15.10.0 or above");throw r.code="EUNSUPPORTED",r}return QO.default.auto}return FO.default.request}return zO.default.request}}freeze(){let e=this._internals;Object.freeze(e),Object.freeze(e.hooks),Object.freeze(e.hooks.afterResponse),Object.freeze(e.hooks.beforeError),Object.freeze(e.hooks.beforeRedirect),Object.freeze(e.hooks.beforeRequest),Object.freeze(e.hooks.beforeRetry),Object.freeze(e.hooks.init),Object.freeze(e.https),Object.freeze(e.cacheOptions),Object.freeze(e.agent),Object.freeze(e.headers),Object.freeze(e.timeout),Object.freeze(e.retry),Object.freeze(e.retry.errorCodes),Object.freeze(e.retry.methods),Object.freeze(e.retry.statusCodes)}},$s=e=>{let{statusCode:r}=e,n=e.request.options.followRedirect?299:399;return r>=200&&r<=n||r===304},Ep=class extends Ke{constructor(e,r){let{options:n}=r.request;super(`${e.message} in "${n.url.toString()}"`,e,r.request),this.name="ParseError",this.code="ERR_BODY_PARSE_FAILURE"}},Sp=(e,r,n,i)=>{let{rawBody:s}=e;try{if(r==="text")return s.toString(i);if(r==="json")return s.length===0?"":n(s.toString(i));if(r==="buffer")return s}catch(u){throw new Ep(u,e)}throw new Ep({message:`Unknown body type '${r}'`,name:"Error"},e)};function ax(e){return e.writable&&!e.writableEnded}var ux=ax;function Tp(e){return e.protocol==="unix:"||e.hostname==="unix"}var lx=$.string(qm.default.versions.brotli),cx=new Set(["GET","HEAD"]),ll=new LO,hx=new Set([300,301,302,303,304,307,308]),fx=["socket","connect","continue","information","upgrade"],ds=()=>{},Kl=class extends KR.Duplex{constructor(e,r,n){super({autoDestroy:!1,highWaterMark:0}),Object.defineProperty(this,"constructor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_noPipe",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"response",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"requestUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"redirectUrls",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"retryCount",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_stopRetry",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downloadedSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_uploadedSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_stopReading",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_pipedServerResponses",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_responseSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_bodySize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_unproxyEvents",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isFromCache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_cannotHaveBody",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_triggerRead",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_cancelTimeouts",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_removeListeners",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_nativeResponse",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_flushed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_aborted",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_requestInitialized",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._downloadedSize=0,this._uploadedSize=0,this._stopReading=!1,this._pipedServerResponses=new Set,this._cannotHaveBody=!1,this._unproxyEvents=ds,this._triggerRead=!1,this._cancelTimeouts=ds,this._removeListeners=ds,this._jobs=[],this._flushed=!1,this._requestInitialized=!1,this._aborted=!1,this.redirectUrls=[],this.retryCount=0,this._stopRetry=ds,this.on("pipe",s=>{s.headers&&Object.assign(this.options.headers,s.headers)}),this.on("newListener",s=>{if(s==="retry"&&this.listenerCount("retry")>0)throw new Error("A retry listener has been attached already.")});try{if(this.options=new Sr(e,r,n),!this.options.url){if(this.options.prefixUrl==="")throw new TypeError("Missing `url` property");this.options.url=""}this.requestUrl=this.options.url}catch(s){let{options:u}=s;u&&(this.options=u),this.flush=async()=>{this.flush=async()=>{},this.destroy(s)};return}let{body:i}=this.options;if($.nodeStream(i)&&i.once("error",s=>{this._flushed?this._beforeError(new np(s,this)):this.flush=async()=>{this.flush=async()=>{},this._beforeError(new np(s,this))}}),this.options.signal){let s=()=>{this.destroy(new GR(this))};this.options.signal.aborted?s():(this.options.signal.addEventListener("abort",s),this._removeListeners=()=>{this.options.signal.removeEventListener("abort",s)})}}async flush(){if(!this._flushed){this._flushed=!0;try{if(await this._finalizeBody(),this.destroyed)return;if(await this._makeRequest(),this.destroyed){this._request?.destroy();return}for(let e of this._jobs)e();this._jobs.length=0,this._requestInitialized=!0}catch(e){this._beforeError(e)}}}_beforeError(e){if(this._stopReading)return;let{response:r,options:n}=this,i=this.retryCount+(e.name==="RetryError"?0:1);this._stopReading=!0,e instanceof Ke||(e=new Ke(e.message,e,this));let s=e;(async()=>{if(r?.readable&&!r.rawBody&&!this._request?.socket?.destroyed&&(r.setEncoding(this.readableEncoding),await this._setRawBody(r)&&(r.body=r.rawBody.toString())),this.listenerCount("retry")!==0){let u;try{let l;r&&"retry-after"in r.headers&&(l=Number(r.headers["retry-after"]),Number.isNaN(l)?(l=Date.parse(r.headers["retry-after"])-Date.now(),l<=0&&(l=1)):l*=1e3);let c=n.retry;u=await c.calculateDelay({attemptCount:i,retryOptions:c,error:s,retryAfter:l,computedValue:MO({attemptCount:i,retryOptions:c,error:s,retryAfter:l,computedValue:c.maxRetryAfter??n.timeout.request??Number.POSITIVE_INFINITY})})}catch(l){this._error(new Ke(l.message,l,this));return}if(u){if(await new Promise(l=>{let c=setTimeout(l,u);this._stopRetry=()=>{clearTimeout(c),l()}}),this.destroyed)return;try{for(let l of this.options.hooks.beforeRetry)await l(s,this.retryCount+1)}catch(l){this._error(new Ke(l.message,e,this));return}if(this.destroyed)return;this.destroy(),this.emit("retry",this.retryCount+1,e,l=>{let c=new Kl(n.url,l,n);return c.retryCount=this.retryCount+1,qm.default.nextTick(()=>{c.flush()}),c});return}}this._error(s)})()}_read(){this._triggerRead=!0;let{response:e}=this;if(e&&!this._stopReading){e.readableLength&&(this._triggerRead=!1);let r;for(;(r=e.read())!==null;){this._downloadedSize+=r.length;let n=this.downloadProgress;n.percent<1&&this.emit("downloadProgress",n),this.push(r)}}}_write(e,r,n){let i=()=>{this._writeRequest(e,r,n)};this._requestInitialized?i():this._jobs.push(i)}_final(e){let r=()=>{if(!this._request||this._request.destroyed){e();return}this._request.end(n=>{this._request._writableState?.errored||(n||(this._bodySize=this._uploadedSize,this.emit("uploadProgress",this.uploadProgress),this._request.emit("upload-complete")),e(n))})};this._requestInitialized?r():this._jobs.push(r)}_destroy(e,r){if(this._stopReading=!0,this.flush=async()=>{},this._stopRetry(),this._cancelTimeouts(),this._removeListeners(),this.options){let{body:n}=this.options;$.nodeStream(n)&&n.destroy()}this._request&&this._request.destroy(),e!==null&&!$.undefined(e)&&!(e instanceof Ke)&&(e=new Ke(e.message,e,this)),r(e)}pipe(e,r){return e instanceof el.ServerResponse&&this._pipedServerResponses.add(e),super.pipe(e,r)}unpipe(e){return e instanceof el.ServerResponse&&this._pipedServerResponses.delete(e),super.unpipe(e),this}async _finalizeBody(){let{options:e}=this,{headers:r}=e,n=!$.undefined(e.form),i=!$.undefined(e.json),s=!$.undefined(e.body),u=cx.has(e.method)&&!(e.method==="GET"&&e.allowGetBody);if(this._cannotHaveBody=u,n||i||s){if(u)throw new TypeError(`The \`${e.method}\` method cannot be used with a body`);let l=!$.string(r["content-type"]);if(s){if(Gl(e.body)){let h=new xO(e.body);l&&(r["content-type"]=h.headers["Content-Type"]),"Content-Length"in h.headers&&(r["content-length"]=h.headers["Content-Length"]),e.body=h.encode()}Lm(e.body)&&l&&(r["content-type"]=`multipart/form-data; boundary=${e.body.getBoundary()}`)}else if(n){l&&(r["content-type"]="application/x-www-form-urlencoded");let{form:h}=e;e.form=void 0,e.body=new ip.URLSearchParams(h).toString()}else{l&&(r["content-type"]="application/json");let{json:h}=e;e.json=void 0,e.body=e.stringifyJson(h)}let c=await PO(e.body,e.headers);$.undefined(r["content-length"])&&$.undefined(r["transfer-encoding"])&&!u&&!$.undefined(c)&&(r["content-length"]=String(c))}e.responseType==="json"&&!("accept"in e.headers)&&(e.headers.accept="application/json"),this._bodySize=Number(r["content-length"])||void 0}async _onResponseBase(e){if(this.isAborted)return;let{options:r}=this,{url:n}=r;this._nativeResponse=e,r.decompress&&(e=(0,vO.default)(e));let i=e.statusCode,s=e;s.statusMessage=s.statusMessage?s.statusMessage:el.default.STATUS_CODES[i],s.url=r.url.toString(),s.requestUrl=this.requestUrl,s.redirectUrls=this.redirectUrls,s.request=this,s.isFromCache=this._nativeResponse.fromCache??!1,s.ip=this.ip,s.retryCount=this.retryCount,s.ok=$s(s),this._isFromCache=s.isFromCache,this._responseSize=Number(e.headers["content-length"])||void 0,this.response=s,e.once("end",()=>{this._responseSize=this._downloadedSize,this.emit("downloadProgress",this.downloadProgress)}),e.once("error",l=>{this._aborted=!0,e.destroy(),this._beforeError(new op(l,this))}),e.once("aborted",()=>{this._aborted=!0,this._beforeError(new op({name:"Error",message:"The server aborted pending request",code:"ECONNRESET"},this))}),this.emit("downloadProgress",this.downloadProgress);let u=e.headers["set-cookie"];if($.object(r.cookieJar)&&u){let l=u.map(async c=>r.cookieJar.setCookie(c,n.toString()));r.ignoreInvalidCookies&&(l=l.map(async c=>{try{await c}catch{}}));try{await Promise.all(l)}catch(c){this._beforeError(c);return}}if(!this.isAborted){if(r.followRedirect&&e.headers.location&&hx.has(i)){if(e.resume(),this._cancelTimeouts(),this._unproxyEvents(),this.redirectUrls.length>=r.maxRedirects){this._beforeError(new UR(this));return}this._request=void 0;let l=new Sr(void 0,void 0,this.options),c=i===303&&l.method!=="GET"&&l.method!=="HEAD",h=i!==307&&i!==308,p=l.methodRewriting&&h;(c||p)&&(l.method="GET",l.body=void 0,l.json=void 0,l.form=void 0,delete l.headers["content-length"]);try{let y=Zu.Buffer.from(e.headers.location,"binary").toString(),d=new ip.URL(y,n);if(!Tp(n)&&Tp(d)){this._beforeError(new Ke("Cannot redirect to UNIX socket",{},this));return}d.hostname!==n.hostname||d.port!==n.port?("host"in l.headers&&delete l.headers.host,"cookie"in l.headers&&delete l.headers.cookie,"authorization"in l.headers&&delete l.headers.authorization,(l.username||l.password)&&(l.username="",l.password="")):(d.username=l.username,d.password=l.password),this.redirectUrls.push(d),l.prefixUrl="",l.url=d;for(let m of l.hooks.beforeRedirect)await m(l,s);this.emit("redirect",l,s),this.options=l,await this._makeRequest()}catch(y){this._beforeError(y);return}return}if(r.isStream&&r.throwHttpErrors&&!$s(s)){this._beforeError(new qs(s));return}if(e.on("readable",()=>{this._triggerRead&&this._read()}),this.on("resume",()=>{e.resume()}),this.on("pause",()=>{e.pause()}),e.once("end",()=>{this.push(null)}),this._noPipe){await this._setRawBody()&&this.emit("response",e);return}this.emit("response",e);for(let l of this._pipedServerResponses)if(!l.headersSent){for(let c in e.headers){let h=r.decompress?c!=="content-encoding":!0,p=e.headers[c];h&&l.setHeader(c,p)}l.statusCode=i}}}async _setRawBody(e=this){if(e.readableEnded)return!1;try{let r=await(0,bO.buffer)(e);if(!this.isAborted)return this.response.rawBody=r,!0}catch{}return!1}async _onResponse(e){try{await this._onResponseBase(e)}catch(r){this._beforeError(r)}}_onRequest(e){let{options:r}=this,{timeout:n,url:i}=r;ZR(e),this.options.http2&&e.setTimeout(0),this._cancelTimeouts=qO(e,n,i);let s=r.cache?"cacheableResponse":"response";e.once(s,u=>{this._onResponse(u)}),e.once("error",u=>{this._aborted=!0,e.destroy(),u=u instanceof Mm?new WR(u,this.timings,this):new Ke(u.message,u,this),this._beforeError(u)}),this._unproxyEvents=Nm(e,this,fx),this._request=e,this.emit("uploadProgress",this.uploadProgress),this._sendBody(),this.emit("request",e)}async _asyncWrite(e){return new Promise((r,n)=>{super.write(e,i=>{if(i){n(i);return}r()})})}_sendBody(){let{body:e}=this.options,r=this.redirectUrls.length===0?this:this._request??this;$.nodeStream(e)?e.pipe(r):$.generator(e)||$.asyncGenerator(e)?(async()=>{try{for await(let n of e)await this._asyncWrite(n);super.end()}catch(n){this._beforeError(n)}})():$.undefined(e)?(this._cannotHaveBody||this._noPipe)&&r.end():(this._writeRequest(e,void 0,()=>{}),r.end())}_prepareCache(e){if(!ll.has(e)){let r=new gO((n,i)=>{let s=n._request(n,i);return $.promise(s)&&(s.once=(u,l)=>{if(u==="error")(async()=>{try{await s}catch(c){l(c)}})();else if(u==="abort")(async()=>{try{(await s).once("abort",l)}catch{}})();else throw new Error(`Unknown HTTP2 promise event: ${u}`);return s}),s},e);ll.set(e,r.request())}}async _createCacheableRequest(e,r){return new Promise((n,i)=>{Object.assign(r,$O(e));let s,u=ll.get(r.cache)(r,async l=>{if(l._readableState.autoDestroy=!1,s){let c=()=>{l.req&&(l.complete=l.req.res.complete)};l.prependOnceListener("end",c),c(),(await s).emit("cacheableResponse",l)}n(l)});u.once("error",i),u.once("request",async l=>{s=l,n(s)})})}async _makeRequest(){let{options:e}=this,{headers:r,username:n,password:i}=e,s=e.cookieJar;for(let h in r)if($.undefined(r[h]))delete r[h];else if($.null_(r[h]))throw new TypeError(`Use \`undefined\` instead of \`null\` to delete the \`${h}\` header`);if(e.decompress&&$.undefined(r["accept-encoding"])&&(r["accept-encoding"]=lx?"gzip, deflate, br":"gzip, deflate"),n||i){let h=Zu.Buffer.from(`${n}:${i}`).toString("base64");r.authorization=`Basic ${h}`}if(s){let h=await s.getCookieString(e.url.toString());$.nonEmptyString(h)&&(r.cookie=h)}e.prefixUrl="";let u;for(let h of e.hooks.beforeRequest){let p=await h(e);if(!$.undefined(p)){u=()=>p;break}}u||(u=e.getRequestFunction());let l=e.url;this._requestOptions=e.createNativeRequestOptions(),e.cache&&(this._requestOptions._request=u,this._requestOptions.cache=e.cache,this._requestOptions.body=e.body,this._prepareCache(e.cache));let c=e.cache?this._createCacheableRequest:u;try{let h=c(l,this._requestOptions);$.promise(h)&&(h=await h),$.undefined(h)&&(h=e.getFallbackRequestFunction()(l,this._requestOptions),$.promise(h)&&(h=await h)),ux(h)?this._onRequest(h):this.writable?(this.once("finish",()=>{this._onResponse(h)}),this._sendBody()):this._onResponse(h)}catch(h){throw h instanceof Uo?new HR(h,this):h}}async _error(e){try{if(!(e instanceof qs&&!this.options.throwHttpErrors))for(let r of this.options.hooks.beforeError)e=await r(e)}catch(r){e=new Ke(r.message,r,this)}this.destroy(e)}_writeRequest(e,r,n){!this._request||this._request.destroyed||this._request.write(e,r,i=>{if(!i&&!this._request.destroyed){this._uploadedSize+=Zu.Buffer.byteLength(e,r);let s=this.uploadProgress;s.percent<1&&this.emit("uploadProgress",s)}n(i)})}get ip(){return this.socket?.remoteAddress}get isAborted(){return this._aborted}get socket(){return this._request?.socket??void 0}get downloadProgress(){let e;return this._responseSize?e=this._downloadedSize/this._responseSize:this._responseSize===this._downloadedSize?e=1:e=0,{percent:e,transferred:this._downloadedSize,total:this._responseSize}}get uploadProgress(){let e;return this._bodySize?e=this._uploadedSize/this._bodySize:this._bodySize===this._uploadedSize?e=1:e=0,{percent:e,transferred:this._uploadedSize,total:this._bodySize}}get timings(){return this._request?.timings}get isFromCache(){return this._isFromCache}get reusedSocket(){return this._request?.reusedSocket}},dx=class extends Ke{constructor(e){super("Promise was canceled",{},e),this.name="CancelError",this.code="ERR_CANCELED"}get isCanceled(){return!0}},px=["request","response","redirect","uploadProgress","downloadProgress"];function Rp(e){let r,n,i,s=new DR.EventEmitter,u=new Vl((c,h,p)=>{p(()=>{r.destroy()}),p.shouldReject=!1,p(()=>{h(new dx(r))});let y=d=>{p(()=>{});let m=e??new Kl(void 0,void 0,i);m.retryCount=d,m._noPipe=!0,r=m,m.once("response",async P=>{let R=(P.headers["content-encoding"]??"").toLowerCase(),V=R==="gzip"||R==="deflate"||R==="br",{options:z}=m;if(V&&!z.decompress)P.body=P.rawBody;else try{P.body=Sp(P,z.responseType,z.parseJson,z.encoding)}catch(S){if(P.body=P.rawBody.toString(),$s(P)){m._beforeError(S);return}}try{let S=z.hooks.afterResponse;for(let[B,v]of S.entries())if(P=await v(P,async q=>{throw z.merge(q),z.prefixUrl="",q.url&&(z.url=q.url),z.hooks.afterResponse=z.hooks.afterResponse.slice(0,B),new VR(m)}),!($.object(P)&&$.number(P.statusCode)&&!$.nullOrUndefined(P.body)))throw new TypeError("The `afterResponse` hook returned an invalid value")}catch(S){m._beforeError(S);return}if(n=P,!$s(P)){m._beforeError(new qs(P));return}m.destroy(),c(m.options.resolveBodyOnly?P.body:P)});let _=P=>{if(u.isCanceled)return;let{options:R}=m;if(P instanceof qs&&!R.throwHttpErrors){let{response:V}=P;m.destroy(),c(m.options.resolveBodyOnly?V.body:V);return}h(P)};m.once("error",_);let A=m.options?.body;m.once("retry",(P,R)=>{e=void 0;let V=m.options.body;if(A===V&&$.nodeStream(V)){R.message="Cannot retry with consumed body stream",_(R);return}i=m.options,y(P)}),Nm(m,s,px),$.undefined(e)&&m.flush()};y(0)});u.on=(c,h)=>(s.on(c,h),u),u.off=(c,h)=>(s.off(c,h),u);let l=c=>{let h=(async()=>{await u;let{options:p}=n.request;return Sp(n,c,p.parseJson,p.encoding)})();return Object.defineProperties(h,Object.getOwnPropertyDescriptors(u)),h};return u.json=()=>{if(r.options){let{headers:c}=r.options;!r.writableFinished&&!("accept"in c)&&(c.accept="application/json")}return l("json")},u.buffer=()=>l("buffer"),u.text=()=>l("text"),u}var mx=async e=>new Promise(r=>{setTimeout(r,e)}),yx=e=>$.function_(e),gx=["get","post","put","patch","head","delete"],Bm=e=>{e={options:new Sr(void 0,void 0,e.options),handlers:[...e.handlers],mutableDefaults:e.mutableDefaults},Object.defineProperty(e,"mutableDefaults",{enumerable:!0,configurable:!1,writable:!1});let r=(i,s,u=e.options)=>{let l=new Kl(i,s,u),c,h=d=>(l.options=d,l._noPipe=!d.isStream,l.flush(),d.isStream?l:(c||(c=Rp(l)),c)),p=0,y=d=>{let m=(e.handlers[p++]??h)(d,y);if($.promise(m)&&!l.options.isStream&&(c||(c=Rp(l)),m!==c)){let _=Object.getOwnPropertyDescriptors(c);for(let A in _)A in m&&delete _[A];Object.defineProperties(m,_),m.cancel=c.cancel}return m};return y(l.options)};r.extend=(...i)=>{let s=new Sr(void 0,void 0,e.options),u=[...e.handlers],l;for(let c of i)yx(c)?(s.merge(c.defaults.options),u.push(...c.defaults.handlers),l=c.defaults.mutableDefaults):(s.merge(c),c.handlers&&u.push(...c.handlers),l=c.mutableDefaults);return Bm({options:s,handlers:u,mutableDefaults:Boolean(l)})};let n=async function*(i,s){let u=new Sr(i,s,e.options);u.resolveBodyOnly=!1;let{pagination:l}=u;Z.function_(l.transform),Z.function_(l.shouldContinue),Z.function_(l.filter),Z.function_(l.paginate),Z.number(l.countLimit),Z.number(l.requestLimit),Z.number(l.backoff);let c=[],{countLimit:h}=l,p=0;for(;p<l.requestLimit;){p!==0&&await mx(l.backoff);let y=await r(void 0,void 0,u),d=await l.transform(y),m=[];Z.array(d);for(let A of d)if(l.filter({item:A,currentItems:m,allItems:c})&&(!l.shouldContinue({item:A,currentItems:m,allItems:c})||(yield A,l.stackAllItems&&c.push(A),m.push(A),--h<=0)))return;let _=l.paginate({response:y,currentItems:m,allItems:c});if(_===!1)return;_===y.request.options?u=y.request.options:(u.merge(_),Z.any([$.urlInstance,$.undefined],_.url),_.url!==void 0&&(u.prefixUrl="",u.url=_.url)),p++}};r.paginate=n,r.paginate.all=async(i,s)=>{let u=[];for await(let l of n(i,s))u.push(l);return u},r.paginate.each=n,r.stream=(i,s)=>r(i,{...s,isStream:!0});for(let i of gx)r[i]=(s,u)=>r(s,{...u,method:i}),r.stream[i]=(s,u)=>r(s,{...u,method:i,isStream:!0});return e.mutableDefaults||(Object.freeze(e.handlers),e.options.freeze()),Object.defineProperty(r,"defaults",{value:e,writable:!1,configurable:!1,enumerable:!0}),r},vx=Bm,bx={options:new Sr,handlers:[],mutableDefaults:!1},_x=vx(bx),Mt=_x,xs="https://www.googleapis.com",wx=`${xs}/oauth2/v4/token`,Jl={extId:"No extension ID provided, e.g. https://chrome.google.com/webstore/detail/EXT_ID",clientId:"No client ID provided. To get one: https://github.com/PlasmoHQ/chrome-webstore-api/blob/main/token.md",clientSecret:"No client secret provided. To get one: https://github.com/PlasmoHQ/chrome-webstore-api/blob/main/token.md",refreshToken:"No refresh token provided. To get one: https://github.com/PlasmoHQ/chrome-webstore-api/blob/main/token.md"},Ex=Object.keys(Jl),Sx=class{options={};constructor(e){for(let r of Ex){if(!e[r])throw new Error(Jl[r]);this.options[r]=e[r]}}get uploadEndpoint(){return`${xs}/upload/chromewebstore/v1.1/items/${this.options.extId}`}getPublishEndpoint(e){return`${xs}/chromewebstore/v1.1/items/${this.options.extId}/publish?publishTarget=${e}`}getInfoEndpoint(e){return`${xs}/chromewebstore/v1.1/items/${this.options.extId}?projection=${e}`}async submit({filePath:e="",target:r="default"}){let n=await this.getAccessToken(),{uploadState:i,itemError:s}=await this.upload({readStream:(0,xR.createReadStream)(e)},n);if(i==="FAILURE"||i==="NOT_FOUND")throw new Error(s.map(({error_detail:u})=>u).join(`
`));return this.publish({target:r},n)}async upload({readStream:e=null},r=""){if(!e)throw new Error("Read stream missing");let n=r||await this.getAccessToken();return Mt.put(this.uploadEndpoint,{headers:this.getHeaders(n),body:e,throwHttpErrors:!1}).json()}async publish({target:e="default"},r=""){let n=r||await this.getAccessToken();return Mt.post(this.getPublishEndpoint(e),{headers:this.getHeaders(n)}).json()}async get({projection:e="DRAFT"},r=""){let n=r||await this.getAccessToken();return Mt.get(this.getInfoEndpoint(e),{headers:this.getHeaders(n)}).json()}async getAccessToken(){return(await Mt.post(wx,{json:{client_id:this.options.clientId,refresh_token:this.options.refreshToken,grant_type:"refresh_token",client_secret:this.options.clientSecret}}).json()).access_token}getHeaders(e){return{Authorization:`Bearer ${e}`,"x-goog-api-version":"2"}}},Tx=require("module"),Rx=(0,Tx.createRequire)("/"),Ox;try{Ox=Rx("worker_threads").Worker}catch{}var Rt=Uint8Array,_n=Uint16Array,Dm=Uint32Array,zm=new Rt([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Fm=new Rt([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),xx=new Rt([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Um=function(e,r){for(var n=new _n(31),i=0;i<31;++i)n[i]=r+=1<<e[i-1];for(var s=new Dm(n[30]),i=1;i<30;++i)for(var u=n[i];u<n[i+1];++u)s[u]=u-n[i]<<5|i;return[n,s]},Hm=Um(zm,2),Wm=Hm[0],Ax=Hm[1];Wm[28]=258,Ax[258]=28;var Vm=Um(Fm,0),kx=Vm[0],Vk=Vm[1],El=new _n(32768);for(Re=0;Re<32768;++Re)wr=(Re&43690)>>>1|(Re&21845)<<1,wr=(wr&52428)>>>2|(wr&13107)<<2,wr=(wr&61680)>>>4|(wr&3855)<<4,El[Re]=((wr&65280)>>>8|(wr&255)<<8)>>>1;var wr,Re,Vo=function(e,r,n){for(var i=e.length,s=0,u=new _n(r);s<i;++s)e[s]&&++u[e[s]-1];var l=new _n(r);for(s=0;s<r;++s)l[s]=l[s-1]+u[s-1]<<1;var c;if(n){c=new _n(1<<r);var h=15-r;for(s=0;s<i;++s)if(e[s])for(var p=s<<4|e[s],y=r-e[s],d=l[e[s]-1]++<<y,m=d|(1<<y)-1;d<=m;++d)c[El[d]>>>h]=p}else for(c=new _n(i),s=0;s<i;++s)e[s]&&(c[s]=El[l[e[s]-1]++]>>>15-e[s]);return c},ni=new Rt(288);for(Re=0;Re<144;++Re)ni[Re]=8;var Re;for(Re=144;Re<256;++Re)ni[Re]=9;var Re;for(Re=256;Re<280;++Re)ni[Re]=7;var Re;for(Re=280;Re<288;++Re)ni[Re]=8;var Re,Gm=new Rt(32);for(Re=0;Re<32;++Re)Gm[Re]=5;var Re,Px=Vo(ni,9,1),Cx=Vo(Gm,5,1),cl=function(e){for(var r=e[0],n=1;n<e.length;++n)e[n]>r&&(r=e[n]);return r},Kt=function(e,r,n){var i=r/8|0;return(e[i]|e[i+1]<<8)>>(r&7)&n},hl=function(e,r){var n=r/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(r&7)},Ix=function(e){return(e+7)/8|0},Yl=function(e,r,n){(r==null||r<0)&&(r=0),(n==null||n>e.length)&&(n=e.length);var i=new(e.BYTES_PER_ELEMENT==2?_n:e.BYTES_PER_ELEMENT==4?Dm:Rt)(n-r);return i.set(e.subarray(r,n)),i},jx=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Jt=function(e,r,n){var i=new Error(r||jx[e]);if(i.code=e,Error.captureStackTrace&&Error.captureStackTrace(i,Jt),!n)throw i;return i},qx=function(e,r,n){var i=e.length;if(!i||n&&n.f&&!n.l)return r||new Rt(0);var s=!r||n,u=!n||n.i;n||(n={}),r||(r=new Rt(i*3));var l=function(Ot){var lr=r.length;if(Ot>lr){var xr=new Rt(Math.max(lr*2,Ot));xr.set(r),r=xr}},c=n.f||0,h=n.p||0,p=n.b||0,y=n.l,d=n.d,m=n.m,_=n.n,A=i*8;do{if(!y){c=Kt(e,h,1);var P=Kt(e,h+1,3);if(h+=3,P)if(P==1)y=Px,d=Cx,m=9,_=5;else if(P==2){var R=Kt(e,h,31)+257,V=Kt(e,h+10,15)+4,z=R+Kt(e,h+5,31)+1;h+=14;for(var S=new Rt(z),B=new Rt(19),v=0;v<V;++v)B[xx[v]]=Kt(e,h+v*3,7);h+=V*3;for(var q=cl(B),C=(1<<q)-1,k=Vo(B,q,1),v=0;v<z;){var L=k[Kt(e,h,C)];h+=L&15;var H=L>>>4;if(H<16)S[v++]=H;else{var Y=0,ne=0;for(H==16?(ne=3+Kt(e,h,3),h+=2,Y=S[v-1]):H==17?(ne=3+Kt(e,h,7),h+=3):H==18&&(ne=11+Kt(e,h,127),h+=7);ne--;)S[v++]=Y}}var T=S.subarray(0,R),E=S.subarray(R);m=cl(T),_=cl(E),y=Vo(T,m,1),d=Vo(E,_,1)}else Jt(1);else{var H=Ix(h)+4,N=e[H-4]|e[H-3]<<8,F=H+N;if(F>i){u&&Jt(0);break}s&&l(p+N),r.set(e.subarray(H,F),p),n.b=p+=N,n.p=h=F*8,n.f=c;continue}if(h>A){u&&Jt(0);break}}s&&l(p+131072);for(var j=(1<<m)-1,W=(1<<_)-1,ee=h;;ee=h){var Y=y[hl(e,h)&j],se=Y>>>4;if(h+=Y&15,h>A){u&&Jt(0);break}if(Y||Jt(2),se<256)r[p++]=se;else if(se==256){ee=h,y=null;break}else{var te=se-254;if(se>264){var v=se-257,ie=zm[v];te=Kt(e,h,(1<<ie)-1)+Wm[v],h+=ie}var Ae=d[hl(e,h)&W],Fe=Ae>>>4;Ae||Jt(3),h+=Ae&15;var E=kx[Fe];if(Fe>3){var ie=Fm[Fe];E+=hl(e,h)&(1<<ie)-1,h+=ie}if(h>A){u&&Jt(0);break}s&&l(p+131072);for(var Ue=p+te;p<Ue;p+=4)r[p]=r[p-E],r[p+1]=r[p+1-E],r[p+2]=r[p+2-E],r[p+3]=r[p+3-E];p=Ue}}n.l=y,n.p=ee,n.b=p,n.f=c,y&&(c=1,n.m=m,n.d=d,n.n=_)}while(!c);return p==r.length?r:Yl(r,0,p)},$x=new Rt(0),ar=function(e,r){return e[r]|e[r+1]<<8},Yt=function(e,r){return(e[r]|e[r+1]<<8|e[r+2]<<16|e[r+3]<<24)>>>0},fl=function(e,r){return Yt(e,r)+Yt(e,r+4)*4294967296};function Lx(e,r){return qx(e,r)}var Sl=typeof TextDecoder<"u"&&new TextDecoder,Nx=0;try{Sl.decode($x,{stream:!0}),Nx=1}catch{}var Mx=function(e){for(var r="",n=0;;){var i=e[n++],s=(i>127)+(i>223)+(i>239);if(n+s>e.length)return[r,Yl(e,n-1)];s?s==3?(i=((i&15)<<18|(e[n++]&63)<<12|(e[n++]&63)<<6|e[n++]&63)-65536,r+=String.fromCharCode(55296|i>>10,56320|i&1023)):s&1?r+=String.fromCharCode((i&31)<<6|e[n++]&63):r+=String.fromCharCode((i&15)<<12|(e[n++]&63)<<6|e[n++]&63):r+=String.fromCharCode(i)}};function Km(e,r){if(r){for(var n="",i=0;i<e.length;i+=16384)n+=String.fromCharCode.apply(null,e.subarray(i,i+16384));return n}else{if(Sl)return Sl.decode(e);var s=Mx(e),u=s[0],l=s[1];return l.length&&Jt(8),u}}var Bx=function(e,r){return r+30+ar(e,r+26)+ar(e,r+28)},Dx=function(e,r,n){var i=ar(e,r+28),s=Km(e.subarray(r+46,r+46+i),!(ar(e,r+8)&2048)),u=r+46+i,l=Yt(e,r+20),c=n&&l==4294967295?zx(e,u):[l,Yt(e,r+24),Yt(e,r+42)],h=c[0],p=c[1],y=c[2];return[ar(e,r+10),h,p,s,u+ar(e,r+30)+ar(e,r+32),y]},zx=function(e,r){for(;ar(e,r)!=1;r+=4+ar(e,r+2));return[fl(e,r+12),fl(e,r+4),fl(e,r+20)]};function Fx(e,r){for(var n={},i=e.length-22;Yt(e,i)!=101010256;--i)(!i||e.length-i>65558)&&Jt(13);var s=ar(e,i+8);if(!s)return{};var u=Yt(e,i+16),l=u==4294967295||s==65535;if(l){var c=Yt(e,i-12);l=Yt(e,c)==101075792,l&&(s=Yt(e,c+32),u=Yt(e,c+48))}for(var h=r&&r.filter,p=0;p<s;++p){var y=Dx(e,u,l),d=y[0],m=y[1],_=y[2],A=y[3],P=y[4],R=y[5],V=Bx(e,R);u=P,(!h||h({name:A,size:m,originalSize:_,compression:d}))&&(d?d==8?n[A]=Lx(e.subarray(V,V+m),new Rt(_)):Jt(14,"unknown compression type "+d):n[A]=Yl(e,V,V+m))}return n}var Ql=require("fs"),Ux=require("path"),Hx=require("process"),Xl=e=>(0,Ux.resolve)((0,Hx.cwd)(),e),Jm=e=>(0,Ql.existsSync)(Xl(e));function ea({zip:e="",file:r="",versionFile:n="package.json"}){let i=e||r;if(Jm(n)&&i.includes("{version}")){let s=JSON.parse((0,Ql.readFileSync)(n).toString());return i.replace("{version}",s.version||"")}else return i}function ta(e){let r=(0,Ql.readFileSync)(Xl(e)),n=Fx(r),i=Km(n["manifest.json"]);return JSON.parse(i)}function Zl({extId:e=null,market:r="",zip:n=""}){let{name:i,version:s}=ta(n),u=Pm[r]||r;console.log(`Successfully updated "${e}" (${i}) to version ${s} on ${u}!`)}var ps={};function Ym({message:e="Message",prefix:r="",market:n=""}){var i;ps[n]=1+((i=ps?.[n])!=null?i:0);let s=`${n}: Step ${ps[n]}) ${e}`;return r!=="Error"&&(r=r||"Info",s=`${r} ${s}`),r==="Info"?s=s.trim():r==="Error"&&(s=s.trimStart()),s}var Qm={},ra=e=>{Qm[e]=!0,process.env.VERBOSE="true"};function ec(e=""){return r=>Qm[e]&&console.log(Ym({market:e,message:r}))}var tc=(e,r,n)=>{let i=new Error(Ym({market:r,message:`Item "${n}": ${e.message}`,prefix:"Error"}));return i.stack=e.stack,i};function dl(e,r){return`${e}: ${r}`}var na=({market:e="chrome",options:r={},errorMap:n={}})=>{if(Object.keys(n).some(s=>{if(!r[s])throw new Error(dl(e,n[s]))}),!r.zip&&!r.file)throw new Error(dl(e,"No extension bundle provided"));let i=r.zip||r.file;if(!Jm(i))throw new Error(dl(e,`Extension bundle file doesn't exist: ${Xl(i)}`))},Jo="chrome",Wx=ec(Jo);function Vx(e){return Tn(this,null,function*(){var r=e,{extId:n,target:i="default",zip:s,dryRun:u}=r,l=Ll(r,["extId","target","zip","dryRun"]);let c=new Sx($l({extId:n},l));if(Wx(`Updating extension with ID ${n}`),u)return!0;try{return yield c.submit({filePath:s,target:i}),Zl({extId:n,market:Jo,zip:s}),!0}catch(h){let p=ta(s);throw tc(h,Jo,`"${n}" (${p.name})`)}})}function Gx(e){return Tn(this,null,function*(){return e.zip=ea(e),e.verbose&&ra(Jo),na({market:Jo,options:e,errorMap:Jl}),Vx(e)})}var Kx=require("fs"),rc={productId:"Product ID is required. To get one, go to: https://partner.microsoft.com/en-us/dashboard/microsoftedge/{product-id}/package/dashboard",clientId:"Client ID is required. To get one: https://partner.microsoft.com/en-us/dashboard/microsoftedge/publishapi",clientSecret:"Client Secret is required. To get one: https://partner.microsoft.com/en-us/dashboard/microsoftedge/publishapi",accessTokenUrl:"Access token URL is required. To get one: https://partner.microsoft.com/en-us/dashboard/microsoftedge/publishapi"},Jx=Object.keys(rc),Yx=e=>new Promise(r=>setTimeout(r,e)),Op="https://api.addons.microsoftedge.microsoft.com",Qx=class{options={};constructor(e){for(let r of Jx){if(!e[r])throw new Error(rc[r]);this.options[r]=e[r]}}get productEndpoint(){return`${Op}/v1/products/${this.options.productId}`}get publishEndpoint(){return`${this.productEndpoint}/submissions`}get uploadEndpoint(){return`${this.publishEndpoint}/draft/package`}async submit({filePath:e="",notes:r=""}){let n=await this.getAccessToken(),i=await this.upload((0,Kx.createReadStream)(e),n);return await this.waitForUpload(i,n),this.publish(r,n)}async publish(e="",r=null){let n={headers:{Authorization:`Bearer ${r||await this.getAccessToken()}`,"Content-Type":"application/x-www-form-urlencoded"}};e.length>0&&(n.body=`{ "notes"="${e}" }`);let i=await Mt.post(this.publishEndpoint,n);return this.handleTempStatus(i.statusCode,"Submit"),i.headers.location}async upload(e=null,r=null){let n=r||await this.getAccessToken(),i=await Mt.post(this.uploadEndpoint,{body:e,headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/zip"}});return this.handleTempStatus(i.statusCode,"Upload"),i.headers.location}async getPublishStatus(e,r=null){let n=r||await this.getAccessToken(),i=`${this.publishEndpoint}/operations/${e}`;return Mt.get(i,{headers:{Authorization:`Bearer ${n}`}}).json()}async waitForUpload(e,r=null,n=5,i=3e3){let s=r||await this.getAccessToken(),u=`${this.uploadEndpoint}/operations/${e}`,l,c,h=0;for(;c!=="Succeeded"&&h<n;){let p=await Mt.get(u,{headers:{Authorization:`Bearer ${s}`}}).json();if(p.status==="Failed")throw new Error(p.message||p.errorCode+":"+(p.errors||[]).join(","));p.status==="InProgress"?await Yx(i):p.status==="Succeeded"&&(l=p.message),c=p.status,h++}return l}handleTempStatus=(e,r)=>{if(e!==202)throw e>=500?new Error("Edge server error, please try again later"):new Error(`${r} failed, double check your api credentials`)};getAccessToken=async()=>(await Mt.post(`${this.options.accessTokenUrl}`,{body:`client_id=${this.options.clientId}&scope=${Op}/.default&client_secret=${this.options.clientSecret}&grant_type=client_credentials`,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).json()).access_token},Yo="edge",Xx=ec(Yo);function Zx(e){return Tn(this,null,function*(){var r=e,{productId:n,notes:i,zip:s,dryRun:u}=r,l=Ll(r,["productId","notes","zip","dryRun"]);let c=ta(s),h=new Qx($l({productId:n},l));if(Xx(`Updating extension with Product ID ${n}`),u)return!0;try{return yield h.submit({filePath:s,notes:i}),Zl({extId:n,market:Yo,zip:s}),!0}catch(p){throw tc(p,Yo,`"${n}" (${c.name})`)}})}function eA(e){return Tn(this,null,function*(){return e.zip=ea(e),e.verbose&&ra(Yo),na({market:Yo,options:e,errorMap:rc}),Zx(e)})}var Qe=e=>typeof e=="function",Ee=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:e=>`Symbol(${e})`;function Xm(){}function ot(e){return typeof e=="object"&&e!==null||typeof e=="function"}var Zm=Xm;function Se(e,r){try{Object.defineProperty(e,"name",{value:r,configurable:!0})}catch{}}var nc=Promise,tA=Promise.prototype.then,rA=Promise.resolve.bind(nc),nA=Promise.reject.bind(nc);function ct(e){return new nc(e)}function Oe(e){return rA(e)}function de(e){return nA(e)}function Tr(e,r,n){return tA.call(e,r,n)}function nt(e,r,n){Tr(Tr(e,r,n),void 0,Zm)}function xp(e,r){nt(e,r)}function Ap(e,r){nt(e,void 0,r)}function Qt(e,r,n){return Tr(e,r,n)}function Zn(e){Tr(e,void 0,Zm)}var As=e=>{if(typeof queueMicrotask=="function")As=queueMicrotask;else{let r=Oe(void 0);As=n=>Tr(r,n)}return As(e)};function oa(e,r,n){if(typeof e!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,r,n)}function Rn(e,r,n){try{return Oe(oa(e,r,n))}catch(i){return de(i)}}var Bt=class{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(e){let r=this._back,n=r;r._elements.length===16383&&(n={_elements:[],_next:void 0}),r._elements.push(e),n!==r&&(this._back=n,r._next=n),++this._size}shift(){let e=this._front,r=e,n=this._cursor,i=n+1,s=e._elements,u=s[n];return i===16384&&(r=e._next,i=0),--this._size,this._cursor=i,e!==r&&(this._front=r),s[n]=void 0,u}forEach(e){let r=this._cursor,n=this._front,i=n._elements;for(;!(r===i.length&&n._next===void 0||r===i.length&&(n=n._next,i=n._elements,r=0,i.length===0));)e(i[r]),++r}peek(){let e=this._front,r=this._cursor;return e._elements[r]}},ey=Ee("[[AbortSteps]]"),ty=Ee("[[ErrorSteps]]"),oc=Ee("[[CancelSteps]]"),ic=Ee("[[PullSteps]]"),sc=Ee("[[ReleaseSteps]]");function ry(e,r){e._ownerReadableStream=r,r._reader=e,r._state==="readable"?Tl(e):r._state==="closed"?function(n){Tl(n),sy(n)}(e):iy(e,r._storedError)}function ny(e,r){return Ny(e._ownerReadableStream,r)}function oy(e){let r=e._ownerReadableStream;r._state==="readable"?ac(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function(n,i){iy(n,i)}(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),r._readableStreamController[sc](),r._reader=void 0,e._ownerReadableStream=void 0}function eo(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function Tl(e){e._closedPromise=ct((r,n)=>{e._closedPromise_resolve=r,e._closedPromise_reject=n})}function iy(e,r){Tl(e),ac(e,r)}function ac(e,r){e._closedPromise_reject!==void 0&&(Zn(e._closedPromise),e._closedPromise_reject(r),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function sy(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}var kp=Number.isFinite||function(e){return typeof e=="number"&&isFinite(e)},oA=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function Rr(e,r){if(e!==void 0&&typeof(n=e)!="object"&&typeof n!="function")throw new TypeError(`${r} is not an object.`);var n}function er(e,r){if(typeof e!="function")throw new TypeError(`${r} is not a function.`)}function ay(e,r){if(!function(n){return typeof n=="object"&&n!==null||typeof n=="function"}(e))throw new TypeError(`${r} is not an object.`)}function Or(e,r,n){if(e===void 0)throw new TypeError(`Parameter ${r} is required in '${n}'.`)}function Rl(e,r,n){if(e===void 0)throw new TypeError(`${r} is required in '${n}'.`)}function uc(e){return Number(e)}function Pp(e){return e===0?0:e}function uy(e,r){let n=Number.MAX_SAFE_INTEGER,i=Number(e);if(i=Pp(i),!kp(i))throw new TypeError(`${r} is not a finite number`);if(i=function(s){return Pp(oA(s))}(i),i<0||i>n)throw new TypeError(`${r} is outside the accepted range of 0 to ${n}, inclusive`);return kp(i)&&i!==0?i:0}function Ho(e){if(!ot(e)||typeof e.getReader!="function")return!1;try{return typeof e.locked=="boolean"}catch{return!1}}function ly(e){if(!ot(e)||typeof e.getWriter!="function")return!1;try{return typeof e.locked=="boolean"}catch{return!1}}function cy(e,r){if(!En(e))throw new TypeError(`${r} is not a ReadableStream.`)}function hy(e,r){e._reader._readRequests.push(r)}function lc(e,r,n){let i=e._reader._readRequests.shift();n?i._closeSteps():i._chunkSteps(r)}function ia(e){return e._reader._readRequests.length}function fy(e){let r=e._reader;return r!==void 0&&!!wn(r)}var pn=class{constructor(e){if(Or(e,1,"ReadableStreamDefaultReader"),cy(e,"First parameter"),ro(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");ry(this,e),this._readRequests=new Bt}get closed(){return wn(this)?this._closedPromise:de(ms("closed"))}cancel(e){return wn(this)?this._ownerReadableStream===void 0?de(eo("cancel")):ny(this,e):de(ms("cancel"))}read(){if(!wn(this))return de(ms("read"));if(this._ownerReadableStream===void 0)return de(eo("read from"));let e,r,n=ct((i,s)=>{e=i,r=s});return function(i,s){let u=i._ownerReadableStream;u._disturbed=!0,u._state==="closed"?s._closeSteps():u._state==="errored"?s._errorSteps(u._storedError):u._readableStreamController[ic](s)}(this,{_chunkSteps:i=>e({value:i,done:!1}),_closeSteps:()=>e({value:void 0,done:!0}),_errorSteps:i=>r(i)}),n}releaseLock(){if(!wn(this))throw ms("releaseLock");this._ownerReadableStream!==void 0&&function(e){oy(e);let r=new TypeError("Reader was released");dy(e,r)}(this)}};function wn(e){return!!ot(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readRequests")&&e instanceof pn}function dy(e,r){let n=e._readRequests;e._readRequests=new Bt,n.forEach(i=>{i._errorSteps(r)})}function ms(e){return new TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`)}Object.defineProperties(pn.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),Se(pn.prototype.cancel,"cancel"),Se(pn.prototype.read,"read"),Se(pn.prototype.releaseLock,"releaseLock"),typeof Ee.toStringTag=="symbol"&&Object.defineProperty(pn.prototype,Ee.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});var py=class{constructor(e,r){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=e,this._preventCancel=r}next(){let e=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?Qt(this._ongoingPromise,e,e):e(),this._ongoingPromise}return(e){let r=()=>this._returnSteps(e);return this._ongoingPromise?Qt(this._ongoingPromise,r,r):r()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});let e=this._reader;return e===void 0?de(eo("iterate")):Tr(e.read(),r=>{var n;return this._ongoingPromise=void 0,r.done&&(this._isFinished=!0,(n=this._reader)===null||n===void 0||n.releaseLock(),this._reader=void 0),r},r=>{var n;throw this._ongoingPromise=void 0,this._isFinished=!0,(n=this._reader)===null||n===void 0||n.releaseLock(),this._reader=void 0,r})}_returnSteps(e){if(this._isFinished)return Promise.resolve({value:e,done:!0});this._isFinished=!0;let r=this._reader;if(r===void 0)return de(eo("finish iterating"));if(this._reader=void 0,!this._preventCancel){let n=r.cancel(e);return r.releaseLock(),Qt(n,()=>({value:e,done:!0}))}return r.releaseLock(),Oe({value:e,done:!0})}},my={next(){return Cp(this)?this._asyncIteratorImpl.next():de(Ip("next"))},return(e){return Cp(this)?this._asyncIteratorImpl.return(e):de(Ip("return"))}};function Cp(e){if(!ot(e)||!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl"))return!1;try{return e._asyncIteratorImpl instanceof py}catch{return!1}}function Ip(e){return new TypeError(`ReadableStreamAsyncIterator.${e} can only be used on a ReadableSteamAsyncIterator`)}typeof Ee.asyncIterator=="symbol"&&Object.defineProperty(my,Ee.asyncIterator,{value(){return this},writable:!0,configurable:!0});var yy=Number.isNaN||function(e){return e!=e};function gy(e,r,n,i,s){new Uint8Array(e).set(new Uint8Array(n,i,s),r)}function jp(e){let r=function(n,i,s){if(n.slice)return n.slice(i,s);let u=s-i,l=new ArrayBuffer(u);return gy(l,0,n,i,u),l}(e.buffer,e.byteOffset,e.byteOffset+e.byteLength);return new Uint8Array(r)}function Ol(e){let r=e._queue.shift();return e._queueTotalSize-=r.size,e._queueTotalSize<0&&(e._queueTotalSize=0),r.value}function cc(e,r,n){if(typeof(i=n)!="number"||yy(i)||i<0||n===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");var i;e._queue.push({value:r,size:n}),e._queueTotalSize+=n}function Gr(e){e._queue=new Bt,e._queueTotalSize=0}var Yn=class{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!pl(this))throw ml("view");return this._view}respond(e){if(!pl(this))throw ml("respond");if(Or(e,1,"respond"),e=uy(e,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");this._view.buffer,function(r,n){let i=r._pendingPullIntos.peek();if(r._controlledReadableByteStream._state==="closed"){if(n!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(n===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(i.bytesFilled+n>i.byteLength)throw new RangeError("bytesWritten out of range")}i.buffer=i.buffer,qp(r,n)}(this._associatedReadableByteStreamController,e)}respondWithNewView(e){if(!pl(this))throw ml("respondWithNewView");if(Or(e,1,"respondWithNewView"),!ArrayBuffer.isView(e))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");e.buffer,function(r,n){let i=r._pendingPullIntos.peek();if(r._controlledReadableByteStream._state==="closed"){if(n.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(n.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(i.byteOffset+i.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.bufferByteLength!==n.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(i.bytesFilled+n.byteLength>i.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");let s=n.byteLength;i.buffer=n.buffer,qp(r,s)}(this._associatedReadableByteStreamController,e)}};Object.defineProperties(Yn.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),Se(Yn.prototype.respond,"respond"),Se(Yn.prototype.respondWithNewView,"respondWithNewView"),typeof Ee.toStringTag=="symbol"&&Object.defineProperty(Yn.prototype,Ee.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});var mn=class{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!Kn(this))throw Do("byobRequest");return function(e){if(e._byobRequest===null&&e._pendingPullIntos.length>0){let r=e._pendingPullIntos.peek(),n=new Uint8Array(r.buffer,r.byteOffset+r.bytesFilled,r.byteLength-r.bytesFilled),i=Object.create(Yn.prototype);(function(s,u,l){s._associatedReadableByteStreamController=u,s._view=l})(i,e,n),e._byobRequest=i}return e._byobRequest}(this)}get desiredSize(){if(!Kn(this))throw Do("desiredSize");return Ry(this)}close(){if(!Kn(this))throw Do("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");let e=this._controlledReadableByteStream._state;if(e!=="readable")throw new TypeError(`The stream (in ${e} state) is not in the readable state and cannot be closed`);(function(r){let n=r._controlledReadableByteStream;if(!(r._closeRequested||n._state!=="readable")){if(r._queueTotalSize>0)return void(r._closeRequested=!0);if(r._pendingPullIntos.length>0&&r._pendingPullIntos.peek().bytesFilled>0){let i=new TypeError("Insufficient bytes to fill elements in the given buffer");throw to(r,i),i}Ls(r),Xo(n)}})(this)}enqueue(e){if(!Kn(this))throw Do("enqueue");if(Or(e,1,"enqueue"),!ArrayBuffer.isView(e))throw new TypeError("chunk must be an array buffer view");if(e.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(e.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");let r=this._controlledReadableByteStream._state;if(r!=="readable")throw new TypeError(`The stream (in ${r} state) is not in the readable state and cannot be enqueued to`);(function(n,i){let s=n._controlledReadableByteStream;if(n._closeRequested||s._state!=="readable")return;let u=i.buffer,l=i.byteOffset,c=i.byteLength,h=u;if(n._pendingPullIntos.length>0){let p=n._pendingPullIntos.peek();p.buffer,hc(n),p.buffer=p.buffer,p.readerType==="none"&&wy(n,p)}fy(s)?(function(p){let y=p._controlledReadableByteStream._reader;for(;y._readRequests.length>0;){if(p._queueTotalSize===0)return;$p(p,y._readRequests.shift())}}(n),ia(s)===0?ks(n,h,l,c):(n._pendingPullIntos.length>0&&Xn(n),lc(s,new Uint8Array(h,l,c),!1))):fc(s)?(ks(n,h,l,c),Al(n)):ks(n,h,l,c),Sn(n)})(this,e)}error(e){if(!Kn(this))throw Do("error");to(this,e)}[oc](e){vy(this),Gr(this);let r=this._cancelAlgorithm(e);return Ls(this),r}[ic](e){let r=this._controlledReadableByteStream;if(this._queueTotalSize>0)return void $p(this,e);let n=this._autoAllocateChunkSize;if(n!==void 0){let i;try{i=new ArrayBuffer(n)}catch(u){return void e._errorSteps(u)}let s={buffer:i,bufferByteLength:n,byteOffset:0,byteLength:n,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(s)}hy(r,e),Sn(this)}[sc](){if(this._pendingPullIntos.length>0){let e=this._pendingPullIntos.peek();e.readerType="none",this._pendingPullIntos=new Bt,this._pendingPullIntos.push(e)}}};function Kn(e){return!!ot(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")&&e instanceof mn}function pl(e){return!!ot(e)&&!!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")&&e instanceof Yn}function Sn(e){if(function(r){let n=r._controlledReadableByteStream;return n._state!=="readable"||r._closeRequested||!r._started?!1:!!(fy(n)&&ia(n)>0||fc(n)&&Oy(n)>0||Ry(r)>0)}(e)){if(e._pulling)return void(e._pullAgain=!0);e._pulling=!0,nt(e._pullAlgorithm(),()=>(e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,Sn(e)),null),r=>(to(e,r),null))}}function vy(e){hc(e),e._pendingPullIntos=new Bt}function xl(e,r){let n=!1;e._state==="closed"&&(n=!0);let i=by(r);r.readerType==="default"?lc(e,i,n):function(s,u,l){let c=s._reader._readIntoRequests.shift();l?c._closeSteps(u):c._chunkSteps(u)}(e,i,n)}function by(e){let r=e.bytesFilled,n=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,r/n)}function ks(e,r,n,i){e._queue.push({buffer:r,byteOffset:n,byteLength:i}),e._queueTotalSize+=i}function _y(e,r,n,i){let s;try{s=r.slice(n,n+i)}catch(u){throw to(e,u),u}ks(e,s,0,i)}function wy(e,r){r.bytesFilled>0&&_y(e,r.buffer,r.byteOffset,r.bytesFilled),Xn(e)}function Ey(e,r){let n=r.elementSize,i=r.bytesFilled-r.bytesFilled%n,s=Math.min(e._queueTotalSize,r.byteLength-r.bytesFilled),u=r.bytesFilled+s,l=u-u%n,c=s,h=!1;l>i&&(c=l-r.bytesFilled,h=!0);let p=e._queue;for(;c>0;){let y=p.peek(),d=Math.min(c,y.byteLength),m=r.byteOffset+r.bytesFilled;gy(r.buffer,m,y.buffer,y.byteOffset,d),y.byteLength===d?p.shift():(y.byteOffset+=d,y.byteLength-=d),e._queueTotalSize-=d,Sy(e,d,r),c-=d}return h}function Sy(e,r,n){n.bytesFilled+=r}function Ty(e){e._queueTotalSize===0&&e._closeRequested?(Ls(e),Xo(e._controlledReadableByteStream)):Sn(e)}function hc(e){e._byobRequest!==null&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function Al(e){for(;e._pendingPullIntos.length>0;){if(e._queueTotalSize===0)return;let r=e._pendingPullIntos.peek();Ey(e,r)&&(Xn(e),xl(e._controlledReadableByteStream,r))}}function qp(e,r){let n=e._pendingPullIntos.peek();hc(e),e._controlledReadableByteStream._state==="closed"?function(i,s){s.readerType==="none"&&Xn(i);let u=i._controlledReadableByteStream;if(fc(u))for(;Oy(u)>0;)xl(u,Xn(i))}(e,n):function(i,s,u){if(Sy(0,s,u),u.readerType==="none")return wy(i,u),void Al(i);if(u.bytesFilled<u.elementSize)return;Xn(i);let l=u.bytesFilled%u.elementSize;if(l>0){let c=u.byteOffset+u.bytesFilled;_y(i,u.buffer,c-l,l)}u.bytesFilled-=l,xl(i._controlledReadableByteStream,u),Al(i)}(e,r,n),Sn(e)}function Xn(e){return e._pendingPullIntos.shift()}function Ls(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function to(e,r){let n=e._controlledReadableByteStream;n._state==="readable"&&(vy(e),Gr(e),Ls(e),My(n,r))}function $p(e,r){let n=e._queue.shift();e._queueTotalSize-=n.byteLength,Ty(e);let i=new Uint8Array(n.buffer,n.byteOffset,n.byteLength);r._chunkSteps(i)}function Ry(e){let r=e._controlledReadableByteStream._state;return r==="errored"?null:r==="closed"?0:e._strategyHWM-e._queueTotalSize}function iA(e,r,n){let i=Object.create(mn.prototype),s,u,l;s=r.start!==void 0?()=>r.start(i):()=>{},u=r.pull!==void 0?()=>r.pull(i):()=>Oe(void 0),l=r.cancel!==void 0?h=>r.cancel(h):()=>Oe(void 0);let c=r.autoAllocateChunkSize;if(c===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");(function(h,p,y,d,m,_,A){p._controlledReadableByteStream=h,p._pullAgain=!1,p._pulling=!1,p._byobRequest=null,p._queue=p._queueTotalSize=void 0,Gr(p),p._closeRequested=!1,p._started=!1,p._strategyHWM=_,p._pullAlgorithm=d,p._cancelAlgorithm=m,p._autoAllocateChunkSize=A,p._pendingPullIntos=new Bt,h._readableStreamController=p,nt(Oe(y()),()=>(p._started=!0,Sn(p),null),P=>(to(p,P),null))})(e,i,s,u,l,n,c)}function ml(e){return new TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`)}function Do(e){return new TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`)}function Lp(e,r){e._reader._readIntoRequests.push(r)}function Oy(e){return e._reader._readIntoRequests.length}function fc(e){let r=e._reader;return r!==void 0&&!!Qn(r)}Object.defineProperties(mn.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),Se(mn.prototype.close,"close"),Se(mn.prototype.enqueue,"enqueue"),Se(mn.prototype.error,"error"),typeof Ee.toStringTag=="symbol"&&Object.defineProperty(mn.prototype,Ee.toStringTag,{value:"ReadableByteStreamController",configurable:!0});var yn=class{constructor(e){if(Or(e,1,"ReadableStreamBYOBReader"),cy(e,"First parameter"),ro(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!Kn(e._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");ry(this,e),this._readIntoRequests=new Bt}get closed(){return Qn(this)?this._closedPromise:de(ys("closed"))}cancel(e){return Qn(this)?this._ownerReadableStream===void 0?de(eo("cancel")):ny(this,e):de(ys("cancel"))}read(e){if(!Qn(this))return de(ys("read"));if(!ArrayBuffer.isView(e))return de(new TypeError("view must be an array buffer view"));if(e.byteLength===0)return de(new TypeError("view must have non-zero byteLength"));if(e.buffer.byteLength===0)return de(new TypeError("view's buffer must have non-zero byteLength"));if(e.buffer,this._ownerReadableStream===void 0)return de(eo("read from"));let r,n,i=ct((s,u)=>{r=s,n=u});return function(s,u,l){let c=s._ownerReadableStream;c._disturbed=!0,c._state==="errored"?l._errorSteps(c._storedError):function(h,p,y){let d=h._controlledReadableByteStream,m=1;p.constructor!==DataView&&(m=p.constructor.BYTES_PER_ELEMENT);let _=p.constructor,A=p.buffer,P={buffer:A,bufferByteLength:A.byteLength,byteOffset:p.byteOffset,byteLength:p.byteLength,bytesFilled:0,elementSize:m,viewConstructor:_,readerType:"byob"};if(h._pendingPullIntos.length>0)return h._pendingPullIntos.push(P),void Lp(d,y);if(d._state!=="closed"){if(h._queueTotalSize>0){if(Ey(h,P)){let R=by(P);return Ty(h),void y._chunkSteps(R)}if(h._closeRequested){let R=new TypeError("Insufficient bytes to fill elements in the given buffer");return to(h,R),void y._errorSteps(R)}}h._pendingPullIntos.push(P),Lp(d,y),Sn(h)}else{let R=new _(P.buffer,P.byteOffset,0);y._closeSteps(R)}}(c._readableStreamController,u,l)}(this,e,{_chunkSteps:s=>r({value:s,done:!1}),_closeSteps:s=>r({value:s,done:!0}),_errorSteps:s=>n(s)}),i}releaseLock(){if(!Qn(this))throw ys("releaseLock");this._ownerReadableStream!==void 0&&function(e){oy(e);let r=new TypeError("Reader was released");xy(e,r)}(this)}};function Qn(e){return!!ot(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")&&e instanceof yn}function xy(e,r){let n=e._readIntoRequests;e._readIntoRequests=new Bt,n.forEach(i=>{i._errorSteps(r)})}function ys(e){return new TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`)}function Qo(e,r){let{highWaterMark:n}=e;if(n===void 0)return r;if(yy(n)||n<0)throw new RangeError("Invalid highWaterMark");return n}function Ns(e){let{size:r}=e;return r||(()=>1)}function Ms(e,r){Rr(e,r);let n=e?.highWaterMark,i=e?.size;return{highWaterMark:n===void 0?void 0:uc(n),size:i===void 0?void 0:sA(i,`${r} has member 'size' that`)}}function sA(e,r){return er(e,r),n=>uc(e(n))}function aA(e,r,n){return er(e,n),i=>Rn(e,r,[i])}function uA(e,r,n){return er(e,n),()=>Rn(e,r,[])}function lA(e,r,n){return er(e,n),i=>oa(e,r,[i])}function cA(e,r,n){return er(e,n),(i,s)=>Rn(e,r,[i,s])}Object.defineProperties(yn.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),Se(yn.prototype.cancel,"cancel"),Se(yn.prototype.read,"read"),Se(yn.prototype.releaseLock,"releaseLock"),typeof Ee.toStringTag=="symbol"&&Object.defineProperty(yn.prototype,Ee.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});var hA=typeof AbortController=="function",gn=class{constructor(e={},r={}){e===void 0?e=null:ay(e,"First parameter");let n=Ms(r,"Second parameter"),i=function(l,c){Rr(l,c);let h=l?.abort,p=l?.close,y=l?.start,d=l?.type,m=l?.write;return{abort:h===void 0?void 0:aA(h,l,`${c} has member 'abort' that`),close:p===void 0?void 0:uA(p,l,`${c} has member 'close' that`),start:y===void 0?void 0:lA(y,l,`${c} has member 'start' that`),write:m===void 0?void 0:cA(m,l,`${c} has member 'write' that`),type:d}}(e,"First parameter");var s;if((s=this)._state="writable",s._storedError=void 0,s._writer=void 0,s._writableStreamController=void 0,s._writeRequests=new Bt,s._inFlightWriteRequest=void 0,s._closeRequest=void 0,s._inFlightCloseRequest=void 0,s._pendingAbortRequest=void 0,s._backpressure=!1,i.type!==void 0)throw new RangeError("Invalid type is specified");let u=Ns(n);(function(l,c,h,p){let y=Object.create(Bs.prototype),d,m,_,A;d=c.start!==void 0?()=>c.start(y):()=>{},m=c.write!==void 0?P=>c.write(P,y):()=>Oe(void 0),_=c.close!==void 0?()=>c.close():()=>Oe(void 0),A=c.abort!==void 0?P=>c.abort(P):()=>Oe(void 0),function(P,R,V,z,S,B,v,q){R._controlledWritableStream=P,P._writableStreamController=R,R._queue=void 0,R._queueTotalSize=void 0,Gr(R),R._abortReason=void 0,R._abortController=function(){if(hA)return new AbortController}(),R._started=!1,R._strategySizeAlgorithm=q,R._strategyHWM=v,R._writeAlgorithm=z,R._closeAlgorithm=S,R._abortAlgorithm=B;let C=yc(R);mc(P,C);let k=V();nt(Oe(k),()=>(R._started=!0,sa(R),null),L=>(R._started=!0,kl(P,L),null))}(l,y,d,m,_,A,h,p)})(this,i,Qo(n,1),u)}get locked(){if(!ur(this))throw vs("locked");return Ps(this)}abort(e){return ur(this)?Ps(this)?de(new TypeError("Cannot abort a stream that already has a writer")):Ay(this,e):de(vs("abort"))}close(){return ur(this)?Ps(this)?de(new TypeError("Cannot close a stream that already has a writer")):Vr(this)?de(new TypeError("Cannot close an already-closing stream")):ky(this):de(vs("close"))}getWriter(){if(!ur(this))throw vs("getWriter");return new Wr(this)}};function ur(e){return!!ot(e)&&!!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")&&e instanceof gn}function Ps(e){return e._writer!==void 0}function Ay(e,r){var n;if(e._state==="closed"||e._state==="errored")return Oe(void 0);e._writableStreamController._abortReason=r,(n=e._writableStreamController._abortController)===null||n===void 0||n.abort(r);let i=e._state;if(i==="closed"||i==="errored")return Oe(void 0);if(e._pendingAbortRequest!==void 0)return e._pendingAbortRequest._promise;let s=!1;i==="erroring"&&(s=!0,r=void 0);let u=ct((l,c)=>{e._pendingAbortRequest={_promise:void 0,_resolve:l,_reject:c,_reason:r,_wasAlreadyErroring:s}});return e._pendingAbortRequest._promise=u,s||dc(e,r),u}function ky(e){let r=e._state;if(r==="closed"||r==="errored")return de(new TypeError(`The stream (in ${r} state) is not in the writable state and cannot be closed`));let n=ct((u,l)=>{let c={_resolve:u,_reject:l};e._closeRequest=c}),i=e._writer;var s;return i!==void 0&&e._backpressure&&r==="writable"&&vc(i),cc(s=e._writableStreamController,Cy,0),sa(s),n}function kl(e,r){e._state!=="writable"?pc(e):dc(e,r)}function dc(e,r){let n=e._writableStreamController;e._state="erroring",e._storedError=r;let i=e._writer;i!==void 0&&Py(i,r),!function(s){return!(s._inFlightWriteRequest===void 0&&s._inFlightCloseRequest===void 0)}(e)&&n._started&&pc(e)}function pc(e){e._state="errored",e._writableStreamController[ty]();let r=e._storedError;if(e._writeRequests.forEach(i=>{i._reject(r)}),e._writeRequests=new Bt,e._pendingAbortRequest===void 0)return void gs(e);let n=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,n._wasAlreadyErroring)return n._reject(r),void gs(e);nt(e._writableStreamController[ey](n._reason),()=>(n._resolve(),gs(e),null),i=>(n._reject(i),gs(e),null))}function Vr(e){return e._closeRequest!==void 0||e._inFlightCloseRequest!==void 0}function gs(e){e._closeRequest!==void 0&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);let r=e._writer;r!==void 0&&gc(r,e._storedError)}function mc(e,r){let n=e._writer;n!==void 0&&r!==e._backpressure&&(r?function(i){aa(i)}(n):vc(n)),e._backpressure=r}Object.defineProperties(gn.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),Se(gn.prototype.abort,"abort"),Se(gn.prototype.close,"close"),Se(gn.prototype.getWriter,"getWriter"),typeof Ee.toStringTag=="symbol"&&Object.defineProperty(gn.prototype,Ee.toStringTag,{value:"WritableStream",configurable:!0});var Wr=class{constructor(e){if(Or(e,1,"WritableStreamDefaultWriter"),function(i,s){if(!ur(i))throw new TypeError(`${s} is not a WritableStream.`)}(e,"First parameter"),Ps(e))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=e,e._writer=this;let r=e._state;if(r==="writable")!Vr(e)&&e._backpressure?aa(this):Bp(this),Cs(this);else if(r==="erroring")Pl(this,e._storedError),Cs(this);else if(r==="closed")Bp(this),Cs(n=this),qy(n);else{let i=e._storedError;Pl(this,i),Mp(this,i)}var n}get closed(){return an(this)?this._closedPromise:de(un("closed"))}get desiredSize(){if(!an(this))throw un("desiredSize");if(this._ownerWritableStream===void 0)throw zo("desiredSize");return function(e){let r=e._ownerWritableStream,n=r._state;return n==="errored"||n==="erroring"?null:n==="closed"?0:Iy(r._writableStreamController)}(this)}get ready(){return an(this)?this._readyPromise:de(un("ready"))}abort(e){return an(this)?this._ownerWritableStream===void 0?de(zo("abort")):function(r,n){return Ay(r._ownerWritableStream,n)}(this,e):de(un("abort"))}close(){if(!an(this))return de(un("close"));let e=this._ownerWritableStream;return e===void 0?de(zo("close")):Vr(e)?de(new TypeError("Cannot close an already-closing stream")):ky(this._ownerWritableStream)}releaseLock(){if(!an(this))throw un("releaseLock");this._ownerWritableStream!==void 0&&function(e){let r=e._ownerWritableStream,n=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");Py(e,n),function(i,s){i._closedPromiseState==="pending"?gc(i,s):function(u,l){Mp(u,l)}(i,s)}(e,n),r._writer=void 0,e._ownerWritableStream=void 0}(this)}write(e){return an(this)?this._ownerWritableStream===void 0?de(zo("write to")):function(r,n){let i=r._ownerWritableStream,s=i._writableStreamController,u=function(h,p){try{return h._strategySizeAlgorithm(p)}catch(y){return Np(h,y),1}}(s,n);if(i!==r._ownerWritableStream)return de(zo("write to"));let l=i._state;if(l==="errored")return de(i._storedError);if(Vr(i)||l==="closed")return de(new TypeError("The stream is closing or closed and cannot be written to"));if(l==="erroring")return de(i._storedError);let c=function(h){return ct((p,y)=>{let d={_resolve:p,_reject:y};h._writeRequests.push(d)})}(i);return function(h,p,y){try{cc(h,p,y)}catch(m){return void Np(h,m)}let d=h._controlledWritableStream;!Vr(d)&&d._state==="writable"&&mc(d,yc(h)),sa(h)}(s,n,u),c}(this,e):de(un("write"))}};function an(e){return!!ot(e)&&!!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")&&e instanceof Wr}function Py(e,r){e._readyPromiseState==="pending"?$y(e,r):function(n,i){Pl(n,i)}(e,r)}Object.defineProperties(Wr.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),Se(Wr.prototype.abort,"abort"),Se(Wr.prototype.close,"close"),Se(Wr.prototype.releaseLock,"releaseLock"),Se(Wr.prototype.write,"write"),typeof Ee.toStringTag=="symbol"&&Object.defineProperty(Wr.prototype,Ee.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});var Cy={},Bs=class{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!yl(this))throw gl("abortReason");return this._abortReason}get signal(){if(!yl(this))throw gl("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(e){if(!yl(this))throw gl("error");this._controlledWritableStream._state==="writable"&&jy(this,e)}[ey](e){let r=this._abortAlgorithm(e);return Ds(this),r}[ty](){Gr(this)}};function yl(e){return!!ot(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")&&e instanceof Bs}function Ds(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Iy(e){return e._strategyHWM-e._queueTotalSize}function sa(e){let r=e._controlledWritableStream;if(!e._started||r._inFlightWriteRequest!==void 0)return;if(r._state==="erroring")return void pc(r);if(e._queue.length===0)return;let n=e._queue.peek().value;n===Cy?function(i){let s=i._controlledWritableStream;(function(l){l._inFlightCloseRequest=l._closeRequest,l._closeRequest=void 0})(s),Ol(i);let u=i._closeAlgorithm();Ds(i),nt(u,()=>(function(l){l._inFlightCloseRequest._resolve(void 0),l._inFlightCloseRequest=void 0,l._state==="erroring"&&(l._storedError=void 0,l._pendingAbortRequest!==void 0&&(l._pendingAbortRequest._resolve(),l._pendingAbortRequest=void 0)),l._state="closed";let c=l._writer;c!==void 0&&qy(c)}(s),null),l=>(function(c,h){c._inFlightCloseRequest._reject(h),c._inFlightCloseRequest=void 0,c._pendingAbortRequest!==void 0&&(c._pendingAbortRequest._reject(h),c._pendingAbortRequest=void 0),kl(c,h)}(s,l),null))}(e):function(i,s){let u=i._controlledWritableStream;(function(l){l._inFlightWriteRequest=l._writeRequests.shift()})(u),nt(i._writeAlgorithm(s),()=>{(function(c){c._inFlightWriteRequest._resolve(void 0),c._inFlightWriteRequest=void 0})(u);let l=u._state;if(Ol(i),!Vr(u)&&l==="writable"){let c=yc(i);mc(u,c)}return sa(i),null},l=>(u._state==="writable"&&Ds(i),function(c,h){c._inFlightWriteRequest._reject(h),c._inFlightWriteRequest=void 0,kl(c,h)}(u,l),null))}(e,n)}function Np(e,r){e._controlledWritableStream._state==="writable"&&jy(e,r)}function yc(e){return Iy(e)<=0}function jy(e,r){let n=e._controlledWritableStream;Ds(e),dc(n,r)}function vs(e){return new TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`)}function gl(e){return new TypeError(`WritableStreamDefaultController.prototype.${e} can only be used on a WritableStreamDefaultController`)}function un(e){return new TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`)}function zo(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function Cs(e){e._closedPromise=ct((r,n)=>{e._closedPromise_resolve=r,e._closedPromise_reject=n,e._closedPromiseState="pending"})}function Mp(e,r){Cs(e),gc(e,r)}function gc(e,r){e._closedPromise_reject!==void 0&&(Zn(e._closedPromise),e._closedPromise_reject(r),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function qy(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function aa(e){e._readyPromise=ct((r,n)=>{e._readyPromise_resolve=r,e._readyPromise_reject=n}),e._readyPromiseState="pending"}function Pl(e,r){aa(e),$y(e,r)}function Bp(e){aa(e),vc(e)}function $y(e,r){e._readyPromise_reject!==void 0&&(Zn(e._readyPromise),e._readyPromise_reject(r),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function vc(e){e._readyPromise_resolve!==void 0&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}Object.defineProperties(Bs.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof Ee.toStringTag=="symbol"&&Object.defineProperty(Bs.prototype,Ee.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});var Dp=typeof DOMException<"u"?DOMException:void 0,fA=function(e){if(typeof e!="function"&&typeof e!="object")return!1;try{return new e,!0}catch{return!1}}(Dp)?Dp:function(){let e=function(r,n){this.message=r||"",this.name=n||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}();function zp(e,r,n,i,s,u){let l=e.getReader(),c=r.getWriter();En(e)&&(e._disturbed=!0);let h,p,y,d=!1,m=!1,_="readable",A="writable",P=!1,R=!1,V=ct(S=>{y=S}),z=Promise.resolve(void 0);return ct((S,B)=>{let v;function q(){if(d)return;let T=ct((E,N)=>{(function F(j){j?E():Tr(function(){return d?Oe(!0):Tr(c.ready,()=>Tr(l.read(),W=>!!W.done||(z=c.write(W.value),Zn(z),!1)))}(),F,N)})(!1)});Zn(T)}function C(){return _="closed",n?Y():H(()=>(ur(r)&&(P=Vr(r),A=r._state),P||A==="closed"?Oe(void 0):A==="erroring"||A==="errored"?de(p):(P=!0,c.close())),!1,void 0),null}function k(T){return d||(_="errored",h=T,i?Y(!0,T):H(()=>c.abort(T),!0,T)),null}function L(T){return m||(A="errored",p=T,s?Y(!0,T):H(()=>l.cancel(T),!0,T)),null}if(u!==void 0&&(v=()=>{let T=u.reason!==void 0?u.reason:new fA("Aborted","AbortError"),E=[];i||E.push(()=>A==="writable"?c.abort(T):Oe(void 0)),s||E.push(()=>_==="readable"?l.cancel(T):Oe(void 0)),H(()=>Promise.all(E.map(N=>N())),!0,T)},u.aborted?v():u.addEventListener("abort",v)),En(e)&&(_=e._state,h=e._storedError),ur(r)&&(A=r._state,p=r._storedError,P=Vr(r)),En(e)&&ur(r)&&(R=!0,y()),_==="errored")k(h);else if(A==="erroring"||A==="errored")L(p);else if(_==="closed")C();else if(P||A==="closed"){let T=new TypeError("the destination writable stream closed before all data could be piped to it");s?Y(!0,T):H(()=>l.cancel(T),!0,T)}function H(T,E,N){function F(){return A!=="writable"||P?j():xp(function(){let W;return Oe(function ee(){if(W!==z)return W=z,Qt(z,ee,ee)}())}(),j),null}function j(){return T?nt(T(),()=>ne(E,N),W=>ne(!0,W)):ne(E,N),null}d||(d=!0,R?F():xp(V,F))}function Y(T,E){H(void 0,T,E)}function ne(T,E){return m=!0,c.releaseLock(),l.releaseLock(),u!==void 0&&u.removeEventListener("abort",v),T?B(E):S(void 0),null}d||(nt(l.closed,C,k),nt(c.closed,function(){return m||(A="closed"),null},L)),R?q():As(()=>{R=!0,y(),q()})})}function dA(e,r){return function(n){try{return n.getReader({mode:"byob"}).releaseLock(),!0}catch{return!1}}(e)?function(n){let i,s,u,l,c,h=n.getReader(),p=!1,y=!1,d=!1,m=!1,_=!1,A=!1,P=ct(L=>{c=L});function R(L){Ap(L.closed,H=>(L!==h||(u.error(H),l.error(H),_&&A||c(void 0)),null))}function V(){p&&(h.releaseLock(),h=n.getReader(),R(h),p=!1),nt(h.read(),L=>{var H,Y;if(d=!1,m=!1,L.done)return _||u.close(),A||l.close(),(H=u.byobRequest)===null||H===void 0||H.respond(0),(Y=l.byobRequest)===null||Y===void 0||Y.respond(0),_&&A||c(void 0),null;let ne=L.value,T=ne,E=ne;if(!_&&!A)try{E=jp(ne)}catch(N){return u.error(N),l.error(N),c(h.cancel(N)),null}return _||u.enqueue(T),A||l.enqueue(E),y=!1,d?S():m&&B(),null},()=>(y=!1,null))}function z(L,H){p||(h.releaseLock(),h=n.getReader({mode:"byob"}),R(h),p=!0);let Y=H?l:u,ne=H?u:l;nt(h.read(L),T=>{var E;d=!1,m=!1;let N=H?A:_,F=H?_:A;if(T.done){N||Y.close(),F||ne.close();let W=T.value;return W!==void 0&&(N||Y.byobRequest.respondWithNewView(W),F||(E=ne.byobRequest)===null||E===void 0||E.respond(0)),N&&F||c(void 0),null}let j=T.value;if(F)N||Y.byobRequest.respondWithNewView(j);else{let W;try{W=jp(j)}catch(ee){return Y.error(ee),ne.error(ee),c(h.cancel(ee)),null}N||Y.byobRequest.respondWithNewView(j),ne.enqueue(W)}return y=!1,d?S():m&&B(),null},()=>(y=!1,null))}function S(){if(y)return d=!0,Oe(void 0);y=!0;let L=u.byobRequest;return L===null?V():z(L.view,!1),Oe(void 0)}function B(){if(y)return m=!0,Oe(void 0);y=!0;let L=l.byobRequest;return L===null?V():z(L.view,!0),Oe(void 0)}function v(L){if(_=!0,i=L,A){let H=[i,s],Y=h.cancel(H);c(Y)}return P}function q(L){if(A=!0,s=L,_){let H=[i,s],Y=h.cancel(H);c(Y)}return P}let C=new et({type:"bytes",start(L){u=L},pull:S,cancel:v}),k=new et({type:"bytes",start(L){l=L},pull:B,cancel:q});return R(h),[C,k]}(e):function(n,i){let s=n.getReader(),u,l,c,h,p,y=!1,d=!1,m=!1,_=!1,A=ct(B=>{p=B});function P(){return y?(d=!0,Oe(void 0)):(y=!0,nt(s.read(),B=>{if(d=!1,B.done)return m||c.close(),_||h.close(),m&&_||p(void 0),null;let v=B.value,q=v,C=v;return m||c.enqueue(q),_||h.enqueue(C),y=!1,d&&P(),null},()=>(y=!1,null)),Oe(void 0))}function R(B){if(m=!0,u=B,_){let v=[u,l],q=s.cancel(v);p(q)}return A}function V(B){if(_=!0,l=B,m){let v=[u,l],q=s.cancel(v);p(q)}return A}let z=new et({start(B){c=B},pull:P,cancel:R}),S=new et({start(B){h=B},pull:P,cancel:V});return Ap(s.closed,B=>(c.error(B),h.error(B),m&&_||p(void 0),null)),[z,S]}(e)}var vn=class{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!bs(this))throw _s("desiredSize");return Ly(this)}close(){if(!bs(this))throw _s("close");if(!Wo(this))throw new TypeError("The stream is not in a state that permits close");(function(e){if(!Wo(e))return;let r=e._controlledReadableStream;e._closeRequested=!0,e._queue.length===0&&(Is(e),Xo(r))})(this)}enqueue(e){if(!bs(this))throw _s("enqueue");if(!Wo(this))throw new TypeError("The stream is not in a state that permits enqueue");return function(r,n){if(!Wo(r))return;let i=r._controlledReadableStream;if(ro(i)&&ia(i)>0)lc(i,n,!1);else{let s;try{s=r._strategySizeAlgorithm(n)}catch(u){throw Ko(r,u),u}try{cc(r,n,s)}catch(u){throw Ko(r,u),u}}Go(r)}(this,e)}error(e){if(!bs(this))throw _s("error");Ko(this,e)}[oc](e){Gr(this);let r=this._cancelAlgorithm(e);return Is(this),r}[ic](e){let r=this._controlledReadableStream;if(this._queue.length>0){let n=Ol(this);this._closeRequested&&this._queue.length===0?(Is(this),Xo(r)):Go(this),e._chunkSteps(n)}else hy(r,e),Go(this)}[sc](){}};function bs(e){return!!ot(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")&&e instanceof vn}function Go(e){if(function(r){let n=r._controlledReadableStream;return!Wo(r)||!r._started?!1:!!(ro(n)&&ia(n)>0||Ly(r)>0)}(e)){if(e._pulling)return void(e._pullAgain=!0);e._pulling=!0,nt(e._pullAlgorithm(),()=>(e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,Go(e)),null),r=>(Ko(e,r),null))}}function Is(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Ko(e,r){let n=e._controlledReadableStream;n._state==="readable"&&(Gr(e),Is(e),My(n,r))}function Ly(e){let r=e._controlledReadableStream._state;return r==="errored"?null:r==="closed"?0:e._strategyHWM-e._queueTotalSize}function Wo(e){return!e._closeRequested&&e._controlledReadableStream._state==="readable"}function pA(e,r,n,i){let s=Object.create(vn.prototype),u,l,c;u=r.start!==void 0?()=>r.start(s):()=>{},l=r.pull!==void 0?()=>r.pull(s):()=>Oe(void 0),c=r.cancel!==void 0?h=>r.cancel(h):()=>Oe(void 0),function(h,p,y,d,m,_,A){p._controlledReadableStream=h,p._queue=void 0,p._queueTotalSize=void 0,Gr(p),p._started=!1,p._closeRequested=!1,p._pullAgain=!1,p._pulling=!1,p._strategySizeAlgorithm=A,p._strategyHWM=_,p._pullAlgorithm=d,p._cancelAlgorithm=m,h._readableStreamController=p,nt(Oe(y()),()=>(p._started=!0,Go(p),null),P=>(Ko(p,P),null))}(e,s,u,l,c,n,i)}function _s(e){return new TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`)}function mA(e,r,n){return er(e,n),i=>Rn(e,r,[i])}function yA(e,r,n){return er(e,n),i=>Rn(e,r,[i])}function gA(e,r,n){return er(e,n),i=>oa(e,r,[i])}function vA(e,r){if((e=`${e}`)!="bytes")throw new TypeError(`${r} '${e}' is not a valid enumeration value for ReadableStreamType`);return e}function bA(e,r){if((e=`${e}`)!="byob")throw new TypeError(`${r} '${e}' is not a valid enumeration value for ReadableStreamReaderMode`);return e}function Fp(e,r){Rr(e,r);let n=e?.preventAbort,i=e?.preventCancel,s=e?.preventClose,u=e?.signal;return u!==void 0&&function(l,c){if(!function(h){if(typeof h!="object"||h===null)return!1;try{return typeof h.aborted=="boolean"}catch{return!1}}(l))throw new TypeError(`${c} is not an AbortSignal.`)}(u,`${r} has member 'signal' that`),{preventAbort:Boolean(n),preventCancel:Boolean(i),preventClose:Boolean(s),signal:u}}function _A(e,r){Rr(e,r);let n=e?.readable;Rl(n,"readable","ReadableWritablePair"),function(s,u){if(!Ho(s))throw new TypeError(`${u} is not a ReadableStream.`)}(n,`${r} has member 'readable' that`);let i=e?.writable;return Rl(i,"writable","ReadableWritablePair"),function(s,u){if(!ly(s))throw new TypeError(`${u} is not a WritableStream.`)}(i,`${r} has member 'writable' that`),{readable:n,writable:i}}Object.defineProperties(vn.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),Se(vn.prototype.close,"close"),Se(vn.prototype.enqueue,"enqueue"),Se(vn.prototype.error,"error"),typeof Ee.toStringTag=="symbol"&&Object.defineProperty(vn.prototype,Ee.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});var et=class{constructor(e={},r={}){e===void 0?e=null:ay(e,"First parameter");let n=Ms(r,"Second parameter"),i=function(u,l){Rr(u,l);let c=u,h=c?.autoAllocateChunkSize,p=c?.cancel,y=c?.pull,d=c?.start,m=c?.type;return{autoAllocateChunkSize:h===void 0?void 0:uy(h,`${l} has member 'autoAllocateChunkSize' that`),cancel:p===void 0?void 0:mA(p,c,`${l} has member 'cancel' that`),pull:y===void 0?void 0:yA(y,c,`${l} has member 'pull' that`),start:d===void 0?void 0:gA(d,c,`${l} has member 'start' that`),type:m===void 0?void 0:vA(m,`${l} has member 'type' that`)}}(e,"First parameter");var s;if((s=this)._state="readable",s._reader=void 0,s._storedError=void 0,s._disturbed=!1,i.type==="bytes"){if(n.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");iA(this,i,Qo(n,0))}else{let u=Ns(n);pA(this,i,Qo(n,1),u)}}get locked(){if(!En(this))throw ln("locked");return ro(this)}cancel(e){return En(this)?ro(this)?de(new TypeError("Cannot cancel a stream that already has a reader")):Ny(this,e):de(ln("cancel"))}getReader(e){if(!En(this))throw ln("getReader");return function(r,n){Rr(r,n);let i=r?.mode;return{mode:i===void 0?void 0:bA(i,`${n} has member 'mode' that`)}}(e,"First parameter").mode===void 0?new pn(this):function(r){return new yn(r)}(this)}pipeThrough(e,r={}){if(!Ho(this))throw ln("pipeThrough");Or(e,1,"pipeThrough");let n=_A(e,"First parameter"),i=Fp(r,"Second parameter");if(this.locked)throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(n.writable.locked)throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return Zn(zp(this,n.writable,i.preventClose,i.preventAbort,i.preventCancel,i.signal)),n.readable}pipeTo(e,r={}){if(!Ho(this))return de(ln("pipeTo"));if(e===void 0)return de("Parameter 1 is required in 'pipeTo'.");if(!ly(e))return de(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let n;try{n=Fp(r,"Second parameter")}catch(i){return de(i)}return this.locked?de(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):e.locked?de(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):zp(this,e,n.preventClose,n.preventAbort,n.preventCancel,n.signal)}tee(){if(!Ho(this))throw ln("tee");if(this.locked)throw new TypeError("Cannot tee a stream that already has a reader");return dA(this)}values(e){if(!Ho(this))throw ln("values");return function(r,n){let i=r.getReader(),s=new py(i,n),u=Object.create(my);return u._asyncIteratorImpl=s,u}(this,function(r,n){Rr(r,n);let i=r?.preventCancel;return{preventCancel:Boolean(i)}}(e,"First parameter").preventCancel)}};function En(e){return!!ot(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")&&e instanceof et}function ro(e){return e._reader!==void 0}function Ny(e,r){if(e._disturbed=!0,e._state==="closed")return Oe(void 0);if(e._state==="errored")return de(e._storedError);Xo(e);let n=e._reader;if(n!==void 0&&Qn(n)){let i=n._readIntoRequests;n._readIntoRequests=new Bt,i.forEach(s=>{s._closeSteps(void 0)})}return Qt(e._readableStreamController[oc](r),Xm)}function Xo(e){e._state="closed";let r=e._reader;if(r!==void 0&&(sy(r),wn(r))){let n=r._readRequests;r._readRequests=new Bt,n.forEach(i=>{i._closeSteps()})}}function My(e,r){e._state="errored",e._storedError=r;let n=e._reader;n!==void 0&&(ac(n,r),wn(n)?dy(n,r):xy(n,r))}function ln(e){return new TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`)}function By(e,r){Rr(e,r);let n=e?.highWaterMark;return Rl(n,"highWaterMark","QueuingStrategyInit"),{highWaterMark:uc(n)}}Object.defineProperties(et.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),Se(et.prototype.cancel,"cancel"),Se(et.prototype.getReader,"getReader"),Se(et.prototype.pipeThrough,"pipeThrough"),Se(et.prototype.pipeTo,"pipeTo"),Se(et.prototype.tee,"tee"),Se(et.prototype.values,"values"),typeof Ee.toStringTag=="symbol"&&Object.defineProperty(et.prototype,Ee.toStringTag,{value:"ReadableStream",configurable:!0}),typeof Ee.asyncIterator=="symbol"&&Object.defineProperty(et.prototype,Ee.asyncIterator,{value:et.prototype.values,writable:!0,configurable:!0});var Dy=e=>e.byteLength;Se(Dy,"size");var Cl=class{constructor(e){Or(e,1,"ByteLengthQueuingStrategy"),e=By(e,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!Hp(this))throw Up("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!Hp(this))throw Up("size");return Dy}};function Up(e){return new TypeError(`ByteLengthQueuingStrategy.prototype.${e} can only be used on a ByteLengthQueuingStrategy`)}function Hp(e){return!!ot(e)&&!!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")&&e instanceof Cl}Object.defineProperties(Cl.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof Ee.toStringTag=="symbol"&&Object.defineProperty(Cl.prototype,Ee.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});var zy=()=>1;Se(zy,"size");var Il=class{constructor(e){Or(e,1,"CountQueuingStrategy"),e=By(e,"First parameter"),this._countQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!Vp(this))throw Wp("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!Vp(this))throw Wp("size");return zy}};function Wp(e){return new TypeError(`CountQueuingStrategy.prototype.${e} can only be used on a CountQueuingStrategy`)}function Vp(e){return!!ot(e)&&!!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")&&e instanceof Il}function wA(e,r,n){return er(e,n),i=>Rn(e,r,[i])}function EA(e,r,n){return er(e,n),i=>oa(e,r,[i])}function SA(e,r,n){return er(e,n),(i,s)=>Rn(e,r,[i,s])}Object.defineProperties(Il.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof Ee.toStringTag=="symbol"&&Object.defineProperty(Il.prototype,Ee.toStringTag,{value:"CountQueuingStrategy",configurable:!0});var jl=class{constructor(e={},r={},n={}){e===void 0&&(e=null);let i=Ms(r,"Second parameter"),s=Ms(n,"Third parameter"),u=function(d,m){Rr(d,m);let _=d?.flush,A=d?.readableType,P=d?.start,R=d?.transform,V=d?.writableType;return{flush:_===void 0?void 0:wA(_,d,`${m} has member 'flush' that`),readableType:A,start:P===void 0?void 0:EA(P,d,`${m} has member 'start' that`),transform:R===void 0?void 0:SA(R,d,`${m} has member 'transform' that`),writableType:V}}(e,"First parameter");if(u.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(u.writableType!==void 0)throw new RangeError("Invalid writableType specified");let l=Qo(s,0),c=Ns(s),h=Qo(i,1),p=Ns(i),y;(function(d,m,_,A,P,R){function V(){return m}function z(C){return function(k,L){let H=k._transformStreamController;return k._backpressure?Qt(k._backpressureChangePromise,()=>{if((ur(k._writable)?k._writable._state:k._writableState)==="erroring")throw ur(k._writable)?k._writable._storedError:k._writableStoredError;return Kp(H,L)}):Kp(H,L)}(d,C)}function S(C){return function(k,L){return zs(k,L),Oe(void 0)}(d,C)}function B(){return function(C){let k=C._transformStreamController,L=k._flushAlgorithm();return Fy(k),Qt(L,()=>{if(C._readableState==="errored")throw C._readableStoredError;Us(C)&&Hy(C)},H=>{throw zs(C,H),C._readableStoredError})}(d)}function v(){return function(C){return Fs(C,!1),C._backpressureChangePromise}(d)}function q(C){return ua(d,C),Oe(void 0)}d._writableState="writable",d._writableStoredError=void 0,d._writableHasInFlightOperation=!1,d._writableStarted=!1,d._writable=function(C,k,L,H,Y,ne,T){return new gn({start(E){C._writableController=E;try{let N=E.signal;N!==void 0&&N.addEventListener("abort",()=>{C._writableState==="writable"&&(C._writableState="erroring",N.reason&&(C._writableStoredError=N.reason))})}catch{}return Qt(k(),()=>(C._writableStarted=!0,Yp(C),null),N=>{throw C._writableStarted=!0,vl(C,N),N})},write:E=>(function(N){N._writableHasInFlightOperation=!0}(C),Qt(L(E),()=>(function(N){N._writableHasInFlightOperation=!1}(C),Yp(C),null),N=>{throw function(F,j){F._writableHasInFlightOperation=!1,vl(F,j)}(C,N),N})),close:()=>(function(E){E._writableHasInFlightOperation=!0}(C),Qt(H(),()=>(function(E){E._writableHasInFlightOperation=!1,E._writableState==="erroring"&&(E._writableStoredError=void 0),E._writableState="closed"}(C),null),E=>{throw function(N,F){N._writableHasInFlightOperation=!1,N._writableState,vl(N,F)}(C,E),E})),abort:E=>(C._writableState="errored",C._writableStoredError=E,Y(E))},{highWaterMark:ne,size:T})}(d,V,z,B,S,_,A),d._readableState="readable",d._readableStoredError=void 0,d._readableCloseRequested=!1,d._readablePulling=!1,d._readable=function(C,k,L,H,Y,ne){return new et({start:T=>(C._readableController=T,k().catch(E=>{Hs(C,E)})),pull:()=>(C._readablePulling=!0,L().catch(T=>{Hs(C,T)})),cancel:T=>(C._readableState="closed",H(T))},{highWaterMark:Y,size:ne})}(d,V,v,q,P,R),d._backpressure=void 0,d._backpressureChangePromise=void 0,d._backpressureChangePromise_resolve=void 0,Fs(d,!0),d._transformStreamController=void 0})(this,ct(d=>{y=d}),h,p,l,c),function(d,m){let _=Object.create(bn.prototype),A,P;A=m.transform!==void 0?R=>m.transform(R,_):R=>{try{return Uy(_,R),Oe(void 0)}catch(V){return de(V)}},P=m.flush!==void 0?()=>m.flush(_):()=>Oe(void 0),function(R,V,z,S){V._controlledTransformStream=R,R._transformStreamController=V,V._transformAlgorithm=z,V._flushAlgorithm=S}(d,_,A,P)}(this,u),u.start!==void 0?y(u.start(this._transformStreamController)):y(void 0)}get readable(){if(!Gp(this))throw Jp("readable");return this._readable}get writable(){if(!Gp(this))throw Jp("writable");return this._writable}};function Gp(e){return!!ot(e)&&!!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")&&e instanceof jl}function zs(e,r){Hs(e,r),ua(e,r)}function ua(e,r){Fy(e._transformStreamController),function(n,i){n._writableController.error(i),n._writableState==="writable"&&Vy(n,i)}(e,r),e._backpressure&&Fs(e,!1)}function Fs(e,r){e._backpressureChangePromise!==void 0&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=ct(n=>{e._backpressureChangePromise_resolve=n}),e._backpressure=r}Object.defineProperties(jl.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof Ee.toStringTag=="symbol"&&Object.defineProperty(jl.prototype,Ee.toStringTag,{value:"TransformStream",configurable:!0});var bn=class{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!ws(this))throw Es("desiredSize");return Wy(this._controlledTransformStream)}enqueue(e){if(!ws(this))throw Es("enqueue");Uy(this,e)}error(e){if(!ws(this))throw Es("error");var r;r=e,zs(this._controlledTransformStream,r)}terminate(){if(!ws(this))throw Es("terminate");(function(e){let r=e._controlledTransformStream;Us(r)&&Hy(r);let n=new TypeError("TransformStream terminated");ua(r,n)})(this)}};function ws(e){return!!ot(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")&&e instanceof bn}function Fy(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0}function Uy(e,r){let n=e._controlledTransformStream;if(!Us(n))throw new TypeError("Readable side is not in a state that permits enqueue");try{(function(i,s){i._readablePulling=!1;try{i._readableController.enqueue(s)}catch(u){throw Hs(i,u),u}})(n,r)}catch(i){throw ua(n,i),n._readableStoredError}(function(i){return!function(s){return Us(s)?!!(s._readablePulling||Wy(s)>0):!1}(i)})(n)!==n._backpressure&&Fs(n,!0)}function Kp(e,r){return Qt(e._transformAlgorithm(r),void 0,n=>{throw zs(e._controlledTransformStream,n),n})}function Es(e){return new TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`)}function Jp(e){return new TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`)}function Us(e){return!e._readableCloseRequested&&e._readableState==="readable"}function Hy(e){e._readableState="closed",e._readableCloseRequested=!0,e._readableController.close()}function Hs(e,r){e._readableState==="readable"&&(e._readableState="errored",e._readableStoredError=r),e._readableController.error(r)}function Wy(e){return e._readableController.desiredSize}function vl(e,r){e._writableState!=="writable"?bc(e):Vy(e,r)}function Vy(e,r){e._writableState="erroring",e._writableStoredError=r,!function(n){return n._writableHasInFlightOperation}(e)&&e._writableStarted&&bc(e)}function bc(e){e._writableState="errored"}function Yp(e){e._writableState==="erroring"&&bc(e)}Object.defineProperties(bn.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),Se(bn.prototype.enqueue,"enqueue"),Se(bn.prototype.error,"error"),Se(bn.prototype.terminate,"terminate"),typeof Ee.toStringTag=="symbol"&&Object.defineProperty(bn.prototype,Ee.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});var Gy=65536;async function*TA(e){let r=e.byteOffset+e.byteLength,n=e.byteOffset;for(;n!==r;){let i=Math.min(r-n,Gy),s=e.buffer.slice(n,n+i);n+=s.byteLength,yield new Uint8Array(s)}}async function*RA(e){let r=0;for(;r!==e.size;){let n=await e.slice(r,Math.min(e.size,r+Gy)).arrayBuffer();r+=n.byteLength,yield new Uint8Array(n)}}async function*bl(e,r=!1){for(let n of e)ArrayBuffer.isView(n)?r?yield*TA(n):yield n:Qe(n.stream)?yield*n.stream():yield*RA(n)}function*OA(e,r,n=0,i){i??(i=r);let s=n<0?Math.max(r+n,0):Math.min(n,r),u=i<0?Math.max(r+i,0):Math.min(i,r),l=Math.max(u-s,0),c=0;for(let h of e){if(c>=l)break;let p=ArrayBuffer.isView(h)?h.byteLength:h.size;if(s&&p<=s)s-=p,u-=p;else{let y;ArrayBuffer.isView(h)?(y=h.subarray(s,Math.min(p,u)),c+=y.byteLength):(y=h.slice(s,Math.min(p,u)),c+=y.size),u-=p,s=0,yield y}}}var Hr=function(e,r,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?e!==r||!i:!r.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(e):i?i.value:r.get(e)},Qp=function(e,r,n,i,s){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?e!==r||!s:!r.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?s.call(e,n):s?s.value=n:r.set(e,n),n},cn,Ss,Fo,no=class{constructor(e=[],r={}){if(cn.set(this,[]),Ss.set(this,""),Fo.set(this,0),r??(r={}),typeof e!="object"||e===null)throw new TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if(!Qe(e[Symbol.iterator]))throw new TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if(typeof r!="object"&&!Qe(r))throw new TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");let n=new TextEncoder;for(let s of e){let u;ArrayBuffer.isView(s)?u=new Uint8Array(s.buffer.slice(s.byteOffset,s.byteOffset+s.byteLength)):s instanceof ArrayBuffer?u=new Uint8Array(s.slice(0)):s instanceof no?u=s:u=n.encode(String(s)),Qp(this,Fo,Hr(this,Fo,"f")+(ArrayBuffer.isView(u)?u.byteLength:u.size),"f"),Hr(this,cn,"f").push(u)}let i=r.type===void 0?"":String(r.type);Qp(this,Ss,/^[\x20-\x7E]*$/.test(i)?i:"","f")}static[(cn=new WeakMap,Ss=new WeakMap,Fo=new WeakMap,Symbol.hasInstance)](e){return Boolean(e&&typeof e=="object"&&Qe(e.constructor)&&(Qe(e.stream)||Qe(e.arrayBuffer))&&/^(Blob|File)$/.test(e[Symbol.toStringTag]))}get type(){return Hr(this,Ss,"f")}get size(){return Hr(this,Fo,"f")}slice(e,r,n){return new no(OA(Hr(this,cn,"f"),this.size,e,r),{type:n})}async text(){let e=new TextDecoder,r="";for await(let n of bl(Hr(this,cn,"f")))r+=e.decode(n,{stream:!0});return r+=e.decode(),r}async arrayBuffer(){let e=new Uint8Array(this.size),r=0;for await(let n of bl(Hr(this,cn,"f")))e.set(n,r),r+=n.length;return e.buffer}stream(){let e=bl(Hr(this,cn,"f"),!0);return new et({async pull(r){let{value:n,done:i}=await e.next();if(i)return queueMicrotask(()=>r.close());r.enqueue(n)},async cancel(){await e.return()}})}get[Symbol.toStringTag](){return"Blob"}};Object.defineProperties(no.prototype,{type:{enumerable:!0},size:{enumerable:!0},slice:{enumerable:!0},stream:{enumerable:!0},text:{enumerable:!0},arrayBuffer:{enumerable:!0}});var xA=e=>e instanceof no,Xp=function(e,r,n,i,s){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?e!==r||!s:!r.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?s.call(e,n):s?s.value=n:r.set(e,n),n},Zp=function(e,r,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?e!==r||!i:!r.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(e):i?i.value:r.get(e)},Ts,Rs,Ws=class extends no{constructor(e,r,n={}){if(super(e,n),Ts.set(this,void 0),Rs.set(this,0),arguments.length<2)throw new TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);Xp(this,Ts,String(r),"f");let i=n.lastModified===void 0?Date.now():Number(n.lastModified);Number.isNaN(i)||Xp(this,Rs,i,"f")}static[(Ts=new WeakMap,Rs=new WeakMap,Symbol.hasInstance)](e){return e instanceof no&&e[Symbol.toStringTag]==="File"&&typeof e.name=="string"}get name(){return Zp(this,Ts,"f")}get webkitRelativePath(){return""}get lastModified(){return Zp(this,Rs,"f")}get[Symbol.toStringTag](){return"File"}},AA=e=>e instanceof Ws,ir=function(e,r,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?e!==r||!i:!r.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(e):i?i.value:r.get(e)},Os,sr,_l,kA=class{constructor(){Os.add(this),sr.set(this,new Map)}static[(sr=new WeakMap,Os=new WeakSet,Symbol.hasInstance)](e){if(!e)return!1;let r=e;return Boolean(Qe(r.constructor)&&r[Symbol.toStringTag]==="FormData"&&Qe(r.append)&&Qe(r.set)&&Qe(r.get)&&Qe(r.getAll)&&Qe(r.has)&&Qe(r.delete)&&Qe(r.entries)&&Qe(r.values)&&Qe(r.keys)&&Qe(r[Symbol.iterator])&&Qe(r.forEach))}append(e,r,n){ir(this,Os,"m",_l).call(this,{name:e,fileName:n,append:!0,rawValue:r,argsLength:arguments.length})}set(e,r,n){ir(this,Os,"m",_l).call(this,{name:e,fileName:n,append:!1,rawValue:r,argsLength:arguments.length})}get(e){let r=ir(this,sr,"f").get(String(e));return r?r[0]:null}getAll(e){let r=ir(this,sr,"f").get(String(e));return r?r.slice():[]}has(e){return ir(this,sr,"f").has(String(e))}delete(e){ir(this,sr,"f").delete(String(e))}*keys(){for(let e of ir(this,sr,"f").keys())yield e}*entries(){for(let e of this.keys()){let r=this.getAll(e);for(let n of r)yield[e,n]}}*values(){for(let[,e]of this)yield e}[(_l=function({name:e,rawValue:r,append:n,fileName:i,argsLength:s}){let u=n?"append":"set";if(s<2)throw new TypeError(`Failed to execute '${u}' on 'FormData': 2 arguments required, but only ${s} present.`);e=String(e);let l;if(AA(r))l=i===void 0?r:new Ws([r],i,{type:r.type,lastModified:r.lastModified});else if(xA(r))l=new Ws([r],i===void 0?"blob":i,{type:r.type});else{if(i)throw new TypeError(`Failed to execute '${u}' on 'FormData': parameter 2 is not of type 'Blob'.`);l=String(r)}let c=ir(this,sr,"f").get(e);if(!c)return void ir(this,sr,"f").set(e,[l]);if(!n)return void ir(this,sr,"f").set(e,[l]);c.push(l)},Symbol.iterator)](){return this.entries()}forEach(e,r){for(let[n,i]of this)e.call(r,i,n,this)}get[Symbol.toStringTag](){return"FormData"}},PA=require("node:fs"),Ky=require("node:fs/promises"),CA=require("node:path"),IA=He(zT(),1),jA=e=>Object.prototype.toString.call(e).slice(8,-1).toLowerCase();function qA(e){if(jA(e)!=="object")return!1;let r=Object.getPrototypeOf(e);return r==null?!0:(r.constructor&&r.constructor.toString())===Object.toString()}var $A=qA,em=function(e,r,n,i,s){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?e!==r||!s:!r.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?s.call(e,n):s?s.value=n:r.set(e,n),n},hn=function(e,r,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?e!==r||!i:!r.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(e):i?i.value:r.get(e)},fn,Gn,LA="The requested file could not be read, typically due to permission problems that have occurred after a reference to a file was acquired.",Jy=class{constructor(e){fn.set(this,void 0),Gn.set(this,void 0),em(this,fn,e.path,"f"),em(this,Gn,e.start||0,"f"),this.name=(0,CA.basename)(hn(this,fn,"f")),this.size=e.size,this.lastModified=e.lastModified}slice(e,r){return new Jy({path:hn(this,fn,"f"),lastModified:this.lastModified,start:hn(this,Gn,"f")+e,size:r-e})}async*stream(){let{mtimeMs:e}=await(0,Ky.stat)(hn(this,fn,"f"));if(e>this.lastModified)throw new IA.default(LA,"NotReadableError");this.size&&(yield*(0,PA.createReadStream)(hn(this,fn,"f"),{start:hn(this,Gn,"f"),end:hn(this,Gn,"f")+this.size-1}))}get[(fn=new WeakMap,Gn=new WeakMap,Symbol.toStringTag)](){return"File"}};function NA(e,{mtimeMs:r,size:n},i,s={}){let u;$A(i)?[s,u]=[i,void 0]:u=i;let l=new Jy({path:e,size:n,lastModified:r});return u||(u=l.name),new Ws([l],u,{...s,lastModified:l.lastModified})}async function MA(e,r,n){let i=await(0,Ky.stat)(e);return NA(e,i,r,n)}var BA=He(RR(),1),_c={apiKey:"API Key is required. To get one: https://addons.mozilla.org/en-US/developers/addon/api/key",apiSecret:"API Secret is required. To get one: https://addons.mozilla.org/en-US/developers/addon/api/key"},DA=Object.keys(_c),tm="https://addons.mozilla.org/api",zA=class{options={};get productEndpoint(){return`${tm}/v5/addons/${encodeURIComponent(this.options.extId)}`}constructor(e){for(let r of DA){if(!e[r])throw new Error(_c[r]);this.options[r]=e[r]}typeof e.extId=="string"&&e.extId.length>0&&!e.extId.includes("@")&&(e.extId.startsWith("{")||(e.extId="{"+e.extId),e.extId.endsWith("}")||(e.extId+="}")),this.options.extId=e.extId}submit=async({filePath:e,version:r="1.0.0"})=>{let n=`${this.productEndpoint}/versions/${encodeURIComponent(r)}/`,i=new kA;i.append("upload",await MA(e));let s=await this.getAccessToken(),u=await Mt.put(n,{throwHttpErrors:!1,body:i,headers:{Authorization:`JWT ${s}`}});if(u.statusCode>=400)throw u.statusCode===401?new Error("Invalid access token"):u.statusCode===403?new Error("You do not own this add-on"):u.statusCode===409?new Error(`Version ${r} already exists`):(console.log(u.body),new Error(JSON.parse(u.body).error||"Unknown error"));return JSON.parse(u.body)};getUploadStatus=async({version:e="1.0.0"})=>{let r=await this.getAccessToken(),n=`${this.productEndpoint}/versions/${encodeURIComponent(e)}/`;return Mt.get(n,{headers:{Authorization:`JWT ${r}`}}).json()};getProfile=async()=>{let e=await this.getAccessToken(),r=`${tm}/v5/accounts/profile`;return Mt.get(r,{headers:{Authorization:`JWT ${e}`}}).json()};getAccessToken=async()=>{let e=Math.floor(Date.now()/1e3),r={iss:this.options.apiKey,jti:Math.random().toString(),iat:e,exp:e+60*5};return BA.default.sign(r,this.options.apiSecret,{algorithm:"HS256"})}},Zo="firefox",FA=ec(Zo);function UA(e){return Tn(this,null,function*(){var r=e,{extId:n,zip:i,dryRun:s}=r,u=Ll(r,["extId","zip","dryRun"]),l,c,h,p;let y=ta(i),d=((c=(l=y.browser_specific_settings)==null?void 0:l.gecko)==null?void 0:c.id)||((p=(h=y.applications)==null?void 0:h.gecko)==null?void 0:p.id)||n,m=new zA($l({extId:d},u));if(FA(`Updating extension with ID ${d}`),s)return!0;try{return yield m.submit({filePath:i,version:y.version}),Zl({extId:d,market:Zo,zip:i}),!0}catch(_){throw tc(_,Zo,`"${d}" (${y.name})`)}})}function HA(e){return Tn(this,null,function*(){return e.zip=ea(e),e.verbose&&ra(Zo),na({market:Zo,options:e,errorMap:_c}),UA(e)})}var WA={packageId:"No package ID is provided, e.g. https://addons.opera.com/developer/package/PACKAGE_ID",sessionid:`No "sessionid" is provided. If you have a hard time obtaining it, run:
web-ext-deploy --get-cookies=opera`,csrftoken:`No "csrftoken" is provided. If you have a hard time obtaining it, run:
web-ext-deploy --get-cookies=opera`},rm="opera";function VA(e){return Tn(this,null,function*(){throw e.zip=ea(e),e.changelog&&(e.changelog=e.changelog.replace(/\/\/n/g,`
`)),e.verbose&&ra(rm),na({market:rm,options:e,errorMap:WA}),new Error("Opera submission is not supported at this time, due to lack of automation API - their CSRF token and cookies expires in 24 hours. It will be faster to just drag/drop the zip on their dev portal.")})}});var Me=Po(Vu()),Dt=Po(Qy());var oi=e=>`${e.padEnd(9)} |`,Zy=e=>e.zip||e.file,Xy=e=>!!Zy(e);function GA(){return ed(this,null,function*(){try{(0,Me.info)("\u{1F7E3} Plasmo Browser Platform Publish v3");let e=JSON.parse((0,Me.getInput)("keys",{required:!0})),r=(0,Me.getInput)("file")||(0,Me.getInput)("zip")||(0,Me.getInput)("artifact"),n=(0,Me.getInput)("version-file"),i=(0,Me.getInput)("notes")||(0,Me.getInput)("edge-notes"),s=!!(0,Me.getInput)("verbose");s&&(console.log=Me.info);let u=Object.keys(e).filter(p=>Dt.supportedBrowserSet.has(p));if(u.length===0)throw new Error("No supported browser found");for(let p of u){let y=(0,Me.getInput)(`${p}-file`),d=Zy(e[p]);y?e[p].zip=y:d?e[p].zip=d:r?e[p].zip=r:(0,Me.warning)(`${oi("\u{1F7E1} SKIP")} No artifact available to submit for ${p}`),s&&(e[p].verbose=s),n&&(e[p].versionFile=n)}if(!u.some(p=>Xy(e[p])))throw new Error("No artifact found for deployment");if(e.edge&&i&&(e.edge.notes=i),process.env.NODE_ENV==="test"){(0,Me.debug)(JSON.stringify({artifact:r,versionFile:n,verbose:s})),(0,Me.debug)(u.join(","));return}let c=u.map(p=>{if(!Xy(e[p]))return!1;switch((0,Me.info)(`${oi("\u{1F7E1} QUEUE")} Prepare for ${p} submission`),p){case Dt.BrowserName.Chrome:return(0,Dt.submitChrome)(e[p]);case Dt.BrowserName.Firefox:return(0,Dt.submitFirefox)(e[p]);case Dt.BrowserName.Edge:return(0,Dt.submitEdge)(e[p])}});(yield Promise.allSettled(c)).forEach((p,y)=>{p.status==="rejected"?(0,Me.setFailed)(`${oi("\u{1F534} ERROR")} ${p.reason}`):p.value&&(0,Me.info)(`${oi("\u{1F7E2} DONE")} ${u[y]} submission successful`)})}catch(e){e instanceof Error&&(0,Me.setFailed)(`${oi("\u{1F534} ERROR")} ${e.message}`)}})}GA();
/*! Bundled license information:

node-domexception/index.js:
  (*! node-domexception. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

lodash/lodash.js:
  (**
   * @license
   * Lodash <https://lodash.com/>
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)

web-streams-polyfill/dist/ponyfill.mjs:
  (**
   * @license
   * web-streams-polyfill v4.0.0-beta.3
   * Copyright 2021 Mattias Buelens, Diwank Singh Tomer and other contributors.
   * This code is released under the MIT license.
   * SPDX-License-Identifier: MIT
   *)

formdata-node/lib/blobHelpers.js:
  (*! Based on fetch-blob. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> & David Frank *)

formdata-node/lib/Blob.js:
  (*! Based on fetch-blob. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> & David Frank *)
*/
