"use strict";var NC=Object.create;var Ul=Object.defineProperty;var xC=Object.getOwnPropertyDescriptor;var UC=Object.getOwnPropertyNames;var DC=Object.getPrototypeOf,jC=Object.prototype.hasOwnProperty;var rn=(e,t)=>()=>(e&&(t=e(e=0)),t);var Pn=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),qC=(e,t)=>{for(var r in t)Ul(e,r,{get:t[r],enumerable:!0})},Ny=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of UC(t))!jC.call(e,i)&&i!==r&&Ul(e,i,{get:()=>t[i],enumerable:!(n=xC(t,i))||n.enumerable});return e};var ou=(e,t,r)=>(r=e!=null?NC(DC(e)):{},Ny(t||!e||!e.__esModule?Ul(r,"default",{value:e,enumerable:!0}):r,e)),MC=e=>Ny(Ul({},"__esModule",{value:!0}),e);var Dl=Pn(rs=>{"use strict";Object.defineProperty(rs,"__esModule",{value:!0});rs.toCommandProperties=rs.toCommandValue=void 0;function VC(e){return e==null?"":typeof e=="string"||e instanceof String?e:JSON.stringify(e)}rs.toCommandValue=VC;function FC(e){return Object.keys(e).length?{title:e.title,file:e.file,line:e.startLine,endLine:e.endLine,col:e.startColumn,endColumn:e.endColumn}:{}}rs.toCommandProperties=FC});var jy=Pn($n=>{"use strict";var $C=$n&&$n.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),zC=$n&&$n.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),HC=$n&&$n.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&$C(t,e,r);return zC(t,e),t};Object.defineProperty($n,"__esModule",{value:!0});$n.issue=$n.issueCommand=void 0;var KC=HC(require("os")),Uy=Dl();function Dy(e,t,r){let n=new Af(e,t,r);process.stdout.write(n.toString()+KC.EOL)}$n.issueCommand=Dy;function WC(e,t=""){Dy(e,{},t)}$n.issue=WC;var xy="::",Af=class{constructor(t,r,n){t||(t="missing.command"),this.command=t,this.properties=r,this.message=n}toString(){let t=xy+this.command;if(this.properties&&Object.keys(this.properties).length>0){t+=" ";let r=!0;for(let n in this.properties)if(this.properties.hasOwnProperty(n)){let i=this.properties[n];i&&(r?r=!1:t+=",",t+=`${n}=${QC(i)}`)}}return t+=`${xy}${GC(this.message)}`,t}};function GC(e){return Uy.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function QC(e){return Uy.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}});function au(){return jl>ql.length-16&&(qy.default.randomFillSync(ql),jl=0),ql.slice(jl,jl+=16)}var qy,ql,jl,kf=rn(()=>{qy=ou(require("crypto")),ql=new Uint8Array(256),jl=ql.length});var My,Vy=rn(()=>{My=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function YC(e){return typeof e=="string"&&My.test(e)}var Oo,su=rn(()=>{Vy();Oo=YC});function XC(e,t=0){let r=(Ur[e[t+0]]+Ur[e[t+1]]+Ur[e[t+2]]+Ur[e[t+3]]+"-"+Ur[e[t+4]]+Ur[e[t+5]]+"-"+Ur[e[t+6]]+Ur[e[t+7]]+"-"+Ur[e[t+8]]+Ur[e[t+9]]+"-"+Ur[e[t+10]]+Ur[e[t+11]]+Ur[e[t+12]]+Ur[e[t+13]]+Ur[e[t+14]]+Ur[e[t+15]]).toLowerCase();if(!Oo(r))throw TypeError("Stringified UUID is invalid");return r}var Ur,Po,uu=rn(()=>{su();Ur=[];for(let e=0;e<256;++e)Ur.push((e+256).toString(16).substr(1));Po=XC});function JC(e,t,r){let n=t&&r||0,i=t||new Array(16);e=e||{};let u=e.node||Fy,c=e.clockseq!==void 0?e.clockseq:Of;if(u==null||c==null){let g=e.random||(e.rng||au)();u==null&&(u=Fy=[g[0]|1,g[1],g[2],g[3],g[4],g[5]]),c==null&&(c=Of=(g[6]<<8|g[7])&16383)}let s=e.msecs!==void 0?e.msecs:Date.now(),h=e.nsecs!==void 0?e.nsecs:Bf+1,a=s-Pf+(h-Bf)/1e4;if(a<0&&e.clockseq===void 0&&(c=c+1&16383),(a<0||s>Pf)&&e.nsecs===void 0&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Pf=s,Bf=h,Of=c,s+=122192928e5;let d=((s&268435455)*1e4+h)%4294967296;i[n++]=d>>>24&255,i[n++]=d>>>16&255,i[n++]=d>>>8&255,i[n++]=d&255;let f=s/4294967296*1e4&268435455;i[n++]=f>>>8&255,i[n++]=f&255,i[n++]=f>>>24&15|16,i[n++]=f>>>16&255,i[n++]=c>>>8|128,i[n++]=c&255;for(let g=0;g<6;++g)i[n+g]=u[g];return t||Po(i)}var Fy,Of,Pf,Bf,$y,zy=rn(()=>{kf();uu();Pf=0,Bf=0;$y=JC});function ZC(e){if(!Oo(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var Ml,Lf=rn(()=>{su();Ml=ZC});function eT(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}function Vl(e,t,r){function n(i,u,c,s){if(typeof i=="string"&&(i=eT(i)),typeof u=="string"&&(u=Ml(u)),u.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let h=new Uint8Array(16+i.length);if(h.set(u),h.set(i,u.length),h=r(h),h[6]=h[6]&15|t,h[8]=h[8]&63|128,c){s=s||0;for(let a=0;a<16;++a)c[s+a]=h[a];return c}return Po(h)}try{n.name=e}catch{}return n.DNS=tT,n.URL=rT,n}var tT,rT,Nf=rn(()=>{uu();Lf();tT="6ba7b810-9dad-11d1-80b4-00c04fd430c8",rT="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function nT(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),Hy.default.createHash("md5").update(e).digest()}var Hy,Ky,Wy=rn(()=>{Hy=ou(require("crypto"));Ky=nT});var iT,Gy,Qy=rn(()=>{Nf();Wy();iT=Vl("v3",48,Ky),Gy=iT});function oT(e,t,r){e=e||{};let n=e.random||(e.rng||au)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let i=0;i<16;++i)t[r+i]=n[i];return t}return Po(n)}var Yy,Xy=rn(()=>{kf();uu();Yy=oT});function aT(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),Jy.default.createHash("sha1").update(e).digest()}var Jy,Zy,eg=rn(()=>{Jy=ou(require("crypto"));Zy=aT});var sT,tg,rg=rn(()=>{Nf();eg();sT=Vl("v5",80,Zy),tg=sT});var ng,ig=rn(()=>{ng="00000000-0000-0000-0000-000000000000"});function uT(e){if(!Oo(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}var og,ag=rn(()=>{su();og=uT});var sg={};qC(sg,{NIL:()=>ng,parse:()=>Ml,stringify:()=>Po,v1:()=>$y,v3:()=>Gy,v4:()=>Yy,v5:()=>tg,validate:()=>Oo,version:()=>og});var ug=rn(()=>{zy();Qy();Xy();rg();ig();ag();su();uu();Lf()});var fg=Pn(zn=>{"use strict";var lT=zn&&zn.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),cT=zn&&zn.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),cg=zn&&zn.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&lT(t,e,r);return cT(t,e),t};Object.defineProperty(zn,"__esModule",{value:!0});zn.prepareKeyValueMessage=zn.issueFileCommand=void 0;var lg=cg(require("fs")),xf=cg(require("os")),hT=(ug(),MC(sg)),hg=Dl();function fT(e,t){let r=process.env[`GITHUB_${e}`];if(!r)throw new Error(`Unable to find environment variable for file command ${e}`);if(!lg.existsSync(r))throw new Error(`Missing file at path: ${r}`);lg.appendFileSync(r,`${hg.toCommandValue(t)}${xf.EOL}`,{encoding:"utf8"})}zn.issueFileCommand=fT;function dT(e,t){let r=`ghadelimiter_${hT.v4()}`,n=hg.toCommandValue(t);if(e.includes(r))throw new Error(`Unexpected input: name should not contain the delimiter "${r}"`);if(n.includes(r))throw new Error(`Unexpected input: value should not contain the delimiter "${r}"`);return`${e}<<${r}${xf.EOL}${n}${xf.EOL}${r}`}zn.prepareKeyValueMessage=dT});var pg=Pn(ns=>{"use strict";Object.defineProperty(ns,"__esModule",{value:!0});ns.checkBypass=ns.getProxyUrl=void 0;function pT(e){let t=e.protocol==="https:";if(dg(e))return;let r=(()=>t?process.env.https_proxy||process.env.HTTPS_PROXY:process.env.http_proxy||process.env.HTTP_PROXY)();if(r)return new URL(r)}ns.getProxyUrl=pT;function dg(e){if(!e.hostname)return!1;let t=e.hostname;if(yT(t))return!0;let r=process.env.no_proxy||process.env.NO_PROXY||"";if(!r)return!1;let n;e.port?n=Number(e.port):e.protocol==="http:"?n=80:e.protocol==="https:"&&(n=443);let i=[e.hostname.toUpperCase()];typeof n=="number"&&i.push(`${i[0]}:${n}`);for(let u of r.split(",").map(c=>c.trim().toUpperCase()).filter(c=>c))if(u==="*"||i.some(c=>c===u||c.endsWith(`.${u}`)||u.startsWith(".")&&c.endsWith(`${u}`)))return!0;return!1}ns.checkBypass=dg;function yT(e){let t=e.toLowerCase();return t==="localhost"||t.startsWith("127.")||t.startsWith("[::1]")||t.startsWith("[0:0:0:0:0:0:0:1]")}});var vg=Pn(is=>{"use strict";var Ek=require("net"),gT=require("tls"),Uf=require("http"),yg=require("https"),mT=require("events"),Sk=require("assert"),vT=require("util");is.httpOverHttp=bT;is.httpsOverHttp=_T;is.httpOverHttps=wT;is.httpsOverHttps=ET;function bT(e){var t=new to(e);return t.request=Uf.request,t}function _T(e){var t=new to(e);return t.request=Uf.request,t.createSocket=gg,t.defaultPort=443,t}function wT(e){var t=new to(e);return t.request=yg.request,t}function ET(e){var t=new to(e);return t.request=yg.request,t.createSocket=gg,t.defaultPort=443,t}function to(e){var t=this;t.options=e||{},t.proxyOptions=t.options.proxy||{},t.maxSockets=t.options.maxSockets||Uf.Agent.defaultMaxSockets,t.requests=[],t.sockets=[],t.on("free",function(n,i,u,c){for(var s=mg(i,u,c),h=0,a=t.requests.length;h<a;++h){var d=t.requests[h];if(d.host===s.host&&d.port===s.port){t.requests.splice(h,1),d.request.onSocket(n);return}}n.destroy(),t.removeSocket(n)})}vT.inherits(to,mT.EventEmitter);to.prototype.addRequest=function(t,r,n,i){var u=this,c=Df({request:t},u.options,mg(r,n,i));if(u.sockets.length>=this.maxSockets){u.requests.push(c);return}u.createSocket(c,function(s){s.on("free",h),s.on("close",a),s.on("agentRemove",a),t.onSocket(s);function h(){u.emit("free",s,c)}function a(d){u.removeSocket(s),s.removeListener("free",h),s.removeListener("close",a),s.removeListener("agentRemove",a)}})};to.prototype.createSocket=function(t,r){var n=this,i={};n.sockets.push(i);var u=Df({},n.proxyOptions,{method:"CONNECT",path:t.host+":"+t.port,agent:!1,headers:{host:t.host+":"+t.port}});t.localAddress&&(u.localAddress=t.localAddress),u.proxyAuth&&(u.headers=u.headers||{},u.headers["Proxy-Authorization"]="Basic "+new Buffer(u.proxyAuth).toString("base64")),Bo("making CONNECT request");var c=n.request(u);c.useChunkedEncodingByDefault=!1,c.once("response",s),c.once("upgrade",h),c.once("connect",a),c.once("error",d),c.end();function s(f){f.upgrade=!0}function h(f,g,R){process.nextTick(function(){a(f,g,R)})}function a(f,g,R){if(c.removeAllListeners(),g.removeAllListeners(),f.statusCode!==200){Bo("tunneling socket could not be established, statusCode=%d",f.statusCode),g.destroy();var S=new Error("tunneling socket could not be established, statusCode="+f.statusCode);S.code="ECONNRESET",t.request.emit("error",S),n.removeSocket(i);return}if(R.length>0){Bo("got illegal response body from proxy"),g.destroy();var S=new Error("got illegal response body from proxy");S.code="ECONNRESET",t.request.emit("error",S),n.removeSocket(i);return}return Bo("tunneling connection has established"),n.sockets[n.sockets.indexOf(i)]=g,r(g)}function d(f){c.removeAllListeners(),Bo(`tunneling socket could not be established, cause=%s
`,f.message,f.stack);var g=new Error("tunneling socket could not be established, cause="+f.message);g.code="ECONNRESET",t.request.emit("error",g),n.removeSocket(i)}};to.prototype.removeSocket=function(t){var r=this.sockets.indexOf(t);if(r!==-1){this.sockets.splice(r,1);var n=this.requests.shift();n&&this.createSocket(n,function(i){n.request.onSocket(i)})}};function gg(e,t){var r=this;to.prototype.createSocket.call(r,e,function(n){var i=e.request.getHeader("host"),u=Df({},r.options,{socket:n,servername:i?i.replace(/:.*$/,""):e.host}),c=gT.connect(0,u);r.sockets[r.sockets.indexOf(n)]=c,t(c)})}function mg(e,t,r){return typeof e=="string"?{host:e,port:t,localAddress:r}:e}function Df(e){for(var t=1,r=arguments.length;t<r;++t){var n=arguments[t];if(typeof n=="object")for(var i=Object.keys(n),u=0,c=i.length;u<c;++u){var s=i[u];n[s]!==void 0&&(e[s]=n[s])}}return e}var Bo;process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)?Bo=function(){var e=Array.prototype.slice.call(arguments);typeof e[0]=="string"?e[0]="TUNNEL: "+e[0]:e.unshift("TUNNEL:"),console.error.apply(console,e)}:Bo=function(){};is.debug=Bo});var _g=Pn((Tk,bg)=>{bg.exports=vg()});var Eg=Pn(Nt=>{"use strict";var ST=Nt&&Nt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),CT=Nt&&Nt.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Wl=Nt&&Nt.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&ST(t,e,r);return CT(t,e),t},wr=Nt&&Nt.__awaiter||function(e,t,r,n){function i(u){return u instanceof r?u:new r(function(c){c(u)})}return new(r||(r=Promise))(function(u,c){function s(d){try{a(n.next(d))}catch(f){c(f)}}function h(d){try{a(n.throw(d))}catch(f){c(f)}}function a(d){d.done?u(d.value):i(d.value).then(s,h)}a((n=n.apply(e,t||[])).next())})};Object.defineProperty(Nt,"__esModule",{value:!0});Nt.HttpClient=Nt.isHttps=Nt.HttpClientResponse=Nt.HttpClientError=Nt.getProxyUrl=Nt.MediaTypes=Nt.Headers=Nt.HttpCodes=void 0;var Fl=Wl(require("http")),jf=Wl(require("https")),wg=Wl(pg()),$l=Wl(_g()),Zn;(function(e){e[e.OK=200]="OK",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.ResourceMoved=302]="ResourceMoved",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.SwitchProxy=306]="SwitchProxy",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.TooManyRequests=429]="TooManyRequests",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout"})(Zn=Nt.HttpCodes||(Nt.HttpCodes={}));var nn;(function(e){e.Accept="accept",e.ContentType="content-type"})(nn=Nt.Headers||(Nt.Headers={}));var Lo;(function(e){e.ApplicationJson="application/json"})(Lo=Nt.MediaTypes||(Nt.MediaTypes={}));function TT(e){let t=wg.getProxyUrl(new URL(e));return t?t.href:""}Nt.getProxyUrl=TT;var RT=[Zn.MovedPermanently,Zn.ResourceMoved,Zn.SeeOther,Zn.TemporaryRedirect,Zn.PermanentRedirect],IT=[Zn.BadGateway,Zn.ServiceUnavailable,Zn.GatewayTimeout],AT=["OPTIONS","GET","DELETE","HEAD"],kT=10,OT=5,Hl=class e extends Error{constructor(t,r){super(t),this.name="HttpClientError",this.statusCode=r,Object.setPrototypeOf(this,e.prototype)}};Nt.HttpClientError=Hl;var Kl=class{constructor(t){this.message=t}readBody(){return wr(this,void 0,void 0,function*(){return new Promise(t=>wr(this,void 0,void 0,function*(){let r=Buffer.alloc(0);this.message.on("data",n=>{r=Buffer.concat([r,n])}),this.message.on("end",()=>{t(r.toString())})}))})}};Nt.HttpClientResponse=Kl;function PT(e){return new URL(e).protocol==="https:"}Nt.isHttps=PT;var qf=class{constructor(t,r,n){this._ignoreSslError=!1,this._allowRedirects=!0,this._allowRedirectDowngrade=!1,this._maxRedirects=50,this._allowRetries=!1,this._maxRetries=1,this._keepAlive=!1,this._disposed=!1,this.userAgent=t,this.handlers=r||[],this.requestOptions=n,n&&(n.ignoreSslError!=null&&(this._ignoreSslError=n.ignoreSslError),this._socketTimeout=n.socketTimeout,n.allowRedirects!=null&&(this._allowRedirects=n.allowRedirects),n.allowRedirectDowngrade!=null&&(this._allowRedirectDowngrade=n.allowRedirectDowngrade),n.maxRedirects!=null&&(this._maxRedirects=Math.max(n.maxRedirects,0)),n.keepAlive!=null&&(this._keepAlive=n.keepAlive),n.allowRetries!=null&&(this._allowRetries=n.allowRetries),n.maxRetries!=null&&(this._maxRetries=n.maxRetries))}options(t,r){return wr(this,void 0,void 0,function*(){return this.request("OPTIONS",t,null,r||{})})}get(t,r){return wr(this,void 0,void 0,function*(){return this.request("GET",t,null,r||{})})}del(t,r){return wr(this,void 0,void 0,function*(){return this.request("DELETE",t,null,r||{})})}post(t,r,n){return wr(this,void 0,void 0,function*(){return this.request("POST",t,r,n||{})})}patch(t,r,n){return wr(this,void 0,void 0,function*(){return this.request("PATCH",t,r,n||{})})}put(t,r,n){return wr(this,void 0,void 0,function*(){return this.request("PUT",t,r,n||{})})}head(t,r){return wr(this,void 0,void 0,function*(){return this.request("HEAD",t,null,r||{})})}sendStream(t,r,n,i){return wr(this,void 0,void 0,function*(){return this.request(t,r,n,i)})}getJson(t,r={}){return wr(this,void 0,void 0,function*(){r[nn.Accept]=this._getExistingOrDefaultHeader(r,nn.Accept,Lo.ApplicationJson);let n=yield this.get(t,r);return this._processResponse(n,this.requestOptions)})}postJson(t,r,n={}){return wr(this,void 0,void 0,function*(){let i=JSON.stringify(r,null,2);n[nn.Accept]=this._getExistingOrDefaultHeader(n,nn.Accept,Lo.ApplicationJson),n[nn.ContentType]=this._getExistingOrDefaultHeader(n,nn.ContentType,Lo.ApplicationJson);let u=yield this.post(t,i,n);return this._processResponse(u,this.requestOptions)})}putJson(t,r,n={}){return wr(this,void 0,void 0,function*(){let i=JSON.stringify(r,null,2);n[nn.Accept]=this._getExistingOrDefaultHeader(n,nn.Accept,Lo.ApplicationJson),n[nn.ContentType]=this._getExistingOrDefaultHeader(n,nn.ContentType,Lo.ApplicationJson);let u=yield this.put(t,i,n);return this._processResponse(u,this.requestOptions)})}patchJson(t,r,n={}){return wr(this,void 0,void 0,function*(){let i=JSON.stringify(r,null,2);n[nn.Accept]=this._getExistingOrDefaultHeader(n,nn.Accept,Lo.ApplicationJson),n[nn.ContentType]=this._getExistingOrDefaultHeader(n,nn.ContentType,Lo.ApplicationJson);let u=yield this.patch(t,i,n);return this._processResponse(u,this.requestOptions)})}request(t,r,n,i){return wr(this,void 0,void 0,function*(){if(this._disposed)throw new Error("Client has already been disposed.");let u=new URL(r),c=this._prepareRequest(t,u,i),s=this._allowRetries&&AT.includes(t)?this._maxRetries+1:1,h=0,a;do{if(a=yield this.requestRaw(c,n),a&&a.message&&a.message.statusCode===Zn.Unauthorized){let f;for(let g of this.handlers)if(g.canHandleAuthentication(a)){f=g;break}return f?f.handleAuthentication(this,c,n):a}let d=this._maxRedirects;for(;a.message.statusCode&&RT.includes(a.message.statusCode)&&this._allowRedirects&&d>0;){let f=a.message.headers.location;if(!f)break;let g=new URL(f);if(u.protocol==="https:"&&u.protocol!==g.protocol&&!this._allowRedirectDowngrade)throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.");if(yield a.readBody(),g.hostname!==u.hostname)for(let R in i)R.toLowerCase()==="authorization"&&delete i[R];c=this._prepareRequest(t,g,i),a=yield this.requestRaw(c,n),d--}if(!a.message.statusCode||!IT.includes(a.message.statusCode))return a;h+=1,h<s&&(yield a.readBody(),yield this._performExponentialBackoff(h))}while(h<s);return a})}dispose(){this._agent&&this._agent.destroy(),this._disposed=!0}requestRaw(t,r){return wr(this,void 0,void 0,function*(){return new Promise((n,i)=>{function u(c,s){c?i(c):s?n(s):i(new Error("Unknown error"))}this.requestRawWithCallback(t,r,u)})})}requestRawWithCallback(t,r,n){typeof r=="string"&&(t.options.headers||(t.options.headers={}),t.options.headers["Content-Length"]=Buffer.byteLength(r,"utf8"));let i=!1;function u(h,a){i||(i=!0,n(h,a))}let c=t.httpModule.request(t.options,h=>{let a=new Kl(h);u(void 0,a)}),s;c.on("socket",h=>{s=h}),c.setTimeout(this._socketTimeout||3*6e4,()=>{s&&s.end(),u(new Error(`Request timeout: ${t.options.path}`))}),c.on("error",function(h){u(h)}),r&&typeof r=="string"&&c.write(r,"utf8"),r&&typeof r!="string"?(r.on("close",function(){c.end()}),r.pipe(c)):c.end()}getAgent(t){let r=new URL(t);return this._getAgent(r)}_prepareRequest(t,r,n){let i={};i.parsedUrl=r;let u=i.parsedUrl.protocol==="https:";i.httpModule=u?jf:Fl;let c=u?443:80;if(i.options={},i.options.host=i.parsedUrl.hostname,i.options.port=i.parsedUrl.port?parseInt(i.parsedUrl.port):c,i.options.path=(i.parsedUrl.pathname||"")+(i.parsedUrl.search||""),i.options.method=t,i.options.headers=this._mergeHeaders(n),this.userAgent!=null&&(i.options.headers["user-agent"]=this.userAgent),i.options.agent=this._getAgent(i.parsedUrl),this.handlers)for(let s of this.handlers)s.prepareRequest(i.options);return i}_mergeHeaders(t){return this.requestOptions&&this.requestOptions.headers?Object.assign({},zl(this.requestOptions.headers),zl(t||{})):zl(t||{})}_getExistingOrDefaultHeader(t,r,n){let i;return this.requestOptions&&this.requestOptions.headers&&(i=zl(this.requestOptions.headers)[r]),t[r]||i||n}_getAgent(t){let r,n=wg.getProxyUrl(t),i=n&&n.hostname;if(this._keepAlive&&i&&(r=this._proxyAgent),this._keepAlive&&!i&&(r=this._agent),r)return r;let u=t.protocol==="https:",c=100;if(this.requestOptions&&(c=this.requestOptions.maxSockets||Fl.globalAgent.maxSockets),n&&n.hostname){let s={maxSockets:c,keepAlive:this._keepAlive,proxy:Object.assign(Object.assign({},(n.username||n.password)&&{proxyAuth:`${n.username}:${n.password}`}),{host:n.hostname,port:n.port})},h,a=n.protocol==="https:";u?h=a?$l.httpsOverHttps:$l.httpsOverHttp:h=a?$l.httpOverHttps:$l.httpOverHttp,r=h(s),this._proxyAgent=r}if(this._keepAlive&&!r){let s={keepAlive:this._keepAlive,maxSockets:c};r=u?new jf.Agent(s):new Fl.Agent(s),this._agent=r}return r||(r=u?jf.globalAgent:Fl.globalAgent),u&&this._ignoreSslError&&(r.options=Object.assign(r.options||{},{rejectUnauthorized:!1})),r}_performExponentialBackoff(t){return wr(this,void 0,void 0,function*(){t=Math.min(kT,t);let r=OT*Math.pow(2,t);return new Promise(n=>setTimeout(()=>n(),r))})}_processResponse(t,r){return wr(this,void 0,void 0,function*(){return new Promise((n,i)=>wr(this,void 0,void 0,function*(){let u=t.message.statusCode||0,c={statusCode:u,result:null,headers:{}};u===Zn.NotFound&&n(c);function s(d,f){if(typeof f=="string"){let g=new Date(f);if(!isNaN(g.valueOf()))return g}return f}let h,a;try{a=yield t.readBody(),a&&a.length>0&&(r&&r.deserializeDates?h=JSON.parse(a,s):h=JSON.parse(a),c.result=h),c.headers=t.message.headers}catch{}if(u>299){let d;h&&h.message?d=h.message:a&&a.length>0?d=a:d=`Failed request: (${u})`;let f=new Hl(d,u);f.result=c.result,i(f)}else n(c)}))})}};Nt.HttpClient=qf;var zl=e=>Object.keys(e).reduce((t,r)=>(t[r.toLowerCase()]=e[r],t),{})});var Sg=Pn(wi=>{"use strict";var $f=wi&&wi.__awaiter||function(e,t,r,n){function i(u){return u instanceof r?u:new r(function(c){c(u)})}return new(r||(r=Promise))(function(u,c){function s(d){try{a(n.next(d))}catch(f){c(f)}}function h(d){try{a(n.throw(d))}catch(f){c(f)}}function a(d){d.done?u(d.value):i(d.value).then(s,h)}a((n=n.apply(e,t||[])).next())})};Object.defineProperty(wi,"__esModule",{value:!0});wi.PersonalAccessTokenCredentialHandler=wi.BearerCredentialHandler=wi.BasicCredentialHandler=void 0;var Mf=class{constructor(t,r){this.username=t,this.password=r}prepareRequest(t){if(!t.headers)throw Error("The request has no headers");t.headers.Authorization=`Basic ${Buffer.from(`${this.username}:${this.password}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return $f(this,void 0,void 0,function*(){throw new Error("not implemented")})}};wi.BasicCredentialHandler=Mf;var Vf=class{constructor(t){this.token=t}prepareRequest(t){if(!t.headers)throw Error("The request has no headers");t.headers.Authorization=`Bearer ${this.token}`}canHandleAuthentication(){return!1}handleAuthentication(){return $f(this,void 0,void 0,function*(){throw new Error("not implemented")})}};wi.BearerCredentialHandler=Vf;var Ff=class{constructor(t){this.token=t}prepareRequest(t){if(!t.headers)throw Error("The request has no headers");t.headers.Authorization=`Basic ${Buffer.from(`PAT:${this.token}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return $f(this,void 0,void 0,function*(){throw new Error("not implemented")})}};wi.PersonalAccessTokenCredentialHandler=Ff});var Rg=Pn(os=>{"use strict";var Cg=os&&os.__awaiter||function(e,t,r,n){function i(u){return u instanceof r?u:new r(function(c){c(u)})}return new(r||(r=Promise))(function(u,c){function s(d){try{a(n.next(d))}catch(f){c(f)}}function h(d){try{a(n.throw(d))}catch(f){c(f)}}function a(d){d.done?u(d.value):i(d.value).then(s,h)}a((n=n.apply(e,t||[])).next())})};Object.defineProperty(os,"__esModule",{value:!0});os.OidcClient=void 0;var BT=Eg(),LT=Sg(),Tg=Hf(),zf=class e{static createHttpClient(t=!0,r=10){let n={allowRetries:t,maxRetries:r};return new BT.HttpClient("actions/oidc-client",[new LT.BearerCredentialHandler(e.getRequestToken())],n)}static getRequestToken(){let t=process.env.ACTIONS_ID_TOKEN_REQUEST_TOKEN;if(!t)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable");return t}static getIDTokenUrl(){let t=process.env.ACTIONS_ID_TOKEN_REQUEST_URL;if(!t)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable");return t}static getCall(t){var r;return Cg(this,void 0,void 0,function*(){let u=(r=(yield e.createHttpClient().getJson(t).catch(c=>{throw new Error(`Failed to get ID Token. 
 
        Error Code : ${c.statusCode}
 
        Error Message: ${c.result.message}`)})).result)===null||r===void 0?void 0:r.value;if(!u)throw new Error("Response json body do not have ID Token field");return u})}static getIDToken(t){return Cg(this,void 0,void 0,function*(){try{let r=e.getIDTokenUrl();if(t){let i=encodeURIComponent(t);r=`${r}&audience=${i}`}Tg.debug(`ID token url is ${r}`);let n=yield e.getCall(r);return Tg.setSecret(n),n}catch(r){throw new Error(`Error message: ${r.message}`)}})}};os.OidcClient=zf});var Qf=Pn(yn=>{"use strict";var Kf=yn&&yn.__awaiter||function(e,t,r,n){function i(u){return u instanceof r?u:new r(function(c){c(u)})}return new(r||(r=Promise))(function(u,c){function s(d){try{a(n.next(d))}catch(f){c(f)}}function h(d){try{a(n.throw(d))}catch(f){c(f)}}function a(d){d.done?u(d.value):i(d.value).then(s,h)}a((n=n.apply(e,t||[])).next())})};Object.defineProperty(yn,"__esModule",{value:!0});yn.summary=yn.markdownSummary=yn.SUMMARY_DOCS_URL=yn.SUMMARY_ENV_VAR=void 0;var NT=require("os"),Wf=require("fs"),{access:xT,appendFile:UT,writeFile:DT}=Wf.promises;yn.SUMMARY_ENV_VAR="GITHUB_STEP_SUMMARY";yn.SUMMARY_DOCS_URL="https://docs.github.com/actions/using-workflows/workflow-commands-for-github-actions#adding-a-job-summary";var Gf=class{constructor(){this._buffer=""}filePath(){return Kf(this,void 0,void 0,function*(){if(this._filePath)return this._filePath;let t=process.env[yn.SUMMARY_ENV_VAR];if(!t)throw new Error(`Unable to find environment variable for $${yn.SUMMARY_ENV_VAR}. Check if your runtime environment supports job summaries.`);try{yield xT(t,Wf.constants.R_OK|Wf.constants.W_OK)}catch{throw new Error(`Unable to access summary file: '${t}'. Check if the file has correct read/write permissions.`)}return this._filePath=t,this._filePath})}wrap(t,r,n={}){let i=Object.entries(n).map(([u,c])=>` ${u}="${c}"`).join("");return r?`<${t}${i}>${r}</${t}>`:`<${t}${i}>`}write(t){return Kf(this,void 0,void 0,function*(){let r=!!t?.overwrite,n=yield this.filePath();return yield(r?DT:UT)(n,this._buffer,{encoding:"utf8"}),this.emptyBuffer()})}clear(){return Kf(this,void 0,void 0,function*(){return this.emptyBuffer().write({overwrite:!0})})}stringify(){return this._buffer}isEmptyBuffer(){return this._buffer.length===0}emptyBuffer(){return this._buffer="",this}addRaw(t,r=!1){return this._buffer+=t,r?this.addEOL():this}addEOL(){return this.addRaw(NT.EOL)}addCodeBlock(t,r){let n=Object.assign({},r&&{lang:r}),i=this.wrap("pre",this.wrap("code",t),n);return this.addRaw(i).addEOL()}addList(t,r=!1){let n=r?"ol":"ul",i=t.map(c=>this.wrap("li",c)).join(""),u=this.wrap(n,i);return this.addRaw(u).addEOL()}addTable(t){let r=t.map(i=>{let u=i.map(c=>{if(typeof c=="string")return this.wrap("td",c);let{header:s,data:h,colspan:a,rowspan:d}=c,f=s?"th":"td",g=Object.assign(Object.assign({},a&&{colspan:a}),d&&{rowspan:d});return this.wrap(f,h,g)}).join("");return this.wrap("tr",u)}).join(""),n=this.wrap("table",r);return this.addRaw(n).addEOL()}addDetails(t,r){let n=this.wrap("details",this.wrap("summary",t)+r);return this.addRaw(n).addEOL()}addImage(t,r,n){let{width:i,height:u}=n||{},c=Object.assign(Object.assign({},i&&{width:i}),u&&{height:u}),s=this.wrap("img",null,Object.assign({src:t,alt:r},c));return this.addRaw(s).addEOL()}addHeading(t,r){let n=`h${r}`,i=["h1","h2","h3","h4","h5","h6"].includes(n)?n:"h1",u=this.wrap(i,t);return this.addRaw(u).addEOL()}addSeparator(){let t=this.wrap("hr",null);return this.addRaw(t).addEOL()}addBreak(){let t=this.wrap("br",null);return this.addRaw(t).addEOL()}addQuote(t,r){let n=Object.assign({},r&&{cite:r}),i=this.wrap("blockquote",t,n);return this.addRaw(i).addEOL()}addLink(t,r){let n=this.wrap("a",t,{href:r});return this.addRaw(n).addEOL()}},Ig=new Gf;yn.markdownSummary=Ig;yn.summary=Ig});var Ag=Pn(gn=>{"use strict";var jT=gn&&gn.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),qT=gn&&gn.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),MT=gn&&gn.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&jT(t,e,r);return qT(t,e),t};Object.defineProperty(gn,"__esModule",{value:!0});gn.toPlatformPath=gn.toWin32Path=gn.toPosixPath=void 0;var VT=MT(require("path"));function FT(e){return e.replace(/[\\]/g,"/")}gn.toPosixPath=FT;function $T(e){return e.replace(/[/]/g,"\\")}gn.toWin32Path=$T;function zT(e){return e.replace(/[/\\]/g,VT.sep)}gn.toPlatformPath=zT});var Hf=Pn(Fe=>{"use strict";var HT=Fe&&Fe.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),KT=Fe&&Fe.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),kg=Fe&&Fe.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&HT(t,e,r);return KT(t,e),t},Og=Fe&&Fe.__awaiter||function(e,t,r,n){function i(u){return u instanceof r?u:new r(function(c){c(u)})}return new(r||(r=Promise))(function(u,c){function s(d){try{a(n.next(d))}catch(f){c(f)}}function h(d){try{a(n.throw(d))}catch(f){c(f)}}function a(d){d.done?u(d.value):i(d.value).then(s,h)}a((n=n.apply(e,t||[])).next())})};Object.defineProperty(Fe,"__esModule",{value:!0});Fe.getIDToken=Fe.getState=Fe.saveState=Fe.group=Fe.endGroup=Fe.startGroup=Fe.info=Fe.notice=Fe.warning=Fe.error=Fe.debug=Fe.isDebug=Fe.setFailed=Fe.setCommandEcho=Fe.setOutput=Fe.getBooleanInput=Fe.getMultilineInput=Fe.getInput=Fe.addPath=Fe.setSecret=Fe.exportVariable=Fe.ExitCode=void 0;var Hn=jy(),la=fg(),as=Dl(),Pg=kg(require("os")),WT=kg(require("path")),GT=Rg(),Bg;(function(e){e[e.Success=0]="Success",e[e.Failure=1]="Failure"})(Bg=Fe.ExitCode||(Fe.ExitCode={}));function QT(e,t){let r=as.toCommandValue(t);if(process.env[e]=r,process.env.GITHUB_ENV||"")return la.issueFileCommand("ENV",la.prepareKeyValueMessage(e,t));Hn.issueCommand("set-env",{name:e},r)}Fe.exportVariable=QT;function YT(e){Hn.issueCommand("add-mask",{},e)}Fe.setSecret=YT;function XT(e){process.env.GITHUB_PATH||""?la.issueFileCommand("PATH",e):Hn.issueCommand("add-path",{},e),process.env.PATH=`${e}${WT.delimiter}${process.env.PATH}`}Fe.addPath=XT;function Yf(e,t){let r=process.env[`INPUT_${e.replace(/ /g,"_").toUpperCase()}`]||"";if(t&&t.required&&!r)throw new Error(`Input required and not supplied: ${e}`);return t&&t.trimWhitespace===!1?r:r.trim()}Fe.getInput=Yf;function JT(e,t){let r=Yf(e,t).split(`
`).filter(n=>n!=="");return t&&t.trimWhitespace===!1?r:r.map(n=>n.trim())}Fe.getMultilineInput=JT;function ZT(e,t){let r=["true","True","TRUE"],n=["false","False","FALSE"],i=Yf(e,t);if(r.includes(i))return!0;if(n.includes(i))return!1;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${e}
Support boolean input list: \`true | True | TRUE | false | False | FALSE\``)}Fe.getBooleanInput=ZT;function e3(e,t){if(process.env.GITHUB_OUTPUT||"")return la.issueFileCommand("OUTPUT",la.prepareKeyValueMessage(e,t));process.stdout.write(Pg.EOL),Hn.issueCommand("set-output",{name:e},as.toCommandValue(t))}Fe.setOutput=e3;function t3(e){Hn.issue("echo",e?"on":"off")}Fe.setCommandEcho=t3;function r3(e){process.exitCode=Bg.Failure,Lg(e)}Fe.setFailed=r3;function n3(){return process.env.RUNNER_DEBUG==="1"}Fe.isDebug=n3;function i3(e){Hn.issueCommand("debug",{},e)}Fe.debug=i3;function Lg(e,t={}){Hn.issueCommand("error",as.toCommandProperties(t),e instanceof Error?e.toString():e)}Fe.error=Lg;function o3(e,t={}){Hn.issueCommand("warning",as.toCommandProperties(t),e instanceof Error?e.toString():e)}Fe.warning=o3;function a3(e,t={}){Hn.issueCommand("notice",as.toCommandProperties(t),e instanceof Error?e.toString():e)}Fe.notice=a3;function s3(e){process.stdout.write(e+Pg.EOL)}Fe.info=s3;function Ng(e){Hn.issue("group",e)}Fe.startGroup=Ng;function xg(){Hn.issue("endgroup")}Fe.endGroup=xg;function u3(e,t){return Og(this,void 0,void 0,function*(){Ng(e);let r;try{r=yield t()}finally{xg()}return r})}Fe.group=u3;function l3(e,t){if(process.env.GITHUB_STATE||"")return la.issueFileCommand("STATE",la.prepareKeyValueMessage(e,t));Hn.issueCommand("save-state",{name:e},as.toCommandValue(t))}Fe.saveState=l3;function c3(e){return process.env[`STATE_${e}`]||""}Fe.getState=c3;function h3(e){return Og(this,void 0,void 0,function*(){return yield GT.OidcClient.getIDToken(e)})}Fe.getIDToken=h3;var f3=Qf();Object.defineProperty(Fe,"summary",{enumerable:!0,get:function(){return f3.summary}});var d3=Qf();Object.defineProperty(Fe,"markdownSummary",{enumerable:!0,get:function(){return d3.markdownSummary}});var Xf=Ag();Object.defineProperty(Fe,"toPosixPath",{enumerable:!0,get:function(){return Xf.toPosixPath}});Object.defineProperty(Fe,"toWin32Path",{enumerable:!0,get:function(){return Xf.toWin32Path}});Object.defineProperty(Fe,"toPlatformPath",{enumerable:!0,get:function(){return Xf.toPlatformPath}})});var zb=Pn((Gk,$b)=>{var p3=Object.create,$c=Object.defineProperty,y3=Object.getOwnPropertyDescriptor,g3=Object.getOwnPropertyNames,m3=Object.getPrototypeOf,v3=Object.prototype.hasOwnProperty,Ie=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),b3=(e,t)=>{for(var r in t)$c(e,r,{get:t[r],enumerable:!0})},tv=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of g3(t))!v3.call(e,i)&&i!==r&&$c(e,i,{get:()=>t[i],enumerable:!(n=y3(t,i))||n.enumerable});return e},qt=(e,t,r)=>(r=e!=null?p3(m3(e)):{},tv(t||!e||!e.__esModule?$c(r,"default",{value:e,enumerable:!0}):r,e)),_3=e=>tv($c({},"__esModule",{value:!0}),e),w3=Ie((e,t)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});function r(i){return i.encrypted}var n=(i,u)=>{let c;typeof u=="function"?c={connect:u}:c=u;let s=typeof c.connect=="function",h=typeof c.secureConnect=="function",a=typeof c.close=="function",d=()=>{s&&c.connect(),r(i)&&h&&(i.authorized?c.secureConnect():i.authorizationError||i.once("secureConnect",c.secureConnect)),a&&i.once("close",c.close)};i.writable&&!i.connecting?d():i.connecting?i.once("connect",d):i.destroyed&&a&&c.close(i._hadError)};e.default=n,t.exports=n,t.exports.default=n}),E3=Ie((e,t)=>{"use strict";var r=new Set([200,203,204,206,300,301,308,404,405,410,414,501]),n=new Set([200,203,204,300,301,302,303,307,308,404,405,410,414,501]),i=new Set([500,502,503,504]),u={date:!0,connection:!0,"keep-alive":!0,"proxy-authenticate":!0,"proxy-authorization":!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0},c={"content-length":!0,"content-encoding":!0,"transfer-encoding":!0,"content-range":!0};function s(f){let g=parseInt(f,10);return isFinite(g)?g:0}function h(f){return f?i.has(f.status):!0}function a(f){let g={};if(!f)return g;let R=f.trim().split(/,/);for(let S of R){let[m,T]=S.split(/=/,2);g[m.trim()]=T===void 0?!0:T.trim().replace(/^"|"$/g,"")}return g}function d(f){let g=[];for(let R in f){let S=f[R];g.push(S===!0?R:R+"="+S)}if(g.length)return g.join(", ")}t.exports=class{constructor(f,g,{shared:R,cacheHeuristic:S,immutableMinTimeToLive:m,ignoreCargoCult:T,_fromObject:O}={}){if(O){this._fromObject(O);return}if(!g||!g.headers)throw Error("Response headers missing");this._assertRequestHasHeaders(f),this._responseTime=this.now(),this._isShared=R!==!1,this._cacheHeuristic=S!==void 0?S:.1,this._immutableMinTtl=m!==void 0?m:24*3600*1e3,this._status="status"in g?g.status:200,this._resHeaders=g.headers,this._rescc=a(g.headers["cache-control"]),this._method="method"in f?f.method:"GET",this._url=f.url,this._host=f.headers.host,this._noAuthorization=!f.headers.authorization,this._reqHeaders=g.headers.vary?f.headers:null,this._reqcc=a(f.headers["cache-control"]),T&&"pre-check"in this._rescc&&"post-check"in this._rescc&&(delete this._rescc["pre-check"],delete this._rescc["post-check"],delete this._rescc["no-cache"],delete this._rescc["no-store"],delete this._rescc["must-revalidate"],this._resHeaders=Object.assign({},this._resHeaders,{"cache-control":d(this._rescc)}),delete this._resHeaders.expires,delete this._resHeaders.pragma),g.headers["cache-control"]==null&&/no-cache/.test(g.headers.pragma)&&(this._rescc["no-cache"]=!0)}now(){return Date.now()}storable(){return!!(!this._reqcc["no-store"]&&(this._method==="GET"||this._method==="HEAD"||this._method==="POST"&&this._hasExplicitExpiration())&&n.has(this._status)&&!this._rescc["no-store"]&&(!this._isShared||!this._rescc.private)&&(!this._isShared||this._noAuthorization||this._allowsStoringAuthenticated())&&(this._resHeaders.expires||this._rescc["max-age"]||this._isShared&&this._rescc["s-maxage"]||this._rescc.public||r.has(this._status)))}_hasExplicitExpiration(){return this._isShared&&this._rescc["s-maxage"]||this._rescc["max-age"]||this._resHeaders.expires}_assertRequestHasHeaders(f){if(!f||!f.headers)throw Error("Request headers missing")}satisfiesWithoutRevalidation(f){this._assertRequestHasHeaders(f);let g=a(f.headers["cache-control"]);return g["no-cache"]||/no-cache/.test(f.headers.pragma)||g["max-age"]&&this.age()>g["max-age"]||g["min-fresh"]&&this.timeToLive()<1e3*g["min-fresh"]||this.stale()&&!(g["max-stale"]&&!this._rescc["must-revalidate"]&&(g["max-stale"]===!0||g["max-stale"]>this.age()-this.maxAge()))?!1:this._requestMatches(f,!1)}_requestMatches(f,g){return(!this._url||this._url===f.url)&&this._host===f.headers.host&&(!f.method||this._method===f.method||g&&f.method==="HEAD")&&this._varyMatches(f)}_allowsStoringAuthenticated(){return this._rescc["must-revalidate"]||this._rescc.public||this._rescc["s-maxage"]}_varyMatches(f){if(!this._resHeaders.vary)return!0;if(this._resHeaders.vary==="*")return!1;let g=this._resHeaders.vary.trim().toLowerCase().split(/\s*,\s*/);for(let R of g)if(f.headers[R]!==this._reqHeaders[R])return!1;return!0}_copyWithoutHopByHopHeaders(f){let g={};for(let R in f)u[R]||(g[R]=f[R]);if(f.connection){let R=f.connection.trim().split(/\s*,\s*/);for(let S of R)delete g[S]}if(g.warning){let R=g.warning.split(/,/).filter(S=>!/^\s*1[0-9][0-9]/.test(S));R.length?g.warning=R.join(",").trim():delete g.warning}return g}responseHeaders(){let f=this._copyWithoutHopByHopHeaders(this._resHeaders),g=this.age();return g>3600*24&&!this._hasExplicitExpiration()&&this.maxAge()>3600*24&&(f.warning=(f.warning?`${f.warning}, `:"")+'113 - "rfc7234 5.5.4"'),f.age=`${Math.round(g)}`,f.date=new Date(this.now()).toUTCString(),f}date(){let f=Date.parse(this._resHeaders.date);return isFinite(f)?f:this._responseTime}age(){let f=this._ageValue(),g=(this.now()-this._responseTime)/1e3;return f+g}_ageValue(){return s(this._resHeaders.age)}maxAge(){if(!this.storable()||this._rescc["no-cache"]||this._isShared&&this._resHeaders["set-cookie"]&&!this._rescc.public&&!this._rescc.immutable||this._resHeaders.vary==="*")return 0;if(this._isShared){if(this._rescc["proxy-revalidate"])return 0;if(this._rescc["s-maxage"])return s(this._rescc["s-maxage"])}if(this._rescc["max-age"])return s(this._rescc["max-age"]);let f=this._rescc.immutable?this._immutableMinTtl:0,g=this.date();if(this._resHeaders.expires){let R=Date.parse(this._resHeaders.expires);return Number.isNaN(R)||R<g?0:Math.max(f,(R-g)/1e3)}if(this._resHeaders["last-modified"]){let R=Date.parse(this._resHeaders["last-modified"]);if(isFinite(R)&&g>R)return Math.max(f,(g-R)/1e3*this._cacheHeuristic)}return f}timeToLive(){let f=this.maxAge()-this.age(),g=f+s(this._rescc["stale-if-error"]),R=f+s(this._rescc["stale-while-revalidate"]);return Math.max(0,f,g,R)*1e3}stale(){return this.maxAge()<=this.age()}_useStaleIfError(){return this.maxAge()+s(this._rescc["stale-if-error"])>this.age()}useStaleWhileRevalidate(){return this.maxAge()+s(this._rescc["stale-while-revalidate"])>this.age()}static fromObject(f){return new this(void 0,void 0,{_fromObject:f})}_fromObject(f){if(this._responseTime)throw Error("Reinitialized");if(!f||f.v!==1)throw Error("Invalid serialization");this._responseTime=f.t,this._isShared=f.sh,this._cacheHeuristic=f.ch,this._immutableMinTtl=f.imm!==void 0?f.imm:24*3600*1e3,this._status=f.st,this._resHeaders=f.resh,this._rescc=f.rescc,this._method=f.m,this._url=f.u,this._host=f.h,this._noAuthorization=f.a,this._reqHeaders=f.reqh,this._reqcc=f.reqcc}toObject(){return{v:1,t:this._responseTime,sh:this._isShared,ch:this._cacheHeuristic,imm:this._immutableMinTtl,st:this._status,resh:this._resHeaders,rescc:this._rescc,m:this._method,u:this._url,h:this._host,a:this._noAuthorization,reqh:this._reqHeaders,reqcc:this._reqcc}}revalidationHeaders(f){this._assertRequestHasHeaders(f);let g=this._copyWithoutHopByHopHeaders(f.headers);if(delete g["if-range"],!this._requestMatches(f,!0)||!this.storable())return delete g["if-none-match"],delete g["if-modified-since"],g;if(this._resHeaders.etag&&(g["if-none-match"]=g["if-none-match"]?`${g["if-none-match"]}, ${this._resHeaders.etag}`:this._resHeaders.etag),g["accept-ranges"]||g["if-match"]||g["if-unmodified-since"]||this._method&&this._method!="GET"){if(delete g["if-modified-since"],g["if-none-match"]){let R=g["if-none-match"].split(/,/).filter(S=>!/^\s*W\//.test(S));R.length?g["if-none-match"]=R.join(",").trim():delete g["if-none-match"]}}else this._resHeaders["last-modified"]&&!g["if-modified-since"]&&(g["if-modified-since"]=this._resHeaders["last-modified"]);return g}revalidatedPolicy(f,g){if(this._assertRequestHasHeaders(f),this._useStaleIfError()&&h(g))return{modified:!1,matches:!1,policy:this};if(!g||!g.headers)throw Error("Response headers missing");let R=!1;if(g.status!==void 0&&g.status!=304?R=!1:g.headers.etag&&!/^\s*W\//.test(g.headers.etag)?R=this._resHeaders.etag&&this._resHeaders.etag.replace(/^\s*W\//,"")===g.headers.etag:this._resHeaders.etag&&g.headers.etag?R=this._resHeaders.etag.replace(/^\s*W\//,"")===g.headers.etag.replace(/^\s*W\//,""):this._resHeaders["last-modified"]?R=this._resHeaders["last-modified"]===g.headers["last-modified"]:!this._resHeaders.etag&&!this._resHeaders["last-modified"]&&!g.headers.etag&&!g.headers["last-modified"]&&(R=!0),!R)return{policy:new this.constructor(f,g),modified:g.status!=304,matches:!1};let S={};for(let T in this._resHeaders)S[T]=T in g.headers&&!c[T]?g.headers[T]:this._resHeaders[T];let m=Object.assign({},g,{status:this._status,method:this._method,headers:S});return{policy:new this.constructor(f,m,{shared:this._isShared,cacheHeuristic:this._cacheHeuristic,immutableMinTimeToLive:this._immutableMinTtl}),modified:!1,matches:!0}}}}),S3=Ie(e=>{e.stringify=function t(r){if(typeof r>"u")return r;if(r&&Buffer.isBuffer(r))return JSON.stringify(":base64:"+r.toString("base64"));if(r&&r.toJSON&&(r=r.toJSON()),r&&typeof r=="object"){var n="",i=Array.isArray(r);n=i?"[":"{";var u=!0;for(var c in r){var s=typeof r[c]=="function"||!i&&typeof r[c]>"u";Object.hasOwnProperty.call(r,c)&&!s&&(u||(n+=","),u=!1,i?r[c]==null?n+="null":n+=t(r[c]):r[c]!==void 0&&(n+=t(c)+":"+t(r[c])))}return n+=i?"]":"}",n}else return typeof r=="string"?JSON.stringify(/^:/.test(r)?":"+r:r):typeof r>"u"?"null":JSON.stringify(r)},e.parse=function(t){return JSON.parse(t,function(r,n){return typeof n=="string"?/^:base64:/.test(n)?Buffer.from(n.substring(8),"base64"):/^:/.test(n)?n.substring(1):n:n})}}),C3=Ie((e,t)=>{"use strict";var r=require("events"),n=S3(),i=s=>{let h={redis:"@keyv/redis",rediss:"@keyv/redis",mongodb:"@keyv/mongo",mongo:"@keyv/mongo",sqlite:"@keyv/sqlite",postgresql:"@keyv/postgres",postgres:"@keyv/postgres",mysql:"@keyv/mysql",etcd:"@keyv/etcd",offline:"@keyv/offline",tiered:"@keyv/tiered"};if(s.adapter||s.uri){let a=s.adapter||/^[^:+]*/.exec(s.uri)[0];return new(require(h[a]))(s)}return new Map},u=["sqlite","postgres","mysql","mongo","redis","tiered"],c=class extends r{constructor(s,{emitErrors:h=!0,...a}={}){if(super(),this.opts={namespace:"keyv",serialize:n.stringify,deserialize:n.parse,...typeof s=="string"?{uri:s}:s,...a},!this.opts.store){let f={...this.opts};this.opts.store=i(f)}if(this.opts.compression){let f=this.opts.compression;this.opts.serialize=f.serialize.bind(f),this.opts.deserialize=f.deserialize.bind(f)}typeof this.opts.store.on=="function"&&h&&this.opts.store.on("error",f=>this.emit("error",f)),this.opts.store.namespace=this.opts.namespace;let d=f=>async function*(){for await(let[g,R]of typeof f=="function"?f(this.opts.store.namespace):f){let S=this.opts.deserialize(R);if(!(this.opts.store.namespace&&!g.includes(this.opts.store.namespace))){if(typeof S.expires=="number"&&Date.now()>S.expires){this.delete(g);continue}yield[this._getKeyUnprefix(g),S.value]}}};typeof this.opts.store[Symbol.iterator]=="function"&&this.opts.store instanceof Map?this.iterator=d(this.opts.store):typeof this.opts.store.iterator=="function"&&this.opts.store.opts&&this._checkIterableAdaptar()&&(this.iterator=d(this.opts.store.iterator.bind(this.opts.store)))}_checkIterableAdaptar(){return u.includes(this.opts.store.opts.dialect)||u.findIndex(s=>this.opts.store.opts.url.includes(s))>=0}_getKeyPrefix(s){return`${this.opts.namespace}:${s}`}_getKeyPrefixArray(s){return s.map(h=>`${this.opts.namespace}:${h}`)}_getKeyUnprefix(s){return s.split(":").splice(1).join(":")}get(s,h){let{store:a}=this.opts,d=Array.isArray(s),f=d?this._getKeyPrefixArray(s):this._getKeyPrefix(s);if(d&&a.getMany===void 0){let g=[];for(let R of f)g.push(Promise.resolve().then(()=>a.get(R)).then(S=>typeof S=="string"?this.opts.deserialize(S):this.opts.compression?this.opts.deserialize(S):S).then(S=>{if(S!=null)return typeof S.expires=="number"&&Date.now()>S.expires?this.delete(R).then(()=>{}):h&&h.raw?S:S.value}));return Promise.allSettled(g).then(R=>{let S=[];for(let m of R)S.push(m.value);return S})}return Promise.resolve().then(()=>d?a.getMany(f):a.get(f)).then(g=>typeof g=="string"?this.opts.deserialize(g):this.opts.compression?this.opts.deserialize(g):g).then(g=>{if(g!=null){if(d){let R=[];for(let S of g){if(typeof S=="string"&&(S=this.opts.deserialize(S)),S==null){R.push(void 0);continue}typeof S.expires=="number"&&Date.now()>S.expires?(this.delete(s).then(()=>{}),R.push(void 0)):R.push(h&&h.raw?S:S.value)}return R}return typeof g.expires=="number"&&Date.now()>g.expires?this.delete(s).then(()=>{}):h&&h.raw?g:g.value}})}set(s,h,a){let d=this._getKeyPrefix(s);typeof a>"u"&&(a=this.opts.ttl),a===0&&(a=void 0);let{store:f}=this.opts;return Promise.resolve().then(()=>{let g=typeof a=="number"?Date.now()+a:null;return typeof h=="symbol"&&this.emit("error","symbol cannot be serialized"),h={value:h,expires:g},this.opts.serialize(h)}).then(g=>f.set(d,g,a)).then(()=>!0)}delete(s){let{store:h}=this.opts;if(Array.isArray(s)){let d=this._getKeyPrefixArray(s);if(h.deleteMany===void 0){let f=[];for(let g of d)f.push(h.delete(g));return Promise.allSettled(f).then(g=>g.every(R=>R.value===!0))}return Promise.resolve().then(()=>h.deleteMany(d))}let a=this._getKeyPrefix(s);return Promise.resolve().then(()=>h.delete(a))}clear(){let{store:s}=this.opts;return Promise.resolve().then(()=>s.clear())}has(s){let h=this._getKeyPrefix(s),{store:a}=this.opts;return Promise.resolve().then(async()=>typeof a.has=="function"?a.has(h):await a.get(h)!==void 0)}disconnect(){let{store:s}=this.opts;if(typeof s.disconnect=="function")return s.disconnect()}};t.exports=c}),T3=Ie((e,t)=>{"use strict";var r=["aborted","complete","headers","httpVersion","httpVersionMinor","httpVersionMajor","method","rawHeaders","rawTrailers","setTimeout","socket","statusCode","statusMessage","trailers","url"];t.exports=(n,i)=>{if(i._readableState.autoDestroy)throw new Error("The second stream must have the `autoDestroy` option set to `false`");let u=new Set(Object.keys(n).concat(r)),c={};for(let s of u)s in i||(c[s]={get(){let h=n[s];return typeof h=="function"?h.bind(n):h},set(h){n[s]=h},enumerable:!0,configurable:!1});return Object.defineProperties(i,c),n.once("aborted",()=>{i.destroy(),i.emit("aborted")}),n.once("close",()=>{n.complete&&i.readable?i.once("end",()=>{i.emit("close")}):i.emit("close")}),i}}),rv=Ie((e,t)=>{"use strict";var{Transform:r,PassThrough:n}=require("stream"),i=require("zlib"),u=T3();t.exports=c=>{let s=(c.headers["content-encoding"]||"").toLowerCase();if(!["gzip","deflate","br"].includes(s))return c;let h=s==="br";if(h&&typeof i.createBrotliDecompress!="function")return c.destroy(new Error("Brotli is not supported on Node.js < 12")),c;let a=!0,d=new r({transform(R,S,m){a=!1,m(null,R)},flush(R){R()}}),f=new n({autoDestroy:!1,destroy(R,S){c.destroy(),S(R)}}),g=h?i.createBrotliDecompress():i.createUnzip();return g.once("error",R=>{if(a&&!c.readable){f.end();return}f.destroy(R)}),u(c,f),c.pipe(d).pipe(g).pipe(f),f}}),R3=Ie((e,t)=>{"use strict";var{PassThrough:r}=require("stream");t.exports=n=>{n={...n};let{array:i}=n,{encoding:u}=n,c=u==="buffer",s=!1;i?s=!(u||c):u=u||"utf8",c&&(u=null);let h=new r({objectMode:s});u&&h.setEncoding(u);let a=0,d=[];return h.on("data",f=>{d.push(f),s?a=d.length:a+=f.length}),h.getBufferedValue=()=>i?d:c?Buffer.concat(d,a):d.join(""),h.getBufferedLength=()=>a,h}}),nv=Ie((e,t)=>{"use strict";var{constants:r}=require("buffer"),n=require("stream"),{promisify:i}=require("util"),u=R3(),c=i(n.pipeline),s=class extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}};async function h(a,d){if(!a)throw new Error("Expected a stream");d={maxBuffer:1/0,...d};let{maxBuffer:f}=d,g=u(d);return await new Promise((R,S)=>{let m=T=>{T&&g.getBufferedLength()<=r.MAX_LENGTH&&(T.bufferedData=g.getBufferedValue()),S(T)};(async()=>{try{await c(a,g),R()}catch(T){m(T)}})(),g.on("data",()=>{g.getBufferedLength()>f&&m(new s)})}),g.getBufferedValue()}t.exports=h,t.exports.buffer=(a,d)=>h(a,{...d,encoding:"buffer"}),t.exports.array=(a,d)=>h(a,{...d,array:!0}),t.exports.MaxBufferError=s}),iv=Ie((e,t)=>{"use strict";var r=class{constructor(n={}){if(!(n.maxSize&&n.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=n.maxSize,this.onEviction=n.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(n,i){if(this.cache.set(n,i),this._size++,this._size>=this.maxSize){if(this._size=0,typeof this.onEviction=="function")for(let[u,c]of this.oldCache.entries())this.onEviction(u,c);this.oldCache=this.cache,this.cache=new Map}}get(n){if(this.cache.has(n))return this.cache.get(n);if(this.oldCache.has(n)){let i=this.oldCache.get(n);return this.oldCache.delete(n),this._set(n,i),i}}set(n,i){return this.cache.has(n)?this.cache.set(n,i):this._set(n,i),this}has(n){return this.cache.has(n)||this.oldCache.has(n)}peek(n){if(this.cache.has(n))return this.cache.get(n);if(this.oldCache.has(n))return this.oldCache.get(n)}delete(n){let i=this.cache.delete(n);return i&&this._size--,this.oldCache.delete(n)||i}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(let[n]of this)yield n}*values(){for(let[,n]of this)yield n}*[Symbol.iterator](){for(let n of this.cache)yield n;for(let n of this.oldCache){let[i]=n;this.cache.has(i)||(yield n)}}get size(){let n=0;for(let i of this.oldCache.keys())this.cache.has(i)||n++;return Math.min(this._size+n,this.maxSize)}};t.exports=r}),ov=Ie((e,t)=>{"use strict";t.exports=r=>{if(r.listenerCount("error")!==0)return r;r.__destroy=r._destroy,r._destroy=(...i)=>{let u=i.pop();r.__destroy(...i,async c=>{await Promise.resolve(),u(c)})};let n=i=>{Promise.resolve().then(()=>{r.emit("error",i)})};return r.once("error",n),Promise.resolve().then(()=>{r.off("error",n)}),r}}),Ss=Ie((e,t)=>{"use strict";var{URL:r}=require("url"),n=require("events"),i=require("tls"),u=require("http2"),c=iv(),s=ov(),h=Symbol("currentStreamCount"),a=Symbol("request"),d=Symbol("cachedOriginSet"),f=Symbol("gracefullyClosing"),g=Symbol("length"),R=["createConnection","maxDeflateDynamicTableSize","maxSettings","maxSessionMemory","maxHeaderListPairs","maxOutstandingPings","maxReservedRemoteStreams","maxSendHeaderBlockLength","paddingStrategy","peerMaxConcurrentStreams","settings","family","localAddress","rejectUnauthorized","pskCallback","minDHSize","path","socket","ca","cert","sigalgs","ciphers","clientCertEngine","crl","dhparam","ecdhCurve","honorCipherOrder","key","privateKeyEngine","privateKeyIdentifier","maxVersion","minVersion","pfx","secureOptions","secureProtocol","sessionIdContext","ticketKeys"],S=(I,w,L)=>{let N=0,C=I.length;for(;N<C;){let v=N+C>>>1;L(I[v],w)?N=v+1:C=v}return N},m=(I,w)=>I.remoteSettings.maxConcurrentStreams>w.remoteSettings.maxConcurrentStreams,T=(I,w)=>{for(let L=0;L<I.length;L++){let N=I[L];N[d].length>0&&N[d].length<w[d].length&&N[d].every(C=>w[d].includes(C))&&N[h]+w[h]<=w.remoteSettings.maxConcurrentStreams&&k(N)}},O=(I,w)=>{for(let L=0;L<I.length;L++){let N=I[L];if(w[d].length>0&&w[d].length<N[d].length&&w[d].every(C=>N[d].includes(C))&&w[h]+N[h]<=N.remoteSettings.maxConcurrentStreams)return k(w),!0}return!1},k=I=>{I[f]=!0,I[h]===0&&I.close()},y=class av extends n{constructor({timeout:w=0,maxSessions:L=Number.POSITIVE_INFINITY,maxEmptySessions:N=10,maxCachedTlsSessions:C=100}={}){super(),this.sessions={},this.queue={},this.timeout=w,this.maxSessions=L,this.maxEmptySessions=N,this._emptySessionCount=0,this._sessionCount=0,this.settings={enablePush:!1,initialWindowSize:1024*1024*32},this.tlsSessionCache=new c({maxSize:C})}get protocol(){return"https:"}normalizeOptions(w){let L="";for(let N=0;N<R.length;N++){let C=R[N];L+=":",w&&w[C]!==void 0&&(L+=w[C])}return L}_processQueue(){if(this._sessionCount>=this.maxSessions){this.closeEmptySessions(this.maxSessions-this._sessionCount+1);return}for(let w in this.queue)for(let L in this.queue[w]){let N=this.queue[w][L];N.completed||(N.completed=!0,N())}}_isBetterSession(w,L){return w>L}_accept(w,L,N,C){let v=0;for(;v<L.length&&w[h]<w.remoteSettings.maxConcurrentStreams;)L[v].resolve(w),v++;L.splice(0,v),L.length>0&&(this.getSession(N,C,L),L.length=0)}getSession(w,L,N){return new Promise((C,v)=>{Array.isArray(N)&&N.length>0?(N=[...N],C()):N=[{resolve:C,reject:v}];try{if(typeof w=="string")w=new r(w);else if(!(w instanceof r))throw new TypeError("The `origin` argument needs to be a string or an URL object");if(L){let{servername:E}=L,{hostname:B}=w;if(E&&B!==E)throw new Error(`Origin ${B} differs from servername ${E}`)}}catch(E){for(let B=0;B<N.length;B++)N[B].reject(E);return}let p=this.normalizeOptions(L),q=w.origin;if(p in this.sessions){let E=this.sessions[p],B=-1,D=-1,j;for(let M=0;M<E.length;M++){let ee=E[M],oe=ee.remoteSettings.maxConcurrentStreams;if(oe<B)break;if(!ee[d].includes(q))continue;let ce=ee[h];ce>=oe||ee[f]||ee.destroyed||(j||(B=oe),this._isBetterSession(ce,D)&&(j=ee,D=ce))}if(j){this._accept(j,N,q,L);return}}if(p in this.queue){if(q in this.queue[p]){this.queue[p][q].listeners.push(...N);return}}else this.queue[p]={[g]:0};let V=()=>{p in this.queue&&this.queue[p][q]===z&&(delete this.queue[p][q],--this.queue[p][g]===0&&delete this.queue[p])},z=async()=>{this._sessionCount++;let E=`${q}:${p}`,B=!1,D;try{let j={...L};j.settings===void 0&&(j.settings=this.settings),j.session===void 0&&(j.session=this.tlsSessionCache.get(E)),D=await(j.createConnection||this.createConnection).call(this,w,j),j.createConnection=()=>D;let M=u.connect(w,j);M[h]=0,M[f]=!1;let ee=()=>{let{socket:pe}=M,me;return pe.servername===!1?(pe.servername=pe.remoteAddress,me=M.originSet,pe.servername=!1):me=M.originSet,me},oe=()=>M[h]<M.remoteSettings.maxConcurrentStreams;M.socket.once("session",pe=>{this.tlsSessionCache.set(E,pe)}),M.once("error",pe=>{for(let me=0;me<N.length;me++)N[me].reject(pe);this.tlsSessionCache.delete(E)}),M.setTimeout(this.timeout,()=>{M.destroy()}),M.once("close",()=>{if(this._sessionCount--,B){this._emptySessionCount--;let pe=this.sessions[p];pe.length===1?delete this.sessions[p]:pe.splice(pe.indexOf(M),1)}else{V();let pe=new Error("Session closed without receiving a SETTINGS frame");pe.code="HTTP2WRAPPER_NOSETTINGS";for(let me=0;me<N.length;me++)N[me].reject(pe)}this._processQueue()});let ce=()=>{let pe=this.queue[p];if(!pe)return;let me=M[d];for(let ke=0;ke<me.length;ke++){let Pe=me[ke];if(Pe in pe){let{listeners:Ce,completed:Ke}=pe[Pe],Re=0;for(;Re<Ce.length&&oe();)Ce[Re].resolve(M),Re++;if(pe[Pe].listeners.splice(0,Re),pe[Pe].listeners.length===0&&!Ke&&(delete pe[Pe],--pe[g]===0)){delete this.queue[p];break}if(!oe())break}}};M.on("origin",()=>{M[d]=ee()||[],M[f]=!1,O(this.sessions[p],M),!(M[f]||!oe())&&(ce(),oe()&&T(this.sessions[p],M))}),M.once("remoteSettings",()=>{if(z.destroyed){let pe=new Error("Agent has been destroyed");for(let me=0;me<N.length;me++)N[me].reject(pe);M.destroy();return}if(M.setLocalWindowSize&&M.setLocalWindowSize(1024*1024*4),M[d]=ee()||[],M.socket.encrypted){let pe=M[d][0];if(pe!==q){let me=new Error(`Requested origin ${q} does not match server ${pe}`);for(let ke=0;ke<N.length;ke++)N[ke].reject(me);M.destroy();return}}V();{let pe=this.sessions;if(p in pe){let me=pe[p];me.splice(S(me,M,m),0,M)}else pe[p]=[M]}B=!0,this._emptySessionCount++,this.emit("session",M),this._accept(M,N,q,L),M[h]===0&&this._emptySessionCount>this.maxEmptySessions&&this.closeEmptySessions(this._emptySessionCount-this.maxEmptySessions),M.on("remoteSettings",()=>{oe()&&(ce(),oe()&&T(this.sessions[p],M))})}),M[a]=M.request,M.request=(pe,me)=>{if(M[f])throw new Error("The session is gracefully closing. No new streams are allowed.");let ke=M[a](pe,me);return M.ref(),M[h]++===0&&this._emptySessionCount--,ke.once("close",()=>{if(--M[h]===0&&(this._emptySessionCount++,M.unref(),this._emptySessionCount>this.maxEmptySessions||M[f])){M.close();return}M.destroyed||M.closed||oe()&&!O(this.sessions[p],M)&&(T(this.sessions[p],M),ce(),M[h]===0&&this._processQueue())}),ke}}catch(j){V(),this._sessionCount--;for(let M=0;M<N.length;M++)N[M].reject(j)}};z.listeners=N,z.completed=!1,z.destroyed=!1,this.queue[p][q]=z,this.queue[p][g]++,this._processQueue()})}request(w,L,N,C){return new Promise((v,p)=>{this.getSession(w,L,[{reject:p,resolve:q=>{try{let V=q.request(N,C);s(V),v(V)}catch(V){p(V)}}}])})}async createConnection(w,L){return av.connect(w,L)}static connect(w,L){L.ALPNProtocols=["h2"];let N=w.port||443,C=w.hostname;typeof L.servername>"u"&&(L.servername=C);let v=i.connect(N,C,L);return L.socket&&(v._peername={family:void 0,address:void 0,port:N}),v}closeEmptySessions(w=Number.POSITIVE_INFINITY){let L=0,{sessions:N}=this;for(let C in N){let v=N[C];for(let p=0;p<v.length;p++){let q=v[p];if(q[h]===0&&(L++,q.close(),L>=w))return L}}return L}destroy(w){let{sessions:L,queue:N}=this;for(let C in L){let v=L[C];for(let p=0;p<v.length;p++)v[p].destroy(w)}for(let C in N){let v=N[C];for(let p in v)v[p].destroyed=!0}this.queue={},this.tlsSessionCache.clear()}get emptySessionCount(){return this._emptySessionCount}get pendingSessionCount(){return this._sessionCount-this._emptySessionCount}get sessionCount(){return this._sessionCount}};y.kCurrentStreamCount=h,y.kGracefullyClosing=f,t.exports={Agent:y,globalAgent:new y}}),sv=Ie((e,t)=>{"use strict";var{Readable:r}=require("stream"),n=class extends r{constructor(i,u){super({emitClose:!1,autoDestroy:!0,highWaterMark:u}),this.statusCode=null,this.statusMessage="",this.httpVersion="2.0",this.httpVersionMajor=2,this.httpVersionMinor=0,this.headers={},this.trailers={},this.req=null,this.aborted=!1,this.complete=!1,this.upgrade=null,this.rawHeaders=[],this.rawTrailers=[],this.socket=i,this._dumped=!1}get connection(){return this.socket}set connection(i){this.socket=i}_destroy(i,u){this.readableEnded||(this.aborted=!0),u(),this.req._request.destroy(i)}setTimeout(i,u){return this.req.setTimeout(i,u),this}_dump(){this._dumped||(this._dumped=!0,this.removeAllListeners("data"),this.resume())}_read(){this.req&&this.req._request.resume()}};t.exports=n}),I3=Ie((e,t)=>{"use strict";t.exports=(r,n,i)=>{for(let u of i)r.on(u,(...c)=>n.emit(u,...c))}}),zc=Ie((e,t)=>{"use strict";var r=(n,i,u)=>{t.exports[i]=class extends n{constructor(...c){super(typeof u=="string"?u:u(c)),this.name=`${super.name} [${i}]`,this.code=i}}};r(TypeError,"ERR_INVALID_ARG_TYPE",n=>{let i=n[0].includes(".")?"property":"argument",u=n[1],c=Array.isArray(u);return c&&(u=`${u.slice(0,-1).join(", ")} or ${u.slice(-1)}`),`The "${n[0]}" ${i} must be ${c?"one of":"of"} type ${u}. Received ${typeof n[2]}`}),r(TypeError,"ERR_INVALID_PROTOCOL",n=>`Protocol "${n[0]}" not supported. Expected "${n[1]}"`),r(Error,"ERR_HTTP_HEADERS_SENT",n=>`Cannot ${n[0]} headers after they are sent to the client`),r(TypeError,"ERR_INVALID_HTTP_TOKEN",n=>`${n[0]} must be a valid HTTP token [${n[1]}]`),r(TypeError,"ERR_HTTP_INVALID_HEADER_VALUE",n=>`Invalid value "${n[0]} for header "${n[1]}"`),r(TypeError,"ERR_INVALID_CHAR",n=>`Invalid character in ${n[0]} [${n[1]}]`),r(Error,"ERR_HTTP2_NO_SOCKET_MANIPULATION","HTTP/2 sockets should not be directly manipulated (e.g. read and written)")}),A3=Ie((e,t)=>{"use strict";t.exports=r=>{switch(r){case":method":case":scheme":case":authority":case":path":return!0;default:return!1}}}),uv=Ie((e,t)=>{"use strict";var{ERR_INVALID_HTTP_TOKEN:r}=zc(),n=A3(),i=/^[\^`\-\w!#$%&*+.|~]+$/;t.exports=u=>{if(typeof u!="string"||!i.test(u)&&!n(u))throw new r("Header name",u)}}),lv=Ie((e,t)=>{"use strict";var{ERR_HTTP_INVALID_HEADER_VALUE:r,ERR_INVALID_CHAR:n}=zc(),i=/[^\t\u0020-\u007E\u0080-\u00FF]/;t.exports=(u,c)=>{if(typeof c>"u")throw new r(c,u);if(i.test(c))throw new n("header content",u)}}),k3=Ie((e,t)=>{"use strict";var{ERR_HTTP2_NO_SOCKET_MANIPULATION:r}=zc(),n={has(i,u){let c=i.session===void 0?i:i.session.socket;return u in i||u in c},get(i,u){switch(u){case"on":case"once":case"end":case"emit":case"destroy":return i[u].bind(i);case"writable":case"destroyed":return i[u];case"readable":return i.destroyed?!1:i.readable;case"setTimeout":{let{session:c}=i;return c!==void 0?c.setTimeout.bind(c):i.setTimeout.bind(i)}case"write":case"read":case"pause":case"resume":throw new r;default:{let c=i.session===void 0?i:i.session.socket,s=c[u];return typeof s=="function"?s.bind(c):s}}},getPrototypeOf(i){return i.session!==void 0?Reflect.getPrototypeOf(i.session.socket):Reflect.getPrototypeOf(i)},set(i,u,c){switch(u){case"writable":case"readable":case"destroyed":case"on":case"once":case"end":case"emit":case"destroy":return i[u]=c,!0;case"setTimeout":{let{session:s}=i;return s===void 0?i.setTimeout=c:s.setTimeout=c,!0}case"write":case"read":case"pause":case"resume":throw new r;default:{let s=i.session===void 0?i:i.session.socket;return s[u]=c,!0}}}};t.exports=n}),cv=Ie((e,t)=>{"use strict";var{URL:r,urlToHttpOptions:n}=require("url"),i=require("http2"),{Writable:u}=require("stream"),{Agent:c,globalAgent:s}=Ss(),h=sv(),a=I3(),{ERR_INVALID_ARG_TYPE:d,ERR_INVALID_PROTOCOL:f,ERR_HTTP_HEADERS_SENT:g}=zc(),R=uv(),S=lv(),m=k3(),{HTTP2_HEADER_STATUS:T,HTTP2_HEADER_METHOD:O,HTTP2_HEADER_PATH:k,HTTP2_HEADER_AUTHORITY:y,HTTP2_METHOD_CONNECT:I}=i.constants,w=Symbol("headers"),L=Symbol("origin"),N=Symbol("session"),C=Symbol("options"),v=Symbol("flushedHeaders"),p=Symbol("jobs"),q=Symbol("pendingAgentPromise"),V=class extends u{constructor(z,E,B){if(super({autoDestroy:!1,emitClose:!1}),typeof z=="string"?z=n(new r(z)):z instanceof r?z=n(z):z={...z},typeof E=="function"||E===void 0?(B=E,E=z):E=Object.assign(z,E),E.h2session){if(this[N]=E.h2session,this[N].destroyed)throw new Error("The session has been closed already");this.protocol=this[N].socket.encrypted?"https:":"http:"}else if(E.agent===!1)this.agent=new c({maxEmptySessions:0});else if(typeof E.agent>"u"||E.agent===null)this.agent=s;else if(typeof E.agent.request=="function")this.agent=E.agent;else throw new d("options.agent",["http2wrapper.Agent-like Object","undefined","false"],E.agent);if(this.agent&&(this.protocol=this.agent.protocol),E.protocol&&E.protocol!==this.protocol)throw new f(E.protocol,this.protocol);E.port||(E.port=E.defaultPort||this.agent&&this.agent.defaultPort||443),E.host=E.hostname||E.host||"localhost",delete E.hostname;let{timeout:D}=E;E.timeout=void 0,this[w]=Object.create(null),this[p]=[],this[q]=void 0,this.socket=null,this.connection=null,this.method=E.method||"GET",this.method==="CONNECT"&&(E.path==="/"||E.path===void 0)||(this.path=E.path),this.res=null,this.aborted=!1,this.reusedSocket=!1;let{headers:j}=E;if(j)for(let ee in j)this.setHeader(ee,j[ee]);E.auth&&!("authorization"in this[w])&&(this[w].authorization="Basic "+Buffer.from(E.auth).toString("base64")),E.session=E.tlsSession,E.path=E.socketPath,this[C]=E,this[L]=new r(`${this.protocol}//${E.servername||E.host}:${E.port}`);let M=E._reuseSocket;M&&(E.createConnection=(...ee)=>M.destroyed?this.agent.createConnection(...ee):M,this.agent.getSession(this[L],this[C]).catch(()=>{})),D&&this.setTimeout(D),B&&this.once("response",B),this[v]=!1}get method(){return this[w][O]}set method(z){z&&(this[w][O]=z.toUpperCase())}get path(){let z=this.method==="CONNECT"?y:k;return this[w][z]}set path(z){if(z){let E=this.method==="CONNECT"?y:k;this[w][E]=z}}get host(){return this[L].hostname}set host(z){}get _mustNotHaveABody(){return this.method==="GET"||this.method==="HEAD"||this.method==="DELETE"}_write(z,E,B){if(this._mustNotHaveABody){B(new Error("The GET, HEAD and DELETE methods must NOT have a body"));return}this.flushHeaders();let D=()=>this._request.write(z,E,B);this._request?D():this[p].push(D)}_final(z){this.flushHeaders();let E=()=>{if(this._mustNotHaveABody||this.method==="CONNECT"){z();return}this._request.end(z)};this._request?E():this[p].push(E)}abort(){this.res&&this.res.complete||(this.aborted||process.nextTick(()=>this.emit("abort")),this.aborted=!0,this.destroy())}async _destroy(z,E){this.res&&this.res._dump(),this._request?this._request.destroy():process.nextTick(()=>{this.emit("close")});try{await this[q]}catch(B){this.aborted&&(z=B)}E(z)}async flushHeaders(){if(this[v]||this.destroyed)return;this[v]=!0;let z=this.method===I,E=B=>{if(this._request=B,this.destroyed){B.destroy();return}z||a(B,this,["timeout","continue"]),B.once("error",j=>{this.destroy(j)}),B.once("aborted",()=>{let{res:j}=this;j?(j.aborted=!0,j.emit("aborted"),j.destroy()):this.destroy(new Error("The server aborted the HTTP/2 stream"))});let D=(j,M,ee)=>{let oe=new h(this.socket,B.readableHighWaterMark);this.res=oe,oe.url=`${this[L].origin}${this.path}`,oe.req=this,oe.statusCode=j[T],oe.headers=j,oe.rawHeaders=ee,oe.once("end",()=>{oe.complete=!0,oe.socket=null,oe.connection=null}),z?(oe.upgrade=!0,this.emit("connect",oe,B,Buffer.alloc(0))?this.emit("close"):B.destroy()):(B.on("data",ce=>{!oe._dumped&&!oe.push(ce)&&B.pause()}),B.once("end",()=>{this.aborted||oe.push(null)}),this.emit("response",oe)||oe._dump())};B.once("response",D),B.once("headers",j=>this.emit("information",{statusCode:j[T]})),B.once("trailers",(j,M,ee)=>{let{res:oe}=this;if(oe===null){D(j,M,ee);return}oe.trailers=j,oe.rawTrailers=ee}),B.once("close",()=>{let{aborted:j,res:M}=this;if(M){j&&(M.aborted=!0,M.emit("aborted"),M.destroy());let ee=()=>{M.emit("close"),this.destroy(),this.emit("close")};M.readable?M.once("end",ee):ee();return}if(!this.destroyed){this.destroy(new Error("The HTTP/2 stream has been early terminated")),this.emit("close");return}this.destroy(),this.emit("close")}),this.socket=new Proxy(B,m);for(let j of this[p])j();this[p].length=0,this.emit("socket",this.socket)};if(!(y in this[w])&&!z&&(this[w][y]=this[L].host),this[N])try{E(this[N].request(this[w]))}catch(B){this.destroy(B)}else{this.reusedSocket=!0;try{let B=this.agent.request(this[L],this[C],this[w]);this[q]=B,E(await B),this[q]=!1}catch(B){this[q]=!1,this.destroy(B)}}}get connection(){return this.socket}set connection(z){this.socket=z}getHeaderNames(){return Object.keys(this[w])}hasHeader(z){if(typeof z!="string")throw new d("name","string",z);return!!this[w][z.toLowerCase()]}getHeader(z){if(typeof z!="string")throw new d("name","string",z);return this[w][z.toLowerCase()]}get headersSent(){return this[v]}removeHeader(z){if(typeof z!="string")throw new d("name","string",z);if(this.headersSent)throw new g("remove");delete this[w][z.toLowerCase()]}setHeader(z,E){if(this.headersSent)throw new g("set");R(z),S(z,E);let B=z.toLowerCase();if(B==="connection"){if(E.toLowerCase()==="keep-alive")return;throw new Error(`Invalid 'connection' header: ${E}`)}B==="host"&&this.method==="CONNECT"?this[w][y]=E:this[w][B]=E}setNoDelay(){}setSocketKeepAlive(){}setTimeout(z,E){let B=()=>this._request.setTimeout(z,E);return this._request?B():this[p].push(B),this}get maxHeadersCount(){if(!this.destroyed&&this._request)return this._request.session.localSettings.maxHeaderListSize}set maxHeadersCount(z){}};t.exports=V}),O3=Ie((e,t)=>{"use strict";var r=require("tls");t.exports=(n={},i=r.connect)=>new Promise((u,c)=>{let s=!1,h,a=async()=>{await f,h.off("timeout",d),h.off("error",c),n.resolveSocket?(u({alpnProtocol:h.alpnProtocol,socket:h,timeout:s}),s&&(await Promise.resolve(),h.emit("timeout"))):(h.destroy(),u({alpnProtocol:h.alpnProtocol,timeout:s}))},d=async()=>{s=!0,a()},f=(async()=>{try{h=await i(n,a),h.on("error",c),h.once("timeout",d)}catch(g){c(g)}})()})}),P3=Ie((e,t)=>{"use strict";var{isIP:r}=require("net"),n=require("assert"),i=u=>{if(u[0]==="["){let s=u.indexOf("]");return n(s!==-1),u.slice(1,s)}let c=u.indexOf(":");return c===-1?u:u.slice(0,c)};t.exports=u=>{let c=i(u);return r(c)?"":c}}),B3=Ie((e,t)=>{"use strict";var{URL:r,urlToHttpOptions:n}=require("url"),i=require("http"),u=require("https"),c=O3(),s=iv(),{Agent:h,globalAgent:a}=Ss(),d=cv(),f=P3(),g=ov(),R=new s({maxSize:100}),S=new Map,m=(k,y,I)=>{y._httpMessage={shouldKeepAlive:!0};let w=()=>{k.emit("free",y,I)};y.on("free",w);let L=()=>{k.removeSocket(y,I)};y.on("close",L);let N=()=>{let{freeSockets:v}=k;for(let p of Object.values(v))if(p.includes(y)){y.destroy();return}};y.on("timeout",N);let C=()=>{k.removeSocket(y,I),y.off("close",L),y.off("free",w),y.off("timeout",N),y.off("agentRemove",C)};y.on("agentRemove",C),k.emit("free",y,I)},T=(k,y=new Map,I=void 0)=>async w=>{let L=`${w.host}:${w.port}:${w.ALPNProtocols.sort()}`;if(!k.has(L)){if(y.has(L))return{alpnProtocol:(await y.get(L)).alpnProtocol};let{path:N}=w;w.path=w.socketPath;let C=c(w,I);y.set(L,C);try{let v=await C;return k.set(L,v.alpnProtocol),y.delete(L),w.path=N,v}catch(v){throw y.delete(L),w.path=N,v}}return{alpnProtocol:k.get(L)}},O=T(R,S);t.exports=async(k,y,I)=>{if(typeof k=="string"?k=n(new r(k)):k instanceof r?k=n(k):k={...k},typeof y=="function"||y===void 0?(I=y,y=k):y=Object.assign(k,y),y.ALPNProtocols=y.ALPNProtocols||["h2","http/1.1"],!Array.isArray(y.ALPNProtocols)||y.ALPNProtocols.length===0)throw new Error("The `ALPNProtocols` option must be an Array with at least one entry");y.protocol=y.protocol||"https:";let w=y.protocol==="https:";y.host=y.hostname||y.host||"localhost",y.session=y.tlsSession,y.servername=y.servername||f(y.headers&&y.headers.host||y.host),y.port=y.port||(w?443:80),y._defaultAgent=w?u.globalAgent:i.globalAgent;let L=y.resolveProtocol||O,{agent:N}=y;if(N!==void 0&&N!==!1&&N.constructor.name!=="Object")throw new Error("The `options.agent` can be only an object `http`, `https` or `http2` properties");if(w){y.resolveSocket=!0;let{socket:C,alpnProtocol:v,timeout:p}=await L(y);if(p){C&&C.destroy();let V=new Error(`Timed out resolving ALPN: ${y.timeout} ms`);throw V.code="ETIMEDOUT",V.ms=y.timeout,V}C&&y.createConnection&&(C.destroy(),C=void 0),delete y.resolveSocket;let q=v==="h2";if(N&&(N=q?N.http2:N.https,y.agent=N),N===void 0&&(N=q?a:u.globalAgent),C)if(N===!1)C.destroy();else{let V=(q?h:u.Agent).prototype.createConnection;N.createConnection===V?q?y._reuseSocket=C:m(N,C,y):C.destroy()}if(q)return g(new d(y,I))}else N&&(y.agent=N.http);return g(i.request(y,I))},t.exports.protocolCache=R,t.exports.resolveProtocol=O,t.exports.createResolveProtocol=T}),hv=Ie((e,t)=>{"use strict";var r=require("stream"),n=require("tls"),i=new n.TLSSocket(new r.PassThrough)._handle._parentWrap.constructor;t.exports=i}),fv=Ie((e,t)=>{"use strict";var r=class extends Error{constructor(n,i=""){super(`The proxy server rejected the request with status code ${n} (${i||"empty status message"})`),this.statusCode=n,this.statusMessage=i}};t.exports=r}),L3=Ie((e,t)=>{"use strict";var r=(n,i,u)=>{if(!u.some(c=>typeof c=="string"?typeof i===c:i instanceof c)){let c=u.map(s=>typeof s=="string"?s:s.name);throw new TypeError(`Expected '${n}' to be a type of ${c.join(" or ")}, got ${typeof i}`)}};t.exports=r}),dv=Ie((e,t)=>{"use strict";var{URL:r}=require("url"),n=L3();t.exports=(i,u)=>{n("proxyOptions",u,["object"]),n("proxyOptions.headers",u.headers,["object","undefined"]),n("proxyOptions.raw",u.raw,["boolean","undefined"]),n("proxyOptions.url",u.url,[r,"string"]);let c=new r(u.url);i.proxyOptions={raw:!0,...u,headers:{...u.headers},url:c}}}),cp=Ie((e,t)=>{"use strict";t.exports=r=>{let{username:n,password:i}=r.proxyOptions.url;if(n||i){let u=`${n}:${i}`,c=`Basic ${Buffer.from(u).toString("base64")}`;return{"proxy-authorization":c,authorization:c}}return{}}}),N3=Ie((e,t)=>{"use strict";var r=require("tls"),n=require("http"),i=require("https"),u=hv(),{globalAgent:c}=Ss(),s=fv(),h=dv(),a=cp(),d=(R,S,m)=>{(async()=>{try{let{proxyOptions:T}=R,{url:O,headers:k,raw:y}=T,I=await c.request(O,T,{...a(R),...k,":method":"CONNECT",":authority":`${S.host}:${S.port}`});I.once("error",m),I.once("response",w=>{let L=w[":status"];if(L!==200){m(new s(L,""));return}let N=R instanceof i.Agent;if(y&&N){S.socket=I;let v=r.connect(S);v.once("close",()=>{I.destroy()}),m(null,v);return}let C=new u(I);C.encrypted=!1,C._handle.getpeername=v=>{v.family=void 0,v.address=void 0,v.port=void 0},m(null,C)})}catch(T){m(T)}})()},f=class extends n.Agent{constructor(R){super(R),h(this,R.proxyOptions)}createConnection(R,S){d(this,R,S)}},g=class extends i.Agent{constructor(R){super(R),h(this,R.proxyOptions)}createConnection(R,S){d(this,R,S)}};t.exports={HttpOverHttp2:f,HttpsOverHttp2:g}}),pv=Ie((e,t)=>{"use strict";var{Agent:r}=Ss(),n=hv(),i=fv(),u=dv(),c=class extends r{constructor(s){super(s),u(this,s.proxyOptions)}async createConnection(s,h){let a=`${s.hostname}:${s.port||443}`,[d,f,g]=await this._getProxyStream(a);if(f!==200)throw new i(f,g);if(this.proxyOptions.raw)h.socket=d;else{let R=new n(d);return R.encrypted=!1,R._handle.getpeername=S=>{S.family=void 0,S.address=void 0,S.port=void 0},R}return super.createConnection(s,h)}};t.exports=c}),x3=Ie((e,t)=>{"use strict";var{globalAgent:r}=Ss(),n=pv(),i=cp(),u=s=>new Promise((h,a)=>{s.once("error",a),s.once("response",d=>{s.off("error",a),h(d[":status"])})}),c=class extends n{async _getProxyStream(s){let{proxyOptions:h}=this,a={...i(this),...h.headers,":method":"CONNECT",":authority":s},d=await r.request(h.url,h,a),f=await u(d);return[d,f,""]}};t.exports=c}),U3=Ie((e,t)=>{"use strict";var r=require("http"),n=require("https"),i=pv(),u=cp(),c=h=>new Promise((a,d)=>{let f=(g,R,S)=>{R.unshift(S),h.off("error",d),a([R,g.statusCode,g.statusMessage])};h.once("error",d),h.once("connect",f)}),s=class extends i{async _getProxyStream(h){let{proxyOptions:a}=this,{url:d,headers:f}=this.proxyOptions,g=(d.protocol==="https:"?n:r).request({...a,hostname:d.hostname,port:d.port,path:h,headers:{...u(this),...f,host:h},method:"CONNECT"}).end();return c(g)}};t.exports={Http2OverHttp:s,Http2OverHttps:s}}),yv=Ie((e,t)=>{"use strict";var r=require("http2"),{Agent:n,globalAgent:i}=Ss(),u=cv(),c=sv(),s=B3(),{HttpOverHttp2:h,HttpsOverHttp2:a}=N3(),d=x3(),{Http2OverHttp:f,Http2OverHttps:g}=U3(),R=uv(),S=lv(),m=(O,k,y)=>new u(O,k,y),T=(O,k,y)=>{let I=new u(O,k,y);return I.end(),I};t.exports={...r,ClientRequest:u,IncomingMessage:c,Agent:n,globalAgent:i,request:m,get:T,auto:s,proxies:{HttpOverHttp2:h,HttpsOverHttp2:a,Http2OverHttp2:d,Http2OverHttp:f,Http2OverHttps:g},validateHeaderName:R,validateHeaderValue:S}}),D3=Ie((e,t)=>{if(!globalThis.DOMException)try{let{MessageChannel:r}=require("worker_threads"),n=new r().port1,i=new ArrayBuffer;n.postMessage(i,[i,i])}catch(r){r.constructor.name==="DOMException"&&(globalThis.DOMException=r.constructor)}t.exports=globalThis.DOMException}),Hc=Ie((e,t)=>{var r=function(n,i){Error.call(this,n),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="JsonWebTokenError",this.message=n,i&&(this.inner=i)};r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,t.exports=r}),gv=Ie((e,t)=>{var r=Hc(),n=function(i,u){r.call(this,i),this.name="NotBeforeError",this.date=u};n.prototype=Object.create(r.prototype),n.prototype.constructor=n,t.exports=n}),mv=Ie((e,t)=>{var r=Hc(),n=function(i,u){r.call(this,i),this.name="TokenExpiredError",this.expiredAt=u};n.prototype=Object.create(r.prototype),n.prototype.constructor=n,t.exports=n}),xu=Ie((e,t)=>{var r=require("buffer"),n=r.Buffer;function i(c,s){for(var h in c)s[h]=c[h]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=u);function u(c,s,h){return n(c,s,h)}u.prototype=Object.create(n.prototype),i(n,u),u.from=function(c,s,h){if(typeof c=="number")throw new TypeError("Argument must not be a number");return n(c,s,h)},u.alloc=function(c,s,h){if(typeof c!="number")throw new TypeError("Argument must be a number");var a=n(c);return s!==void 0?typeof h=="string"?a.fill(s,h):a.fill(s):a.fill(0),a},u.allocUnsafe=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return n(c)},u.allocUnsafeSlow=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(c)}}),vv=Ie((e,t)=>{var r=xu().Buffer,n=require("stream"),i=require("util");function u(c){if(this.buffer=null,this.writable=!0,this.readable=!0,!c)return this.buffer=r.alloc(0),this;if(typeof c.pipe=="function")return this.buffer=r.alloc(0),c.pipe(this),this;if(c.length||typeof c=="object")return this.buffer=c,this.writable=!1,process.nextTick(function(){this.emit("end",c),this.readable=!1,this.emit("close")}.bind(this)),this;throw new TypeError("Unexpected data type ("+typeof c+")")}i.inherits(u,n),u.prototype.write=function(c){this.buffer=r.concat([this.buffer,r.from(c)]),this.emit("data",c)},u.prototype.end=function(c){c&&this.write(c),this.emit("end",c),this.emit("close"),this.writable=!1,this.readable=!1},t.exports=u}),j3=Ie((e,t)=>{"use strict";var r=require("buffer").Buffer,n=require("buffer").SlowBuffer;t.exports=i;function i(s,h){if(!r.isBuffer(s)||!r.isBuffer(h)||s.length!==h.length)return!1;for(var a=0,d=0;d<s.length;d++)a|=s[d]^h[d];return a===0}i.install=function(){r.prototype.equal=n.prototype.equal=function(s){return i(this,s)}};var u=r.prototype.equal,c=n.prototype.equal;i.restore=function(){r.prototype.equal=u,n.prototype.equal=c}}),q3=Ie((e,t)=>{"use strict";function r(u){var c=(u/8|0)+(u%8===0?0:1);return c}var n={ES256:r(256),ES384:r(384),ES512:r(521)};function i(u){var c=n[u];if(c)return c;throw new Error('Unknown algorithm "'+u+'"')}t.exports=i}),M3=Ie((e,t)=>{"use strict";var r=xu().Buffer,n=q3(),i=128,u=0,c=32,s=16,h=2,a=s|c|u<<6,d=h|u<<6;function f(T){return T.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function g(T){if(r.isBuffer(T))return T;if(typeof T=="string")return r.from(T,"base64");throw new TypeError("ECDSA signature must be a Base64 string or a Buffer")}function R(T,O){T=g(T);var k=n(O),y=k+1,I=T.length,w=0;if(T[w++]!==a)throw new Error('Could not find expected "seq"');var L=T[w++];if(L===(i|1)&&(L=T[w++]),I-w<L)throw new Error('"seq" specified length of "'+L+'", only "'+(I-w)+'" remaining');if(T[w++]!==d)throw new Error('Could not find expected "int" for "r"');var N=T[w++];if(I-w-2<N)throw new Error('"r" specified length of "'+N+'", only "'+(I-w-2)+'" available');if(y<N)throw new Error('"r" specified length of "'+N+'", max of "'+y+'" is acceptable');var C=w;if(w+=N,T[w++]!==d)throw new Error('Could not find expected "int" for "s"');var v=T[w++];if(I-w!==v)throw new Error('"s" specified length of "'+v+'", expected "'+(I-w)+'"');if(y<v)throw new Error('"s" specified length of "'+v+'", max of "'+y+'" is acceptable');var p=w;if(w+=v,w!==I)throw new Error('Expected to consume entire buffer, but "'+(I-w)+'" bytes remain');var q=k-N,V=k-v,z=r.allocUnsafe(q+N+V+v);for(w=0;w<q;++w)z[w]=0;T.copy(z,w,C+Math.max(-q,0),C+N),w=k;for(var E=w;w<E+V;++w)z[w]=0;return T.copy(z,w,p+Math.max(-V,0),p+v),z=z.toString("base64"),z=f(z),z}function S(T,O,k){for(var y=0;O+y<k&&T[O+y]===0;)++y;var I=T[O+y]>=i;return I&&--y,y}function m(T,O){T=g(T);var k=n(O),y=T.length;if(y!==k*2)throw new TypeError('"'+O+'" signatures must be "'+k*2+'" bytes, saw "'+y+'"');var I=S(T,0,k),w=S(T,k,T.length),L=k-I,N=k-w,C=1+1+L+1+1+N,v=C<i,p=r.allocUnsafe((v?2:3)+C),q=0;return p[q++]=a,v?p[q++]=C:(p[q++]=i|1,p[q++]=C&255),p[q++]=d,p[q++]=L,I<0?(p[q++]=0,q+=T.copy(p,q,0,k)):q+=T.copy(p,q,I,k),p[q++]=d,p[q++]=N,w<0?(p[q++]=0,T.copy(p,q,k)):T.copy(p,q,k+w),p}t.exports={derToJose:R,joseToDer:m}}),bv=Ie((e,t)=>{var r=j3(),n=xu().Buffer,i=require("crypto"),u=M3(),c=require("util"),s=`"%s" is not a valid algorithm.
  Supported algorithms are:
  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".`,h="secret must be a string or buffer",a="key must be a string or a buffer",d="key must be a string, a buffer or an object",f=typeof i.createPublicKey=="function";f&&(a+=" or a KeyObject",h+="or a KeyObject");function g(E){if(!n.isBuffer(E)&&typeof E!="string"&&(!f||typeof E!="object"||typeof E.type!="string"||typeof E.asymmetricKeyType!="string"||typeof E.export!="function"))throw O(a)}function R(E){if(!n.isBuffer(E)&&typeof E!="string"&&typeof E!="object")throw O(d)}function S(E){if(!n.isBuffer(E)){if(typeof E=="string")return E;if(!f||typeof E!="object"||E.type!=="secret"||typeof E.export!="function")throw O(h)}}function m(E){return E.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function T(E){E=E.toString();var B=4-E.length%4;if(B!==4)for(var D=0;D<B;++D)E+="=";return E.replace(/\-/g,"+").replace(/_/g,"/")}function O(E){var B=[].slice.call(arguments,1),D=c.format.bind(c,E).apply(null,B);return new TypeError(D)}function k(E){return n.isBuffer(E)||typeof E=="string"}function y(E){return k(E)||(E=JSON.stringify(E)),E}function I(E){return function(B,D){S(D),B=y(B);var j=i.createHmac("sha"+E,D),M=(j.update(B),j.digest("base64"));return m(M)}}function w(E){return function(B,D,j){var M=I(E)(B,j);return r(n.from(D),n.from(M))}}function L(E){return function(B,D){R(D),B=y(B);var j=i.createSign("RSA-SHA"+E),M=(j.update(B),j.sign(D,"base64"));return m(M)}}function N(E){return function(B,D,j){g(j),B=y(B),D=T(D);var M=i.createVerify("RSA-SHA"+E);return M.update(B),M.verify(j,D,"base64")}}function C(E){return function(B,D){R(D),B=y(B);var j=i.createSign("RSA-SHA"+E),M=(j.update(B),j.sign({key:D,padding:i.constants.RSA_PKCS1_PSS_PADDING,saltLength:i.constants.RSA_PSS_SALTLEN_DIGEST},"base64"));return m(M)}}function v(E){return function(B,D,j){g(j),B=y(B),D=T(D);var M=i.createVerify("RSA-SHA"+E);return M.update(B),M.verify({key:j,padding:i.constants.RSA_PKCS1_PSS_PADDING,saltLength:i.constants.RSA_PSS_SALTLEN_DIGEST},D,"base64")}}function p(E){var B=L(E);return function(){var D=B.apply(null,arguments);return D=u.derToJose(D,"ES"+E),D}}function q(E){var B=N(E);return function(D,j,M){j=u.joseToDer(j,"ES"+E).toString("base64");var ee=B(D,j,M);return ee}}function V(){return function(){return""}}function z(){return function(E,B){return B===""}}t.exports=function(E){var B={hs:I,rs:L,ps:C,es:p,none:V},D={hs:w,rs:N,ps:v,es:q,none:z},j=E.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i);if(!j)throw O(s,E);var M=(j[1]||j[3]).toLowerCase(),ee=j[2];return{sign:B[M](ee),verify:D[M](ee)}}}),_v=Ie((e,t)=>{var r=require("buffer").Buffer;t.exports=function(n){return typeof n=="string"?n:typeof n=="number"||r.isBuffer(n)?n.toString():JSON.stringify(n)}}),V3=Ie((e,t)=>{var r=xu().Buffer,n=vv(),i=bv(),u=require("stream"),c=_v(),s=require("util");function h(g,R){return r.from(g,R).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function a(g,R,S){S=S||"utf8";var m=h(c(g),"binary"),T=h(c(R),S);return s.format("%s.%s",m,T)}function d(g){var R=g.header,S=g.payload,m=g.secret||g.privateKey,T=g.encoding,O=i(R.alg),k=a(R,S,T),y=O.sign(k,m);return s.format("%s.%s",k,y)}function f(g){var R=g.secret||g.privateKey||g.key,S=new n(R);this.readable=!0,this.header=g.header,this.encoding=g.encoding,this.secret=this.privateKey=this.key=S,this.payload=new n(g.payload),this.secret.once("close",function(){!this.payload.writable&&this.readable&&this.sign()}.bind(this)),this.payload.once("close",function(){!this.secret.writable&&this.readable&&this.sign()}.bind(this))}s.inherits(f,u),f.prototype.sign=function(){try{var g=d({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",g),this.emit("data",g),this.emit("end"),this.readable=!1,g}catch(R){this.readable=!1,this.emit("error",R),this.emit("close")}},f.sign=d,t.exports=f}),F3=Ie((e,t)=>{var r=xu().Buffer,n=vv(),i=bv(),u=require("stream"),c=_v(),s=require("util"),h=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function a(y){return Object.prototype.toString.call(y)==="[object Object]"}function d(y){if(a(y))return y;try{return JSON.parse(y)}catch{return}}function f(y){var I=y.split(".",1)[0];return d(r.from(I,"base64").toString("binary"))}function g(y){return y.split(".",2).join(".")}function R(y){return y.split(".")[2]}function S(y,I){I=I||"utf8";var w=y.split(".")[1];return r.from(w,"base64").toString(I)}function m(y){return h.test(y)&&!!f(y)}function T(y,I,w){if(!I){var L=new Error("Missing algorithm parameter for jws.verify");throw L.code="MISSING_ALGORITHM",L}y=c(y);var N=R(y),C=g(y),v=i(I);return v.verify(C,N,w)}function O(y,I){if(I=I||{},y=c(y),!m(y))return null;var w=f(y);if(!w)return null;var L=S(y);return(w.typ==="JWT"||I.json)&&(L=JSON.parse(L,I.encoding)),{header:w,payload:L,signature:R(y)}}function k(y){y=y||{};var I=y.secret||y.publicKey||y.key,w=new n(I);this.readable=!0,this.algorithm=y.algorithm,this.encoding=y.encoding,this.secret=this.publicKey=this.key=w,this.signature=new n(y.signature),this.secret.once("close",function(){!this.signature.writable&&this.readable&&this.verify()}.bind(this)),this.signature.once("close",function(){!this.secret.writable&&this.readable&&this.verify()}.bind(this))}s.inherits(k,u),k.prototype.verify=function(){try{var y=T(this.signature.buffer,this.algorithm,this.key.buffer),I=O(this.signature.buffer,this.encoding);return this.emit("done",y,I),this.emit("data",y),this.emit("end"),this.readable=!1,y}catch(w){this.readable=!1,this.emit("error",w),this.emit("close")}},k.decode=O,k.isValid=m,k.verify=T,t.exports=k}),hp=Ie(e=>{var t=V3(),r=F3(),n=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"];e.ALGORITHMS=n,e.sign=t.sign,e.verify=r.verify,e.decode=r.decode,e.isValid=r.isValid,e.createSign=function(i){return new t(i)},e.createVerify=function(i){return new r(i)}}),wv=Ie((e,t)=>{var r=hp();t.exports=function(n,i){i=i||{};var u=r.decode(n,i);if(!u)return null;var c=u.payload;if(typeof c=="string")try{var s=JSON.parse(c);s!==null&&typeof s=="object"&&(c=s)}catch{}return i.complete===!0?{header:u.header,payload:c,signature:u.signature}:c}}),$3=Ie((e,t)=>{var r=1e3,n=r*60,i=n*60,u=i*24,c=u*7,s=u*365.25;t.exports=function(g,R){R=R||{};var S=typeof g;if(S==="string"&&g.length>0)return h(g);if(S==="number"&&isFinite(g))return R.long?d(g):a(g);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(g))};function h(g){if(g=String(g),!(g.length>100)){var R=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(g);if(R){var S=parseFloat(R[1]),m=(R[2]||"ms").toLowerCase();switch(m){case"years":case"year":case"yrs":case"yr":case"y":return S*s;case"weeks":case"week":case"w":return S*c;case"days":case"day":case"d":return S*u;case"hours":case"hour":case"hrs":case"hr":case"h":return S*i;case"minutes":case"minute":case"mins":case"min":case"m":return S*n;case"seconds":case"second":case"secs":case"sec":case"s":return S*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return S;default:return}}}}function a(g){var R=Math.abs(g);return R>=u?Math.round(g/u)+"d":R>=i?Math.round(g/i)+"h":R>=n?Math.round(g/n)+"m":R>=r?Math.round(g/r)+"s":g+"ms"}function d(g){var R=Math.abs(g);return R>=u?f(g,R,u,"day"):R>=i?f(g,R,i,"hour"):R>=n?f(g,R,n,"minute"):R>=r?f(g,R,r,"second"):g+" ms"}function f(g,R,S,m){var T=R>=S*1.5;return Math.round(g/S)+" "+m+(T?"s":"")}}),Ev=Ie((e,t)=>{var r=$3();t.exports=function(n,i){var u=i||Math.floor(Date.now()/1e3);if(typeof n=="string"){var c=r(n);return typeof c>"u"?void 0:Math.floor(u+c/1e3)}else return typeof n=="number"?u+n:void 0}}),Kc=Ie((e,t)=>{var r="2.0.0",n=Number.MAX_SAFE_INTEGER||9007199254740991,i=16,u=["major","premajor","minor","preminor","patch","prepatch","prerelease"];t.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:i,MAX_SAFE_INTEGER:n,RELEASE_TYPES:u,SEMVER_SPEC_VERSION:r,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}}),Wc=Ie((e,t)=>{var r=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...n)=>console.error("SEMVER",...n):()=>{};t.exports=r}),Uu=Ie((e,t)=>{var{MAX_SAFE_COMPONENT_LENGTH:r}=Kc(),n=Wc();e=t.exports={};var i=e.re=[],u=e.safeRe=[],c=e.src=[],s=e.t={},h=0,a=(d,f,g)=>{let R=f.split("\\s*").join("\\s{0,1}").split("\\s+").join("\\s"),S=h++;n(d,S,f),s[d]=S,c[S]=f,i[S]=new RegExp(f,g?"g":void 0),u[S]=new RegExp(R,g?"g":void 0)};a("NUMERICIDENTIFIER","0|[1-9]\\d*"),a("NUMERICIDENTIFIERLOOSE","[0-9]+"),a("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),a("MAINVERSION",`(${c[s.NUMERICIDENTIFIER]})\\.(${c[s.NUMERICIDENTIFIER]})\\.(${c[s.NUMERICIDENTIFIER]})`),a("MAINVERSIONLOOSE",`(${c[s.NUMERICIDENTIFIERLOOSE]})\\.(${c[s.NUMERICIDENTIFIERLOOSE]})\\.(${c[s.NUMERICIDENTIFIERLOOSE]})`),a("PRERELEASEIDENTIFIER",`(?:${c[s.NUMERICIDENTIFIER]}|${c[s.NONNUMERICIDENTIFIER]})`),a("PRERELEASEIDENTIFIERLOOSE",`(?:${c[s.NUMERICIDENTIFIERLOOSE]}|${c[s.NONNUMERICIDENTIFIER]})`),a("PRERELEASE",`(?:-(${c[s.PRERELEASEIDENTIFIER]}(?:\\.${c[s.PRERELEASEIDENTIFIER]})*))`),a("PRERELEASELOOSE",`(?:-?(${c[s.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[s.PRERELEASEIDENTIFIERLOOSE]})*))`),a("BUILDIDENTIFIER","[0-9A-Za-z-]+"),a("BUILD",`(?:\\+(${c[s.BUILDIDENTIFIER]}(?:\\.${c[s.BUILDIDENTIFIER]})*))`),a("FULLPLAIN",`v?${c[s.MAINVERSION]}${c[s.PRERELEASE]}?${c[s.BUILD]}?`),a("FULL",`^${c[s.FULLPLAIN]}$`),a("LOOSEPLAIN",`[v=\\s]*${c[s.MAINVERSIONLOOSE]}${c[s.PRERELEASELOOSE]}?${c[s.BUILD]}?`),a("LOOSE",`^${c[s.LOOSEPLAIN]}$`),a("GTLT","((?:<|>)?=?)"),a("XRANGEIDENTIFIERLOOSE",`${c[s.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),a("XRANGEIDENTIFIER",`${c[s.NUMERICIDENTIFIER]}|x|X|\\*`),a("XRANGEPLAIN",`[v=\\s]*(${c[s.XRANGEIDENTIFIER]})(?:\\.(${c[s.XRANGEIDENTIFIER]})(?:\\.(${c[s.XRANGEIDENTIFIER]})(?:${c[s.PRERELEASE]})?${c[s.BUILD]}?)?)?`),a("XRANGEPLAINLOOSE",`[v=\\s]*(${c[s.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[s.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[s.XRANGEIDENTIFIERLOOSE]})(?:${c[s.PRERELEASELOOSE]})?${c[s.BUILD]}?)?)?`),a("XRANGE",`^${c[s.GTLT]}\\s*${c[s.XRANGEPLAIN]}$`),a("XRANGELOOSE",`^${c[s.GTLT]}\\s*${c[s.XRANGEPLAINLOOSE]}$`),a("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),a("COERCERTL",c[s.COERCE],!0),a("LONETILDE","(?:~>?)"),a("TILDETRIM",`(\\s*)${c[s.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",a("TILDE",`^${c[s.LONETILDE]}${c[s.XRANGEPLAIN]}$`),a("TILDELOOSE",`^${c[s.LONETILDE]}${c[s.XRANGEPLAINLOOSE]}$`),a("LONECARET","(?:\\^)"),a("CARETTRIM",`(\\s*)${c[s.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",a("CARET",`^${c[s.LONECARET]}${c[s.XRANGEPLAIN]}$`),a("CARETLOOSE",`^${c[s.LONECARET]}${c[s.XRANGEPLAINLOOSE]}$`),a("COMPARATORLOOSE",`^${c[s.GTLT]}\\s*(${c[s.LOOSEPLAIN]})$|^$`),a("COMPARATOR",`^${c[s.GTLT]}\\s*(${c[s.FULLPLAIN]})$|^$`),a("COMPARATORTRIM",`(\\s*)${c[s.GTLT]}\\s*(${c[s.LOOSEPLAIN]}|${c[s.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",a("HYPHENRANGE",`^\\s*(${c[s.XRANGEPLAIN]})\\s+-\\s+(${c[s.XRANGEPLAIN]})\\s*$`),a("HYPHENRANGELOOSE",`^\\s*(${c[s.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[s.XRANGEPLAINLOOSE]})\\s*$`),a("STAR","(<|>)?=?\\s*\\*"),a("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),a("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}),fp=Ie((e,t)=>{var r=Object.freeze({loose:!0}),n=Object.freeze({}),i=u=>u?typeof u!="object"?r:u:n;t.exports=i}),Sv=Ie((e,t)=>{var r=/^[0-9]+$/,n=(u,c)=>{let s=r.test(u),h=r.test(c);return s&&h&&(u=+u,c=+c),u===c?0:s&&!h?-1:h&&!s?1:u<c?-1:1},i=(u,c)=>n(c,u);t.exports={compareIdentifiers:n,rcompareIdentifiers:i}}),an=Ie((e,t)=>{var r=Wc(),{MAX_LENGTH:n,MAX_SAFE_INTEGER:i}=Kc(),{safeRe:u,t:c}=Uu(),s=fp(),{compareIdentifiers:h}=Sv(),a=class Ci{constructor(f,g){if(g=s(g),f instanceof Ci){if(f.loose===!!g.loose&&f.includePrerelease===!!g.includePrerelease)return f;f=f.version}else if(typeof f!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof f}".`);if(f.length>n)throw new TypeError(`version is longer than ${n} characters`);r("SemVer",f,g),this.options=g,this.loose=!!g.loose,this.includePrerelease=!!g.includePrerelease;let R=f.trim().match(g.loose?u[c.LOOSE]:u[c.FULL]);if(!R)throw new TypeError(`Invalid Version: ${f}`);if(this.raw=f,this.major=+R[1],this.minor=+R[2],this.patch=+R[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");R[4]?this.prerelease=R[4].split(".").map(S=>{if(/^[0-9]+$/.test(S)){let m=+S;if(m>=0&&m<i)return m}return S}):this.prerelease=[],this.build=R[5]?R[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(f){if(r("SemVer.compare",this.version,this.options,f),!(f instanceof Ci)){if(typeof f=="string"&&f===this.version)return 0;f=new Ci(f,this.options)}return f.version===this.version?0:this.compareMain(f)||this.comparePre(f)}compareMain(f){return f instanceof Ci||(f=new Ci(f,this.options)),h(this.major,f.major)||h(this.minor,f.minor)||h(this.patch,f.patch)}comparePre(f){if(f instanceof Ci||(f=new Ci(f,this.options)),this.prerelease.length&&!f.prerelease.length)return-1;if(!this.prerelease.length&&f.prerelease.length)return 1;if(!this.prerelease.length&&!f.prerelease.length)return 0;let g=0;do{let R=this.prerelease[g],S=f.prerelease[g];if(r("prerelease compare",g,R,S),R===void 0&&S===void 0)return 0;if(S===void 0)return 1;if(R===void 0)return-1;if(R!==S)return h(R,S)}while(++g)}compareBuild(f){f instanceof Ci||(f=new Ci(f,this.options));let g=0;do{let R=this.build[g],S=f.build[g];if(r("prerelease compare",g,R,S),R===void 0&&S===void 0)return 0;if(S===void 0)return 1;if(R===void 0)return-1;if(R!==S)return h(R,S)}while(++g)}inc(f,g,R){switch(f){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",g,R);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",g,R);break;case"prepatch":this.prerelease.length=0,this.inc("patch",g,R),this.inc("pre",g,R);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",g,R),this.inc("pre",g,R);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let S=Number(R)?1:0;if(!g&&R===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[S];else{let m=this.prerelease.length;for(;--m>=0;)typeof this.prerelease[m]=="number"&&(this.prerelease[m]++,m=-2);if(m===-1){if(g===this.prerelease.join(".")&&R===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(S)}}if(g){let m=[g,S];R===!1&&(m=[g]),h(this.prerelease[0],g)===0?isNaN(this.prerelease[1])&&(this.prerelease=m):this.prerelease=m}break}default:throw new Error(`invalid increment argument: ${f}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};t.exports=a}),Cs=Ie((e,t)=>{var r=an(),n=(i,u,c=!1)=>{if(i instanceof r)return i;try{return new r(i,u)}catch(s){if(!c)return null;throw s}};t.exports=n}),z3=Ie((e,t)=>{var r=Cs(),n=(i,u)=>{let c=r(i,u);return c?c.version:null};t.exports=n}),H3=Ie((e,t)=>{var r=Cs(),n=(i,u)=>{let c=r(i.trim().replace(/^[=v]+/,""),u);return c?c.version:null};t.exports=n}),K3=Ie((e,t)=>{var r=an(),n=(i,u,c,s,h)=>{typeof c=="string"&&(h=s,s=c,c=void 0);try{return new r(i instanceof r?i.version:i,c).inc(u,s,h).version}catch{return null}};t.exports=n}),W3=Ie((e,t)=>{var r=Cs(),n=(i,u)=>{let c=r(i,null,!0),s=r(u,null,!0),h=c.compare(s);if(h===0)return null;let a=h>0,d=a?c:s,f=a?s:c,g=!!d.prerelease.length;if(f.prerelease.length&&!g)return!f.patch&&!f.minor?"major":d.patch?"patch":d.minor?"minor":"major";let R=g?"pre":"";return c.major!==s.major?R+"major":c.minor!==s.minor?R+"minor":c.patch!==s.patch?R+"patch":"prerelease"};t.exports=n}),G3=Ie((e,t)=>{var r=an(),n=(i,u)=>new r(i,u).major;t.exports=n}),Q3=Ie((e,t)=>{var r=an(),n=(i,u)=>new r(i,u).minor;t.exports=n}),Y3=Ie((e,t)=>{var r=an(),n=(i,u)=>new r(i,u).patch;t.exports=n}),X3=Ie((e,t)=>{var r=Cs(),n=(i,u)=>{let c=r(i,u);return c&&c.prerelease.length?c.prerelease:null};t.exports=n}),oi=Ie((e,t)=>{var r=an(),n=(i,u,c)=>new r(i,c).compare(new r(u,c));t.exports=n}),J3=Ie((e,t)=>{var r=oi(),n=(i,u,c)=>r(u,i,c);t.exports=n}),Z3=Ie((e,t)=>{var r=oi(),n=(i,u)=>r(i,u,!0);t.exports=n}),dp=Ie((e,t)=>{var r=an(),n=(i,u,c)=>{let s=new r(i,c),h=new r(u,c);return s.compare(h)||s.compareBuild(h)};t.exports=n}),e6=Ie((e,t)=>{var r=dp(),n=(i,u)=>i.sort((c,s)=>r(c,s,u));t.exports=n}),t6=Ie((e,t)=>{var r=dp(),n=(i,u)=>i.sort((c,s)=>r(s,c,u));t.exports=n}),Gc=Ie((e,t)=>{var r=oi(),n=(i,u,c)=>r(i,u,c)>0;t.exports=n}),pp=Ie((e,t)=>{var r=oi(),n=(i,u,c)=>r(i,u,c)<0;t.exports=n}),Cv=Ie((e,t)=>{var r=oi(),n=(i,u,c)=>r(i,u,c)===0;t.exports=n}),Tv=Ie((e,t)=>{var r=oi(),n=(i,u,c)=>r(i,u,c)!==0;t.exports=n}),yp=Ie((e,t)=>{var r=oi(),n=(i,u,c)=>r(i,u,c)>=0;t.exports=n}),gp=Ie((e,t)=>{var r=oi(),n=(i,u,c)=>r(i,u,c)<=0;t.exports=n}),Rv=Ie((e,t)=>{var r=Cv(),n=Tv(),i=Gc(),u=yp(),c=pp(),s=gp(),h=(a,d,f,g)=>{switch(d){case"===":return typeof a=="object"&&(a=a.version),typeof f=="object"&&(f=f.version),a===f;case"!==":return typeof a=="object"&&(a=a.version),typeof f=="object"&&(f=f.version),a!==f;case"":case"=":case"==":return r(a,f,g);case"!=":return n(a,f,g);case">":return i(a,f,g);case">=":return u(a,f,g);case"<":return c(a,f,g);case"<=":return s(a,f,g);default:throw new TypeError(`Invalid operator: ${d}`)}};t.exports=h}),r6=Ie((e,t)=>{var r=an(),n=Cs(),{safeRe:i,t:u}=Uu(),c=(s,h)=>{if(s instanceof r)return s;if(typeof s=="number"&&(s=String(s)),typeof s!="string")return null;h=h||{};let a=null;if(!h.rtl)a=s.match(i[u.COERCE]);else{let d;for(;(d=i[u.COERCERTL].exec(s))&&(!a||a.index+a[0].length!==s.length);)(!a||d.index+d[0].length!==a.index+a[0].length)&&(a=d),i[u.COERCERTL].lastIndex=d.index+d[1].length+d[2].length;i[u.COERCERTL].lastIndex=-1}return a===null?null:n(`${a[2]}.${a[3]||"0"}.${a[4]||"0"}`,h)};t.exports=c}),n6=Ie((e,t)=>{"use strict";t.exports=function(r){r.prototype[Symbol.iterator]=function*(){for(let n=this.head;n;n=n.next)yield n.value}}}),i6=Ie((e,t)=>{"use strict";t.exports=r,r.Node=c,r.create=r;function r(s){var h=this;if(h instanceof r||(h=new r),h.tail=null,h.head=null,h.length=0,s&&typeof s.forEach=="function")s.forEach(function(f){h.push(f)});else if(arguments.length>0)for(var a=0,d=arguments.length;a<d;a++)h.push(arguments[a]);return h}r.prototype.removeNode=function(s){if(s.list!==this)throw new Error("removing node which does not belong to this list");var h=s.next,a=s.prev;return h&&(h.prev=a),a&&(a.next=h),s===this.head&&(this.head=h),s===this.tail&&(this.tail=a),s.list.length--,s.next=null,s.prev=null,s.list=null,h},r.prototype.unshiftNode=function(s){if(s!==this.head){s.list&&s.list.removeNode(s);var h=this.head;s.list=this,s.next=h,h&&(h.prev=s),this.head=s,this.tail||(this.tail=s),this.length++}},r.prototype.pushNode=function(s){if(s!==this.tail){s.list&&s.list.removeNode(s);var h=this.tail;s.list=this,s.prev=h,h&&(h.next=s),this.tail=s,this.head||(this.head=s),this.length++}},r.prototype.push=function(){for(var s=0,h=arguments.length;s<h;s++)i(this,arguments[s]);return this.length},r.prototype.unshift=function(){for(var s=0,h=arguments.length;s<h;s++)u(this,arguments[s]);return this.length},r.prototype.pop=function(){if(this.tail){var s=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,s}},r.prototype.shift=function(){if(this.head){var s=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,s}},r.prototype.forEach=function(s,h){h=h||this;for(var a=this.head,d=0;a!==null;d++)s.call(h,a.value,d,this),a=a.next},r.prototype.forEachReverse=function(s,h){h=h||this;for(var a=this.tail,d=this.length-1;a!==null;d--)s.call(h,a.value,d,this),a=a.prev},r.prototype.get=function(s){for(var h=0,a=this.head;a!==null&&h<s;h++)a=a.next;if(h===s&&a!==null)return a.value},r.prototype.getReverse=function(s){for(var h=0,a=this.tail;a!==null&&h<s;h++)a=a.prev;if(h===s&&a!==null)return a.value},r.prototype.map=function(s,h){h=h||this;for(var a=new r,d=this.head;d!==null;)a.push(s.call(h,d.value,this)),d=d.next;return a},r.prototype.mapReverse=function(s,h){h=h||this;for(var a=new r,d=this.tail;d!==null;)a.push(s.call(h,d.value,this)),d=d.prev;return a},r.prototype.reduce=function(s,h){var a,d=this.head;if(arguments.length>1)a=h;else if(this.head)d=this.head.next,a=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var f=0;d!==null;f++)a=s(a,d.value,f),d=d.next;return a},r.prototype.reduceReverse=function(s,h){var a,d=this.tail;if(arguments.length>1)a=h;else if(this.tail)d=this.tail.prev,a=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var f=this.length-1;d!==null;f--)a=s(a,d.value,f),d=d.prev;return a},r.prototype.toArray=function(){for(var s=new Array(this.length),h=0,a=this.head;a!==null;h++)s[h]=a.value,a=a.next;return s},r.prototype.toArrayReverse=function(){for(var s=new Array(this.length),h=0,a=this.tail;a!==null;h++)s[h]=a.value,a=a.prev;return s},r.prototype.slice=function(s,h){h=h||this.length,h<0&&(h+=this.length),s=s||0,s<0&&(s+=this.length);var a=new r;if(h<s||h<0)return a;s<0&&(s=0),h>this.length&&(h=this.length);for(var d=0,f=this.head;f!==null&&d<s;d++)f=f.next;for(;f!==null&&d<h;d++,f=f.next)a.push(f.value);return a},r.prototype.sliceReverse=function(s,h){h=h||this.length,h<0&&(h+=this.length),s=s||0,s<0&&(s+=this.length);var a=new r;if(h<s||h<0)return a;s<0&&(s=0),h>this.length&&(h=this.length);for(var d=this.length,f=this.tail;f!==null&&d>h;d--)f=f.prev;for(;f!==null&&d>s;d--,f=f.prev)a.push(f.value);return a},r.prototype.splice=function(s,h,...a){s>this.length&&(s=this.length-1),s<0&&(s=this.length+s);for(var d=0,f=this.head;f!==null&&d<s;d++)f=f.next;for(var g=[],d=0;f&&d<h;d++)g.push(f.value),f=this.removeNode(f);f===null&&(f=this.tail),f!==this.head&&f!==this.tail&&(f=f.prev);for(var d=0;d<a.length;d++)f=n(this,f,a[d]);return g},r.prototype.reverse=function(){for(var s=this.head,h=this.tail,a=s;a!==null;a=a.prev){var d=a.prev;a.prev=a.next,a.next=d}return this.head=h,this.tail=s,this};function n(s,h,a){var d=h===s.head?new c(a,null,h,s):new c(a,h,h.next,s);return d.next===null&&(s.tail=d),d.prev===null&&(s.head=d),s.length++,d}function i(s,h){s.tail=new c(h,s.tail,null,s),s.head||(s.head=s.tail),s.length++}function u(s,h){s.head=new c(h,null,s.head,s),s.tail||(s.tail=s.head),s.length++}function c(s,h,a,d){if(!(this instanceof c))return new c(s,h,a,d);this.list=d,this.value=s,h?(h.next=this,this.prev=h):this.prev=null,a?(a.prev=this,this.next=a):this.next=null}try{n6()(r)}catch{}}),o6=Ie((e,t)=>{"use strict";var r=i6(),n=Symbol("max"),i=Symbol("length"),u=Symbol("lengthCalculator"),c=Symbol("allowStale"),s=Symbol("maxAge"),h=Symbol("dispose"),a=Symbol("noDisposeOnSet"),d=Symbol("lruList"),f=Symbol("cache"),g=Symbol("updateAgeOnGet"),R=()=>1,S=class{constructor(w){if(typeof w=="number"&&(w={max:w}),w||(w={}),w.max&&(typeof w.max!="number"||w.max<0))throw new TypeError("max must be a non-negative number");let L=this[n]=w.max||1/0,N=w.length||R;if(this[u]=typeof N!="function"?R:N,this[c]=w.stale||!1,w.maxAge&&typeof w.maxAge!="number")throw new TypeError("maxAge must be a number");this[s]=w.maxAge||0,this[h]=w.dispose,this[a]=w.noDisposeOnSet||!1,this[g]=w.updateAgeOnGet||!1,this.reset()}set max(w){if(typeof w!="number"||w<0)throw new TypeError("max must be a non-negative number");this[n]=w||1/0,O(this)}get max(){return this[n]}set allowStale(w){this[c]=!!w}get allowStale(){return this[c]}set maxAge(w){if(typeof w!="number")throw new TypeError("maxAge must be a non-negative number");this[s]=w,O(this)}get maxAge(){return this[s]}set lengthCalculator(w){typeof w!="function"&&(w=R),w!==this[u]&&(this[u]=w,this[i]=0,this[d].forEach(L=>{L.length=this[u](L.value,L.key),this[i]+=L.length})),O(this)}get lengthCalculator(){return this[u]}get length(){return this[i]}get itemCount(){return this[d].length}rforEach(w,L){L=L||this;for(let N=this[d].tail;N!==null;){let C=N.prev;I(this,w,N,L),N=C}}forEach(w,L){L=L||this;for(let N=this[d].head;N!==null;){let C=N.next;I(this,w,N,L),N=C}}keys(){return this[d].toArray().map(w=>w.key)}values(){return this[d].toArray().map(w=>w.value)}reset(){this[h]&&this[d]&&this[d].length&&this[d].forEach(w=>this[h](w.key,w.value)),this[f]=new Map,this[d]=new r,this[i]=0}dump(){return this[d].map(w=>T(this,w)?!1:{k:w.key,v:w.value,e:w.now+(w.maxAge||0)}).toArray().filter(w=>w)}dumpLru(){return this[d]}set(w,L,N){if(N=N||this[s],N&&typeof N!="number")throw new TypeError("maxAge must be a number");let C=N?Date.now():0,v=this[u](L,w);if(this[f].has(w)){if(v>this[n])return k(this,this[f].get(w)),!1;let q=this[f].get(w).value;return this[h]&&(this[a]||this[h](w,q.value)),q.now=C,q.maxAge=N,q.value=L,this[i]+=v-q.length,q.length=v,this.get(w),O(this),!0}let p=new y(w,L,v,C,N);return p.length>this[n]?(this[h]&&this[h](w,L),!1):(this[i]+=p.length,this[d].unshift(p),this[f].set(w,this[d].head),O(this),!0)}has(w){if(!this[f].has(w))return!1;let L=this[f].get(w).value;return!T(this,L)}get(w){return m(this,w,!0)}peek(w){return m(this,w,!1)}pop(){let w=this[d].tail;return w?(k(this,w),w.value):null}del(w){k(this,this[f].get(w))}load(w){this.reset();let L=Date.now();for(let N=w.length-1;N>=0;N--){let C=w[N],v=C.e||0;if(v===0)this.set(C.k,C.v);else{let p=v-L;p>0&&this.set(C.k,C.v,p)}}}prune(){this[f].forEach((w,L)=>m(this,L,!1))}},m=(w,L,N)=>{let C=w[f].get(L);if(C){let v=C.value;if(T(w,v)){if(k(w,C),!w[c])return}else N&&(w[g]&&(C.value.now=Date.now()),w[d].unshiftNode(C));return v.value}},T=(w,L)=>{if(!L||!L.maxAge&&!w[s])return!1;let N=Date.now()-L.now;return L.maxAge?N>L.maxAge:w[s]&&N>w[s]},O=w=>{if(w[i]>w[n])for(let L=w[d].tail;w[i]>w[n]&&L!==null;){let N=L.prev;k(w,L),L=N}},k=(w,L)=>{if(L){let N=L.value;w[h]&&w[h](N.key,N.value),w[i]-=N.length,w[f].delete(N.key),w[d].removeNode(L)}},y=class{constructor(w,L,N,C,v){this.key=w,this.value=L,this.length=N,this.now=C,this.maxAge=v||0}},I=(w,L,N,C)=>{let v=N.value;T(w,v)&&(k(w,N),w[c]||(v=void 0)),v&&L.call(C,v.value,v.key,w)};t.exports=S}),ai=Ie((e,t)=>{var r=class yc{constructor(D,j){if(j=u(j),D instanceof yc)return D.loose===!!j.loose&&D.includePrerelease===!!j.includePrerelease?D:new yc(D.raw,j);if(D instanceof c)return this.raw=D.value,this.set=[[D]],this.format(),this;if(this.options=j,this.loose=!!j.loose,this.includePrerelease=!!j.includePrerelease,this.raw=D.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(M=>this.parseRange(M)).filter(M=>M.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let M=this.set[0];if(this.set=this.set.filter(ee=>!T(ee[0])),this.set.length===0)this.set=[M];else if(this.set.length>1){for(let ee of this.set)if(ee.length===1&&O(ee[0])){this.set=[ee];break}}}this.format()}format(){return this.range=this.set.map(D=>D.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(D){let j=((this.options.includePrerelease&&S)|(this.options.loose&&m))+":"+D,M=i.get(j);if(M)return M;let ee=this.options.loose,oe=ee?a[d.HYPHENRANGELOOSE]:a[d.HYPHENRANGE];D=D.replace(oe,z(this.options.includePrerelease)),s("hyphen replace",D),D=D.replace(a[d.COMPARATORTRIM],f),s("comparator trim",D),D=D.replace(a[d.TILDETRIM],g),D=D.replace(a[d.CARETTRIM],R);let ce=D.split(" ").map(Pe=>y(Pe,this.options)).join(" ").split(/\s+/).map(Pe=>V(Pe,this.options));ee&&(ce=ce.filter(Pe=>(s("loose invalid filter",Pe,this.options),!!Pe.match(a[d.COMPARATORLOOSE])))),s("range list",ce);let pe=new Map,me=ce.map(Pe=>new c(Pe,this.options));for(let Pe of me){if(T(Pe))return[Pe];pe.set(Pe.value,Pe)}pe.size>1&&pe.has("")&&pe.delete("");let ke=[...pe.values()];return i.set(j,ke),ke}intersects(D,j){if(!(D instanceof yc))throw new TypeError("a Range is required");return this.set.some(M=>k(M,j)&&D.set.some(ee=>k(ee,j)&&M.every(oe=>ee.every(ce=>oe.intersects(ce,j)))))}test(D){if(!D)return!1;if(typeof D=="string")try{D=new h(D,this.options)}catch{return!1}for(let j=0;j<this.set.length;j++)if(E(this.set[j],D,this.options))return!0;return!1}};t.exports=r;var n=o6(),i=new n({max:1e3}),u=fp(),c=Qc(),s=Wc(),h=an(),{safeRe:a,t:d,comparatorTrimReplace:f,tildeTrimReplace:g,caretTrimReplace:R}=Uu(),{FLAG_INCLUDE_PRERELEASE:S,FLAG_LOOSE:m}=Kc(),T=B=>B.value==="<0.0.0-0",O=B=>B.value==="",k=(B,D)=>{let j=!0,M=B.slice(),ee=M.pop();for(;j&&M.length;)j=M.every(oe=>ee.intersects(oe,D)),ee=M.pop();return j},y=(B,D)=>(s("comp",B,D),B=N(B,D),s("caret",B),B=w(B,D),s("tildes",B),B=v(B,D),s("xrange",B),B=q(B,D),s("stars",B),B),I=B=>!B||B.toLowerCase()==="x"||B==="*",w=(B,D)=>B.trim().split(/\s+/).map(j=>L(j,D)).join(" "),L=(B,D)=>{let j=D.loose?a[d.TILDELOOSE]:a[d.TILDE];return B.replace(j,(M,ee,oe,ce,pe)=>{s("tilde",B,M,ee,oe,ce,pe);let me;return I(ee)?me="":I(oe)?me=`>=${ee}.0.0 <${+ee+1}.0.0-0`:I(ce)?me=`>=${ee}.${oe}.0 <${ee}.${+oe+1}.0-0`:pe?(s("replaceTilde pr",pe),me=`>=${ee}.${oe}.${ce}-${pe} <${ee}.${+oe+1}.0-0`):me=`>=${ee}.${oe}.${ce} <${ee}.${+oe+1}.0-0`,s("tilde return",me),me})},N=(B,D)=>B.trim().split(/\s+/).map(j=>C(j,D)).join(" "),C=(B,D)=>{s("caret",B,D);let j=D.loose?a[d.CARETLOOSE]:a[d.CARET],M=D.includePrerelease?"-0":"";return B.replace(j,(ee,oe,ce,pe,me)=>{s("caret",B,ee,oe,ce,pe,me);let ke;return I(oe)?ke="":I(ce)?ke=`>=${oe}.0.0${M} <${+oe+1}.0.0-0`:I(pe)?oe==="0"?ke=`>=${oe}.${ce}.0${M} <${oe}.${+ce+1}.0-0`:ke=`>=${oe}.${ce}.0${M} <${+oe+1}.0.0-0`:me?(s("replaceCaret pr",me),oe==="0"?ce==="0"?ke=`>=${oe}.${ce}.${pe}-${me} <${oe}.${ce}.${+pe+1}-0`:ke=`>=${oe}.${ce}.${pe}-${me} <${oe}.${+ce+1}.0-0`:ke=`>=${oe}.${ce}.${pe}-${me} <${+oe+1}.0.0-0`):(s("no pr"),oe==="0"?ce==="0"?ke=`>=${oe}.${ce}.${pe}${M} <${oe}.${ce}.${+pe+1}-0`:ke=`>=${oe}.${ce}.${pe}${M} <${oe}.${+ce+1}.0-0`:ke=`>=${oe}.${ce}.${pe} <${+oe+1}.0.0-0`),s("caret return",ke),ke})},v=(B,D)=>(s("replaceXRanges",B,D),B.split(/\s+/).map(j=>p(j,D)).join(" ")),p=(B,D)=>{B=B.trim();let j=D.loose?a[d.XRANGELOOSE]:a[d.XRANGE];return B.replace(j,(M,ee,oe,ce,pe,me)=>{s("xRange",B,M,ee,oe,ce,pe,me);let ke=I(oe),Pe=ke||I(ce),Ce=Pe||I(pe),Ke=Ce;return ee==="="&&Ke&&(ee=""),me=D.includePrerelease?"-0":"",ke?ee===">"||ee==="<"?M="<0.0.0-0":M="*":ee&&Ke?(Pe&&(ce=0),pe=0,ee===">"?(ee=">=",Pe?(oe=+oe+1,ce=0,pe=0):(ce=+ce+1,pe=0)):ee==="<="&&(ee="<",Pe?oe=+oe+1:ce=+ce+1),ee==="<"&&(me="-0"),M=`${ee+oe}.${ce}.${pe}${me}`):Pe?M=`>=${oe}.0.0${me} <${+oe+1}.0.0-0`:Ce&&(M=`>=${oe}.${ce}.0${me} <${oe}.${+ce+1}.0-0`),s("xRange return",M),M})},q=(B,D)=>(s("replaceStars",B,D),B.trim().replace(a[d.STAR],"")),V=(B,D)=>(s("replaceGTE0",B,D),B.trim().replace(a[D.includePrerelease?d.GTE0PRE:d.GTE0],"")),z=B=>(D,j,M,ee,oe,ce,pe,me,ke,Pe,Ce,Ke,Re)=>(I(M)?j="":I(ee)?j=`>=${M}.0.0${B?"-0":""}`:I(oe)?j=`>=${M}.${ee}.0${B?"-0":""}`:ce?j=`>=${j}`:j=`>=${j}${B?"-0":""}`,I(ke)?me="":I(Pe)?me=`<${+ke+1}.0.0-0`:I(Ce)?me=`<${ke}.${+Pe+1}.0-0`:Ke?me=`<=${ke}.${Pe}.${Ce}-${Ke}`:B?me=`<${ke}.${Pe}.${+Ce+1}-0`:me=`<=${me}`,`${j} ${me}`.trim()),E=(B,D,j)=>{for(let M=0;M<B.length;M++)if(!B[M].test(D))return!1;if(D.prerelease.length&&!j.includePrerelease){for(let M=0;M<B.length;M++)if(s(B[M].semver),B[M].semver!==c.ANY&&B[M].semver.prerelease.length>0){let ee=B[M].semver;if(ee.major===D.major&&ee.minor===D.minor&&ee.patch===D.patch)return!0}return!1}return!0}}),Qc=Ie((e,t)=>{var r=Symbol("SemVer ANY"),n=class xd{static get ANY(){return r}constructor(g,R){if(R=i(R),g instanceof xd){if(g.loose===!!R.loose)return g;g=g.value}g=g.trim().split(/\s+/).join(" "),h("comparator",g,R),this.options=R,this.loose=!!R.loose,this.parse(g),this.semver===r?this.value="":this.value=this.operator+this.semver.version,h("comp",this)}parse(g){let R=this.options.loose?u[c.COMPARATORLOOSE]:u[c.COMPARATOR],S=g.match(R);if(!S)throw new TypeError(`Invalid comparator: ${g}`);this.operator=S[1]!==void 0?S[1]:"",this.operator==="="&&(this.operator=""),S[2]?this.semver=new a(S[2],this.options.loose):this.semver=r}toString(){return this.value}test(g){if(h("Comparator.test",g,this.options.loose),this.semver===r||g===r)return!0;if(typeof g=="string")try{g=new a(g,this.options)}catch{return!1}return s(g,this.operator,this.semver,this.options)}intersects(g,R){if(!(g instanceof xd))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new d(g.value,R).test(this.value):g.operator===""?g.value===""?!0:new d(this.value,R).test(g.semver):(R=i(R),R.includePrerelease&&(this.value==="<0.0.0-0"||g.value==="<0.0.0-0")||!R.includePrerelease&&(this.value.startsWith("<0.0.0")||g.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&g.operator.startsWith(">")||this.operator.startsWith("<")&&g.operator.startsWith("<")||this.semver.version===g.semver.version&&this.operator.includes("=")&&g.operator.includes("=")||s(this.semver,"<",g.semver,R)&&this.operator.startsWith(">")&&g.operator.startsWith("<")||s(this.semver,">",g.semver,R)&&this.operator.startsWith("<")&&g.operator.startsWith(">")))}};t.exports=n;var i=fp(),{safeRe:u,t:c}=Uu(),s=Rv(),h=Wc(),a=an(),d=ai()}),Yc=Ie((e,t)=>{var r=ai(),n=(i,u,c)=>{try{u=new r(u,c)}catch{return!1}return u.test(i)};t.exports=n}),a6=Ie((e,t)=>{var r=ai(),n=(i,u)=>new r(i,u).set.map(c=>c.map(s=>s.value).join(" ").trim().split(" "));t.exports=n}),s6=Ie((e,t)=>{var r=an(),n=ai(),i=(u,c,s)=>{let h=null,a=null,d=null;try{d=new n(c,s)}catch{return null}return u.forEach(f=>{d.test(f)&&(!h||a.compare(f)===-1)&&(h=f,a=new r(h,s))}),h};t.exports=i}),u6=Ie((e,t)=>{var r=an(),n=ai(),i=(u,c,s)=>{let h=null,a=null,d=null;try{d=new n(c,s)}catch{return null}return u.forEach(f=>{d.test(f)&&(!h||a.compare(f)===1)&&(h=f,a=new r(h,s))}),h};t.exports=i}),l6=Ie((e,t)=>{var r=an(),n=ai(),i=Gc(),u=(c,s)=>{c=new n(c,s);let h=new r("0.0.0");if(c.test(h)||(h=new r("0.0.0-0"),c.test(h)))return h;h=null;for(let a=0;a<c.set.length;++a){let d=c.set[a],f=null;d.forEach(g=>{let R=new r(g.semver.version);switch(g.operator){case">":R.prerelease.length===0?R.patch++:R.prerelease.push(0),R.raw=R.format();case"":case">=":(!f||i(R,f))&&(f=R);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${g.operator}`)}}),f&&(!h||i(h,f))&&(h=f)}return h&&c.test(h)?h:null};t.exports=u}),c6=Ie((e,t)=>{var r=ai(),n=(i,u)=>{try{return new r(i,u).range||"*"}catch{return null}};t.exports=n}),mp=Ie((e,t)=>{var r=an(),n=Qc(),{ANY:i}=n,u=ai(),c=Yc(),s=Gc(),h=pp(),a=gp(),d=yp(),f=(g,R,S,m)=>{g=new r(g,m),R=new u(R,m);let T,O,k,y,I;switch(S){case">":T=s,O=a,k=h,y=">",I=">=";break;case"<":T=h,O=d,k=s,y="<",I="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(c(g,R,m))return!1;for(let w=0;w<R.set.length;++w){let L=R.set[w],N=null,C=null;if(L.forEach(v=>{v.semver===i&&(v=new n(">=0.0.0")),N=N||v,C=C||v,T(v.semver,N.semver,m)?N=v:k(v.semver,C.semver,m)&&(C=v)}),N.operator===y||N.operator===I||(!C.operator||C.operator===y)&&O(g,C.semver)||C.operator===I&&k(g,C.semver))return!1}return!0};t.exports=f}),h6=Ie((e,t)=>{var r=mp(),n=(i,u,c)=>r(i,u,">",c);t.exports=n}),f6=Ie((e,t)=>{var r=mp(),n=(i,u,c)=>r(i,u,"<",c);t.exports=n}),d6=Ie((e,t)=>{var r=ai(),n=(i,u,c)=>(i=new r(i,c),u=new r(u,c),i.intersects(u,c));t.exports=n}),p6=Ie((e,t)=>{var r=Yc(),n=oi();t.exports=(i,u,c)=>{let s=[],h=null,a=null,d=i.sort((S,m)=>n(S,m,c));for(let S of d)r(S,u,c)?(a=S,h||(h=S)):(a&&s.push([h,a]),a=null,h=null);h&&s.push([h,null]);let f=[];for(let[S,m]of s)S===m?f.push(S):!m&&S===d[0]?f.push("*"):m?S===d[0]?f.push(`<=${m}`):f.push(`${S} - ${m}`):f.push(`>=${S}`);let g=f.join(" || "),R=typeof u.raw=="string"?u.raw:String(u);return g.length<R.length?g:u}}),y6=Ie((e,t)=>{var r=ai(),n=Qc(),{ANY:i}=n,u=Yc(),c=oi(),s=(R,S,m={})=>{if(R===S)return!0;R=new r(R,m),S=new r(S,m);let T=!1;e:for(let O of R.set){for(let k of S.set){let y=d(O,k,m);if(T=T||y!==null,y)continue e}if(T)return!1}return!0},h=[new n(">=0.0.0-0")],a=[new n(">=0.0.0")],d=(R,S,m)=>{if(R===S)return!0;if(R.length===1&&R[0].semver===i){if(S.length===1&&S[0].semver===i)return!0;m.includePrerelease?R=h:R=a}if(S.length===1&&S[0].semver===i){if(m.includePrerelease)return!0;S=a}let T=new Set,O,k;for(let p of R)p.operator===">"||p.operator===">="?O=f(O,p,m):p.operator==="<"||p.operator==="<="?k=g(k,p,m):T.add(p.semver);if(T.size>1)return null;let y;if(O&&k&&(y=c(O.semver,k.semver,m),y>0||y===0&&(O.operator!==">="||k.operator!=="<=")))return null;for(let p of T){if(O&&!u(p,String(O),m)||k&&!u(p,String(k),m))return null;for(let q of S)if(!u(p,String(q),m))return!1;return!0}let I,w,L,N,C=k&&!m.includePrerelease&&k.semver.prerelease.length?k.semver:!1,v=O&&!m.includePrerelease&&O.semver.prerelease.length?O.semver:!1;C&&C.prerelease.length===1&&k.operator==="<"&&C.prerelease[0]===0&&(C=!1);for(let p of S){if(N=N||p.operator===">"||p.operator===">=",L=L||p.operator==="<"||p.operator==="<=",O){if(v&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===v.major&&p.semver.minor===v.minor&&p.semver.patch===v.patch&&(v=!1),p.operator===">"||p.operator===">="){if(I=f(O,p,m),I===p&&I!==O)return!1}else if(O.operator===">="&&!u(O.semver,String(p),m))return!1}if(k){if(C&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===C.major&&p.semver.minor===C.minor&&p.semver.patch===C.patch&&(C=!1),p.operator==="<"||p.operator==="<="){if(w=g(k,p,m),w===p&&w!==k)return!1}else if(k.operator==="<="&&!u(k.semver,String(p),m))return!1}if(!p.operator&&(k||O)&&y!==0)return!1}return!(O&&L&&!k&&y!==0||k&&N&&!O&&y!==0||v||C)},f=(R,S,m)=>{if(!R)return S;let T=c(R.semver,S.semver,m);return T>0?R:T<0||S.operator===">"&&R.operator===">="?S:R},g=(R,S,m)=>{if(!R)return S;let T=c(R.semver,S.semver,m);return T<0?R:T>0||S.operator==="<"&&R.operator==="<="?S:R};t.exports=s}),vp=Ie((e,t)=>{var r=Uu(),n=Kc(),i=an(),u=Sv(),c=Cs(),s=z3(),h=H3(),a=K3(),d=W3(),f=G3(),g=Q3(),R=Y3(),S=X3(),m=oi(),T=J3(),O=Z3(),k=dp(),y=e6(),I=t6(),w=Gc(),L=pp(),N=Cv(),C=Tv(),v=yp(),p=gp(),q=Rv(),V=r6(),z=Qc(),E=ai(),B=Yc(),D=a6(),j=s6(),M=u6(),ee=l6(),oe=c6(),ce=mp(),pe=h6(),me=f6(),ke=d6(),Pe=p6(),Ce=y6();t.exports={parse:c,valid:s,clean:h,inc:a,diff:d,major:f,minor:g,patch:R,prerelease:S,compare:m,rcompare:T,compareLoose:O,compareBuild:k,sort:y,rsort:I,gt:w,lt:L,eq:N,neq:C,gte:v,lte:p,cmp:q,coerce:V,Comparator:z,Range:E,satisfies:B,toComparators:D,maxSatisfying:j,minSatisfying:M,minVersion:ee,validRange:oe,outside:ce,gtr:pe,ltr:me,intersects:ke,simplifyRange:Pe,subset:Ce,SemVer:i,re:r.re,src:r.src,tokens:r.t,SEMVER_SPEC_VERSION:n.SEMVER_SPEC_VERSION,RELEASE_TYPES:n.RELEASE_TYPES,compareIdentifiers:u.compareIdentifiers,rcompareIdentifiers:u.rcompareIdentifiers}}),g6=Ie((e,t)=>{var r=vp();t.exports=r.satisfies(process.version,">=15.7.0")}),m6=Ie((e,t)=>{var r=vp();t.exports=r.satisfies(process.version,">=16.9.0")}),Iv=Ie((e,t)=>{var r=g6(),n=m6(),i={ec:["ES256","ES384","ES512"],rsa:["RS256","PS256","RS384","PS384","RS512","PS512"],"rsa-pss":["PS256","PS384","PS512"]},u={ES256:"prime256v1",ES384:"secp384r1",ES512:"secp521r1"};t.exports=function(c,s){if(!c||!s)return;let h=s.asymmetricKeyType;if(!h)return;let a=i[h];if(!a)throw new Error(`Unknown key type "${h}".`);if(!a.includes(c))throw new Error(`"alg" parameter for "${h}" key type must be one of: ${a.join(", ")}.`);if(r)switch(h){case"ec":let d=s.asymmetricKeyDetails.namedCurve,f=u[c];if(d!==f)throw new Error(`"alg" parameter "${c}" requires curve "${f}".`);break;case"rsa-pss":if(n){let g=parseInt(c.slice(-3),10),{hashAlgorithm:R,mgf1HashAlgorithm:S,saltLength:m}=s.asymmetricKeyDetails;if(R!==`sha${g}`||S!==R)throw new Error(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${c}.`);if(m!==void 0&&m>g>>3)throw new Error(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${c}.`)}break}}}),Av=Ie((e,t)=>{var r=vp();t.exports=r.satisfies(process.version,"^6.12.0 || >=8.0.0")}),v6=Ie((e,t)=>{var r=Hc(),n=gv(),i=mv(),u=wv(),c=Ev(),s=Iv(),h=Av(),a=hp(),{KeyObject:d,createSecretKey:f,createPublicKey:g}=require("crypto"),R=["RS256","RS384","RS512"],S=["ES256","ES384","ES512"],m=["RS256","RS384","RS512"],T=["HS256","HS384","HS512"];h&&(R.splice(R.length,0,"PS256","PS384","PS512"),m.splice(m.length,0,"PS256","PS384","PS512")),t.exports=function(O,k,y,I){typeof y=="function"&&!I&&(I=y,y={}),y||(y={}),y=Object.assign({},y);let w;if(I?w=I:w=function(q,V){if(q)throw q;return V},y.clockTimestamp&&typeof y.clockTimestamp!="number")return w(new r("clockTimestamp must be a number"));if(y.nonce!==void 0&&(typeof y.nonce!="string"||y.nonce.trim()===""))return w(new r("nonce must be a non-empty string"));if(y.allowInvalidAsymmetricKeyTypes!==void 0&&typeof y.allowInvalidAsymmetricKeyTypes!="boolean")return w(new r("allowInvalidAsymmetricKeyTypes must be a boolean"));let L=y.clockTimestamp||Math.floor(Date.now()/1e3);if(!O)return w(new r("jwt must be provided"));if(typeof O!="string")return w(new r("jwt must be a string"));let N=O.split(".");if(N.length!==3)return w(new r("jwt malformed"));let C;try{C=u(O,{complete:!0})}catch(q){return w(q)}if(!C)return w(new r("invalid token"));let v=C.header,p;if(typeof k=="function"){if(!I)return w(new r("verify must be called asynchronous if secret or public key is provided as a callback"));p=k}else p=function(q,V){return V(null,k)};return p(v,function(q,V){if(q)return w(new r("error in secret or public key callback: "+q.message));let z=N[2].trim()!=="";if(!z&&V)return w(new r("jwt signature is required"));if(z&&!V)return w(new r("secret or public key must be provided"));if(!z&&!y.algorithms)return w(new r('please specify "none" in "algorithms" to verify unsigned tokens'));if(V!=null&&!(V instanceof d))try{V=g(V)}catch{try{V=f(typeof V=="string"?Buffer.from(V):V)}catch{return w(new r("secretOrPublicKey is not valid key material"))}}if(y.algorithms||(V.type==="secret"?y.algorithms=T:["rsa","rsa-pss"].includes(V.asymmetricKeyType)?y.algorithms=m:V.asymmetricKeyType==="ec"?y.algorithms=S:y.algorithms=R),y.algorithms.indexOf(C.header.alg)===-1)return w(new r("invalid algorithm"));if(v.alg.startsWith("HS")&&V.type!=="secret")return w(new r(`secretOrPublicKey must be a symmetric key when using ${v.alg}`));if(/^(?:RS|PS|ES)/.test(v.alg)&&V.type!=="public")return w(new r(`secretOrPublicKey must be an asymmetric key when using ${v.alg}`));if(!y.allowInvalidAsymmetricKeyTypes)try{s(v.alg,V)}catch(D){return w(D)}let E;try{E=a.verify(O,C.header.alg,V)}catch(D){return w(D)}if(!E)return w(new r("invalid signature"));let B=C.payload;if(typeof B.nbf<"u"&&!y.ignoreNotBefore){if(typeof B.nbf!="number")return w(new r("invalid nbf value"));if(B.nbf>L+(y.clockTolerance||0))return w(new n("jwt not active",new Date(B.nbf*1e3)))}if(typeof B.exp<"u"&&!y.ignoreExpiration){if(typeof B.exp!="number")return w(new r("invalid exp value"));if(L>=B.exp+(y.clockTolerance||0))return w(new i("jwt expired",new Date(B.exp*1e3)))}if(y.audience){let D=Array.isArray(y.audience)?y.audience:[y.audience];if(!(Array.isArray(B.aud)?B.aud:[B.aud]).some(function(j){return D.some(function(M){return M instanceof RegExp?M.test(j):M===j})}))return w(new r("jwt audience invalid. expected: "+D.join(" or ")))}if(y.issuer&&(typeof y.issuer=="string"&&B.iss!==y.issuer||Array.isArray(y.issuer)&&y.issuer.indexOf(B.iss)===-1))return w(new r("jwt issuer invalid. expected: "+y.issuer));if(y.subject&&B.sub!==y.subject)return w(new r("jwt subject invalid. expected: "+y.subject));if(y.jwtid&&B.jti!==y.jwtid)return w(new r("jwt jwtid invalid. expected: "+y.jwtid));if(y.nonce&&B.nonce!==y.nonce)return w(new r("jwt nonce invalid. expected: "+y.nonce));if(y.maxAge){if(typeof B.iat!="number")return w(new r("iat required when maxAge is specified"));let D=c(y.maxAge,B.iat);if(typeof D>"u")return w(new r('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'));if(L>=D+(y.clockTolerance||0))return w(new i("maxAge exceeded",new Date(D*1e3)))}if(y.complete===!0){let D=C.signature;return w(null,{header:v,payload:B,signature:D})}return w(null,B)})}}),b6=Ie((e,t)=>{(function(){var r,n="4.17.21",i=200,u="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",s="Invalid `variable` option passed into `_.template`",h="__lodash_hash_undefined__",a=500,d="__lodash_placeholder__",f=1,g=2,R=4,S=1,m=2,T=1,O=2,k=4,y=8,I=16,w=32,L=64,N=128,C=256,v=512,p=30,q="...",V=800,z=16,E=1,B=2,D=3,j=1/0,M=9007199254740991,ee=17976931348623157e292,oe=0/0,ce=4294967295,pe=ce-1,me=ce>>>1,ke=[["ary",N],["bind",T],["bindKey",O],["curry",y],["curryRight",I],["flip",v],["partial",w],["partialRight",L],["rearg",C]],Pe="[object Arguments]",Ce="[object Array]",Ke="[object AsyncFunction]",Re="[object Boolean]",et="[object Date]",Je="[object DOMException]",x="[object Error]",X="[object Function]",Q="[object GeneratorFunction]",A="[object Map]",K="[object Number]",ae="[object Null]",te="[object Object]",Ee="[object Promise]",Ue="[object Proxy]",qe="[object RegExp]",ge="[object Set]",Ne="[object String]",We="[object Symbol]",rt="[object Undefined]",ze="[object WeakMap]",kt="[object WeakSet]",St="[object ArrayBuffer]",Ct="[object DataView]",Bt="[object Float32Array]",Ot="[object Float64Array]",Lt="[object Int8Array]",zt="[object Int16Array]",Xt="[object Int32Array]",Ht="[object Uint8Array]",Kt="[object Uint8ClampedArray]",lr="[object Uint16Array]",Cr="[object Uint32Array]",gr=/\b__p \+= '';/g,qr=/\b(__p \+=) '' \+/g,un=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Qr=/&(?:amp|lt|gt|quot|#39);/g,Yr=/[&<>"']/g,_n=RegExp(Qr.source),li=RegExp(Yr.source),Mr=/<%-([\s\S]+?)%>/g,Nn=/<%([\s\S]+?)%>/g,xt=/<%=([\s\S]+?)%>/g,Ut=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Jt=/^\w*$/,Dt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Wt=/[\\^$.*+?()[\]{}|]/g,Zt=RegExp(Wt.source),Gt=/^\s+/,Qt=/\s/,rr=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,nr=/\{\n\/\* \[wrapped with (.+)\] \*/,ir=/,? & /,er=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,or=/[()=,{}\[\]\/\s]/,cr=/\\(\\)?/g,$t=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,tr=/\w*$/,Pa=/^[-+]0x[0-9a-f]+$/i,ho=/^0b[01]+$/i,As=/^\[object .+?Constructor\]$/,fo=/^0o[0-7]+$/i,Pi=/^(?:0|[1-9]\d*)$/,wn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Tr=/($^)/,$o=/['\n\r\u2028\u2029\\]/g,Bi="\\ud800-\\udfff",po="\\u0300-\\u036f",yo="\\ufe20-\\ufe2f",Ba="\\u20d0-\\u20ff",La=po+yo+Ba,Na="\\u2700-\\u27bf",go="a-z\\xdf-\\xf6\\xf8-\\xff",br="\\xac\\xb1\\xd7\\xf7",xa="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ua="\\u2000-\\u206f",ks=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",zo="A-Z\\xc0-\\xd6\\xd8-\\xde",$="\\ufe0e\\ufe0f",G=br+xa+Ua+ks,Z="['\u2019]",le="["+Bi+"]",_e="["+G+"]",Te="["+La+"]",xe="\\d+",Le="["+Na+"]",bt="["+go+"]",ar="[^"+Bi+G+xe+Na+go+zo+"]",Rr="\\ud83c[\\udffb-\\udfff]",Pr="(?:"+Te+"|"+Rr+")",ln="[^"+Bi+"]",ci="(?:\\ud83c[\\udde6-\\uddff]){2}",Ir="[\\ud800-\\udbff][\\udc00-\\udfff]",mr="["+zo+"]",Li="\\u200d",En="(?:"+bt+"|"+ar+")",Gn="(?:"+mr+"|"+ar+")",Os="(?:"+Z+"(?:d|ll|m|re|s|t|ve))?",Wu="(?:"+Z+"(?:D|LL|M|RE|S|T|VE))?",Ps=Pr+"?",Ni="["+$+"]?",mo="(?:"+Li+"(?:"+[ln,ci,Ir].join("|")+")"+Ni+Ps+")*",Da="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Gu="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Qu=Ni+Ps+mo,Bs="(?:"+[Le,ci,Ir].join("|")+")"+Qu,Ls="(?:"+[ln+Te+"?",Te,ci,Ir,le].join("|")+")",Ns=RegExp(Z,"g"),fh=RegExp(Te,"g"),xs=RegExp(Rr+"(?="+Rr+")|"+Ls+Qu,"g"),dh=RegExp([mr+"?"+bt+"+"+Os+"(?="+[_e,mr,"$"].join("|")+")",Gn+"+"+Wu+"(?="+[_e,mr+En,"$"].join("|")+")",mr+"?"+En+"+"+Os,mr+"+"+Wu,Gu,Da,xe,Bs].join("|"),"g"),ph=RegExp("["+Li+Bi+La+$+"]"),xn=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,yh=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],gh=-1,Vt={};Vt[Bt]=Vt[Ot]=Vt[Lt]=Vt[zt]=Vt[Xt]=Vt[Ht]=Vt[Kt]=Vt[lr]=Vt[Cr]=!0,Vt[Pe]=Vt[Ce]=Vt[St]=Vt[Re]=Vt[Ct]=Vt[et]=Vt[x]=Vt[X]=Vt[A]=Vt[K]=Vt[te]=Vt[qe]=Vt[ge]=Vt[Ne]=Vt[ze]=!1;var Tt={};Tt[Pe]=Tt[Ce]=Tt[St]=Tt[Ct]=Tt[Re]=Tt[et]=Tt[Bt]=Tt[Ot]=Tt[Lt]=Tt[zt]=Tt[Xt]=Tt[A]=Tt[K]=Tt[te]=Tt[qe]=Tt[ge]=Tt[Ne]=Tt[We]=Tt[Ht]=Tt[Kt]=Tt[lr]=Tt[Cr]=!0,Tt[x]=Tt[X]=Tt[ze]=!1;var Us={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Ho={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},xi={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},mh={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Yu=parseFloat,vh=parseInt,Xu=typeof global=="object"&&global&&global.Object===Object&&global,Ju=typeof self=="object"&&self&&self.Object===Object&&self,vr=Xu||Ju||Function("return this")(),ja=typeof e=="object"&&e&&!e.nodeType&&e,hi=ja&&typeof t=="object"&&t&&!t.nodeType&&t,Ds=hi&&hi.exports===ja,fi=Ds&&Xu.process,Vr=function(){try{var he=hi&&hi.require&&hi.require("util").types;return he||fi&&fi.binding&&fi.binding("util")}catch{}}(),js=Vr&&Vr.isArrayBuffer,Zu=Vr&&Vr.isDate,Ko=Vr&&Vr.isMap,el=Vr&&Vr.isRegExp,tl=Vr&&Vr.isSet,qs=Vr&&Vr.isTypedArray;function Xr(he,ve,ye){switch(ye.length){case 0:return he.call(ve);case 1:return he.call(ve,ye[0]);case 2:return he.call(ve,ye[0],ye[1]);case 3:return he.call(ve,ye[0],ye[1],ye[2])}return he.apply(ve,ye)}function qa(he,ve,ye,De){for(var He=-1,ht=he==null?0:he.length;++He<ht;){var hr=he[He];ve(De,hr,ye(hr),he)}return De}function Fr(he,ve){for(var ye=-1,De=he==null?0:he.length;++ye<De&&ve(he[ye],ye,he)!==!1;);return he}function bh(he,ve){for(var ye=he==null?0:he.length;ye--&&ve(he[ye],ye,he)!==!1;);return he}function rl(he,ve){for(var ye=-1,De=he==null?0:he.length;++ye<De;)if(!ve(he[ye],ye,he))return!1;return!0}function Un(he,ve){for(var ye=-1,De=he==null?0:he.length,He=0,ht=[];++ye<De;){var hr=he[ye];ve(hr,ye,he)&&(ht[He++]=hr)}return ht}function Wo(he,ve){var ye=he==null?0:he.length;return!!ye&&di(he,ve,0)>-1}function vo(he,ve,ye){for(var De=-1,He=he==null?0:he.length;++De<He;)if(ye(ve,he[De]))return!0;return!1}function jt(he,ve){for(var ye=-1,De=he==null?0:he.length,He=Array(De);++ye<De;)He[ye]=ve(he[ye],ye,he);return He}function $r(he,ve){for(var ye=-1,De=ve.length,He=he.length;++ye<De;)he[He+ye]=ve[ye];return he}function Ui(he,ve,ye,De){var He=-1,ht=he==null?0:he.length;for(De&&ht&&(ye=he[++He]);++He<ht;)ye=ve(ye,he[He],He,he);return ye}function Ma(he,ve,ye,De){var He=he==null?0:he.length;for(De&&He&&(ye=he[--He]);He--;)ye=ve(ye,he[He],He,he);return ye}function Va(he,ve){for(var ye=-1,De=he==null?0:he.length;++ye<De;)if(ve(he[ye],ye,he))return!0;return!1}var _h=$s("length");function Ms(he){return he.split("")}function wh(he){return he.match(er)||[]}function Vs(he,ve,ye){var De;return ye(he,function(He,ht,hr){if(ve(He,ht,hr))return De=ht,!1}),De}function Di(he,ve,ye,De){for(var He=he.length,ht=ye+(De?1:-1);De?ht--:++ht<He;)if(ve(he[ht],ht,he))return ht;return-1}function di(he,ve,ye){return ve===ve?Rh(he,ve,ye):Di(he,Fs,ye)}function nl(he,ve,ye,De){for(var He=ye-1,ht=he.length;++He<ht;)if(De(he[He],ve))return He;return-1}function Fs(he){return he!==he}function il(he,ve){var ye=he==null?0:he.length;return ye?Hs(he,ve)/ye:oe}function $s(he){return function(ve){return ve==null?r:ve[he]}}function Go(he){return function(ve){return he==null?r:he[ve]}}function zs(he,ve,ye,De,He){return He(he,function(ht,hr,yt){ye=De?(De=!1,ht):ve(ye,ht,hr,yt)}),ye}function Eh(he,ve){var ye=he.length;for(he.sort(ve);ye--;)he[ye]=he[ye].value;return he}function Hs(he,ve){for(var ye,De=-1,He=he.length;++De<He;){var ht=ve(he[De]);ht!==r&&(ye=ye===r?ht:ye+ht)}return ye}function Ks(he,ve){for(var ye=-1,De=Array(he);++ye<he;)De[ye]=ve(ye);return De}function ol(he,ve){return jt(ve,function(ye){return[ye,he[ye]]})}function ji(he){return he&&he.slice(0,sl(he)+1).replace(Gt,"")}function Ar(he){return function(ve){return he(ve)}}function qi(he,ve){return jt(ve,function(ye){return he[ye]})}function bo(he,ve){return he.has(ve)}function Qo(he,ve){for(var ye=-1,De=he.length;++ye<De&&di(ve,he[ye],0)>-1;);return ye}function _o(he,ve){for(var ye=he.length;ye--&&di(ve,he[ye],0)>-1;);return ye}function Fa(he,ve){for(var ye=he.length,De=0;ye--;)he[ye]===ve&&++De;return De}var pi=Go(Us),Ws=Go(Ho);function Sh(he){return"\\"+mh[he]}function wo(he,ve){return he==null?r:he[ve]}function Mi(he){return ph.test(he)}function Ch(he){return xn.test(he)}function $a(he){for(var ve,ye=[];!(ve=he.next()).done;)ye.push(ve.value);return ye}function Gs(he){var ve=-1,ye=Array(he.size);return he.forEach(function(De,He){ye[++ve]=[He,De]}),ye}function al(he,ve){return function(ye){return he(ve(ye))}}function yi(he,ve){for(var ye=-1,De=he.length,He=0,ht=[];++ye<De;){var hr=he[ye];(hr===ve||hr===d)&&(he[ye]=d,ht[He++]=ye)}return ht}function za(he){var ve=-1,ye=Array(he.size);return he.forEach(function(De){ye[++ve]=De}),ye}function Th(he){var ve=-1,ye=Array(he.size);return he.forEach(function(De){ye[++ve]=[De,De]}),ye}function Rh(he,ve,ye){for(var De=ye-1,He=he.length;++De<He;)if(he[De]===ve)return De;return-1}function Ih(he,ve,ye){for(var De=ye+1;De--;)if(he[De]===ve)return De;return De}function Eo(he){return Mi(he)?ul(he):_h(he)}function Sn(he){return Mi(he)?kh(he):Ms(he)}function sl(he){for(var ve=he.length;ve--&&Qt.test(he.charAt(ve)););return ve}var Ah=Go(xi);function ul(he){for(var ve=xs.lastIndex=0;xs.test(he);)++ve;return ve}function kh(he){return he.match(xs)||[]}function Oh(he){return he.match(dh)||[]}var gi=function he(ve){ve=ve==null?vr:Dn.defaults(vr.Object(),ve,Dn.pick(vr,yh));var ye=ve.Array,De=ve.Date,He=ve.Error,ht=ve.Function,hr=ve.Math,yt=ve.Object,Ha=ve.RegExp,ll=ve.String,Br=ve.TypeError,Yo=ye.prototype,cl=ht.prototype,Vi=yt.prototype,Fi=ve["__core-js_shared__"],Xo=cl.toString,_t=Vi.hasOwnProperty,Ph=0,hl=function(){var o=/[^.]+$/.exec(Fi&&Fi.keys&&Fi.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}(),Ka=Vi.toString,Bh=Xo.call(yt),Wa=vr._,Lh=Ha("^"+Xo.call(_t).replace(Wt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Jo=Ds?ve.Buffer:r,Cn=ve.Symbol,$i=ve.Uint8Array,Zo=Jo?Jo.allocUnsafe:r,mi=al(yt.getPrototypeOf,yt),ea=yt.create,fl=Vi.propertyIsEnumerable,Ga=Yo.splice,Qs=Cn?Cn.isConcatSpreadable:r,So=Cn?Cn.iterator:r,zi=Cn?Cn.toStringTag:r,ta=function(){try{var o=aa(yt,"defineProperty");return o({},"",{}),o}catch{}}(),Nh=ve.clearTimeout!==vr.clearTimeout&&ve.clearTimeout,xh=De&&De.now!==vr.Date.now&&De.now,Uh=ve.setTimeout!==vr.setTimeout&&ve.setTimeout,Qa=hr.ceil,Ya=hr.floor,Co=yt.getOwnPropertySymbols,dl=Jo?Jo.isBuffer:r,_=ve.isFinite,P=Yo.join,H=al(yt.keys,yt),re=hr.max,de=hr.min,be=De.now,Oe=ve.parseInt,Me=hr.random,nt=Yo.reverse,at=aa(ve,"DataView"),ct=aa(ve,"Map"),dt=aa(ve,"Promise"),Ft=aa(ve,"Set"),Lr=aa(ve,"WeakMap"),jn=aa(yt,"create"),Tn=Lr&&new Lr,zr={},_r=sa(at),Jr=sa(ct),cn=sa(dt),Hi=sa(Ft),$e=sa(Lr),st=Cn?Cn.prototype:r,vt=st?st.valueOf:r,Nr=st?st.toString:r;function Y(o){if(fr(o)&&!tt(o)&&!(o instanceof pt)){if(o instanceof Hr)return o;if(_t.call(o,"__wrapped__"))return Z0(o)}return new Hr(o)}var Rn=function(){function o(){}return function(l){if(!sr(l))return{};if(ea)return ea(l);o.prototype=l;var b=new o;return o.prototype=r,b}}();function Qn(){}function Hr(o,l){this.__wrapped__=o,this.__actions__=[],this.__chain__=!!l,this.__index__=0,this.__values__=r}Y.templateSettings={escape:Mr,evaluate:Nn,interpolate:xt,variable:"",imports:{_:Y}},Y.prototype=Qn.prototype,Y.prototype.constructor=Y,Hr.prototype=Rn(Qn.prototype),Hr.prototype.constructor=Hr;function pt(o){this.__wrapped__=o,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ce,this.__views__=[]}function Wb(){var o=new pt(this.__wrapped__);return o.__actions__=hn(this.__actions__),o.__dir__=this.__dir__,o.__filtered__=this.__filtered__,o.__iteratees__=hn(this.__iteratees__),o.__takeCount__=this.__takeCount__,o.__views__=hn(this.__views__),o}function Gb(){if(this.__filtered__){var o=new pt(this);o.__dir__=-1,o.__filtered__=!0}else o=this.clone(),o.__dir__*=-1;return o}function Qb(){var o=this.__wrapped__.value(),l=this.__dir__,b=tt(o),U=l<0,F=b?o.length:0,J=sw(0,F,this.__views__),ne=J.start,se=J.end,fe=se-ne,we=U?se:ne-1,Se=this.__iteratees__,Ae=Se.length,je=0,Ve=de(fe,this.__takeCount__);if(!b||!U&&F==fe&&Ve==fe)return E0(o,this.__actions__);var Ye=[];e:for(;fe--&&je<Ve;){we+=l;for(var ot=-1,Xe=o[we];++ot<Ae;){var ft=Se[ot],gt=ft.iteratee,kn=ft.type,tn=gt(Xe);if(kn==B)Xe=tn;else if(!tn){if(kn==E)continue e;break e}}Ye[je++]=Xe}return Ye}pt.prototype=Rn(Qn.prototype),pt.prototype.constructor=pt;function ra(o){var l=-1,b=o==null?0:o.length;for(this.clear();++l<b;){var U=o[l];this.set(U[0],U[1])}}function Yb(){this.__data__=jn?jn(null):{},this.size=0}function Xb(o){var l=this.has(o)&&delete this.__data__[o];return this.size-=l?1:0,l}function Jb(o){var l=this.__data__;if(jn){var b=l[o];return b===h?r:b}return _t.call(l,o)?l[o]:r}function Zb(o){var l=this.__data__;return jn?l[o]!==r:_t.call(l,o)}function e_(o,l){var b=this.__data__;return this.size+=this.has(o)?0:1,b[o]=jn&&l===r?h:l,this}ra.prototype.clear=Yb,ra.prototype.delete=Xb,ra.prototype.get=Jb,ra.prototype.has=Zb,ra.prototype.set=e_;function Ki(o){var l=-1,b=o==null?0:o.length;for(this.clear();++l<b;){var U=o[l];this.set(U[0],U[1])}}function t_(){this.__data__=[],this.size=0}function r_(o){var l=this.__data__,b=pl(l,o);if(b<0)return!1;var U=l.length-1;return b==U?l.pop():Ga.call(l,b,1),--this.size,!0}function n_(o){var l=this.__data__,b=pl(l,o);return b<0?r:l[b][1]}function i_(o){return pl(this.__data__,o)>-1}function o_(o,l){var b=this.__data__,U=pl(b,o);return U<0?(++this.size,b.push([o,l])):b[U][1]=l,this}Ki.prototype.clear=t_,Ki.prototype.delete=r_,Ki.prototype.get=n_,Ki.prototype.has=i_,Ki.prototype.set=o_;function Wi(o){var l=-1,b=o==null?0:o.length;for(this.clear();++l<b;){var U=o[l];this.set(U[0],U[1])}}function a_(){this.size=0,this.__data__={hash:new ra,map:new(ct||Ki),string:new ra}}function s_(o){var l=Rl(this,o).delete(o);return this.size-=l?1:0,l}function u_(o){return Rl(this,o).get(o)}function l_(o){return Rl(this,o).has(o)}function c_(o,l){var b=Rl(this,o),U=b.size;return b.set(o,l),this.size+=b.size==U?0:1,this}Wi.prototype.clear=a_,Wi.prototype.delete=s_,Wi.prototype.get=u_,Wi.prototype.has=l_,Wi.prototype.set=c_;function na(o){var l=-1,b=o==null?0:o.length;for(this.__data__=new Wi;++l<b;)this.add(o[l])}function h_(o){return this.__data__.set(o,h),this}function f_(o){return this.__data__.has(o)}na.prototype.add=na.prototype.push=h_,na.prototype.has=f_;function Yn(o){var l=this.__data__=new Ki(o);this.size=l.size}function d_(){this.__data__=new Ki,this.size=0}function p_(o){var l=this.__data__,b=l.delete(o);return this.size=l.size,b}function y_(o){return this.__data__.get(o)}function g_(o){return this.__data__.has(o)}function m_(o,l){var b=this.__data__;if(b instanceof Ki){var U=b.__data__;if(!ct||U.length<i-1)return U.push([o,l]),this.size=++b.size,this;b=this.__data__=new Wi(U)}return b.set(o,l),this.size=b.size,this}Yn.prototype.clear=d_,Yn.prototype.delete=p_,Yn.prototype.get=y_,Yn.prototype.has=g_,Yn.prototype.set=m_;function Zp(o,l){var b=tt(o),U=!b&&ua(o),F=!b&&!U&&ko(o),J=!b&&!U&&!F&&es(o),ne=b||U||F||J,se=ne?Ks(o.length,ll):[],fe=se.length;for(var we in o)(l||_t.call(o,we))&&!(ne&&(we=="length"||F&&(we=="offset"||we=="parent")||J&&(we=="buffer"||we=="byteLength"||we=="byteOffset")||Xi(we,fe)))&&se.push(we);return se}function e0(o){var l=o.length;return l?o[Wh(0,l-1)]:r}function v_(o,l){return Il(hn(o),ia(l,0,o.length))}function b_(o){return Il(hn(o))}function Dh(o,l,b){(b!==r&&!Xn(o[l],b)||b===r&&!(l in o))&&Gi(o,l,b)}function Ys(o,l,b){var U=o[l];(!(_t.call(o,l)&&Xn(U,b))||b===r&&!(l in o))&&Gi(o,l,b)}function pl(o,l){for(var b=o.length;b--;)if(Xn(o[b][0],l))return b;return-1}function __(o,l,b,U){return To(o,function(F,J,ne){l(U,F,b(F),ne)}),U}function t0(o,l){return o&&bi(l,kr(l),o)}function w_(o,l){return o&&bi(l,dn(l),o)}function Gi(o,l,b){l=="__proto__"&&ta?ta(o,l,{configurable:!0,enumerable:!0,value:b,writable:!0}):o[l]=b}function jh(o,l){for(var b=-1,U=l.length,F=ye(U),J=o==null;++b<U;)F[b]=J?r:bf(o,l[b]);return F}function ia(o,l,b){return o===o&&(b!==r&&(o=o<=b?o:b),l!==r&&(o=o>=l?o:l)),o}function qn(o,l,b,U,F,J){var ne,se=l&f,fe=l&g,we=l&R;if(b&&(ne=F?b(o,U,F,J):b(o)),ne!==r)return ne;if(!sr(o))return o;var Se=tt(o);if(Se){if(ne=lw(o),!se)return hn(o,ne)}else{var Ae=Kr(o),je=Ae==X||Ae==Q;if(ko(o))return T0(o,se);if(Ae==te||Ae==Pe||je&&!F){if(ne=fe||je?{}:z0(o),!se)return fe?J_(o,w_(ne,o)):X_(o,t0(ne,o))}else{if(!Tt[Ae])return F?o:{};ne=cw(o,Ae,se)}}J||(J=new Yn);var Ve=J.get(o);if(Ve)return Ve;J.set(o,ne),by(o)?o.forEach(function(Xe){ne.add(qn(Xe,l,b,Xe,o,J))}):my(o)&&o.forEach(function(Xe,ft){ne.set(ft,qn(Xe,l,b,ft,o,J))});var Ye=we?fe?of:nf:fe?dn:kr,ot=Se?r:Ye(o);return Fr(ot||o,function(Xe,ft){ot&&(ft=Xe,Xe=o[ft]),Ys(ne,ft,qn(Xe,l,b,ft,o,J))}),ne}function E_(o){var l=kr(o);return function(b){return r0(b,o,l)}}function r0(o,l,b){var U=b.length;if(o==null)return!U;for(o=yt(o);U--;){var F=b[U],J=l[F],ne=o[F];if(ne===r&&!(F in o)||!J(ne))return!1}return!0}function n0(o,l,b){if(typeof o!="function")throw new Br(c);return nu(function(){o.apply(r,b)},l)}function Xs(o,l,b,U){var F=-1,J=Wo,ne=!0,se=o.length,fe=[],we=l.length;if(!se)return fe;b&&(l=jt(l,Ar(b))),U?(J=vo,ne=!1):l.length>=i&&(J=bo,ne=!1,l=new na(l));e:for(;++F<se;){var Se=o[F],Ae=b==null?Se:b(Se);if(Se=U||Se!==0?Se:0,ne&&Ae===Ae){for(var je=we;je--;)if(l[je]===Ae)continue e;fe.push(Se)}else J(l,Ae,U)||fe.push(Se)}return fe}var To=O0(vi),i0=O0(Mh,!0);function S_(o,l){var b=!0;return To(o,function(U,F,J){return b=!!l(U,F,J),b}),b}function yl(o,l,b){for(var U=-1,F=o.length;++U<F;){var J=o[U],ne=l(J);if(ne!=null&&(se===r?ne===ne&&!An(ne):b(ne,se)))var se=ne,fe=J}return fe}function C_(o,l,b,U){var F=o.length;for(b=it(b),b<0&&(b=-b>F?0:F+b),U=U===r||U>F?F:it(U),U<0&&(U+=F),U=b>U?0:wy(U);b<U;)o[b++]=l;return o}function o0(o,l){var b=[];return To(o,function(U,F,J){l(U,F,J)&&b.push(U)}),b}function xr(o,l,b,U,F){var J=-1,ne=o.length;for(b||(b=fw),F||(F=[]);++J<ne;){var se=o[J];l>0&&b(se)?l>1?xr(se,l-1,b,U,F):$r(F,se):U||(F[F.length]=se)}return F}var qh=P0(),a0=P0(!0);function vi(o,l){return o&&qh(o,l,kr)}function Mh(o,l){return o&&a0(o,l,kr)}function gl(o,l){return Un(l,function(b){return Ji(o[b])})}function oa(o,l){l=Io(l,o);for(var b=0,U=l.length;o!=null&&b<U;)o=o[_i(l[b++])];return b&&b==U?o:r}function s0(o,l,b){var U=l(o);return tt(o)?U:$r(U,b(o))}function Zr(o){return o==null?o===r?rt:ae:zi&&zi in yt(o)?aw(o):bw(o)}function Vh(o,l){return o>l}function T_(o,l){return o!=null&&_t.call(o,l)}function R_(o,l){return o!=null&&l in yt(o)}function I_(o,l,b){return o>=de(l,b)&&o<re(l,b)}function Fh(o,l,b){for(var U=b?vo:Wo,F=o[0].length,J=o.length,ne=J,se=ye(J),fe=1/0,we=[];ne--;){var Se=o[ne];ne&&l&&(Se=jt(Se,Ar(l))),fe=de(Se.length,fe),se[ne]=!b&&(l||F>=120&&Se.length>=120)?new na(ne&&Se):r}Se=o[0];var Ae=-1,je=se[0];e:for(;++Ae<F&&we.length<fe;){var Ve=Se[Ae],Ye=l?l(Ve):Ve;if(Ve=b||Ve!==0?Ve:0,!(je?bo(je,Ye):U(we,Ye,b))){for(ne=J;--ne;){var ot=se[ne];if(!(ot?bo(ot,Ye):U(o[ne],Ye,b)))continue e}je&&je.push(Ye),we.push(Ve)}}return we}function A_(o,l,b,U){return vi(o,function(F,J,ne){l(U,b(F),J,ne)}),U}function Js(o,l,b){l=Io(l,o),o=G0(o,l);var U=o==null?o:o[_i(Vn(l))];return U==null?r:Xr(U,o,b)}function u0(o){return fr(o)&&Zr(o)==Pe}function k_(o){return fr(o)&&Zr(o)==St}function O_(o){return fr(o)&&Zr(o)==et}function Zs(o,l,b,U,F){return o===l?!0:o==null||l==null||!fr(o)&&!fr(l)?o!==o&&l!==l:P_(o,l,b,U,Zs,F)}function P_(o,l,b,U,F,J){var ne=tt(o),se=tt(l),fe=ne?Ce:Kr(o),we=se?Ce:Kr(l);fe=fe==Pe?te:fe,we=we==Pe?te:we;var Se=fe==te,Ae=we==te,je=fe==we;if(je&&ko(o)){if(!ko(l))return!1;ne=!0,Se=!1}if(je&&!Se)return J||(J=new Yn),ne||es(o)?V0(o,l,b,U,F,J):iw(o,l,fe,b,U,F,J);if(!(b&S)){var Ve=Se&&_t.call(o,"__wrapped__"),Ye=Ae&&_t.call(l,"__wrapped__");if(Ve||Ye){var ot=Ve?o.value():o,Xe=Ye?l.value():l;return J||(J=new Yn),F(ot,Xe,b,U,J)}}return je?(J||(J=new Yn),ow(o,l,b,U,F,J)):!1}function B_(o){return fr(o)&&Kr(o)==A}function $h(o,l,b,U){var F=b.length,J=F,ne=!U;if(o==null)return!J;for(o=yt(o);F--;){var se=b[F];if(ne&&se[2]?se[1]!==o[se[0]]:!(se[0]in o))return!1}for(;++F<J;){se=b[F];var fe=se[0],we=o[fe],Se=se[1];if(ne&&se[2]){if(we===r&&!(fe in o))return!1}else{var Ae=new Yn;if(U)var je=U(we,Se,fe,o,l,Ae);if(!(je===r?Zs(Se,we,S|m,U,Ae):je))return!1}}return!0}function l0(o){if(!sr(o)||pw(o))return!1;var l=Ji(o)?Lh:As;return l.test(sa(o))}function L_(o){return fr(o)&&Zr(o)==qe}function N_(o){return fr(o)&&Kr(o)==ge}function x_(o){return fr(o)&&Ll(o.length)&&!!Vt[Zr(o)]}function c0(o){return typeof o=="function"?o:o==null?pn:typeof o=="object"?tt(o)?d0(o[0],o[1]):f0(o):By(o)}function zh(o){if(!ru(o))return H(o);var l=[];for(var b in yt(o))_t.call(o,b)&&b!="constructor"&&l.push(b);return l}function U_(o){if(!sr(o))return vw(o);var l=ru(o),b=[];for(var U in o)U=="constructor"&&(l||!_t.call(o,U))||b.push(U);return b}function Hh(o,l){return o<l}function h0(o,l){var b=-1,U=fn(o)?ye(o.length):[];return To(o,function(F,J,ne){U[++b]=l(F,J,ne)}),U}function f0(o){var l=sf(o);return l.length==1&&l[0][2]?K0(l[0][0],l[0][1]):function(b){return b===o||$h(b,o,l)}}function d0(o,l){return lf(o)&&H0(l)?K0(_i(o),l):function(b){var U=bf(b,o);return U===r&&U===l?_f(b,o):Zs(l,U,S|m)}}function ml(o,l,b,U,F){o!==l&&qh(l,function(J,ne){if(F||(F=new Yn),sr(J))D_(o,l,ne,b,ml,U,F);else{var se=U?U(hf(o,ne),J,ne+"",o,l,F):r;se===r&&(se=J),Dh(o,ne,se)}},dn)}function D_(o,l,b,U,F,J,ne){var se=hf(o,b),fe=hf(l,b),we=ne.get(fe);if(we){Dh(o,b,we);return}var Se=J?J(se,fe,b+"",o,l,ne):r,Ae=Se===r;if(Ae){var je=tt(fe),Ve=!je&&ko(fe),Ye=!je&&!Ve&&es(fe);Se=fe,je||Ve||Ye?tt(se)?Se=se:pr(se)?Se=hn(se):Ve?(Ae=!1,Se=T0(fe,!0)):Ye?(Ae=!1,Se=R0(fe,!0)):Se=[]:iu(fe)||ua(fe)?(Se=se,ua(se)?Se=Ey(se):(!sr(se)||Ji(se))&&(Se=z0(fe))):Ae=!1}Ae&&(ne.set(fe,Se),F(Se,fe,U,J,ne),ne.delete(fe)),Dh(o,b,Se)}function p0(o,l){var b=o.length;if(b)return l+=l<0?b:0,Xi(l,b)?o[l]:r}function y0(o,l,b){l.length?l=jt(l,function(J){return tt(J)?function(ne){return oa(ne,J.length===1?J[0]:J)}:J}):l=[pn];var U=-1;l=jt(l,Ar(Ge()));var F=h0(o,function(J,ne,se){var fe=jt(l,function(we){return we(J)});return{criteria:fe,index:++U,value:J}});return Eh(F,function(J,ne){return Y_(J,ne,b)})}function j_(o,l){return g0(o,l,function(b,U){return _f(o,U)})}function g0(o,l,b){for(var U=-1,F=l.length,J={};++U<F;){var ne=l[U],se=oa(o,ne);b(se,ne)&&eu(J,Io(ne,o),se)}return J}function q_(o){return function(l){return oa(l,o)}}function Kh(o,l,b,U){var F=U?nl:di,J=-1,ne=l.length,se=o;for(o===l&&(l=hn(l)),b&&(se=jt(o,Ar(b)));++J<ne;)for(var fe=0,we=l[J],Se=b?b(we):we;(fe=F(se,Se,fe,U))>-1;)se!==o&&Ga.call(se,fe,1),Ga.call(o,fe,1);return o}function m0(o,l){for(var b=o?l.length:0,U=b-1;b--;){var F=l[b];if(b==U||F!==J){var J=F;Xi(F)?Ga.call(o,F,1):Yh(o,F)}}return o}function Wh(o,l){return o+Ya(Me()*(l-o+1))}function M_(o,l,b,U){for(var F=-1,J=re(Qa((l-o)/(b||1)),0),ne=ye(J);J--;)ne[U?J:++F]=o,o+=b;return ne}function Gh(o,l){var b="";if(!o||l<1||l>M)return b;do l%2&&(b+=o),l=Ya(l/2),l&&(o+=o);while(l);return b}function ut(o,l){return ff(W0(o,l,pn),o+"")}function V_(o){return e0(ts(o))}function F_(o,l){var b=ts(o);return Il(b,ia(l,0,b.length))}function eu(o,l,b,U){if(!sr(o))return o;l=Io(l,o);for(var F=-1,J=l.length,ne=J-1,se=o;se!=null&&++F<J;){var fe=_i(l[F]),we=b;if(fe==="__proto__"||fe==="constructor"||fe==="prototype")return o;if(F!=ne){var Se=se[fe];we=U?U(Se,fe,se):r,we===r&&(we=sr(Se)?Se:Xi(l[F+1])?[]:{})}Ys(se,fe,we),se=se[fe]}return o}var v0=Tn?function(o,l){return Tn.set(o,l),o}:pn,$_=ta?function(o,l){return ta(o,"toString",{configurable:!0,enumerable:!1,value:Ef(l),writable:!0})}:pn;function z_(o){return Il(ts(o))}function Mn(o,l,b){var U=-1,F=o.length;l<0&&(l=-l>F?0:F+l),b=b>F?F:b,b<0&&(b+=F),F=l>b?0:b-l>>>0,l>>>=0;for(var J=ye(F);++U<F;)J[U]=o[U+l];return J}function H_(o,l){var b;return To(o,function(U,F,J){return b=l(U,F,J),!b}),!!b}function vl(o,l,b){var U=0,F=o==null?U:o.length;if(typeof l=="number"&&l===l&&F<=me){for(;U<F;){var J=U+F>>>1,ne=o[J];ne!==null&&!An(ne)&&(b?ne<=l:ne<l)?U=J+1:F=J}return F}return Qh(o,l,pn,b)}function Qh(o,l,b,U){var F=0,J=o==null?0:o.length;if(J===0)return 0;l=b(l);for(var ne=l!==l,se=l===null,fe=An(l),we=l===r;F<J;){var Se=Ya((F+J)/2),Ae=b(o[Se]),je=Ae!==r,Ve=Ae===null,Ye=Ae===Ae,ot=An(Ae);if(ne)var Xe=U||Ye;else we?Xe=Ye&&(U||je):se?Xe=Ye&&je&&(U||!Ve):fe?Xe=Ye&&je&&!Ve&&(U||!ot):Ve||ot?Xe=!1:Xe=U?Ae<=l:Ae<l;Xe?F=Se+1:J=Se}return de(J,pe)}function b0(o,l){for(var b=-1,U=o.length,F=0,J=[];++b<U;){var ne=o[b],se=l?l(ne):ne;if(!b||!Xn(se,fe)){var fe=se;J[F++]=ne===0?0:ne}}return J}function _0(o){return typeof o=="number"?o:An(o)?oe:+o}function In(o){if(typeof o=="string")return o;if(tt(o))return jt(o,In)+"";if(An(o))return Nr?Nr.call(o):"";var l=o+"";return l=="0"&&1/o==-j?"-0":l}function Ro(o,l,b){var U=-1,F=Wo,J=o.length,ne=!0,se=[],fe=se;if(b)ne=!1,F=vo;else if(J>=i){var we=l?null:rw(o);if(we)return za(we);ne=!1,F=bo,fe=new na}else fe=l?[]:se;e:for(;++U<J;){var Se=o[U],Ae=l?l(Se):Se;if(Se=b||Se!==0?Se:0,ne&&Ae===Ae){for(var je=fe.length;je--;)if(fe[je]===Ae)continue e;l&&fe.push(Ae),se.push(Se)}else F(fe,Ae,b)||(fe!==se&&fe.push(Ae),se.push(Se))}return se}function Yh(o,l){return l=Io(l,o),o=G0(o,l),o==null||delete o[_i(Vn(l))]}function w0(o,l,b,U){return eu(o,l,b(oa(o,l)),U)}function bl(o,l,b,U){for(var F=o.length,J=U?F:-1;(U?J--:++J<F)&&l(o[J],J,o););return b?Mn(o,U?0:J,U?J+1:F):Mn(o,U?J+1:0,U?F:J)}function E0(o,l){var b=o;return b instanceof pt&&(b=b.value()),Ui(l,function(U,F){return F.func.apply(F.thisArg,$r([U],F.args))},b)}function Xh(o,l,b){var U=o.length;if(U<2)return U?Ro(o[0]):[];for(var F=-1,J=ye(U);++F<U;)for(var ne=o[F],se=-1;++se<U;)se!=F&&(J[F]=Xs(J[F]||ne,o[se],l,b));return Ro(xr(J,1),l,b)}function S0(o,l,b){for(var U=-1,F=o.length,J=l.length,ne={};++U<F;){var se=U<J?l[U]:r;b(ne,o[U],se)}return ne}function Jh(o){return pr(o)?o:[]}function Zh(o){return typeof o=="function"?o:pn}function Io(o,l){return tt(o)?o:lf(o,l)?[o]:J0(Pt(o))}var K_=ut;function Ao(o,l,b){var U=o.length;return b=b===r?U:b,!l&&b>=U?o:Mn(o,l,b)}var C0=Nh||function(o){return vr.clearTimeout(o)};function T0(o,l){if(l)return o.slice();var b=o.length,U=Zo?Zo(b):new o.constructor(b);return o.copy(U),U}function ef(o){var l=new o.constructor(o.byteLength);return new $i(l).set(new $i(o)),l}function W_(o,l){var b=l?ef(o.buffer):o.buffer;return new o.constructor(b,o.byteOffset,o.byteLength)}function G_(o){var l=new o.constructor(o.source,tr.exec(o));return l.lastIndex=o.lastIndex,l}function Q_(o){return vt?yt(vt.call(o)):{}}function R0(o,l){var b=l?ef(o.buffer):o.buffer;return new o.constructor(b,o.byteOffset,o.length)}function I0(o,l){if(o!==l){var b=o!==r,U=o===null,F=o===o,J=An(o),ne=l!==r,se=l===null,fe=l===l,we=An(l);if(!se&&!we&&!J&&o>l||J&&ne&&fe&&!se&&!we||U&&ne&&fe||!b&&fe||!F)return 1;if(!U&&!J&&!we&&o<l||we&&b&&F&&!U&&!J||se&&b&&F||!ne&&F||!fe)return-1}return 0}function Y_(o,l,b){for(var U=-1,F=o.criteria,J=l.criteria,ne=F.length,se=b.length;++U<ne;){var fe=I0(F[U],J[U]);if(fe){if(U>=se)return fe;var we=b[U];return fe*(we=="desc"?-1:1)}}return o.index-l.index}function A0(o,l,b,U){for(var F=-1,J=o.length,ne=b.length,se=-1,fe=l.length,we=re(J-ne,0),Se=ye(fe+we),Ae=!U;++se<fe;)Se[se]=l[se];for(;++F<ne;)(Ae||F<J)&&(Se[b[F]]=o[F]);for(;we--;)Se[se++]=o[F++];return Se}function k0(o,l,b,U){for(var F=-1,J=o.length,ne=-1,se=b.length,fe=-1,we=l.length,Se=re(J-se,0),Ae=ye(Se+we),je=!U;++F<Se;)Ae[F]=o[F];for(var Ve=F;++fe<we;)Ae[Ve+fe]=l[fe];for(;++ne<se;)(je||F<J)&&(Ae[Ve+b[ne]]=o[F++]);return Ae}function hn(o,l){var b=-1,U=o.length;for(l||(l=ye(U));++b<U;)l[b]=o[b];return l}function bi(o,l,b,U){var F=!b;b||(b={});for(var J=-1,ne=l.length;++J<ne;){var se=l[J],fe=U?U(b[se],o[se],se,b,o):r;fe===r&&(fe=o[se]),F?Gi(b,se,fe):Ys(b,se,fe)}return b}function X_(o,l){return bi(o,uf(o),l)}function J_(o,l){return bi(o,F0(o),l)}function _l(o,l){return function(b,U){var F=tt(b)?qa:__,J=l?l():{};return F(b,o,Ge(U,2),J)}}function Xa(o){return ut(function(l,b){var U=-1,F=b.length,J=F>1?b[F-1]:r,ne=F>2?b[2]:r;for(J=o.length>3&&typeof J=="function"?(F--,J):r,ne&&en(b[0],b[1],ne)&&(J=F<3?r:J,F=1),l=yt(l);++U<F;){var se=b[U];se&&o(l,se,U,J)}return l})}function O0(o,l){return function(b,U){if(b==null)return b;if(!fn(b))return o(b,U);for(var F=b.length,J=l?F:-1,ne=yt(b);(l?J--:++J<F)&&U(ne[J],J,ne)!==!1;);return b}}function P0(o){return function(l,b,U){for(var F=-1,J=yt(l),ne=U(l),se=ne.length;se--;){var fe=ne[o?se:++F];if(b(J[fe],fe,J)===!1)break}return l}}function Z_(o,l,b){var U=l&T,F=tu(o);function J(){var ne=this&&this!==vr&&this instanceof J?F:o;return ne.apply(U?b:this,arguments)}return J}function B0(o){return function(l){l=Pt(l);var b=Mi(l)?Sn(l):r,U=b?b[0]:l.charAt(0),F=b?Ao(b,1).join(""):l.slice(1);return U[o]()+F}}function Ja(o){return function(l){return Ui(Oy(ky(l).replace(Ns,"")),o,"")}}function tu(o){return function(){var l=arguments;switch(l.length){case 0:return new o;case 1:return new o(l[0]);case 2:return new o(l[0],l[1]);case 3:return new o(l[0],l[1],l[2]);case 4:return new o(l[0],l[1],l[2],l[3]);case 5:return new o(l[0],l[1],l[2],l[3],l[4]);case 6:return new o(l[0],l[1],l[2],l[3],l[4],l[5]);case 7:return new o(l[0],l[1],l[2],l[3],l[4],l[5],l[6])}var b=Rn(o.prototype),U=o.apply(b,l);return sr(U)?U:b}}function ew(o,l,b){var U=tu(o);function F(){for(var J=arguments.length,ne=ye(J),se=J,fe=Za(F);se--;)ne[se]=arguments[se];var we=J<3&&ne[0]!==fe&&ne[J-1]!==fe?[]:yi(ne,fe);if(J-=we.length,J<b)return D0(o,l,wl,F.placeholder,r,ne,we,r,r,b-J);var Se=this&&this!==vr&&this instanceof F?U:o;return Xr(Se,this,ne)}return F}function L0(o){return function(l,b,U){var F=yt(l);if(!fn(l)){var J=Ge(b,3);l=kr(l),b=function(se){return J(F[se],se,F)}}var ne=o(l,b,U);return ne>-1?F[J?l[ne]:ne]:r}}function N0(o){return Yi(function(l){var b=l.length,U=b,F=Hr.prototype.thru;for(o&&l.reverse();U--;){var J=l[U];if(typeof J!="function")throw new Br(c);if(F&&!ne&&Tl(J)=="wrapper")var ne=new Hr([],!0)}for(U=ne?U:b;++U<b;){J=l[U];var se=Tl(J),fe=se=="wrapper"?af(J):r;fe&&cf(fe[0])&&fe[1]==(N|y|w|C)&&!fe[4].length&&fe[9]==1?ne=ne[Tl(fe[0])].apply(ne,fe[3]):ne=J.length==1&&cf(J)?ne[se]():ne.thru(J)}return function(){var we=arguments,Se=we[0];if(ne&&we.length==1&&tt(Se))return ne.plant(Se).value();for(var Ae=0,je=b?l[Ae].apply(this,we):Se;++Ae<b;)je=l[Ae].call(this,je);return je}})}function wl(o,l,b,U,F,J,ne,se,fe,we){var Se=l&N,Ae=l&T,je=l&O,Ve=l&(y|I),Ye=l&v,ot=je?r:tu(o);function Xe(){for(var ft=arguments.length,gt=ye(ft),kn=ft;kn--;)gt[kn]=arguments[kn];if(Ve)var tn=Za(Xe),On=Fa(gt,tn);if(U&&(gt=A0(gt,U,F,Ve)),J&&(gt=k0(gt,J,ne,Ve)),ft-=On,Ve&&ft<we){var yr=yi(gt,tn);return D0(o,l,wl,Xe.placeholder,b,gt,yr,se,fe,we-ft)}var Jn=Ae?b:this,eo=je?Jn[o]:o;return ft=gt.length,se?gt=_w(gt,se):Ye&&ft>1&&gt.reverse(),Se&&fe<ft&&(gt.length=fe),this&&this!==vr&&this instanceof Xe&&(eo=ot||tu(eo)),eo.apply(Jn,gt)}return Xe}function x0(o,l){return function(b,U){return A_(b,o,l(U),{})}}function El(o,l){return function(b,U){var F;if(b===r&&U===r)return l;if(b!==r&&(F=b),U!==r){if(F===r)return U;typeof b=="string"||typeof U=="string"?(b=In(b),U=In(U)):(b=_0(b),U=_0(U)),F=o(b,U)}return F}}function tf(o){return Yi(function(l){return l=jt(l,Ar(Ge())),ut(function(b){var U=this;return o(l,function(F){return Xr(F,U,b)})})})}function Sl(o,l){l=l===r?" ":In(l);var b=l.length;if(b<2)return b?Gh(l,o):l;var U=Gh(l,Qa(o/Eo(l)));return Mi(l)?Ao(Sn(U),0,o).join(""):U.slice(0,o)}function tw(o,l,b,U){var F=l&T,J=tu(o);function ne(){for(var se=-1,fe=arguments.length,we=-1,Se=U.length,Ae=ye(Se+fe),je=this&&this!==vr&&this instanceof ne?J:o;++we<Se;)Ae[we]=U[we];for(;fe--;)Ae[we++]=arguments[++se];return Xr(je,F?b:this,Ae)}return ne}function U0(o){return function(l,b,U){return U&&typeof U!="number"&&en(l,b,U)&&(b=U=r),l=Zi(l),b===r?(b=l,l=0):b=Zi(b),U=U===r?l<b?1:-1:Zi(U),M_(l,b,U,o)}}function Cl(o){return function(l,b){return typeof l=="string"&&typeof b=="string"||(l=Fn(l),b=Fn(b)),o(l,b)}}function D0(o,l,b,U,F,J,ne,se,fe,we){var Se=l&y,Ae=Se?ne:r,je=Se?r:ne,Ve=Se?J:r,Ye=Se?r:J;l|=Se?w:L,l&=~(Se?L:w),l&k||(l&=~(T|O));var ot=[o,l,F,Ve,Ae,Ye,je,se,fe,we],Xe=b.apply(r,ot);return cf(o)&&Q0(Xe,ot),Xe.placeholder=U,Y0(Xe,o,l)}function rf(o){var l=hr[o];return function(b,U){if(b=Fn(b),U=U==null?0:de(it(U),292),U&&_(b)){var F=(Pt(b)+"e").split("e"),J=l(F[0]+"e"+(+F[1]+U));return F=(Pt(J)+"e").split("e"),+(F[0]+"e"+(+F[1]-U))}return l(b)}}var rw=Ft&&1/za(new Ft([,-0]))[1]==j?function(o){return new Ft(o)}:Tf;function j0(o){return function(l){var b=Kr(l);return b==A?Gs(l):b==ge?Th(l):ol(l,o(l))}}function Qi(o,l,b,U,F,J,ne,se){var fe=l&O;if(!fe&&typeof o!="function")throw new Br(c);var we=U?U.length:0;if(we||(l&=~(w|L),U=F=r),ne=ne===r?ne:re(it(ne),0),se=se===r?se:it(se),we-=F?F.length:0,l&L){var Se=U,Ae=F;U=F=r}var je=fe?r:af(o),Ve=[o,l,b,U,F,Se,Ae,J,ne,se];if(je&&mw(Ve,je),o=Ve[0],l=Ve[1],b=Ve[2],U=Ve[3],F=Ve[4],se=Ve[9]=Ve[9]===r?fe?0:o.length:re(Ve[9]-we,0),!se&&l&(y|I)&&(l&=~(y|I)),!l||l==T)var Ye=Z_(o,l,b);else l==y||l==I?Ye=ew(o,l,se):(l==w||l==(T|w))&&!F.length?Ye=tw(o,l,b,U):Ye=wl.apply(r,Ve);var ot=je?v0:Q0;return Y0(ot(Ye,Ve),o,l)}function q0(o,l,b,U){return o===r||Xn(o,Vi[b])&&!_t.call(U,b)?l:o}function M0(o,l,b,U,F,J){return sr(o)&&sr(l)&&(J.set(l,o),ml(o,l,r,M0,J),J.delete(l)),o}function nw(o){return iu(o)?r:o}function V0(o,l,b,U,F,J){var ne=b&S,se=o.length,fe=l.length;if(se!=fe&&!(ne&&fe>se))return!1;var we=J.get(o),Se=J.get(l);if(we&&Se)return we==l&&Se==o;var Ae=-1,je=!0,Ve=b&m?new na:r;for(J.set(o,l),J.set(l,o);++Ae<se;){var Ye=o[Ae],ot=l[Ae];if(U)var Xe=ne?U(ot,Ye,Ae,l,o,J):U(Ye,ot,Ae,o,l,J);if(Xe!==r){if(Xe)continue;je=!1;break}if(Ve){if(!Va(l,function(ft,gt){if(!bo(Ve,gt)&&(Ye===ft||F(Ye,ft,b,U,J)))return Ve.push(gt)})){je=!1;break}}else if(!(Ye===ot||F(Ye,ot,b,U,J))){je=!1;break}}return J.delete(o),J.delete(l),je}function iw(o,l,b,U,F,J,ne){switch(b){case Ct:if(o.byteLength!=l.byteLength||o.byteOffset!=l.byteOffset)return!1;o=o.buffer,l=l.buffer;case St:return!(o.byteLength!=l.byteLength||!J(new $i(o),new $i(l)));case Re:case et:case K:return Xn(+o,+l);case x:return o.name==l.name&&o.message==l.message;case qe:case Ne:return o==l+"";case A:var se=Gs;case ge:var fe=U&S;if(se||(se=za),o.size!=l.size&&!fe)return!1;var we=ne.get(o);if(we)return we==l;U|=m,ne.set(o,l);var Se=V0(se(o),se(l),U,F,J,ne);return ne.delete(o),Se;case We:if(vt)return vt.call(o)==vt.call(l)}return!1}function ow(o,l,b,U,F,J){var ne=b&S,se=nf(o),fe=se.length,we=nf(l),Se=we.length;if(fe!=Se&&!ne)return!1;for(var Ae=fe;Ae--;){var je=se[Ae];if(!(ne?je in l:_t.call(l,je)))return!1}var Ve=J.get(o),Ye=J.get(l);if(Ve&&Ye)return Ve==l&&Ye==o;var ot=!0;J.set(o,l),J.set(l,o);for(var Xe=ne;++Ae<fe;){je=se[Ae];var ft=o[je],gt=l[je];if(U)var kn=ne?U(gt,ft,je,l,o,J):U(ft,gt,je,o,l,J);if(!(kn===r?ft===gt||F(ft,gt,b,U,J):kn)){ot=!1;break}Xe||(Xe=je=="constructor")}if(ot&&!Xe){var tn=o.constructor,On=l.constructor;tn!=On&&"constructor"in o&&"constructor"in l&&!(typeof tn=="function"&&tn instanceof tn&&typeof On=="function"&&On instanceof On)&&(ot=!1)}return J.delete(o),J.delete(l),ot}function Yi(o){return ff(W0(o,r,ry),o+"")}function nf(o){return s0(o,kr,uf)}function of(o){return s0(o,dn,F0)}var af=Tn?function(o){return Tn.get(o)}:Tf;function Tl(o){for(var l=o.name+"",b=zr[l],U=_t.call(zr,l)?b.length:0;U--;){var F=b[U],J=F.func;if(J==null||J==o)return F.name}return l}function Za(o){var l=_t.call(Y,"placeholder")?Y:o;return l.placeholder}function Ge(){var o=Y.iteratee||Sf;return o=o===Sf?c0:o,arguments.length?o(arguments[0],arguments[1]):o}function Rl(o,l){var b=o.__data__;return dw(l)?b[typeof l=="string"?"string":"hash"]:b.map}function sf(o){for(var l=kr(o),b=l.length;b--;){var U=l[b],F=o[U];l[b]=[U,F,H0(F)]}return l}function aa(o,l){var b=wo(o,l);return l0(b)?b:r}function aw(o){var l=_t.call(o,zi),b=o[zi];try{o[zi]=r;var U=!0}catch{}var F=Ka.call(o);return U&&(l?o[zi]=b:delete o[zi]),F}var uf=Co?function(o){return o==null?[]:(o=yt(o),Un(Co(o),function(l){return fl.call(o,l)}))}:Rf,F0=Co?function(o){for(var l=[];o;)$r(l,uf(o)),o=mi(o);return l}:Rf,Kr=Zr;(at&&Kr(new at(new ArrayBuffer(1)))!=Ct||ct&&Kr(new ct)!=A||dt&&Kr(dt.resolve())!=Ee||Ft&&Kr(new Ft)!=ge||Lr&&Kr(new Lr)!=ze)&&(Kr=function(o){var l=Zr(o),b=l==te?o.constructor:r,U=b?sa(b):"";if(U)switch(U){case _r:return Ct;case Jr:return A;case cn:return Ee;case Hi:return ge;case $e:return ze}return l});function sw(o,l,b){for(var U=-1,F=b.length;++U<F;){var J=b[U],ne=J.size;switch(J.type){case"drop":o+=ne;break;case"dropRight":l-=ne;break;case"take":l=de(l,o+ne);break;case"takeRight":o=re(o,l-ne);break}}return{start:o,end:l}}function uw(o){var l=o.match(nr);return l?l[1].split(ir):[]}function $0(o,l,b){l=Io(l,o);for(var U=-1,F=l.length,J=!1;++U<F;){var ne=_i(l[U]);if(!(J=o!=null&&b(o,ne)))break;o=o[ne]}return J||++U!=F?J:(F=o==null?0:o.length,!!F&&Ll(F)&&Xi(ne,F)&&(tt(o)||ua(o)))}function lw(o){var l=o.length,b=new o.constructor(l);return l&&typeof o[0]=="string"&&_t.call(o,"index")&&(b.index=o.index,b.input=o.input),b}function z0(o){return typeof o.constructor=="function"&&!ru(o)?Rn(mi(o)):{}}function cw(o,l,b){var U=o.constructor;switch(l){case St:return ef(o);case Re:case et:return new U(+o);case Ct:return W_(o,b);case Bt:case Ot:case Lt:case zt:case Xt:case Ht:case Kt:case lr:case Cr:return R0(o,b);case A:return new U;case K:case Ne:return new U(o);case qe:return G_(o);case ge:return new U;case We:return Q_(o)}}function hw(o,l){var b=l.length;if(!b)return o;var U=b-1;return l[U]=(b>1?"& ":"")+l[U],l=l.join(b>2?", ":" "),o.replace(rr,`{
/* [wrapped with `+l+`] */
`)}function fw(o){return tt(o)||ua(o)||!!(Qs&&o&&o[Qs])}function Xi(o,l){var b=typeof o;return l=l??M,!!l&&(b=="number"||b!="symbol"&&Pi.test(o))&&o>-1&&o%1==0&&o<l}function en(o,l,b){if(!sr(b))return!1;var U=typeof l;return(U=="number"?fn(b)&&Xi(l,b.length):U=="string"&&l in b)?Xn(b[l],o):!1}function lf(o,l){if(tt(o))return!1;var b=typeof o;return b=="number"||b=="symbol"||b=="boolean"||o==null||An(o)?!0:Jt.test(o)||!Ut.test(o)||l!=null&&o in yt(l)}function dw(o){var l=typeof o;return l=="string"||l=="number"||l=="symbol"||l=="boolean"?o!=="__proto__":o===null}function cf(o){var l=Tl(o),b=Y[l];if(typeof b!="function"||!(l in pt.prototype))return!1;if(o===b)return!0;var U=af(b);return!!U&&o===U[0]}function pw(o){return!!hl&&hl in o}var yw=Fi?Ji:If;function ru(o){var l=o&&o.constructor,b=typeof l=="function"&&l.prototype||Vi;return o===b}function H0(o){return o===o&&!sr(o)}function K0(o,l){return function(b){return b==null?!1:b[o]===l&&(l!==r||o in yt(b))}}function gw(o){var l=Pl(o,function(U){return b.size===a&&b.clear(),U}),b=l.cache;return l}function mw(o,l){var b=o[1],U=l[1],F=b|U,J=F<(T|O|N),ne=U==N&&b==y||U==N&&b==C&&o[7].length<=l[8]||U==(N|C)&&l[7].length<=l[8]&&b==y;if(!(J||ne))return o;U&T&&(o[2]=l[2],F|=b&T?0:k);var se=l[3];if(se){var fe=o[3];o[3]=fe?A0(fe,se,l[4]):se,o[4]=fe?yi(o[3],d):l[4]}return se=l[5],se&&(fe=o[5],o[5]=fe?k0(fe,se,l[6]):se,o[6]=fe?yi(o[5],d):l[6]),se=l[7],se&&(o[7]=se),U&N&&(o[8]=o[8]==null?l[8]:de(o[8],l[8])),o[9]==null&&(o[9]=l[9]),o[0]=l[0],o[1]=F,o}function vw(o){var l=[];if(o!=null)for(var b in yt(o))l.push(b);return l}function bw(o){return Ka.call(o)}function W0(o,l,b){return l=re(l===r?o.length-1:l,0),function(){for(var U=arguments,F=-1,J=re(U.length-l,0),ne=ye(J);++F<J;)ne[F]=U[l+F];F=-1;for(var se=ye(l+1);++F<l;)se[F]=U[F];return se[l]=b(ne),Xr(o,this,se)}}function G0(o,l){return l.length<2?o:oa(o,Mn(l,0,-1))}function _w(o,l){for(var b=o.length,U=de(l.length,b),F=hn(o);U--;){var J=l[U];o[U]=Xi(J,b)?F[J]:r}return o}function hf(o,l){if(!(l==="constructor"&&typeof o[l]=="function")&&l!="__proto__")return o[l]}var Q0=X0(v0),nu=Uh||function(o,l){return vr.setTimeout(o,l)},ff=X0($_);function Y0(o,l,b){var U=l+"";return ff(o,hw(U,ww(uw(U),b)))}function X0(o){var l=0,b=0;return function(){var U=be(),F=z-(U-b);if(b=U,F>0){if(++l>=V)return arguments[0]}else l=0;return o.apply(r,arguments)}}function Il(o,l){var b=-1,U=o.length,F=U-1;for(l=l===r?U:l;++b<l;){var J=Wh(b,F),ne=o[J];o[J]=o[b],o[b]=ne}return o.length=l,o}var J0=gw(function(o){var l=[];return o.charCodeAt(0)===46&&l.push(""),o.replace(Dt,function(b,U,F,J){l.push(F?J.replace(cr,"$1"):U||b)}),l});function _i(o){if(typeof o=="string"||An(o))return o;var l=o+"";return l=="0"&&1/o==-j?"-0":l}function sa(o){if(o!=null){try{return Xo.call(o)}catch{}try{return o+""}catch{}}return""}function ww(o,l){return Fr(ke,function(b){var U="_."+b[0];l&b[1]&&!Wo(o,U)&&o.push(U)}),o.sort()}function Z0(o){if(o instanceof pt)return o.clone();var l=new Hr(o.__wrapped__,o.__chain__);return l.__actions__=hn(o.__actions__),l.__index__=o.__index__,l.__values__=o.__values__,l}function Ew(o,l,b){(b?en(o,l,b):l===r)?l=1:l=re(it(l),0);var U=o==null?0:o.length;if(!U||l<1)return[];for(var F=0,J=0,ne=ye(Qa(U/l));F<U;)ne[J++]=Mn(o,F,F+=l);return ne}function Sw(o){for(var l=-1,b=o==null?0:o.length,U=0,F=[];++l<b;){var J=o[l];J&&(F[U++]=J)}return F}function Cw(){var o=arguments.length;if(!o)return[];for(var l=ye(o-1),b=arguments[0],U=o;U--;)l[U-1]=arguments[U];return $r(tt(b)?hn(b):[b],xr(l,1))}var Tw=ut(function(o,l){return pr(o)?Xs(o,xr(l,1,pr,!0)):[]}),Rw=ut(function(o,l){var b=Vn(l);return pr(b)&&(b=r),pr(o)?Xs(o,xr(l,1,pr,!0),Ge(b,2)):[]}),Iw=ut(function(o,l){var b=Vn(l);return pr(b)&&(b=r),pr(o)?Xs(o,xr(l,1,pr,!0),r,b):[]});function Aw(o,l,b){var U=o==null?0:o.length;return U?(l=b||l===r?1:it(l),Mn(o,l<0?0:l,U)):[]}function kw(o,l,b){var U=o==null?0:o.length;return U?(l=b||l===r?1:it(l),l=U-l,Mn(o,0,l<0?0:l)):[]}function Ow(o,l){return o&&o.length?bl(o,Ge(l,3),!0,!0):[]}function Pw(o,l){return o&&o.length?bl(o,Ge(l,3),!0):[]}function Bw(o,l,b,U){var F=o==null?0:o.length;return F?(b&&typeof b!="number"&&en(o,l,b)&&(b=0,U=F),C_(o,l,b,U)):[]}function ey(o,l,b){var U=o==null?0:o.length;if(!U)return-1;var F=b==null?0:it(b);return F<0&&(F=re(U+F,0)),Di(o,Ge(l,3),F)}function ty(o,l,b){var U=o==null?0:o.length;if(!U)return-1;var F=U-1;return b!==r&&(F=it(b),F=b<0?re(U+F,0):de(F,U-1)),Di(o,Ge(l,3),F,!0)}function ry(o){var l=o==null?0:o.length;return l?xr(o,1):[]}function Lw(o){var l=o==null?0:o.length;return l?xr(o,j):[]}function Nw(o,l){var b=o==null?0:o.length;return b?(l=l===r?1:it(l),xr(o,l)):[]}function xw(o){for(var l=-1,b=o==null?0:o.length,U={};++l<b;){var F=o[l];U[F[0]]=F[1]}return U}function ny(o){return o&&o.length?o[0]:r}function Uw(o,l,b){var U=o==null?0:o.length;if(!U)return-1;var F=b==null?0:it(b);return F<0&&(F=re(U+F,0)),di(o,l,F)}function Dw(o){var l=o==null?0:o.length;return l?Mn(o,0,-1):[]}var jw=ut(function(o){var l=jt(o,Jh);return l.length&&l[0]===o[0]?Fh(l):[]}),qw=ut(function(o){var l=Vn(o),b=jt(o,Jh);return l===Vn(b)?l=r:b.pop(),b.length&&b[0]===o[0]?Fh(b,Ge(l,2)):[]}),Mw=ut(function(o){var l=Vn(o),b=jt(o,Jh);return l=typeof l=="function"?l:r,l&&b.pop(),b.length&&b[0]===o[0]?Fh(b,r,l):[]});function Vw(o,l){return o==null?"":P.call(o,l)}function Vn(o){var l=o==null?0:o.length;return l?o[l-1]:r}function Fw(o,l,b){var U=o==null?0:o.length;if(!U)return-1;var F=U;return b!==r&&(F=it(b),F=F<0?re(U+F,0):de(F,U-1)),l===l?Ih(o,l,F):Di(o,Fs,F,!0)}function $w(o,l){return o&&o.length?p0(o,it(l)):r}var zw=ut(iy);function iy(o,l){return o&&o.length&&l&&l.length?Kh(o,l):o}function Hw(o,l,b){return o&&o.length&&l&&l.length?Kh(o,l,Ge(b,2)):o}function Kw(o,l,b){return o&&o.length&&l&&l.length?Kh(o,l,r,b):o}var Ww=Yi(function(o,l){var b=o==null?0:o.length,U=jh(o,l);return m0(o,jt(l,function(F){return Xi(F,b)?+F:F}).sort(I0)),U});function Gw(o,l){var b=[];if(!(o&&o.length))return b;var U=-1,F=[],J=o.length;for(l=Ge(l,3);++U<J;){var ne=o[U];l(ne,U,o)&&(b.push(ne),F.push(U))}return m0(o,F),b}function df(o){return o==null?o:nt.call(o)}function Qw(o,l,b){var U=o==null?0:o.length;return U?(b&&typeof b!="number"&&en(o,l,b)?(l=0,b=U):(l=l==null?0:it(l),b=b===r?U:it(b)),Mn(o,l,b)):[]}function Yw(o,l){return vl(o,l)}function Xw(o,l,b){return Qh(o,l,Ge(b,2))}function Jw(o,l){var b=o==null?0:o.length;if(b){var U=vl(o,l);if(U<b&&Xn(o[U],l))return U}return-1}function Zw(o,l){return vl(o,l,!0)}function e2(o,l,b){return Qh(o,l,Ge(b,2),!0)}function t2(o,l){var b=o==null?0:o.length;if(b){var U=vl(o,l,!0)-1;if(Xn(o[U],l))return U}return-1}function r2(o){return o&&o.length?b0(o):[]}function n2(o,l){return o&&o.length?b0(o,Ge(l,2)):[]}function i2(o){var l=o==null?0:o.length;return l?Mn(o,1,l):[]}function o2(o,l,b){return o&&o.length?(l=b||l===r?1:it(l),Mn(o,0,l<0?0:l)):[]}function a2(o,l,b){var U=o==null?0:o.length;return U?(l=b||l===r?1:it(l),l=U-l,Mn(o,l<0?0:l,U)):[]}function s2(o,l){return o&&o.length?bl(o,Ge(l,3),!1,!0):[]}function u2(o,l){return o&&o.length?bl(o,Ge(l,3)):[]}var l2=ut(function(o){return Ro(xr(o,1,pr,!0))}),c2=ut(function(o){var l=Vn(o);return pr(l)&&(l=r),Ro(xr(o,1,pr,!0),Ge(l,2))}),h2=ut(function(o){var l=Vn(o);return l=typeof l=="function"?l:r,Ro(xr(o,1,pr,!0),r,l)});function f2(o){return o&&o.length?Ro(o):[]}function d2(o,l){return o&&o.length?Ro(o,Ge(l,2)):[]}function p2(o,l){return l=typeof l=="function"?l:r,o&&o.length?Ro(o,r,l):[]}function pf(o){if(!(o&&o.length))return[];var l=0;return o=Un(o,function(b){if(pr(b))return l=re(b.length,l),!0}),Ks(l,function(b){return jt(o,$s(b))})}function oy(o,l){if(!(o&&o.length))return[];var b=pf(o);return l==null?b:jt(b,function(U){return Xr(l,r,U)})}var y2=ut(function(o,l){return pr(o)?Xs(o,l):[]}),g2=ut(function(o){return Xh(Un(o,pr))}),m2=ut(function(o){var l=Vn(o);return pr(l)&&(l=r),Xh(Un(o,pr),Ge(l,2))}),v2=ut(function(o){var l=Vn(o);return l=typeof l=="function"?l:r,Xh(Un(o,pr),r,l)}),b2=ut(pf);function _2(o,l){return S0(o||[],l||[],Ys)}function w2(o,l){return S0(o||[],l||[],eu)}var E2=ut(function(o){var l=o.length,b=l>1?o[l-1]:r;return b=typeof b=="function"?(o.pop(),b):r,oy(o,b)});function ay(o){var l=Y(o);return l.__chain__=!0,l}function S2(o,l){return l(o),o}function Al(o,l){return l(o)}var C2=Yi(function(o){var l=o.length,b=l?o[0]:0,U=this.__wrapped__,F=function(J){return jh(J,o)};return l>1||this.__actions__.length||!(U instanceof pt)||!Xi(b)?this.thru(F):(U=U.slice(b,+b+(l?1:0)),U.__actions__.push({func:Al,args:[F],thisArg:r}),new Hr(U,this.__chain__).thru(function(J){return l&&!J.length&&J.push(r),J}))});function T2(){return ay(this)}function R2(){return new Hr(this.value(),this.__chain__)}function I2(){this.__values__===r&&(this.__values__=_y(this.value()));var o=this.__index__>=this.__values__.length,l=o?r:this.__values__[this.__index__++];return{done:o,value:l}}function A2(){return this}function k2(o){for(var l,b=this;b instanceof Qn;){var U=Z0(b);U.__index__=0,U.__values__=r,l?F.__wrapped__=U:l=U;var F=U;b=b.__wrapped__}return F.__wrapped__=o,l}function O2(){var o=this.__wrapped__;if(o instanceof pt){var l=o;return this.__actions__.length&&(l=new pt(this)),l=l.reverse(),l.__actions__.push({func:Al,args:[df],thisArg:r}),new Hr(l,this.__chain__)}return this.thru(df)}function P2(){return E0(this.__wrapped__,this.__actions__)}var B2=_l(function(o,l,b){_t.call(o,b)?++o[b]:Gi(o,b,1)});function L2(o,l,b){var U=tt(o)?rl:S_;return b&&en(o,l,b)&&(l=r),U(o,Ge(l,3))}function N2(o,l){var b=tt(o)?Un:o0;return b(o,Ge(l,3))}var x2=L0(ey),U2=L0(ty);function D2(o,l){return xr(kl(o,l),1)}function j2(o,l){return xr(kl(o,l),j)}function q2(o,l,b){return b=b===r?1:it(b),xr(kl(o,l),b)}function sy(o,l){var b=tt(o)?Fr:To;return b(o,Ge(l,3))}function uy(o,l){var b=tt(o)?bh:i0;return b(o,Ge(l,3))}var M2=_l(function(o,l,b){_t.call(o,b)?o[b].push(l):Gi(o,b,[l])});function V2(o,l,b,U){o=fn(o)?o:ts(o),b=b&&!U?it(b):0;var F=o.length;return b<0&&(b=re(F+b,0)),Nl(o)?b<=F&&o.indexOf(l,b)>-1:!!F&&di(o,l,b)>-1}var F2=ut(function(o,l,b){var U=-1,F=typeof l=="function",J=fn(o)?ye(o.length):[];return To(o,function(ne){J[++U]=F?Xr(l,ne,b):Js(ne,l,b)}),J}),$2=_l(function(o,l,b){Gi(o,b,l)});function kl(o,l){var b=tt(o)?jt:h0;return b(o,Ge(l,3))}function z2(o,l,b,U){return o==null?[]:(tt(l)||(l=l==null?[]:[l]),b=U?r:b,tt(b)||(b=b==null?[]:[b]),y0(o,l,b))}var H2=_l(function(o,l,b){o[b?0:1].push(l)},function(){return[[],[]]});function K2(o,l,b){var U=tt(o)?Ui:zs,F=arguments.length<3;return U(o,Ge(l,4),b,F,To)}function W2(o,l,b){var U=tt(o)?Ma:zs,F=arguments.length<3;return U(o,Ge(l,4),b,F,i0)}function G2(o,l){var b=tt(o)?Un:o0;return b(o,Bl(Ge(l,3)))}function Q2(o){var l=tt(o)?e0:V_;return l(o)}function Y2(o,l,b){(b?en(o,l,b):l===r)?l=1:l=it(l);var U=tt(o)?v_:F_;return U(o,l)}function X2(o){var l=tt(o)?b_:z_;return l(o)}function J2(o){if(o==null)return 0;if(fn(o))return Nl(o)?Eo(o):o.length;var l=Kr(o);return l==A||l==ge?o.size:zh(o).length}function Z2(o,l,b){var U=tt(o)?Va:H_;return b&&en(o,l,b)&&(l=r),U(o,Ge(l,3))}var eE=ut(function(o,l){if(o==null)return[];var b=l.length;return b>1&&en(o,l[0],l[1])?l=[]:b>2&&en(l[0],l[1],l[2])&&(l=[l[0]]),y0(o,xr(l,1),[])}),Ol=xh||function(){return vr.Date.now()};function tE(o,l){if(typeof l!="function")throw new Br(c);return o=it(o),function(){if(--o<1)return l.apply(this,arguments)}}function ly(o,l,b){return l=b?r:l,l=o&&l==null?o.length:l,Qi(o,N,r,r,r,r,l)}function cy(o,l){var b;if(typeof l!="function")throw new Br(c);return o=it(o),function(){return--o>0&&(b=l.apply(this,arguments)),o<=1&&(l=r),b}}var yf=ut(function(o,l,b){var U=T;if(b.length){var F=yi(b,Za(yf));U|=w}return Qi(o,U,l,b,F)}),hy=ut(function(o,l,b){var U=T|O;if(b.length){var F=yi(b,Za(hy));U|=w}return Qi(l,U,o,b,F)});function fy(o,l,b){l=b?r:l;var U=Qi(o,y,r,r,r,r,r,l);return U.placeholder=fy.placeholder,U}function dy(o,l,b){l=b?r:l;var U=Qi(o,I,r,r,r,r,r,l);return U.placeholder=dy.placeholder,U}function py(o,l,b){var U,F,J,ne,se,fe,we=0,Se=!1,Ae=!1,je=!0;if(typeof o!="function")throw new Br(c);l=Fn(l)||0,sr(b)&&(Se=!!b.leading,Ae="maxWait"in b,J=Ae?re(Fn(b.maxWait)||0,l):J,je="trailing"in b?!!b.trailing:je);function Ve(yr){var Jn=U,eo=F;return U=F=r,we=yr,ne=o.apply(eo,Jn),ne}function Ye(yr){return we=yr,se=nu(ft,l),Se?Ve(yr):ne}function ot(yr){var Jn=yr-fe,eo=yr-we,Ly=l-Jn;return Ae?de(Ly,J-eo):Ly}function Xe(yr){var Jn=yr-fe,eo=yr-we;return fe===r||Jn>=l||Jn<0||Ae&&eo>=J}function ft(){var yr=Ol();if(Xe(yr))return gt(yr);se=nu(ft,ot(yr))}function gt(yr){return se=r,je&&U?Ve(yr):(U=F=r,ne)}function kn(){se!==r&&C0(se),we=0,U=fe=F=se=r}function tn(){return se===r?ne:gt(Ol())}function On(){var yr=Ol(),Jn=Xe(yr);if(U=arguments,F=this,fe=yr,Jn){if(se===r)return Ye(fe);if(Ae)return C0(se),se=nu(ft,l),Ve(fe)}return se===r&&(se=nu(ft,l)),ne}return On.cancel=kn,On.flush=tn,On}var rE=ut(function(o,l){return n0(o,1,l)}),nE=ut(function(o,l,b){return n0(o,Fn(l)||0,b)});function iE(o){return Qi(o,v)}function Pl(o,l){if(typeof o!="function"||l!=null&&typeof l!="function")throw new Br(c);var b=function(){var U=arguments,F=l?l.apply(this,U):U[0],J=b.cache;if(J.has(F))return J.get(F);var ne=o.apply(this,U);return b.cache=J.set(F,ne)||J,ne};return b.cache=new(Pl.Cache||Wi),b}Pl.Cache=Wi;function Bl(o){if(typeof o!="function")throw new Br(c);return function(){var l=arguments;switch(l.length){case 0:return!o.call(this);case 1:return!o.call(this,l[0]);case 2:return!o.call(this,l[0],l[1]);case 3:return!o.call(this,l[0],l[1],l[2])}return!o.apply(this,l)}}function oE(o){return cy(2,o)}var aE=K_(function(o,l){l=l.length==1&&tt(l[0])?jt(l[0],Ar(Ge())):jt(xr(l,1),Ar(Ge()));var b=l.length;return ut(function(U){for(var F=-1,J=de(U.length,b);++F<J;)U[F]=l[F].call(this,U[F]);return Xr(o,this,U)})}),gf=ut(function(o,l){var b=yi(l,Za(gf));return Qi(o,w,r,l,b)}),yy=ut(function(o,l){var b=yi(l,Za(yy));return Qi(o,L,r,l,b)}),sE=Yi(function(o,l){return Qi(o,C,r,r,r,l)});function uE(o,l){if(typeof o!="function")throw new Br(c);return l=l===r?l:it(l),ut(o,l)}function lE(o,l){if(typeof o!="function")throw new Br(c);return l=l==null?0:re(it(l),0),ut(function(b){var U=b[l],F=Ao(b,0,l);return U&&$r(F,U),Xr(o,this,F)})}function cE(o,l,b){var U=!0,F=!0;if(typeof o!="function")throw new Br(c);return sr(b)&&(U="leading"in b?!!b.leading:U,F="trailing"in b?!!b.trailing:F),py(o,l,{leading:U,maxWait:l,trailing:F})}function hE(o){return ly(o,1)}function fE(o,l){return gf(Zh(l),o)}function dE(){if(!arguments.length)return[];var o=arguments[0];return tt(o)?o:[o]}function pE(o){return qn(o,R)}function yE(o,l){return l=typeof l=="function"?l:r,qn(o,R,l)}function gE(o){return qn(o,f|R)}function mE(o,l){return l=typeof l=="function"?l:r,qn(o,f|R,l)}function vE(o,l){return l==null||r0(o,l,kr(l))}function Xn(o,l){return o===l||o!==o&&l!==l}var bE=Cl(Vh),_E=Cl(function(o,l){return o>=l}),ua=u0(function(){return arguments}())?u0:function(o){return fr(o)&&_t.call(o,"callee")&&!fl.call(o,"callee")},tt=ye.isArray,wE=js?Ar(js):k_;function fn(o){return o!=null&&Ll(o.length)&&!Ji(o)}function pr(o){return fr(o)&&fn(o)}function EE(o){return o===!0||o===!1||fr(o)&&Zr(o)==Re}var ko=dl||If,SE=Zu?Ar(Zu):O_;function CE(o){return fr(o)&&o.nodeType===1&&!iu(o)}function TE(o){if(o==null)return!0;if(fn(o)&&(tt(o)||typeof o=="string"||typeof o.splice=="function"||ko(o)||es(o)||ua(o)))return!o.length;var l=Kr(o);if(l==A||l==ge)return!o.size;if(ru(o))return!zh(o).length;for(var b in o)if(_t.call(o,b))return!1;return!0}function RE(o,l){return Zs(o,l)}function IE(o,l,b){b=typeof b=="function"?b:r;var U=b?b(o,l):r;return U===r?Zs(o,l,r,b):!!U}function mf(o){if(!fr(o))return!1;var l=Zr(o);return l==x||l==Je||typeof o.message=="string"&&typeof o.name=="string"&&!iu(o)}function AE(o){return typeof o=="number"&&_(o)}function Ji(o){if(!sr(o))return!1;var l=Zr(o);return l==X||l==Q||l==Ke||l==Ue}function gy(o){return typeof o=="number"&&o==it(o)}function Ll(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=M}function sr(o){var l=typeof o;return o!=null&&(l=="object"||l=="function")}function fr(o){return o!=null&&typeof o=="object"}var my=Ko?Ar(Ko):B_;function kE(o,l){return o===l||$h(o,l,sf(l))}function OE(o,l,b){return b=typeof b=="function"?b:r,$h(o,l,sf(l),b)}function PE(o){return vy(o)&&o!=+o}function BE(o){if(yw(o))throw new He(u);return l0(o)}function LE(o){return o===null}function NE(o){return o==null}function vy(o){return typeof o=="number"||fr(o)&&Zr(o)==K}function iu(o){if(!fr(o)||Zr(o)!=te)return!1;var l=mi(o);if(l===null)return!0;var b=_t.call(l,"constructor")&&l.constructor;return typeof b=="function"&&b instanceof b&&Xo.call(b)==Bh}var vf=el?Ar(el):L_;function xE(o){return gy(o)&&o>=-M&&o<=M}var by=tl?Ar(tl):N_;function Nl(o){return typeof o=="string"||!tt(o)&&fr(o)&&Zr(o)==Ne}function An(o){return typeof o=="symbol"||fr(o)&&Zr(o)==We}var es=qs?Ar(qs):x_;function UE(o){return o===r}function DE(o){return fr(o)&&Kr(o)==ze}function jE(o){return fr(o)&&Zr(o)==kt}var qE=Cl(Hh),ME=Cl(function(o,l){return o<=l});function _y(o){if(!o)return[];if(fn(o))return Nl(o)?Sn(o):hn(o);if(So&&o[So])return $a(o[So]());var l=Kr(o),b=l==A?Gs:l==ge?za:ts;return b(o)}function Zi(o){if(!o)return o===0?o:0;if(o=Fn(o),o===j||o===-j){var l=o<0?-1:1;return l*ee}return o===o?o:0}function it(o){var l=Zi(o),b=l%1;return l===l?b?l-b:l:0}function wy(o){return o?ia(it(o),0,ce):0}function Fn(o){if(typeof o=="number")return o;if(An(o))return oe;if(sr(o)){var l=typeof o.valueOf=="function"?o.valueOf():o;o=sr(l)?l+"":l}if(typeof o!="string")return o===0?o:+o;o=ji(o);var b=ho.test(o);return b||fo.test(o)?vh(o.slice(2),b?2:8):Pa.test(o)?oe:+o}function Ey(o){return bi(o,dn(o))}function VE(o){return o?ia(it(o),-M,M):o===0?o:0}function Pt(o){return o==null?"":In(o)}var FE=Xa(function(o,l){if(ru(l)||fn(l)){bi(l,kr(l),o);return}for(var b in l)_t.call(l,b)&&Ys(o,b,l[b])}),Sy=Xa(function(o,l){bi(l,dn(l),o)}),xl=Xa(function(o,l,b,U){bi(l,dn(l),o,U)}),$E=Xa(function(o,l,b,U){bi(l,kr(l),o,U)}),zE=Yi(jh);function HE(o,l){var b=Rn(o);return l==null?b:t0(b,l)}var KE=ut(function(o,l){o=yt(o);var b=-1,U=l.length,F=U>2?l[2]:r;for(F&&en(l[0],l[1],F)&&(U=1);++b<U;)for(var J=l[b],ne=dn(J),se=-1,fe=ne.length;++se<fe;){var we=ne[se],Se=o[we];(Se===r||Xn(Se,Vi[we])&&!_t.call(o,we))&&(o[we]=J[we])}return o}),WE=ut(function(o){return o.push(r,M0),Xr(Cy,r,o)});function GE(o,l){return Vs(o,Ge(l,3),vi)}function QE(o,l){return Vs(o,Ge(l,3),Mh)}function YE(o,l){return o==null?o:qh(o,Ge(l,3),dn)}function XE(o,l){return o==null?o:a0(o,Ge(l,3),dn)}function JE(o,l){return o&&vi(o,Ge(l,3))}function ZE(o,l){return o&&Mh(o,Ge(l,3))}function eS(o){return o==null?[]:gl(o,kr(o))}function tS(o){return o==null?[]:gl(o,dn(o))}function bf(o,l,b){var U=o==null?r:oa(o,l);return U===r?b:U}function rS(o,l){return o!=null&&$0(o,l,T_)}function _f(o,l){return o!=null&&$0(o,l,R_)}var nS=x0(function(o,l,b){l!=null&&typeof l.toString!="function"&&(l=Ka.call(l)),o[l]=b},Ef(pn)),iS=x0(function(o,l,b){l!=null&&typeof l.toString!="function"&&(l=Ka.call(l)),_t.call(o,l)?o[l].push(b):o[l]=[b]},Ge),oS=ut(Js);function kr(o){return fn(o)?Zp(o):zh(o)}function dn(o){return fn(o)?Zp(o,!0):U_(o)}function aS(o,l){var b={};return l=Ge(l,3),vi(o,function(U,F,J){Gi(b,l(U,F,J),U)}),b}function sS(o,l){var b={};return l=Ge(l,3),vi(o,function(U,F,J){Gi(b,F,l(U,F,J))}),b}var uS=Xa(function(o,l,b){ml(o,l,b)}),Cy=Xa(function(o,l,b,U){ml(o,l,b,U)}),lS=Yi(function(o,l){var b={};if(o==null)return b;var U=!1;l=jt(l,function(J){return J=Io(J,o),U||(U=J.length>1),J}),bi(o,of(o),b),U&&(b=qn(b,f|g|R,nw));for(var F=l.length;F--;)Yh(b,l[F]);return b});function cS(o,l){return Ty(o,Bl(Ge(l)))}var hS=Yi(function(o,l){return o==null?{}:j_(o,l)});function Ty(o,l){if(o==null)return{};var b=jt(of(o),function(U){return[U]});return l=Ge(l),g0(o,b,function(U,F){return l(U,F[0])})}function fS(o,l,b){l=Io(l,o);var U=-1,F=l.length;for(F||(F=1,o=r);++U<F;){var J=o==null?r:o[_i(l[U])];J===r&&(U=F,J=b),o=Ji(J)?J.call(o):J}return o}function dS(o,l,b){return o==null?o:eu(o,l,b)}function pS(o,l,b,U){return U=typeof U=="function"?U:r,o==null?o:eu(o,l,b,U)}var Ry=j0(kr),Iy=j0(dn);function yS(o,l,b){var U=tt(o),F=U||ko(o)||es(o);if(l=Ge(l,4),b==null){var J=o&&o.constructor;F?b=U?new J:[]:sr(o)?b=Ji(J)?Rn(mi(o)):{}:b={}}return(F?Fr:vi)(o,function(ne,se,fe){return l(b,ne,se,fe)}),b}function gS(o,l){return o==null?!0:Yh(o,l)}function mS(o,l,b){return o==null?o:w0(o,l,Zh(b))}function vS(o,l,b,U){return U=typeof U=="function"?U:r,o==null?o:w0(o,l,Zh(b),U)}function ts(o){return o==null?[]:qi(o,kr(o))}function bS(o){return o==null?[]:qi(o,dn(o))}function _S(o,l,b){return b===r&&(b=l,l=r),b!==r&&(b=Fn(b),b=b===b?b:0),l!==r&&(l=Fn(l),l=l===l?l:0),ia(Fn(o),l,b)}function wS(o,l,b){return l=Zi(l),b===r?(b=l,l=0):b=Zi(b),o=Fn(o),I_(o,l,b)}function ES(o,l,b){if(b&&typeof b!="boolean"&&en(o,l,b)&&(l=b=r),b===r&&(typeof l=="boolean"?(b=l,l=r):typeof o=="boolean"&&(b=o,o=r)),o===r&&l===r?(o=0,l=1):(o=Zi(o),l===r?(l=o,o=0):l=Zi(l)),o>l){var U=o;o=l,l=U}if(b||o%1||l%1){var F=Me();return de(o+F*(l-o+Yu("1e-"+((F+"").length-1))),l)}return Wh(o,l)}var SS=Ja(function(o,l,b){return l=l.toLowerCase(),o+(b?Ay(l):l)});function Ay(o){return wf(Pt(o).toLowerCase())}function ky(o){return o=Pt(o),o&&o.replace(wn,pi).replace(fh,"")}function CS(o,l,b){o=Pt(o),l=In(l);var U=o.length;b=b===r?U:ia(it(b),0,U);var F=b;return b-=l.length,b>=0&&o.slice(b,F)==l}function TS(o){return o=Pt(o),o&&li.test(o)?o.replace(Yr,Ws):o}function RS(o){return o=Pt(o),o&&Zt.test(o)?o.replace(Wt,"\\$&"):o}var IS=Ja(function(o,l,b){return o+(b?"-":"")+l.toLowerCase()}),AS=Ja(function(o,l,b){return o+(b?" ":"")+l.toLowerCase()}),kS=B0("toLowerCase");function OS(o,l,b){o=Pt(o),l=it(l);var U=l?Eo(o):0;if(!l||U>=l)return o;var F=(l-U)/2;return Sl(Ya(F),b)+o+Sl(Qa(F),b)}function PS(o,l,b){o=Pt(o),l=it(l);var U=l?Eo(o):0;return l&&U<l?o+Sl(l-U,b):o}function BS(o,l,b){o=Pt(o),l=it(l);var U=l?Eo(o):0;return l&&U<l?Sl(l-U,b)+o:o}function LS(o,l,b){return b||l==null?l=0:l&&(l=+l),Oe(Pt(o).replace(Gt,""),l||0)}function NS(o,l,b){return(b?en(o,l,b):l===r)?l=1:l=it(l),Gh(Pt(o),l)}function xS(){var o=arguments,l=Pt(o[0]);return o.length<3?l:l.replace(o[1],o[2])}var US=Ja(function(o,l,b){return o+(b?"_":"")+l.toLowerCase()});function DS(o,l,b){return b&&typeof b!="number"&&en(o,l,b)&&(l=b=r),b=b===r?ce:b>>>0,b?(o=Pt(o),o&&(typeof l=="string"||l!=null&&!vf(l))&&(l=In(l),!l&&Mi(o))?Ao(Sn(o),0,b):o.split(l,b)):[]}var jS=Ja(function(o,l,b){return o+(b?" ":"")+wf(l)});function qS(o,l,b){return o=Pt(o),b=b==null?0:ia(it(b),0,o.length),l=In(l),o.slice(b,b+l.length)==l}function MS(o,l,b){var U=Y.templateSettings;b&&en(o,l,b)&&(l=r),o=Pt(o),l=xl({},l,U,q0);var F=xl({},l.imports,U.imports,q0),J=kr(F),ne=qi(F,J),se,fe,we=0,Se=l.interpolate||Tr,Ae="__p += '",je=Ha((l.escape||Tr).source+"|"+Se.source+"|"+(Se===xt?$t:Tr).source+"|"+(l.evaluate||Tr).source+"|$","g"),Ve="//# sourceURL="+(_t.call(l,"sourceURL")?(l.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++gh+"]")+`
`;o.replace(je,function(Xe,ft,gt,kn,tn,On){return gt||(gt=kn),Ae+=o.slice(we,On).replace($o,Sh),ft&&(se=!0,Ae+=`' +
__e(`+ft+`) +
'`),tn&&(fe=!0,Ae+=`';
`+tn+`;
__p += '`),gt&&(Ae+=`' +
((__t = (`+gt+`)) == null ? '' : __t) +
'`),we=On+Xe.length,Xe}),Ae+=`';
`;var Ye=_t.call(l,"variable")&&l.variable;if(!Ye)Ae=`with (obj) {
`+Ae+`
}
`;else if(or.test(Ye))throw new He(s);Ae=(fe?Ae.replace(gr,""):Ae).replace(qr,"$1").replace(un,"$1;"),Ae="function("+(Ye||"obj")+`) {
`+(Ye?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(se?", __e = _.escape":"")+(fe?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ae+`return __p
}`;var ot=Py(function(){return ht(J,Ve+"return "+Ae).apply(r,ne)});if(ot.source=Ae,mf(ot))throw ot;return ot}function VS(o){return Pt(o).toLowerCase()}function FS(o){return Pt(o).toUpperCase()}function $S(o,l,b){if(o=Pt(o),o&&(b||l===r))return ji(o);if(!o||!(l=In(l)))return o;var U=Sn(o),F=Sn(l),J=Qo(U,F),ne=_o(U,F)+1;return Ao(U,J,ne).join("")}function zS(o,l,b){if(o=Pt(o),o&&(b||l===r))return o.slice(0,sl(o)+1);if(!o||!(l=In(l)))return o;var U=Sn(o),F=_o(U,Sn(l))+1;return Ao(U,0,F).join("")}function HS(o,l,b){if(o=Pt(o),o&&(b||l===r))return o.replace(Gt,"");if(!o||!(l=In(l)))return o;var U=Sn(o),F=Qo(U,Sn(l));return Ao(U,F).join("")}function KS(o,l){var b=p,U=q;if(sr(l)){var F="separator"in l?l.separator:F;b="length"in l?it(l.length):b,U="omission"in l?In(l.omission):U}o=Pt(o);var J=o.length;if(Mi(o)){var ne=Sn(o);J=ne.length}if(b>=J)return o;var se=b-Eo(U);if(se<1)return U;var fe=ne?Ao(ne,0,se).join(""):o.slice(0,se);if(F===r)return fe+U;if(ne&&(se+=fe.length-se),vf(F)){if(o.slice(se).search(F)){var we,Se=fe;for(F.global||(F=Ha(F.source,Pt(tr.exec(F))+"g")),F.lastIndex=0;we=F.exec(Se);)var Ae=we.index;fe=fe.slice(0,Ae===r?se:Ae)}}else if(o.indexOf(In(F),se)!=se){var je=fe.lastIndexOf(F);je>-1&&(fe=fe.slice(0,je))}return fe+U}function WS(o){return o=Pt(o),o&&_n.test(o)?o.replace(Qr,Ah):o}var GS=Ja(function(o,l,b){return o+(b?" ":"")+l.toUpperCase()}),wf=B0("toUpperCase");function Oy(o,l,b){return o=Pt(o),l=b?r:l,l===r?Ch(o)?Oh(o):wh(o):o.match(l)||[]}var Py=ut(function(o,l){try{return Xr(o,r,l)}catch(b){return mf(b)?b:new He(b)}}),QS=Yi(function(o,l){return Fr(l,function(b){b=_i(b),Gi(o,b,yf(o[b],o))}),o});function YS(o){var l=o==null?0:o.length,b=Ge();return o=l?jt(o,function(U){if(typeof U[1]!="function")throw new Br(c);return[b(U[0]),U[1]]}):[],ut(function(U){for(var F=-1;++F<l;){var J=o[F];if(Xr(J[0],this,U))return Xr(J[1],this,U)}})}function XS(o){return E_(qn(o,f))}function Ef(o){return function(){return o}}function JS(o,l){return o==null||o!==o?l:o}var ZS=N0(),eC=N0(!0);function pn(o){return o}function Sf(o){return c0(typeof o=="function"?o:qn(o,f))}function tC(o){return f0(qn(o,f))}function rC(o,l){return d0(o,qn(l,f))}var nC=ut(function(o,l){return function(b){return Js(b,o,l)}}),iC=ut(function(o,l){return function(b){return Js(o,b,l)}});function Cf(o,l,b){var U=kr(l),F=gl(l,U);b==null&&!(sr(l)&&(F.length||!U.length))&&(b=l,l=o,o=this,F=gl(l,kr(l)));var J=!(sr(b)&&"chain"in b)||!!b.chain,ne=Ji(o);return Fr(F,function(se){var fe=l[se];o[se]=fe,ne&&(o.prototype[se]=function(){var we=this.__chain__;if(J||we){var Se=o(this.__wrapped__),Ae=Se.__actions__=hn(this.__actions__);return Ae.push({func:fe,args:arguments,thisArg:o}),Se.__chain__=we,Se}return fe.apply(o,$r([this.value()],arguments))})}),o}function oC(){return vr._===this&&(vr._=Wa),this}function Tf(){}function aC(o){return o=it(o),ut(function(l){return p0(l,o)})}var sC=tf(jt),uC=tf(rl),lC=tf(Va);function By(o){return lf(o)?$s(_i(o)):q_(o)}function cC(o){return function(l){return o==null?r:oa(o,l)}}var hC=U0(),fC=U0(!0);function Rf(){return[]}function If(){return!1}function dC(){return{}}function pC(){return""}function yC(){return!0}function gC(o,l){if(o=it(o),o<1||o>M)return[];var b=ce,U=de(o,ce);l=Ge(l),o-=ce;for(var F=Ks(U,l);++b<o;)l(b);return F}function mC(o){return tt(o)?jt(o,_i):An(o)?[o]:hn(J0(Pt(o)))}function vC(o){var l=++Ph;return Pt(o)+l}var bC=El(function(o,l){return o+l},0),_C=rf("ceil"),wC=El(function(o,l){return o/l},1),EC=rf("floor");function SC(o){return o&&o.length?yl(o,pn,Vh):r}function CC(o,l){return o&&o.length?yl(o,Ge(l,2),Vh):r}function TC(o){return il(o,pn)}function RC(o,l){return il(o,Ge(l,2))}function IC(o){return o&&o.length?yl(o,pn,Hh):r}function AC(o,l){return o&&o.length?yl(o,Ge(l,2),Hh):r}var kC=El(function(o,l){return o*l},1),OC=rf("round"),PC=El(function(o,l){return o-l},0);function BC(o){return o&&o.length?Hs(o,pn):0}function LC(o,l){return o&&o.length?Hs(o,Ge(l,2)):0}return Y.after=tE,Y.ary=ly,Y.assign=FE,Y.assignIn=Sy,Y.assignInWith=xl,Y.assignWith=$E,Y.at=zE,Y.before=cy,Y.bind=yf,Y.bindAll=QS,Y.bindKey=hy,Y.castArray=dE,Y.chain=ay,Y.chunk=Ew,Y.compact=Sw,Y.concat=Cw,Y.cond=YS,Y.conforms=XS,Y.constant=Ef,Y.countBy=B2,Y.create=HE,Y.curry=fy,Y.curryRight=dy,Y.debounce=py,Y.defaults=KE,Y.defaultsDeep=WE,Y.defer=rE,Y.delay=nE,Y.difference=Tw,Y.differenceBy=Rw,Y.differenceWith=Iw,Y.drop=Aw,Y.dropRight=kw,Y.dropRightWhile=Ow,Y.dropWhile=Pw,Y.fill=Bw,Y.filter=N2,Y.flatMap=D2,Y.flatMapDeep=j2,Y.flatMapDepth=q2,Y.flatten=ry,Y.flattenDeep=Lw,Y.flattenDepth=Nw,Y.flip=iE,Y.flow=ZS,Y.flowRight=eC,Y.fromPairs=xw,Y.functions=eS,Y.functionsIn=tS,Y.groupBy=M2,Y.initial=Dw,Y.intersection=jw,Y.intersectionBy=qw,Y.intersectionWith=Mw,Y.invert=nS,Y.invertBy=iS,Y.invokeMap=F2,Y.iteratee=Sf,Y.keyBy=$2,Y.keys=kr,Y.keysIn=dn,Y.map=kl,Y.mapKeys=aS,Y.mapValues=sS,Y.matches=tC,Y.matchesProperty=rC,Y.memoize=Pl,Y.merge=uS,Y.mergeWith=Cy,Y.method=nC,Y.methodOf=iC,Y.mixin=Cf,Y.negate=Bl,Y.nthArg=aC,Y.omit=lS,Y.omitBy=cS,Y.once=oE,Y.orderBy=z2,Y.over=sC,Y.overArgs=aE,Y.overEvery=uC,Y.overSome=lC,Y.partial=gf,Y.partialRight=yy,Y.partition=H2,Y.pick=hS,Y.pickBy=Ty,Y.property=By,Y.propertyOf=cC,Y.pull=zw,Y.pullAll=iy,Y.pullAllBy=Hw,Y.pullAllWith=Kw,Y.pullAt=Ww,Y.range=hC,Y.rangeRight=fC,Y.rearg=sE,Y.reject=G2,Y.remove=Gw,Y.rest=uE,Y.reverse=df,Y.sampleSize=Y2,Y.set=dS,Y.setWith=pS,Y.shuffle=X2,Y.slice=Qw,Y.sortBy=eE,Y.sortedUniq=r2,Y.sortedUniqBy=n2,Y.split=DS,Y.spread=lE,Y.tail=i2,Y.take=o2,Y.takeRight=a2,Y.takeRightWhile=s2,Y.takeWhile=u2,Y.tap=S2,Y.throttle=cE,Y.thru=Al,Y.toArray=_y,Y.toPairs=Ry,Y.toPairsIn=Iy,Y.toPath=mC,Y.toPlainObject=Ey,Y.transform=yS,Y.unary=hE,Y.union=l2,Y.unionBy=c2,Y.unionWith=h2,Y.uniq=f2,Y.uniqBy=d2,Y.uniqWith=p2,Y.unset=gS,Y.unzip=pf,Y.unzipWith=oy,Y.update=mS,Y.updateWith=vS,Y.values=ts,Y.valuesIn=bS,Y.without=y2,Y.words=Oy,Y.wrap=fE,Y.xor=g2,Y.xorBy=m2,Y.xorWith=v2,Y.zip=b2,Y.zipObject=_2,Y.zipObjectDeep=w2,Y.zipWith=E2,Y.entries=Ry,Y.entriesIn=Iy,Y.extend=Sy,Y.extendWith=xl,Cf(Y,Y),Y.add=bC,Y.attempt=Py,Y.camelCase=SS,Y.capitalize=Ay,Y.ceil=_C,Y.clamp=_S,Y.clone=pE,Y.cloneDeep=gE,Y.cloneDeepWith=mE,Y.cloneWith=yE,Y.conformsTo=vE,Y.deburr=ky,Y.defaultTo=JS,Y.divide=wC,Y.endsWith=CS,Y.eq=Xn,Y.escape=TS,Y.escapeRegExp=RS,Y.every=L2,Y.find=x2,Y.findIndex=ey,Y.findKey=GE,Y.findLast=U2,Y.findLastIndex=ty,Y.findLastKey=QE,Y.floor=EC,Y.forEach=sy,Y.forEachRight=uy,Y.forIn=YE,Y.forInRight=XE,Y.forOwn=JE,Y.forOwnRight=ZE,Y.get=bf,Y.gt=bE,Y.gte=_E,Y.has=rS,Y.hasIn=_f,Y.head=ny,Y.identity=pn,Y.includes=V2,Y.indexOf=Uw,Y.inRange=wS,Y.invoke=oS,Y.isArguments=ua,Y.isArray=tt,Y.isArrayBuffer=wE,Y.isArrayLike=fn,Y.isArrayLikeObject=pr,Y.isBoolean=EE,Y.isBuffer=ko,Y.isDate=SE,Y.isElement=CE,Y.isEmpty=TE,Y.isEqual=RE,Y.isEqualWith=IE,Y.isError=mf,Y.isFinite=AE,Y.isFunction=Ji,Y.isInteger=gy,Y.isLength=Ll,Y.isMap=my,Y.isMatch=kE,Y.isMatchWith=OE,Y.isNaN=PE,Y.isNative=BE,Y.isNil=NE,Y.isNull=LE,Y.isNumber=vy,Y.isObject=sr,Y.isObjectLike=fr,Y.isPlainObject=iu,Y.isRegExp=vf,Y.isSafeInteger=xE,Y.isSet=by,Y.isString=Nl,Y.isSymbol=An,Y.isTypedArray=es,Y.isUndefined=UE,Y.isWeakMap=DE,Y.isWeakSet=jE,Y.join=Vw,Y.kebabCase=IS,Y.last=Vn,Y.lastIndexOf=Fw,Y.lowerCase=AS,Y.lowerFirst=kS,Y.lt=qE,Y.lte=ME,Y.max=SC,Y.maxBy=CC,Y.mean=TC,Y.meanBy=RC,Y.min=IC,Y.minBy=AC,Y.stubArray=Rf,Y.stubFalse=If,Y.stubObject=dC,Y.stubString=pC,Y.stubTrue=yC,Y.multiply=kC,Y.nth=$w,Y.noConflict=oC,Y.noop=Tf,Y.now=Ol,Y.pad=OS,Y.padEnd=PS,Y.padStart=BS,Y.parseInt=LS,Y.random=ES,Y.reduce=K2,Y.reduceRight=W2,Y.repeat=NS,Y.replace=xS,Y.result=fS,Y.round=OC,Y.runInContext=he,Y.sample=Q2,Y.size=J2,Y.snakeCase=US,Y.some=Z2,Y.sortedIndex=Yw,Y.sortedIndexBy=Xw,Y.sortedIndexOf=Jw,Y.sortedLastIndex=Zw,Y.sortedLastIndexBy=e2,Y.sortedLastIndexOf=t2,Y.startCase=jS,Y.startsWith=qS,Y.subtract=PC,Y.sum=BC,Y.sumBy=LC,Y.template=MS,Y.times=gC,Y.toFinite=Zi,Y.toInteger=it,Y.toLength=wy,Y.toLower=VS,Y.toNumber=Fn,Y.toSafeInteger=VE,Y.toString=Pt,Y.toUpper=FS,Y.trim=$S,Y.trimEnd=zS,Y.trimStart=HS,Y.truncate=KS,Y.unescape=WS,Y.uniqueId=vC,Y.upperCase=GS,Y.upperFirst=wf,Y.each=sy,Y.eachRight=uy,Y.first=ny,Cf(Y,function(){var o={};return vi(Y,function(l,b){_t.call(Y.prototype,b)||(o[b]=l)}),o}(),{chain:!1}),Y.VERSION=n,Fr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(o){Y[o].placeholder=Y}),Fr(["drop","take"],function(o,l){pt.prototype[o]=function(b){b=b===r?1:re(it(b),0);var U=this.__filtered__&&!l?new pt(this):this.clone();return U.__filtered__?U.__takeCount__=de(b,U.__takeCount__):U.__views__.push({size:de(b,ce),type:o+(U.__dir__<0?"Right":"")}),U},pt.prototype[o+"Right"]=function(b){return this.reverse()[o](b).reverse()}}),Fr(["filter","map","takeWhile"],function(o,l){var b=l+1,U=b==E||b==D;pt.prototype[o]=function(F){var J=this.clone();return J.__iteratees__.push({iteratee:Ge(F,3),type:b}),J.__filtered__=J.__filtered__||U,J}}),Fr(["head","last"],function(o,l){var b="take"+(l?"Right":"");pt.prototype[o]=function(){return this[b](1).value()[0]}}),Fr(["initial","tail"],function(o,l){var b="drop"+(l?"":"Right");pt.prototype[o]=function(){return this.__filtered__?new pt(this):this[b](1)}}),pt.prototype.compact=function(){return this.filter(pn)},pt.prototype.find=function(o){return this.filter(o).head()},pt.prototype.findLast=function(o){return this.reverse().find(o)},pt.prototype.invokeMap=ut(function(o,l){return typeof o=="function"?new pt(this):this.map(function(b){return Js(b,o,l)})}),pt.prototype.reject=function(o){return this.filter(Bl(Ge(o)))},pt.prototype.slice=function(o,l){o=it(o);var b=this;return b.__filtered__&&(o>0||l<0)?new pt(b):(o<0?b=b.takeRight(-o):o&&(b=b.drop(o)),l!==r&&(l=it(l),b=l<0?b.dropRight(-l):b.take(l-o)),b)},pt.prototype.takeRightWhile=function(o){return this.reverse().takeWhile(o).reverse()},pt.prototype.toArray=function(){return this.take(ce)},vi(pt.prototype,function(o,l){var b=/^(?:filter|find|map|reject)|While$/.test(l),U=/^(?:head|last)$/.test(l),F=Y[U?"take"+(l=="last"?"Right":""):l],J=U||/^find/.test(l);F&&(Y.prototype[l]=function(){var ne=this.__wrapped__,se=U?[1]:arguments,fe=ne instanceof pt,we=se[0],Se=fe||tt(ne),Ae=function(ft){var gt=F.apply(Y,$r([ft],se));return U&&je?gt[0]:gt};Se&&b&&typeof we=="function"&&we.length!=1&&(fe=Se=!1);var je=this.__chain__,Ve=!!this.__actions__.length,Ye=J&&!je,ot=fe&&!Ve;if(!J&&Se){ne=ot?ne:new pt(this);var Xe=o.apply(ne,se);return Xe.__actions__.push({func:Al,args:[Ae],thisArg:r}),new Hr(Xe,je)}return Ye&&ot?o.apply(this,se):(Xe=this.thru(Ae),Ye?U?Xe.value()[0]:Xe.value():Xe)})}),Fr(["pop","push","shift","sort","splice","unshift"],function(o){var l=Yo[o],b=/^(?:push|sort|unshift)$/.test(o)?"tap":"thru",U=/^(?:pop|shift)$/.test(o);Y.prototype[o]=function(){var F=arguments;if(U&&!this.__chain__){var J=this.value();return l.apply(tt(J)?J:[],F)}return this[b](function(ne){return l.apply(tt(ne)?ne:[],F)})}}),vi(pt.prototype,function(o,l){var b=Y[l];if(b){var U=b.name+"";_t.call(zr,U)||(zr[U]=[]),zr[U].push({name:l,func:b})}}),zr[wl(r,O).name]=[{name:"wrapper",func:r}],pt.prototype.clone=Wb,pt.prototype.reverse=Gb,pt.prototype.value=Qb,Y.prototype.at=C2,Y.prototype.chain=T2,Y.prototype.commit=R2,Y.prototype.next=I2,Y.prototype.plant=k2,Y.prototype.reverse=O2,Y.prototype.toJSON=Y.prototype.valueOf=Y.prototype.value=P2,Y.prototype.first=Y.prototype.head,So&&(Y.prototype[So]=A2),Y},Dn=gi();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(vr._=Dn,define(function(){return Dn})):hi?((hi.exports=Dn)._=Dn,ja._=Dn):vr._=Dn}).call(e)}),_6=Ie((e,t)=>{var r=Ev(),n=Av(),i=Iv(),u=hp(),{includes:c,isBoolean:s,isInteger:h,isNumber:a,isPlainObject:d,isString:f,once:g}=b6(),{KeyObject:R,createSecretKey:S,createPrivateKey:m}=require("crypto"),T=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];n&&T.splice(3,0,"PS256","PS384","PS512");var O={expiresIn:{isValid:function(C){return h(C)||f(C)&&C},message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:function(C){return h(C)||f(C)&&C},message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:function(C){return f(C)||Array.isArray(C)},message:'"audience" must be a string or array'},algorithm:{isValid:c.bind(null,T),message:'"algorithm" must be a valid string enum value'},header:{isValid:d,message:'"header" must be an object'},encoding:{isValid:f,message:'"encoding" must be a string'},issuer:{isValid:f,message:'"issuer" must be a string'},subject:{isValid:f,message:'"subject" must be a string'},jwtid:{isValid:f,message:'"jwtid" must be a string'},noTimestamp:{isValid:s,message:'"noTimestamp" must be a boolean'},keyid:{isValid:f,message:'"keyid" must be a string'},mutatePayload:{isValid:s,message:'"mutatePayload" must be a boolean'},allowInsecureKeySizes:{isValid:s,message:'"allowInsecureKeySizes" must be a boolean'},allowInvalidAsymmetricKeyTypes:{isValid:s,message:'"allowInvalidAsymmetricKeyTypes" must be a boolean'}},k={iat:{isValid:a,message:'"iat" should be a number of seconds'},exp:{isValid:a,message:'"exp" should be a number of seconds'},nbf:{isValid:a,message:'"nbf" should be a number of seconds'}};function y(C,v,p,q){if(!d(p))throw new Error('Expected "'+q+'" to be a plain object.');Object.keys(p).forEach(function(V){let z=C[V];if(!z){if(!v)throw new Error('"'+V+'" is not allowed in "'+q+'"');return}if(!z.isValid(p[V]))throw new Error(z.message)})}function I(C){return y(O,!1,C,"options")}function w(C){return y(k,!0,C,"payload")}var L={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"},N=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"];t.exports=function(C,v,p,q){typeof p=="function"?(q=p,p={}):p=p||{};let V=typeof C=="object"&&!Buffer.isBuffer(C),z=Object.assign({alg:p.algorithm||"HS256",typ:V?"JWT":void 0,kid:p.keyid},p.header);function E(j){if(q)return q(j);throw j}if(!v&&p.algorithm!=="none")return E(new Error("secretOrPrivateKey must have a value"));if(v!=null&&!(v instanceof R))try{v=m(v)}catch{try{v=S(typeof v=="string"?Buffer.from(v):v)}catch{return E(new Error("secretOrPrivateKey is not valid key material"))}}if(z.alg.startsWith("HS")&&v.type!=="secret")return E(new Error(`secretOrPrivateKey must be a symmetric key when using ${z.alg}`));if(/^(?:RS|PS|ES)/.test(z.alg)){if(v.type!=="private")return E(new Error(`secretOrPrivateKey must be an asymmetric key when using ${z.alg}`));if(!p.allowInsecureKeySizes&&!z.alg.startsWith("ES")&&v.asymmetricKeyDetails!==void 0&&v.asymmetricKeyDetails.modulusLength<2048)return E(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${z.alg}`))}if(typeof C>"u")return E(new Error("payload is required"));if(V){try{w(C)}catch(j){return E(j)}p.mutatePayload||(C=Object.assign({},C))}else{let j=N.filter(function(M){return typeof p[M]<"u"});if(j.length>0)return E(new Error("invalid "+j.join(",")+" option for "+typeof C+" payload"))}if(typeof C.exp<"u"&&typeof p.expiresIn<"u")return E(new Error('Bad "options.expiresIn" option the payload already has an "exp" property.'));if(typeof C.nbf<"u"&&typeof p.notBefore<"u")return E(new Error('Bad "options.notBefore" option the payload already has an "nbf" property.'));try{I(p)}catch(j){return E(j)}if(!p.allowInvalidAsymmetricKeyTypes)try{i(z.alg,v)}catch(j){return E(j)}let B=C.iat||Math.floor(Date.now()/1e3);if(p.noTimestamp?delete C.iat:V&&(C.iat=B),typeof p.notBefore<"u"){try{C.nbf=r(p.notBefore,B)}catch(j){return E(j)}if(typeof C.nbf>"u")return E(new Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}if(typeof p.expiresIn<"u"&&typeof C=="object"){try{C.exp=r(p.expiresIn,B)}catch(j){return E(j)}if(typeof C.exp>"u")return E(new Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}Object.keys(L).forEach(function(j){let M=L[j];if(typeof p[j]<"u"){if(typeof C[M]<"u")return E(new Error('Bad "options.'+j+'" option. The payload already has an "'+M+'" property.'));C[M]=p[j]}});let D=p.encoding||"utf8";if(typeof q=="function")q=q&&g(q),u.createSign({header:z,privateKey:v,payload:C,encoding:D}).once("error",q).once("done",function(j){if(!p.allowInsecureKeySizes&&/^(?:RS|PS)/.test(z.alg)&&j.length<256)return q(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${z.alg}`));q(null,j)});else{let j=u.sign({header:z,payload:C,secret:v,encoding:D});if(!p.allowInsecureKeySizes&&/^(?:RS|PS)/.test(z.alg)&&j.length<256)throw new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${z.alg}`);return j}}}),w6=Ie((e,t)=>{t.exports={verify:v6(),sign:_6(),JsonWebTokenError:Hc(),NotBeforeError:gv(),TokenExpiredError:mv()},Object.defineProperty(t.exports,"decode",{enumerable:!1,value:wv()})}),kv={};b3(kv,{BrowserName:()=>Ov,marketNameMap:()=>Pv,submitChrome:()=>HR,submitEdge:()=>JR,submitFirefox:()=>$I,submitItero:()=>B8,submitOpera:()=>HI,supportedBrowserSet:()=>E6});$b.exports=_3(kv);var Ov=(e=>(e.Chrome="chrome",e.Firefox="firefox",e.Opera="opera",e.Edge="edge",e.Itero="itero",e))(Ov||{}),E6=new Set(["chrome","edge","firefox","itero"]),Pv={chrome:"Chrome Web Store",edge:"Edge Add-ons",firefox:"Firefox Add-ons",itero:"Itero TestBed"},S6=require("fs"),Bv=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function C6(e){return Bv.includes(e)}var T6=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Blob","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","WeakRef","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","FormData","URLSearchParams","HTMLElement","NaN",...Bv];function R6(e){return T6.includes(e)}var I6=["null","undefined","string","number","bigint","boolean","symbol"];function A6(e){return I6.includes(e)}function Ts(e){return t=>typeof t===e}var{toString:k6}=Object.prototype,Du=e=>{let t=k6.call(e).slice(8,-1);if(/HTML\w+Element/.test(t)&&ie.domElement(e))return"HTMLElement";if(R6(t))return t},Mt=e=>t=>Du(t)===e;function ie(e){if(e===null)return"null";switch(typeof e){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(e)?"NaN":"number";case"boolean":return"boolean";case"function":return"Function";case"bigint":return"bigint";case"symbol":return"symbol";default:}if(ie.observable(e))return"Observable";if(ie.array(e))return"Array";if(ie.buffer(e))return"Buffer";let t=Du(e);if(t)return t;if(e instanceof String||e instanceof Boolean||e instanceof Number)throw new TypeError("Please don't use object wrappers for primitive types");return"Object"}ie.undefined=Ts("undefined");ie.string=Ts("string");var O6=Ts("number");ie.number=e=>O6(e)&&!ie.nan(e);ie.bigint=Ts("bigint");ie.function_=Ts("function");ie.null_=e=>e===null;ie.class_=e=>ie.function_(e)&&e.toString().startsWith("class ");ie.boolean=e=>e===!0||e===!1;ie.symbol=Ts("symbol");ie.numericString=e=>ie.string(e)&&!ie.emptyStringOrWhitespace(e)&&!Number.isNaN(Number(e));ie.array=(e,t)=>Array.isArray(e)?ie.function_(t)?e.every(r=>t(r)):!0:!1;ie.buffer=e=>e?.constructor?.isBuffer?.(e)??!1;ie.blob=e=>Mt("Blob")(e);ie.nullOrUndefined=e=>ie.null_(e)||ie.undefined(e);ie.object=e=>!ie.null_(e)&&(typeof e=="object"||ie.function_(e));ie.iterable=e=>ie.function_(e?.[Symbol.iterator]);ie.asyncIterable=e=>ie.function_(e?.[Symbol.asyncIterator]);ie.generator=e=>ie.iterable(e)&&ie.function_(e?.next)&&ie.function_(e?.throw);ie.asyncGenerator=e=>ie.asyncIterable(e)&&ie.function_(e.next)&&ie.function_(e.throw);ie.nativePromise=e=>Mt("Promise")(e);var P6=e=>ie.function_(e?.then)&&ie.function_(e?.catch);ie.promise=e=>ie.nativePromise(e)||P6(e);ie.generatorFunction=Mt("GeneratorFunction");ie.asyncGeneratorFunction=e=>Du(e)==="AsyncGeneratorFunction";ie.asyncFunction=e=>Du(e)==="AsyncFunction";ie.boundFunction=e=>ie.function_(e)&&!e.hasOwnProperty("prototype");ie.regExp=Mt("RegExp");ie.date=Mt("Date");ie.error=Mt("Error");ie.map=e=>Mt("Map")(e);ie.set=e=>Mt("Set")(e);ie.weakMap=e=>Mt("WeakMap")(e);ie.weakSet=e=>Mt("WeakSet")(e);ie.weakRef=e=>Mt("WeakRef")(e);ie.int8Array=Mt("Int8Array");ie.uint8Array=Mt("Uint8Array");ie.uint8ClampedArray=Mt("Uint8ClampedArray");ie.int16Array=Mt("Int16Array");ie.uint16Array=Mt("Uint16Array");ie.int32Array=Mt("Int32Array");ie.uint32Array=Mt("Uint32Array");ie.float32Array=Mt("Float32Array");ie.float64Array=Mt("Float64Array");ie.bigInt64Array=Mt("BigInt64Array");ie.bigUint64Array=Mt("BigUint64Array");ie.arrayBuffer=Mt("ArrayBuffer");ie.sharedArrayBuffer=Mt("SharedArrayBuffer");ie.dataView=Mt("DataView");ie.enumCase=(e,t)=>Object.values(t).includes(e);ie.directInstanceOf=(e,t)=>Object.getPrototypeOf(e)===t.prototype;ie.urlInstance=e=>Mt("URL")(e);ie.urlString=e=>{if(!ie.string(e))return!1;try{return new URL(e),!0}catch{return!1}};ie.truthy=e=>!!e;ie.falsy=e=>!e;ie.nan=e=>Number.isNaN(e);ie.primitive=e=>ie.null_(e)||A6(typeof e);ie.integer=e=>Number.isInteger(e);ie.safeInteger=e=>Number.isSafeInteger(e);ie.plainObject=e=>{if(typeof e!="object"||e===null)return!1;let t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};ie.typedArray=e=>C6(Du(e));var B6=e=>ie.safeInteger(e)&&e>=0;ie.arrayLike=e=>!ie.nullOrUndefined(e)&&!ie.function_(e)&&B6(e.length);ie.inRange=(e,t)=>{if(ie.number(t))return e>=Math.min(0,t)&&e<=Math.max(t,0);if(ie.array(t)&&t.length===2)return e>=Math.min(...t)&&e<=Math.max(...t);throw new TypeError(`Invalid range: ${JSON.stringify(t)}`)};var L6=1,N6=["innerHTML","ownerDocument","style","attributes","nodeValue"];ie.domElement=e=>ie.object(e)&&e.nodeType===L6&&ie.string(e.nodeName)&&!ie.plainObject(e)&&N6.every(t=>t in e);ie.observable=e=>e?e===e[Symbol.observable]?.()||e===e["@@observable"]?.():!1;ie.nodeStream=e=>ie.object(e)&&ie.function_(e.pipe)&&!ie.observable(e);ie.infinite=e=>e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY;var Lv=e=>t=>ie.integer(t)&&Math.abs(t%2)===e;ie.evenInteger=Lv(0);ie.oddInteger=Lv(1);ie.emptyArray=e=>ie.array(e)&&e.length===0;ie.nonEmptyArray=e=>ie.array(e)&&e.length>0;ie.emptyString=e=>ie.string(e)&&e.length===0;var x6=e=>ie.string(e)&&!/\S/.test(e);ie.emptyStringOrWhitespace=e=>ie.emptyString(e)||x6(e);ie.nonEmptyString=e=>ie.string(e)&&e.length>0;ie.nonEmptyStringAndNotWhitespace=e=>ie.string(e)&&!ie.emptyStringOrWhitespace(e);ie.emptyObject=e=>ie.object(e)&&!ie.map(e)&&!ie.set(e)&&Object.keys(e).length===0;ie.nonEmptyObject=e=>ie.object(e)&&!ie.map(e)&&!ie.set(e)&&Object.keys(e).length>0;ie.emptySet=e=>ie.set(e)&&e.size===0;ie.nonEmptySet=e=>ie.set(e)&&e.size>0;ie.emptyMap=e=>ie.map(e)&&e.size===0;ie.nonEmptyMap=e=>ie.map(e)&&e.size>0;ie.propertyKey=e=>ie.any([ie.string,ie.number,ie.symbol],e);ie.formData=e=>Mt("FormData")(e);ie.urlSearchParams=e=>Mt("URLSearchParams")(e);var Nv=(e,t,r)=>{if(!ie.function_(t))throw new TypeError(`Invalid predicate: ${JSON.stringify(t)}`);if(r.length===0)throw new TypeError("Invalid number of values");return e.call(r,t)};ie.any=(e,...t)=>(ie.array(e)?e:[e]).some(r=>Nv(Array.prototype.some,r,t));ie.all=(e,...t)=>Nv(Array.prototype.every,e,t);var Be=(e,t,r,n={})=>{if(!e){let{multipleValues:i}=n,u=i?`received values of types ${[...new Set(r.map(c=>`\`${ie(c)}\``))].join(", ")}`:`received value of type \`${ie(r)}\``;throw new TypeError(`Expected value which is \`${t}\`, ${u}.`)}},ue={undefined:e=>Be(ie.undefined(e),"undefined",e),string:e=>Be(ie.string(e),"string",e),number:e=>Be(ie.number(e),"number",e),bigint:e=>Be(ie.bigint(e),"bigint",e),function_:e=>Be(ie.function_(e),"Function",e),null_:e=>Be(ie.null_(e),"null",e),class_:e=>Be(ie.class_(e),"Class",e),boolean:e=>Be(ie.boolean(e),"boolean",e),symbol:e=>Be(ie.symbol(e),"symbol",e),numericString:e=>Be(ie.numericString(e),"string with a number",e),array:(e,t)=>{Be(ie.array(e),"Array",e),t&&e.forEach(t)},buffer:e=>Be(ie.buffer(e),"Buffer",e),blob:e=>Be(ie.blob(e),"Blob",e),nullOrUndefined:e=>Be(ie.nullOrUndefined(e),"null or undefined",e),object:e=>Be(ie.object(e),"Object",e),iterable:e=>Be(ie.iterable(e),"Iterable",e),asyncIterable:e=>Be(ie.asyncIterable(e),"AsyncIterable",e),generator:e=>Be(ie.generator(e),"Generator",e),asyncGenerator:e=>Be(ie.asyncGenerator(e),"AsyncGenerator",e),nativePromise:e=>Be(ie.nativePromise(e),"native Promise",e),promise:e=>Be(ie.promise(e),"Promise",e),generatorFunction:e=>Be(ie.generatorFunction(e),"GeneratorFunction",e),asyncGeneratorFunction:e=>Be(ie.asyncGeneratorFunction(e),"AsyncGeneratorFunction",e),asyncFunction:e=>Be(ie.asyncFunction(e),"AsyncFunction",e),boundFunction:e=>Be(ie.boundFunction(e),"Function",e),regExp:e=>Be(ie.regExp(e),"RegExp",e),date:e=>Be(ie.date(e),"Date",e),error:e=>Be(ie.error(e),"Error",e),map:e=>Be(ie.map(e),"Map",e),set:e=>Be(ie.set(e),"Set",e),weakMap:e=>Be(ie.weakMap(e),"WeakMap",e),weakSet:e=>Be(ie.weakSet(e),"WeakSet",e),weakRef:e=>Be(ie.weakRef(e),"WeakRef",e),int8Array:e=>Be(ie.int8Array(e),"Int8Array",e),uint8Array:e=>Be(ie.uint8Array(e),"Uint8Array",e),uint8ClampedArray:e=>Be(ie.uint8ClampedArray(e),"Uint8ClampedArray",e),int16Array:e=>Be(ie.int16Array(e),"Int16Array",e),uint16Array:e=>Be(ie.uint16Array(e),"Uint16Array",e),int32Array:e=>Be(ie.int32Array(e),"Int32Array",e),uint32Array:e=>Be(ie.uint32Array(e),"Uint32Array",e),float32Array:e=>Be(ie.float32Array(e),"Float32Array",e),float64Array:e=>Be(ie.float64Array(e),"Float64Array",e),bigInt64Array:e=>Be(ie.bigInt64Array(e),"BigInt64Array",e),bigUint64Array:e=>Be(ie.bigUint64Array(e),"BigUint64Array",e),arrayBuffer:e=>Be(ie.arrayBuffer(e),"ArrayBuffer",e),sharedArrayBuffer:e=>Be(ie.sharedArrayBuffer(e),"SharedArrayBuffer",e),dataView:e=>Be(ie.dataView(e),"DataView",e),enumCase:(e,t)=>Be(ie.enumCase(e,t),"EnumCase",e),urlInstance:e=>Be(ie.urlInstance(e),"URL",e),urlString:e=>Be(ie.urlString(e),"string with a URL",e),truthy:e=>Be(ie.truthy(e),"truthy",e),falsy:e=>Be(ie.falsy(e),"falsy",e),nan:e=>Be(ie.nan(e),"NaN",e),primitive:e=>Be(ie.primitive(e),"primitive",e),integer:e=>Be(ie.integer(e),"integer",e),safeInteger:e=>Be(ie.safeInteger(e),"integer",e),plainObject:e=>Be(ie.plainObject(e),"plain object",e),typedArray:e=>Be(ie.typedArray(e),"TypedArray",e),arrayLike:e=>Be(ie.arrayLike(e),"array-like",e),domElement:e=>Be(ie.domElement(e),"HTMLElement",e),observable:e=>Be(ie.observable(e),"Observable",e),nodeStream:e=>Be(ie.nodeStream(e),"Node.js Stream",e),infinite:e=>Be(ie.infinite(e),"infinite number",e),emptyArray:e=>Be(ie.emptyArray(e),"empty array",e),nonEmptyArray:e=>Be(ie.nonEmptyArray(e),"non-empty array",e),emptyString:e=>Be(ie.emptyString(e),"empty string",e),emptyStringOrWhitespace:e=>Be(ie.emptyStringOrWhitespace(e),"empty string or whitespace",e),nonEmptyString:e=>Be(ie.nonEmptyString(e),"non-empty string",e),nonEmptyStringAndNotWhitespace:e=>Be(ie.nonEmptyStringAndNotWhitespace(e),"non-empty string and not whitespace",e),emptyObject:e=>Be(ie.emptyObject(e),"empty object",e),nonEmptyObject:e=>Be(ie.nonEmptyObject(e),"non-empty object",e),emptySet:e=>Be(ie.emptySet(e),"empty set",e),nonEmptySet:e=>Be(ie.nonEmptySet(e),"non-empty set",e),emptyMap:e=>Be(ie.emptyMap(e),"empty map",e),nonEmptyMap:e=>Be(ie.nonEmptyMap(e),"non-empty map",e),propertyKey:e=>Be(ie.propertyKey(e),"PropertyKey",e),formData:e=>Be(ie.formData(e),"FormData",e),urlSearchParams:e=>Be(ie.urlSearchParams(e),"URLSearchParams",e),evenInteger:e=>Be(ie.evenInteger(e),"even integer",e),oddInteger:e=>Be(ie.oddInteger(e),"odd integer",e),directInstanceOf:(e,t)=>Be(ie.directInstanceOf(e,t),"T",e),inRange:(e,t)=>Be(ie.inRange(e,t),"in range",e),any:(e,...t)=>Be(ie.any(e,...t),"predicate returns truthy for any value",t,{multipleValues:!0}),all:(e,...t)=>Be(ie.all(e,...t),"predicate returns truthy for all values",t,{multipleValues:!0})};Object.defineProperties(ie,{class:{value:ie.class_},function:{value:ie.function_},null:{value:ie.null_}});Object.defineProperties(ue,{class:{value:ue.class_},function:{value:ue.function_},null:{value:ue.null_}});var W=ie,U6=require("node:events"),D6=class extends Error{constructor(e){super(e||"Promise was canceled"),this.name="CancelError"}get isCanceled(){return!0}},bp=class xv{static fn(t){return(...r)=>new xv((n,i,u)=>{r.push(u),t(...r).then(n,i)})}constructor(t){this._cancelHandlers=[],this._isPending=!0,this._isCanceled=!1,this._rejectOnCancel=!0,this._promise=new Promise((r,n)=>{this._reject=n;let i=s=>{(!this._isCanceled||!c.shouldReject)&&(this._isPending=!1,r(s))},u=s=>{this._isPending=!1,n(s)},c=s=>{if(!this._isPending)throw new Error("The `onCancel` handler was attached after the promise settled.");this._cancelHandlers.push(s)};Object.defineProperties(c,{shouldReject:{get:()=>this._rejectOnCancel,set:s=>{this._rejectOnCancel=s}}}),t(i,u,c)})}then(t,r){return this._promise.then(t,r)}catch(t){return this._promise.catch(t)}finally(t){return this._promise.finally(t)}cancel(t){if(!(!this._isPending||this._isCanceled)){if(this._isCanceled=!0,this._cancelHandlers.length>0)try{for(let r of this._cancelHandlers)r()}catch(r){this._reject(r);return}this._rejectOnCancel&&this._reject(new D6(t))}}get isCanceled(){return this._isCanceled}};Object.setPrototypeOf(bp.prototype,Promise.prototype);function j6(e){return W.object(e)&&"_onResponse"in e}var Er=class extends Error{constructor(e,t,r){if(super(e),Object.defineProperty(this,"input",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stack",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"response",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Error.captureStackTrace(this,this.constructor),this.name="RequestError",this.code=t.code??"ERR_GOT_REQUEST_ERROR",this.input=t.input,j6(r)?(Object.defineProperty(this,"request",{enumerable:!1,value:r}),Object.defineProperty(this,"response",{enumerable:!1,value:r.response}),this.options=r.options):this.options=r,this.timings=this.request?.timings,W.string(t.stack)&&W.string(this.stack)){let n=this.stack.indexOf(this.message)+this.message.length,i=this.stack.slice(n).split(`
`).reverse(),u=t.stack.slice(t.stack.indexOf(t.message)+t.message.length).split(`
`).reverse();for(;u.length>0&&u[0]===i[0];)i.shift();this.stack=`${this.stack.slice(0,n)}${i.reverse().join(`
`)}${u.reverse().join(`
`)}`}}},q6=class extends Er{constructor(e){super(`Redirected ${e.options.maxRedirects} times. Aborting.`,{},e),this.name="MaxRedirectsError",this.code="ERR_TOO_MANY_REDIRECTS"}},Ic=class extends Er{constructor(e){super(`Response code ${e.statusCode} (${e.statusMessage})`,{},e.request),this.name="HTTPError",this.code="ERR_NON_2XX_3XX_RESPONSE"}},M6=class extends Er{constructor(e,t){super(e.message,e,t),this.name="CacheError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_CACHE_ACCESS":this.code}},Ug=class extends Er{constructor(e,t){super(e.message,e,t),this.name="UploadError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_UPLOAD":this.code}},V6=class extends Er{constructor(e,t,r){super(e.message,e,r),Object.defineProperty(this,"timings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"event",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="TimeoutError",this.event=e.event,this.timings=t}},Dg=class extends Er{constructor(e,t){super(e.message,e,t),this.name="ReadError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_READING_RESPONSE_STREAM":this.code}},F6=class extends Er{constructor(e){super("Retrying",{},e),this.name="RetryError",this.code="ERR_RETRYING"}},$6=class extends Er{constructor(e){super("This operation was aborted.",{},e),this.code="ERR_ABORTED",this.name="AbortError"}},Uv=qt(require("node:process"),1),Jf=require("node:buffer"),z6=require("node:stream"),Zf=qt(require("node:http"),1),H6=require("events"),K6=require("util"),W6=qt(w3(),1),G6=e=>{if(e.timings)return e.timings;let t={start:Date.now(),socket:void 0,lookup:void 0,connect:void 0,secureConnect:void 0,upload:void 0,response:void 0,end:void 0,error:void 0,abort:void 0,phases:{wait:void 0,dns:void 0,tcp:void 0,tls:void 0,request:void 0,firstByte:void 0,download:void 0,total:void 0}};e.timings=t;let r=c=>{c.once(H6.errorMonitor,()=>{t.error=Date.now(),t.phases.total=t.error-t.start})};r(e);let n=()=>{t.abort=Date.now(),t.phases.total=t.abort-t.start};e.prependOnceListener("abort",n);let i=c=>{if(t.socket=Date.now(),t.phases.wait=t.socket-t.start,K6.types.isProxy(c))return;let s=()=>{t.lookup=Date.now(),t.phases.dns=t.lookup-t.socket};c.prependOnceListener("lookup",s),(0,W6.default)(c,{connect:()=>{t.connect=Date.now(),t.lookup===void 0&&(c.removeListener("lookup",s),t.lookup=t.connect,t.phases.dns=t.lookup-t.socket),t.phases.tcp=t.connect-t.lookup},secureConnect:()=>{t.secureConnect=Date.now(),t.phases.tls=t.secureConnect-t.connect}})};e.socket?i(e.socket):e.prependOnceListener("socket",i);let u=()=>{t.upload=Date.now(),t.phases.request=t.upload-(t.secureConnect??t.connect)};return e.writableFinished?u():e.prependOnceListener("finish",u),e.prependOnceListener("response",c=>{t.response=Date.now(),t.phases.firstByte=t.response-t.upload,c.timings=t,r(c),c.prependOnceListener("end",()=>{e.off("abort",n),c.off("aborted",n),!t.phases.total&&(t.end=Date.now(),t.phases.download=t.end-t.response,t.phases.total=t.end-t.start)}),c.prependOnceListener("aborted",n)}),t},Dv=G6,Q6=qt(require("node:events"),1),Gl=qt(require("node:url"),1),Y6=qt(require("node:crypto"),1),jv=qt(require("node:stream"),1),X6="text/plain",J6="us-ascii",ed=(e,t)=>t.some(r=>r instanceof RegExp?r.test(e):r===e),Z6=new Set(["https:","http:","file:"]),e4=e=>{try{let{protocol:t}=new URL(e);return t.endsWith(":")&&!Z6.has(t)}catch{return!1}},t4=(e,{stripHash:t})=>{let r=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(e);if(!r)throw new Error(`Invalid URL: ${e}`);let{type:n,data:i,hash:u}=r.groups,c=n.split(";");u=t?"":u;let s=!1;c[c.length-1]==="base64"&&(c.pop(),s=!0);let h=c.shift()?.toLowerCase()??"",a=[...c.map(d=>{let[f,g=""]=d.split("=").map(R=>R.trim());return f==="charset"&&(g=g.toLowerCase(),g===J6)?"":`${f}${g?`=${g}`:""}`}).filter(Boolean)];return s&&a.push("base64"),(a.length>0||h&&h!==X6)&&a.unshift(h),`data:${a.join(";")},${s?i.trim():i}${u?`#${u}`:""}`};function r4(e,t){if(t={defaultProtocol:"http",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,removeExplicitPort:!1,sortQueryParameters:!0,...t},typeof t.defaultProtocol=="string"&&!t.defaultProtocol.endsWith(":")&&(t.defaultProtocol=`${t.defaultProtocol}:`),e=e.trim(),/^data:/i.test(e))return t4(e,t);if(e4(e))return e;let r=e.startsWith("//");!r&&/^\.*\//.test(e)||(e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,t.defaultProtocol));let n=new URL(e);if(t.forceHttp&&t.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(t.forceHttp&&n.protocol==="https:"&&(n.protocol="http:"),t.forceHttps&&n.protocol==="http:"&&(n.protocol="https:"),t.stripAuthentication&&(n.username="",n.password=""),t.stripHash?n.hash="":t.stripTextFragment&&(n.hash=n.hash.replace(/#?:~:text.*?$/i,"")),n.pathname){let u=/\b[a-z][a-z\d+\-.]{1,50}:\/\//g,c=0,s="";for(;;){let a=u.exec(n.pathname);if(!a)break;let d=a[0],f=a.index,g=n.pathname.slice(c,f);s+=g.replace(/\/{2,}/g,"/"),s+=d,c=f+d.length}let h=n.pathname.slice(c,n.pathname.length);s+=h.replace(/\/{2,}/g,"/"),n.pathname=s}if(n.pathname)try{n.pathname=decodeURI(n.pathname)}catch{}if(t.removeDirectoryIndex===!0&&(t.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(t.removeDirectoryIndex)&&t.removeDirectoryIndex.length>0){let u=n.pathname.split("/"),c=u[u.length-1];ed(c,t.removeDirectoryIndex)&&(u=u.slice(0,-1),n.pathname=u.slice(1).join("/")+"/")}if(n.hostname&&(n.hostname=n.hostname.replace(/\.$/,""),t.stripWWW&&/^www\.(?!www\.)[a-z\-\d]{1,63}\.[a-z.\-\d]{2,63}$/.test(n.hostname)&&(n.hostname=n.hostname.replace(/^www\./,""))),Array.isArray(t.removeQueryParameters))for(let u of[...n.searchParams.keys()])ed(u,t.removeQueryParameters)&&n.searchParams.delete(u);if(!Array.isArray(t.keepQueryParameters)&&t.removeQueryParameters===!0&&(n.search=""),Array.isArray(t.keepQueryParameters)&&t.keepQueryParameters.length>0)for(let u of[...n.searchParams.keys()])ed(u,t.keepQueryParameters)||n.searchParams.delete(u);if(t.sortQueryParameters){n.searchParams.sort();try{n.search=decodeURIComponent(n.search)}catch{}}t.removeTrailingSlash&&(n.pathname=n.pathname.replace(/\/$/,"")),t.removeExplicitPort&&n.port&&(n.port="");let i=e;return e=n.toString(),!t.removeSingleSlash&&n.pathname==="/"&&!i.endsWith("/")&&n.hash===""&&(e=e.replace(/\/$/,"")),(t.removeTrailingSlash||n.pathname==="/")&&n.hash===""&&t.removeSingleSlash&&(e=e.replace(/\/$/,"")),r&&!t.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),t.stripProtocol&&(e=e.replace(/^(?:https?:)?\/\//,"")),e}var jg=require("node:buffer"),n4=require("node:stream"),i4=require("node:stream/promises"),o4=class extends Error{name="MaxBufferError";constructor(){super("maxBuffer exceeded")}};async function a4(e,t){if(!e)throw new Error("Expected a stream");t={maxBuffer:Number.POSITIVE_INFINITY,...t};let{maxBuffer:r}=t,{encoding:n="utf8"}=t,i=n==="buffer";i&&(n=null);let u=new n4.PassThrough;n&&u.setEncoding(n),await(0,i4.pipeline)(e,u);let c=0,s=[],h=()=>i?jg.Buffer.concat(s,c):s.join("");for await(let a of u)if(s.push(a),c+=a.length,c>r){let d=new o4;throw c<=jg.constants.MAX_LENGTH&&(d.bufferedData=h()),d}return h()}async function s4(e,t){return a4(e,{...t,encoding:"buffer"})}var td=qt(E3(),1),u4=require("node:stream");function Ru(e){return Object.fromEntries(Object.entries(e).map(([t,r])=>[t.toLowerCase(),r]))}var qg=class extends u4.Readable{statusCode;headers;body;url;constructor({statusCode:e,headers:t,body:r,url:n}){if(typeof e!="number")throw new TypeError("Argument `statusCode` should be a number");if(typeof t!="object")throw new TypeError("Argument `headers` should be an object");if(!(r instanceof Uint8Array))throw new TypeError("Argument `body` should be a buffer");if(typeof n!="string")throw new TypeError("Argument `url` should be a string");super({read(){this.push(r),this.push(null)}}),this.statusCode=e,this.headers=Ru(t),this.body=r,this.url=n}},Ql=qt(C3(),1),l4=["aborted","complete","headers","httpVersion","httpVersionMinor","httpVersionMajor","method","rawHeaders","rawTrailers","setTimeout","socket","statusCode","statusMessage","trailers","url"];function c4(e,t){if(t._readableState.autoDestroy)throw new Error("The second stream must have the `autoDestroy` option set to `false`");let r=new Set([...Object.keys(e),...l4]),n={};for(let i of r)i in t||(n[i]={get(){let u=e[i];return typeof u=="function"?u.bind(e):u},set(u){e[i]=u},enumerable:!0,configurable:!1});return Object.defineProperties(t,n),e.once("aborted",()=>{t.destroy(),t.emit("aborted")}),e.once("close",()=>{e.complete&&t.readable?t.once("end",()=>{t.emit("close")}):t.emit("close")}),t}var h4=class extends Error{constructor(e){super(e.message),Object.assign(this,e)}},cs=class extends Error{constructor(e){super(e.message),Object.assign(this,e)}},f4=class{constructor(e,t){this.hooks=new Map,this.request=()=>(r,n)=>{let i;if(typeof r=="string")i=rd(Gl.default.parse(r)),r={};else if(r instanceof Gl.default.URL)i=rd(Gl.default.parse(r.toString())),r={};else{let[f,...g]=(r.path??"").split("?"),R=g.length>0?`?${g.join("?")}`:"";i=rd({...r,pathname:f,search:R})}r={headers:{},method:"GET",cache:!0,strictTtl:!1,automaticFailover:!1,...r,...y4(i)},r.headers=Object.fromEntries(d4(r.headers).map(([f,g])=>[f.toLowerCase(),g]));let u=new Q6.default,c=r4(Gl.default.format(i),{stripWWW:!1,removeTrailingSlash:!1,stripAuthentication:!1}),s=`${r.method}:${c}`;r.body&&r.method!==void 0&&["POST","PATCH","PUT"].includes(r.method)&&(r.body instanceof jv.default.Readable?r.cache=!1:s+=`:${Y6.default.createHash("md5").update(r.body).digest("hex")}`);let h=!1,a=!1,d=f=>{a=!0;let g=!1,R=()=>{},S=new Promise(T=>{R=()=>{g||(g=!0,T())}}),m=async T=>{if(h){T.status=T.statusCode;let k=td.default.fromObject(h.cachePolicy).revalidatedPolicy(f,T);if(!k.modified){T.resume(),await new Promise(I=>{T.once("end",I)});let y=Mg(k.policy.responseHeaders());T=new qg({statusCode:h.statusCode,headers:y,body:h.body,url:h.url}),T.cachePolicy=k.policy,T.fromCache=!0}}T.fromCache||(T.cachePolicy=new td.default(f,T,f),T.fromCache=!1);let O;f.cache&&T.cachePolicy.storable()?(O=p4(T),(async()=>{try{let k=s4(T);await Promise.race([S,new Promise(L=>T.once("end",L)),new Promise(L=>T.once("close",L))]);let y=await k,I={url:T.url,statusCode:T.fromCache?h.statusCode:T.statusCode,body:y,cachePolicy:T.cachePolicy.toObject()},w=f.strictTtl?T.cachePolicy.timeToLive():void 0;if(f.maxTtl&&(w=w?Math.min(w,f.maxTtl):f.maxTtl),this.hooks.size>0)for(let L of this.hooks.keys())I=await this.runHook(L,I,T);await this.cache.set(s,I,w)}catch(k){u.emit("error",new cs(k))}})()):f.cache&&h&&(async()=>{try{await this.cache.delete(s)}catch(k){u.emit("error",new cs(k))}})(),u.emit("response",O??T),typeof n=="function"&&n(O??T)};try{let T=this.cacheRequest(f,m);T.once("error",R),T.once("abort",R),T.once("destroy",R),u.emit("request",T)}catch(T){u.emit("error",new h4(T))}};return(async()=>{let f=async R=>{await Promise.resolve();let S=R.cache?await this.cache.get(s):void 0;if(S===void 0&&!R.forceRefresh){d(R);return}let m=td.default.fromObject(S.cachePolicy);if(m.satisfiesWithoutRevalidation(R)&&!R.forceRefresh){let T=Mg(m.responseHeaders()),O=new qg({statusCode:S.statusCode,headers:T,body:S.body,url:S.url});O.cachePolicy=m,O.fromCache=!0,u.emit("response",O),typeof n=="function"&&n(O)}else m.satisfiesWithoutRevalidation(R)&&Date.now()>=m.timeToLive()&&R.forceRefresh?(await this.cache.delete(s),R.headers=m.revalidationHeaders(R),d(R)):(h=S,R.headers=m.revalidationHeaders(R),d(R))},g=R=>u.emit("error",new cs(R));if(this.cache instanceof Ql.default){let R=this.cache;R.once("error",g),u.on("error",()=>R.removeListener("error",g)),u.on("response",()=>R.removeListener("error",g))}try{await f(r)}catch(R){r.automaticFailover&&!a&&d(r),u.emit("error",new cs(R))}})(),u},this.addHook=(r,n)=>{this.hooks.has(r)||this.hooks.set(r,n)},this.removeHook=r=>this.hooks.delete(r),this.getHook=r=>this.hooks.get(r),this.runHook=async(r,...n)=>this.hooks.get(r)?.(...n),t instanceof Ql.default?this.cache=t:typeof t=="string"?this.cache=new Ql.default({uri:t,namespace:"cacheable-request"}):this.cache=new Ql.default({store:t,namespace:"cacheable-request"}),this.request=this.request.bind(this),this.cacheRequest=e}},d4=Object.entries,p4=e=>{let t=new jv.PassThrough({autoDestroy:!1});return c4(e,t),e.pipe(t)},y4=e=>{let t={...e};return t.path=`${e.pathname||"/"}${e.search||""}`,delete t.pathname,delete t.search,t},rd=e=>({protocol:e.protocol,auth:e.auth,hostname:e.hostname||e.host||"localhost",port:e.port,pathname:e.pathname,search:e.search}),Mg=e=>{let t=[];for(let r of Object.keys(e))t[r.toLowerCase()]=e[r];return t},qv=f4,g4=qt(rv(),1),m4=qt(nv(),1),oo=e=>typeof e=="function",v4=e=>oo(e[Symbol.asyncIterator]);async function*b4(e){let t=e.getReader();for(;;){let{done:r,value:n}=await t.read();if(r)break;yield n}}var _4=e=>{if(v4(e))return e;if(oo(e.getReader))return b4(e);throw new TypeError("Unsupported data source: Expected either ReadableStream or async iterable.")},Vg="abcdefghijklmnopqrstuvwxyz0123456789";function w4(){let e=16,t="";for(;e--;)t+=Vg[Math.random()*Vg.length<<0];return t}var Fg=e=>String(e).replace(/\r|\n/g,(t,r,n)=>t==="\r"&&n[r+1]!==`
`||t===`
`&&n[r-1]!=="\r"?`\r
`:t),E4=e=>Object.prototype.toString.call(e).slice(8,-1).toLowerCase();function $g(e){if(E4(e)!=="object")return!1;let t=Object.getPrototypeOf(e);return t==null?!0:(t.constructor&&t.constructor.toString())===Object.toString()}function zg(e,t){if(typeof t=="string"){for(let[r,n]of Object.entries(e))if(t.toLowerCase()===r.toLowerCase())return n}}var S4=e=>new Proxy(e,{get:(t,r)=>zg(t,r),has:(t,r)=>zg(t,r)!==void 0}),ju=e=>!!(e&&oo(e.constructor)&&e[Symbol.toStringTag]==="FormData"&&oo(e.append)&&oo(e.getAll)&&oo(e.entries)&&oo(e[Symbol.iterator])),Hg=e=>String(e).replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/"/g,"%22"),ca=e=>!!(e&&typeof e=="object"&&oo(e.constructor)&&e[Symbol.toStringTag]==="File"&&oo(e.stream)&&e.name!=null),lu=function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},Yt=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},cu,No,hu,Yl,fu,ha,du,pu,Xl,nd,Kg,C4={enableAdditionalHeaders:!1},Jl={writable:!1,configurable:!1},Mv=class{constructor(e,t,r){if(cu.add(this),No.set(this,`\r
`),hu.set(this,void 0),Yl.set(this,void 0),fu.set(this,"-".repeat(2)),ha.set(this,new TextEncoder),du.set(this,void 0),pu.set(this,void 0),Xl.set(this,void 0),!ju(e))throw new TypeError("Expected first argument to be a FormData instance.");let n;if($g(t)?r=t:n=t,n||(n=w4()),typeof n!="string")throw new TypeError("Expected boundary argument to be a string.");if(r&&!$g(r))throw new TypeError("Expected options argument to be an object.");lu(this,pu,Array.from(e.entries()),"f"),lu(this,Xl,{...C4,...r},"f"),lu(this,hu,Yt(this,ha,"f").encode(Yt(this,No,"f")),"f"),lu(this,Yl,Yt(this,hu,"f").byteLength,"f"),this.boundary=`form-data-boundary-${n}`,this.contentType=`multipart/form-data; boundary=${this.boundary}`,lu(this,du,Yt(this,ha,"f").encode(`${Yt(this,fu,"f")}${this.boundary}${Yt(this,fu,"f")}${Yt(this,No,"f").repeat(2)}`),"f");let i={"Content-Type":this.contentType},u=Yt(this,cu,"m",Kg).call(this);u&&(this.contentLength=u,i["Content-Length"]=u),this.headers=S4(Object.freeze(i)),Object.defineProperties(this,{boundary:Jl,contentType:Jl,contentLength:Jl,headers:Jl})}getContentLength(){return this.contentLength==null?void 0:Number(this.contentLength)}*values(){for(let[e,t]of Yt(this,pu,"f")){let r=ca(t)?t:Yt(this,ha,"f").encode(Fg(t));yield Yt(this,cu,"m",nd).call(this,e,r),yield r,yield Yt(this,hu,"f")}yield Yt(this,du,"f")}async*encode(){for(let e of this.values())ca(e)?yield*_4(e.stream()):yield e}[(No=new WeakMap,hu=new WeakMap,Yl=new WeakMap,fu=new WeakMap,ha=new WeakMap,du=new WeakMap,pu=new WeakMap,Xl=new WeakMap,cu=new WeakSet,nd=function(e,t){let r="";r+=`${Yt(this,fu,"f")}${this.boundary}${Yt(this,No,"f")}`,r+=`Content-Disposition: form-data; name="${Hg(e)}"`,ca(t)&&(r+=`; filename="${Hg(t.name)}"${Yt(this,No,"f")}`,r+=`Content-Type: ${t.type||"application/octet-stream"}`);let n=ca(t)?t.size:t.byteLength;return Yt(this,Xl,"f").enableAdditionalHeaders===!0&&n!=null&&!isNaN(n)&&(r+=`${Yt(this,No,"f")}Content-Length: ${ca(t)?t.size:t.byteLength}`),Yt(this,ha,"f").encode(`${r}${Yt(this,No,"f").repeat(2)}`)},Kg=function(){let e=0;for(let[t,r]of Yt(this,pu,"f")){let n=ca(r)?r:Yt(this,ha,"f").encode(Fg(r)),i=ca(n)?n.size:n.byteLength;if(i==null||isNaN(i))return;e+=Yt(this,cu,"m",nd).call(this,t,n).byteLength,e+=i,e+=Yt(this,Yl,"f")}return String(e+Yt(this,du,"f").byteLength)},Symbol.iterator)](){return this.values()}[Symbol.asyncIterator](){return this.encode()}},T4=require("node:buffer"),R4=require("node:util");function Vv(e){return W.nodeStream(e)&&W.function_(e.getBoundary)}async function I4(e,t){if(t&&"content-length"in t)return Number(t["content-length"]);if(!e)return 0;if(W.string(e))return T4.Buffer.byteLength(e);if(W.buffer(e))return e.length;if(Vv(e))return(0,R4.promisify)(e.getLength.bind(e))()}function Fv(e,t,r){let n={};for(let i of r){let u=(...c)=>{t.emit(i,...c)};n[i]=u,e.on(i,u)}return()=>{for(let[i,u]of Object.entries(n))e.off(i,u)}}var A4=qt(require("node:net"),1);function k4(){let e=[];return{once(t,r,n){t.once(r,n),e.push({origin:t,event:r,fn:n})},unhandleAll(){for(let t of e){let{origin:r,event:n,fn:i}=t;r.removeListener(n,i)}e.length=0}}}var Wg=Symbol("reentry"),O4=()=>{},$v=class extends Error{constructor(e,t){super(`Timeout awaiting '${t}' for ${e}ms`),Object.defineProperty(this,"event",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="TimeoutError",this.code="ETIMEDOUT"}};function P4(e,t,r){if(Wg in e)return O4;e[Wg]=!0;let n=[],{once:i,unhandleAll:u}=k4(),c=(m,T,O)=>{let k=setTimeout(T,m,m,O);k.unref?.();let y=()=>{clearTimeout(k)};return n.push(y),y},{host:s,hostname:h}=r,a=(m,T)=>{e.destroy(new $v(m,T))},d=()=>{for(let m of n)m();u()};if(e.once("error",m=>{if(d(),e.listenerCount("error")===0)throw m}),t.request!==void 0){let m=c(t.request,a,"request");i(e,"response",T=>{i(T,"end",m)})}if(t.socket!==void 0){let{socket:m}=t,T=()=>{a(m,"socket")};e.setTimeout(m,T),n.push(()=>{e.removeListener("timeout",T)})}let f=t.lookup!==void 0,g=t.connect!==void 0,R=t.secureConnect!==void 0,S=t.send!==void 0;return(f||g||R||S)&&i(e,"socket",m=>{let{socketPath:T}=e;if(m.connecting){let O=!!(T??A4.default.isIP(h??s??"")!==0);if(f&&!O&&m.address().address===void 0){let k=c(t.lookup,a,"lookup");i(m,"lookup",k)}if(g){let k=()=>c(t.connect,a,"connect");O?i(m,"connect",k()):i(m,"lookup",y=>{y===null&&i(m,"connect",k())})}R&&r.protocol==="https:"&&i(m,"connect",()=>{let k=c(t.secureConnect,a,"secureConnect");i(m,"secureConnect",k)})}if(S){let O=()=>c(t.send,a,"send");m.connecting?i(m,"connect",()=>{i(e,"upload-complete",O())}):i(e,"upload-complete",O())}}),t.response!==void 0&&i(e,"upload-complete",()=>{let m=c(t.response,a,"response");i(e,"response",m)}),t.read!==void 0&&i(e,"response",m=>{let T=c(t.read,a,"read");i(m,"end",T)}),d}function B4(e){e=e;let t={protocol:e.protocol,hostname:W.string(e.hostname)&&e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,host:e.host,hash:e.hash,search:e.search,pathname:e.pathname,href:e.href,path:`${e.pathname||""}${e.search||""}`};return W.string(e.port)&&e.port.length>0&&(t.port=Number(e.port)),(e.username||e.password)&&(t.auth=`${e.username||""}:${e.password||""}`),t}var L4=class{constructor(){Object.defineProperty(this,"weakMap",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"map",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.weakMap=new WeakMap,this.map=new Map}set(e,t){typeof e=="object"?this.weakMap.set(e,t):this.map.set(e,t)}get(e){return typeof e=="object"?this.weakMap.get(e):this.map.get(e)}has(e){return typeof e=="object"?this.weakMap.has(e):this.map.has(e)}},N4=({attemptCount:e,retryOptions:t,error:r,retryAfter:n,computedValue:i})=>{if(r.name==="RetryError")return 1;if(e>t.limit)return 0;let u=t.methods.includes(r.options.method),c=t.errorCodes.includes(r.code),s=r.response&&t.statusCodes.includes(r.response.statusCode);if(!u||!c&&!s)return 0;if(r.response){if(n)return n>i?0:n;if(r.response.statusCode===413)return 0}let h=Math.random()*t.noise;return Math.min(2**(e-1)*1e3,t.backoffLimit)+h},x4=N4,U4=qt(require("node:process"),1),id=require("node:util"),D4=require("node:tls"),j4=qt(require("node:http"),1),q4=qt(require("node:https"),1),hs=require("node:dns"),od=require("node:util"),M4=qt(require("node:os"),1),{Resolver:Gg}=hs.promises,ss=Symbol("cacheableLookupCreateConnection"),ad=Symbol("cacheableLookupInstance"),Qg=Symbol("expires"),V4=typeof hs.ALL=="number",Yg=e=>{if(!(e&&typeof e.createConnection=="function"))throw new Error("Expected an Agent instance as the first argument")},F4=e=>{for(let t of e)t.family!==6&&(t.address=`::ffff:${t.address}`,t.family=6)},Xg=()=>{let e=!1,t=!1;for(let r of Object.values(M4.default.networkInterfaces()))for(let n of r)if(!n.internal&&(n.family==="IPv6"?t=!0:e=!0,e&&t))return{has4:e,has6:t};return{has4:e,has6:t}},$4=e=>Symbol.iterator in e,Zl=e=>e.catch(t=>{if(t.code==="ENODATA"||t.code==="ENOTFOUND"||t.code==="ENOENT")return[];throw t}),Jg={ttl:!0},z4={all:!0},H4={all:!0,family:4},K4={all:!0,family:6},zv=class{constructor({cache:e=new Map,maxTtl:t=1/0,fallbackDuration:r=3600,errorTtl:n=.15,resolver:i=new Gg,lookup:u=hs.lookup}={}){if(this.maxTtl=t,this.errorTtl=n,this._cache=e,this._resolver=i,this._dnsLookup=u&&(0,od.promisify)(u),this.stats={cache:0,query:0},this._resolver instanceof Gg?(this._resolve4=this._resolver.resolve4.bind(this._resolver),this._resolve6=this._resolver.resolve6.bind(this._resolver)):(this._resolve4=(0,od.promisify)(this._resolver.resolve4.bind(this._resolver)),this._resolve6=(0,od.promisify)(this._resolver.resolve6.bind(this._resolver))),this._iface=Xg(),this._pending={},this._nextRemovalTime=!1,this._hostnamesToFallback=new Set,this.fallbackDuration=r,r>0){let c=setInterval(()=>{this._hostnamesToFallback.clear()},r*1e3);c.unref&&c.unref(),this._fallbackInterval=c}this.lookup=this.lookup.bind(this),this.lookupAsync=this.lookupAsync.bind(this)}set servers(e){this.clear(),this._resolver.setServers(e)}get servers(){return this._resolver.getServers()}lookup(e,t,r){if(typeof t=="function"?(r=t,t={}):typeof t=="number"&&(t={family:t}),!r)throw new Error("Callback must be a function.");this.lookupAsync(e,t).then(n=>{t.all?r(null,n):r(null,n.address,n.family,n.expires,n.ttl,n.source)},r)}async lookupAsync(e,t={}){typeof t=="number"&&(t={family:t});let r=await this.query(e);if(t.family===6){let n=r.filter(i=>i.family===6);t.hints&hs.V4MAPPED&&(V4&&t.hints&hs.ALL||n.length===0)?F4(r):r=n}else t.family===4&&(r=r.filter(n=>n.family===4));if(t.hints&hs.ADDRCONFIG){let{_iface:n}=this;r=r.filter(i=>i.family===6?n.has6:n.has4)}if(r.length===0){let n=new Error(`cacheableLookup ENOTFOUND ${e}`);throw n.code="ENOTFOUND",n.hostname=e,n}return t.all?r:r[0]}async query(e){let t="cache",r=await this._cache.get(e);if(r&&this.stats.cache++,!r){let n=this._pending[e];if(n)this.stats.cache++,r=await n;else{t="query";let i=this.queryAndCache(e);this._pending[e]=i,this.stats.query++;try{r=await i}finally{delete this._pending[e]}}}return r=r.map(n=>({...n,source:t})),r}async _resolve(e){let[t,r]=await Promise.all([Zl(this._resolve4(e,Jg)),Zl(this._resolve6(e,Jg))]),n=0,i=0,u=0,c=Date.now();for(let s of t)s.family=4,s.expires=c+s.ttl*1e3,n=Math.max(n,s.ttl);for(let s of r)s.family=6,s.expires=c+s.ttl*1e3,i=Math.max(i,s.ttl);return t.length>0?r.length>0?u=Math.min(n,i):u=n:u=i,{entries:[...t,...r],cacheTtl:u}}async _lookup(e){try{let[t,r]=await Promise.all([Zl(this._dnsLookup(e,H4)),Zl(this._dnsLookup(e,K4))]);return{entries:[...t,...r],cacheTtl:0}}catch{return{entries:[],cacheTtl:0}}}async _set(e,t,r){if(this.maxTtl>0&&r>0){r=Math.min(r,this.maxTtl)*1e3,t[Qg]=Date.now()+r;try{await this._cache.set(e,t,r)}catch(n){this.lookupAsync=async()=>{let i=new Error("Cache Error. Please recreate the CacheableLookup instance.");throw i.cause=n,i}}$4(this._cache)&&this._tick(r)}}async queryAndCache(e){if(this._hostnamesToFallback.has(e))return this._dnsLookup(e,z4);let t=await this._resolve(e);t.entries.length===0&&this._dnsLookup&&(t=await this._lookup(e),t.entries.length!==0&&this.fallbackDuration>0&&this._hostnamesToFallback.add(e));let r=t.entries.length===0?this.errorTtl:t.cacheTtl;return await this._set(e,t.entries,r),t.entries}_tick(e){let t=this._nextRemovalTime;(!t||e<t)&&(clearTimeout(this._removalTimeout),this._nextRemovalTime=e,this._removalTimeout=setTimeout(()=>{this._nextRemovalTime=!1;let r=1/0,n=Date.now();for(let[i,u]of this._cache){let c=u[Qg];n>=c?this._cache.delete(i):c<r&&(r=c)}r!==1/0&&this._tick(r-n)},e),this._removalTimeout.unref&&this._removalTimeout.unref())}install(e){if(Yg(e),ss in e)throw new Error("CacheableLookup has been already installed");e[ss]=e.createConnection,e[ad]=this,e.createConnection=(t,r)=>("lookup"in t||(t.lookup=this.lookup),e[ss](t,r))}uninstall(e){if(Yg(e),e[ss]){if(e[ad]!==this)throw new Error("The agent is not owned by this CacheableLookup instance");e.createConnection=e[ss],delete e[ss],delete e[ad]}}updateInterfaceInfo(){let{_iface:e}=this;this._iface=Xg(),(e.has4&&!this._iface.has4||e.has6&&!this._iface.has6)&&this._cache.clear()}clear(e){if(e){this._cache.delete(e);return}this._cache.clear()}},W4=qt(yv(),1);function G4(e){let t=[],r=e.split(",");for(let n of r){let[i,...u]=n.split(";"),c=i.trim();if(c[0]!=="<"||c[c.length-1]!==">")throw new Error(`Invalid format of the Link header reference: ${c}`);let s=c.slice(1,-1),h={};if(u.length===0)throw new Error(`Unexpected end of Link header parameters: ${u.join(";")}`);for(let a of u){let d=a.trim(),f=d.indexOf("=");if(f===-1)throw new Error(`Failed to parse Link header: ${e}`);let g=d.slice(0,f).trim(),R=d.slice(f+1).trim();h[g]=R}t.push({reference:s,parameters:h})}return t}var[Zg,Q4]=U4.default.versions.node.split(".").map(Number);function Y4(e){for(let t in e){let r=e[t];ue.any([W.string,W.number,W.boolean,W.null_,W.undefined],r)}}var X4=new Map,sd,J4=()=>sd||(sd=new zv,sd),Z4={request:void 0,agent:{http:void 0,https:void 0,http2:void 0},h2session:void 0,decompress:!0,timeout:{connect:void 0,lookup:void 0,read:void 0,request:void 0,response:void 0,secureConnect:void 0,send:void 0,socket:void 0},prefixUrl:"",body:void 0,form:void 0,json:void 0,cookieJar:void 0,ignoreInvalidCookies:!1,searchParams:void 0,dnsLookup:void 0,dnsCache:void 0,context:{},hooks:{init:[],beforeRequest:[],beforeError:[],beforeRedirect:[],beforeRetry:[],afterResponse:[]},followRedirect:!0,maxRedirects:10,cache:void 0,throwHttpErrors:!0,username:"",password:"",http2:!1,allowGetBody:!1,headers:{"user-agent":"got (https://github.com/sindresorhus/got)"},methodRewriting:!1,dnsLookupIpVersion:void 0,parseJson:JSON.parse,stringifyJson:JSON.stringify,retry:{limit:2,methods:["GET","PUT","HEAD","DELETE","OPTIONS","TRACE"],statusCodes:[408,413,429,500,502,503,504,521,522,524],errorCodes:["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"],maxRetryAfter:void 0,calculateDelay:({computedValue:e})=>e,backoffLimit:Number.POSITIVE_INFINITY,noise:100},localAddress:void 0,method:"GET",createConnection:void 0,cacheOptions:{shared:void 0,cacheHeuristic:void 0,immutableMinTimeToLive:void 0,ignoreCargoCult:void 0},https:{alpnProtocols:void 0,rejectUnauthorized:void 0,checkServerIdentity:void 0,certificateAuthority:void 0,key:void 0,certificate:void 0,passphrase:void 0,pfx:void 0,ciphers:void 0,honorCipherOrder:void 0,minVersion:void 0,maxVersion:void 0,signatureAlgorithms:void 0,tlsSessionLifetime:void 0,dhparam:void 0,ecdhCurve:void 0,certificateRevocationLists:void 0},encoding:void 0,resolveBodyOnly:!1,isStream:!1,responseType:"text",url:void 0,pagination:{transform(e){return e.request.options.responseType==="json"?e.body:JSON.parse(e.body)},paginate({response:e}){let t=e.headers.link;if(typeof t!="string"||t.trim()==="")return!1;let r=G4(t).find(n=>n.parameters.rel==="next"||n.parameters.rel==='"next"');return r?{url:new URL(r.reference,e.url)}:!1},filter:()=>!0,shouldContinue:()=>!0,countLimit:Number.POSITIVE_INFINITY,backoff:0,requestLimit:1e4,stackAllItems:!1},setHost:!0,maxHeaderSize:void 0,signal:void 0,enableUnixSockets:!1},eR=e=>{let{hooks:t,retry:r}=e,n={...e,context:{...e.context},cacheOptions:{...e.cacheOptions},https:{...e.https},agent:{...e.agent},headers:{...e.headers},retry:{...r,errorCodes:[...r.errorCodes],methods:[...r.methods],statusCodes:[...r.statusCodes]},timeout:{...e.timeout},hooks:{init:[...t.init],beforeRequest:[...t.beforeRequest],beforeError:[...t.beforeError],beforeRedirect:[...t.beforeRedirect],beforeRetry:[...t.beforeRetry],afterResponse:[...t.afterResponse]},searchParams:e.searchParams?new URLSearchParams(e.searchParams):void 0,pagination:{...e.pagination}};return n.url!==void 0&&(n.prefixUrl=""),n},tR=e=>{let{hooks:t,retry:r}=e,n={...e};return W.object(e.context)&&(n.context={...e.context}),W.object(e.cacheOptions)&&(n.cacheOptions={...e.cacheOptions}),W.object(e.https)&&(n.https={...e.https}),W.object(e.cacheOptions)&&(n.cacheOptions={...n.cacheOptions}),W.object(e.agent)&&(n.agent={...e.agent}),W.object(e.headers)&&(n.headers={...e.headers}),W.object(r)&&(n.retry={...r},W.array(r.errorCodes)&&(n.retry.errorCodes=[...r.errorCodes]),W.array(r.methods)&&(n.retry.methods=[...r.methods]),W.array(r.statusCodes)&&(n.retry.statusCodes=[...r.statusCodes])),W.object(e.timeout)&&(n.timeout={...e.timeout}),W.object(t)&&(n.hooks={...t},W.array(t.init)&&(n.hooks.init=[...t.init]),W.array(t.beforeRequest)&&(n.hooks.beforeRequest=[...t.beforeRequest]),W.array(t.beforeError)&&(n.hooks.beforeError=[...t.beforeError]),W.array(t.beforeRedirect)&&(n.hooks.beforeRedirect=[...t.beforeRedirect]),W.array(t.beforeRetry)&&(n.hooks.beforeRetry=[...t.beforeRetry]),W.array(t.afterResponse)&&(n.hooks.afterResponse=[...t.afterResponse])),W.object(e.pagination)&&(n.pagination={...e.pagination}),n},rR=e=>{let t=[e.timeout.socket,e.timeout.connect,e.timeout.lookup,e.timeout.request,e.timeout.secureConnect].filter(r=>typeof r=="number");if(t.length>0)return Math.min(...t)},em=(e,t,r)=>{let n=e.hooks?.init;if(n)for(let i of n)i(t,r)},ys=class gc{constructor(t,r,n){if(Object.defineProperty(this,"_unixOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_internals",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_merging",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_init",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),ue.any([W.string,W.urlInstance,W.object,W.undefined],t),ue.any([W.object,W.undefined],r),ue.any([W.object,W.undefined],n),t instanceof gc||r instanceof gc)throw new TypeError("The defaults must be passed as the third argument");this._internals=eR(n?._internals??n??Z4),this._init=[...n?._init??[]],this._merging=!1,this._unixOptions=void 0;try{if(W.plainObject(t))try{this.merge(t),this.merge(r)}finally{this.url=t.url}else try{this.merge(r)}finally{if(r?.url!==void 0)if(t===void 0)this.url=r.url;else throw new TypeError("The `url` option is mutually exclusive with the `input` argument");else t!==void 0&&(this.url=t)}}catch(i){throw i.options=this,i}}merge(t){if(t){if(t instanceof gc){for(let r of t._init)this.merge(r);return}t=tR(t),em(this,t,this),em(t,t,this),this._merging=!0,"isStream"in t&&(this.isStream=t.isStream);try{let r=!1;for(let n in t){if(n==="mutableDefaults"||n==="handlers"||n==="url")continue;if(!(n in this))throw new Error(`Unexpected option: ${n}`);let i=t[n];i!==void 0&&(this[n]=i,r=!0)}r&&this._init.push(t)}finally{this._merging=!1}}}get request(){return this._internals.request}set request(t){ue.any([W.function_,W.undefined],t),this._internals.request=t}get agent(){return this._internals.agent}set agent(t){ue.plainObject(t);for(let r in t){if(!(r in this._internals.agent))throw new TypeError(`Unexpected agent option: ${r}`);ue.any([W.object,W.undefined],t[r])}this._merging?Object.assign(this._internals.agent,t):this._internals.agent={...t}}get h2session(){return this._internals.h2session}set h2session(t){this._internals.h2session=t}get decompress(){return this._internals.decompress}set decompress(t){ue.boolean(t),this._internals.decompress=t}get timeout(){return this._internals.timeout}set timeout(t){ue.plainObject(t);for(let r in t){if(!(r in this._internals.timeout))throw new Error(`Unexpected timeout option: ${r}`);ue.any([W.number,W.undefined],t[r])}this._merging?Object.assign(this._internals.timeout,t):this._internals.timeout={...t}}get prefixUrl(){return this._internals.prefixUrl}set prefixUrl(t){if(ue.any([W.string,W.urlInstance],t),t===""){this._internals.prefixUrl="";return}if(t=t.toString(),t.endsWith("/")||(t+="/"),this._internals.prefixUrl&&this._internals.url){let{href:r}=this._internals.url;this._internals.url.href=t+r.slice(this._internals.prefixUrl.length)}this._internals.prefixUrl=t}get body(){return this._internals.body}set body(t){ue.any([W.string,W.buffer,W.nodeStream,W.generator,W.asyncGenerator,ju,W.undefined],t),W.nodeStream(t)&&ue.truthy(t.readable),t!==void 0&&(ue.undefined(this._internals.form),ue.undefined(this._internals.json)),this._internals.body=t}get form(){return this._internals.form}set form(t){ue.any([W.plainObject,W.undefined],t),t!==void 0&&(ue.undefined(this._internals.body),ue.undefined(this._internals.json)),this._internals.form=t}get json(){return this._internals.json}set json(t){t!==void 0&&(ue.undefined(this._internals.body),ue.undefined(this._internals.form)),this._internals.json=t}get url(){return this._internals.url}set url(t){if(ue.any([W.string,W.urlInstance,W.undefined],t),t===void 0){this._internals.url=void 0;return}if(W.string(t)&&t.startsWith("/"))throw new Error("`url` must not start with a slash");let r=`${this.prefixUrl}${t.toString()}`,n=new URL(r);if(this._internals.url=n,n.protocol==="unix:"&&(n.href=`http://unix${n.pathname}${n.search}`),n.protocol!=="http:"&&n.protocol!=="https:"){let i=new Error(`Unsupported protocol: ${n.protocol}`);throw i.code="ERR_UNSUPPORTED_PROTOCOL",i}if(this._internals.username&&(n.username=this._internals.username,this._internals.username=""),this._internals.password&&(n.password=this._internals.password,this._internals.password=""),this._internals.searchParams&&(n.search=this._internals.searchParams.toString(),this._internals.searchParams=void 0),n.hostname==="unix"){if(!this._internals.enableUnixSockets)throw new Error("Using UNIX domain sockets but option `enableUnixSockets` is not enabled");let i=/(?<socketPath>.+?):(?<path>.+)/.exec(`${n.pathname}${n.search}`);if(i?.groups){let{socketPath:u,path:c}=i.groups;this._unixOptions={socketPath:u,path:c,host:""}}else this._unixOptions=void 0;return}this._unixOptions=void 0}get cookieJar(){return this._internals.cookieJar}set cookieJar(t){if(ue.any([W.object,W.undefined],t),t===void 0){this._internals.cookieJar=void 0;return}let{setCookie:r,getCookieString:n}=t;ue.function_(r),ue.function_(n),r.length===4&&n.length===0?(r=(0,id.promisify)(r.bind(t)),n=(0,id.promisify)(n.bind(t)),this._internals.cookieJar={setCookie:r,getCookieString:n}):this._internals.cookieJar=t}get signal(){return this._internals.signal}set signal(t){ue.object(t),this._internals.signal=t}get ignoreInvalidCookies(){return this._internals.ignoreInvalidCookies}set ignoreInvalidCookies(t){ue.boolean(t),this._internals.ignoreInvalidCookies=t}get searchParams(){return this._internals.url?this._internals.url.searchParams:(this._internals.searchParams===void 0&&(this._internals.searchParams=new URLSearchParams),this._internals.searchParams)}set searchParams(t){ue.any([W.string,W.object,W.undefined],t);let r=this._internals.url;if(t===void 0){this._internals.searchParams=void 0,r&&(r.search="");return}let n=this.searchParams,i;if(W.string(t))i=new URLSearchParams(t);else if(t instanceof URLSearchParams)i=t;else{Y4(t),i=new URLSearchParams;for(let u in t){let c=t[u];c===null?i.append(u,""):c===void 0?n.delete(u):i.append(u,c)}}if(this._merging){for(let u of i.keys())n.delete(u);for(let[u,c]of i)n.append(u,c)}else r?r.search=n.toString():this._internals.searchParams=n}get searchParameters(){throw new Error("The `searchParameters` option does not exist. Use `searchParams` instead.")}set searchParameters(t){throw new Error("The `searchParameters` option does not exist. Use `searchParams` instead.")}get dnsLookup(){return this._internals.dnsLookup}set dnsLookup(t){ue.any([W.function_,W.undefined],t),this._internals.dnsLookup=t}get dnsCache(){return this._internals.dnsCache}set dnsCache(t){ue.any([W.object,W.boolean,W.undefined],t),t===!0?this._internals.dnsCache=J4():t===!1?this._internals.dnsCache=void 0:this._internals.dnsCache=t}get context(){return this._internals.context}set context(t){ue.object(t),this._merging?Object.assign(this._internals.context,t):this._internals.context={...t}}get hooks(){return this._internals.hooks}set hooks(t){ue.object(t);for(let r in t){if(!(r in this._internals.hooks))throw new Error(`Unexpected hook event: ${r}`);let n=r,i=t[n];if(ue.any([W.array,W.undefined],i),i)for(let u of i)ue.function_(u);if(this._merging)i&&this._internals.hooks[n].push(...i);else{if(!i)throw new Error(`Missing hook event: ${r}`);this._internals.hooks[r]=[...i]}}}get followRedirect(){return this._internals.followRedirect}set followRedirect(t){ue.boolean(t),this._internals.followRedirect=t}get followRedirects(){throw new TypeError("The `followRedirects` option does not exist. Use `followRedirect` instead.")}set followRedirects(t){throw new TypeError("The `followRedirects` option does not exist. Use `followRedirect` instead.")}get maxRedirects(){return this._internals.maxRedirects}set maxRedirects(t){ue.number(t),this._internals.maxRedirects=t}get cache(){return this._internals.cache}set cache(t){ue.any([W.object,W.string,W.boolean,W.undefined],t),t===!0?this._internals.cache=X4:t===!1?this._internals.cache=void 0:this._internals.cache=t}get throwHttpErrors(){return this._internals.throwHttpErrors}set throwHttpErrors(t){ue.boolean(t),this._internals.throwHttpErrors=t}get username(){let t=this._internals.url,r=t?t.username:this._internals.username;return decodeURIComponent(r)}set username(t){ue.string(t);let r=this._internals.url,n=encodeURIComponent(t);r?r.username=n:this._internals.username=n}get password(){let t=this._internals.url,r=t?t.password:this._internals.password;return decodeURIComponent(r)}set password(t){ue.string(t);let r=this._internals.url,n=encodeURIComponent(t);r?r.password=n:this._internals.password=n}get http2(){return this._internals.http2}set http2(t){ue.boolean(t),this._internals.http2=t}get allowGetBody(){return this._internals.allowGetBody}set allowGetBody(t){ue.boolean(t),this._internals.allowGetBody=t}get headers(){return this._internals.headers}set headers(t){ue.plainObject(t),this._merging?Object.assign(this._internals.headers,Ru(t)):this._internals.headers=Ru(t)}get methodRewriting(){return this._internals.methodRewriting}set methodRewriting(t){ue.boolean(t),this._internals.methodRewriting=t}get dnsLookupIpVersion(){return this._internals.dnsLookupIpVersion}set dnsLookupIpVersion(t){if(t!==void 0&&t!==4&&t!==6)throw new TypeError(`Invalid DNS lookup IP version: ${t}`);this._internals.dnsLookupIpVersion=t}get parseJson(){return this._internals.parseJson}set parseJson(t){ue.function_(t),this._internals.parseJson=t}get stringifyJson(){return this._internals.stringifyJson}set stringifyJson(t){ue.function_(t),this._internals.stringifyJson=t}get retry(){return this._internals.retry}set retry(t){if(ue.plainObject(t),ue.any([W.function_,W.undefined],t.calculateDelay),ue.any([W.number,W.undefined],t.maxRetryAfter),ue.any([W.number,W.undefined],t.limit),ue.any([W.array,W.undefined],t.methods),ue.any([W.array,W.undefined],t.statusCodes),ue.any([W.array,W.undefined],t.errorCodes),ue.any([W.number,W.undefined],t.noise),t.noise&&Math.abs(t.noise)>100)throw new Error(`The maximum acceptable retry noise is +/- 100ms, got ${t.noise}`);for(let n in t)if(!(n in this._internals.retry))throw new Error(`Unexpected retry option: ${n}`);this._merging?Object.assign(this._internals.retry,t):this._internals.retry={...t};let{retry:r}=this._internals;r.methods=[...new Set(r.methods.map(n=>n.toUpperCase()))],r.statusCodes=[...new Set(r.statusCodes)],r.errorCodes=[...new Set(r.errorCodes)]}get localAddress(){return this._internals.localAddress}set localAddress(t){ue.any([W.string,W.undefined],t),this._internals.localAddress=t}get method(){return this._internals.method}set method(t){ue.string(t),this._internals.method=t.toUpperCase()}get createConnection(){return this._internals.createConnection}set createConnection(t){ue.any([W.function_,W.undefined],t),this._internals.createConnection=t}get cacheOptions(){return this._internals.cacheOptions}set cacheOptions(t){ue.plainObject(t),ue.any([W.boolean,W.undefined],t.shared),ue.any([W.number,W.undefined],t.cacheHeuristic),ue.any([W.number,W.undefined],t.immutableMinTimeToLive),ue.any([W.boolean,W.undefined],t.ignoreCargoCult);for(let r in t)if(!(r in this._internals.cacheOptions))throw new Error(`Cache option \`${r}\` does not exist`);this._merging?Object.assign(this._internals.cacheOptions,t):this._internals.cacheOptions={...t}}get https(){return this._internals.https}set https(t){ue.plainObject(t),ue.any([W.boolean,W.undefined],t.rejectUnauthorized),ue.any([W.function_,W.undefined],t.checkServerIdentity),ue.any([W.string,W.object,W.array,W.undefined],t.certificateAuthority),ue.any([W.string,W.object,W.array,W.undefined],t.key),ue.any([W.string,W.object,W.array,W.undefined],t.certificate),ue.any([W.string,W.undefined],t.passphrase),ue.any([W.string,W.buffer,W.array,W.undefined],t.pfx),ue.any([W.array,W.undefined],t.alpnProtocols),ue.any([W.string,W.undefined],t.ciphers),ue.any([W.string,W.buffer,W.undefined],t.dhparam),ue.any([W.string,W.undefined],t.signatureAlgorithms),ue.any([W.string,W.undefined],t.minVersion),ue.any([W.string,W.undefined],t.maxVersion),ue.any([W.boolean,W.undefined],t.honorCipherOrder),ue.any([W.number,W.undefined],t.tlsSessionLifetime),ue.any([W.string,W.undefined],t.ecdhCurve),ue.any([W.string,W.buffer,W.array,W.undefined],t.certificateRevocationLists);for(let r in t)if(!(r in this._internals.https))throw new Error(`HTTPS option \`${r}\` does not exist`);this._merging?Object.assign(this._internals.https,t):this._internals.https={...t}}get encoding(){return this._internals.encoding}set encoding(t){if(t===null)throw new TypeError("To get a Buffer, set `options.responseType` to `buffer` instead");ue.any([W.string,W.undefined],t),this._internals.encoding=t}get resolveBodyOnly(){return this._internals.resolveBodyOnly}set resolveBodyOnly(t){ue.boolean(t),this._internals.resolveBodyOnly=t}get isStream(){return this._internals.isStream}set isStream(t){ue.boolean(t),this._internals.isStream=t}get responseType(){return this._internals.responseType}set responseType(t){if(t===void 0){this._internals.responseType="text";return}if(t!=="text"&&t!=="buffer"&&t!=="json")throw new Error(`Invalid \`responseType\` option: ${t}`);this._internals.responseType=t}get pagination(){return this._internals.pagination}set pagination(t){ue.object(t),this._merging?Object.assign(this._internals.pagination,t):this._internals.pagination=t}get auth(){throw new Error("Parameter `auth` is deprecated. Use `username` / `password` instead.")}set auth(t){throw new Error("Parameter `auth` is deprecated. Use `username` / `password` instead.")}get setHost(){return this._internals.setHost}set setHost(t){ue.boolean(t),this._internals.setHost=t}get maxHeaderSize(){return this._internals.maxHeaderSize}set maxHeaderSize(t){ue.any([W.number,W.undefined],t),this._internals.maxHeaderSize=t}get enableUnixSockets(){return this._internals.enableUnixSockets}set enableUnixSockets(t){ue.boolean(t),this._internals.enableUnixSockets=t}toJSON(){return{...this._internals}}[Symbol.for("nodejs.util.inspect.custom")](t,r){return(0,id.inspect)(this._internals,r)}createNativeRequestOptions(){let t=this._internals,r=t.url,n;r.protocol==="https:"?n=t.http2?t.agent:t.agent.https:n=t.agent.http;let{https:i}=t,{pfx:u}=i;return W.array(u)&&W.plainObject(u[0])&&(u=u.map(c=>({buf:c.buffer,passphrase:c.passphrase}))),{...t.cacheOptions,...this._unixOptions,ALPNProtocols:i.alpnProtocols,ca:i.certificateAuthority,cert:i.certificate,key:i.key,passphrase:i.passphrase,pfx:i.pfx,rejectUnauthorized:i.rejectUnauthorized,checkServerIdentity:i.checkServerIdentity??D4.checkServerIdentity,ciphers:i.ciphers,honorCipherOrder:i.honorCipherOrder,minVersion:i.minVersion,maxVersion:i.maxVersion,sigalgs:i.signatureAlgorithms,sessionTimeout:i.tlsSessionLifetime,dhparam:i.dhparam,ecdhCurve:i.ecdhCurve,crl:i.certificateRevocationLists,lookup:t.dnsLookup??t.dnsCache?.lookup,family:t.dnsLookupIpVersion,agent:n,setHost:t.setHost,method:t.method,maxHeaderSize:t.maxHeaderSize,localAddress:t.localAddress,headers:t.headers,createConnection:t.createConnection,timeout:t.http2?rR(t):void 0,h2session:t.h2session}}getRequestFunction(){let t=this._internals.url,{request:r}=this._internals;return!r&&t?this.getFallbackRequestFunction():r}getFallbackRequestFunction(){let t=this._internals.url;if(t){if(t.protocol==="https:"){if(this._internals.http2){if(Zg<15||Zg===15&&Q4<10){let r=new Error("To use the `http2` option, install Node.js 15.10.0 or above");throw r.code="EUNSUPPORTED",r}return W4.default.auto}return q4.default.request}return j4.default.request}}freeze(){let t=this._internals;Object.freeze(t),Object.freeze(t.hooks),Object.freeze(t.hooks.afterResponse),Object.freeze(t.hooks.beforeError),Object.freeze(t.hooks.beforeRedirect),Object.freeze(t.hooks.beforeRequest),Object.freeze(t.hooks.beforeRetry),Object.freeze(t.hooks.init),Object.freeze(t.https),Object.freeze(t.cacheOptions),Object.freeze(t.agent),Object.freeze(t.headers),Object.freeze(t.timeout),Object.freeze(t.retry),Object.freeze(t.retry.errorCodes),Object.freeze(t.retry.methods),Object.freeze(t.retry.statusCodes)}},Ac=e=>{let{statusCode:t}=e,r=e.request.options.followRedirect?299:399;return t>=200&&t<=r||t===304},tm=class extends Er{constructor(e,t){let{options:r}=t.request;super(`${e.message} in "${r.url.toString()}"`,e,t.request),this.name="ParseError",this.code="ERR_BODY_PARSE_FAILURE"}},rm=(e,t,r,n)=>{let{rawBody:i}=e;try{if(t==="text")return i.toString(n);if(t==="json")return i.length===0?"":r(i.toString(n));if(t==="buffer")return i}catch(u){throw new tm(u,e)}throw new tm({message:`Unknown body type '${t}'`,name:"Error"},e)};function nR(e){return e.writable&&!e.writableEnded}var iR=nR;function nm(e){return e.protocol==="unix:"||e.hostname==="unix"}var{buffer:oR}=m4.default,aR=W.string(Uv.default.versions.brotli),sR=new Set(["GET","HEAD"]),ud=new L4,uR=new Set([300,301,302,303,304,307,308]),lR=["socket","connect","continue","information","upgrade"],ec=()=>{},Hv=class Kv extends z6.Duplex{constructor(t,r,n){super({autoDestroy:!1,highWaterMark:0}),Object.defineProperty(this,"constructor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_noPipe",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"response",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"requestUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"redirectUrls",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"retryCount",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_stopRetry",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downloadedSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_uploadedSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_stopReading",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_pipedServerResponses",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_responseSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_bodySize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_unproxyEvents",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isFromCache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_cannotHaveBody",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_triggerRead",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_cancelTimeouts",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_removeListeners",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_nativeResponse",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_flushed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_aborted",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_requestInitialized",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._downloadedSize=0,this._uploadedSize=0,this._stopReading=!1,this._pipedServerResponses=new Set,this._cannotHaveBody=!1,this._unproxyEvents=ec,this._triggerRead=!1,this._cancelTimeouts=ec,this._removeListeners=ec,this._jobs=[],this._flushed=!1,this._requestInitialized=!1,this._aborted=!1,this.redirectUrls=[],this.retryCount=0,this._stopRetry=ec,this.on("pipe",u=>{u?.headers&&Object.assign(this.options.headers,u.headers)}),this.on("newListener",u=>{if(u==="retry"&&this.listenerCount("retry")>0)throw new Error("A retry listener has been attached already.")});try{if(this.options=new ys(t,r,n),!this.options.url){if(this.options.prefixUrl==="")throw new TypeError("Missing `url` property");this.options.url=""}this.requestUrl=this.options.url}catch(u){let{options:c}=u;c&&(this.options=c),this.flush=async()=>{this.flush=async()=>{},this.destroy(u)};return}let{body:i}=this.options;if(W.nodeStream(i)&&i.once("error",u=>{this._flushed?this._beforeError(new Ug(u,this)):this.flush=async()=>{this.flush=async()=>{},this._beforeError(new Ug(u,this))}}),this.options.signal){let u=()=>{this.destroy(new $6(this))};this.options.signal.aborted?u():(this.options.signal.addEventListener("abort",u),this._removeListeners=()=>{this.options.signal?.removeEventListener("abort",u)})}}async flush(){if(!this._flushed){this._flushed=!0;try{if(await this._finalizeBody(),this.destroyed)return;if(await this._makeRequest(),this.destroyed){this._request?.destroy();return}for(let t of this._jobs)t();this._jobs.length=0,this._requestInitialized=!0}catch(t){this._beforeError(t)}}}_beforeError(t){if(this._stopReading)return;let{response:r,options:n}=this,i=this.retryCount+(t.name==="RetryError"?0:1);this._stopReading=!0,t instanceof Er||(t=new Er(t.message,t,this));let u=t;(async()=>{if(r?.readable&&!r.rawBody&&!this._request?.socket?.destroyed&&(r.setEncoding(this.readableEncoding),await this._setRawBody(r)&&(r.body=r.rawBody.toString())),this.listenerCount("retry")!==0){let c;try{let s;r&&"retry-after"in r.headers&&(s=Number(r.headers["retry-after"]),Number.isNaN(s)?(s=Date.parse(r.headers["retry-after"])-Date.now(),s<=0&&(s=1)):s*=1e3);let h=n.retry;c=await h.calculateDelay({attemptCount:i,retryOptions:h,error:u,retryAfter:s,computedValue:x4({attemptCount:i,retryOptions:h,error:u,retryAfter:s,computedValue:h.maxRetryAfter??n.timeout.request??Number.POSITIVE_INFINITY})})}catch(s){this._error(new Er(s.message,s,this));return}if(c){if(await new Promise(s=>{let h=setTimeout(s,c);this._stopRetry=()=>{clearTimeout(h),s()}}),this.destroyed)return;try{for(let s of this.options.hooks.beforeRetry)await s(u,this.retryCount+1)}catch(s){this._error(new Er(s.message,t,this));return}if(this.destroyed)return;this.destroy(),this.emit("retry",this.retryCount+1,t,s=>{let h=new Kv(n.url,s,n);return h.retryCount=this.retryCount+1,Uv.default.nextTick(()=>{h.flush()}),h});return}}this._error(u)})()}_read(){this._triggerRead=!0;let{response:t}=this;if(t&&!this._stopReading){t.readableLength&&(this._triggerRead=!1);let r;for(;(r=t.read())!==null;){this._downloadedSize+=r.length;let n=this.downloadProgress;n.percent<1&&this.emit("downloadProgress",n),this.push(r)}}}_write(t,r,n){let i=()=>{this._writeRequest(t,r,n)};this._requestInitialized?i():this._jobs.push(i)}_final(t){let r=()=>{if(!this._request||this._request.destroyed){t();return}this._request.end(n=>{this._request._writableState?.errored||(n||(this._bodySize=this._uploadedSize,this.emit("uploadProgress",this.uploadProgress),this._request.emit("upload-complete")),t(n))})};this._requestInitialized?r():this._jobs.push(r)}_destroy(t,r){if(this._stopReading=!0,this.flush=async()=>{},this._stopRetry(),this._cancelTimeouts(),this._removeListeners(),this.options){let{body:n}=this.options;W.nodeStream(n)&&n.destroy()}this._request&&this._request.destroy(),t!==null&&!W.undefined(t)&&!(t instanceof Er)&&(t=new Er(t.message,t,this)),r(t)}pipe(t,r){return t instanceof Zf.ServerResponse&&this._pipedServerResponses.add(t),super.pipe(t,r)}unpipe(t){return t instanceof Zf.ServerResponse&&this._pipedServerResponses.delete(t),super.unpipe(t),this}async _finalizeBody(){let{options:t}=this,{headers:r}=t,n=!W.undefined(t.form),i=!W.undefined(t.json),u=!W.undefined(t.body),c=sR.has(t.method)&&!(t.method==="GET"&&t.allowGetBody);if(this._cannotHaveBody=c,n||i||u){if(c)throw new TypeError(`The \`${t.method}\` method cannot be used with a body`);let s=!W.string(r["content-type"]);if(u){if(ju(t.body)){let a=new Mv(t.body);s&&(r["content-type"]=a.headers["Content-Type"]),"Content-Length"in a.headers&&(r["content-length"]=a.headers["Content-Length"]),t.body=a.encode()}Vv(t.body)&&s&&(r["content-type"]=`multipart/form-data; boundary=${t.body.getBoundary()}`)}else if(n){s&&(r["content-type"]="application/x-www-form-urlencoded");let{form:a}=t;t.form=void 0,t.body=new URLSearchParams(a).toString()}else{s&&(r["content-type"]="application/json");let{json:a}=t;t.json=void 0,t.body=t.stringifyJson(a)}let h=await I4(t.body,t.headers);W.undefined(r["content-length"])&&W.undefined(r["transfer-encoding"])&&!c&&!W.undefined(h)&&(r["content-length"]=String(h))}t.responseType==="json"&&!("accept"in t.headers)&&(t.headers.accept="application/json"),this._bodySize=Number(r["content-length"])||void 0}async _onResponseBase(t){if(this.isAborted)return;let{options:r}=this,{url:n}=r;this._nativeResponse=t,r.decompress&&(t=(0,g4.default)(t));let i=t.statusCode,u=t;u.statusMessage=u.statusMessage??Zf.default.STATUS_CODES[i],u.url=r.url.toString(),u.requestUrl=this.requestUrl,u.redirectUrls=this.redirectUrls,u.request=this,u.isFromCache=this._nativeResponse.fromCache??!1,u.ip=this.ip,u.retryCount=this.retryCount,u.ok=Ac(u),this._isFromCache=u.isFromCache,this._responseSize=Number(t.headers["content-length"])||void 0,this.response=u,t.once("end",()=>{this._responseSize=this._downloadedSize,this.emit("downloadProgress",this.downloadProgress)}),t.once("error",s=>{this._aborted=!0,t.destroy(),this._beforeError(new Dg(s,this))}),t.once("aborted",()=>{this._aborted=!0,this._beforeError(new Dg({name:"Error",message:"The server aborted pending request",code:"ECONNRESET"},this))}),this.emit("downloadProgress",this.downloadProgress);let c=t.headers["set-cookie"];if(W.object(r.cookieJar)&&c){let s=c.map(async h=>r.cookieJar.setCookie(h,n.toString()));r.ignoreInvalidCookies&&(s=s.map(async h=>{try{await h}catch{}}));try{await Promise.all(s)}catch(h){this._beforeError(h);return}}if(!this.isAborted){if(r.followRedirect&&t.headers.location&&uR.has(i)){if(t.resume(),this._cancelTimeouts(),this._unproxyEvents(),this.redirectUrls.length>=r.maxRedirects){this._beforeError(new q6(this));return}this._request=void 0;let s=new ys(void 0,void 0,this.options),h=i===303&&s.method!=="GET"&&s.method!=="HEAD",a=i!==307&&i!==308,d=s.methodRewriting&&a;(h||d)&&(s.method="GET",s.body=void 0,s.json=void 0,s.form=void 0,delete s.headers["content-length"]);try{let f=Jf.Buffer.from(t.headers.location,"binary").toString(),g=new URL(f,n);if(!nm(n)&&nm(g)){this._beforeError(new Er("Cannot redirect to UNIX socket",{},this));return}g.hostname!==n.hostname||g.port!==n.port?("host"in s.headers&&delete s.headers.host,"cookie"in s.headers&&delete s.headers.cookie,"authorization"in s.headers&&delete s.headers.authorization,(s.username||s.password)&&(s.username="",s.password="")):(g.username=s.username,g.password=s.password),this.redirectUrls.push(g),s.prefixUrl="",s.url=g;for(let R of s.hooks.beforeRedirect)await R(s,u);this.emit("redirect",s,u),this.options=s,await this._makeRequest()}catch(f){this._beforeError(f);return}return}if(r.isStream&&r.throwHttpErrors&&!Ac(u)){this._beforeError(new Ic(u));return}if(t.on("readable",()=>{this._triggerRead&&this._read()}),this.on("resume",()=>{t.resume()}),this.on("pause",()=>{t.pause()}),t.once("end",()=>{this.push(null)}),this._noPipe){await this._setRawBody()&&this.emit("response",t);return}this.emit("response",t);for(let s of this._pipedServerResponses)if(!s.headersSent){for(let h in t.headers){let a=r.decompress?h!=="content-encoding":!0,d=t.headers[h];a&&s.setHeader(h,d)}s.statusCode=i}}}async _setRawBody(t=this){if(t.readableEnded)return!1;try{let r=await oR(t);if(!this.isAborted)return this.response.rawBody=r,!0}catch{}return!1}async _onResponse(t){try{await this._onResponseBase(t)}catch(r){this._beforeError(r)}}_onRequest(t){let{options:r}=this,{timeout:n,url:i}=r;Dv(t),this.options.http2&&t.setTimeout(0),this._cancelTimeouts=P4(t,n,i);let u=r.cache?"cacheableResponse":"response";t.once(u,c=>{this._onResponse(c)}),t.once("error",c=>{this._aborted=!0,t.destroy(),c=c instanceof $v?new V6(c,this.timings,this):new Er(c.message,c,this),this._beforeError(c)}),this._unproxyEvents=Fv(t,this,lR),this._request=t,this.emit("uploadProgress",this.uploadProgress),this._sendBody(),this.emit("request",t)}async _asyncWrite(t){return new Promise((r,n)=>{super.write(t,i=>{if(i){n(i);return}r()})})}_sendBody(){let{body:t}=this.options,r=this.redirectUrls.length===0?this:this._request??this;W.nodeStream(t)?t.pipe(r):W.generator(t)||W.asyncGenerator(t)?(async()=>{try{for await(let n of t)await this._asyncWrite(n);super.end()}catch(n){this._beforeError(n)}})():W.undefined(t)?(this._cannotHaveBody||this._noPipe)&&r.end():(this._writeRequest(t,void 0,()=>{}),r.end())}_prepareCache(t){if(!ud.has(t)){let r=new qv((n,i)=>{let u=n._request(n,i);return W.promise(u)&&(u.once=(c,s)=>{if(c==="error")(async()=>{try{await u}catch(h){s(h)}})();else if(c==="abort")(async()=>{try{(await u).once("abort",s)}catch{}})();else throw new Error(`Unknown HTTP2 promise event: ${c}`);return u}),u},t);ud.set(t,r.request())}}async _createCacheableRequest(t,r){return new Promise((n,i)=>{Object.assign(r,B4(t));let u,c=ud.get(r.cache)(r,async s=>{if(s._readableState.autoDestroy=!1,u){let h=()=>{s.req&&(s.complete=s.req.res.complete)};s.prependOnceListener("end",h),h(),(await u).emit("cacheableResponse",s)}n(s)});c.once("error",i),c.once("request",async s=>{u=s,n(u)})})}async _makeRequest(){let{options:t}=this,{headers:r,username:n,password:i}=t,u=t.cookieJar;for(let a in r)if(W.undefined(r[a]))delete r[a];else if(W.null_(r[a]))throw new TypeError(`Use \`undefined\` instead of \`null\` to delete the \`${a}\` header`);if(t.decompress&&W.undefined(r["accept-encoding"])&&(r["accept-encoding"]=aR?"gzip, deflate, br":"gzip, deflate"),n||i){let a=Jf.Buffer.from(`${n}:${i}`).toString("base64");r.authorization=`Basic ${a}`}if(u){let a=await u.getCookieString(t.url.toString());W.nonEmptyString(a)&&(r.cookie=a)}t.prefixUrl="";let c;for(let a of t.hooks.beforeRequest){let d=await a(t);if(!W.undefined(d)){c=()=>d;break}}c||(c=t.getRequestFunction());let s=t.url;this._requestOptions=t.createNativeRequestOptions(),t.cache&&(this._requestOptions._request=c,this._requestOptions.cache=t.cache,this._requestOptions.body=t.body,this._prepareCache(t.cache));let h=t.cache?this._createCacheableRequest:c;try{let a=h(s,this._requestOptions);W.promise(a)&&(a=await a),W.undefined(a)&&(a=t.getFallbackRequestFunction()(s,this._requestOptions),W.promise(a)&&(a=await a)),iR(a)?this._onRequest(a):this.writable?(this.once("finish",()=>{this._onResponse(a)}),this._sendBody()):this._onResponse(a)}catch(a){throw a instanceof cs?new M6(a,this):a}}async _error(t){try{if(!(t instanceof Ic&&!this.options.throwHttpErrors))for(let r of this.options.hooks.beforeError)t=await r(t)}catch(r){t=new Er(r.message,r,this)}this.destroy(t)}_writeRequest(t,r,n){!this._request||this._request.destroyed||this._request.write(t,r,i=>{if(!i&&!this._request.destroyed){this._uploadedSize+=Jf.Buffer.byteLength(t,r);let u=this.uploadProgress;u.percent<1&&this.emit("uploadProgress",u)}n(i)})}get ip(){return this.socket?.remoteAddress}get isAborted(){return this._aborted}get socket(){return this._request?.socket??void 0}get downloadProgress(){let t;return this._responseSize?t=this._downloadedSize/this._responseSize:this._responseSize===this._downloadedSize?t=1:t=0,{percent:t,transferred:this._downloadedSize,total:this._responseSize}}get uploadProgress(){let t;return this._bodySize?t=this._uploadedSize/this._bodySize:this._bodySize===this._uploadedSize?t=1:t=0,{percent:t,transferred:this._uploadedSize,total:this._bodySize}}get timings(){return this._request?.timings}get isFromCache(){return this._isFromCache}get reusedSocket(){return this._request?.reusedSocket}},cR=class extends Er{constructor(e){super("Promise was canceled",{},e),this.name="CancelError",this.code="ERR_CANCELED"}get isCanceled(){return!0}},hR=["request","response","redirect","uploadProgress","downloadProgress"];function im(e){let t,r,n,i=new U6.EventEmitter,u=new bp((s,h,a)=>{a(()=>{t.destroy()}),a.shouldReject=!1,a(()=>{h(new cR(t))});let d=f=>{a(()=>{});let g=e??new Hv(void 0,void 0,n);g.retryCount=f,g._noPipe=!0,t=g,g.once("response",async m=>{let T=(m.headers["content-encoding"]??"").toLowerCase(),O=T==="gzip"||T==="deflate"||T==="br",{options:k}=g;if(O&&!k.decompress)m.body=m.rawBody;else try{m.body=rm(m,k.responseType,k.parseJson,k.encoding)}catch(y){if(m.body=m.rawBody.toString(),Ac(m)){g._beforeError(y);return}}try{let y=k.hooks.afterResponse;for(let[I,w]of y.entries())if(m=await w(m,async L=>{throw k.merge(L),k.prefixUrl="",L.url&&(k.url=L.url),k.hooks.afterResponse=k.hooks.afterResponse.slice(0,I),new F6(g)}),!(W.object(m)&&W.number(m.statusCode)&&!W.nullOrUndefined(m.body)))throw new TypeError("The `afterResponse` hook returned an invalid value")}catch(y){g._beforeError(y);return}if(r=m,!Ac(m)){g._beforeError(new Ic(m));return}g.destroy(),s(g.options.resolveBodyOnly?m.body:m)});let R=m=>{if(u.isCanceled)return;let{options:T}=g;if(m instanceof Ic&&!T.throwHttpErrors){let{response:O}=m;g.destroy(),s(g.options.resolveBodyOnly?O.body:O);return}h(m)};g.once("error",R);let S=g.options?.body;g.once("retry",(m,T)=>{e=void 0;let O=g.options.body;if(S===O&&W.nodeStream(O)){T.message="Cannot retry with consumed body stream",R(T);return}n=g.options,d(m)}),Fv(g,i,hR),W.undefined(e)&&g.flush()};d(0)});u.on=(s,h)=>(i.on(s,h),u),u.off=(s,h)=>(i.off(s,h),u);let c=s=>{let h=(async()=>{await u;let{options:a}=r.request;return rm(r,s,a.parseJson,a.encoding)})();return Object.defineProperties(h,Object.getOwnPropertyDescriptors(u)),h};return u.json=()=>{if(t.options){let{headers:s}=t.options;!t.writableFinished&&!("accept"in s)&&(s.accept="application/json")}return c("json")},u.buffer=()=>c("buffer"),u.text=()=>c("text"),u}var fR=async e=>new Promise(t=>{setTimeout(t,e)}),dR=e=>W.function_(e),pR=["get","post","put","patch","head","delete"],Wv=e=>{e={options:new ys(void 0,void 0,e.options),handlers:[...e.handlers],mutableDefaults:e.mutableDefaults},Object.defineProperty(e,"mutableDefaults",{enumerable:!0,configurable:!1,writable:!1});let t=(n,i,u=e.options)=>{let c=new Hv(n,i,u),s,h=f=>(c.options=f,c._noPipe=!f.isStream,c.flush(),f.isStream?c:(s||(s=im(c)),s)),a=0,d=f=>{let g=(e.handlers[a++]??h)(f,d);if(W.promise(g)&&!c.options.isStream&&(s||(s=im(c)),g!==s)){let R=Object.getOwnPropertyDescriptors(s);for(let S in R)S in g&&delete R[S];Object.defineProperties(g,R),g.cancel=s.cancel}return g};return d(c.options)};t.extend=(...n)=>{let i=new ys(void 0,void 0,e.options),u=[...e.handlers],c;for(let s of n)dR(s)?(i.merge(s.defaults.options),u.push(...s.defaults.handlers),c=s.defaults.mutableDefaults):(i.merge(s),s.handlers&&u.push(...s.handlers),c=s.mutableDefaults);return Wv({options:i,handlers:u,mutableDefaults:!!c})};let r=async function*(n,i){let u=new ys(n,i,e.options);u.resolveBodyOnly=!1;let{pagination:c}=u;ue.function_(c.transform),ue.function_(c.shouldContinue),ue.function_(c.filter),ue.function_(c.paginate),ue.number(c.countLimit),ue.number(c.requestLimit),ue.number(c.backoff);let s=[],{countLimit:h}=c,a=0;for(;a<c.requestLimit;){a!==0&&await fR(c.backoff);let d=await t(void 0,void 0,u),f=await c.transform(d),g=[];ue.array(f);for(let S of f)if(c.filter({item:S,currentItems:g,allItems:s})&&(!c.shouldContinue({item:S,currentItems:g,allItems:s})||(yield S,c.stackAllItems&&s.push(S),g.push(S),--h<=0)))return;let R=c.paginate({response:d,currentItems:g,allItems:s});if(R===!1)return;R===d.request.options?u=d.request.options:(u.merge(R),ue.any([W.urlInstance,W.undefined],R.url),R.url!==void 0&&(u.prefixUrl="",u.url=R.url)),a++}};t.paginate=r,t.paginate.all=async(n,i)=>{let u=[];for await(let c of r(n,i))u.push(c);return u},t.paginate.each=r,t.stream=(n,i)=>t(n,{...i,isStream:!0});for(let n of pR)t[n]=(i,u)=>t(i,{...u,method:n}),t.stream[n]=(i,u)=>t(i,{...u,method:n,isStream:!0});return e.mutableDefaults||(Object.freeze(e.handlers),e.options.freeze()),Object.defineProperty(t,"defaults",{value:e,writable:!1,configurable:!1,enumerable:!0}),t},yR=Wv,gR={options:new ys,handlers:[],mutableDefaults:!1},mR=yR(gR),vn=mR,mc="https://www.googleapis.com",vR=`${mc}/oauth2/v4/token`,_p={extId:"No extension ID provided, e.g. https://chrome.google.com/webstore/detail/EXT_ID",clientId:"No client ID provided. To get one: https://github.com/PlasmoHQ/chrome-webstore-api/blob/main/token.md",clientSecret:"No client secret provided. To get one: https://github.com/PlasmoHQ/chrome-webstore-api/blob/main/token.md",refreshToken:"No refresh token provided. To get one: https://github.com/PlasmoHQ/chrome-webstore-api/blob/main/token.md"},bR=Object.keys(_p),_R=class{options={};constructor(e){for(let t of bR)if(!e[t])throw new Error(_p[t]);this.options={...e}}get uploadEndpoint(){return`${mc}/upload/chromewebstore/v1.1/items/${this.options.extId}`}getPublishEndpoint(e){return`${mc}/chromewebstore/v1.1/items/${this.options.extId}/publish?publishTarget=${e}`}getInfoEndpoint(e){return`${mc}/chromewebstore/v1.1/items/${this.options.extId}?projection=${e}`}async submit({filePath:e="",target:t="default"}){let r=await this.getAccessToken(),{uploadState:n,itemError:i}=await this.upload({readStream:(0,S6.createReadStream)(e)},r);if(n==="FAILURE"||n==="NOT_FOUND")throw new Error(i.map(({error_detail:u})=>u).join(`
`));if(!this.options.uploadOnly)return this.publish({target:t},r)}async upload({readStream:e=null},t=""){if(!e)throw new Error("Read stream missing");let r=t||await this.getAccessToken();return vn.put(this.uploadEndpoint,{headers:this.getHeaders(r),body:e,throwHttpErrors:!1}).json()}async publish({target:e="default"},t=""){let r=t||await this.getAccessToken();return vn.post(this.getPublishEndpoint(e),{headers:this.getHeaders(r)}).json()}async get({projection:e="DRAFT"},t=""){let r=t||await this.getAccessToken();return vn.get(this.getInfoEndpoint(e),{headers:this.getHeaders(r)}).json()}async getAccessToken(){return(await vn.post(vR,{json:{client_id:this.options.clientId,refresh_token:this.options.refreshToken,grant_type:"refresh_token",client_secret:this.options.clientSecret}}).json()).access_token}getHeaders(e){return{Authorization:`Bearer ${e}`,"x-goog-api-version":"2"}}},wR=require("module"),ER=(0,wR.createRequire)("/"),SR;try{SR=ER("worker_threads").Worker}catch{}var Ln=Uint8Array,fs=Uint16Array,CR=Int32Array,Gv=new Ln([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Qv=new Ln([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),TR=new Ln([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Yv=function(e,t){for(var r=new fs(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var i=new CR(r[30]),n=1;n<30;++n)for(var u=r[n];u<r[n+1];++u)i[u]=u-r[n]<<5|n;return{b:r,r:i}},Xv=Yv(Gv,2),Jv=Xv.b,RR=Xv.r;Jv[28]=258,RR[258]=28;var Zv=Yv(Qv,0),IR=Zv.b,Bk=Zv.r,Ud=new fs(32768);for(Rt=0;Rt<32768;++Rt)ro=(Rt&43690)>>1|(Rt&21845)<<1,ro=(ro&52428)>>2|(ro&13107)<<2,ro=(ro&61680)>>4|(ro&3855)<<4,Ud[Rt]=((ro&65280)>>8|(ro&255)<<8)>>1;var ro,Rt,Su=function(e,t,r){for(var n=e.length,i=0,u=new fs(t);i<n;++i)e[i]&&++u[e[i]-1];var c=new fs(t);for(i=1;i<t;++i)c[i]=c[i-1]+u[i-1]<<1;var s;if(r){s=new fs(1<<t);var h=15-t;for(i=0;i<n;++i)if(e[i])for(var a=i<<4|e[i],d=t-e[i],f=c[e[i]-1]++<<d,g=f|(1<<d)-1;f<=g;++f)s[Ud[f]>>h]=a}else for(s=new fs(n),i=0;i<n;++i)e[i]&&(s[i]=Ud[c[e[i]-1]++]>>15-e[i]);return s},qu=new Ln(288);for(Rt=0;Rt<144;++Rt)qu[Rt]=8;var Rt;for(Rt=144;Rt<256;++Rt)qu[Rt]=9;var Rt;for(Rt=256;Rt<280;++Rt)qu[Rt]=7;var Rt;for(Rt=280;Rt<288;++Rt)qu[Rt]=8;var Rt,e1=new Ln(32);for(Rt=0;Rt<32;++Rt)e1[Rt]=5;var Rt,AR=Su(qu,9,1),kR=Su(e1,5,1),ld=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},ei=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},cd=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},OR=function(e){return(e+7)/8|0},wp=function(e,t,r){(t==null||t<0)&&(t=0),(r==null||r>e.length)&&(r=e.length);var n=new Ln(r-t);return n.set(e.subarray(t,r)),n},PR=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Kn=function(e,t,r){var n=new Error(t||PR[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,Kn),!r)throw n;return n},BR=function(e,t,r,n){var i=e.length,u=n?n.length:0;if(!i||t.f&&!t.l)return r||new Ln(0);var c=!r||t.i!=2,s=t.i;r||(r=new Ln(i*3));var h=function(Je){var x=r.length;if(Je>x){var X=new Ln(Math.max(x*2,Je));X.set(r),r=X}},a=t.f||0,d=t.p||0,f=t.b||0,g=t.l,R=t.d,S=t.m,m=t.n,T=i*8;do{if(!g){a=ei(e,d,1);var O=ei(e,d+1,3);if(d+=3,O)if(O==1)g=AR,R=kR,S=9,m=5;else if(O==2){var k=ei(e,d,31)+257,y=ei(e,d+10,15)+4,I=k+ei(e,d+5,31)+1;d+=14;for(var w=new Ln(I),L=new Ln(19),N=0;N<y;++N)L[TR[N]]=ei(e,d+N*3,7);d+=y*3;for(var C=ld(L),v=(1<<C)-1,p=Su(L,C,1),N=0;N<I;){var q=p[ei(e,d,v)];d+=q&15;var V=q>>4;if(V<16)w[N++]=V;else{var z=0,E=0;for(V==16?(E=3+ei(e,d,3),d+=2,z=w[N-1]):V==17?(E=3+ei(e,d,7),d+=3):V==18&&(E=11+ei(e,d,127),d+=7);E--;)w[N++]=z}}var B=w.subarray(0,k),D=w.subarray(k);S=ld(B),m=ld(D),g=Su(B,S,1),R=Su(D,m,1)}else Kn(1);else{var V=OR(d)+4,j=e[V-4]|e[V-3]<<8,M=V+j;if(M>i){s&&Kn(0);break}c&&h(f+j),r.set(e.subarray(V,M),f),t.b=f+=j,t.p=d=M*8,t.f=a;continue}if(d>T){s&&Kn(0);break}}c&&h(f+131072);for(var ee=(1<<S)-1,oe=(1<<m)-1,ce=d;;ce=d){var z=g[cd(e,d)&ee],pe=z>>4;if(d+=z&15,d>T){s&&Kn(0);break}if(z||Kn(2),pe<256)r[f++]=pe;else if(pe==256){ce=d,g=null;break}else{var me=pe-254;if(pe>264){var N=pe-257,ke=Gv[N];me=ei(e,d,(1<<ke)-1)+Jv[N],d+=ke}var Pe=R[cd(e,d)&oe],Ce=Pe>>4;Pe||Kn(3),d+=Pe&15;var D=IR[Ce];if(Ce>3){var ke=Qv[Ce];D+=cd(e,d)&(1<<ke)-1,d+=ke}if(d>T){s&&Kn(0);break}c&&h(f+131072);var Ke=f+me;if(f<D){var Re=u-D,et=Math.min(D,Ke);for(Re+f<0&&Kn(3);f<et;++f)r[f]=n[Re+f]}for(;f<Ke;f+=4)r[f]=r[f-D],r[f+1]=r[f+1-D],r[f+2]=r[f+2-D],r[f+3]=r[f+3-D];f=Ke}}t.l=g,t.p=ce,t.b=f,t.f=a,g&&(a=1,t.m=S,t.d=R,t.n=m)}while(!a);return f==r.length?r:wp(r,0,f)},LR=new Ln(0),Ti=function(e,t){return e[t]|e[t+1]<<8},ri=function(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0},hd=function(e,t){return ri(e,t)+ri(e,t+4)*4294967296};function NR(e,t){return BR(e,{i:2},t&&t.out,t&&t.dictionary)}var Dd=typeof TextDecoder<"u"&&new TextDecoder,xR=0;try{Dd.decode(LR,{stream:!0}),xR=1}catch{}var UR=function(e){for(var t="",r=0;;){var n=e[r++],i=(n>127)+(n>223)+(n>239);if(r+i>e.length)return{s:t,r:wp(e,r-1)};i?i==3?(n=((n&15)<<18|(e[r++]&63)<<12|(e[r++]&63)<<6|e[r++]&63)-65536,t+=String.fromCharCode(55296|n>>10,56320|n&1023)):i&1?t+=String.fromCharCode((n&31)<<6|e[r++]&63):t+=String.fromCharCode((n&15)<<12|(e[r++]&63)<<6|e[r++]&63):t+=String.fromCharCode(n)}};function t1(e,t){if(t){for(var r="",n=0;n<e.length;n+=16384)r+=String.fromCharCode.apply(null,e.subarray(n,n+16384));return r}else{if(Dd)return Dd.decode(e);var i=UR(e),u=i.s,r=i.r;return r.length&&Kn(8),u}}var DR=function(e,t){return t+30+Ti(e,t+26)+Ti(e,t+28)},jR=function(e,t,r){var n=Ti(e,t+28),i=t1(e.subarray(t+46,t+46+n),!(Ti(e,t+8)&2048)),u=t+46+n,c=ri(e,t+20),s=r&&c==4294967295?qR(e,u):[c,ri(e,t+24),ri(e,t+42)],h=s[0],a=s[1],d=s[2];return[Ti(e,t+10),h,a,i,u+Ti(e,t+30)+Ti(e,t+32),d]},qR=function(e,t){for(;Ti(e,t)!=1;t+=4+Ti(e,t+2));return[hd(e,t+12),hd(e,t+4),hd(e,t+20)]};function MR(e,t){for(var r={},n=e.length-22;ri(e,n)!=101010256;--n)(!n||e.length-n>65558)&&Kn(13);var i=Ti(e,n+8);if(!i)return{};var u=ri(e,n+16),c=u==4294967295||i==65535;if(c){var s=ri(e,n-12);c=ri(e,s)==101075792,c&&(i=ri(e,s+32),u=ri(e,s+48))}for(var h=t&&t.filter,a=0;a<i;++a){var d=jR(e,u,c),f=d[0],g=d[1],R=d[2],S=d[3],m=d[4],T=d[5],O=DR(e,T);u=m,(!h||h({name:S,size:g,originalSize:R,compression:f}))&&(f?f==8?r[S]=NR(e.subarray(O,O+g),{out:new Ln(R)}):Kn(14,"unknown compression type "+f):r[S]=wp(e,O,O+g))}return r}var Ep=require("fs"),VR=require("path"),FR=require("process"),Sp=e=>(0,VR.resolve)((0,FR.cwd)(),e),r1=e=>(0,Ep.existsSync)(Sp(e));function Mu({zip:e="",file:t="",versionFile:r="package.json"}){let n=e||t;if(r1(r)&&n.includes("{version}")){let i=JSON.parse((0,Ep.readFileSync)(r).toString());return n.replace("{version}",i.version||"")}else return n}function Xc(e){let t=(0,Ep.readFileSync)(Sp(e)),r=MR(t),n=t1(r["manifest.json"]);return JSON.parse(n)}function Jc({extId:e=null,market:t="",zip:r=""}){let{name:n,version:i}=Xc(r),u=Pv[t]||t;console.log(`Successfully updated "${e}" (${n}) to version ${i} on ${u}!`)}var fd={};function n1({message:e="Message",prefix:t="",market:r=""}){fd[r]=1+(fd?.[r]??0);let n=`${r}: Step ${fd[r]}) ${e}`;return t!=="Error"&&(t=t||"Info",n=`${t} ${n}`),t==="Info"?n=n.trim():t==="Error"&&(n=n.trimStart()),n}var i1={},Vu=e=>{i1[e]=!0,process.env.VERBOSE="true"};function Zc(e=""){return t=>i1[e]&&console.log(n1({market:e,message:t}))}var eh=(e,t,r)=>{let n=new Error(n1({market:t,message:`Item "${r}": ${e.message}`,prefix:"Error"}));return n.stack=e.stack,n};function dd(e,t){return`${e}: ${t}`}var Fu=({market:e="chrome",options:t={},errorMap:r={}})=>{if(Object.keys(r).some(i=>{if(!t[i])throw new Error(dd(e,r[i]))}),!t.zip&&!t.file)throw new Error(dd(e,"No extension bundle provided"));let n=t.zip||t.file;if(!r1(n))throw new Error(dd(e,`Extension bundle file doesn't exist: ${Sp(n)}`))},Iu="chrome",$R=Zc(Iu);async function zR({extId:e,target:t="default",zip:r,dryRun:n,...i}){let u=new _R({extId:e,...i});if($R(`Updating extension with ID ${e}`),n)return!0;try{return await u.submit({filePath:r,target:t}),Jc({extId:e,market:Iu,zip:r}),!0}catch(c){let s=Xc(r);throw eh(c,Iu,`"${e}" (${s.name})`)}}async function HR(e){return e.zip=Mu(e),e.verbose&&Vu(Iu),Fu({market:Iu,options:e,errorMap:_p}),zR(e)}var KR=require("fs"),Cp={productId:"Product ID is required. To get one, go to: https://partner.microsoft.com/en-us/dashboard/microsoftedge/{product-id}/package/dashboard",clientId:"Client ID is required. To get one: https://partner.microsoft.com/en-us/dashboard/microsoftedge/publishapi",clientSecret:"Client Secret is required. To get one: https://partner.microsoft.com/en-us/dashboard/microsoftedge/publishapi",accessTokenUrl:"Access token URL is required. To get one: https://partner.microsoft.com/en-us/dashboard/microsoftedge/publishapi"},WR=Object.keys(Cp),GR=e=>new Promise(t=>setTimeout(t,e)),om="https://api.addons.microsoftedge.microsoft.com",QR=class{options={};constructor(e){for(let t of WR)if(!e[t])throw new Error(Cp[t]);this.options={...e}}get productEndpoint(){return`${om}/v1/products/${this.options.productId}`}get publishEndpoint(){return`${this.productEndpoint}/submissions`}get uploadEndpoint(){return`${this.publishEndpoint}/draft/package`}async submit({filePath:e="",notes:t=""}){let r=await this.getAccessToken(),n=await this.upload((0,KR.createReadStream)(e),r);return await this.waitForUpload(n,r),this.publish(t,r)}async publish(e="",t=null){let r={headers:{Authorization:`Bearer ${t||await this.getAccessToken()}`,"Content-Type":"application/x-www-form-urlencoded"}};e.length>0&&(r.body=`{ "notes"="${e}" }`);let n=await vn.post(this.publishEndpoint,r);return this.handleTempStatus(n.statusCode,"Submit"),n.headers.location}async upload(e=null,t=null){let r=t||await this.getAccessToken(),n=await vn.post(this.uploadEndpoint,{body:e,headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/zip"}});return this.handleTempStatus(n.statusCode,"Upload"),n.headers.location}async getPublishStatus(e,t=null){let r=t||await this.getAccessToken(),n=`${this.publishEndpoint}/operations/${e}`;return vn.get(n,{headers:{Authorization:`Bearer ${r}`}}).json()}async waitForUpload(e,t=null,r=5,n=3e3){let i=t||await this.getAccessToken(),u=`${this.uploadEndpoint}/operations/${e}`,c,s,h=0;for(;s!=="Succeeded"&&h<r;){let a=await vn.get(u,{headers:{Authorization:`Bearer ${i}`}}).json();if(a.status==="Failed")throw new Error(a.message||a.errorCode+":"+(a.errors||[]).join(","));a.status==="InProgress"?await GR(n):a.status==="Succeeded"&&(c=a.message),s=a.status,h++}return c}handleTempStatus=(e,t)=>{if(e!==202)throw e>=500?new Error("Edge server error, please try again later"):new Error(`${t} failed, double check your api credentials`)};getAccessToken=async()=>(await vn.post(`${this.options.accessTokenUrl}`,{body:`client_id=${this.options.clientId}&scope=${om}/.default&client_secret=${this.options.clientSecret}&grant_type=client_credentials`,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).json()).access_token},Au="edge",YR=Zc(Au);async function XR({productId:e,notes:t,zip:r,dryRun:n,...i}){let u=Xc(r),c=new QR({productId:e,...i});if(YR(`Updating extension with Product ID ${e}`),n)return!0;try{return await c.submit({filePath:r,notes:t}),Jc({extId:e,market:Au,zip:r}),!0}catch(s){throw eh(s,Au,`"${e}" (${u.name})`)}}async function JR(e){return e.zip=Mu(e),e.verbose&&Vu(Au),Fu({market:Au,options:e,errorMap:Cp}),XR(e)}var Or=e=>typeof e=="function",mt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:e=>`Symbol(${e})`;function o1(){}function Gr(e){return typeof e=="object"&&e!==null||typeof e=="function"}var a1=o1;function wt(e,t){try{Object.defineProperty(e,"name",{value:t,configurable:!0})}catch{}}var Tp=Promise,ZR=Promise.prototype.then,eI=Promise.resolve.bind(Tp),tI=Promise.reject.bind(Tp);function on(e){return new Tp(e)}function It(e){return eI(e)}function Ze(e){return tI(e)}function ao(e,t,r){return ZR.call(e,t,r)}function Wr(e,t,r){ao(ao(e,t,r),void 0,a1)}function am(e,t){Wr(e,t)}function sm(e,t){Wr(e,void 0,t)}function ii(e,t,r){return ao(e,t,r)}function bs(e){ao(e,void 0,a1)}var vc=e=>{if(typeof queueMicrotask=="function")vc=queueMicrotask;else{let t=It(void 0);vc=r=>ao(t,r)}return vc(e)};function th(e,t,r){if(typeof e!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,r)}function Aa(e,t,r){try{return It(th(e,t,r))}catch(n){return Ze(n)}}var Wn=class{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(e){let t=this._back,r=t;t._elements.length===16383&&(r={_elements:[],_next:void 0}),t._elements.push(e),r!==t&&(this._back=r,t._next=r),++this._size}shift(){let e=this._front,t=e,r=this._cursor,n=r+1,i=e._elements,u=i[r];return n===16384&&(t=e._next,n=0),--this._size,this._cursor=n,e!==t&&(this._front=t),i[r]=void 0,u}forEach(e){let t=this._cursor,r=this._front,n=r._elements;for(;!(t===n.length&&r._next===void 0||t===n.length&&(r=r._next,n=r._elements,t=0,n.length===0));)e(n[t]),++t}peek(){let e=this._front,t=this._cursor;return e._elements[t]}},s1=mt("[[AbortSteps]]"),u1=mt("[[ErrorSteps]]"),Rp=mt("[[CancelSteps]]"),Ip=mt("[[PullSteps]]"),Ap=mt("[[ReleaseSteps]]");function l1(e,t){e._ownerReadableStream=t,t._reader=e,t._state==="readable"?jd(e):t._state==="closed"?function(r){jd(r),d1(r)}(e):f1(e,t._storedError)}function c1(e,t){return z1(e._ownerReadableStream,t)}function h1(e){let t=e._ownerReadableStream;t._state==="readable"?kp(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function(r,n){f1(r,n)}(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),t._readableStreamController[Ap](),t._reader=void 0,e._ownerReadableStream=void 0}function _s(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function jd(e){e._closedPromise=on((t,r)=>{e._closedPromise_resolve=t,e._closedPromise_reject=r})}function f1(e,t){jd(e),kp(e,t)}function kp(e,t){e._closedPromise_reject!==void 0&&(bs(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function d1(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}var um=Number.isFinite||function(e){return typeof e=="number"&&isFinite(e)},rI=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function so(e,t){if(e!==void 0&&typeof(r=e)!="object"&&typeof r!="function")throw new TypeError(`${t} is not an object.`);var r}function si(e,t){if(typeof e!="function")throw new TypeError(`${t} is not a function.`)}function p1(e,t){if(!function(r){return typeof r=="object"&&r!==null||typeof r=="function"}(e))throw new TypeError(`${t} is not an object.`)}function lo(e,t,r){if(e===void 0)throw new TypeError(`Parameter ${t} is required in '${r}'.`)}function qd(e,t,r){if(e===void 0)throw new TypeError(`${t} is required in '${r}'.`)}function Op(e){return Number(e)}function lm(e){return e===0?0:e}function y1(e,t){let r=Number.MAX_SAFE_INTEGER,n=Number(e);if(n=lm(n),!um(n))throw new TypeError(`${t} is not a finite number`);if(n=function(i){return lm(rI(i))}(n),n<0||n>r)throw new TypeError(`${t} is outside the accepted range of 0 to ${r}, inclusive`);return um(n)&&n!==0?n:0}function _u(e){if(!Gr(e)||typeof e.getReader!="function")return!1;try{return typeof e.locked=="boolean"}catch{return!1}}function g1(e){if(!Gr(e)||typeof e.getWriter!="function")return!1;try{return typeof e.locked=="boolean"}catch{return!1}}function m1(e,t){if(!Ra(e))throw new TypeError(`${t} is not a ReadableStream.`)}function v1(e,t){e._reader._readRequests.push(t)}function Pp(e,t,r){let n=e._reader._readRequests.shift();r?n._closeSteps():n._chunkSteps(t)}function rh(e){return e._reader._readRequests.length}function b1(e){let t=e._reader;return t!==void 0&&!!Ta(t)}var va=class{constructor(e){if(lo(e,1,"ReadableStreamDefaultReader"),m1(e,"First parameter"),Es(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");l1(this,e),this._readRequests=new Wn}get closed(){return Ta(this)?this._closedPromise:Ze(tc("closed"))}cancel(e){return Ta(this)?this._ownerReadableStream===void 0?Ze(_s("cancel")):c1(this,e):Ze(tc("cancel"))}read(){if(!Ta(this))return Ze(tc("read"));if(this._ownerReadableStream===void 0)return Ze(_s("read from"));let e,t,r=on((n,i)=>{e=n,t=i});return function(n,i){let u=n._ownerReadableStream;u._disturbed=!0,u._state==="closed"?i._closeSteps():u._state==="errored"?i._errorSteps(u._storedError):u._readableStreamController[Ip](i)}(this,{_chunkSteps:n=>e({value:n,done:!1}),_closeSteps:()=>e({value:void 0,done:!0}),_errorSteps:n=>t(n)}),r}releaseLock(){if(!Ta(this))throw tc("releaseLock");this._ownerReadableStream!==void 0&&function(e){h1(e);let t=new TypeError("Reader was released");_1(e,t)}(this)}};function Ta(e){return!!Gr(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readRequests")&&e instanceof va}function _1(e,t){let r=e._readRequests;e._readRequests=new Wn,r.forEach(n=>{n._errorSteps(t)})}function tc(e){return new TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`)}Object.defineProperties(va.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),wt(va.prototype.cancel,"cancel"),wt(va.prototype.read,"read"),wt(va.prototype.releaseLock,"releaseLock"),typeof mt.toStringTag=="symbol"&&Object.defineProperty(va.prototype,mt.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});var w1=class{constructor(e,t){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=e,this._preventCancel=t}next(){let e=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?ii(this._ongoingPromise,e,e):e(),this._ongoingPromise}return(e){let t=()=>this._returnSteps(e);return this._ongoingPromise?ii(this._ongoingPromise,t,t):t()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});let e=this._reader;return e===void 0?Ze(_s("iterate")):ao(e.read(),t=>{var r;return this._ongoingPromise=void 0,t.done&&(this._isFinished=!0,(r=this._reader)===null||r===void 0||r.releaseLock(),this._reader=void 0),t},t=>{var r;throw this._ongoingPromise=void 0,this._isFinished=!0,(r=this._reader)===null||r===void 0||r.releaseLock(),this._reader=void 0,t})}_returnSteps(e){if(this._isFinished)return Promise.resolve({value:e,done:!0});this._isFinished=!0;let t=this._reader;if(t===void 0)return Ze(_s("finish iterating"));if(this._reader=void 0,!this._preventCancel){let r=t.cancel(e);return t.releaseLock(),ii(r,()=>({value:e,done:!0}))}return t.releaseLock(),It({value:e,done:!0})}},E1={next(){return cm(this)?this._asyncIteratorImpl.next():Ze(hm("next"))},return(e){return cm(this)?this._asyncIteratorImpl.return(e):Ze(hm("return"))}};function cm(e){if(!Gr(e)||!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl"))return!1;try{return e._asyncIteratorImpl instanceof w1}catch{return!1}}function hm(e){return new TypeError(`ReadableStreamAsyncIterator.${e} can only be used on a ReadableSteamAsyncIterator`)}typeof mt.asyncIterator=="symbol"&&Object.defineProperty(E1,mt.asyncIterator,{value(){return this},writable:!0,configurable:!0});var S1=Number.isNaN||function(e){return e!=e};function C1(e,t,r,n,i){new Uint8Array(e).set(new Uint8Array(r,n,i),t)}function fm(e){let t=function(r,n,i){if(r.slice)return r.slice(n,i);let u=i-n,c=new ArrayBuffer(u);return C1(c,0,r,n,u),c}(e.buffer,e.byteOffset,e.byteOffset+e.byteLength);return new Uint8Array(t)}function Md(e){let t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}function Bp(e,t,r){if(typeof(n=r)!="number"||S1(n)||n<0||r===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");var n;e._queue.push({value:t,size:r}),e._queueTotalSize+=r}function Fo(e){e._queue=new Wn,e._queueTotalSize=0}var ds=class{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!pd(this))throw yd("view");return this._view}respond(e){if(!pd(this))throw yd("respond");if(lo(e,1,"respond"),e=y1(e,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");this._view.buffer,function(t,r){let n=t._pendingPullIntos.peek();if(t._controlledReadableByteStream._state==="closed"){if(r!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(r===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(n.bytesFilled+r>n.byteLength)throw new RangeError("bytesWritten out of range")}n.buffer=n.buffer,dm(t,r)}(this._associatedReadableByteStreamController,e)}respondWithNewView(e){if(!pd(this))throw yd("respondWithNewView");if(lo(e,1,"respondWithNewView"),!ArrayBuffer.isView(e))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");e.buffer,function(t,r){let n=t._pendingPullIntos.peek();if(t._controlledReadableByteStream._state==="closed"){if(r.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(r.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(n.byteOffset+n.bytesFilled!==r.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(n.bufferByteLength!==r.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(n.bytesFilled+r.byteLength>n.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");let i=r.byteLength;n.buffer=r.buffer,dm(t,i)}(this._associatedReadableByteStreamController,e)}};Object.defineProperties(ds.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),wt(ds.prototype.respond,"respond"),wt(ds.prototype.respondWithNewView,"respondWithNewView"),typeof mt.toStringTag=="symbol"&&Object.defineProperty(ds.prototype,mt.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});var ba=class{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!ls(this))throw yu("byobRequest");return function(e){if(e._byobRequest===null&&e._pendingPullIntos.length>0){let t=e._pendingPullIntos.peek(),r=new Uint8Array(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),n=Object.create(ds.prototype);(function(i,u,c){i._associatedReadableByteStreamController=u,i._view=c})(n,e,r),e._byobRequest=n}return e._byobRequest}(this)}get desiredSize(){if(!ls(this))throw yu("desiredSize");return B1(this)}close(){if(!ls(this))throw yu("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");let e=this._controlledReadableByteStream._state;if(e!=="readable")throw new TypeError(`The stream (in ${e} state) is not in the readable state and cannot be closed`);(function(t){let r=t._controlledReadableByteStream;if(!(t._closeRequested||r._state!=="readable")){if(t._queueTotalSize>0)return void(t._closeRequested=!0);if(t._pendingPullIntos.length>0&&t._pendingPullIntos.peek().bytesFilled>0){let n=new TypeError("Insufficient bytes to fill elements in the given buffer");throw ws(t,n),n}kc(t),Ou(r)}})(this)}enqueue(e){if(!ls(this))throw yu("enqueue");if(lo(e,1,"enqueue"),!ArrayBuffer.isView(e))throw new TypeError("chunk must be an array buffer view");if(e.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(e.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");let t=this._controlledReadableByteStream._state;if(t!=="readable")throw new TypeError(`The stream (in ${t} state) is not in the readable state and cannot be enqueued to`);(function(r,n){let i=r._controlledReadableByteStream;if(r._closeRequested||i._state!=="readable")return;let u=n.buffer,c=n.byteOffset,s=n.byteLength,h=u;if(r._pendingPullIntos.length>0){let a=r._pendingPullIntos.peek();a.buffer,Lp(r),a.buffer=a.buffer,a.readerType==="none"&&A1(r,a)}b1(i)?(function(a){let d=a._controlledReadableByteStream._reader;for(;d._readRequests.length>0;){if(a._queueTotalSize===0)return;pm(a,d._readRequests.shift())}}(r),rh(i)===0?bc(r,h,c,s):(r._pendingPullIntos.length>0&&gs(r),Pp(i,new Uint8Array(h,c,s),!1))):Np(i)?(bc(r,h,c,s),Fd(r)):bc(r,h,c,s),Ia(r)})(this,e)}error(e){if(!ls(this))throw yu("error");ws(this,e)}[Rp](e){T1(this),Fo(this);let t=this._cancelAlgorithm(e);return kc(this),t}[Ip](e){let t=this._controlledReadableByteStream;if(this._queueTotalSize>0)return void pm(this,e);let r=this._autoAllocateChunkSize;if(r!==void 0){let n;try{n=new ArrayBuffer(r)}catch(u){return void e._errorSteps(u)}let i={buffer:n,bufferByteLength:r,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(i)}v1(t,e),Ia(this)}[Ap](){if(this._pendingPullIntos.length>0){let e=this._pendingPullIntos.peek();e.readerType="none",this._pendingPullIntos=new Wn,this._pendingPullIntos.push(e)}}};function ls(e){return!!Gr(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")&&e instanceof ba}function pd(e){return!!Gr(e)&&!!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")&&e instanceof ds}function Ia(e){if(function(t){let r=t._controlledReadableByteStream;return r._state!=="readable"||t._closeRequested||!t._started?!1:!!(b1(r)&&rh(r)>0||Np(r)&&L1(r)>0||B1(t)>0)}(e)){if(e._pulling)return void(e._pullAgain=!0);e._pulling=!0,Wr(e._pullAlgorithm(),()=>(e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,Ia(e)),null),t=>(ws(e,t),null))}}function T1(e){Lp(e),e._pendingPullIntos=new Wn}function Vd(e,t){let r=!1;e._state==="closed"&&(r=!0);let n=R1(t);t.readerType==="default"?Pp(e,n,r):function(i,u,c){let s=i._reader._readIntoRequests.shift();c?s._closeSteps(u):s._chunkSteps(u)}(e,n,r)}function R1(e){let t=e.bytesFilled,r=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,t/r)}function bc(e,t,r,n){e._queue.push({buffer:t,byteOffset:r,byteLength:n}),e._queueTotalSize+=n}function I1(e,t,r,n){let i;try{i=t.slice(r,r+n)}catch(u){throw ws(e,u),u}bc(e,i,0,n)}function A1(e,t){t.bytesFilled>0&&I1(e,t.buffer,t.byteOffset,t.bytesFilled),gs(e)}function k1(e,t){let r=t.elementSize,n=t.bytesFilled-t.bytesFilled%r,i=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),u=t.bytesFilled+i,c=u-u%r,s=i,h=!1;c>n&&(s=c-t.bytesFilled,h=!0);let a=e._queue;for(;s>0;){let d=a.peek(),f=Math.min(s,d.byteLength),g=t.byteOffset+t.bytesFilled;C1(t.buffer,g,d.buffer,d.byteOffset,f),d.byteLength===f?a.shift():(d.byteOffset+=f,d.byteLength-=f),e._queueTotalSize-=f,O1(e,f,t),s-=f}return h}function O1(e,t,r){r.bytesFilled+=t}function P1(e){e._queueTotalSize===0&&e._closeRequested?(kc(e),Ou(e._controlledReadableByteStream)):Ia(e)}function Lp(e){e._byobRequest!==null&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function Fd(e){for(;e._pendingPullIntos.length>0;){if(e._queueTotalSize===0)return;let t=e._pendingPullIntos.peek();k1(e,t)&&(gs(e),Vd(e._controlledReadableByteStream,t))}}function dm(e,t){let r=e._pendingPullIntos.peek();Lp(e),e._controlledReadableByteStream._state==="closed"?function(n,i){i.readerType==="none"&&gs(n);let u=n._controlledReadableByteStream;if(Np(u))for(;L1(u)>0;)Vd(u,gs(n))}(e,r):function(n,i,u){if(O1(0,i,u),u.readerType==="none")return A1(n,u),void Fd(n);if(u.bytesFilled<u.elementSize)return;gs(n);let c=u.bytesFilled%u.elementSize;if(c>0){let s=u.byteOffset+u.bytesFilled;I1(n,u.buffer,s-c,c)}u.bytesFilled-=c,Vd(n._controlledReadableByteStream,u),Fd(n)}(e,t,r),Ia(e)}function gs(e){return e._pendingPullIntos.shift()}function kc(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function ws(e,t){let r=e._controlledReadableByteStream;r._state==="readable"&&(T1(e),Fo(e),kc(e),H1(r,t))}function pm(e,t){let r=e._queue.shift();e._queueTotalSize-=r.byteLength,P1(e);let n=new Uint8Array(r.buffer,r.byteOffset,r.byteLength);t._chunkSteps(n)}function B1(e){let t=e._controlledReadableByteStream._state;return t==="errored"?null:t==="closed"?0:e._strategyHWM-e._queueTotalSize}function nI(e,t,r){let n=Object.create(ba.prototype),i,u,c;i=t.start!==void 0?()=>t.start(n):()=>{},u=t.pull!==void 0?()=>t.pull(n):()=>It(void 0),c=t.cancel!==void 0?h=>t.cancel(h):()=>It(void 0);let s=t.autoAllocateChunkSize;if(s===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");(function(h,a,d,f,g,R,S){a._controlledReadableByteStream=h,a._pullAgain=!1,a._pulling=!1,a._byobRequest=null,a._queue=a._queueTotalSize=void 0,Fo(a),a._closeRequested=!1,a._started=!1,a._strategyHWM=R,a._pullAlgorithm=f,a._cancelAlgorithm=g,a._autoAllocateChunkSize=S,a._pendingPullIntos=new Wn,h._readableStreamController=a,Wr(It(d()),()=>(a._started=!0,Ia(a),null),m=>(ws(a,m),null))})(e,n,i,u,c,r,s)}function yd(e){return new TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`)}function yu(e){return new TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`)}function ym(e,t){e._reader._readIntoRequests.push(t)}function L1(e){return e._reader._readIntoRequests.length}function Np(e){let t=e._reader;return t!==void 0&&!!ps(t)}Object.defineProperties(ba.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),wt(ba.prototype.close,"close"),wt(ba.prototype.enqueue,"enqueue"),wt(ba.prototype.error,"error"),typeof mt.toStringTag=="symbol"&&Object.defineProperty(ba.prototype,mt.toStringTag,{value:"ReadableByteStreamController",configurable:!0});var _a=class{constructor(e){if(lo(e,1,"ReadableStreamBYOBReader"),m1(e,"First parameter"),Es(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!ls(e._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");l1(this,e),this._readIntoRequests=new Wn}get closed(){return ps(this)?this._closedPromise:Ze(rc("closed"))}cancel(e){return ps(this)?this._ownerReadableStream===void 0?Ze(_s("cancel")):c1(this,e):Ze(rc("cancel"))}read(e){if(!ps(this))return Ze(rc("read"));if(!ArrayBuffer.isView(e))return Ze(new TypeError("view must be an array buffer view"));if(e.byteLength===0)return Ze(new TypeError("view must have non-zero byteLength"));if(e.buffer.byteLength===0)return Ze(new TypeError("view's buffer must have non-zero byteLength"));if(e.buffer,this._ownerReadableStream===void 0)return Ze(_s("read from"));let t,r,n=on((i,u)=>{t=i,r=u});return function(i,u,c){let s=i._ownerReadableStream;s._disturbed=!0,s._state==="errored"?c._errorSteps(s._storedError):function(h,a,d){let f=h._controlledReadableByteStream,g=1;a.constructor!==DataView&&(g=a.constructor.BYTES_PER_ELEMENT);let R=a.constructor,S=a.buffer,m={buffer:S,bufferByteLength:S.byteLength,byteOffset:a.byteOffset,byteLength:a.byteLength,bytesFilled:0,elementSize:g,viewConstructor:R,readerType:"byob"};if(h._pendingPullIntos.length>0)return h._pendingPullIntos.push(m),void ym(f,d);if(f._state!=="closed"){if(h._queueTotalSize>0){if(k1(h,m)){let T=R1(m);return P1(h),void d._chunkSteps(T)}if(h._closeRequested){let T=new TypeError("Insufficient bytes to fill elements in the given buffer");return ws(h,T),void d._errorSteps(T)}}h._pendingPullIntos.push(m),ym(f,d),Ia(h)}else{let T=new R(m.buffer,m.byteOffset,0);d._closeSteps(T)}}(s._readableStreamController,u,c)}(this,e,{_chunkSteps:i=>t({value:i,done:!1}),_closeSteps:i=>t({value:i,done:!0}),_errorSteps:i=>r(i)}),n}releaseLock(){if(!ps(this))throw rc("releaseLock");this._ownerReadableStream!==void 0&&function(e){h1(e);let t=new TypeError("Reader was released");N1(e,t)}(this)}};function ps(e){return!!Gr(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")&&e instanceof _a}function N1(e,t){let r=e._readIntoRequests;e._readIntoRequests=new Wn,r.forEach(n=>{n._errorSteps(t)})}function rc(e){return new TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`)}function ku(e,t){let{highWaterMark:r}=e;if(r===void 0)return t;if(S1(r)||r<0)throw new RangeError("Invalid highWaterMark");return r}function Oc(e){let{size:t}=e;return t||(()=>1)}function Pc(e,t){so(e,t);let r=e?.highWaterMark,n=e?.size;return{highWaterMark:r===void 0?void 0:Op(r),size:n===void 0?void 0:iI(n,`${t} has member 'size' that`)}}function iI(e,t){return si(e,t),r=>Op(e(r))}function oI(e,t,r){return si(e,r),n=>Aa(e,t,[n])}function aI(e,t,r){return si(e,r),()=>Aa(e,t,[])}function sI(e,t,r){return si(e,r),n=>th(e,t,[n])}function uI(e,t,r){return si(e,r),(n,i)=>Aa(e,t,[n,i])}Object.defineProperties(_a.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),wt(_a.prototype.cancel,"cancel"),wt(_a.prototype.read,"read"),wt(_a.prototype.releaseLock,"releaseLock"),typeof mt.toStringTag=="symbol"&&Object.defineProperty(_a.prototype,mt.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});var lI=typeof AbortController=="function",wa=class{constructor(e={},t={}){e===void 0?e=null:p1(e,"First parameter");let r=Pc(t,"Second parameter"),n=function(c,s){so(c,s);let h=c?.abort,a=c?.close,d=c?.start,f=c?.type,g=c?.write;return{abort:h===void 0?void 0:oI(h,c,`${s} has member 'abort' that`),close:a===void 0?void 0:aI(a,c,`${s} has member 'close' that`),start:d===void 0?void 0:sI(d,c,`${s} has member 'start' that`),write:g===void 0?void 0:uI(g,c,`${s} has member 'write' that`),type:f}}(e,"First parameter");var i;if((i=this)._state="writable",i._storedError=void 0,i._writer=void 0,i._writableStreamController=void 0,i._writeRequests=new Wn,i._inFlightWriteRequest=void 0,i._closeRequest=void 0,i._inFlightCloseRequest=void 0,i._pendingAbortRequest=void 0,i._backpressure=!1,n.type!==void 0)throw new RangeError("Invalid type is specified");let u=Oc(r);(function(c,s,h,a){let d=Object.create(Bc.prototype),f,g,R,S;f=s.start!==void 0?()=>s.start(d):()=>{},g=s.write!==void 0?m=>s.write(m,d):()=>It(void 0),R=s.close!==void 0?()=>s.close():()=>It(void 0),S=s.abort!==void 0?m=>s.abort(m):()=>It(void 0),function(m,T,O,k,y,I,w,L){T._controlledWritableStream=m,m._writableStreamController=T,T._queue=void 0,T._queueTotalSize=void 0,Fo(T),T._abortReason=void 0,T._abortController=function(){if(lI)return new AbortController}(),T._started=!1,T._strategySizeAlgorithm=L,T._strategyHWM=w,T._writeAlgorithm=k,T._closeAlgorithm=y,T._abortAlgorithm=I;let N=jp(T);Dp(m,N);let C=O();Wr(It(C),()=>(T._started=!0,nh(T),null),v=>(T._started=!0,$d(m,v),null))}(c,d,f,g,R,S,h,a)})(this,n,ku(r,1),u)}get locked(){if(!Ii(this))throw ic("locked");return _c(this)}abort(e){return Ii(this)?_c(this)?Ze(new TypeError("Cannot abort a stream that already has a writer")):x1(this,e):Ze(ic("abort"))}close(){return Ii(this)?_c(this)?Ze(new TypeError("Cannot close a stream that already has a writer")):qo(this)?Ze(new TypeError("Cannot close an already-closing stream")):U1(this):Ze(ic("close"))}getWriter(){if(!Ii(this))throw ic("getWriter");return new jo(this)}};function Ii(e){return!!Gr(e)&&!!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")&&e instanceof wa}function _c(e){return e._writer!==void 0}function x1(e,t){var r;if(e._state==="closed"||e._state==="errored")return It(void 0);e._writableStreamController._abortReason=t,(r=e._writableStreamController._abortController)===null||r===void 0||r.abort(t);let n=e._state;if(n==="closed"||n==="errored")return It(void 0);if(e._pendingAbortRequest!==void 0)return e._pendingAbortRequest._promise;let i=!1;n==="erroring"&&(i=!0,t=void 0);let u=on((c,s)=>{e._pendingAbortRequest={_promise:void 0,_resolve:c,_reject:s,_reason:t,_wasAlreadyErroring:i}});return e._pendingAbortRequest._promise=u,i||xp(e,t),u}function U1(e){let t=e._state;if(t==="closed"||t==="errored")return Ze(new TypeError(`The stream (in ${t} state) is not in the writable state and cannot be closed`));let r=on((u,c)=>{let s={_resolve:u,_reject:c};e._closeRequest=s}),n=e._writer;var i;return n!==void 0&&e._backpressure&&t==="writable"&&Mp(n),Bp(i=e._writableStreamController,j1,0),nh(i),r}function $d(e,t){e._state!=="writable"?Up(e):xp(e,t)}function xp(e,t){let r=e._writableStreamController;e._state="erroring",e._storedError=t;let n=e._writer;n!==void 0&&D1(n,t),!function(i){return!(i._inFlightWriteRequest===void 0&&i._inFlightCloseRequest===void 0)}(e)&&r._started&&Up(e)}function Up(e){e._state="errored",e._writableStreamController[u1]();let t=e._storedError;if(e._writeRequests.forEach(n=>{n._reject(t)}),e._writeRequests=new Wn,e._pendingAbortRequest===void 0)return void nc(e);let r=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,r._wasAlreadyErroring)return r._reject(t),void nc(e);Wr(e._writableStreamController[s1](r._reason),()=>(r._resolve(),nc(e),null),n=>(r._reject(n),nc(e),null))}function qo(e){return e._closeRequest!==void 0||e._inFlightCloseRequest!==void 0}function nc(e){e._closeRequest!==void 0&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);let t=e._writer;t!==void 0&&qp(t,e._storedError)}function Dp(e,t){let r=e._writer;r!==void 0&&t!==e._backpressure&&(t?function(n){ih(n)}(r):Mp(r)),e._backpressure=t}Object.defineProperties(wa.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),wt(wa.prototype.abort,"abort"),wt(wa.prototype.close,"close"),wt(wa.prototype.getWriter,"getWriter"),typeof mt.toStringTag=="symbol"&&Object.defineProperty(wa.prototype,mt.toStringTag,{value:"WritableStream",configurable:!0});var jo=class{constructor(e){if(lo(e,1,"WritableStreamDefaultWriter"),function(n,i){if(!Ii(n))throw new TypeError(`${i} is not a WritableStream.`)}(e,"First parameter"),_c(e))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=e,e._writer=this;let t=e._state;if(t==="writable")!qo(e)&&e._backpressure?ih(this):vm(this),wc(this);else if(t==="erroring")zd(this,e._storedError),wc(this);else if(t==="closed")vm(this),wc(r=this),V1(r);else{let n=e._storedError;zd(this,n),mm(this,n)}var r}get closed(){return fa(this)?this._closedPromise:Ze(da("closed"))}get desiredSize(){if(!fa(this))throw da("desiredSize");if(this._ownerWritableStream===void 0)throw gu("desiredSize");return function(e){let t=e._ownerWritableStream,r=t._state;return r==="errored"||r==="erroring"?null:r==="closed"?0:q1(t._writableStreamController)}(this)}get ready(){return fa(this)?this._readyPromise:Ze(da("ready"))}abort(e){return fa(this)?this._ownerWritableStream===void 0?Ze(gu("abort")):function(t,r){return x1(t._ownerWritableStream,r)}(this,e):Ze(da("abort"))}close(){if(!fa(this))return Ze(da("close"));let e=this._ownerWritableStream;return e===void 0?Ze(gu("close")):qo(e)?Ze(new TypeError("Cannot close an already-closing stream")):U1(this._ownerWritableStream)}releaseLock(){if(!fa(this))throw da("releaseLock");this._ownerWritableStream!==void 0&&function(e){let t=e._ownerWritableStream,r=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");D1(e,r),function(n,i){n._closedPromiseState==="pending"?qp(n,i):function(u,c){mm(u,c)}(n,i)}(e,r),t._writer=void 0,e._ownerWritableStream=void 0}(this)}write(e){return fa(this)?this._ownerWritableStream===void 0?Ze(gu("write to")):function(t,r){let n=t._ownerWritableStream,i=n._writableStreamController,u=function(h,a){try{return h._strategySizeAlgorithm(a)}catch(d){return gm(h,d),1}}(i,r);if(n!==t._ownerWritableStream)return Ze(gu("write to"));let c=n._state;if(c==="errored")return Ze(n._storedError);if(qo(n)||c==="closed")return Ze(new TypeError("The stream is closing or closed and cannot be written to"));if(c==="erroring")return Ze(n._storedError);let s=function(h){return on((a,d)=>{let f={_resolve:a,_reject:d};h._writeRequests.push(f)})}(n);return function(h,a,d){try{Bp(h,a,d)}catch(g){return void gm(h,g)}let f=h._controlledWritableStream;!qo(f)&&f._state==="writable"&&Dp(f,jp(h)),nh(h)}(i,r,u),s}(this,e):Ze(da("write"))}};function fa(e){return!!Gr(e)&&!!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")&&e instanceof jo}function D1(e,t){e._readyPromiseState==="pending"?F1(e,t):function(r,n){zd(r,n)}(e,t)}Object.defineProperties(jo.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),wt(jo.prototype.abort,"abort"),wt(jo.prototype.close,"close"),wt(jo.prototype.releaseLock,"releaseLock"),wt(jo.prototype.write,"write"),typeof mt.toStringTag=="symbol"&&Object.defineProperty(jo.prototype,mt.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});var j1={},Bc=class{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!gd(this))throw md("abortReason");return this._abortReason}get signal(){if(!gd(this))throw md("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(e){if(!gd(this))throw md("error");this._controlledWritableStream._state==="writable"&&M1(this,e)}[s1](e){let t=this._abortAlgorithm(e);return Lc(this),t}[u1](){Fo(this)}};function gd(e){return!!Gr(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")&&e instanceof Bc}function Lc(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function q1(e){return e._strategyHWM-e._queueTotalSize}function nh(e){let t=e._controlledWritableStream;if(!e._started||t._inFlightWriteRequest!==void 0)return;if(t._state==="erroring")return void Up(t);if(e._queue.length===0)return;let r=e._queue.peek().value;r===j1?function(n){let i=n._controlledWritableStream;(function(c){c._inFlightCloseRequest=c._closeRequest,c._closeRequest=void 0})(i),Md(n);let u=n._closeAlgorithm();Lc(n),Wr(u,()=>(function(c){c._inFlightCloseRequest._resolve(void 0),c._inFlightCloseRequest=void 0,c._state==="erroring"&&(c._storedError=void 0,c._pendingAbortRequest!==void 0&&(c._pendingAbortRequest._resolve(),c._pendingAbortRequest=void 0)),c._state="closed";let s=c._writer;s!==void 0&&V1(s)}(i),null),c=>(function(s,h){s._inFlightCloseRequest._reject(h),s._inFlightCloseRequest=void 0,s._pendingAbortRequest!==void 0&&(s._pendingAbortRequest._reject(h),s._pendingAbortRequest=void 0),$d(s,h)}(i,c),null))}(e):function(n,i){let u=n._controlledWritableStream;(function(c){c._inFlightWriteRequest=c._writeRequests.shift()})(u),Wr(n._writeAlgorithm(i),()=>{(function(s){s._inFlightWriteRequest._resolve(void 0),s._inFlightWriteRequest=void 0})(u);let c=u._state;if(Md(n),!qo(u)&&c==="writable"){let s=jp(n);Dp(u,s)}return nh(n),null},c=>(u._state==="writable"&&Lc(n),function(s,h){s._inFlightWriteRequest._reject(h),s._inFlightWriteRequest=void 0,$d(s,h)}(u,c),null))}(e,r)}function gm(e,t){e._controlledWritableStream._state==="writable"&&M1(e,t)}function jp(e){return q1(e)<=0}function M1(e,t){let r=e._controlledWritableStream;Lc(e),xp(r,t)}function ic(e){return new TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`)}function md(e){return new TypeError(`WritableStreamDefaultController.prototype.${e} can only be used on a WritableStreamDefaultController`)}function da(e){return new TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`)}function gu(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function wc(e){e._closedPromise=on((t,r)=>{e._closedPromise_resolve=t,e._closedPromise_reject=r,e._closedPromiseState="pending"})}function mm(e,t){wc(e),qp(e,t)}function qp(e,t){e._closedPromise_reject!==void 0&&(bs(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function V1(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function ih(e){e._readyPromise=on((t,r)=>{e._readyPromise_resolve=t,e._readyPromise_reject=r}),e._readyPromiseState="pending"}function zd(e,t){ih(e),F1(e,t)}function vm(e){ih(e),Mp(e)}function F1(e,t){e._readyPromise_reject!==void 0&&(bs(e._readyPromise),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function Mp(e){e._readyPromise_resolve!==void 0&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}Object.defineProperties(Bc.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof mt.toStringTag=="symbol"&&Object.defineProperty(Bc.prototype,mt.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});var bm=typeof DOMException<"u"?DOMException:void 0,cI=function(e){if(typeof e!="function"&&typeof e!="object")return!1;try{return new e,!0}catch{return!1}}(bm)?bm:function(){let e=function(t,r){this.message=t||"",this.name=r||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}();function _m(e,t,r,n,i,u){let c=e.getReader(),s=t.getWriter();Ra(e)&&(e._disturbed=!0);let h,a,d,f=!1,g=!1,R="readable",S="writable",m=!1,T=!1,O=on(y=>{d=y}),k=Promise.resolve(void 0);return on((y,I)=>{let w;function L(){if(f)return;let z=on((E,B)=>{(function D(j){j?E():ao(function(){return f?It(!0):ao(s.ready,()=>ao(c.read(),M=>!!M.done||(k=s.write(M.value),bs(k),!1)))}(),D,B)})(!1)});bs(z)}function N(){return R="closed",r?q():p(()=>(Ii(t)&&(m=qo(t),S=t._state),m||S==="closed"?It(void 0):S==="erroring"||S==="errored"?Ze(a):(m=!0,s.close())),!1,void 0),null}function C(z){return f||(R="errored",h=z,n?q(!0,z):p(()=>s.abort(z),!0,z)),null}function v(z){return g||(S="errored",a=z,i?q(!0,z):p(()=>c.cancel(z),!0,z)),null}if(u!==void 0&&(w=()=>{let z=u.reason!==void 0?u.reason:new cI("Aborted","AbortError"),E=[];n||E.push(()=>S==="writable"?s.abort(z):It(void 0)),i||E.push(()=>R==="readable"?c.cancel(z):It(void 0)),p(()=>Promise.all(E.map(B=>B())),!0,z)},u.aborted?w():u.addEventListener("abort",w)),Ra(e)&&(R=e._state,h=e._storedError),Ii(t)&&(S=t._state,a=t._storedError,m=qo(t)),Ra(e)&&Ii(t)&&(T=!0,d()),R==="errored")C(h);else if(S==="erroring"||S==="errored")v(a);else if(R==="closed")N();else if(m||S==="closed"){let z=new TypeError("the destination writable stream closed before all data could be piped to it");i?q(!0,z):p(()=>c.cancel(z),!0,z)}function p(z,E,B){function D(){return S!=="writable"||m?j():am(function(){let M;return It(function ee(){if(M!==k)return M=k,ii(k,ee,ee)}())}(),j),null}function j(){return z?Wr(z(),()=>V(E,B),M=>V(!0,M)):V(E,B),null}f||(f=!0,T?D():am(O,D))}function q(z,E){p(void 0,z,E)}function V(z,E){return g=!0,s.releaseLock(),c.releaseLock(),u!==void 0&&u.removeEventListener("abort",w),z?I(E):y(void 0),null}f||(Wr(c.closed,N,C),Wr(s.closed,function(){return g||(S="closed"),null},v)),T?L():vc(()=>{T=!0,d(),L()})})}function hI(e,t){return function(r){try{return r.getReader({mode:"byob"}).releaseLock(),!0}catch{return!1}}(e)?function(r){let n,i,u,c,s,h=r.getReader(),a=!1,d=!1,f=!1,g=!1,R=!1,S=!1,m=on(v=>{s=v});function T(v){sm(v.closed,p=>(v!==h||(u.error(p),c.error(p),R&&S||s(void 0)),null))}function O(){a&&(h.releaseLock(),h=r.getReader(),T(h),a=!1),Wr(h.read(),v=>{var p,q;if(f=!1,g=!1,v.done)return R||u.close(),S||c.close(),(p=u.byobRequest)===null||p===void 0||p.respond(0),(q=c.byobRequest)===null||q===void 0||q.respond(0),R&&S||s(void 0),null;let V=v.value,z=V,E=V;if(!R&&!S)try{E=fm(V)}catch(B){return u.error(B),c.error(B),s(h.cancel(B)),null}return R||u.enqueue(z),S||c.enqueue(E),d=!1,f?y():g&&I(),null},()=>(d=!1,null))}function k(v,p){a||(h.releaseLock(),h=r.getReader({mode:"byob"}),T(h),a=!0);let q=p?c:u,V=p?u:c;Wr(h.read(v),z=>{var E;f=!1,g=!1;let B=p?S:R,D=p?R:S;if(z.done){B||q.close(),D||V.close();let M=z.value;return M!==void 0&&(B||q.byobRequest.respondWithNewView(M),D||(E=V.byobRequest)===null||E===void 0||E.respond(0)),B&&D||s(void 0),null}let j=z.value;if(D)B||q.byobRequest.respondWithNewView(j);else{let M;try{M=fm(j)}catch(ee){return q.error(ee),V.error(ee),s(h.cancel(ee)),null}B||q.byobRequest.respondWithNewView(j),V.enqueue(M)}return d=!1,f?y():g&&I(),null},()=>(d=!1,null))}function y(){if(d)return f=!0,It(void 0);d=!0;let v=u.byobRequest;return v===null?O():k(v.view,!1),It(void 0)}function I(){if(d)return g=!0,It(void 0);d=!0;let v=c.byobRequest;return v===null?O():k(v.view,!0),It(void 0)}function w(v){if(R=!0,n=v,S){let p=[n,i],q=h.cancel(p);s(q)}return m}function L(v){if(S=!0,i=v,R){let p=[n,i],q=h.cancel(p);s(q)}return m}let N=new jr({type:"bytes",start(v){u=v},pull:y,cancel:w}),C=new jr({type:"bytes",start(v){c=v},pull:I,cancel:L});return T(h),[N,C]}(e):function(r,n){let i=r.getReader(),u,c,s,h,a,d=!1,f=!1,g=!1,R=!1,S=on(I=>{a=I});function m(){return d?(f=!0,It(void 0)):(d=!0,Wr(i.read(),I=>{if(f=!1,I.done)return g||s.close(),R||h.close(),g&&R||a(void 0),null;let w=I.value,L=w,N=w;return g||s.enqueue(L),R||h.enqueue(N),d=!1,f&&m(),null},()=>(d=!1,null)),It(void 0))}function T(I){if(g=!0,u=I,R){let w=[u,c],L=i.cancel(w);a(L)}return S}function O(I){if(R=!0,c=I,g){let w=[u,c],L=i.cancel(w);a(L)}return S}let k=new jr({start(I){s=I},pull:m,cancel:T}),y=new jr({start(I){h=I},pull:m,cancel:O});return sm(i.closed,I=>(s.error(I),h.error(I),g&&R||a(void 0),null)),[k,y]}(e)}var Ea=class{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!oc(this))throw ac("desiredSize");return $1(this)}close(){if(!oc(this))throw ac("close");if(!wu(this))throw new TypeError("The stream is not in a state that permits close");(function(e){if(!wu(e))return;let t=e._controlledReadableStream;e._closeRequested=!0,e._queue.length===0&&(Ec(e),Ou(t))})(this)}enqueue(e){if(!oc(this))throw ac("enqueue");if(!wu(this))throw new TypeError("The stream is not in a state that permits enqueue");return function(t,r){if(!wu(t))return;let n=t._controlledReadableStream;if(Es(n)&&rh(n)>0)Pp(n,r,!1);else{let i;try{i=t._strategySizeAlgorithm(r)}catch(u){throw Tu(t,u),u}try{Bp(t,r,i)}catch(u){throw Tu(t,u),u}}Cu(t)}(this,e)}error(e){if(!oc(this))throw ac("error");Tu(this,e)}[Rp](e){Fo(this);let t=this._cancelAlgorithm(e);return Ec(this),t}[Ip](e){let t=this._controlledReadableStream;if(this._queue.length>0){let r=Md(this);this._closeRequested&&this._queue.length===0?(Ec(this),Ou(t)):Cu(this),e._chunkSteps(r)}else v1(t,e),Cu(this)}[Ap](){}};function oc(e){return!!Gr(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")&&e instanceof Ea}function Cu(e){if(function(t){let r=t._controlledReadableStream;return!wu(t)||!t._started?!1:!!(Es(r)&&rh(r)>0||$1(t)>0)}(e)){if(e._pulling)return void(e._pullAgain=!0);e._pulling=!0,Wr(e._pullAlgorithm(),()=>(e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,Cu(e)),null),t=>(Tu(e,t),null))}}function Ec(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Tu(e,t){let r=e._controlledReadableStream;r._state==="readable"&&(Fo(e),Ec(e),H1(r,t))}function $1(e){let t=e._controlledReadableStream._state;return t==="errored"?null:t==="closed"?0:e._strategyHWM-e._queueTotalSize}function wu(e){return!e._closeRequested&&e._controlledReadableStream._state==="readable"}function fI(e,t,r,n){let i=Object.create(Ea.prototype),u,c,s;u=t.start!==void 0?()=>t.start(i):()=>{},c=t.pull!==void 0?()=>t.pull(i):()=>It(void 0),s=t.cancel!==void 0?h=>t.cancel(h):()=>It(void 0),function(h,a,d,f,g,R,S){a._controlledReadableStream=h,a._queue=void 0,a._queueTotalSize=void 0,Fo(a),a._started=!1,a._closeRequested=!1,a._pullAgain=!1,a._pulling=!1,a._strategySizeAlgorithm=S,a._strategyHWM=R,a._pullAlgorithm=f,a._cancelAlgorithm=g,h._readableStreamController=a,Wr(It(d()),()=>(a._started=!0,Cu(a),null),m=>(Tu(a,m),null))}(e,i,u,c,s,r,n)}function ac(e){return new TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`)}function dI(e,t,r){return si(e,r),n=>Aa(e,t,[n])}function pI(e,t,r){return si(e,r),n=>Aa(e,t,[n])}function yI(e,t,r){return si(e,r),n=>th(e,t,[n])}function gI(e,t){if((e=`${e}`)!="bytes")throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamType`);return e}function mI(e,t){if((e=`${e}`)!="byob")throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamReaderMode`);return e}function wm(e,t){so(e,t);let r=e?.preventAbort,n=e?.preventCancel,i=e?.preventClose,u=e?.signal;return u!==void 0&&function(c,s){if(!function(h){if(typeof h!="object"||h===null)return!1;try{return typeof h.aborted=="boolean"}catch{return!1}}(c))throw new TypeError(`${s} is not an AbortSignal.`)}(u,`${t} has member 'signal' that`),{preventAbort:!!r,preventCancel:!!n,preventClose:!!i,signal:u}}function vI(e,t){so(e,t);let r=e?.readable;qd(r,"readable","ReadableWritablePair"),function(i,u){if(!_u(i))throw new TypeError(`${u} is not a ReadableStream.`)}(r,`${t} has member 'readable' that`);let n=e?.writable;return qd(n,"writable","ReadableWritablePair"),function(i,u){if(!g1(i))throw new TypeError(`${u} is not a WritableStream.`)}(n,`${t} has member 'writable' that`),{readable:r,writable:n}}Object.defineProperties(Ea.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),wt(Ea.prototype.close,"close"),wt(Ea.prototype.enqueue,"enqueue"),wt(Ea.prototype.error,"error"),typeof mt.toStringTag=="symbol"&&Object.defineProperty(Ea.prototype,mt.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});var jr=class{constructor(e={},t={}){e===void 0?e=null:p1(e,"First parameter");let r=Pc(t,"Second parameter"),n=function(u,c){so(u,c);let s=u,h=s?.autoAllocateChunkSize,a=s?.cancel,d=s?.pull,f=s?.start,g=s?.type;return{autoAllocateChunkSize:h===void 0?void 0:y1(h,`${c} has member 'autoAllocateChunkSize' that`),cancel:a===void 0?void 0:dI(a,s,`${c} has member 'cancel' that`),pull:d===void 0?void 0:pI(d,s,`${c} has member 'pull' that`),start:f===void 0?void 0:yI(f,s,`${c} has member 'start' that`),type:g===void 0?void 0:gI(g,`${c} has member 'type' that`)}}(e,"First parameter");var i;if((i=this)._state="readable",i._reader=void 0,i._storedError=void 0,i._disturbed=!1,n.type==="bytes"){if(r.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");nI(this,n,ku(r,0))}else{let u=Oc(r);fI(this,n,ku(r,1),u)}}get locked(){if(!Ra(this))throw pa("locked");return Es(this)}cancel(e){return Ra(this)?Es(this)?Ze(new TypeError("Cannot cancel a stream that already has a reader")):z1(this,e):Ze(pa("cancel"))}getReader(e){if(!Ra(this))throw pa("getReader");return function(t,r){so(t,r);let n=t?.mode;return{mode:n===void 0?void 0:mI(n,`${r} has member 'mode' that`)}}(e,"First parameter").mode===void 0?new va(this):function(t){return new _a(t)}(this)}pipeThrough(e,t={}){if(!_u(this))throw pa("pipeThrough");lo(e,1,"pipeThrough");let r=vI(e,"First parameter"),n=wm(t,"Second parameter");if(this.locked)throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(r.writable.locked)throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return bs(_m(this,r.writable,n.preventClose,n.preventAbort,n.preventCancel,n.signal)),r.readable}pipeTo(e,t={}){if(!_u(this))return Ze(pa("pipeTo"));if(e===void 0)return Ze("Parameter 1 is required in 'pipeTo'.");if(!g1(e))return Ze(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let r;try{r=wm(t,"Second parameter")}catch(n){return Ze(n)}return this.locked?Ze(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):e.locked?Ze(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):_m(this,e,r.preventClose,r.preventAbort,r.preventCancel,r.signal)}tee(){if(!_u(this))throw pa("tee");if(this.locked)throw new TypeError("Cannot tee a stream that already has a reader");return hI(this)}values(e){if(!_u(this))throw pa("values");return function(t,r){let n=t.getReader(),i=new w1(n,r),u=Object.create(E1);return u._asyncIteratorImpl=i,u}(this,function(t,r){return so(t,r),{preventCancel:!!t?.preventCancel}}(e,"First parameter").preventCancel)}};function Ra(e){return!!Gr(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")&&e instanceof jr}function Es(e){return e._reader!==void 0}function z1(e,t){if(e._disturbed=!0,e._state==="closed")return It(void 0);if(e._state==="errored")return Ze(e._storedError);Ou(e);let r=e._reader;if(r!==void 0&&ps(r)){let n=r._readIntoRequests;r._readIntoRequests=new Wn,n.forEach(i=>{i._closeSteps(void 0)})}return ii(e._readableStreamController[Rp](t),o1)}function Ou(e){e._state="closed";let t=e._reader;if(t!==void 0&&(d1(t),Ta(t))){let r=t._readRequests;t._readRequests=new Wn,r.forEach(n=>{n._closeSteps()})}}function H1(e,t){e._state="errored",e._storedError=t;let r=e._reader;r!==void 0&&(kp(r,t),Ta(r)?_1(r,t):N1(r,t))}function pa(e){return new TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`)}function K1(e,t){so(e,t);let r=e?.highWaterMark;return qd(r,"highWaterMark","QueuingStrategyInit"),{highWaterMark:Op(r)}}Object.defineProperties(jr.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),wt(jr.prototype.cancel,"cancel"),wt(jr.prototype.getReader,"getReader"),wt(jr.prototype.pipeThrough,"pipeThrough"),wt(jr.prototype.pipeTo,"pipeTo"),wt(jr.prototype.tee,"tee"),wt(jr.prototype.values,"values"),typeof mt.toStringTag=="symbol"&&Object.defineProperty(jr.prototype,mt.toStringTag,{value:"ReadableStream",configurable:!0}),typeof mt.asyncIterator=="symbol"&&Object.defineProperty(jr.prototype,mt.asyncIterator,{value:jr.prototype.values,writable:!0,configurable:!0});var W1=e=>e.byteLength;wt(W1,"size");var Hd=class{constructor(e){lo(e,1,"ByteLengthQueuingStrategy"),e=K1(e,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!Sm(this))throw Em("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!Sm(this))throw Em("size");return W1}};function Em(e){return new TypeError(`ByteLengthQueuingStrategy.prototype.${e} can only be used on a ByteLengthQueuingStrategy`)}function Sm(e){return!!Gr(e)&&!!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")&&e instanceof Hd}Object.defineProperties(Hd.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof mt.toStringTag=="symbol"&&Object.defineProperty(Hd.prototype,mt.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});var G1=()=>1;wt(G1,"size");var Kd=class{constructor(e){lo(e,1,"CountQueuingStrategy"),e=K1(e,"First parameter"),this._countQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!Tm(this))throw Cm("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!Tm(this))throw Cm("size");return G1}};function Cm(e){return new TypeError(`CountQueuingStrategy.prototype.${e} can only be used on a CountQueuingStrategy`)}function Tm(e){return!!Gr(e)&&!!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")&&e instanceof Kd}function bI(e,t,r){return si(e,r),n=>Aa(e,t,[n])}function _I(e,t,r){return si(e,r),n=>th(e,t,[n])}function wI(e,t,r){return si(e,r),(n,i)=>Aa(e,t,[n,i])}Object.defineProperties(Kd.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof mt.toStringTag=="symbol"&&Object.defineProperty(Kd.prototype,mt.toStringTag,{value:"CountQueuingStrategy",configurable:!0});var Wd=class{constructor(e={},t={},r={}){e===void 0&&(e=null);let n=Pc(t,"Second parameter"),i=Pc(r,"Third parameter"),u=function(f,g){so(f,g);let R=f?.flush,S=f?.readableType,m=f?.start,T=f?.transform,O=f?.writableType;return{flush:R===void 0?void 0:bI(R,f,`${g} has member 'flush' that`),readableType:S,start:m===void 0?void 0:_I(m,f,`${g} has member 'start' that`),transform:T===void 0?void 0:wI(T,f,`${g} has member 'transform' that`),writableType:O}}(e,"First parameter");if(u.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(u.writableType!==void 0)throw new RangeError("Invalid writableType specified");let c=ku(i,0),s=Oc(i),h=ku(n,1),a=Oc(n),d;(function(f,g,R,S,m,T){function O(){return g}function k(N){return function(C,v){let p=C._transformStreamController;return C._backpressure?ii(C._backpressureChangePromise,()=>{if((Ii(C._writable)?C._writable._state:C._writableState)==="erroring")throw Ii(C._writable)?C._writable._storedError:C._writableStoredError;return Im(p,v)}):Im(p,v)}(f,N)}function y(N){return function(C,v){return Nc(C,v),It(void 0)}(f,N)}function I(){return function(N){let C=N._transformStreamController,v=C._flushAlgorithm();return Q1(C),ii(v,()=>{if(N._readableState==="errored")throw N._readableStoredError;Uc(N)&&X1(N)},p=>{throw Nc(N,p),N._readableStoredError})}(f)}function w(){return function(N){return xc(N,!1),N._backpressureChangePromise}(f)}function L(N){return oh(f,N),It(void 0)}f._writableState="writable",f._writableStoredError=void 0,f._writableHasInFlightOperation=!1,f._writableStarted=!1,f._writable=function(N,C,v,p,q,V,z){return new wa({start(E){N._writableController=E;try{let B=E.signal;B!==void 0&&B.addEventListener("abort",()=>{N._writableState==="writable"&&(N._writableState="erroring",B.reason&&(N._writableStoredError=B.reason))})}catch{}return ii(C(),()=>(N._writableStarted=!0,km(N),null),B=>{throw N._writableStarted=!0,vd(N,B),B})},write:E=>(function(B){B._writableHasInFlightOperation=!0}(N),ii(v(E),()=>(function(B){B._writableHasInFlightOperation=!1}(N),km(N),null),B=>{throw function(D,j){D._writableHasInFlightOperation=!1,vd(D,j)}(N,B),B})),close:()=>(function(E){E._writableHasInFlightOperation=!0}(N),ii(p(),()=>(function(E){E._writableHasInFlightOperation=!1,E._writableState==="erroring"&&(E._writableStoredError=void 0),E._writableState="closed"}(N),null),E=>{throw function(B,D){B._writableHasInFlightOperation=!1,B._writableState,vd(B,D)}(N,E),E})),abort:E=>(N._writableState="errored",N._writableStoredError=E,q(E))},{highWaterMark:V,size:z})}(f,O,k,I,y,R,S),f._readableState="readable",f._readableStoredError=void 0,f._readableCloseRequested=!1,f._readablePulling=!1,f._readable=function(N,C,v,p,q,V){return new jr({start:z=>(N._readableController=z,C().catch(E=>{Dc(N,E)})),pull:()=>(N._readablePulling=!0,v().catch(z=>{Dc(N,z)})),cancel:z=>(N._readableState="closed",p(z))},{highWaterMark:q,size:V})}(f,O,w,L,m,T),f._backpressure=void 0,f._backpressureChangePromise=void 0,f._backpressureChangePromise_resolve=void 0,xc(f,!0),f._transformStreamController=void 0})(this,on(f=>{d=f}),h,a,c,s),function(f,g){let R=Object.create(Sa.prototype),S,m;S=g.transform!==void 0?T=>g.transform(T,R):T=>{try{return Y1(R,T),It(void 0)}catch(O){return Ze(O)}},m=g.flush!==void 0?()=>g.flush(R):()=>It(void 0),function(T,O,k,y){O._controlledTransformStream=T,T._transformStreamController=O,O._transformAlgorithm=k,O._flushAlgorithm=y}(f,R,S,m)}(this,u),u.start!==void 0?d(u.start(this._transformStreamController)):d(void 0)}get readable(){if(!Rm(this))throw Am("readable");return this._readable}get writable(){if(!Rm(this))throw Am("writable");return this._writable}};function Rm(e){return!!Gr(e)&&!!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")&&e instanceof Wd}function Nc(e,t){Dc(e,t),oh(e,t)}function oh(e,t){Q1(e._transformStreamController),function(r,n){r._writableController.error(n),r._writableState==="writable"&&Z1(r,n)}(e,t),e._backpressure&&xc(e,!1)}function xc(e,t){e._backpressureChangePromise!==void 0&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=on(r=>{e._backpressureChangePromise_resolve=r}),e._backpressure=t}Object.defineProperties(Wd.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof mt.toStringTag=="symbol"&&Object.defineProperty(Wd.prototype,mt.toStringTag,{value:"TransformStream",configurable:!0});var Sa=class{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!sc(this))throw uc("desiredSize");return J1(this._controlledTransformStream)}enqueue(e){if(!sc(this))throw uc("enqueue");Y1(this,e)}error(e){if(!sc(this))throw uc("error");var t;t=e,Nc(this._controlledTransformStream,t)}terminate(){if(!sc(this))throw uc("terminate");(function(e){let t=e._controlledTransformStream;Uc(t)&&X1(t);let r=new TypeError("TransformStream terminated");oh(t,r)})(this)}};function sc(e){return!!Gr(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")&&e instanceof Sa}function Q1(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0}function Y1(e,t){let r=e._controlledTransformStream;if(!Uc(r))throw new TypeError("Readable side is not in a state that permits enqueue");try{(function(n,i){n._readablePulling=!1;try{n._readableController.enqueue(i)}catch(u){throw Dc(n,u),u}})(r,t)}catch(n){throw oh(r,n),r._readableStoredError}(function(n){return!function(i){return Uc(i)?!!(i._readablePulling||J1(i)>0):!1}(n)})(r)!==r._backpressure&&xc(r,!0)}function Im(e,t){return ii(e._transformAlgorithm(t),void 0,r=>{throw Nc(e._controlledTransformStream,r),r})}function uc(e){return new TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`)}function Am(e){return new TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`)}function Uc(e){return!e._readableCloseRequested&&e._readableState==="readable"}function X1(e){e._readableState="closed",e._readableCloseRequested=!0,e._readableController.close()}function Dc(e,t){e._readableState==="readable"&&(e._readableState="errored",e._readableStoredError=t),e._readableController.error(t)}function J1(e){return e._readableController.desiredSize}function vd(e,t){e._writableState!=="writable"?Vp(e):Z1(e,t)}function Z1(e,t){e._writableState="erroring",e._writableStoredError=t,!function(r){return r._writableHasInFlightOperation}(e)&&e._writableStarted&&Vp(e)}function Vp(e){e._writableState="errored"}function km(e){e._writableState==="erroring"&&Vp(e)}Object.defineProperties(Sa.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),wt(Sa.prototype.enqueue,"enqueue"),wt(Sa.prototype.error,"error"),wt(Sa.prototype.terminate,"terminate"),typeof mt.toStringTag=="symbol"&&Object.defineProperty(Sa.prototype,mt.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});var eb=65536;async function*EI(e){let t=e.byteOffset+e.byteLength,r=e.byteOffset;for(;r!==t;){let n=Math.min(t-r,eb),i=e.buffer.slice(r,r+n);r+=i.byteLength,yield new Uint8Array(i)}}async function*SI(e){let t=0;for(;t!==e.size;){let r=await e.slice(t,Math.min(e.size,t+eb)).arrayBuffer();t+=r.byteLength,yield new Uint8Array(r)}}async function*bd(e,t=!1){for(let r of e)ArrayBuffer.isView(r)?t?yield*EI(r):yield r:Or(r.stream)?yield*r.stream():yield*SI(r)}function*CI(e,t,r=0,n){n??(n=t);let i=r<0?Math.max(t+r,0):Math.min(r,t),u=n<0?Math.max(t+n,0):Math.min(n,t),c=Math.max(u-i,0),s=0;for(let h of e){if(s>=c)break;let a=ArrayBuffer.isView(h)?h.byteLength:h.size;if(i&&a<=i)i-=a,u-=a;else{let d;ArrayBuffer.isView(h)?(d=h.subarray(i,Math.min(a,u)),s+=d.byteLength):(d=h.slice(i,Math.min(a,u)),s+=d.size),u-=a,i=0,yield d}}}var xo=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},Om=function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},ya,lc,mu,jc=class Gd{static[(ya=new WeakMap,lc=new WeakMap,mu=new WeakMap,Symbol.hasInstance)](t){return!!(t&&typeof t=="object"&&Or(t.constructor)&&(Or(t.stream)||Or(t.arrayBuffer))&&/^(Blob|File)$/.test(t[Symbol.toStringTag]))}constructor(t=[],r={}){if(ya.set(this,[]),lc.set(this,""),mu.set(this,0),r??(r={}),typeof t!="object"||t===null)throw new TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if(!Or(t[Symbol.iterator]))throw new TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if(typeof r!="object"&&!Or(r))throw new TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");let n=new TextEncoder;for(let u of t){let c;ArrayBuffer.isView(u)?c=new Uint8Array(u.buffer.slice(u.byteOffset,u.byteOffset+u.byteLength)):u instanceof ArrayBuffer?c=new Uint8Array(u.slice(0)):u instanceof Gd?c=u:c=n.encode(String(u)),Om(this,mu,xo(this,mu,"f")+(ArrayBuffer.isView(c)?c.byteLength:c.size),"f"),xo(this,ya,"f").push(c)}let i=r.type===void 0?"":String(r.type);Om(this,lc,/^[\x20-\x7E]*$/.test(i)?i:"","f")}get type(){return xo(this,lc,"f")}get size(){return xo(this,mu,"f")}slice(t,r,n){return new Gd(CI(xo(this,ya,"f"),this.size,t,r),{type:n})}async text(){let t=new TextDecoder,r="";for await(let n of bd(xo(this,ya,"f")))r+=t.decode(n,{stream:!0});return r+=t.decode(),r}async arrayBuffer(){let t=new Uint8Array(this.size),r=0;for await(let n of bd(xo(this,ya,"f")))t.set(n,r),r+=n.length;return t.buffer}stream(){let t=bd(xo(this,ya,"f"),!0);return new jr({async pull(r){let{value:n,done:i}=await t.next();if(i)return queueMicrotask(()=>r.close());r.enqueue(n)},async cancel(){await t.return()}})}get[Symbol.toStringTag](){return"Blob"}};Object.defineProperties(jc.prototype,{type:{enumerable:!0},size:{enumerable:!0},slice:{enumerable:!0},stream:{enumerable:!0},text:{enumerable:!0},arrayBuffer:{enumerable:!0}});var TI=e=>e instanceof jc,Pm=function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},Bm=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},cc,hc,qc=class extends jc{static[(cc=new WeakMap,hc=new WeakMap,Symbol.hasInstance)](e){return e instanceof jc&&e[Symbol.toStringTag]==="File"&&typeof e.name=="string"}constructor(e,t,r={}){if(super(e,r),cc.set(this,void 0),hc.set(this,0),arguments.length<2)throw new TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);Pm(this,cc,String(t),"f");let n=r.lastModified===void 0?Date.now():Number(r.lastModified);Number.isNaN(n)||Pm(this,hc,n,"f")}get name(){return Bm(this,cc,"f")}get webkitRelativePath(){return""}get lastModified(){return Bm(this,hc,"f")}get[Symbol.toStringTag](){return"File"}},RI=e=>e instanceof qc,Ei=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},fc,Si,_d,Lm=class{constructor(){fc.add(this),Si.set(this,new Map)}static[(Si=new WeakMap,fc=new WeakSet,Symbol.hasInstance)](e){if(!e)return!1;let t=e;return!!(Or(t.constructor)&&t[Symbol.toStringTag]==="FormData"&&Or(t.append)&&Or(t.set)&&Or(t.get)&&Or(t.getAll)&&Or(t.has)&&Or(t.delete)&&Or(t.entries)&&Or(t.values)&&Or(t.keys)&&Or(t[Symbol.iterator])&&Or(t.forEach))}append(e,t,r){Ei(this,fc,"m",_d).call(this,{name:e,fileName:r,append:!0,rawValue:t,argsLength:arguments.length})}set(e,t,r){Ei(this,fc,"m",_d).call(this,{name:e,fileName:r,append:!1,rawValue:t,argsLength:arguments.length})}get(e){let t=Ei(this,Si,"f").get(String(e));return t?t[0]:null}getAll(e){let t=Ei(this,Si,"f").get(String(e));return t?t.slice():[]}has(e){return Ei(this,Si,"f").has(String(e))}delete(e){Ei(this,Si,"f").delete(String(e))}*keys(){for(let e of Ei(this,Si,"f").keys())yield e}*entries(){for(let e of this.keys()){let t=this.getAll(e);for(let r of t)yield[e,r]}}*values(){for(let[,e]of this)yield e}[(_d=function({name:e,rawValue:t,append:r,fileName:n,argsLength:i}){let u=r?"append":"set";if(i<2)throw new TypeError(`Failed to execute '${u}' on 'FormData': 2 arguments required, but only ${i} present.`);e=String(e);let c;if(RI(t))c=n===void 0?t:new qc([t],n,{type:t.type,lastModified:t.lastModified});else if(TI(t))c=new qc([t],n===void 0?"blob":n,{type:t.type});else{if(n)throw new TypeError(`Failed to execute '${u}' on 'FormData': parameter 2 is not of type 'Blob'.`);c=String(t)}let s=Ei(this,Si,"f").get(e);if(!s)return void Ei(this,Si,"f").set(e,[c]);if(!r)return void Ei(this,Si,"f").set(e,[c]);s.push(c)},Symbol.iterator)](){return this.entries()}forEach(e,t){for(let[r,n]of this)e.call(t,n,r,this)}get[Symbol.toStringTag](){return"FormData"}},II=require("node:fs"),tb=require("node:fs/promises"),AI=require("node:path"),kI=qt(D3(),1),OI=e=>Object.prototype.toString.call(e).slice(8,-1).toLowerCase();function PI(e){if(OI(e)!=="object")return!1;let t=Object.getPrototypeOf(e);return t==null?!0:(t.constructor&&t.constructor.toString())===Object.toString()}var BI=PI,Nm=function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},ga=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},ma,us,LI="The requested file could not be read, typically due to permission problems that have occurred after a reference to a file was acquired.",NI=class rb{constructor(t){ma.set(this,void 0),us.set(this,void 0),Nm(this,ma,t.path,"f"),Nm(this,us,t.start||0,"f"),this.name=(0,AI.basename)(ga(this,ma,"f")),this.size=t.size,this.lastModified=t.lastModified}slice(t,r){return new rb({path:ga(this,ma,"f"),lastModified:this.lastModified,start:ga(this,us,"f")+t,size:r-t})}async*stream(){let{mtimeMs:t}=await(0,tb.stat)(ga(this,ma,"f"));if(t>this.lastModified)throw new kI.default(LI,"NotReadableError");this.size&&(yield*(0,II.createReadStream)(ga(this,ma,"f"),{start:ga(this,us,"f"),end:ga(this,us,"f")+this.size-1}))}get[(ma=new WeakMap,us=new WeakMap,Symbol.toStringTag)](){return"File"}};function xI(e,{mtimeMs:t,size:r},n,i={}){let u;BI(n)?[i,u]=[n,void 0]:u=n;let c=new NI({path:e,size:r,lastModified:t});return u||(u=c.name),new qc([c],u,{...i,lastModified:c.lastModified})}async function UI(e,t,r){let n=await(0,tb.stat)(e);return xI(e,n,t,r)}var DI=qt(w6(),1);async function jI(e,t,r){for(let n=0;n<t;n++){if(await e())return!0;await new Promise(i=>setTimeout(i,r))}return!1}var Fp={apiKey:"API Key is required. To get one: https://addons.mozilla.org/en-US/developers/addon/api/key",apiSecret:"API Secret is required. To get one: https://addons.mozilla.org/en-US/developers/addon/api/key"},qI=Object.keys(Fp),dc="https://addons.mozilla.org/api",MI=class{options={};get productEndpoint(){return`${dc}/v5/addons/addon/${encodeURIComponent(this.options.extId)}`}constructor(e){for(let t of qI)if(!e[t])throw new Error(Fp[t]);this.options={...e},typeof this.options.extId=="string"&&this.options.extId.length>0&&!this.options.extId.includes("@")&&(this.options.extId.startsWith("{")||(this.options.extId="{"+e.extId),this.options.extId.endsWith("}")||(this.options.extId+="}")),this.options.channel=e.channel||"listed",this.options.license==="inherit"?delete this.options.license:this.options.license=this.options.license||"all-rights-reserved"}submit=async({filePath:e,version:t="1.0.0"})=>{let r=await this.uploadFile({filePath:e});if(!await jI(async()=>(await this.getUpload({uploadUuid:r.uuid})).valid,8,2400))throw new Error("Upload has not been validated in time.");return await this.createVersion({uploadUuid:r.uuid,version:t})};uploadFile=async({filePath:e})=>{let t=await this.getAccessToken(),r=`${dc}/v5/addons/upload/`,n=new Lm;n.append("upload",await UI(e)),n.append("channel",this.options.channel);let i=await vn.post(r,{body:n,headers:{Authorization:`JWT ${t}`},throwHttpErrors:!1});if(i.statusCode>=400)throw i.statusCode===401?new Error("Invalid access token"):i.statusCode===403?new Error("You do not own this add-on"):new Error(JSON.parse(i.body).error||"Unknown error");return JSON.parse(i.body)};createVersion=async({uploadUuid:e,version:t})=>{let r=await this.getAccessToken(),n=`${this.productEndpoint}/versions/`,i=new Lm;i.append("upload",e),this.options.license&&i.append("license",this.options.license);let u=await vn.post(n,{body:i,headers:{Authorization:`JWT ${r}`},throwHttpErrors:!1});if(u.statusCode>=400)throw u.statusCode===401?new Error("Invalid access token"):u.statusCode===403?new Error("You do not own this add-on"):u.statusCode===409?new Error(`Version ${t} already exists`):(console.log(u.body),new Error(JSON.parse(u.body).error||"Unknown error"));return JSON.parse(u.body)};getUpload=async({uploadUuid:e})=>{let t=await this.getAccessToken(),r=`${dc}/v5/addons/upload/${e}`;return vn.get(r,{headers:{Authorization:`JWT ${t}`}}).json()};getVersion=async({version:e="1.0.0"})=>{let t=await this.getAccessToken(),r=`${this.productEndpoint}/versions/${encodeURIComponent(e)}/`;return vn.get(r,{headers:{Authorization:`JWT ${t}`}}).json()};getProfile=async()=>{let e=await this.getAccessToken(),t=`${dc}/v5/accounts/profile`;return vn.get(t,{headers:{Authorization:`JWT ${e}`}}).json()};getAccessToken=async()=>{let e=Math.floor(Date.now()/1e3),t={iss:this.options.apiKey,jti:Math.random().toString(),iat:e,exp:e+60*5};return DI.default.sign(t,this.options.apiSecret,{algorithm:"HS256"})}},Pu="firefox",VI=Zc(Pu);async function FI({extId:e,zip:t,dryRun:r,...n}){let i=Xc(t),u=i.browser_specific_settings?.gecko?.id||i.applications?.gecko?.id||e,c=new MI({extId:u,...n});if(VI(`Updating extension with ID ${u}`),r)return!0;try{return await c.submit({filePath:t,version:i.version}),Jc({extId:u,market:Pu,zip:t}),!0}catch(s){throw eh(s,Pu,`"${u}" (${i.name})`)}}async function $I(e){return e.zip=Mu(e),e.verbose&&Vu(Pu),Fu({market:Pu,options:e,errorMap:Fp}),FI(e)}var zI={packageId:"No package ID is provided, e.g. https://addons.opera.com/developer/package/PACKAGE_ID",sessionid:`No "sessionid" is provided. If you have a hard time obtaining it, run:
web-ext-deploy --get-cookies=opera`,csrftoken:`No "csrftoken" is provided. If you have a hard time obtaining it, run:
web-ext-deploy --get-cookies=opera`},xm="opera";async function HI(e){throw e.zip=Mu(e),e.changelog&&(e.changelog=e.changelog.replace(/\/\/n/g,`
`)),e.verbose&&Vu(xm),Fu({market:xm,options:e,errorMap:zI}),new Error("Opera submission is not supported at this time, due to lack of automation API - their CSRF token and cookies expires in 24 hours. It will be faster to just drag/drop the zip on their dev portal.")}var KI=require("fs/promises"),WI=require("node:events");function GI(e){return W.object(e)&&"_onResponse"in e}var Sr=class extends Error{constructor(e,t,r){if(super(e),Object.defineProperty(this,"input",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stack",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"response",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Error.captureStackTrace(this,this.constructor),this.name="RequestError",this.code=t.code??"ERR_GOT_REQUEST_ERROR",this.input=t.input,GI(r)?(Object.defineProperty(this,"request",{enumerable:!1,value:r}),Object.defineProperty(this,"response",{enumerable:!1,value:r.response}),this.options=r.options):this.options=r,this.timings=this.request?.timings,W.string(t.stack)&&W.string(this.stack)){let n=this.stack.indexOf(this.message)+this.message.length,i=this.stack.slice(n).split(`
`).reverse(),u=t.stack.slice(t.stack.indexOf(t.message)+t.message.length).split(`
`).reverse();for(;u.length>0&&u[0]===i[0];)i.shift();this.stack=`${this.stack.slice(0,n)}${i.reverse().join(`
`)}${u.reverse().join(`
`)}`}}},QI=class extends Sr{constructor(e){super(`Redirected ${e.options.maxRedirects} times. Aborting.`,{},e),this.name="MaxRedirectsError",this.code="ERR_TOO_MANY_REDIRECTS"}},Mc=class extends Sr{constructor(e){super(`Response code ${e.statusCode} (${e.statusMessage})`,{},e.request),this.name="HTTPError",this.code="ERR_NON_2XX_3XX_RESPONSE"}},YI=class extends Sr{constructor(e,t){super(e.message,e,t),this.name="CacheError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_CACHE_ACCESS":this.code}},Um=class extends Sr{constructor(e,t){super(e.message,e,t),this.name="UploadError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_UPLOAD":this.code}},XI=class extends Sr{constructor(e,t,r){super(e.message,e,r),Object.defineProperty(this,"timings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"event",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="TimeoutError",this.event=e.event,this.timings=t}},Dm=class extends Sr{constructor(e,t){super(e.message,e,t),this.name="ReadError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_READING_RESPONSE_STREAM":this.code}},JI=class extends Sr{constructor(e){super("Retrying",{},e),this.name="RetryError",this.code="ERR_RETRYING"}},ZI=class extends Sr{constructor(e){super("This operation was aborted.",{},e),this.code="ERR_ABORTED",this.name="AbortError"}},nb=qt(require("node:process"),1),wd=require("node:buffer"),eA=require("node:stream"),jm=require("node:url"),Ed=qt(require("node:http"),1),tA=qt(rv(),1),rA=qt(nv(),1),nA=require("node:buffer"),iA=require("node:util");function ib(e){return W.nodeStream(e)&&W.function_(e.getBoundary)}async function oA(e,t){if(t&&"content-length"in t)return Number(t["content-length"]);if(!e)return 0;if(W.string(e))return nA.Buffer.byteLength(e);if(W.buffer(e))return e.length;if(ib(e))return(0,iA.promisify)(e.getLength.bind(e))()}function ob(e,t,r){let n={};for(let i of r){let u=(...c)=>{t.emit(i,...c)};n[i]=u,e.on(i,u)}return()=>{for(let[i,u]of Object.entries(n))e.off(i,u)}}var aA=qt(require("node:net"),1);function sA(){let e=[];return{once(t,r,n){t.once(r,n),e.push({origin:t,event:r,fn:n})},unhandleAll(){for(let t of e){let{origin:r,event:n,fn:i}=t;r.removeListener(n,i)}e.length=0}}}var qm=Symbol("reentry"),uA=()=>{},ab=class extends Error{constructor(e,t){super(`Timeout awaiting '${t}' for ${e}ms`),Object.defineProperty(this,"event",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="TimeoutError",this.code="ETIMEDOUT"}};function lA(e,t,r){if(qm in e)return uA;e[qm]=!0;let n=[],{once:i,unhandleAll:u}=sA(),c=(m,T,O)=>{let k=setTimeout(T,m,m,O);k.unref?.();let y=()=>{clearTimeout(k)};return n.push(y),y},{host:s,hostname:h}=r,a=(m,T)=>{e.destroy(new ab(m,T))},d=()=>{for(let m of n)m();u()};if(e.once("error",m=>{if(d(),e.listenerCount("error")===0)throw m}),typeof t.request<"u"){let m=c(t.request,a,"request");i(e,"response",T=>{i(T,"end",m)})}if(typeof t.socket<"u"){let{socket:m}=t,T=()=>{a(m,"socket")};e.setTimeout(m,T),n.push(()=>{e.removeListener("timeout",T)})}let f=typeof t.lookup<"u",g=typeof t.connect<"u",R=typeof t.secureConnect<"u",S=typeof t.send<"u";return(f||g||R||S)&&i(e,"socket",m=>{let{socketPath:T}=e;if(m.connecting){let O=!!(T??aA.default.isIP(h??s??"")!==0);if(f&&!O&&typeof m.address().address>"u"){let k=c(t.lookup,a,"lookup");i(m,"lookup",k)}if(g){let k=()=>c(t.connect,a,"connect");O?i(m,"connect",k()):i(m,"lookup",y=>{y===null&&i(m,"connect",k())})}R&&r.protocol==="https:"&&i(m,"connect",()=>{let k=c(t.secureConnect,a,"secureConnect");i(m,"secureConnect",k)})}if(S){let O=()=>c(t.send,a,"send");m.connecting?i(m,"connect",()=>{i(e,"upload-complete",O())}):i(e,"upload-complete",O())}}),typeof t.response<"u"&&i(e,"upload-complete",()=>{let m=c(t.response,a,"response");i(e,"response",m)}),typeof t.read<"u"&&i(e,"response",m=>{let T=c(t.read,a,"read");i(m,"end",T)}),d}function cA(e){e=e;let t={protocol:e.protocol,hostname:W.string(e.hostname)&&e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,host:e.host,hash:e.hash,search:e.search,pathname:e.pathname,href:e.href,path:`${e.pathname||""}${e.search||""}`};return W.string(e.port)&&e.port.length>0&&(t.port=Number(e.port)),(e.username||e.password)&&(t.auth=`${e.username||""}:${e.password||""}`),t}var hA=class{constructor(){Object.defineProperty(this,"weakMap",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"map",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.weakMap=new WeakMap,this.map=new Map}set(e,t){typeof e=="object"?this.weakMap.set(e,t):this.map.set(e,t)}get(e){return typeof e=="object"?this.weakMap.get(e):this.map.get(e)}has(e){return typeof e=="object"?this.weakMap.has(e):this.map.has(e)}},fA=({attemptCount:e,retryOptions:t,error:r,retryAfter:n,computedValue:i})=>{if(r.name==="RetryError")return 1;if(e>t.limit)return 0;let u=t.methods.includes(r.options.method),c=t.errorCodes.includes(r.code),s=r.response&&t.statusCodes.includes(r.response.statusCode);if(!u||!c&&!s)return 0;if(r.response){if(n)return n>i?0:n;if(r.response.statusCode===413)return 0}let h=Math.random()*t.noise;return Math.min(2**(e-1)*1e3,t.backoffLimit)+h},dA=fA,pA=qt(require("node:process"),1),Sd=require("node:util"),Ca=require("node:url"),yA=require("node:tls"),gA=qt(require("node:http"),1),mA=qt(require("node:https"),1),vA=qt(yv(),1);function bA(e){let t=[],r=e.split(",");for(let n of r){let[i,...u]=n.split(";"),c=i.trim();if(c[0]!=="<"||c[c.length-1]!==">")throw new Error(`Invalid format of the Link header reference: ${c}`);let s=c.slice(1,-1),h={};if(u.length===0)throw new Error(`Unexpected end of Link header parameters: ${u.join(";")}`);for(let a of u){let d=a.trim(),f=d.indexOf("=");if(f===-1)throw new Error(`Failed to parse Link header: ${e}`);let g=d.slice(0,f).trim(),R=d.slice(f+1).trim();h[g]=R}t.push({reference:s,parameters:h})}return t}var[Mm,_A]=pA.default.versions.node.split(".").map(Number);function wA(e){for(let t in e){let r=e[t];ue.any([W.string,W.number,W.boolean,W.null_,W.undefined],r)}}var EA=new Map,Cd,SA=()=>Cd||(Cd=new zv,Cd),CA={request:void 0,agent:{http:void 0,https:void 0,http2:void 0},h2session:void 0,decompress:!0,timeout:{connect:void 0,lookup:void 0,read:void 0,request:void 0,response:void 0,secureConnect:void 0,send:void 0,socket:void 0},prefixUrl:"",body:void 0,form:void 0,json:void 0,cookieJar:void 0,ignoreInvalidCookies:!1,searchParams:void 0,dnsLookup:void 0,dnsCache:void 0,context:{},hooks:{init:[],beforeRequest:[],beforeError:[],beforeRedirect:[],beforeRetry:[],afterResponse:[]},followRedirect:!0,maxRedirects:10,cache:void 0,throwHttpErrors:!0,username:"",password:"",http2:!1,allowGetBody:!1,headers:{"user-agent":"got (https://github.com/sindresorhus/got)"},methodRewriting:!1,dnsLookupIpVersion:void 0,parseJson:JSON.parse,stringifyJson:JSON.stringify,retry:{limit:2,methods:["GET","PUT","HEAD","DELETE","OPTIONS","TRACE"],statusCodes:[408,413,429,500,502,503,504,521,522,524],errorCodes:["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"],maxRetryAfter:void 0,calculateDelay:({computedValue:e})=>e,backoffLimit:Number.POSITIVE_INFINITY,noise:100},localAddress:void 0,method:"GET",createConnection:void 0,cacheOptions:{shared:void 0,cacheHeuristic:void 0,immutableMinTimeToLive:void 0,ignoreCargoCult:void 0},https:{alpnProtocols:void 0,rejectUnauthorized:void 0,checkServerIdentity:void 0,certificateAuthority:void 0,key:void 0,certificate:void 0,passphrase:void 0,pfx:void 0,ciphers:void 0,honorCipherOrder:void 0,minVersion:void 0,maxVersion:void 0,signatureAlgorithms:void 0,tlsSessionLifetime:void 0,dhparam:void 0,ecdhCurve:void 0,certificateRevocationLists:void 0},encoding:void 0,resolveBodyOnly:!1,isStream:!1,responseType:"text",url:void 0,pagination:{transform(e){return e.request.options.responseType==="json"?e.body:JSON.parse(e.body)},paginate({response:e}){let t=e.headers.link;if(typeof t!="string"||t.trim()==="")return!1;let r=bA(t).find(n=>n.parameters.rel==="next"||n.parameters.rel==='"next"');return r?{url:new Ca.URL(r.reference,e.url)}:!1},filter:()=>!0,shouldContinue:()=>!0,countLimit:Number.POSITIVE_INFINITY,backoff:0,requestLimit:1e4,stackAllItems:!1},setHost:!0,maxHeaderSize:void 0,signal:void 0,enableUnixSockets:!0},TA=e=>{let{hooks:t,retry:r}=e,n={...e,context:{...e.context},cacheOptions:{...e.cacheOptions},https:{...e.https},agent:{...e.agent},headers:{...e.headers},retry:{...r,errorCodes:[...r.errorCodes],methods:[...r.methods],statusCodes:[...r.statusCodes]},timeout:{...e.timeout},hooks:{init:[...t.init],beforeRequest:[...t.beforeRequest],beforeError:[...t.beforeError],beforeRedirect:[...t.beforeRedirect],beforeRetry:[...t.beforeRetry],afterResponse:[...t.afterResponse]},searchParams:e.searchParams?new Ca.URLSearchParams(e.searchParams):void 0,pagination:{...e.pagination}};return n.url!==void 0&&(n.prefixUrl=""),n},RA=e=>{let{hooks:t,retry:r}=e,n={...e};return W.object(e.context)&&(n.context={...e.context}),W.object(e.cacheOptions)&&(n.cacheOptions={...e.cacheOptions}),W.object(e.https)&&(n.https={...e.https}),W.object(e.cacheOptions)&&(n.cacheOptions={...n.cacheOptions}),W.object(e.agent)&&(n.agent={...e.agent}),W.object(e.headers)&&(n.headers={...e.headers}),W.object(r)&&(n.retry={...r},W.array(r.errorCodes)&&(n.retry.errorCodes=[...r.errorCodes]),W.array(r.methods)&&(n.retry.methods=[...r.methods]),W.array(r.statusCodes)&&(n.retry.statusCodes=[...r.statusCodes])),W.object(e.timeout)&&(n.timeout={...e.timeout}),W.object(t)&&(n.hooks={...t},W.array(t.init)&&(n.hooks.init=[...t.init]),W.array(t.beforeRequest)&&(n.hooks.beforeRequest=[...t.beforeRequest]),W.array(t.beforeError)&&(n.hooks.beforeError=[...t.beforeError]),W.array(t.beforeRedirect)&&(n.hooks.beforeRedirect=[...t.beforeRedirect]),W.array(t.beforeRetry)&&(n.hooks.beforeRetry=[...t.beforeRetry]),W.array(t.afterResponse)&&(n.hooks.afterResponse=[...t.afterResponse])),W.object(e.pagination)&&(n.pagination={...e.pagination}),n},IA=e=>{let t=[e.timeout.socket,e.timeout.connect,e.timeout.lookup,e.timeout.request,e.timeout.secureConnect].filter(r=>typeof r=="number");if(t.length>0)return Math.min(...t)},Vm=(e,t,r)=>{let n=e.hooks?.init;if(n)for(let i of n)i(t,r)},ms=class Sc{constructor(t,r,n){if(Object.defineProperty(this,"_unixOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_internals",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_merging",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_init",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),ue.any([W.string,W.urlInstance,W.object,W.undefined],t),ue.any([W.object,W.undefined],r),ue.any([W.object,W.undefined],n),t instanceof Sc||r instanceof Sc)throw new TypeError("The defaults must be passed as the third argument");this._internals=TA(n?._internals??n??CA),this._init=[...n?._init??[]],this._merging=!1,this._unixOptions=void 0;try{if(W.plainObject(t))try{this.merge(t),this.merge(r)}finally{this.url=t.url}else try{this.merge(r)}finally{if(r?.url!==void 0)if(t===void 0)this.url=r.url;else throw new TypeError("The `url` option is mutually exclusive with the `input` argument");else t!==void 0&&(this.url=t)}}catch(i){throw i.options=this,i}}merge(t){if(t){if(t instanceof Sc){for(let r of t._init)this.merge(r);return}t=RA(t),Vm(this,t,this),Vm(t,t,this),this._merging=!0,"isStream"in t&&(this.isStream=t.isStream);try{let r=!1;for(let n in t)if(!(n==="mutableDefaults"||n==="handlers")&&n!=="url"){if(!(n in this))throw new Error(`Unexpected option: ${n}`);this[n]=t[n],r=!0}r&&this._init.push(t)}finally{this._merging=!1}}}get request(){return this._internals.request}set request(t){ue.any([W.function_,W.undefined],t),this._internals.request=t}get agent(){return this._internals.agent}set agent(t){ue.plainObject(t);for(let r in t){if(!(r in this._internals.agent))throw new TypeError(`Unexpected agent option: ${r}`);ue.any([W.object,W.undefined],t[r])}this._merging?Object.assign(this._internals.agent,t):this._internals.agent={...t}}get h2session(){return this._internals.h2session}set h2session(t){this._internals.h2session=t}get decompress(){return this._internals.decompress}set decompress(t){ue.boolean(t),this._internals.decompress=t}get timeout(){return this._internals.timeout}set timeout(t){ue.plainObject(t);for(let r in t){if(!(r in this._internals.timeout))throw new Error(`Unexpected timeout option: ${r}`);ue.any([W.number,W.undefined],t[r])}this._merging?Object.assign(this._internals.timeout,t):this._internals.timeout={...t}}get prefixUrl(){return this._internals.prefixUrl}set prefixUrl(t){if(ue.any([W.string,W.urlInstance],t),t===""){this._internals.prefixUrl="";return}if(t=t.toString(),t.endsWith("/")||(t+="/"),this._internals.prefixUrl&&this._internals.url){let{href:r}=this._internals.url;this._internals.url.href=t+r.slice(this._internals.prefixUrl.length)}this._internals.prefixUrl=t}get body(){return this._internals.body}set body(t){ue.any([W.string,W.buffer,W.nodeStream,W.generator,W.asyncGenerator,ju,W.undefined],t),W.nodeStream(t)&&ue.truthy(t.readable),t!==void 0&&(ue.undefined(this._internals.form),ue.undefined(this._internals.json)),this._internals.body=t}get form(){return this._internals.form}set form(t){ue.any([W.plainObject,W.undefined],t),t!==void 0&&(ue.undefined(this._internals.body),ue.undefined(this._internals.json)),this._internals.form=t}get json(){return this._internals.json}set json(t){t!==void 0&&(ue.undefined(this._internals.body),ue.undefined(this._internals.form)),this._internals.json=t}get url(){return this._internals.url}set url(t){if(ue.any([W.string,W.urlInstance,W.undefined],t),t===void 0){this._internals.url=void 0;return}if(W.string(t)&&t.startsWith("/"))throw new Error("`url` must not start with a slash");let r=`${this.prefixUrl}${t.toString()}`,n=new Ca.URL(r);if(this._internals.url=n,n.protocol==="unix:"&&(n.href=`http://unix${n.pathname}${n.search}`),n.protocol!=="http:"&&n.protocol!=="https:"){let i=new Error(`Unsupported protocol: ${n.protocol}`);throw i.code="ERR_UNSUPPORTED_PROTOCOL",i}if(this._internals.username&&(n.username=this._internals.username,this._internals.username=""),this._internals.password&&(n.password=this._internals.password,this._internals.password=""),this._internals.searchParams&&(n.search=this._internals.searchParams.toString(),this._internals.searchParams=void 0),n.hostname==="unix"){if(!this._internals.enableUnixSockets)throw new Error("Using UNIX domain sockets but option `enableUnixSockets` is not enabled");let i=/(?<socketPath>.+?):(?<path>.+)/.exec(`${n.pathname}${n.search}`);if(i?.groups){let{socketPath:u,path:c}=i.groups;this._unixOptions={socketPath:u,path:c,host:""}}else this._unixOptions=void 0;return}this._unixOptions=void 0}get cookieJar(){return this._internals.cookieJar}set cookieJar(t){if(ue.any([W.object,W.undefined],t),t===void 0){this._internals.cookieJar=void 0;return}let{setCookie:r,getCookieString:n}=t;ue.function_(r),ue.function_(n),r.length===4&&n.length===0?(r=(0,Sd.promisify)(r.bind(t)),n=(0,Sd.promisify)(n.bind(t)),this._internals.cookieJar={setCookie:r,getCookieString:n}):this._internals.cookieJar=t}get signal(){return this._internals.signal}set signal(t){ue.object(t),this._internals.signal=t}get ignoreInvalidCookies(){return this._internals.ignoreInvalidCookies}set ignoreInvalidCookies(t){ue.boolean(t),this._internals.ignoreInvalidCookies=t}get searchParams(){return this._internals.url?this._internals.url.searchParams:(this._internals.searchParams===void 0&&(this._internals.searchParams=new Ca.URLSearchParams),this._internals.searchParams)}set searchParams(t){ue.any([W.string,W.object,W.undefined],t);let r=this._internals.url;if(t===void 0){this._internals.searchParams=void 0,r&&(r.search="");return}let n=this.searchParams,i;if(W.string(t))i=new Ca.URLSearchParams(t);else if(t instanceof Ca.URLSearchParams)i=t;else{wA(t),i=new Ca.URLSearchParams;for(let u in t){let c=t[u];c===null?i.append(u,""):c===void 0?n.delete(u):i.append(u,c)}}if(this._merging){for(let u of i.keys())n.delete(u);for(let[u,c]of i)n.append(u,c)}else r?r.search=n.toString():this._internals.searchParams=n}get searchParameters(){throw new Error("The `searchParameters` option does not exist. Use `searchParams` instead.")}set searchParameters(t){throw new Error("The `searchParameters` option does not exist. Use `searchParams` instead.")}get dnsLookup(){return this._internals.dnsLookup}set dnsLookup(t){ue.any([W.function_,W.undefined],t),this._internals.dnsLookup=t}get dnsCache(){return this._internals.dnsCache}set dnsCache(t){ue.any([W.object,W.boolean,W.undefined],t),t===!0?this._internals.dnsCache=SA():t===!1?this._internals.dnsCache=void 0:this._internals.dnsCache=t}get context(){return this._internals.context}set context(t){ue.object(t),this._merging?Object.assign(this._internals.context,t):this._internals.context={...t}}get hooks(){return this._internals.hooks}set hooks(t){ue.object(t);for(let r in t){if(!(r in this._internals.hooks))throw new Error(`Unexpected hook event: ${r}`);let n=r,i=t[n];if(ue.any([W.array,W.undefined],i),i)for(let u of i)ue.function_(u);if(this._merging)i&&this._internals.hooks[n].push(...i);else{if(!i)throw new Error(`Missing hook event: ${r}`);this._internals.hooks[r]=[...i]}}}get followRedirect(){return this._internals.followRedirect}set followRedirect(t){ue.boolean(t),this._internals.followRedirect=t}get followRedirects(){throw new TypeError("The `followRedirects` option does not exist. Use `followRedirect` instead.")}set followRedirects(t){throw new TypeError("The `followRedirects` option does not exist. Use `followRedirect` instead.")}get maxRedirects(){return this._internals.maxRedirects}set maxRedirects(t){ue.number(t),this._internals.maxRedirects=t}get cache(){return this._internals.cache}set cache(t){ue.any([W.object,W.string,W.boolean,W.undefined],t),t===!0?this._internals.cache=EA:t===!1?this._internals.cache=void 0:this._internals.cache=t}get throwHttpErrors(){return this._internals.throwHttpErrors}set throwHttpErrors(t){ue.boolean(t),this._internals.throwHttpErrors=t}get username(){let t=this._internals.url,r=t?t.username:this._internals.username;return decodeURIComponent(r)}set username(t){ue.string(t);let r=this._internals.url,n=encodeURIComponent(t);r?r.username=n:this._internals.username=n}get password(){let t=this._internals.url,r=t?t.password:this._internals.password;return decodeURIComponent(r)}set password(t){ue.string(t);let r=this._internals.url,n=encodeURIComponent(t);r?r.password=n:this._internals.password=n}get http2(){return this._internals.http2}set http2(t){ue.boolean(t),this._internals.http2=t}get allowGetBody(){return this._internals.allowGetBody}set allowGetBody(t){ue.boolean(t),this._internals.allowGetBody=t}get headers(){return this._internals.headers}set headers(t){ue.plainObject(t),this._merging?Object.assign(this._internals.headers,Ru(t)):this._internals.headers=Ru(t)}get methodRewriting(){return this._internals.methodRewriting}set methodRewriting(t){ue.boolean(t),this._internals.methodRewriting=t}get dnsLookupIpVersion(){return this._internals.dnsLookupIpVersion}set dnsLookupIpVersion(t){if(t!==void 0&&t!==4&&t!==6)throw new TypeError(`Invalid DNS lookup IP version: ${t}`);this._internals.dnsLookupIpVersion=t}get parseJson(){return this._internals.parseJson}set parseJson(t){ue.function_(t),this._internals.parseJson=t}get stringifyJson(){return this._internals.stringifyJson}set stringifyJson(t){ue.function_(t),this._internals.stringifyJson=t}get retry(){return this._internals.retry}set retry(t){if(ue.plainObject(t),ue.any([W.function_,W.undefined],t.calculateDelay),ue.any([W.number,W.undefined],t.maxRetryAfter),ue.any([W.number,W.undefined],t.limit),ue.any([W.array,W.undefined],t.methods),ue.any([W.array,W.undefined],t.statusCodes),ue.any([W.array,W.undefined],t.errorCodes),ue.any([W.number,W.undefined],t.noise),t.noise&&Math.abs(t.noise)>100)throw new Error(`The maximum acceptable retry noise is +/- 100ms, got ${t.noise}`);for(let n in t)if(!(n in this._internals.retry))throw new Error(`Unexpected retry option: ${n}`);this._merging?Object.assign(this._internals.retry,t):this._internals.retry={...t};let{retry:r}=this._internals;r.methods=[...new Set(r.methods.map(n=>n.toUpperCase()))],r.statusCodes=[...new Set(r.statusCodes)],r.errorCodes=[...new Set(r.errorCodes)]}get localAddress(){return this._internals.localAddress}set localAddress(t){ue.any([W.string,W.undefined],t),this._internals.localAddress=t}get method(){return this._internals.method}set method(t){ue.string(t),this._internals.method=t.toUpperCase()}get createConnection(){return this._internals.createConnection}set createConnection(t){ue.any([W.function_,W.undefined],t),this._internals.createConnection=t}get cacheOptions(){return this._internals.cacheOptions}set cacheOptions(t){ue.plainObject(t),ue.any([W.boolean,W.undefined],t.shared),ue.any([W.number,W.undefined],t.cacheHeuristic),ue.any([W.number,W.undefined],t.immutableMinTimeToLive),ue.any([W.boolean,W.undefined],t.ignoreCargoCult);for(let r in t)if(!(r in this._internals.cacheOptions))throw new Error(`Cache option \`${r}\` does not exist`);this._merging?Object.assign(this._internals.cacheOptions,t):this._internals.cacheOptions={...t}}get https(){return this._internals.https}set https(t){ue.plainObject(t),ue.any([W.boolean,W.undefined],t.rejectUnauthorized),ue.any([W.function_,W.undefined],t.checkServerIdentity),ue.any([W.string,W.object,W.array,W.undefined],t.certificateAuthority),ue.any([W.string,W.object,W.array,W.undefined],t.key),ue.any([W.string,W.object,W.array,W.undefined],t.certificate),ue.any([W.string,W.undefined],t.passphrase),ue.any([W.string,W.buffer,W.array,W.undefined],t.pfx),ue.any([W.array,W.undefined],t.alpnProtocols),ue.any([W.string,W.undefined],t.ciphers),ue.any([W.string,W.buffer,W.undefined],t.dhparam),ue.any([W.string,W.undefined],t.signatureAlgorithms),ue.any([W.string,W.undefined],t.minVersion),ue.any([W.string,W.undefined],t.maxVersion),ue.any([W.boolean,W.undefined],t.honorCipherOrder),ue.any([W.number,W.undefined],t.tlsSessionLifetime),ue.any([W.string,W.undefined],t.ecdhCurve),ue.any([W.string,W.buffer,W.array,W.undefined],t.certificateRevocationLists);for(let r in t)if(!(r in this._internals.https))throw new Error(`HTTPS option \`${r}\` does not exist`);this._merging?Object.assign(this._internals.https,t):this._internals.https={...t}}get encoding(){return this._internals.encoding}set encoding(t){if(t===null)throw new TypeError("To get a Buffer, set `options.responseType` to `buffer` instead");ue.any([W.string,W.undefined],t),this._internals.encoding=t}get resolveBodyOnly(){return this._internals.resolveBodyOnly}set resolveBodyOnly(t){ue.boolean(t),this._internals.resolveBodyOnly=t}get isStream(){return this._internals.isStream}set isStream(t){ue.boolean(t),this._internals.isStream=t}get responseType(){return this._internals.responseType}set responseType(t){if(t===void 0){this._internals.responseType="text";return}if(t!=="text"&&t!=="buffer"&&t!=="json")throw new Error(`Invalid \`responseType\` option: ${t}`);this._internals.responseType=t}get pagination(){return this._internals.pagination}set pagination(t){ue.object(t),this._merging?Object.assign(this._internals.pagination,t):this._internals.pagination=t}get auth(){throw new Error("Parameter `auth` is deprecated. Use `username` / `password` instead.")}set auth(t){throw new Error("Parameter `auth` is deprecated. Use `username` / `password` instead.")}get setHost(){return this._internals.setHost}set setHost(t){ue.boolean(t),this._internals.setHost=t}get maxHeaderSize(){return this._internals.maxHeaderSize}set maxHeaderSize(t){ue.any([W.number,W.undefined],t),this._internals.maxHeaderSize=t}get enableUnixSockets(){return this._internals.enableUnixSockets}set enableUnixSockets(t){ue.boolean(t),this._internals.enableUnixSockets=t}toJSON(){return{...this._internals}}[Symbol.for("nodejs.util.inspect.custom")](t,r){return(0,Sd.inspect)(this._internals,r)}createNativeRequestOptions(){let t=this._internals,r=t.url,n;r.protocol==="https:"?n=t.http2?t.agent:t.agent.https:n=t.agent.http;let{https:i}=t,{pfx:u}=i;return W.array(u)&&W.plainObject(u[0])&&(u=u.map(c=>({buf:c.buffer,passphrase:c.passphrase}))),{...t.cacheOptions,...this._unixOptions,ALPNProtocols:i.alpnProtocols,ca:i.certificateAuthority,cert:i.certificate,key:i.key,passphrase:i.passphrase,pfx:i.pfx,rejectUnauthorized:i.rejectUnauthorized,checkServerIdentity:i.checkServerIdentity??yA.checkServerIdentity,ciphers:i.ciphers,honorCipherOrder:i.honorCipherOrder,minVersion:i.minVersion,maxVersion:i.maxVersion,sigalgs:i.signatureAlgorithms,sessionTimeout:i.tlsSessionLifetime,dhparam:i.dhparam,ecdhCurve:i.ecdhCurve,crl:i.certificateRevocationLists,lookup:t.dnsLookup??t.dnsCache?.lookup,family:t.dnsLookupIpVersion,agent:n,setHost:t.setHost,method:t.method,maxHeaderSize:t.maxHeaderSize,localAddress:t.localAddress,headers:t.headers,createConnection:t.createConnection,timeout:t.http2?IA(t):void 0,h2session:t.h2session}}getRequestFunction(){let t=this._internals.url,{request:r}=this._internals;return!r&&t?this.getFallbackRequestFunction():r}getFallbackRequestFunction(){let t=this._internals.url;if(t){if(t.protocol==="https:"){if(this._internals.http2){if(Mm<15||Mm===15&&_A<10){let r=new Error("To use the `http2` option, install Node.js 15.10.0 or above");throw r.code="EUNSUPPORTED",r}return vA.default.auto}return mA.default.request}return gA.default.request}}freeze(){let t=this._internals;Object.freeze(t),Object.freeze(t.hooks),Object.freeze(t.hooks.afterResponse),Object.freeze(t.hooks.beforeError),Object.freeze(t.hooks.beforeRedirect),Object.freeze(t.hooks.beforeRequest),Object.freeze(t.hooks.beforeRetry),Object.freeze(t.hooks.init),Object.freeze(t.https),Object.freeze(t.cacheOptions),Object.freeze(t.agent),Object.freeze(t.headers),Object.freeze(t.timeout),Object.freeze(t.retry),Object.freeze(t.retry.errorCodes),Object.freeze(t.retry.methods),Object.freeze(t.retry.statusCodes)}},Vc=e=>{let{statusCode:t}=e,r=e.request.options.followRedirect?299:399;return t>=200&&t<=r||t===304},Fm=class extends Sr{constructor(e,t){let{options:r}=t.request;super(`${e.message} in "${r.url.toString()}"`,e,t.request),this.name="ParseError",this.code="ERR_BODY_PARSE_FAILURE"}},$m=(e,t,r,n)=>{let{rawBody:i}=e;try{if(t==="text")return i.toString(n);if(t==="json")return i.length===0?"":r(i.toString(n));if(t==="buffer")return i}catch(u){throw new Fm(u,e)}throw new Fm({message:`Unknown body type '${t}'`,name:"Error"},e)};function AA(e){return e.writable&&!e.writableEnded}var kA=AA;function zm(e){return e.protocol==="unix:"||e.hostname==="unix"}var OA=W.string(nb.default.versions.brotli),PA=new Set(["GET","HEAD"]),Td=new hA,BA=new Set([300,301,302,303,304,307,308]),LA=["socket","connect","continue","information","upgrade"],pc=()=>{},sb=class ub extends eA.Duplex{constructor(t,r,n){super({autoDestroy:!1,highWaterMark:0}),Object.defineProperty(this,"constructor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_noPipe",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"response",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"requestUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"redirectUrls",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"retryCount",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_stopRetry",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downloadedSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_uploadedSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_stopReading",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_pipedServerResponses",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_responseSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_bodySize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_unproxyEvents",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isFromCache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_cannotHaveBody",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_triggerRead",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_cancelTimeouts",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_removeListeners",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_nativeResponse",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_flushed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_aborted",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_requestInitialized",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._downloadedSize=0,this._uploadedSize=0,this._stopReading=!1,this._pipedServerResponses=new Set,this._cannotHaveBody=!1,this._unproxyEvents=pc,this._triggerRead=!1,this._cancelTimeouts=pc,this._removeListeners=pc,this._jobs=[],this._flushed=!1,this._requestInitialized=!1,this._aborted=!1,this.redirectUrls=[],this.retryCount=0,this._stopRetry=pc,this.on("pipe",u=>{u.headers&&Object.assign(this.options.headers,u.headers)}),this.on("newListener",u=>{if(u==="retry"&&this.listenerCount("retry")>0)throw new Error("A retry listener has been attached already.")});try{if(this.options=new ms(t,r,n),!this.options.url){if(this.options.prefixUrl==="")throw new TypeError("Missing `url` property");this.options.url=""}this.requestUrl=this.options.url}catch(u){let{options:c}=u;c&&(this.options=c),this.flush=async()=>{this.flush=async()=>{},this.destroy(u)};return}let{body:i}=this.options;if(W.nodeStream(i)&&i.once("error",u=>{this._flushed?this._beforeError(new Um(u,this)):this.flush=async()=>{this.flush=async()=>{},this._beforeError(new Um(u,this))}}),this.options.signal){let u=()=>{this.destroy(new ZI(this))};this.options.signal.aborted?u():(this.options.signal.addEventListener("abort",u),this._removeListeners=()=>{this.options.signal.removeEventListener("abort",u)})}}async flush(){if(!this._flushed){this._flushed=!0;try{if(await this._finalizeBody(),this.destroyed)return;if(await this._makeRequest(),this.destroyed){this._request?.destroy();return}for(let t of this._jobs)t();this._jobs.length=0,this._requestInitialized=!0}catch(t){this._beforeError(t)}}}_beforeError(t){if(this._stopReading)return;let{response:r,options:n}=this,i=this.retryCount+(t.name==="RetryError"?0:1);this._stopReading=!0,t instanceof Sr||(t=new Sr(t.message,t,this));let u=t;(async()=>{if(r?.readable&&!r.rawBody&&!this._request?.socket?.destroyed&&(r.setEncoding(this.readableEncoding),await this._setRawBody(r)&&(r.body=r.rawBody.toString())),this.listenerCount("retry")!==0){let c;try{let s;r&&"retry-after"in r.headers&&(s=Number(r.headers["retry-after"]),Number.isNaN(s)?(s=Date.parse(r.headers["retry-after"])-Date.now(),s<=0&&(s=1)):s*=1e3);let h=n.retry;c=await h.calculateDelay({attemptCount:i,retryOptions:h,error:u,retryAfter:s,computedValue:dA({attemptCount:i,retryOptions:h,error:u,retryAfter:s,computedValue:h.maxRetryAfter??n.timeout.request??Number.POSITIVE_INFINITY})})}catch(s){this._error(new Sr(s.message,s,this));return}if(c){if(await new Promise(s=>{let h=setTimeout(s,c);this._stopRetry=()=>{clearTimeout(h),s()}}),this.destroyed)return;try{for(let s of this.options.hooks.beforeRetry)await s(u,this.retryCount+1)}catch(s){this._error(new Sr(s.message,t,this));return}if(this.destroyed)return;this.destroy(),this.emit("retry",this.retryCount+1,t,s=>{let h=new ub(n.url,s,n);return h.retryCount=this.retryCount+1,nb.default.nextTick(()=>{h.flush()}),h});return}}this._error(u)})()}_read(){this._triggerRead=!0;let{response:t}=this;if(t&&!this._stopReading){t.readableLength&&(this._triggerRead=!1);let r;for(;(r=t.read())!==null;){this._downloadedSize+=r.length;let n=this.downloadProgress;n.percent<1&&this.emit("downloadProgress",n),this.push(r)}}}_write(t,r,n){let i=()=>{this._writeRequest(t,r,n)};this._requestInitialized?i():this._jobs.push(i)}_final(t){let r=()=>{if(!this._request||this._request.destroyed){t();return}this._request.end(n=>{this._request._writableState?.errored||(n||(this._bodySize=this._uploadedSize,this.emit("uploadProgress",this.uploadProgress),this._request.emit("upload-complete")),t(n))})};this._requestInitialized?r():this._jobs.push(r)}_destroy(t,r){if(this._stopReading=!0,this.flush=async()=>{},this._stopRetry(),this._cancelTimeouts(),this._removeListeners(),this.options){let{body:n}=this.options;W.nodeStream(n)&&n.destroy()}this._request&&this._request.destroy(),t!==null&&!W.undefined(t)&&!(t instanceof Sr)&&(t=new Sr(t.message,t,this)),r(t)}pipe(t,r){return t instanceof Ed.ServerResponse&&this._pipedServerResponses.add(t),super.pipe(t,r)}unpipe(t){return t instanceof Ed.ServerResponse&&this._pipedServerResponses.delete(t),super.unpipe(t),this}async _finalizeBody(){let{options:t}=this,{headers:r}=t,n=!W.undefined(t.form),i=!W.undefined(t.json),u=!W.undefined(t.body),c=PA.has(t.method)&&!(t.method==="GET"&&t.allowGetBody);if(this._cannotHaveBody=c,n||i||u){if(c)throw new TypeError(`The \`${t.method}\` method cannot be used with a body`);let s=!W.string(r["content-type"]);if(u){if(ju(t.body)){let a=new Mv(t.body);s&&(r["content-type"]=a.headers["Content-Type"]),"Content-Length"in a.headers&&(r["content-length"]=a.headers["Content-Length"]),t.body=a.encode()}ib(t.body)&&s&&(r["content-type"]=`multipart/form-data; boundary=${t.body.getBoundary()}`)}else if(n){s&&(r["content-type"]="application/x-www-form-urlencoded");let{form:a}=t;t.form=void 0,t.body=new jm.URLSearchParams(a).toString()}else{s&&(r["content-type"]="application/json");let{json:a}=t;t.json=void 0,t.body=t.stringifyJson(a)}let h=await oA(t.body,t.headers);W.undefined(r["content-length"])&&W.undefined(r["transfer-encoding"])&&!c&&!W.undefined(h)&&(r["content-length"]=String(h))}t.responseType==="json"&&!("accept"in t.headers)&&(t.headers.accept="application/json"),this._bodySize=Number(r["content-length"])||void 0}async _onResponseBase(t){if(this.isAborted)return;let{options:r}=this,{url:n}=r;this._nativeResponse=t,r.decompress&&(t=(0,tA.default)(t));let i=t.statusCode,u=t;u.statusMessage=u.statusMessage??Ed.default.STATUS_CODES[i],u.url=r.url.toString(),u.requestUrl=this.requestUrl,u.redirectUrls=this.redirectUrls,u.request=this,u.isFromCache=this._nativeResponse.fromCache??!1,u.ip=this.ip,u.retryCount=this.retryCount,u.ok=Vc(u),this._isFromCache=u.isFromCache,this._responseSize=Number(t.headers["content-length"])||void 0,this.response=u,t.once("end",()=>{this._responseSize=this._downloadedSize,this.emit("downloadProgress",this.downloadProgress)}),t.once("error",s=>{this._aborted=!0,t.destroy(),this._beforeError(new Dm(s,this))}),t.once("aborted",()=>{this._aborted=!0,this._beforeError(new Dm({name:"Error",message:"The server aborted pending request",code:"ECONNRESET"},this))}),this.emit("downloadProgress",this.downloadProgress);let c=t.headers["set-cookie"];if(W.object(r.cookieJar)&&c){let s=c.map(async h=>r.cookieJar.setCookie(h,n.toString()));r.ignoreInvalidCookies&&(s=s.map(async h=>{try{await h}catch{}}));try{await Promise.all(s)}catch(h){this._beforeError(h);return}}if(!this.isAborted){if(r.followRedirect&&t.headers.location&&BA.has(i)){if(t.resume(),this._cancelTimeouts(),this._unproxyEvents(),this.redirectUrls.length>=r.maxRedirects){this._beforeError(new QI(this));return}this._request=void 0;let s=new ms(void 0,void 0,this.options),h=i===303&&s.method!=="GET"&&s.method!=="HEAD",a=i!==307&&i!==308,d=s.methodRewriting&&a;(h||d)&&(s.method="GET",s.body=void 0,s.json=void 0,s.form=void 0,delete s.headers["content-length"]);try{let f=wd.Buffer.from(t.headers.location,"binary").toString(),g=new jm.URL(f,n);if(!zm(n)&&zm(g)){this._beforeError(new Sr("Cannot redirect to UNIX socket",{},this));return}g.hostname!==n.hostname||g.port!==n.port?("host"in s.headers&&delete s.headers.host,"cookie"in s.headers&&delete s.headers.cookie,"authorization"in s.headers&&delete s.headers.authorization,(s.username||s.password)&&(s.username="",s.password="")):(g.username=s.username,g.password=s.password),this.redirectUrls.push(g),s.prefixUrl="",s.url=g;for(let R of s.hooks.beforeRedirect)await R(s,u);this.emit("redirect",s,u),this.options=s,await this._makeRequest()}catch(f){this._beforeError(f);return}return}if(r.isStream&&r.throwHttpErrors&&!Vc(u)){this._beforeError(new Mc(u));return}if(t.on("readable",()=>{this._triggerRead&&this._read()}),this.on("resume",()=>{t.resume()}),this.on("pause",()=>{t.pause()}),t.once("end",()=>{this.push(null)}),this._noPipe){await this._setRawBody()&&this.emit("response",t);return}this.emit("response",t);for(let s of this._pipedServerResponses)if(!s.headersSent){for(let h in t.headers){let a=r.decompress?h!=="content-encoding":!0,d=t.headers[h];a&&s.setHeader(h,d)}s.statusCode=i}}}async _setRawBody(t=this){if(t.readableEnded)return!1;try{let r=await(0,rA.buffer)(t);if(!this.isAborted)return this.response.rawBody=r,!0}catch{}return!1}async _onResponse(t){try{await this._onResponseBase(t)}catch(r){this._beforeError(r)}}_onRequest(t){let{options:r}=this,{timeout:n,url:i}=r;Dv(t),this.options.http2&&t.setTimeout(0),this._cancelTimeouts=lA(t,n,i);let u=r.cache?"cacheableResponse":"response";t.once(u,c=>{this._onResponse(c)}),t.once("error",c=>{this._aborted=!0,t.destroy(),c=c instanceof ab?new XI(c,this.timings,this):new Sr(c.message,c,this),this._beforeError(c)}),this._unproxyEvents=ob(t,this,LA),this._request=t,this.emit("uploadProgress",this.uploadProgress),this._sendBody(),this.emit("request",t)}async _asyncWrite(t){return new Promise((r,n)=>{super.write(t,i=>{if(i){n(i);return}r()})})}_sendBody(){let{body:t}=this.options,r=this.redirectUrls.length===0?this:this._request??this;W.nodeStream(t)?t.pipe(r):W.generator(t)||W.asyncGenerator(t)?(async()=>{try{for await(let n of t)await this._asyncWrite(n);super.end()}catch(n){this._beforeError(n)}})():W.undefined(t)?(this._cannotHaveBody||this._noPipe)&&r.end():(this._writeRequest(t,void 0,()=>{}),r.end())}_prepareCache(t){if(!Td.has(t)){let r=new qv((n,i)=>{let u=n._request(n,i);return W.promise(u)&&(u.once=(c,s)=>{if(c==="error")(async()=>{try{await u}catch(h){s(h)}})();else if(c==="abort")(async()=>{try{(await u).once("abort",s)}catch{}})();else throw new Error(`Unknown HTTP2 promise event: ${c}`);return u}),u},t);Td.set(t,r.request())}}async _createCacheableRequest(t,r){return new Promise((n,i)=>{Object.assign(r,cA(t));let u,c=Td.get(r.cache)(r,async s=>{if(s._readableState.autoDestroy=!1,u){let h=()=>{s.req&&(s.complete=s.req.res.complete)};s.prependOnceListener("end",h),h(),(await u).emit("cacheableResponse",s)}n(s)});c.once("error",i),c.once("request",async s=>{u=s,n(u)})})}async _makeRequest(){let{options:t}=this,{headers:r,username:n,password:i}=t,u=t.cookieJar;for(let a in r)if(W.undefined(r[a]))delete r[a];else if(W.null_(r[a]))throw new TypeError(`Use \`undefined\` instead of \`null\` to delete the \`${a}\` header`);if(t.decompress&&W.undefined(r["accept-encoding"])&&(r["accept-encoding"]=OA?"gzip, deflate, br":"gzip, deflate"),n||i){let a=wd.Buffer.from(`${n}:${i}`).toString("base64");r.authorization=`Basic ${a}`}if(u){let a=await u.getCookieString(t.url.toString());W.nonEmptyString(a)&&(r.cookie=a)}t.prefixUrl="";let c;for(let a of t.hooks.beforeRequest){let d=await a(t);if(!W.undefined(d)){c=()=>d;break}}c||(c=t.getRequestFunction());let s=t.url;this._requestOptions=t.createNativeRequestOptions(),t.cache&&(this._requestOptions._request=c,this._requestOptions.cache=t.cache,this._requestOptions.body=t.body,this._prepareCache(t.cache));let h=t.cache?this._createCacheableRequest:c;try{let a=h(s,this._requestOptions);W.promise(a)&&(a=await a),W.undefined(a)&&(a=t.getFallbackRequestFunction()(s,this._requestOptions),W.promise(a)&&(a=await a)),kA(a)?this._onRequest(a):this.writable?(this.once("finish",()=>{this._onResponse(a)}),this._sendBody()):this._onResponse(a)}catch(a){throw a instanceof cs?new YI(a,this):a}}async _error(t){try{if(!(t instanceof Mc&&!this.options.throwHttpErrors))for(let r of this.options.hooks.beforeError)t=await r(t)}catch(r){t=new Sr(r.message,r,this)}this.destroy(t)}_writeRequest(t,r,n){!this._request||this._request.destroyed||this._request.write(t,r,i=>{if(!i&&!this._request.destroyed){this._uploadedSize+=wd.Buffer.byteLength(t,r);let u=this.uploadProgress;u.percent<1&&this.emit("uploadProgress",u)}n(i)})}get ip(){return this.socket?.remoteAddress}get isAborted(){return this._aborted}get socket(){return this._request?.socket??void 0}get downloadProgress(){let t;return this._responseSize?t=this._downloadedSize/this._responseSize:this._responseSize===this._downloadedSize?t=1:t=0,{percent:t,transferred:this._downloadedSize,total:this._responseSize}}get uploadProgress(){let t;return this._bodySize?t=this._uploadedSize/this._bodySize:this._bodySize===this._uploadedSize?t=1:t=0,{percent:t,transferred:this._uploadedSize,total:this._bodySize}}get timings(){return this._request?.timings}get isFromCache(){return this._isFromCache}get reusedSocket(){return this._request?.reusedSocket}},NA=class extends Sr{constructor(e){super("Promise was canceled",{},e),this.name="CancelError",this.code="ERR_CANCELED"}get isCanceled(){return!0}},xA=["request","response","redirect","uploadProgress","downloadProgress"];function Hm(e){let t,r,n,i=new WI.EventEmitter,u=new bp((s,h,a)=>{a(()=>{t.destroy()}),a.shouldReject=!1,a(()=>{h(new NA(t))});let d=f=>{a(()=>{});let g=e??new sb(void 0,void 0,n);g.retryCount=f,g._noPipe=!0,t=g,g.once("response",async m=>{let T=(m.headers["content-encoding"]??"").toLowerCase(),O=T==="gzip"||T==="deflate"||T==="br",{options:k}=g;if(O&&!k.decompress)m.body=m.rawBody;else try{m.body=$m(m,k.responseType,k.parseJson,k.encoding)}catch(y){if(m.body=m.rawBody.toString(),Vc(m)){g._beforeError(y);return}}try{let y=k.hooks.afterResponse;for(let[I,w]of y.entries())if(m=await w(m,async L=>{throw k.merge(L),k.prefixUrl="",L.url&&(k.url=L.url),k.hooks.afterResponse=k.hooks.afterResponse.slice(0,I),new JI(g)}),!(W.object(m)&&W.number(m.statusCode)&&!W.nullOrUndefined(m.body)))throw new TypeError("The `afterResponse` hook returned an invalid value")}catch(y){g._beforeError(y);return}if(r=m,!Vc(m)){g._beforeError(new Mc(m));return}g.destroy(),s(g.options.resolveBodyOnly?m.body:m)});let R=m=>{if(u.isCanceled)return;let{options:T}=g;if(m instanceof Mc&&!T.throwHttpErrors){let{response:O}=m;g.destroy(),s(g.options.resolveBodyOnly?O.body:O);return}h(m)};g.once("error",R);let S=g.options?.body;g.once("retry",(m,T)=>{e=void 0;let O=g.options.body;if(S===O&&W.nodeStream(O)){T.message="Cannot retry with consumed body stream",R(T);return}n=g.options,d(m)}),ob(g,i,xA),W.undefined(e)&&g.flush()};d(0)});u.on=(s,h)=>(i.on(s,h),u),u.off=(s,h)=>(i.off(s,h),u);let c=s=>{let h=(async()=>{await u;let{options:a}=r.request;return $m(r,s,a.parseJson,a.encoding)})();return Object.defineProperties(h,Object.getOwnPropertyDescriptors(u)),h};return u.json=()=>{if(t.options){let{headers:s}=t.options;!t.writableFinished&&!("accept"in s)&&(s.accept="application/json")}return c("json")},u.buffer=()=>c("buffer"),u.text=()=>c("text"),u}var UA=async e=>new Promise(t=>{setTimeout(t,e)}),DA=e=>W.function_(e),jA=["get","post","put","patch","head","delete"],lb=e=>{e={options:new ms(void 0,void 0,e.options),handlers:[...e.handlers],mutableDefaults:e.mutableDefaults},Object.defineProperty(e,"mutableDefaults",{enumerable:!0,configurable:!1,writable:!1});let t=(n,i,u=e.options)=>{let c=new sb(n,i,u),s,h=f=>(c.options=f,c._noPipe=!f.isStream,c.flush(),f.isStream?c:(s||(s=Hm(c)),s)),a=0,d=f=>{let g=(e.handlers[a++]??h)(f,d);if(W.promise(g)&&!c.options.isStream&&(s||(s=Hm(c)),g!==s)){let R=Object.getOwnPropertyDescriptors(s);for(let S in R)S in g&&delete R[S];Object.defineProperties(g,R),g.cancel=s.cancel}return g};return d(c.options)};t.extend=(...n)=>{let i=new ms(void 0,void 0,e.options),u=[...e.handlers],c;for(let s of n)DA(s)?(i.merge(s.defaults.options),u.push(...s.defaults.handlers),c=s.defaults.mutableDefaults):(i.merge(s),s.handlers&&u.push(...s.handlers),c=s.mutableDefaults);return lb({options:i,handlers:u,mutableDefaults:!!c})};let r=async function*(n,i){let u=new ms(n,i,e.options);u.resolveBodyOnly=!1;let{pagination:c}=u;ue.function_(c.transform),ue.function_(c.shouldContinue),ue.function_(c.filter),ue.function_(c.paginate),ue.number(c.countLimit),ue.number(c.requestLimit),ue.number(c.backoff);let s=[],{countLimit:h}=c,a=0;for(;a<c.requestLimit;){a!==0&&await UA(c.backoff);let d=await t(void 0,void 0,u),f=await c.transform(d),g=[];ue.array(f);for(let S of f)if(c.filter({item:S,currentItems:g,allItems:s})&&(!c.shouldContinue({item:S,currentItems:g,allItems:s})||(yield S,c.stackAllItems&&s.push(S),g.push(S),--h<=0)))return;let R=c.paginate({response:d,currentItems:g,allItems:s});if(R===!1)return;R===d.request.options?u=d.request.options:(u.merge(R),ue.any([W.urlInstance,W.undefined],R.url),R.url!==void 0&&(u.prefixUrl="",u.url=R.url)),a++}};t.paginate=r,t.paginate.all=async(n,i)=>{let u=[];for await(let c of r(n,i))u.push(c);return u},t.paginate.each=r,t.stream=(n,i)=>t(n,{...i,isStream:!0});for(let n of jA)t[n]=(i,u)=>t(i,{...u,method:n}),t.stream[n]=(i,u)=>t(i,{...u,method:n,isStream:!0});return e.mutableDefaults||(Object.freeze(e.handlers),e.options.freeze()),Object.defineProperty(t,"defaults",{value:e,writable:!1,configurable:!1,enumerable:!0}),t},qA=lb,MA={options:new ms,handlers:[],mutableDefaults:!1},VA=qA(MA),Qd=VA,FA=require("module"),Fc=require("path"),cb=require("crypto"),$A=Object.create,hb=Object.defineProperty,zA=Object.getOwnPropertyDescriptor,HA=Object.getOwnPropertyNames,KA=Object.getPrototypeOf,WA=Object.prototype.hasOwnProperty,vs=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')}),Qe=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),GA=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of HA(t))!WA.call(e,i)&&i!==r&&hb(e,i,{get:()=>t[i],enumerable:!(n=zA(t,i))||n.enumerable});return e},Rs=(e,t,r)=>(r=e!=null?$A(KA(e)):{},GA(t||!e||!e.__esModule?hb(r,"default",{value:e,enumerable:!0}):r,e)),QA=Qe((e,t)=>{(function(r,n){typeof e=="object"&&typeof t<"u"?n(e):typeof define=="function"&&define.amd?define(["exports"],n):(r=typeof globalThis<"u"?globalThis:r||self,n(r.WebStreamsPolyfill={}))})(e,function(r){"use strict";let n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:_=>`Symbol(${_})`;function i(){}function u(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}let c=u();function s(_){return typeof _=="object"&&_!==null||typeof _=="function"}let h=i,a=Promise,d=Promise.prototype.then,f=Promise.resolve.bind(a),g=Promise.reject.bind(a);function R(_){return new a(_)}function S(_){return f(_)}function m(_){return g(_)}function T(_,P,H){return d.call(_,P,H)}function O(_,P,H){T(T(_,P,H),void 0,h)}function k(_,P){O(_,P)}function y(_,P){O(_,void 0,P)}function I(_,P,H){return T(_,P,H)}function w(_){T(_,void 0,h)}let L=(()=>{let _=c&&c.queueMicrotask;if(typeof _=="function")return _;let P=S(void 0);return H=>T(P,H)})();function N(_,P,H){if(typeof _!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(_,P,H)}function C(_,P,H){try{return S(N(_,P,H))}catch(re){return m(re)}}let v=16384;class p{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(P){let H=this._back,re=H;H._elements.length===v-1&&(re={_elements:[],_next:void 0}),H._elements.push(P),re!==H&&(this._back=re,H._next=re),++this._size}shift(){let P=this._front,H=P,re=this._cursor,de=re+1,be=P._elements,Oe=be[re];return de===v&&(H=P._next,de=0),--this._size,this._cursor=de,P!==H&&(this._front=H),be[re]=void 0,Oe}forEach(P){let H=this._cursor,re=this._front,de=re._elements;for(;(H!==de.length||re._next!==void 0)&&!(H===de.length&&(re=re._next,de=re._elements,H=0,de.length===0));)P(de[H]),++H}peek(){let P=this._front,H=this._cursor;return P._elements[H]}}function q(_,P){_._ownerReadableStream=P,P._reader=_,P._state==="readable"?B(_):P._state==="closed"?j(_):D(_,P._storedError)}function V(_,P){let H=_._ownerReadableStream;return He(H,P)}function z(_){_._ownerReadableStream._state==="readable"?M(_,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):ee(_,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),_._ownerReadableStream._reader=void 0,_._ownerReadableStream=void 0}function E(_){return new TypeError("Cannot "+_+" a stream using a released reader")}function B(_){_._closedPromise=R((P,H)=>{_._closedPromise_resolve=P,_._closedPromise_reject=H})}function D(_,P){B(_),M(_,P)}function j(_){B(_),oe(_)}function M(_,P){_._closedPromise_reject!==void 0&&(w(_._closedPromise),_._closedPromise_reject(P),_._closedPromise_resolve=void 0,_._closedPromise_reject=void 0)}function ee(_,P){D(_,P)}function oe(_){_._closedPromise_resolve!==void 0&&(_._closedPromise_resolve(void 0),_._closedPromise_resolve=void 0,_._closedPromise_reject=void 0)}let ce=n("[[AbortSteps]]"),pe=n("[[ErrorSteps]]"),me=n("[[CancelSteps]]"),ke=n("[[PullSteps]]"),Pe=Number.isFinite||function(_){return typeof _=="number"&&isFinite(_)},Ce=Math.trunc||function(_){return _<0?Math.ceil(_):Math.floor(_)};function Ke(_){return typeof _=="object"||typeof _=="function"}function Re(_,P){if(_!==void 0&&!Ke(_))throw new TypeError(`${P} is not an object.`)}function et(_,P){if(typeof _!="function")throw new TypeError(`${P} is not a function.`)}function Je(_){return typeof _=="object"&&_!==null||typeof _=="function"}function x(_,P){if(!Je(_))throw new TypeError(`${P} is not an object.`)}function X(_,P,H){if(_===void 0)throw new TypeError(`Parameter ${P} is required in '${H}'.`)}function Q(_,P,H){if(_===void 0)throw new TypeError(`${P} is required in '${H}'.`)}function A(_){return Number(_)}function K(_){return _===0?0:_}function ae(_){return K(Ce(_))}function te(_,P){let H=Number.MAX_SAFE_INTEGER,re=Number(_);if(re=K(re),!Pe(re))throw new TypeError(`${P} is not a finite number`);if(re=ae(re),re<0||re>H)throw new TypeError(`${P} is outside the accepted range of 0 to ${H}, inclusive`);return!Pe(re)||re===0?0:re}function Ee(_,P){if(!ye(_))throw new TypeError(`${P} is not a ReadableStream.`)}function Ue(_){return new rt(_)}function qe(_,P){_._reader._readRequests.push(P)}function ge(_,P,H){let re=_._reader._readRequests.shift();H?re._closeSteps():re._chunkSteps(P)}function Ne(_){return _._reader._readRequests.length}function We(_){let P=_._reader;return!(P===void 0||!ze(P))}class rt{constructor(P){if(X(P,1,"ReadableStreamDefaultReader"),Ee(P,"First parameter"),De(P))throw new TypeError("This stream has already been locked for exclusive reading by another reader");q(this,P),this._readRequests=new p}get closed(){return ze(this)?this._closedPromise:m(St("closed"))}cancel(P=void 0){return ze(this)?this._ownerReadableStream===void 0?m(E("cancel")):V(this,P):m(St("cancel"))}read(){if(!ze(this))return m(St("read"));if(this._ownerReadableStream===void 0)return m(E("read from"));let P,H,re=R((de,be)=>{P=de,H=be});return kt(this,{_chunkSteps:de=>P({value:de,done:!1}),_closeSteps:()=>P({value:void 0,done:!0}),_errorSteps:de=>H(de)}),re}releaseLock(){if(!ze(this))throw St("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");z(this)}}}Object.defineProperties(rt.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(rt.prototype,n.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});function ze(_){return!s(_)||!Object.prototype.hasOwnProperty.call(_,"_readRequests")?!1:_ instanceof rt}function kt(_,P){let H=_._ownerReadableStream;H._disturbed=!0,H._state==="closed"?P._closeSteps():H._state==="errored"?P._errorSteps(H._storedError):H._readableStreamController[ke](P)}function St(_){return new TypeError(`ReadableStreamDefaultReader.prototype.${_} can only be used on a ReadableStreamDefaultReader`)}let Ct=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype);class Bt{constructor(P,H){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=P,this._preventCancel=H}next(){let P=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?I(this._ongoingPromise,P,P):P(),this._ongoingPromise}return(P){let H=()=>this._returnSteps(P);return this._ongoingPromise?I(this._ongoingPromise,H,H):H()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});let P=this._reader;if(P._ownerReadableStream===void 0)return m(E("iterate"));let H,re,de=R((be,Oe)=>{H=be,re=Oe});return kt(P,{_chunkSteps:be=>{this._ongoingPromise=void 0,L(()=>H({value:be,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,z(P),H({value:void 0,done:!0})},_errorSteps:be=>{this._ongoingPromise=void 0,this._isFinished=!0,z(P),re(be)}}),de}_returnSteps(P){if(this._isFinished)return Promise.resolve({value:P,done:!0});this._isFinished=!0;let H=this._reader;if(H._ownerReadableStream===void 0)return m(E("finish iterating"));if(!this._preventCancel){let re=V(H,P);return z(H),I(re,()=>({value:P,done:!0}))}return z(H),S({value:P,done:!0})}}let Ot={next(){return zt(this)?this._asyncIteratorImpl.next():m(Xt("next"))},return(_){return zt(this)?this._asyncIteratorImpl.return(_):m(Xt("return"))}};Ct!==void 0&&Object.setPrototypeOf(Ot,Ct);function Lt(_,P){let H=Ue(_),re=new Bt(H,P),de=Object.create(Ot);return de._asyncIteratorImpl=re,de}function zt(_){if(!s(_)||!Object.prototype.hasOwnProperty.call(_,"_asyncIteratorImpl"))return!1;try{return _._asyncIteratorImpl instanceof Bt}catch{return!1}}function Xt(_){return new TypeError(`ReadableStreamAsyncIterator.${_} can only be used on a ReadableSteamAsyncIterator`)}let Ht=Number.isNaN||function(_){return _!==_};function Kt(_){return _.slice()}function lr(_,P,H,re,de){new Uint8Array(_).set(new Uint8Array(H,re,de),P)}function Cr(_){return _}function gr(_){return!1}function qr(_,P,H){if(_.slice)return _.slice(P,H);let re=H-P,de=new ArrayBuffer(re);return lr(de,0,_,P,re),de}function un(_){return!(typeof _!="number"||Ht(_)||_<0)}function Qr(_){let P=qr(_.buffer,_.byteOffset,_.byteOffset+_.byteLength);return new Uint8Array(P)}function Yr(_){let P=_._queue.shift();return _._queueTotalSize-=P.size,_._queueTotalSize<0&&(_._queueTotalSize=0),P.value}function _n(_,P,H){if(!un(H)||H===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");_._queue.push({value:P,size:H}),_._queueTotalSize+=H}function li(_){return _._queue.peek().value}function Mr(_){_._queue=new p,_._queueTotalSize=0}class Nn{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!Jt(this))throw go("view");return this._view}respond(P){if(!Jt(this))throw go("respond");if(X(P,1,"respond"),P=te(P,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");gr(this._view.buffer),po(this._associatedReadableByteStreamController,P)}respondWithNewView(P){if(!Jt(this))throw go("respondWithNewView");if(X(P,1,"respondWithNewView"),!ArrayBuffer.isView(P))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");gr(P.buffer),yo(this._associatedReadableByteStreamController,P)}}Object.defineProperties(Nn.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(Nn.prototype,n.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class xt{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!Ut(this))throw br("byobRequest");return $o(this)}get desiredSize(){if(!Ut(this))throw br("desiredSize");return Bi(this)}close(){if(!Ut(this))throw br("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");let P=this._controlledReadableByteStream._state;if(P!=="readable")throw new TypeError(`The stream (in ${P} state) is not in the readable state and cannot be closed`);Pi(this)}enqueue(P){if(!Ut(this))throw br("enqueue");if(X(P,1,"enqueue"),!ArrayBuffer.isView(P))throw new TypeError("chunk must be an array buffer view");if(P.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(P.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");let H=this._controlledReadableByteStream._state;if(H!=="readable")throw new TypeError(`The stream (in ${H} state) is not in the readable state and cannot be enqueued to`);wn(this,P)}error(P=void 0){if(!Ut(this))throw br("error");Tr(this,P)}[me](P){Wt(this),Mr(this);let H=this._cancelAlgorithm(P);return fo(this),H}[ke](P){let H=this._controlledReadableByteStream;if(this._queueTotalSize>0){let de=this._queue.shift();this._queueTotalSize-=de.byteLength,ir(this);let be=new Uint8Array(de.buffer,de.byteOffset,de.byteLength);P._chunkSteps(be);return}let re=this._autoAllocateChunkSize;if(re!==void 0){let de;try{de=new ArrayBuffer(re)}catch(Oe){P._errorSteps(Oe);return}let be={buffer:de,bufferByteLength:re,byteOffset:0,byteLength:re,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(be)}qe(H,P),Dt(this)}}Object.defineProperties(xt.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(xt.prototype,n.toStringTag,{value:"ReadableByteStreamController",configurable:!0});function Ut(_){return!s(_)||!Object.prototype.hasOwnProperty.call(_,"_controlledReadableByteStream")?!1:_ instanceof xt}function Jt(_){return!s(_)||!Object.prototype.hasOwnProperty.call(_,"_associatedReadableByteStreamController")?!1:_ instanceof Nn}function Dt(_){if(!As(_))return;if(_._pulling){_._pullAgain=!0;return}_._pulling=!0;let P=_._pullAlgorithm();O(P,()=>{_._pulling=!1,_._pullAgain&&(_._pullAgain=!1,Dt(_))},H=>{Tr(_,H)})}function Wt(_){er(_),_._pendingPullIntos=new p}function Zt(_,P){let H=!1;_._state==="closed"&&(H=!0);let re=Gt(P);P.readerType==="default"?ge(_,re,H):ks(_,re,H)}function Gt(_){let P=_.bytesFilled,H=_.elementSize;return new _.viewConstructor(_.buffer,_.byteOffset,P/H)}function Qt(_,P,H,re){_._queue.push({buffer:P,byteOffset:H,byteLength:re}),_._queueTotalSize+=re}function rr(_,P){let H=P.elementSize,re=P.bytesFilled-P.bytesFilled%H,de=Math.min(_._queueTotalSize,P.byteLength-P.bytesFilled),be=P.bytesFilled+de,Oe=be-be%H,Me=de,nt=!1;Oe>re&&(Me=Oe-P.bytesFilled,nt=!0);let at=_._queue;for(;Me>0;){let ct=at.peek(),dt=Math.min(Me,ct.byteLength),Ft=P.byteOffset+P.bytesFilled;lr(P.buffer,Ft,ct.buffer,ct.byteOffset,dt),ct.byteLength===dt?at.shift():(ct.byteOffset+=dt,ct.byteLength-=dt),_._queueTotalSize-=dt,nr(_,dt,P),Me-=dt}return nt}function nr(_,P,H){H.bytesFilled+=P}function ir(_){_._queueTotalSize===0&&_._closeRequested?(fo(_),ht(_._controlledReadableByteStream)):Dt(_)}function er(_){_._byobRequest!==null&&(_._byobRequest._associatedReadableByteStreamController=void 0,_._byobRequest._view=null,_._byobRequest=null)}function or(_){for(;_._pendingPullIntos.length>0;){if(_._queueTotalSize===0)return;let P=_._pendingPullIntos.peek();rr(_,P)&&(ho(_),Zt(_._controlledReadableByteStream,P))}}function cr(_,P,H){let re=_._controlledReadableByteStream,de=1;P.constructor!==DataView&&(de=P.constructor.BYTES_PER_ELEMENT);let be=P.constructor,Oe=P.buffer,Me={buffer:Oe,bufferByteLength:Oe.byteLength,byteOffset:P.byteOffset,byteLength:P.byteLength,bytesFilled:0,elementSize:de,viewConstructor:be,readerType:"byob"};if(_._pendingPullIntos.length>0){_._pendingPullIntos.push(Me),Ua(re,H);return}if(re._state==="closed"){let nt=new be(Me.buffer,Me.byteOffset,0);H._closeSteps(nt);return}if(_._queueTotalSize>0){if(rr(_,Me)){let nt=Gt(Me);ir(_),H._chunkSteps(nt);return}if(_._closeRequested){let nt=new TypeError("Insufficient bytes to fill elements in the given buffer");Tr(_,nt),H._errorSteps(nt);return}}_._pendingPullIntos.push(Me),Ua(re,H),Dt(_)}function $t(_,P){let H=_._controlledReadableByteStream;if($(H))for(;zo(H)>0;){let re=ho(_);Zt(H,re)}}function tr(_,P,H){if(nr(_,P,H),H.bytesFilled<H.elementSize)return;ho(_);let re=H.bytesFilled%H.elementSize;if(re>0){let de=H.byteOffset+H.bytesFilled,be=qr(H.buffer,de-re,de);Qt(_,be,0,be.byteLength)}H.bytesFilled-=re,Zt(_._controlledReadableByteStream,H),or(_)}function Pa(_,P){let H=_._pendingPullIntos.peek();er(_),_._controlledReadableByteStream._state==="closed"?$t(_):tr(_,P,H),Dt(_)}function ho(_){return _._pendingPullIntos.shift()}function As(_){let P=_._controlledReadableByteStream;return P._state!=="readable"||_._closeRequested||!_._started?!1:!!(We(P)&&Ne(P)>0||$(P)&&zo(P)>0||Bi(_)>0)}function fo(_){_._pullAlgorithm=void 0,_._cancelAlgorithm=void 0}function Pi(_){let P=_._controlledReadableByteStream;if(!(_._closeRequested||P._state!=="readable")){if(_._queueTotalSize>0){_._closeRequested=!0;return}if(_._pendingPullIntos.length>0&&_._pendingPullIntos.peek().bytesFilled>0){let H=new TypeError("Insufficient bytes to fill elements in the given buffer");throw Tr(_,H),H}fo(_),ht(P)}}function wn(_,P){let H=_._controlledReadableByteStream;if(_._closeRequested||H._state!=="readable")return;let re=P.buffer,de=P.byteOffset,be=P.byteLength,Oe=re;if(_._pendingPullIntos.length>0){let Me=_._pendingPullIntos.peek();gr(Me.buffer),Me.buffer=Me.buffer}if(er(_),We(H))if(Ne(H)===0)Qt(_,Oe,de,be);else{_._pendingPullIntos.length>0&&ho(_);let Me=new Uint8Array(Oe,de,be);ge(H,Me,!1)}else $(H)?(Qt(_,Oe,de,be),or(_)):Qt(_,Oe,de,be);Dt(_)}function Tr(_,P){let H=_._controlledReadableByteStream;H._state==="readable"&&(Wt(_),Mr(_),fo(_),hr(H,P))}function $o(_){if(_._byobRequest===null&&_._pendingPullIntos.length>0){let P=_._pendingPullIntos.peek(),H=new Uint8Array(P.buffer,P.byteOffset+P.bytesFilled,P.byteLength-P.bytesFilled),re=Object.create(Nn.prototype);Na(re,_,H),_._byobRequest=re}return _._byobRequest}function Bi(_){let P=_._controlledReadableByteStream._state;return P==="errored"?null:P==="closed"?0:_._strategyHWM-_._queueTotalSize}function po(_,P){let H=_._pendingPullIntos.peek();if(_._controlledReadableByteStream._state==="closed"){if(P!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(P===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(H.bytesFilled+P>H.byteLength)throw new RangeError("bytesWritten out of range")}H.buffer=H.buffer,Pa(_,P)}function yo(_,P){let H=_._pendingPullIntos.peek();if(_._controlledReadableByteStream._state==="closed"){if(P.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(P.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(H.byteOffset+H.bytesFilled!==P.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(H.bufferByteLength!==P.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(H.bytesFilled+P.byteLength>H.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");let re=P.byteLength;H.buffer=P.buffer,Pa(_,re)}function Ba(_,P,H,re,de,be,Oe){P._controlledReadableByteStream=_,P._pullAgain=!1,P._pulling=!1,P._byobRequest=null,P._queue=P._queueTotalSize=void 0,Mr(P),P._closeRequested=!1,P._started=!1,P._strategyHWM=be,P._pullAlgorithm=re,P._cancelAlgorithm=de,P._autoAllocateChunkSize=Oe,P._pendingPullIntos=new p,_._readableStreamController=P;let Me=H();O(S(Me),()=>{P._started=!0,Dt(P)},nt=>{Tr(P,nt)})}function La(_,P,H){let re=Object.create(xt.prototype),de=()=>{},be=()=>S(void 0),Oe=()=>S(void 0);P.start!==void 0&&(de=()=>P.start(re)),P.pull!==void 0&&(be=()=>P.pull(re)),P.cancel!==void 0&&(Oe=nt=>P.cancel(nt));let Me=P.autoAllocateChunkSize;if(Me===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");Ba(_,re,de,be,Oe,H,Me)}function Na(_,P,H){_._associatedReadableByteStreamController=P,_._view=H}function go(_){return new TypeError(`ReadableStreamBYOBRequest.prototype.${_} can only be used on a ReadableStreamBYOBRequest`)}function br(_){return new TypeError(`ReadableByteStreamController.prototype.${_} can only be used on a ReadableByteStreamController`)}function xa(_){return new G(_)}function Ua(_,P){_._reader._readIntoRequests.push(P)}function ks(_,P,H){let re=_._reader._readIntoRequests.shift();H?re._closeSteps(P):re._chunkSteps(P)}function zo(_){return _._reader._readIntoRequests.length}function $(_){let P=_._reader;return!(P===void 0||!Z(P))}class G{constructor(P){if(X(P,1,"ReadableStreamBYOBReader"),Ee(P,"First parameter"),De(P))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!Ut(P._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");q(this,P),this._readIntoRequests=new p}get closed(){return Z(this)?this._closedPromise:m(_e("closed"))}cancel(P=void 0){return Z(this)?this._ownerReadableStream===void 0?m(E("cancel")):V(this,P):m(_e("cancel"))}read(P){if(!Z(this))return m(_e("read"));if(!ArrayBuffer.isView(P))return m(new TypeError("view must be an array buffer view"));if(P.byteLength===0)return m(new TypeError("view must have non-zero byteLength"));if(P.buffer.byteLength===0)return m(new TypeError("view's buffer must have non-zero byteLength"));if(gr(P.buffer),this._ownerReadableStream===void 0)return m(E("read from"));let H,re,de=R((be,Oe)=>{H=be,re=Oe});return le(this,P,{_chunkSteps:be=>H({value:be,done:!1}),_closeSteps:be=>H({value:be,done:!0}),_errorSteps:be=>re(be)}),de}releaseLock(){if(!Z(this))throw _e("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");z(this)}}}Object.defineProperties(G.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(G.prototype,n.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});function Z(_){return!s(_)||!Object.prototype.hasOwnProperty.call(_,"_readIntoRequests")?!1:_ instanceof G}function le(_,P,H){let re=_._ownerReadableStream;re._disturbed=!0,re._state==="errored"?H._errorSteps(re._storedError):cr(re._readableStreamController,P,H)}function _e(_){return new TypeError(`ReadableStreamBYOBReader.prototype.${_} can only be used on a ReadableStreamBYOBReader`)}function Te(_,P){let{highWaterMark:H}=_;if(H===void 0)return P;if(Ht(H)||H<0)throw new RangeError("Invalid highWaterMark");return H}function xe(_){let{size:P}=_;return P||(()=>1)}function Le(_,P){Re(_,P);let H=_?.highWaterMark,re=_?.size;return{highWaterMark:H===void 0?void 0:A(H),size:re===void 0?void 0:bt(re,`${P} has member 'size' that`)}}function bt(_,P){return et(_,P),H=>A(_(H))}function ar(_,P){Re(_,P);let H=_?.abort,re=_?.close,de=_?.start,be=_?.type,Oe=_?.write;return{abort:H===void 0?void 0:Rr(H,_,`${P} has member 'abort' that`),close:re===void 0?void 0:Pr(re,_,`${P} has member 'close' that`),start:de===void 0?void 0:ln(de,_,`${P} has member 'start' that`),write:Oe===void 0?void 0:ci(Oe,_,`${P} has member 'write' that`),type:be}}function Rr(_,P,H){return et(_,H),re=>C(_,P,[re])}function Pr(_,P,H){return et(_,H),()=>C(_,P,[])}function ln(_,P,H){return et(_,H),re=>N(_,P,[re])}function ci(_,P,H){return et(_,H),(re,de)=>C(_,P,[re,de])}function Ir(_,P){if(!Ni(_))throw new TypeError(`${P} is not a WritableStream.`)}function mr(_){if(typeof _!="object"||_===null)return!1;try{return typeof _.aborted=="boolean"}catch{return!1}}let Li=typeof AbortController=="function";function En(){if(Li)return new AbortController}class Gn{constructor(P={},H={}){P===void 0?P=null:x(P,"First parameter");let re=Le(H,"Second parameter"),de=ar(P,"First parameter");if(Ps(this),de.type!==void 0)throw new RangeError("Invalid type is specified");let be=xe(re),Oe=Te(re,1);Zu(this,de,Oe,be)}get locked(){if(!Ni(this))throw vo("locked");return mo(this)}abort(P=void 0){return Ni(this)?mo(this)?m(new TypeError("Cannot abort a stream that already has a writer")):Da(this,P):m(vo("abort"))}close(){return Ni(this)?mo(this)?m(new TypeError("Cannot close a stream that already has a writer")):xn(this)?m(new TypeError("Cannot close an already-closing stream")):Gu(this):m(vo("close"))}getWriter(){if(!Ni(this))throw vo("getWriter");return Os(this)}}Object.defineProperties(Gn.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(Gn.prototype,n.toStringTag,{value:"WritableStream",configurable:!0});function Os(_){return new Ho(_)}function Wu(_,P,H,re,de=1,be=()=>1){let Oe=Object.create(Gn.prototype);Ps(Oe);let Me=Object.create(fi.prototype);return js(Oe,Me,_,P,H,re,de,be),Oe}function Ps(_){_._state="writable",_._storedError=void 0,_._writer=void 0,_._writableStreamController=void 0,_._writeRequests=new p,_._inFlightWriteRequest=void 0,_._closeRequest=void 0,_._inFlightCloseRequest=void 0,_._pendingAbortRequest=void 0,_._backpressure=!1}function Ni(_){return!s(_)||!Object.prototype.hasOwnProperty.call(_,"_writableStreamController")?!1:_ instanceof Gn}function mo(_){return _._writer!==void 0}function Da(_,P){var H;if(_._state==="closed"||_._state==="errored")return S(void 0);_._writableStreamController._abortReason=P,(H=_._writableStreamController._abortController)===null||H===void 0||H.abort();let re=_._state;if(re==="closed"||re==="errored")return S(void 0);if(_._pendingAbortRequest!==void 0)return _._pendingAbortRequest._promise;let de=!1;re==="erroring"&&(de=!0,P=void 0);let be=R((Oe,Me)=>{_._pendingAbortRequest={_promise:void 0,_resolve:Oe,_reject:Me,_reason:P,_wasAlreadyErroring:de}});return _._pendingAbortRequest._promise=be,de||Ls(_,P),be}function Gu(_){let P=_._state;if(P==="closed"||P==="errored")return m(new TypeError(`The stream (in ${P} state) is not in the writable state and cannot be closed`));let H=R((de,be)=>{let Oe={_resolve:de,_reject:be};_._closeRequest=Oe}),re=_._writer;return re!==void 0&&_._backpressure&&P==="writable"&&Go(re),el(_._writableStreamController),H}function Qu(_){return R((P,H)=>{let re={_resolve:P,_reject:H};_._writeRequests.push(re)})}function Bs(_,P){if(_._state==="writable"){Ls(_,P);return}Ns(_)}function Ls(_,P){let H=_._writableStreamController;_._state="erroring",_._storedError=P;let re=_._writer;re!==void 0&&Ju(re,P),!yh(_)&&H._started&&Ns(_)}function Ns(_){_._state="errored",_._writableStreamController[pe]();let P=_._storedError;if(_._writeRequests.forEach(de=>{de._reject(P)}),_._writeRequests=new p,_._pendingAbortRequest===void 0){Tt(_);return}let H=_._pendingAbortRequest;if(_._pendingAbortRequest=void 0,H._wasAlreadyErroring){H._reject(P),Tt(_);return}let re=_._writableStreamController[ce](H._reason);O(re,()=>{H._resolve(),Tt(_)},de=>{H._reject(de),Tt(_)})}function fh(_){_._inFlightWriteRequest._resolve(void 0),_._inFlightWriteRequest=void 0}function xs(_,P){_._inFlightWriteRequest._reject(P),_._inFlightWriteRequest=void 0,Bs(_,P)}function dh(_){_._inFlightCloseRequest._resolve(void 0),_._inFlightCloseRequest=void 0,_._state==="erroring"&&(_._storedError=void 0,_._pendingAbortRequest!==void 0&&(_._pendingAbortRequest._resolve(),_._pendingAbortRequest=void 0)),_._state="closed";let P=_._writer;P!==void 0&&Vs(P)}function ph(_,P){_._inFlightCloseRequest._reject(P),_._inFlightCloseRequest=void 0,_._pendingAbortRequest!==void 0&&(_._pendingAbortRequest._reject(P),_._pendingAbortRequest=void 0),Bs(_,P)}function xn(_){return!(_._closeRequest===void 0&&_._inFlightCloseRequest===void 0)}function yh(_){return!(_._inFlightWriteRequest===void 0&&_._inFlightCloseRequest===void 0)}function gh(_){_._inFlightCloseRequest=_._closeRequest,_._closeRequest=void 0}function Vt(_){_._inFlightWriteRequest=_._writeRequests.shift()}function Tt(_){_._closeRequest!==void 0&&(_._closeRequest._reject(_._storedError),_._closeRequest=void 0);let P=_._writer;P!==void 0&&Ms(P,_._storedError)}function Us(_,P){let H=_._writer;H!==void 0&&P!==_._backpressure&&(P?il(H):Go(H)),_._backpressure=P}class Ho{constructor(P){if(X(P,1,"WritableStreamDefaultWriter"),Ir(P,"First parameter"),mo(P))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=P,P._writer=this;let H=P._state;if(H==="writable")!xn(P)&&P._backpressure?Di(this):nl(this),Ma(this);else if(H==="erroring")di(this,P._storedError),Ma(this);else if(H==="closed")nl(this),_h(this);else{let re=P._storedError;di(this,re),Va(this,re)}}get closed(){return xi(this)?this._closedPromise:m($r("closed"))}get desiredSize(){if(!xi(this))throw $r("desiredSize");if(this._ownerWritableStream===void 0)throw Ui("desiredSize");return vr(this)}get ready(){return xi(this)?this._readyPromise:m($r("ready"))}abort(P=void 0){return xi(this)?this._ownerWritableStream===void 0?m(Ui("abort")):mh(this,P):m($r("abort"))}close(){if(!xi(this))return m($r("close"));let P=this._ownerWritableStream;return P===void 0?m(Ui("close")):xn(P)?m(new TypeError("Cannot close an already-closing stream")):Yu(this)}releaseLock(){if(!xi(this))throw $r("releaseLock");this._ownerWritableStream!==void 0&&ja(this)}write(P=void 0){return xi(this)?this._ownerWritableStream===void 0?m(Ui("write to")):hi(this,P):m($r("write"))}}Object.defineProperties(Ho.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(Ho.prototype,n.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});function xi(_){return!s(_)||!Object.prototype.hasOwnProperty.call(_,"_ownerWritableStream")?!1:_ instanceof Ho}function mh(_,P){let H=_._ownerWritableStream;return Da(H,P)}function Yu(_){let P=_._ownerWritableStream;return Gu(P)}function vh(_){let P=_._ownerWritableStream,H=P._state;return xn(P)||H==="closed"?S(void 0):H==="errored"?m(P._storedError):Yu(_)}function Xu(_,P){_._closedPromiseState==="pending"?Ms(_,P):wh(_,P)}function Ju(_,P){_._readyPromiseState==="pending"?Fs(_,P):$s(_,P)}function vr(_){let P=_._ownerWritableStream,H=P._state;return H==="errored"||H==="erroring"?null:H==="closed"?0:qs(P._writableStreamController)}function ja(_){let P=_._ownerWritableStream,H=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");Ju(_,H),Xu(_,H),P._writer=void 0,_._ownerWritableStream=void 0}function hi(_,P){let H=_._ownerWritableStream,re=H._writableStreamController,de=tl(re,P);if(H!==_._ownerWritableStream)return m(Ui("write to"));let be=H._state;if(be==="errored")return m(H._storedError);if(xn(H)||be==="closed")return m(new TypeError("The stream is closing or closed and cannot be written to"));if(be==="erroring")return m(H._storedError);let Oe=Qu(H);return Xr(re,P,de),Oe}let Ds={};class fi{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!Vr(this))throw jt("abortReason");return this._abortReason}get signal(){if(!Vr(this))throw jt("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(P=void 0){if(!Vr(this))throw jt("error");this._controlledWritableStream._state==="writable"&&Wo(this,P)}[ce](P){let H=this._abortAlgorithm(P);return Ko(this),H}[pe](){Mr(this)}}Object.defineProperties(fi.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(fi.prototype,n.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});function Vr(_){return!s(_)||!Object.prototype.hasOwnProperty.call(_,"_controlledWritableStream")?!1:_ instanceof fi}function js(_,P,H,re,de,be,Oe,Me){P._controlledWritableStream=_,_._writableStreamController=P,P._queue=void 0,P._queueTotalSize=void 0,Mr(P),P._abortReason=void 0,P._abortController=En(),P._started=!1,P._strategySizeAlgorithm=Me,P._strategyHWM=Oe,P._writeAlgorithm=re,P._closeAlgorithm=de,P._abortAlgorithm=be;let nt=Un(P);Us(_,nt);let at=H(),ct=S(at);O(ct,()=>{P._started=!0,qa(P)},dt=>{P._started=!0,Bs(_,dt)})}function Zu(_,P,H,re){let de=Object.create(fi.prototype),be=()=>{},Oe=()=>S(void 0),Me=()=>S(void 0),nt=()=>S(void 0);P.start!==void 0&&(be=()=>P.start(de)),P.write!==void 0&&(Oe=at=>P.write(at,de)),P.close!==void 0&&(Me=()=>P.close()),P.abort!==void 0&&(nt=at=>P.abort(at)),js(_,de,be,Oe,Me,nt,H,re)}function Ko(_){_._writeAlgorithm=void 0,_._closeAlgorithm=void 0,_._abortAlgorithm=void 0,_._strategySizeAlgorithm=void 0}function el(_){_n(_,Ds,0),qa(_)}function tl(_,P){try{return _._strategySizeAlgorithm(P)}catch(H){return Fr(_,H),1}}function qs(_){return _._strategyHWM-_._queueTotalSize}function Xr(_,P,H){try{_n(_,P,H)}catch(de){Fr(_,de);return}let re=_._controlledWritableStream;if(!xn(re)&&re._state==="writable"){let de=Un(_);Us(re,de)}qa(_)}function qa(_){let P=_._controlledWritableStream;if(!_._started||P._inFlightWriteRequest!==void 0)return;if(P._state==="erroring"){Ns(P);return}if(_._queue.length===0)return;let H=li(_);H===Ds?bh(_):rl(_,H)}function Fr(_,P){_._controlledWritableStream._state==="writable"&&Wo(_,P)}function bh(_){let P=_._controlledWritableStream;gh(P),Yr(_);let H=_._closeAlgorithm();Ko(_),O(H,()=>{dh(P)},re=>{ph(P,re)})}function rl(_,P){let H=_._controlledWritableStream;Vt(H);let re=_._writeAlgorithm(P);O(re,()=>{fh(H);let de=H._state;if(Yr(_),!xn(H)&&de==="writable"){let be=Un(_);Us(H,be)}qa(_)},de=>{H._state==="writable"&&Ko(_),xs(H,de)})}function Un(_){return qs(_)<=0}function Wo(_,P){let H=_._controlledWritableStream;Ko(_),Ls(H,P)}function vo(_){return new TypeError(`WritableStream.prototype.${_} can only be used on a WritableStream`)}function jt(_){return new TypeError(`WritableStreamDefaultController.prototype.${_} can only be used on a WritableStreamDefaultController`)}function $r(_){return new TypeError(`WritableStreamDefaultWriter.prototype.${_} can only be used on a WritableStreamDefaultWriter`)}function Ui(_){return new TypeError("Cannot "+_+" a stream using a released writer")}function Ma(_){_._closedPromise=R((P,H)=>{_._closedPromise_resolve=P,_._closedPromise_reject=H,_._closedPromiseState="pending"})}function Va(_,P){Ma(_),Ms(_,P)}function _h(_){Ma(_),Vs(_)}function Ms(_,P){_._closedPromise_reject!==void 0&&(w(_._closedPromise),_._closedPromise_reject(P),_._closedPromise_resolve=void 0,_._closedPromise_reject=void 0,_._closedPromiseState="rejected")}function wh(_,P){Va(_,P)}function Vs(_){_._closedPromise_resolve!==void 0&&(_._closedPromise_resolve(void 0),_._closedPromise_resolve=void 0,_._closedPromise_reject=void 0,_._closedPromiseState="resolved")}function Di(_){_._readyPromise=R((P,H)=>{_._readyPromise_resolve=P,_._readyPromise_reject=H}),_._readyPromiseState="pending"}function di(_,P){Di(_),Fs(_,P)}function nl(_){Di(_),Go(_)}function Fs(_,P){_._readyPromise_reject!==void 0&&(w(_._readyPromise),_._readyPromise_reject(P),_._readyPromise_resolve=void 0,_._readyPromise_reject=void 0,_._readyPromiseState="rejected")}function il(_){Di(_)}function $s(_,P){di(_,P)}function Go(_){_._readyPromise_resolve!==void 0&&(_._readyPromise_resolve(void 0),_._readyPromise_resolve=void 0,_._readyPromise_reject=void 0,_._readyPromiseState="fulfilled")}let zs=typeof DOMException<"u"?DOMException:void 0;function Eh(_){if(!(typeof _=="function"||typeof _=="object"))return!1;try{return new _,!0}catch{return!1}}function Hs(){let _=function(P,H){this.message=P||"",this.name=H||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return _.prototype=Object.create(Error.prototype),Object.defineProperty(_.prototype,"constructor",{value:_,writable:!0,configurable:!0}),_}let Ks=Eh(zs)?zs:Hs();function ol(_,P,H,re,de,be){let Oe=Ue(_),Me=Os(P);_._disturbed=!0;let nt=!1,at=S(void 0);return R((ct,dt)=>{let Ft;if(be!==void 0){if(Ft=()=>{let $e=new Ks("Aborted","AbortError"),st=[];re||st.push(()=>P._state==="writable"?Da(P,$e):S(void 0)),de||st.push(()=>_._state==="readable"?He(_,$e):S(void 0)),Jr(()=>Promise.all(st.map(vt=>vt())),!0,$e)},be.aborted){Ft();return}be.addEventListener("abort",Ft)}function Lr(){return R(($e,st)=>{function vt(Nr){Nr?$e():T(jn(),vt,st)}vt(!1)})}function jn(){return nt?S(!0):T(Me._readyPromise,()=>R(($e,st)=>{kt(Oe,{_chunkSteps:vt=>{at=T(hi(Me,vt),void 0,i),$e(!1)},_closeSteps:()=>$e(!0),_errorSteps:st})}))}if(zr(_,Oe._closedPromise,$e=>{re?cn(!0,$e):Jr(()=>Da(P,$e),!0,$e)}),zr(P,Me._closedPromise,$e=>{de?cn(!0,$e):Jr(()=>He(_,$e),!0,$e)}),_r(_,Oe._closedPromise,()=>{H?cn():Jr(()=>vh(Me))}),xn(P)||P._state==="closed"){let $e=new TypeError("the destination writable stream closed before all data could be piped to it");de?cn(!0,$e):Jr(()=>He(_,$e),!0,$e)}w(Lr());function Tn(){let $e=at;return T(at,()=>$e!==at?Tn():void 0)}function zr($e,st,vt){$e._state==="errored"?vt($e._storedError):y(st,vt)}function _r($e,st,vt){$e._state==="closed"?vt():k(st,vt)}function Jr($e,st,vt){if(nt)return;nt=!0,P._state==="writable"&&!xn(P)?k(Tn(),Nr):Nr();function Nr(){O($e(),()=>Hi(st,vt),Y=>Hi(!0,Y))}}function cn($e,st){nt||(nt=!0,P._state==="writable"&&!xn(P)?k(Tn(),()=>Hi($e,st)):Hi($e,st))}function Hi($e,st){ja(Me),z(Oe),be!==void 0&&be.removeEventListener("abort",Ft),$e?dt(st):ct(void 0)}})}class ji{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Ar(this))throw $a("desiredSize");return Ws(this)}close(){if(!Ar(this))throw $a("close");if(!wo(this))throw new TypeError("The stream is not in a state that permits close");_o(this)}enqueue(P=void 0){if(!Ar(this))throw $a("enqueue");if(!wo(this))throw new TypeError("The stream is not in a state that permits enqueue");return Fa(this,P)}error(P=void 0){if(!Ar(this))throw $a("error");pi(this,P)}[me](P){Mr(this);let H=this._cancelAlgorithm(P);return Qo(this),H}[ke](P){let H=this._controlledReadableStream;if(this._queue.length>0){let re=Yr(this);this._closeRequested&&this._queue.length===0?(Qo(this),ht(H)):qi(this),P._chunkSteps(re)}else qe(H,P),qi(this)}}Object.defineProperties(ji.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(ji.prototype,n.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});function Ar(_){return!s(_)||!Object.prototype.hasOwnProperty.call(_,"_controlledReadableStream")?!1:_ instanceof ji}function qi(_){if(!bo(_))return;if(_._pulling){_._pullAgain=!0;return}_._pulling=!0;let P=_._pullAlgorithm();O(P,()=>{_._pulling=!1,_._pullAgain&&(_._pullAgain=!1,qi(_))},H=>{pi(_,H)})}function bo(_){let P=_._controlledReadableStream;return!wo(_)||!_._started?!1:!!(De(P)&&Ne(P)>0||Ws(_)>0)}function Qo(_){_._pullAlgorithm=void 0,_._cancelAlgorithm=void 0,_._strategySizeAlgorithm=void 0}function _o(_){if(!wo(_))return;let P=_._controlledReadableStream;_._closeRequested=!0,_._queue.length===0&&(Qo(_),ht(P))}function Fa(_,P){if(!wo(_))return;let H=_._controlledReadableStream;if(De(H)&&Ne(H)>0)ge(H,P,!1);else{let re;try{re=_._strategySizeAlgorithm(P)}catch(de){throw pi(_,de),de}try{_n(_,P,re)}catch(de){throw pi(_,de),de}}qi(_)}function pi(_,P){let H=_._controlledReadableStream;H._state==="readable"&&(Mr(_),Qo(_),hr(H,P))}function Ws(_){let P=_._controlledReadableStream._state;return P==="errored"?null:P==="closed"?0:_._strategyHWM-_._queueTotalSize}function Sh(_){return!bo(_)}function wo(_){let P=_._controlledReadableStream._state;return!_._closeRequested&&P==="readable"}function Mi(_,P,H,re,de,be,Oe){P._controlledReadableStream=_,P._queue=void 0,P._queueTotalSize=void 0,Mr(P),P._started=!1,P._closeRequested=!1,P._pullAgain=!1,P._pulling=!1,P._strategySizeAlgorithm=Oe,P._strategyHWM=be,P._pullAlgorithm=re,P._cancelAlgorithm=de,_._readableStreamController=P;let Me=H();O(S(Me),()=>{P._started=!0,qi(P)},nt=>{pi(P,nt)})}function Ch(_,P,H,re){let de=Object.create(ji.prototype),be=()=>{},Oe=()=>S(void 0),Me=()=>S(void 0);P.start!==void 0&&(be=()=>P.start(de)),P.pull!==void 0&&(Oe=()=>P.pull(de)),P.cancel!==void 0&&(Me=nt=>P.cancel(nt)),Mi(_,de,be,Oe,Me,H,re)}function $a(_){return new TypeError(`ReadableStreamDefaultController.prototype.${_} can only be used on a ReadableStreamDefaultController`)}function Gs(_,P){return Ut(_._readableStreamController)?yi(_):al(_)}function al(_,P){let H=Ue(_),re=!1,de=!1,be=!1,Oe=!1,Me,nt,at,ct,dt,Ft=R(_r=>{dt=_r});function Lr(){return re?(de=!0,S(void 0)):(re=!0,kt(H,{_chunkSteps:_r=>{L(()=>{de=!1;let Jr=_r,cn=_r;be||Fa(at._readableStreamController,Jr),Oe||Fa(ct._readableStreamController,cn),re=!1,de&&Lr()})},_closeSteps:()=>{re=!1,be||_o(at._readableStreamController),Oe||_o(ct._readableStreamController),(!be||!Oe)&&dt(void 0)},_errorSteps:()=>{re=!1}}),S(void 0))}function jn(_r){if(be=!0,Me=_r,Oe){let Jr=Kt([Me,nt]),cn=He(_,Jr);dt(cn)}return Ft}function Tn(_r){if(Oe=!0,nt=_r,be){let Jr=Kt([Me,nt]),cn=He(_,Jr);dt(cn)}return Ft}function zr(){}return at=Dn(zr,Lr,jn),ct=Dn(zr,Lr,Tn),y(H._closedPromise,_r=>{pi(at._readableStreamController,_r),pi(ct._readableStreamController,_r),(!be||!Oe)&&dt(void 0)}),[at,ct]}function yi(_){let P=Ue(_),H=!1,re=!1,de=!1,be=!1,Oe=!1,Me,nt,at,ct,dt,Ft=R($e=>{dt=$e});function Lr($e){y($e._closedPromise,st=>{$e===P&&(Tr(at._readableStreamController,st),Tr(ct._readableStreamController,st),(!be||!Oe)&&dt(void 0))})}function jn(){Z(P)&&(z(P),P=Ue(_),Lr(P)),kt(P,{_chunkSteps:$e=>{L(()=>{re=!1,de=!1;let st=$e,vt=$e;if(!be&&!Oe)try{vt=Qr($e)}catch(Nr){Tr(at._readableStreamController,Nr),Tr(ct._readableStreamController,Nr),dt(He(_,Nr));return}be||wn(at._readableStreamController,st),Oe||wn(ct._readableStreamController,vt),H=!1,re?zr():de&&_r()})},_closeSteps:()=>{H=!1,be||Pi(at._readableStreamController),Oe||Pi(ct._readableStreamController),at._readableStreamController._pendingPullIntos.length>0&&po(at._readableStreamController,0),ct._readableStreamController._pendingPullIntos.length>0&&po(ct._readableStreamController,0),(!be||!Oe)&&dt(void 0)},_errorSteps:()=>{H=!1}})}function Tn($e,st){ze(P)&&(z(P),P=xa(_),Lr(P));let vt=st?ct:at,Nr=st?at:ct;le(P,$e,{_chunkSteps:Y=>{L(()=>{re=!1,de=!1;let Rn=st?Oe:be;if(st?be:Oe)Rn||yo(vt._readableStreamController,Y);else{let Qn;try{Qn=Qr(Y)}catch(Hr){Tr(vt._readableStreamController,Hr),Tr(Nr._readableStreamController,Hr),dt(He(_,Hr));return}Rn||yo(vt._readableStreamController,Y),wn(Nr._readableStreamController,Qn)}H=!1,re?zr():de&&_r()})},_closeSteps:Y=>{H=!1;let Rn=st?Oe:be,Qn=st?be:Oe;Rn||Pi(vt._readableStreamController),Qn||Pi(Nr._readableStreamController),Y!==void 0&&(Rn||yo(vt._readableStreamController,Y),!Qn&&Nr._readableStreamController._pendingPullIntos.length>0&&po(Nr._readableStreamController,0)),(!Rn||!Qn)&&dt(void 0)},_errorSteps:()=>{H=!1}})}function zr(){if(H)return re=!0,S(void 0);H=!0;let $e=$o(at._readableStreamController);return $e===null?jn():Tn($e._view,!1),S(void 0)}function _r(){if(H)return de=!0,S(void 0);H=!0;let $e=$o(ct._readableStreamController);return $e===null?jn():Tn($e._view,!0),S(void 0)}function Jr($e){if(be=!0,Me=$e,Oe){let st=Kt([Me,nt]),vt=He(_,st);dt(vt)}return Ft}function cn($e){if(Oe=!0,nt=$e,be){let st=Kt([Me,nt]),vt=He(_,st);dt(vt)}return Ft}function Hi(){}return at=he(Hi,zr,Jr),ct=he(Hi,_r,cn),Lr(P),[at,ct]}function za(_,P){Re(_,P);let H=_,re=H?.autoAllocateChunkSize,de=H?.cancel,be=H?.pull,Oe=H?.start,Me=H?.type;return{autoAllocateChunkSize:re===void 0?void 0:te(re,`${P} has member 'autoAllocateChunkSize' that`),cancel:de===void 0?void 0:Th(de,H,`${P} has member 'cancel' that`),pull:be===void 0?void 0:Rh(be,H,`${P} has member 'pull' that`),start:Oe===void 0?void 0:Ih(Oe,H,`${P} has member 'start' that`),type:Me===void 0?void 0:Eo(Me,`${P} has member 'type' that`)}}function Th(_,P,H){return et(_,H),re=>C(_,P,[re])}function Rh(_,P,H){return et(_,H),re=>C(_,P,[re])}function Ih(_,P,H){return et(_,H),re=>N(_,P,[re])}function Eo(_,P){if(_=`${_}`,_!=="bytes")throw new TypeError(`${P} '${_}' is not a valid enumeration value for ReadableStreamType`);return _}function Sn(_,P){Re(_,P);let H=_?.mode;return{mode:H===void 0?void 0:sl(H,`${P} has member 'mode' that`)}}function sl(_,P){if(_=`${_}`,_!=="byob")throw new TypeError(`${P} '${_}' is not a valid enumeration value for ReadableStreamReaderMode`);return _}function Ah(_,P){return Re(_,P),{preventCancel:!!_?.preventCancel}}function ul(_,P){Re(_,P);let H=_?.preventAbort,re=_?.preventCancel,de=_?.preventClose,be=_?.signal;return be!==void 0&&kh(be,`${P} has member 'signal' that`),{preventAbort:!!H,preventCancel:!!re,preventClose:!!de,signal:be}}function kh(_,P){if(!mr(_))throw new TypeError(`${P} is not an AbortSignal.`)}function Oh(_,P){Re(_,P);let H=_?.readable;Q(H,"readable","ReadableWritablePair"),Ee(H,`${P} has member 'readable' that`);let re=_?.writable;return Q(re,"writable","ReadableWritablePair"),Ir(re,`${P} has member 'writable' that`),{readable:H,writable:re}}class gi{constructor(P={},H={}){P===void 0?P=null:x(P,"First parameter");let re=Le(H,"Second parameter"),de=za(P,"First parameter");if(ve(this),de.type==="bytes"){if(re.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");let be=Te(re,0);La(this,de,be)}else{let be=xe(re),Oe=Te(re,1);Ch(this,de,Oe,be)}}get locked(){if(!ye(this))throw yt("locked");return De(this)}cancel(P=void 0){return ye(this)?De(this)?m(new TypeError("Cannot cancel a stream that already has a reader")):He(this,P):m(yt("cancel"))}getReader(P=void 0){if(!ye(this))throw yt("getReader");return Sn(P,"First parameter").mode===void 0?Ue(this):xa(this)}pipeThrough(P,H={}){if(!ye(this))throw yt("pipeThrough");X(P,1,"pipeThrough");let re=Oh(P,"First parameter"),de=ul(H,"Second parameter");if(De(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(mo(re.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");let be=ol(this,re.writable,de.preventClose,de.preventAbort,de.preventCancel,de.signal);return w(be),re.readable}pipeTo(P,H={}){if(!ye(this))return m(yt("pipeTo"));if(P===void 0)return m("Parameter 1 is required in 'pipeTo'.");if(!Ni(P))return m(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let re;try{re=ul(H,"Second parameter")}catch(de){return m(de)}return De(this)?m(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):mo(P)?m(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):ol(this,P,re.preventClose,re.preventAbort,re.preventCancel,re.signal)}tee(){if(!ye(this))throw yt("tee");let P=Gs(this);return Kt(P)}values(P=void 0){if(!ye(this))throw yt("values");let H=Ah(P,"First parameter");return Lt(this,H.preventCancel)}}Object.defineProperties(gi.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(gi.prototype,n.toStringTag,{value:"ReadableStream",configurable:!0}),typeof n.asyncIterator=="symbol"&&Object.defineProperty(gi.prototype,n.asyncIterator,{value:gi.prototype.values,writable:!0,configurable:!0});function Dn(_,P,H,re=1,de=()=>1){let be=Object.create(gi.prototype);ve(be);let Oe=Object.create(ji.prototype);return Mi(be,Oe,_,P,H,re,de),be}function he(_,P,H){let re=Object.create(gi.prototype);ve(re);let de=Object.create(xt.prototype);return Ba(re,de,_,P,H,0,void 0),re}function ve(_){_._state="readable",_._reader=void 0,_._storedError=void 0,_._disturbed=!1}function ye(_){return!s(_)||!Object.prototype.hasOwnProperty.call(_,"_readableStreamController")?!1:_ instanceof gi}function De(_){return _._reader!==void 0}function He(_,P){if(_._disturbed=!0,_._state==="closed")return S(void 0);if(_._state==="errored")return m(_._storedError);ht(_);let H=_._reader;H!==void 0&&Z(H)&&(H._readIntoRequests.forEach(de=>{de._closeSteps(void 0)}),H._readIntoRequests=new p);let re=_._readableStreamController[me](P);return I(re,i)}function ht(_){_._state="closed";let P=_._reader;P!==void 0&&(oe(P),ze(P)&&(P._readRequests.forEach(H=>{H._closeSteps()}),P._readRequests=new p))}function hr(_,P){_._state="errored",_._storedError=P;let H=_._reader;H!==void 0&&(M(H,P),ze(H)?(H._readRequests.forEach(re=>{re._errorSteps(P)}),H._readRequests=new p):(H._readIntoRequests.forEach(re=>{re._errorSteps(P)}),H._readIntoRequests=new p))}function yt(_){return new TypeError(`ReadableStream.prototype.${_} can only be used on a ReadableStream`)}function Ha(_,P){Re(_,P);let H=_?.highWaterMark;return Q(H,"highWaterMark","QueuingStrategyInit"),{highWaterMark:A(H)}}let ll=_=>_.byteLength;try{Object.defineProperty(ll,"name",{value:"size",configurable:!0})}catch{}class Br{constructor(P){X(P,1,"ByteLengthQueuingStrategy"),P=Ha(P,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=P.highWaterMark}get highWaterMark(){if(!cl(this))throw Yo("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!cl(this))throw Yo("size");return ll}}Object.defineProperties(Br.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(Br.prototype,n.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});function Yo(_){return new TypeError(`ByteLengthQueuingStrategy.prototype.${_} can only be used on a ByteLengthQueuingStrategy`)}function cl(_){return!s(_)||!Object.prototype.hasOwnProperty.call(_,"_byteLengthQueuingStrategyHighWaterMark")?!1:_ instanceof Br}let Vi=()=>1;try{Object.defineProperty(Vi,"name",{value:"size",configurable:!0})}catch{}class Fi{constructor(P){X(P,1,"CountQueuingStrategy"),P=Ha(P,"First parameter"),this._countQueuingStrategyHighWaterMark=P.highWaterMark}get highWaterMark(){if(!_t(this))throw Xo("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!_t(this))throw Xo("size");return Vi}}Object.defineProperties(Fi.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(Fi.prototype,n.toStringTag,{value:"CountQueuingStrategy",configurable:!0});function Xo(_){return new TypeError(`CountQueuingStrategy.prototype.${_} can only be used on a CountQueuingStrategy`)}function _t(_){return!s(_)||!Object.prototype.hasOwnProperty.call(_,"_countQueuingStrategyHighWaterMark")?!1:_ instanceof Fi}function Ph(_,P){Re(_,P);let H=_?.flush,re=_?.readableType,de=_?.start,be=_?.transform,Oe=_?.writableType;return{flush:H===void 0?void 0:hl(H,_,`${P} has member 'flush' that`),readableType:re,start:de===void 0?void 0:Ka(de,_,`${P} has member 'start' that`),transform:be===void 0?void 0:Bh(be,_,`${P} has member 'transform' that`),writableType:Oe}}function hl(_,P,H){return et(_,H),re=>C(_,P,[re])}function Ka(_,P,H){return et(_,H),re=>N(_,P,[re])}function Bh(_,P,H){return et(_,H),(re,de)=>C(_,P,[re,de])}class Wa{constructor(P={},H={},re={}){P===void 0&&(P=null);let de=Le(H,"Second parameter"),be=Le(re,"Third parameter"),Oe=Ph(P,"First parameter");if(Oe.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(Oe.writableType!==void 0)throw new RangeError("Invalid writableType specified");let Me=Te(be,0),nt=xe(be),at=Te(de,1),ct=xe(de),dt,Ft=R(Lr=>{dt=Lr});Lh(this,Ft,at,ct,Me,nt),Ga(this,Oe),Oe.start!==void 0?dt(Oe.start(this._transformStreamController)):dt(void 0)}get readable(){if(!Jo(this))throw dl("readable");return this._readable}get writable(){if(!Jo(this))throw dl("writable");return this._writable}}Object.defineProperties(Wa.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(Wa.prototype,n.toStringTag,{value:"TransformStream",configurable:!0});function Lh(_,P,H,re,de,be){function Oe(){return P}function Me(Ft){return xh(_,Ft)}function nt(Ft){return Uh(_,Ft)}function at(){return Qa(_)}_._writable=Wu(Oe,Me,at,nt,H,re);function ct(){return Ya(_)}function dt(Ft){return $i(_,Ft),S(void 0)}_._readable=Dn(Oe,ct,dt,de,be),_._backpressure=void 0,_._backpressureChangePromise=void 0,_._backpressureChangePromise_resolve=void 0,Zo(_,!0),_._transformStreamController=void 0}function Jo(_){return!s(_)||!Object.prototype.hasOwnProperty.call(_,"_transformStreamController")?!1:_ instanceof Wa}function Cn(_,P){pi(_._readable._readableStreamController,P),$i(_,P)}function $i(_,P){Qs(_._transformStreamController),Fr(_._writable._writableStreamController,P),_._backpressure&&Zo(_,!1)}function Zo(_,P){_._backpressureChangePromise!==void 0&&_._backpressureChangePromise_resolve(),_._backpressureChangePromise=R(H=>{_._backpressureChangePromise_resolve=H}),_._backpressure=P}class mi{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!ea(this))throw Co("desiredSize");let P=this._controlledTransformStream._readable._readableStreamController;return Ws(P)}enqueue(P=void 0){if(!ea(this))throw Co("enqueue");So(this,P)}error(P=void 0){if(!ea(this))throw Co("error");zi(this,P)}terminate(){if(!ea(this))throw Co("terminate");Nh(this)}}Object.defineProperties(mi.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof n.toStringTag=="symbol"&&Object.defineProperty(mi.prototype,n.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});function ea(_){return!s(_)||!Object.prototype.hasOwnProperty.call(_,"_controlledTransformStream")?!1:_ instanceof mi}function fl(_,P,H,re){P._controlledTransformStream=_,_._transformStreamController=P,P._transformAlgorithm=H,P._flushAlgorithm=re}function Ga(_,P){let H=Object.create(mi.prototype),re=be=>{try{return So(H,be),S(void 0)}catch(Oe){return m(Oe)}},de=()=>S(void 0);P.transform!==void 0&&(re=be=>P.transform(be,H)),P.flush!==void 0&&(de=()=>P.flush(H)),fl(_,H,re,de)}function Qs(_){_._transformAlgorithm=void 0,_._flushAlgorithm=void 0}function So(_,P){let H=_._controlledTransformStream,re=H._readable._readableStreamController;if(!wo(re))throw new TypeError("Readable side is not in a state that permits enqueue");try{Fa(re,P)}catch(de){throw $i(H,de),H._readable._storedError}Sh(re)!==H._backpressure&&Zo(H,!0)}function zi(_,P){Cn(_._controlledTransformStream,P)}function ta(_,P){let H=_._transformAlgorithm(P);return I(H,void 0,re=>{throw Cn(_._controlledTransformStream,re),re})}function Nh(_){let P=_._controlledTransformStream,H=P._readable._readableStreamController;_o(H);let re=new TypeError("TransformStream terminated");$i(P,re)}function xh(_,P){let H=_._transformStreamController;if(_._backpressure){let re=_._backpressureChangePromise;return I(re,()=>{let de=_._writable;if(de._state==="erroring")throw de._storedError;return ta(H,P)})}return ta(H,P)}function Uh(_,P){return Cn(_,P),S(void 0)}function Qa(_){let P=_._readable,H=_._transformStreamController,re=H._flushAlgorithm();return Qs(H),I(re,()=>{if(P._state==="errored")throw P._storedError;_o(P._readableStreamController)},de=>{throw Cn(_,de),P._storedError})}function Ya(_){return Zo(_,!1),_._backpressureChangePromise}function Co(_){return new TypeError(`TransformStreamDefaultController.prototype.${_} can only be used on a TransformStreamDefaultController`)}function dl(_){return new TypeError(`TransformStream.prototype.${_} can only be used on a TransformStream`)}r.ByteLengthQueuingStrategy=Br,r.CountQueuingStrategy=Fi,r.ReadableByteStreamController=xt,r.ReadableStream=gi,r.ReadableStreamBYOBReader=G,r.ReadableStreamBYOBRequest=Nn,r.ReadableStreamDefaultController=ji,r.ReadableStreamDefaultReader=rt,r.TransformStream=Wa,r.TransformStreamDefaultController=mi,r.WritableStream=Gn,r.WritableStreamDefaultController=fi,r.WritableStreamDefaultWriter=Ho,Object.defineProperty(r,"__esModule",{value:!0})})}),YA=Qe(()=>{if(!globalThis.ReadableStream)try{let e=vs("process"),{emitWarning:t}=e;try{e.emitWarning=()=>{},Object.assign(globalThis,vs("stream/web")),e.emitWarning=t}catch(r){throw e.emitWarning=t,r}}catch{Object.assign(globalThis,QA())}try{let{Blob:e}=vs("buffer");e&&!e.prototype.stream&&(e.prototype.stream=function(t){let r=0,n=this;return new ReadableStream({type:"bytes",async pull(i){let u=await n.slice(r,Math.min(n.size,r+65536)).arrayBuffer();r+=u.byteLength,i.enqueue(new Uint8Array(u)),r===n.size&&i.close()}})})}catch{}}),XA=Qe(e=>{e.read=function(t,r,n,i,u){var c,s,h=u*8-i-1,a=(1<<h)-1,d=a>>1,f=-7,g=n?u-1:0,R=n?-1:1,S=t[r+g];for(g+=R,c=S&(1<<-f)-1,S>>=-f,f+=h;f>0;c=c*256+t[r+g],g+=R,f-=8);for(s=c&(1<<-f)-1,c>>=-f,f+=i;f>0;s=s*256+t[r+g],g+=R,f-=8);if(c===0)c=1-d;else{if(c===a)return s?NaN:(S?-1:1)*(1/0);s=s+Math.pow(2,i),c=c-d}return(S?-1:1)*s*Math.pow(2,c-i)},e.write=function(t,r,n,i,u,c){var s,h,a,d=c*8-u-1,f=(1<<d)-1,g=f>>1,R=u===23?Math.pow(2,-24)-Math.pow(2,-77):0,S=i?0:c-1,m=i?1:-1,T=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(h=isNaN(r)?1:0,s=f):(s=Math.floor(Math.log(r)/Math.LN2),r*(a=Math.pow(2,-s))<1&&(s--,a*=2),s+g>=1?r+=R/a:r+=R*Math.pow(2,1-g),r*a>=2&&(s++,a/=2),s+g>=f?(h=0,s=f):s+g>=1?(h=(r*a-1)*Math.pow(2,u),s=s+g):(h=r*Math.pow(2,g-1)*Math.pow(2,u),s=0));u>=8;t[n+S]=h&255,S+=m,h/=256,u-=8);for(s=s<<u|h,d+=u;d>0;t[n+S]=s&255,S+=m,s/=256,d-=8);t[n+S-m]|=T*128}}),JA=Qe((e,t)=>{"use strict";t.exports=n;var r=XA();function n(E){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(E)?E:new Uint8Array(E||0),this.pos=0,this.type=0,this.length=this.buf.length}n.Varint=0,n.Fixed64=1,n.Bytes=2,n.Fixed32=5;var i=65536*65536,u=1/i,c=12,s=typeof TextDecoder>"u"?null:new TextDecoder("utf8");n.prototype={destroy:function(){this.buf=null},readFields:function(E,B,D){for(D=D||this.length;this.pos<D;){var j=this.readVarint(),M=j>>3,ee=this.pos;this.type=j&7,E(M,B,this),this.pos===ee&&this.skip(j)}return B},readMessage:function(E,B){return this.readFields(E,B,this.readVarint()+this.pos)},readFixed32:function(){var E=C(this.buf,this.pos);return this.pos+=4,E},readSFixed32:function(){var E=p(this.buf,this.pos);return this.pos+=4,E},readFixed64:function(){var E=C(this.buf,this.pos)+C(this.buf,this.pos+4)*i;return this.pos+=8,E},readSFixed64:function(){var E=C(this.buf,this.pos)+p(this.buf,this.pos+4)*i;return this.pos+=8,E},readFloat:function(){var E=r.read(this.buf,this.pos,!0,23,4);return this.pos+=4,E},readDouble:function(){var E=r.read(this.buf,this.pos,!0,52,8);return this.pos+=8,E},readVarint:function(E){var B=this.buf,D,j;return j=B[this.pos++],D=j&127,j<128||(j=B[this.pos++],D|=(j&127)<<7,j<128)||(j=B[this.pos++],D|=(j&127)<<14,j<128)||(j=B[this.pos++],D|=(j&127)<<21,j<128)?D:(j=B[this.pos],D|=(j&15)<<28,h(D,E,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var E=this.readVarint();return E%2===1?(E+1)/-2:E/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var E=this.readVarint()+this.pos,B=this.pos;return this.pos=E,E-B>=c&&s?V(this.buf,B,E):q(this.buf,B,E)},readBytes:function(){var E=this.readVarint()+this.pos,B=this.buf.subarray(this.pos,E);return this.pos=E,B},readPackedVarint:function(E,B){if(this.type!==n.Bytes)return E.push(this.readVarint(B));var D=a(this);for(E=E||[];this.pos<D;)E.push(this.readVarint(B));return E},readPackedSVarint:function(E){if(this.type!==n.Bytes)return E.push(this.readSVarint());var B=a(this);for(E=E||[];this.pos<B;)E.push(this.readSVarint());return E},readPackedBoolean:function(E){if(this.type!==n.Bytes)return E.push(this.readBoolean());var B=a(this);for(E=E||[];this.pos<B;)E.push(this.readBoolean());return E},readPackedFloat:function(E){if(this.type!==n.Bytes)return E.push(this.readFloat());var B=a(this);for(E=E||[];this.pos<B;)E.push(this.readFloat());return E},readPackedDouble:function(E){if(this.type!==n.Bytes)return E.push(this.readDouble());var B=a(this);for(E=E||[];this.pos<B;)E.push(this.readDouble());return E},readPackedFixed32:function(E){if(this.type!==n.Bytes)return E.push(this.readFixed32());var B=a(this);for(E=E||[];this.pos<B;)E.push(this.readFixed32());return E},readPackedSFixed32:function(E){if(this.type!==n.Bytes)return E.push(this.readSFixed32());var B=a(this);for(E=E||[];this.pos<B;)E.push(this.readSFixed32());return E},readPackedFixed64:function(E){if(this.type!==n.Bytes)return E.push(this.readFixed64());var B=a(this);for(E=E||[];this.pos<B;)E.push(this.readFixed64());return E},readPackedSFixed64:function(E){if(this.type!==n.Bytes)return E.push(this.readSFixed64());var B=a(this);for(E=E||[];this.pos<B;)E.push(this.readSFixed64());return E},skip:function(E){var B=E&7;if(B===n.Varint)for(;this.buf[this.pos++]>127;);else if(B===n.Bytes)this.pos=this.readVarint()+this.pos;else if(B===n.Fixed32)this.pos+=4;else if(B===n.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+B)},writeTag:function(E,B){this.writeVarint(E<<3|B)},realloc:function(E){for(var B=this.length||16;B<this.pos+E;)B*=2;if(B!==this.length){var D=new Uint8Array(B);D.set(this.buf),this.buf=D,this.length=B}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(E){this.realloc(4),v(this.buf,E,this.pos),this.pos+=4},writeSFixed32:function(E){this.realloc(4),v(this.buf,E,this.pos),this.pos+=4},writeFixed64:function(E){this.realloc(8),v(this.buf,E&-1,this.pos),v(this.buf,Math.floor(E*u),this.pos+4),this.pos+=8},writeSFixed64:function(E){this.realloc(8),v(this.buf,E&-1,this.pos),v(this.buf,Math.floor(E*u),this.pos+4),this.pos+=8},writeVarint:function(E){if(E=+E||0,E>268435455||E<0){f(E,this);return}this.realloc(4),this.buf[this.pos++]=E&127|(E>127?128:0),!(E<=127)&&(this.buf[this.pos++]=(E>>>=7)&127|(E>127?128:0),!(E<=127)&&(this.buf[this.pos++]=(E>>>=7)&127|(E>127?128:0),!(E<=127)&&(this.buf[this.pos++]=E>>>7&127)))},writeSVarint:function(E){this.writeVarint(E<0?-E*2-1:E*2)},writeBoolean:function(E){this.writeVarint(!!E)},writeString:function(E){E=String(E),this.realloc(E.length*4),this.pos++;var B=this.pos;this.pos=z(this.buf,E,this.pos);var D=this.pos-B;D>=128&&S(B,D,this),this.pos=B-1,this.writeVarint(D),this.pos+=D},writeFloat:function(E){this.realloc(4),r.write(this.buf,E,this.pos,!0,23,4),this.pos+=4},writeDouble:function(E){this.realloc(8),r.write(this.buf,E,this.pos,!0,52,8),this.pos+=8},writeBytes:function(E){var B=E.length;this.writeVarint(B),this.realloc(B);for(var D=0;D<B;D++)this.buf[this.pos++]=E[D]},writeRawMessage:function(E,B){this.pos++;var D=this.pos;E(B,this);var j=this.pos-D;j>=128&&S(D,j,this),this.pos=D-1,this.writeVarint(j),this.pos+=j},writeMessage:function(E,B,D){this.writeTag(E,n.Bytes),this.writeRawMessage(B,D)},writePackedVarint:function(E,B){B.length&&this.writeMessage(E,m,B)},writePackedSVarint:function(E,B){B.length&&this.writeMessage(E,T,B)},writePackedBoolean:function(E,B){B.length&&this.writeMessage(E,y,B)},writePackedFloat:function(E,B){B.length&&this.writeMessage(E,O,B)},writePackedDouble:function(E,B){B.length&&this.writeMessage(E,k,B)},writePackedFixed32:function(E,B){B.length&&this.writeMessage(E,I,B)},writePackedSFixed32:function(E,B){B.length&&this.writeMessage(E,w,B)},writePackedFixed64:function(E,B){B.length&&this.writeMessage(E,L,B)},writePackedSFixed64:function(E,B){B.length&&this.writeMessage(E,N,B)},writeBytesField:function(E,B){this.writeTag(E,n.Bytes),this.writeBytes(B)},writeFixed32Field:function(E,B){this.writeTag(E,n.Fixed32),this.writeFixed32(B)},writeSFixed32Field:function(E,B){this.writeTag(E,n.Fixed32),this.writeSFixed32(B)},writeFixed64Field:function(E,B){this.writeTag(E,n.Fixed64),this.writeFixed64(B)},writeSFixed64Field:function(E,B){this.writeTag(E,n.Fixed64),this.writeSFixed64(B)},writeVarintField:function(E,B){this.writeTag(E,n.Varint),this.writeVarint(B)},writeSVarintField:function(E,B){this.writeTag(E,n.Varint),this.writeSVarint(B)},writeStringField:function(E,B){this.writeTag(E,n.Bytes),this.writeString(B)},writeFloatField:function(E,B){this.writeTag(E,n.Fixed32),this.writeFloat(B)},writeDoubleField:function(E,B){this.writeTag(E,n.Fixed64),this.writeDouble(B)},writeBooleanField:function(E,B){this.writeVarintField(E,!!B)}};function h(E,B,D){var j=D.buf,M,ee;if(ee=j[D.pos++],M=(ee&112)>>4,ee<128||(ee=j[D.pos++],M|=(ee&127)<<3,ee<128)||(ee=j[D.pos++],M|=(ee&127)<<10,ee<128)||(ee=j[D.pos++],M|=(ee&127)<<17,ee<128)||(ee=j[D.pos++],M|=(ee&127)<<24,ee<128)||(ee=j[D.pos++],M|=(ee&1)<<31,ee<128))return d(E,M,B);throw new Error("Expected varint not more than 10 bytes")}function a(E){return E.type===n.Bytes?E.readVarint()+E.pos:E.pos+1}function d(E,B,D){return D?B*4294967296+(E>>>0):(B>>>0)*4294967296+(E>>>0)}function f(E,B){var D,j;if(E>=0?(D=E%4294967296|0,j=E/4294967296|0):(D=~(-E%4294967296),j=~(-E/4294967296),D^4294967295?D=D+1|0:(D=0,j=j+1|0)),E>=18446744073709552e3||E<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");B.realloc(10),g(D,j,B),R(j,B)}function g(E,B,D){D.buf[D.pos++]=E&127|128,E>>>=7,D.buf[D.pos++]=E&127|128,E>>>=7,D.buf[D.pos++]=E&127|128,E>>>=7,D.buf[D.pos++]=E&127|128,E>>>=7,D.buf[D.pos]=E&127}function R(E,B){var D=(E&7)<<4;B.buf[B.pos++]|=D|((E>>>=3)?128:0),E&&(B.buf[B.pos++]=E&127|((E>>>=7)?128:0),E&&(B.buf[B.pos++]=E&127|((E>>>=7)?128:0),E&&(B.buf[B.pos++]=E&127|((E>>>=7)?128:0),E&&(B.buf[B.pos++]=E&127|((E>>>=7)?128:0),E&&(B.buf[B.pos++]=E&127)))))}function S(E,B,D){var j=B<=16383?1:B<=2097151?2:B<=268435455?3:Math.floor(Math.log(B)/(Math.LN2*7));D.realloc(j);for(var M=D.pos-1;M>=E;M--)D.buf[M+j]=D.buf[M]}function m(E,B){for(var D=0;D<E.length;D++)B.writeVarint(E[D])}function T(E,B){for(var D=0;D<E.length;D++)B.writeSVarint(E[D])}function O(E,B){for(var D=0;D<E.length;D++)B.writeFloat(E[D])}function k(E,B){for(var D=0;D<E.length;D++)B.writeDouble(E[D])}function y(E,B){for(var D=0;D<E.length;D++)B.writeBoolean(E[D])}function I(E,B){for(var D=0;D<E.length;D++)B.writeFixed32(E[D])}function w(E,B){for(var D=0;D<E.length;D++)B.writeSFixed32(E[D])}function L(E,B){for(var D=0;D<E.length;D++)B.writeFixed64(E[D])}function N(E,B){for(var D=0;D<E.length;D++)B.writeSFixed64(E[D])}function C(E,B){return(E[B]|E[B+1]<<8|E[B+2]<<16)+E[B+3]*16777216}function v(E,B,D){E[D]=B,E[D+1]=B>>>8,E[D+2]=B>>>16,E[D+3]=B>>>24}function p(E,B){return(E[B]|E[B+1]<<8|E[B+2]<<16)+(E[B+3]<<24)}function q(E,B,D){for(var j="",M=B;M<D;){var ee=E[M],oe=null,ce=ee>239?4:ee>223?3:ee>191?2:1;if(M+ce>D)break;var pe,me,ke;ce===1?ee<128&&(oe=ee):ce===2?(pe=E[M+1],(pe&192)===128&&(oe=(ee&31)<<6|pe&63,oe<=127&&(oe=null))):ce===3?(pe=E[M+1],me=E[M+2],(pe&192)===128&&(me&192)===128&&(oe=(ee&15)<<12|(pe&63)<<6|me&63,(oe<=2047||oe>=55296&&oe<=57343)&&(oe=null))):ce===4&&(pe=E[M+1],me=E[M+2],ke=E[M+3],(pe&192)===128&&(me&192)===128&&(ke&192)===128&&(oe=(ee&15)<<18|(pe&63)<<12|(me&63)<<6|ke&63,(oe<=65535||oe>=1114112)&&(oe=null))),oe===null?(oe=65533,ce=1):oe>65535&&(oe-=65536,j+=String.fromCharCode(oe>>>10&1023|55296),oe=56320|oe&1023),j+=String.fromCharCode(oe),M+=ce}return j}function V(E,B,D){return s.decode(E.subarray(B,D))}function z(E,B,D){for(var j=0,M,ee;j<B.length;j++){if(M=B.charCodeAt(j),M>55295&&M<57344)if(ee)if(M<56320){E[D++]=239,E[D++]=191,E[D++]=189,ee=M;continue}else M=ee-55296<<10|M-56320|65536,ee=null;else{M>56319||j+1===B.length?(E[D++]=239,E[D++]=191,E[D++]=189):ee=M;continue}else ee&&(E[D++]=239,E[D++]=191,E[D++]=189,ee=null);M<128?E[D++]=M:(M<2048?E[D++]=M>>6|192:(M<65536?E[D++]=M>>12|224:(E[D++]=M>>18|240,E[D++]=M>>12&63|128),E[D++]=M>>6&63|128),E[D++]=M&63|128)}return D}}),ZA=Qe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});function t(s){var h=s+48;return h+=9-s>>>8&-48+65-10,String.fromCharCode(h)}function r(s){var h=s+48;return h+=9-s>>>8&-48+97-10,String.fromCharCode(h)}var n=256;function i(s){var h=n;return h+=(47-s&s-58)>>8&-n+s-48,h+=(64-s&s-71)>>8&-n+s-65+10,h+=(96-s&s-103)>>8&-n+s-97+10,h}function u(s,h){h===void 0&&(h=!1);for(var a=h?r:t,d="",f=0;f<s.length;f++)d+=a(s[f]>>>4),d+=a(s[f]&15);return d}e.encode=u;function c(s){if(s.length===0)return new Uint8Array(0);if(s.length%2!==0)throw new Error("hex: input string must be divisible by two");for(var h=new Uint8Array(s.length/2),a=0,d=0;d<s.length;d+=2){var f=i(s.charCodeAt(d)),g=i(s.charCodeAt(d+1));h[d/2]=f<<4|g,a|=f&n,a|=g&n}if(a!==0)throw new Error("hex: incorrect characters for decoding");return h}e.decode=c}),e5=Qe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});function t(s,h){var a=s>>>16&65535,d=s&65535,f=h>>>16&65535,g=h&65535;return d*g+(a*g+d*f<<16>>>0)|0}e.mul=Math.imul||t;function r(s,h){return s+h|0}e.add=r;function n(s,h){return s-h|0}e.sub=n;function i(s,h){return s<<h|s>>>32-h}e.rotl=i;function u(s,h){return s<<32-h|s>>>h}e.rotr=u;function c(s){return typeof s=="number"&&isFinite(s)&&Math.floor(s)===s}e.isInteger=Number.isInteger||c,e.MAX_SAFE_INTEGER=9007199254740991,e.isSafeInteger=function(s){return e.isInteger(s)&&s>=-e.MAX_SAFE_INTEGER&&s<=e.MAX_SAFE_INTEGER}}),t5=Qe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=e5();function r(D,j){return j===void 0&&(j=0),(D[j+0]<<8|D[j+1])<<16>>16}e.readInt16BE=r;function n(D,j){return j===void 0&&(j=0),(D[j+0]<<8|D[j+1])>>>0}e.readUint16BE=n;function i(D,j){return j===void 0&&(j=0),(D[j+1]<<8|D[j])<<16>>16}e.readInt16LE=i;function u(D,j){return j===void 0&&(j=0),(D[j+1]<<8|D[j])>>>0}e.readUint16LE=u;function c(D,j,M){return j===void 0&&(j=new Uint8Array(2)),M===void 0&&(M=0),j[M+0]=D>>>8,j[M+1]=D>>>0,j}e.writeUint16BE=c,e.writeInt16BE=c;function s(D,j,M){return j===void 0&&(j=new Uint8Array(2)),M===void 0&&(M=0),j[M+0]=D>>>0,j[M+1]=D>>>8,j}e.writeUint16LE=s,e.writeInt16LE=s;function h(D,j){return j===void 0&&(j=0),D[j]<<24|D[j+1]<<16|D[j+2]<<8|D[j+3]}e.readInt32BE=h;function a(D,j){return j===void 0&&(j=0),(D[j]<<24|D[j+1]<<16|D[j+2]<<8|D[j+3])>>>0}e.readUint32BE=a;function d(D,j){return j===void 0&&(j=0),D[j+3]<<24|D[j+2]<<16|D[j+1]<<8|D[j]}e.readInt32LE=d;function f(D,j){return j===void 0&&(j=0),(D[j+3]<<24|D[j+2]<<16|D[j+1]<<8|D[j])>>>0}e.readUint32LE=f;function g(D,j,M){return j===void 0&&(j=new Uint8Array(4)),M===void 0&&(M=0),j[M+0]=D>>>24,j[M+1]=D>>>16,j[M+2]=D>>>8,j[M+3]=D>>>0,j}e.writeUint32BE=g,e.writeInt32BE=g;function R(D,j,M){return j===void 0&&(j=new Uint8Array(4)),M===void 0&&(M=0),j[M+0]=D>>>0,j[M+1]=D>>>8,j[M+2]=D>>>16,j[M+3]=D>>>24,j}e.writeUint32LE=R,e.writeInt32LE=R;function S(D,j){j===void 0&&(j=0);var M=h(D,j),ee=h(D,j+4);return M*4294967296+ee-(ee>>31)*4294967296}e.readInt64BE=S;function m(D,j){j===void 0&&(j=0);var M=a(D,j),ee=a(D,j+4);return M*4294967296+ee}e.readUint64BE=m;function T(D,j){j===void 0&&(j=0);var M=d(D,j),ee=d(D,j+4);return ee*4294967296+M-(M>>31)*4294967296}e.readInt64LE=T;function O(D,j){j===void 0&&(j=0);var M=f(D,j),ee=f(D,j+4);return ee*4294967296+M}e.readUint64LE=O;function k(D,j,M){return j===void 0&&(j=new Uint8Array(8)),M===void 0&&(M=0),g(D/4294967296>>>0,j,M),g(D>>>0,j,M+4),j}e.writeUint64BE=k,e.writeInt64BE=k;function y(D,j,M){return j===void 0&&(j=new Uint8Array(8)),M===void 0&&(M=0),R(D>>>0,j,M),R(D/4294967296>>>0,j,M+4),j}e.writeUint64LE=y,e.writeInt64LE=y;function I(D,j,M){if(M===void 0&&(M=0),D%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(D/8>j.length-M)throw new Error("readUintBE: array is too short for the given bitLength");for(var ee=0,oe=1,ce=D/8+M-1;ce>=M;ce--)ee+=j[ce]*oe,oe*=256;return ee}e.readUintBE=I;function w(D,j,M){if(M===void 0&&(M=0),D%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(D/8>j.length-M)throw new Error("readUintLE: array is too short for the given bitLength");for(var ee=0,oe=1,ce=M;ce<M+D/8;ce++)ee+=j[ce]*oe,oe*=256;return ee}e.readUintLE=w;function L(D,j,M,ee){if(M===void 0&&(M=new Uint8Array(D/8)),ee===void 0&&(ee=0),D%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!t.isSafeInteger(j))throw new Error("writeUintBE value must be an integer");for(var oe=1,ce=D/8+ee-1;ce>=ee;ce--)M[ce]=j/oe&255,oe*=256;return M}e.writeUintBE=L;function N(D,j,M,ee){if(M===void 0&&(M=new Uint8Array(D/8)),ee===void 0&&(ee=0),D%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!t.isSafeInteger(j))throw new Error("writeUintLE value must be an integer");for(var oe=1,ce=ee;ce<ee+D/8;ce++)M[ce]=j/oe&255,oe*=256;return M}e.writeUintLE=N;function C(D,j){j===void 0&&(j=0);var M=new DataView(D.buffer,D.byteOffset,D.byteLength);return M.getFloat32(j)}e.readFloat32BE=C;function v(D,j){j===void 0&&(j=0);var M=new DataView(D.buffer,D.byteOffset,D.byteLength);return M.getFloat32(j,!0)}e.readFloat32LE=v;function p(D,j){j===void 0&&(j=0);var M=new DataView(D.buffer,D.byteOffset,D.byteLength);return M.getFloat64(j)}e.readFloat64BE=p;function q(D,j){j===void 0&&(j=0);var M=new DataView(D.buffer,D.byteOffset,D.byteLength);return M.getFloat64(j,!0)}e.readFloat64LE=q;function V(D,j,M){j===void 0&&(j=new Uint8Array(4)),M===void 0&&(M=0);var ee=new DataView(j.buffer,j.byteOffset,j.byteLength);return ee.setFloat32(M,D),j}e.writeFloat32BE=V;function z(D,j,M){j===void 0&&(j=new Uint8Array(4)),M===void 0&&(M=0);var ee=new DataView(j.buffer,j.byteOffset,j.byteLength);return ee.setFloat32(M,D,!0),j}e.writeFloat32LE=z;function E(D,j,M){j===void 0&&(j=new Uint8Array(8)),M===void 0&&(M=0);var ee=new DataView(j.buffer,j.byteOffset,j.byteLength);return ee.setFloat64(M,D),j}e.writeFloat64BE=E;function B(D,j,M){j===void 0&&(j=new Uint8Array(8)),M===void 0&&(M=0);var ee=new DataView(j.buffer,j.byteOffset,j.byteLength);return ee.setFloat64(M,D,!0),j}e.writeFloat64LE=B}),r5=Qe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});function t(r){for(var n=0;n<r.length;n++)r[n]=0;return r}e.wipe=t}),n5=Qe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=t5(),r=r5();e.DIGEST_LENGTH=32,e.BLOCK_SIZE=64;var n=function(){function s(){this.digestLength=e.DIGEST_LENGTH,this.blockSize=e.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return s.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},s.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},s.prototype.clean=function(){r.wipe(this._buffer),r.wipe(this._temp),this.reset()},s.prototype.update=function(h,a){if(a===void 0&&(a=h.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var d=0;if(this._bytesHashed+=a,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&a>0;)this._buffer[this._bufferLength++]=h[d++],a--;this._bufferLength===this.blockSize&&(u(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(a>=this.blockSize&&(d=u(this._temp,this._state,h,d,a),a%=this.blockSize);a>0;)this._buffer[this._bufferLength++]=h[d++],a--;return this},s.prototype.finish=function(h){if(!this._finished){var a=this._bytesHashed,d=this._bufferLength,f=a/536870912|0,g=a<<3,R=a%64<56?64:128;this._buffer[d]=128;for(var S=d+1;S<R-8;S++)this._buffer[S]=0;t.writeUint32BE(f,this._buffer,R-8),t.writeUint32BE(g,this._buffer,R-4),u(this._temp,this._state,this._buffer,0,R),this._finished=!0}for(var S=0;S<this.digestLength/4;S++)t.writeUint32BE(this._state[S],h,S*4);return this},s.prototype.digest=function(){var h=new Uint8Array(this.digestLength);return this.finish(h),h},s.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},s.prototype.restoreState=function(h){return this._state.set(h.state),this._bufferLength=h.bufferLength,h.buffer&&this._buffer.set(h.buffer),this._bytesHashed=h.bytesHashed,this._finished=!1,this},s.prototype.cleanSavedState=function(h){r.wipe(h.state),h.buffer&&r.wipe(h.buffer),h.bufferLength=0,h.bytesHashed=0},s}();e.SHA256=n;var i=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function u(s,h,a,d,f){for(;f>=64;){for(var g=h[0],R=h[1],S=h[2],m=h[3],T=h[4],O=h[5],k=h[6],y=h[7],I=0;I<16;I++){var w=d+I*4;s[I]=t.readUint32BE(a,w)}for(var I=16;I<64;I++){var L=s[I-2],N=(L>>>17|L<<32-17)^(L>>>19|L<<32-19)^L>>>10;L=s[I-15];var C=(L>>>7|L<<32-7)^(L>>>18|L<<32-18)^L>>>3;s[I]=(N+s[I-7]|0)+(C+s[I-16]|0)}for(var I=0;I<64;I++){var N=(((T>>>6|T<<26)^(T>>>11|T<<21)^(T>>>25|T<<7))+(T&O^~T&k)|0)+(y+(i[I]+s[I]|0)|0)|0,C=((g>>>2|g<<32-2)^(g>>>13|g<<32-13)^(g>>>22|g<<32-22))+(g&R^g&S^R&S)|0;y=k,k=O,O=T,T=m+N|0,m=S,S=R,R=g,g=N+C|0}h[0]+=g,h[1]+=R,h[2]+=S,h[3]+=m,h[4]+=T,h[5]+=O,h[6]+=k,h[7]+=y,d+=64,f-=64}return d}function c(s){var h=new n;h.update(s);var a=h.digest();return h.clean(),a}e.hash=c}),lt=Qe((e,t)=>{t.exports={options:{usePureJavaScript:!1}}}),i5=Qe((e,t)=>{var r={};t.exports=r;var n={};r.encode=function(u,c,s){if(typeof c!="string")throw new TypeError('"alphabet" must be a string.');if(s!==void 0&&typeof s!="number")throw new TypeError('"maxline" must be a number.');var h="";if(!(u instanceof Uint8Array))h=i(u,c);else{var a=0,d=c.length,f=c.charAt(0),g=[0];for(a=0;a<u.length;++a){for(var R=0,S=u[a];R<g.length;++R)S+=g[R]<<8,g[R]=S%d,S=S/d|0;for(;S>0;)g.push(S%d),S=S/d|0}for(a=0;u[a]===0&&a<u.length-1;++a)h+=f;for(a=g.length-1;a>=0;--a)h+=c[g[a]]}if(s){var m=new RegExp(".{1,"+s+"}","g");h=h.match(m).join(`\r
`)}return h},r.decode=function(u,c){if(typeof u!="string")throw new TypeError('"input" must be a string.');if(typeof c!="string")throw new TypeError('"alphabet" must be a string.');var s=n[c];if(!s){s=n[c]=[];for(var h=0;h<c.length;++h)s[c.charCodeAt(h)]=h}u=u.replace(/\s/g,"");for(var a=c.length,d=c.charAt(0),f=[0],h=0;h<u.length;h++){var g=s[u.charCodeAt(h)];if(g===void 0)return;for(var R=0,S=g;R<f.length;++R)S+=f[R]*a,f[R]=S&255,S>>=8;for(;S>0;)f.push(S&255),S>>=8}for(var m=0;u[m]===d&&m<u.length-1;++m)f.push(0);return typeof Buffer<"u"?Buffer.from(f.reverse()):new Uint8Array(f.reverse())};function i(u,c){var s=0,h=c.length,a=c.charAt(0),d=[0];for(s=0;s<u.length();++s){for(var f=0,g=u.at(s);f<d.length;++f)g+=d[f]<<8,d[f]=g%h,g=g/h|0;for(;g>0;)d.push(g%h),g=g/h|0}var R="";for(s=0;u.at(s)===0&&s<u.length()-1;++s)R+=a;for(s=d.length-1;s>=0;--s)R+=c[d[s]];return R}}),Et=Qe((e,t)=>{var r=lt(),n=i5(),i=t.exports=r.util=r.util||{};(function(){if(typeof process<"u"&&process.nextTick&&!process.browser){i.nextTick=process.nextTick,typeof setImmediate=="function"?i.setImmediate=setImmediate:i.setImmediate=i.nextTick;return}if(typeof setImmediate=="function"){i.setImmediate=function(){return setImmediate.apply(void 0,arguments)},i.nextTick=function(p){return setImmediate(p)};return}if(i.setImmediate=function(p){setTimeout(p,0)},typeof window<"u"&&typeof window.postMessage=="function"){let p=function(q){if(q.source===window&&q.data===I){q.stopPropagation();var V=w.slice();w.length=0,V.forEach(function(z){z()})}};var y=p,I="forge.setImmediate",w=[];i.setImmediate=function(q){w.push(q),w.length===1&&window.postMessage(I,"*")},window.addEventListener("message",p,!0)}if(typeof MutationObserver<"u"){var L=Date.now(),N=!0,C=document.createElement("div"),w=[];new MutationObserver(function(){var q=w.slice();w.length=0,q.forEach(function(V){V()})}).observe(C,{attributes:!0});var v=i.setImmediate;i.setImmediate=function(q){Date.now()-L>15?(L=Date.now(),v(q)):(w.push(q),w.length===1&&C.setAttribute("a",N=!N))}}i.nextTick=i.setImmediate})(),i.isNodejs=typeof process<"u"&&process.versions&&process.versions.node,i.globalScope=function(){return i.isNodejs?global:typeof self>"u"?window:self}(),i.isArray=Array.isArray||function(y){return Object.prototype.toString.call(y)==="[object Array]"},i.isArrayBuffer=function(y){return typeof ArrayBuffer<"u"&&y instanceof ArrayBuffer},i.isArrayBufferView=function(y){return y&&i.isArrayBuffer(y.buffer)&&y.byteLength!==void 0};function u(y){if(!(y===8||y===16||y===24||y===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+y)}i.ByteBuffer=c;function c(y){if(this.data="",this.read=0,typeof y=="string")this.data=y;else if(i.isArrayBuffer(y)||i.isArrayBufferView(y))if(typeof Buffer<"u"&&y instanceof Buffer)this.data=y.toString("binary");else{var I=new Uint8Array(y);try{this.data=String.fromCharCode.apply(null,I)}catch{for(var w=0;w<I.length;++w)this.putByte(I[w])}}else(y instanceof c||typeof y=="object"&&typeof y.data=="string"&&typeof y.read=="number")&&(this.data=y.data,this.read=y.read);this._constructedStringLength=0}i.ByteStringBuffer=c;var s=4096;i.ByteStringBuffer.prototype._optimizeConstructedString=function(y){this._constructedStringLength+=y,this._constructedStringLength>s&&(this.data.substr(0,1),this._constructedStringLength=0)},i.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},i.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},i.ByteStringBuffer.prototype.putByte=function(y){return this.putBytes(String.fromCharCode(y))},i.ByteStringBuffer.prototype.fillWithByte=function(y,I){y=String.fromCharCode(y);for(var w=this.data;I>0;)I&1&&(w+=y),I>>>=1,I>0&&(y+=y);return this.data=w,this._optimizeConstructedString(I),this},i.ByteStringBuffer.prototype.putBytes=function(y){return this.data+=y,this._optimizeConstructedString(y.length),this},i.ByteStringBuffer.prototype.putString=function(y){return this.putBytes(i.encodeUtf8(y))},i.ByteStringBuffer.prototype.putInt16=function(y){return this.putBytes(String.fromCharCode(y>>8&255)+String.fromCharCode(y&255))},i.ByteStringBuffer.prototype.putInt24=function(y){return this.putBytes(String.fromCharCode(y>>16&255)+String.fromCharCode(y>>8&255)+String.fromCharCode(y&255))},i.ByteStringBuffer.prototype.putInt32=function(y){return this.putBytes(String.fromCharCode(y>>24&255)+String.fromCharCode(y>>16&255)+String.fromCharCode(y>>8&255)+String.fromCharCode(y&255))},i.ByteStringBuffer.prototype.putInt16Le=function(y){return this.putBytes(String.fromCharCode(y&255)+String.fromCharCode(y>>8&255))},i.ByteStringBuffer.prototype.putInt24Le=function(y){return this.putBytes(String.fromCharCode(y&255)+String.fromCharCode(y>>8&255)+String.fromCharCode(y>>16&255))},i.ByteStringBuffer.prototype.putInt32Le=function(y){return this.putBytes(String.fromCharCode(y&255)+String.fromCharCode(y>>8&255)+String.fromCharCode(y>>16&255)+String.fromCharCode(y>>24&255))},i.ByteStringBuffer.prototype.putInt=function(y,I){u(I);var w="";do I-=8,w+=String.fromCharCode(y>>I&255);while(I>0);return this.putBytes(w)},i.ByteStringBuffer.prototype.putSignedInt=function(y,I){return y<0&&(y+=2<<I-1),this.putInt(y,I)},i.ByteStringBuffer.prototype.putBuffer=function(y){return this.putBytes(y.getBytes())},i.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},i.ByteStringBuffer.prototype.getInt16=function(){var y=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,y},i.ByteStringBuffer.prototype.getInt24=function(){var y=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,y},i.ByteStringBuffer.prototype.getInt32=function(){var y=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,y},i.ByteStringBuffer.prototype.getInt16Le=function(){var y=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,y},i.ByteStringBuffer.prototype.getInt24Le=function(){var y=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,y},i.ByteStringBuffer.prototype.getInt32Le=function(){var y=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,y},i.ByteStringBuffer.prototype.getInt=function(y){u(y);var I=0;do I=(I<<8)+this.data.charCodeAt(this.read++),y-=8;while(y>0);return I},i.ByteStringBuffer.prototype.getSignedInt=function(y){var I=this.getInt(y),w=2<<y-2;return I>=w&&(I-=w<<1),I},i.ByteStringBuffer.prototype.getBytes=function(y){var I;return y?(y=Math.min(this.length(),y),I=this.data.slice(this.read,this.read+y),this.read+=y):y===0?I="":(I=this.read===0?this.data:this.data.slice(this.read),this.clear()),I},i.ByteStringBuffer.prototype.bytes=function(y){return typeof y>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+y)},i.ByteStringBuffer.prototype.at=function(y){return this.data.charCodeAt(this.read+y)},i.ByteStringBuffer.prototype.setAt=function(y,I){return this.data=this.data.substr(0,this.read+y)+String.fromCharCode(I)+this.data.substr(this.read+y+1),this},i.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},i.ByteStringBuffer.prototype.copy=function(){var y=i.createBuffer(this.data);return y.read=this.read,y},i.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},i.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},i.ByteStringBuffer.prototype.truncate=function(y){var I=Math.max(0,this.length()-y);return this.data=this.data.substr(this.read,I),this.read=0,this},i.ByteStringBuffer.prototype.toHex=function(){for(var y="",I=this.read;I<this.data.length;++I){var w=this.data.charCodeAt(I);w<16&&(y+="0"),y+=w.toString(16)}return y},i.ByteStringBuffer.prototype.toString=function(){return i.decodeUtf8(this.bytes())};function h(y,I){I=I||{},this.read=I.readOffset||0,this.growSize=I.growSize||1024;var w=i.isArrayBuffer(y),L=i.isArrayBufferView(y);if(w||L){w?this.data=new DataView(y):this.data=new DataView(y.buffer,y.byteOffset,y.byteLength),this.write="writeOffset"in I?I.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,y!=null&&this.putBytes(y),"writeOffset"in I&&(this.write=I.writeOffset)}i.DataBuffer=h,i.DataBuffer.prototype.length=function(){return this.write-this.read},i.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},i.DataBuffer.prototype.accommodate=function(y,I){if(this.length()>=y)return this;I=Math.max(I||this.growSize,y);var w=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),L=new Uint8Array(this.length()+I);return L.set(w),this.data=new DataView(L.buffer),this},i.DataBuffer.prototype.putByte=function(y){return this.accommodate(1),this.data.setUint8(this.write++,y),this},i.DataBuffer.prototype.fillWithByte=function(y,I){this.accommodate(I);for(var w=0;w<I;++w)this.data.setUint8(y);return this},i.DataBuffer.prototype.putBytes=function(y,I){if(i.isArrayBufferView(y)){var w=new Uint8Array(y.buffer,y.byteOffset,y.byteLength),L=w.byteLength-w.byteOffset;this.accommodate(L);var N=new Uint8Array(this.data.buffer,this.write);return N.set(w),this.write+=L,this}if(i.isArrayBuffer(y)){var w=new Uint8Array(y);this.accommodate(w.byteLength);var N=new Uint8Array(this.data.buffer);return N.set(w,this.write),this.write+=w.byteLength,this}if(y instanceof i.DataBuffer||typeof y=="object"&&typeof y.read=="number"&&typeof y.write=="number"&&i.isArrayBufferView(y.data)){var w=new Uint8Array(y.data.byteLength,y.read,y.length());this.accommodate(w.byteLength);var N=new Uint8Array(y.data.byteLength,this.write);return N.set(w),this.write+=w.byteLength,this}if(y instanceof i.ByteStringBuffer&&(y=y.data,I="binary"),I=I||"binary",typeof y=="string"){var C;if(I==="hex")return this.accommodate(Math.ceil(y.length/2)),C=new Uint8Array(this.data.buffer,this.write),this.write+=i.binary.hex.decode(y,C,this.write),this;if(I==="base64")return this.accommodate(Math.ceil(y.length/4)*3),C=new Uint8Array(this.data.buffer,this.write),this.write+=i.binary.base64.decode(y,C,this.write),this;if(I==="utf8"&&(y=i.encodeUtf8(y),I="binary"),I==="binary"||I==="raw")return this.accommodate(y.length),C=new Uint8Array(this.data.buffer,this.write),this.write+=i.binary.raw.decode(C),this;if(I==="utf16")return this.accommodate(y.length*2),C=new Uint16Array(this.data.buffer,this.write),this.write+=i.text.utf16.encode(C),this;throw new Error("Invalid encoding: "+I)}throw Error("Invalid parameter: "+y)},i.DataBuffer.prototype.putBuffer=function(y){return this.putBytes(y),y.clear(),this},i.DataBuffer.prototype.putString=function(y){return this.putBytes(y,"utf16")},i.DataBuffer.prototype.putInt16=function(y){return this.accommodate(2),this.data.setInt16(this.write,y),this.write+=2,this},i.DataBuffer.prototype.putInt24=function(y){return this.accommodate(3),this.data.setInt16(this.write,y>>8&65535),this.data.setInt8(this.write,y>>16&255),this.write+=3,this},i.DataBuffer.prototype.putInt32=function(y){return this.accommodate(4),this.data.setInt32(this.write,y),this.write+=4,this},i.DataBuffer.prototype.putInt16Le=function(y){return this.accommodate(2),this.data.setInt16(this.write,y,!0),this.write+=2,this},i.DataBuffer.prototype.putInt24Le=function(y){return this.accommodate(3),this.data.setInt8(this.write,y>>16&255),this.data.setInt16(this.write,y>>8&65535,!0),this.write+=3,this},i.DataBuffer.prototype.putInt32Le=function(y){return this.accommodate(4),this.data.setInt32(this.write,y,!0),this.write+=4,this},i.DataBuffer.prototype.putInt=function(y,I){u(I),this.accommodate(I/8);do I-=8,this.data.setInt8(this.write++,y>>I&255);while(I>0);return this},i.DataBuffer.prototype.putSignedInt=function(y,I){return u(I),this.accommodate(I/8),y<0&&(y+=2<<I-1),this.putInt(y,I)},i.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},i.DataBuffer.prototype.getInt16=function(){var y=this.data.getInt16(this.read);return this.read+=2,y},i.DataBuffer.prototype.getInt24=function(){var y=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,y},i.DataBuffer.prototype.getInt32=function(){var y=this.data.getInt32(this.read);return this.read+=4,y},i.DataBuffer.prototype.getInt16Le=function(){var y=this.data.getInt16(this.read,!0);return this.read+=2,y},i.DataBuffer.prototype.getInt24Le=function(){var y=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,y},i.DataBuffer.prototype.getInt32Le=function(){var y=this.data.getInt32(this.read,!0);return this.read+=4,y},i.DataBuffer.prototype.getInt=function(y){u(y);var I=0;do I=(I<<8)+this.data.getInt8(this.read++),y-=8;while(y>0);return I},i.DataBuffer.prototype.getSignedInt=function(y){var I=this.getInt(y),w=2<<y-2;return I>=w&&(I-=w<<1),I},i.DataBuffer.prototype.getBytes=function(y){var I;return y?(y=Math.min(this.length(),y),I=this.data.slice(this.read,this.read+y),this.read+=y):y===0?I="":(I=this.read===0?this.data:this.data.slice(this.read),this.clear()),I},i.DataBuffer.prototype.bytes=function(y){return typeof y>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+y)},i.DataBuffer.prototype.at=function(y){return this.data.getUint8(this.read+y)},i.DataBuffer.prototype.setAt=function(y,I){return this.data.setUint8(y,I),this},i.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},i.DataBuffer.prototype.copy=function(){return new i.DataBuffer(this)},i.DataBuffer.prototype.compact=function(){if(this.read>0){var y=new Uint8Array(this.data.buffer,this.read),I=new Uint8Array(y.byteLength);I.set(y),this.data=new DataView(I),this.write-=this.read,this.read=0}return this},i.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},i.DataBuffer.prototype.truncate=function(y){return this.write=Math.max(0,this.length()-y),this.read=Math.min(this.read,this.write),this},i.DataBuffer.prototype.toHex=function(){for(var y="",I=this.read;I<this.data.byteLength;++I){var w=this.data.getUint8(I);w<16&&(y+="0"),y+=w.toString(16)}return y},i.DataBuffer.prototype.toString=function(y){var I=new Uint8Array(this.data,this.read,this.length());if(y=y||"utf8",y==="binary"||y==="raw")return i.binary.raw.encode(I);if(y==="hex")return i.binary.hex.encode(I);if(y==="base64")return i.binary.base64.encode(I);if(y==="utf8")return i.text.utf8.decode(I);if(y==="utf16")return i.text.utf16.decode(I);throw new Error("Invalid encoding: "+y)},i.createBuffer=function(y,I){return I=I||"raw",y!==void 0&&I==="utf8"&&(y=i.encodeUtf8(y)),new i.ByteBuffer(y)},i.fillString=function(y,I){for(var w="";I>0;)I&1&&(w+=y),I>>>=1,I>0&&(y+=y);return w},i.xorBytes=function(y,I,w){for(var L="",N="",C="",v=0,p=0;w>0;--w,++v)N=y.charCodeAt(v)^I.charCodeAt(v),p>=10&&(L+=C,C="",p=0),C+=String.fromCharCode(N),++p;return L+=C,L},i.hexToBytes=function(y){var I="",w=0;for(y.length&!0&&(w=1,I+=String.fromCharCode(parseInt(y[0],16)));w<y.length;w+=2)I+=String.fromCharCode(parseInt(y.substr(w,2),16));return I},i.bytesToHex=function(y){return i.createBuffer(y).toHex()},i.int32ToBytes=function(y){return String.fromCharCode(y>>24&255)+String.fromCharCode(y>>16&255)+String.fromCharCode(y>>8&255)+String.fromCharCode(y&255)};var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",d=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],f="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";i.encode64=function(y,I){for(var w="",L="",N,C,v,p=0;p<y.length;)N=y.charCodeAt(p++),C=y.charCodeAt(p++),v=y.charCodeAt(p++),w+=a.charAt(N>>2),w+=a.charAt((N&3)<<4|C>>4),isNaN(C)?w+="==":(w+=a.charAt((C&15)<<2|v>>6),w+=isNaN(v)?"=":a.charAt(v&63)),I&&w.length>I&&(L+=w.substr(0,I)+`\r
`,w=w.substr(I));return L+=w,L},i.decode64=function(y){y=y.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var I="",w,L,N,C,v=0;v<y.length;)w=d[y.charCodeAt(v++)-43],L=d[y.charCodeAt(v++)-43],N=d[y.charCodeAt(v++)-43],C=d[y.charCodeAt(v++)-43],I+=String.fromCharCode(w<<2|L>>4),N!==64&&(I+=String.fromCharCode((L&15)<<4|N>>2),C!==64&&(I+=String.fromCharCode((N&3)<<6|C)));return I},i.encodeUtf8=function(y){return unescape(encodeURIComponent(y))},i.decodeUtf8=function(y){return decodeURIComponent(escape(y))},i.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:n.encode,decode:n.decode}},i.binary.raw.encode=function(y){return String.fromCharCode.apply(null,y)},i.binary.raw.decode=function(y,I,w){var L=I;L||(L=new Uint8Array(y.length)),w=w||0;for(var N=w,C=0;C<y.length;++C)L[N++]=y.charCodeAt(C);return I?N-w:L},i.binary.hex.encode=i.bytesToHex,i.binary.hex.decode=function(y,I,w){var L=I;L||(L=new Uint8Array(Math.ceil(y.length/2))),w=w||0;var N=0,C=w;for(y.length&1&&(N=1,L[C++]=parseInt(y[0],16));N<y.length;N+=2)L[C++]=parseInt(y.substr(N,2),16);return I?C-w:L},i.binary.base64.encode=function(y,I){for(var w="",L="",N,C,v,p=0;p<y.byteLength;)N=y[p++],C=y[p++],v=y[p++],w+=a.charAt(N>>2),w+=a.charAt((N&3)<<4|C>>4),isNaN(C)?w+="==":(w+=a.charAt((C&15)<<2|v>>6),w+=isNaN(v)?"=":a.charAt(v&63)),I&&w.length>I&&(L+=w.substr(0,I)+`\r
`,w=w.substr(I));return L+=w,L},i.binary.base64.decode=function(y,I,w){var L=I;L||(L=new Uint8Array(Math.ceil(y.length/4)*3)),y=y.replace(/[^A-Za-z0-9\+\/\=]/g,""),w=w||0;for(var N,C,v,p,q=0,V=w;q<y.length;)N=d[y.charCodeAt(q++)-43],C=d[y.charCodeAt(q++)-43],v=d[y.charCodeAt(q++)-43],p=d[y.charCodeAt(q++)-43],L[V++]=N<<2|C>>4,v!==64&&(L[V++]=(C&15)<<4|v>>2,p!==64&&(L[V++]=(v&3)<<6|p));return I?V-w:L.subarray(0,V)},i.binary.base58.encode=function(y,I){return i.binary.baseN.encode(y,f,I)},i.binary.base58.decode=function(y,I){return i.binary.baseN.decode(y,f,I)},i.text={utf8:{},utf16:{}},i.text.utf8.encode=function(y,I,w){y=i.encodeUtf8(y);var L=I;L||(L=new Uint8Array(y.length)),w=w||0;for(var N=w,C=0;C<y.length;++C)L[N++]=y.charCodeAt(C);return I?N-w:L},i.text.utf8.decode=function(y){return i.decodeUtf8(String.fromCharCode.apply(null,y))},i.text.utf16.encode=function(y,I,w){var L=I;L||(L=new Uint8Array(y.length*2));var N=new Uint16Array(L.buffer);w=w||0;for(var C=w,v=w,p=0;p<y.length;++p)N[v++]=y.charCodeAt(p),C+=2;return I?C-w:L},i.text.utf16.decode=function(y){return String.fromCharCode.apply(null,new Uint16Array(y.buffer))},i.deflate=function(y,I,w){if(I=i.decode64(y.deflate(i.encode64(I)).rval),w){var L=2,N=I.charCodeAt(1);N&32&&(L=6),I=I.substring(L,I.length-4)}return I},i.inflate=function(y,I,w){var L=y.inflate(i.encode64(I)).rval;return L===null?null:i.decode64(L)};var g=function(y,I,w){if(!y)throw new Error("WebStorage not available.");var L;if(w===null?L=y.removeItem(I):(w=i.encode64(JSON.stringify(w)),L=y.setItem(I,w)),typeof L<"u"&&L.rval!==!0){var N=new Error(L.error.message);throw N.id=L.error.id,N.name=L.error.name,N}},R=function(y,I){if(!y)throw new Error("WebStorage not available.");var w=y.getItem(I);if(y.init)if(w.rval===null){if(w.error){var L=new Error(w.error.message);throw L.id=w.error.id,L.name=w.error.name,L}w=null}else w=w.rval;return w!==null&&(w=JSON.parse(i.decode64(w))),w},S=function(y,I,w,L){var N=R(y,I);N===null&&(N={}),N[w]=L,g(y,I,N)},m=function(y,I,w){var L=R(y,I);return L!==null&&(L=w in L?L[w]:null),L},T=function(y,I,w){var L=R(y,I);if(L!==null&&w in L){delete L[w];var N=!0;for(var C in L){N=!1;break}N&&(L=null),g(y,I,L)}},O=function(y,I){g(y,I,null)},k=function(y,I,w){var L=null;typeof w>"u"&&(w=["web","flash"]);var N,C=!1,v=null;for(var p in w){N=w[p];try{if(N==="flash"||N==="both"){if(I[0]===null)throw new Error("Flash local storage not available.");L=y.apply(this,I),C=N==="flash"}(N==="web"||N==="both")&&(I[0]=localStorage,L=y.apply(this,I),C=!0)}catch(q){v=q}if(C)break}if(!C)throw v;return L};i.setItem=function(y,I,w,L,N){k(S,arguments,N)},i.getItem=function(y,I,w,L){return k(m,arguments,L)},i.removeItem=function(y,I,w,L){k(T,arguments,L)},i.clearItems=function(y,I,w){k(O,arguments,w)},i.isEmpty=function(y){for(var I in y)if(y.hasOwnProperty(I))return!1;return!0},i.format=function(y){for(var I=/%./g,w,L,N=0,C=[],v=0;w=I.exec(y);){L=y.substring(v,I.lastIndex-2),L.length>0&&C.push(L),v=I.lastIndex;var p=w[0][1];switch(p){case"s":case"o":N<arguments.length?C.push(arguments[N+++1]):C.push("<?>");break;case"%":C.push("%");break;default:C.push("<%"+p+"?>")}}return C.push(y.substring(v)),C.join("")},i.formatNumber=function(y,I,w,L){var N=y,C=isNaN(I=Math.abs(I))?2:I,v=w===void 0?",":w,p=L===void 0?".":L,q=N<0?"-":"",V=parseInt(N=Math.abs(+N||0).toFixed(C),10)+"",z=V.length>3?V.length%3:0;return q+(z?V.substr(0,z)+p:"")+V.substr(z).replace(/(\d{3})(?=\d)/g,"$1"+p)+(C?v+Math.abs(N-V).toFixed(C).slice(2):"")},i.formatSize=function(y){return y>=1073741824?y=i.formatNumber(y/1073741824,2,".","")+" GiB":y>=1048576?y=i.formatNumber(y/1048576,2,".","")+" MiB":y>=1024?y=i.formatNumber(y/1024,0)+" KiB":y=i.formatNumber(y,0)+" bytes",y},i.bytesFromIP=function(y){return y.indexOf(".")!==-1?i.bytesFromIPv4(y):y.indexOf(":")!==-1?i.bytesFromIPv6(y):null},i.bytesFromIPv4=function(y){if(y=y.split("."),y.length!==4)return null;for(var I=i.createBuffer(),w=0;w<y.length;++w){var L=parseInt(y[w],10);if(isNaN(L))return null;I.putByte(L)}return I.getBytes()},i.bytesFromIPv6=function(y){var I=0;y=y.split(":").filter(function(v){return v.length===0&&++I,!0});for(var w=(8-y.length+I)*2,L=i.createBuffer(),N=0;N<8;++N){if(!y[N]||y[N].length===0){L.fillWithByte(0,w),w=0;continue}var C=i.hexToBytes(y[N]);C.length<2&&L.putByte(0),L.putBytes(C)}return L.getBytes()},i.bytesToIP=function(y){return y.length===4?i.bytesToIPv4(y):y.length===16?i.bytesToIPv6(y):null},i.bytesToIPv4=function(y){if(y.length!==4)return null;for(var I=[],w=0;w<y.length;++w)I.push(y.charCodeAt(w));return I.join(".")},i.bytesToIPv6=function(y){if(y.length!==16)return null;for(var I=[],w=[],L=0,N=0;N<y.length;N+=2){for(var C=i.bytesToHex(y[N]+y[N+1]);C[0]==="0"&&C!=="0";)C=C.substr(1);if(C==="0"){var v=w[w.length-1],p=I.length;!v||p!==v.end+1?w.push({start:p,end:p}):(v.end=p,v.end-v.start>w[L].end-w[L].start&&(L=w.length-1))}I.push(C)}if(w.length>0){var q=w[L];q.end-q.start>0&&(I.splice(q.start,q.end-q.start+1,""),q.start===0&&I.unshift(""),q.end===7&&I.push(""))}return I.join(":")},i.estimateCores=function(y,I){if(typeof y=="function"&&(I=y,y={}),y=y||{},"cores"in i&&!y.update)return I(null,i.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return i.cores=navigator.hardwareConcurrency,I(null,i.cores);if(typeof Worker>"u")return i.cores=1,I(null,i.cores);if(typeof Blob>"u")return i.cores=2,I(null,i.cores);var w=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(v){for(var p=Date.now(),q=p+4;Date.now()<q;);self.postMessage({st:p,et:q})})}.toString(),")()"],{type:"application/javascript"}));L([],5,16);function L(v,p,q){if(p===0){var V=Math.floor(v.reduce(function(z,E){return z+E},0)/v.length);return i.cores=Math.max(1,V),URL.revokeObjectURL(w),I(null,i.cores)}N(q,function(z,E){v.push(C(q,E)),L(v,p-1,q)})}function N(v,p){for(var q=[],V=[],z=0;z<v;++z){var E=new Worker(w);E.addEventListener("message",function(B){if(V.push(B.data),V.length===v){for(var D=0;D<v;++D)q[D].terminate();p(null,V)}}),q.push(E)}for(var z=0;z<v;++z)q[z].postMessage(z)}function C(v,p){for(var q=[],V=0;V<v;++V)for(var z=p[V],E=q[V]=[],B=0;B<v;++B)if(V!==B){var D=p[B];(z.st>D.st&&z.st<D.et||D.st>z.st&&D.st<z.et)&&E.push(B)}return q.reduce(function(j,M){return Math.max(j,M.length)},0)}}}),$p=Qe((e,t)=>{var r=lt();Et(),t.exports=r.cipher=r.cipher||{},r.cipher.algorithms=r.cipher.algorithms||{},r.cipher.createCipher=function(i,u){var c=i;if(typeof c=="string"&&(c=r.cipher.getAlgorithm(c),c&&(c=c())),!c)throw new Error("Unsupported algorithm: "+i);return new r.cipher.BlockCipher({algorithm:c,key:u,decrypt:!1})},r.cipher.createDecipher=function(i,u){var c=i;if(typeof c=="string"&&(c=r.cipher.getAlgorithm(c),c&&(c=c())),!c)throw new Error("Unsupported algorithm: "+i);return new r.cipher.BlockCipher({algorithm:c,key:u,decrypt:!0})},r.cipher.registerAlgorithm=function(i,u){i=i.toUpperCase(),r.cipher.algorithms[i]=u},r.cipher.getAlgorithm=function(i){return i=i.toUpperCase(),i in r.cipher.algorithms?r.cipher.algorithms[i]:null};var n=r.cipher.BlockCipher=function(i){this.algorithm=i.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=i.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=i.decrypt,this.algorithm.initialize(i)};n.prototype.start=function(i){i=i||{};var u={};for(var c in i)u[c]=i[c];u.decrypt=this._decrypt,this._finish=!1,this._input=r.util.createBuffer(),this.output=i.output||r.util.createBuffer(),this.mode.start(u)},n.prototype.update=function(i){for(i&&this._input.putBuffer(i);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},n.prototype.finish=function(i){i&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(c){return i(this.blockSize,c,!1)},this.mode.unpad=function(c){return i(this.blockSize,c,!0)});var u={};return u.decrypt=this._decrypt,u.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,u)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,u))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,u))}}),fb=Qe((e,t)=>{var r=lt();Et(),r.cipher=r.cipher||{};var n=t.exports=r.cipher.modes=r.cipher.modes||{};n.ecb=function(s){s=s||{},this.name="ECB",this.cipher=s.cipher,this.blockSize=s.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},n.ecb.prototype.start=function(s){},n.ecb.prototype.encrypt=function(s,h,a){if(s.length()<this.blockSize&&!(a&&s.length()>0))return!0;for(var d=0;d<this._ints;++d)this._inBlock[d]=s.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var d=0;d<this._ints;++d)h.putInt32(this._outBlock[d])},n.ecb.prototype.decrypt=function(s,h,a){if(s.length()<this.blockSize&&!(a&&s.length()>0))return!0;for(var d=0;d<this._ints;++d)this._inBlock[d]=s.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var d=0;d<this._ints;++d)h.putInt32(this._outBlock[d])},n.ecb.prototype.pad=function(s,h){var a=s.length()===this.blockSize?this.blockSize:this.blockSize-s.length();return s.fillWithByte(a,a),!0},n.ecb.prototype.unpad=function(s,h){if(h.overflow>0)return!1;var a=s.length(),d=s.at(a-1);return d>this.blockSize<<2?!1:(s.truncate(d),!0)},n.cbc=function(s){s=s||{},this.name="CBC",this.cipher=s.cipher,this.blockSize=s.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},n.cbc.prototype.start=function(s){if(s.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in s)this._iv=i(s.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")},n.cbc.prototype.encrypt=function(s,h,a){if(s.length()<this.blockSize&&!(a&&s.length()>0))return!0;for(var d=0;d<this._ints;++d)this._inBlock[d]=this._prev[d]^s.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var d=0;d<this._ints;++d)h.putInt32(this._outBlock[d]);this._prev=this._outBlock},n.cbc.prototype.decrypt=function(s,h,a){if(s.length()<this.blockSize&&!(a&&s.length()>0))return!0;for(var d=0;d<this._ints;++d)this._inBlock[d]=s.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var d=0;d<this._ints;++d)h.putInt32(this._prev[d]^this._outBlock[d]);this._prev=this._inBlock.slice(0)},n.cbc.prototype.pad=function(s,h){var a=s.length()===this.blockSize?this.blockSize:this.blockSize-s.length();return s.fillWithByte(a,a),!0},n.cbc.prototype.unpad=function(s,h){if(h.overflow>0)return!1;var a=s.length(),d=s.at(a-1);return d>this.blockSize<<2?!1:(s.truncate(d),!0)},n.cfb=function(s){s=s||{},this.name="CFB",this.cipher=s.cipher,this.blockSize=s.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=r.util.createBuffer(),this._partialBytes=0},n.cfb.prototype.start=function(s){if(!("iv"in s))throw new Error("Invalid IV parameter.");this._iv=i(s.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},n.cfb.prototype.encrypt=function(s,h,a){var d=s.length();if(d===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&d>=this.blockSize){for(var f=0;f<this._ints;++f)this._inBlock[f]=s.getInt32()^this._outBlock[f],h.putInt32(this._inBlock[f]);return}var g=(this.blockSize-d)%this.blockSize;g>0&&(g=this.blockSize-g),this._partialOutput.clear();for(var f=0;f<this._ints;++f)this._partialBlock[f]=s.getInt32()^this._outBlock[f],this._partialOutput.putInt32(this._partialBlock[f]);if(g>0)s.read-=this.blockSize;else for(var f=0;f<this._ints;++f)this._inBlock[f]=this._partialBlock[f];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),g>0&&!a)return h.putBytes(this._partialOutput.getBytes(g-this._partialBytes)),this._partialBytes=g,!0;h.putBytes(this._partialOutput.getBytes(d-this._partialBytes)),this._partialBytes=0},n.cfb.prototype.decrypt=function(s,h,a){var d=s.length();if(d===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&d>=this.blockSize){for(var f=0;f<this._ints;++f)this._inBlock[f]=s.getInt32(),h.putInt32(this._inBlock[f]^this._outBlock[f]);return}var g=(this.blockSize-d)%this.blockSize;g>0&&(g=this.blockSize-g),this._partialOutput.clear();for(var f=0;f<this._ints;++f)this._partialBlock[f]=s.getInt32(),this._partialOutput.putInt32(this._partialBlock[f]^this._outBlock[f]);if(g>0)s.read-=this.blockSize;else for(var f=0;f<this._ints;++f)this._inBlock[f]=this._partialBlock[f];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),g>0&&!a)return h.putBytes(this._partialOutput.getBytes(g-this._partialBytes)),this._partialBytes=g,!0;h.putBytes(this._partialOutput.getBytes(d-this._partialBytes)),this._partialBytes=0},n.ofb=function(s){s=s||{},this.name="OFB",this.cipher=s.cipher,this.blockSize=s.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=r.util.createBuffer(),this._partialBytes=0},n.ofb.prototype.start=function(s){if(!("iv"in s))throw new Error("Invalid IV parameter.");this._iv=i(s.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},n.ofb.prototype.encrypt=function(s,h,a){var d=s.length();if(s.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&d>=this.blockSize){for(var f=0;f<this._ints;++f)h.putInt32(s.getInt32()^this._outBlock[f]),this._inBlock[f]=this._outBlock[f];return}var g=(this.blockSize-d)%this.blockSize;g>0&&(g=this.blockSize-g),this._partialOutput.clear();for(var f=0;f<this._ints;++f)this._partialOutput.putInt32(s.getInt32()^this._outBlock[f]);if(g>0)s.read-=this.blockSize;else for(var f=0;f<this._ints;++f)this._inBlock[f]=this._outBlock[f];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),g>0&&!a)return h.putBytes(this._partialOutput.getBytes(g-this._partialBytes)),this._partialBytes=g,!0;h.putBytes(this._partialOutput.getBytes(d-this._partialBytes)),this._partialBytes=0},n.ofb.prototype.decrypt=n.ofb.prototype.encrypt,n.ctr=function(s){s=s||{},this.name="CTR",this.cipher=s.cipher,this.blockSize=s.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=r.util.createBuffer(),this._partialBytes=0},n.ctr.prototype.start=function(s){if(!("iv"in s))throw new Error("Invalid IV parameter.");this._iv=i(s.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},n.ctr.prototype.encrypt=function(s,h,a){var d=s.length();if(d===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&d>=this.blockSize)for(var f=0;f<this._ints;++f)h.putInt32(s.getInt32()^this._outBlock[f]);else{var g=(this.blockSize-d)%this.blockSize;g>0&&(g=this.blockSize-g),this._partialOutput.clear();for(var f=0;f<this._ints;++f)this._partialOutput.putInt32(s.getInt32()^this._outBlock[f]);if(g>0&&(s.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),g>0&&!a)return h.putBytes(this._partialOutput.getBytes(g-this._partialBytes)),this._partialBytes=g,!0;h.putBytes(this._partialOutput.getBytes(d-this._partialBytes)),this._partialBytes=0}u(this._inBlock)},n.ctr.prototype.decrypt=n.ctr.prototype.encrypt,n.gcm=function(s){s=s||{},this.name="GCM",this.cipher=s.cipher,this.blockSize=s.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=r.util.createBuffer(),this._partialBytes=0,this._R=3774873600},n.gcm.prototype.start=function(s){if(!("iv"in s))throw new Error("Invalid IV parameter.");var h=r.util.createBuffer(s.iv);this._cipherLength=0;var a;if("additionalData"in s?a=r.util.createBuffer(s.additionalData):a=r.util.createBuffer(),"tagLength"in s?this._tagLength=s.tagLength:this._tagLength=128,this._tag=null,s.decrypt&&(this._tag=r.util.createBuffer(s.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var d=h.length();if(d===12)this._j0=[h.getInt32(),h.getInt32(),h.getInt32(),1];else{for(this._j0=[0,0,0,0];h.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[h.getInt32(),h.getInt32(),h.getInt32(),h.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(c(d*8)))}this._inBlock=this._j0.slice(0),u(this._inBlock),this._partialBytes=0,a=r.util.createBuffer(a),this._aDataLength=c(a.length()*8);var f=a.length()%this.blockSize;for(f&&a.fillWithByte(0,this.blockSize-f),this._s=[0,0,0,0];a.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[a.getInt32(),a.getInt32(),a.getInt32(),a.getInt32()])},n.gcm.prototype.encrypt=function(s,h,a){var d=s.length();if(d===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&d>=this.blockSize){for(var f=0;f<this._ints;++f)h.putInt32(this._outBlock[f]^=s.getInt32());this._cipherLength+=this.blockSize}else{var g=(this.blockSize-d)%this.blockSize;g>0&&(g=this.blockSize-g),this._partialOutput.clear();for(var f=0;f<this._ints;++f)this._partialOutput.putInt32(s.getInt32()^this._outBlock[f]);if(g<=0||a){if(a){var R=d%this.blockSize;this._cipherLength+=R,this._partialOutput.truncate(this.blockSize-R)}else this._cipherLength+=this.blockSize;for(var f=0;f<this._ints;++f)this._outBlock[f]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),g>0&&!a)return s.read-=this.blockSize,h.putBytes(this._partialOutput.getBytes(g-this._partialBytes)),this._partialBytes=g,!0;h.putBytes(this._partialOutput.getBytes(d-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),u(this._inBlock)},n.gcm.prototype.decrypt=function(s,h,a){var d=s.length();if(d<this.blockSize&&!(a&&d>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),u(this._inBlock),this._hashBlock[0]=s.getInt32(),this._hashBlock[1]=s.getInt32(),this._hashBlock[2]=s.getInt32(),this._hashBlock[3]=s.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var f=0;f<this._ints;++f)h.putInt32(this._outBlock[f]^this._hashBlock[f]);d<this.blockSize?this._cipherLength+=d%this.blockSize:this._cipherLength+=this.blockSize},n.gcm.prototype.afterFinish=function(s,h){var a=!0;h.decrypt&&h.overflow&&s.truncate(this.blockSize-h.overflow),this.tag=r.util.createBuffer();var d=this._aDataLength.concat(c(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,d);var f=[];this.cipher.encrypt(this._j0,f);for(var g=0;g<this._ints;++g)this.tag.putInt32(this._s[g]^f[g]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),h.decrypt&&this.tag.bytes()!==this._tag&&(a=!1),a},n.gcm.prototype.multiply=function(s,h){for(var a=[0,0,0,0],d=h.slice(0),f=0;f<128;++f){var g=s[f/32|0]&1<<31-f%32;g&&(a[0]^=d[0],a[1]^=d[1],a[2]^=d[2],a[3]^=d[3]),this.pow(d,d)}return a},n.gcm.prototype.pow=function(s,h){for(var a=s[3]&1,d=3;d>0;--d)h[d]=s[d]>>>1|(s[d-1]&1)<<31;h[0]=s[0]>>>1,a&&(h[0]^=this._R)},n.gcm.prototype.tableMultiply=function(s){for(var h=[0,0,0,0],a=0;a<32;++a){var d=a/8|0,f=s[d]>>>(7-a%8)*4&15,g=this._m[a][f];h[0]^=g[0],h[1]^=g[1],h[2]^=g[2],h[3]^=g[3]}return h},n.gcm.prototype.ghash=function(s,h,a){return h[0]^=a[0],h[1]^=a[1],h[2]^=a[2],h[3]^=a[3],this.tableMultiply(h)},n.gcm.prototype.generateHashTable=function(s,h){for(var a=8/h,d=4*a,f=16*a,g=new Array(f),R=0;R<f;++R){var S=[0,0,0,0],m=R/d|0,T=(d-1-R%d)*h;S[m]=1<<h-1<<T,g[R]=this.generateSubHashTable(this.multiply(S,s),h)}return g},n.gcm.prototype.generateSubHashTable=function(s,h){var a=1<<h,d=a>>>1,f=new Array(a);f[d]=s.slice(0);for(var g=d>>>1;g>0;)this.pow(f[2*g],f[g]=[]),g>>=1;for(g=2;g<d;){for(var R=1;R<g;++R){var S=f[g],m=f[R];f[g+R]=[S[0]^m[0],S[1]^m[1],S[2]^m[2],S[3]^m[3]]}g*=2}for(f[0]=[0,0,0,0],g=d+1;g<a;++g){var T=f[g^d];f[g]=[s[0]^T[0],s[1]^T[1],s[2]^T[2],s[3]^T[3]]}return f};function i(s,h){if(typeof s=="string"&&(s=r.util.createBuffer(s)),r.util.isArray(s)&&s.length>4){var a=s;s=r.util.createBuffer();for(var d=0;d<a.length;++d)s.putByte(a[d])}if(s.length()<h)throw new Error("Invalid IV length; got "+s.length()+" bytes and expected "+h+" bytes.");if(!r.util.isArray(s)){for(var f=[],g=h/4,d=0;d<g;++d)f.push(s.getInt32());s=f}return s}function u(s){s[s.length-1]=s[s.length-1]+1&4294967295}function c(s){return[s/4294967296|0,s&4294967295]}}),ka=Qe((e,t)=>{var r=lt();$p(),fb(),Et(),t.exports=r.aes=r.aes||{},r.aes.startEncrypting=function(m,T,O,k){var y=S({key:m,output:O,decrypt:!1,mode:k});return y.start(T),y},r.aes.createEncryptionCipher=function(m,T){return S({key:m,output:null,decrypt:!1,mode:T})},r.aes.startDecrypting=function(m,T,O,k){var y=S({key:m,output:O,decrypt:!0,mode:k});return y.start(T),y},r.aes.createDecryptionCipher=function(m,T){return S({key:m,output:null,decrypt:!0,mode:T})},r.aes.Algorithm=function(m,T){i||f();var O=this;O.name=m,O.mode=new T({blockSize:16,cipher:{encrypt:function(k,y){return R(O._w,k,y,!1)},decrypt:function(k,y){return R(O._w,k,y,!0)}}}),O._init=!1},r.aes.Algorithm.prototype.initialize=function(m){if(!this._init){var T=m.key,O;if(typeof T=="string"&&(T.length===16||T.length===24||T.length===32))T=r.util.createBuffer(T);else if(r.util.isArray(T)&&(T.length===16||T.length===24||T.length===32)){O=T,T=r.util.createBuffer();for(var k=0;k<O.length;++k)T.putByte(O[k])}if(!r.util.isArray(T)){O=T,T=[];var y=O.length();if(y===16||y===24||y===32){y=y>>>2;for(var k=0;k<y;++k)T.push(O.getInt32())}}if(!r.util.isArray(T)||!(T.length===4||T.length===6||T.length===8))throw new Error("Invalid key parameter.");var I=this.mode.name,w=["CFB","OFB","CTR","GCM"].indexOf(I)!==-1;this._w=g(T,m.decrypt&&!w),this._init=!0}},r.aes._expandKey=function(m,T){return i||f(),g(m,T)},r.aes._updateBlock=R,n("AES-ECB",r.cipher.modes.ecb),n("AES-CBC",r.cipher.modes.cbc),n("AES-CFB",r.cipher.modes.cfb),n("AES-OFB",r.cipher.modes.ofb),n("AES-CTR",r.cipher.modes.ctr),n("AES-GCM",r.cipher.modes.gcm);function n(m,T){var O=function(){return new r.aes.Algorithm(m,T)};r.cipher.registerAlgorithm(m,O)}var i=!1,u=4,c,s,h,a,d;function f(){i=!0,h=[0,1,2,4,8,16,32,64,128,27,54];for(var m=new Array(256),T=0;T<128;++T)m[T]=T<<1,m[T+128]=T+128<<1^283;c=new Array(256),s=new Array(256),a=new Array(4),d=new Array(4);for(var T=0;T<4;++T)a[T]=new Array(256),d[T]=new Array(256);for(var O=0,k=0,y,I,w,L,N,C,v,T=0;T<256;++T){L=k^k<<1^k<<2^k<<3^k<<4,L=L>>8^L&255^99,c[O]=L,s[L]=O,N=m[L],y=m[O],I=m[y],w=m[I],C=N<<24^L<<16^L<<8^(L^N),v=(y^I^w)<<24^(O^w)<<16^(O^I^w)<<8^(O^y^w);for(var p=0;p<4;++p)a[p][O]=C,d[p][L]=v,C=C<<24|C>>>8,v=v<<24|v>>>8;O===0?O=k=1:(O=y^m[m[m[y^w]]],k^=m[m[k]])}}function g(m,T){for(var O=m.slice(0),k,y=1,I=O.length,w=I+6+1,L=u*w,N=I;N<L;++N)k=O[N-1],N%I===0?(k=c[k>>>16&255]<<24^c[k>>>8&255]<<16^c[k&255]<<8^c[k>>>24]^h[y]<<24,y++):I>6&&N%I===4&&(k=c[k>>>24]<<24^c[k>>>16&255]<<16^c[k>>>8&255]<<8^c[k&255]),O[N]=O[N-I]^k;if(T){var C,v=d[0],p=d[1],q=d[2],V=d[3],z=O.slice(0);L=O.length;for(var N=0,E=L-u;N<L;N+=u,E-=u)if(N===0||N===L-u)z[N]=O[E],z[N+1]=O[E+3],z[N+2]=O[E+2],z[N+3]=O[E+1];else for(var B=0;B<u;++B)C=O[E+B],z[N+(3&-B)]=v[c[C>>>24]]^p[c[C>>>16&255]]^q[c[C>>>8&255]]^V[c[C&255]];O=z}return O}function R(m,T,O,k){var y=m.length/4-1,I,w,L,N,C;k?(I=d[0],w=d[1],L=d[2],N=d[3],C=s):(I=a[0],w=a[1],L=a[2],N=a[3],C=c);var v,p,q,V,z,E,B;v=T[0]^m[0],p=T[k?3:1]^m[1],q=T[2]^m[2],V=T[k?1:3]^m[3];for(var D=3,j=1;j<y;++j)z=I[v>>>24]^w[p>>>16&255]^L[q>>>8&255]^N[V&255]^m[++D],E=I[p>>>24]^w[q>>>16&255]^L[V>>>8&255]^N[v&255]^m[++D],B=I[q>>>24]^w[V>>>16&255]^L[v>>>8&255]^N[p&255]^m[++D],V=I[V>>>24]^w[v>>>16&255]^L[p>>>8&255]^N[q&255]^m[++D],v=z,p=E,q=B;O[0]=C[v>>>24]<<24^C[p>>>16&255]<<16^C[q>>>8&255]<<8^C[V&255]^m[++D],O[k?3:1]=C[p>>>24]<<24^C[q>>>16&255]<<16^C[V>>>8&255]<<8^C[v&255]^m[++D],O[2]=C[q>>>24]<<24^C[V>>>16&255]<<16^C[v>>>8&255]<<8^C[p&255]^m[++D],O[k?1:3]=C[V>>>24]<<24^C[v>>>16&255]<<16^C[p>>>8&255]<<8^C[q&255]^m[++D]}function S(m){m=m||{};var T=(m.mode||"CBC").toUpperCase(),O="AES-"+T,k;m.decrypt?k=r.cipher.createDecipher(O,m.key):k=r.cipher.createCipher(O,m.key);var y=k.start;return k.start=function(I,w){var L=null;w instanceof r.util.ByteBuffer&&(L=w,w={}),w=w||{},w.output=L,w.iv=I,y.call(k,w)},k}}),Oa=Qe((e,t)=>{var r=lt();r.pki=r.pki||{};var n=t.exports=r.pki.oids=r.oids=r.oids||{};function i(c,s){n[c]=s,n[s]=c}function u(c,s){n[c]=s}i("1.2.840.113549.1.1.1","rsaEncryption"),i("1.2.840.113549.1.1.4","md5WithRSAEncryption"),i("1.2.840.113549.1.1.5","sha1WithRSAEncryption"),i("1.2.840.113549.1.1.7","RSAES-OAEP"),i("1.2.840.113549.1.1.8","mgf1"),i("1.2.840.113549.1.1.9","pSpecified"),i("1.2.840.113549.1.1.10","RSASSA-PSS"),i("1.2.840.113549.1.1.11","sha256WithRSAEncryption"),i("1.2.840.113549.1.1.12","sha384WithRSAEncryption"),i("1.2.840.113549.1.1.13","sha512WithRSAEncryption"),i("1.3.101.112","EdDSA25519"),i("1.2.840.10040.4.3","dsa-with-sha1"),i("1.3.14.3.2.7","desCBC"),i("1.3.14.3.2.26","sha1"),i("1.3.14.3.2.29","sha1WithRSASignature"),i("2.16.840.1.101.3.4.2.1","sha256"),i("2.16.840.1.101.3.4.2.2","sha384"),i("2.16.840.1.101.3.4.2.3","sha512"),i("2.16.840.1.101.3.4.2.4","sha224"),i("2.16.840.1.101.3.4.2.5","sha512-224"),i("2.16.840.1.101.3.4.2.6","sha512-256"),i("1.2.840.113549.2.2","md2"),i("1.2.840.113549.2.5","md5"),i("1.2.840.113549.1.7.1","data"),i("1.2.840.113549.1.7.2","signedData"),i("1.2.840.113549.1.7.3","envelopedData"),i("1.2.840.113549.1.7.4","signedAndEnvelopedData"),i("1.2.840.113549.1.7.5","digestedData"),i("1.2.840.113549.1.7.6","encryptedData"),i("1.2.840.113549.1.9.1","emailAddress"),i("1.2.840.113549.1.9.2","unstructuredName"),i("1.2.840.113549.1.9.3","contentType"),i("1.2.840.113549.1.9.4","messageDigest"),i("1.2.840.113549.1.9.5","signingTime"),i("1.2.840.113549.1.9.6","counterSignature"),i("1.2.840.113549.1.9.7","challengePassword"),i("1.2.840.113549.1.9.8","unstructuredAddress"),i("1.2.840.113549.1.9.14","extensionRequest"),i("1.2.840.113549.1.9.20","friendlyName"),i("1.2.840.113549.1.9.21","localKeyId"),i("1.2.840.113549.1.9.22.1","x509Certificate"),i("1.2.840.113549.1.12.10.1.1","keyBag"),i("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag"),i("1.2.840.113549.1.12.10.1.3","certBag"),i("1.2.840.113549.1.12.10.1.4","crlBag"),i("1.2.840.113549.1.12.10.1.5","secretBag"),i("1.2.840.113549.1.12.10.1.6","safeContentsBag"),i("1.2.840.113549.1.5.13","pkcs5PBES2"),i("1.2.840.113549.1.5.12","pkcs5PBKDF2"),i("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4"),i("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4"),i("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC"),i("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC"),i("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC"),i("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC"),i("1.2.840.113549.2.7","hmacWithSHA1"),i("1.2.840.113549.2.8","hmacWithSHA224"),i("1.2.840.113549.2.9","hmacWithSHA256"),i("1.2.840.113549.2.10","hmacWithSHA384"),i("1.2.840.113549.2.11","hmacWithSHA512"),i("1.2.840.113549.3.7","des-EDE3-CBC"),i("2.16.840.1.101.3.4.1.2","aes128-CBC"),i("2.16.840.1.101.3.4.1.22","aes192-CBC"),i("2.16.840.1.101.3.4.1.42","aes256-CBC"),i("2.5.4.3","commonName"),i("2.5.4.4","surname"),i("2.5.4.5","serialNumber"),i("2.5.4.6","countryName"),i("2.5.4.7","localityName"),i("2.5.4.8","stateOrProvinceName"),i("2.5.4.9","streetAddress"),i("2.5.4.10","organizationName"),i("2.5.4.11","organizationalUnitName"),i("2.5.4.12","title"),i("2.5.4.13","description"),i("2.5.4.15","businessCategory"),i("2.5.4.17","postalCode"),i("2.5.4.42","givenName"),i("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName"),i("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName"),i("2.16.840.1.113730.1.1","nsCertType"),i("2.16.840.1.113730.1.13","nsComment"),u("2.5.29.1","authorityKeyIdentifier"),u("2.5.29.2","keyAttributes"),u("2.5.29.3","certificatePolicies"),u("2.5.29.4","keyUsageRestriction"),u("2.5.29.5","policyMapping"),u("2.5.29.6","subtreesConstraint"),u("2.5.29.7","subjectAltName"),u("2.5.29.8","issuerAltName"),u("2.5.29.9","subjectDirectoryAttributes"),u("2.5.29.10","basicConstraints"),u("2.5.29.11","nameConstraints"),u("2.5.29.12","policyConstraints"),u("2.5.29.13","basicConstraints"),i("2.5.29.14","subjectKeyIdentifier"),i("2.5.29.15","keyUsage"),u("2.5.29.16","privateKeyUsagePeriod"),i("2.5.29.17","subjectAltName"),i("2.5.29.18","issuerAltName"),i("2.5.29.19","basicConstraints"),u("2.5.29.20","cRLNumber"),u("2.5.29.21","cRLReason"),u("2.5.29.22","expirationDate"),u("2.5.29.23","instructionCode"),u("2.5.29.24","invalidityDate"),u("2.5.29.25","cRLDistributionPoints"),u("2.5.29.26","issuingDistributionPoint"),u("2.5.29.27","deltaCRLIndicator"),u("2.5.29.28","issuingDistributionPoint"),u("2.5.29.29","certificateIssuer"),u("2.5.29.30","nameConstraints"),i("2.5.29.31","cRLDistributionPoints"),i("2.5.29.32","certificatePolicies"),u("2.5.29.33","policyMappings"),u("2.5.29.34","policyConstraints"),i("2.5.29.35","authorityKeyIdentifier"),u("2.5.29.36","policyConstraints"),i("2.5.29.37","extKeyUsage"),u("2.5.29.46","freshestCRL"),u("2.5.29.54","inhibitAnyPolicy"),i("1.3.6.1.4.1.11129.2.4.2","timestampList"),i("1.3.6.1.5.5.7.1.1","authorityInfoAccess"),i("1.3.6.1.5.5.7.3.1","serverAuth"),i("1.3.6.1.5.5.7.3.2","clientAuth"),i("1.3.6.1.5.5.7.3.3","codeSigning"),i("1.3.6.1.5.5.7.3.4","emailProtection"),i("1.3.6.1.5.5.7.3.8","timeStamping")}),Oi=Qe((e,t)=>{var r=lt();Et(),Oa();var n=t.exports=r.asn1=r.asn1||{};n.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192},n.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30},n.create=function(h,a,d,f,g){if(r.util.isArray(f)){for(var R=[],S=0;S<f.length;++S)f[S]!==void 0&&R.push(f[S]);f=R}var m={tagClass:h,type:a,constructed:d,composed:d||r.util.isArray(f),value:f};return g&&"bitStringContents"in g&&(m.bitStringContents=g.bitStringContents,m.original=n.copy(m)),m},n.copy=function(h,a){var d;if(r.util.isArray(h)){d=[];for(var f=0;f<h.length;++f)d.push(n.copy(h[f],a));return d}return typeof h=="string"?h:(d={tagClass:h.tagClass,type:h.type,constructed:h.constructed,composed:h.composed,value:n.copy(h.value,a)},a&&!a.excludeBitStringContents&&(d.bitStringContents=h.bitStringContents),d)},n.equals=function(h,a,d){if(r.util.isArray(h)){if(!r.util.isArray(a)||h.length!==a.length)return!1;for(var f=0;f<h.length;++f)if(!n.equals(h[f],a[f]))return!1;return!0}if(typeof h!=typeof a)return!1;if(typeof h=="string")return h===a;var g=h.tagClass===a.tagClass&&h.type===a.type&&h.constructed===a.constructed&&h.composed===a.composed&&n.equals(h.value,a.value);return d&&d.includeBitStringContents&&(g=g&&h.bitStringContents===a.bitStringContents),g},n.getBerValueLength=function(h){var a=h.getByte();if(a!==128){var d,f=a&128;return f?d=h.getInt((a&127)<<3):d=a,d}};function i(h,a,d){if(d>a){var f=new Error("Too few bytes to parse DER.");throw f.available=h.length(),f.remaining=a,f.requested=d,f}}var u=function(h,a){var d=h.getByte();if(a--,d!==128){var f,g=d&128;if(!g)f=d;else{var R=d&127;i(h,a,R),f=h.getInt(R<<3)}if(f<0)throw new Error("Negative length: "+f);return f}};n.fromDer=function(h,a){a===void 0&&(a={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),typeof a=="boolean"&&(a={strict:a,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in a||(a.strict=!0),"parseAllBytes"in a||(a.parseAllBytes=!0),"decodeBitStrings"in a||(a.decodeBitStrings=!0),typeof h=="string"&&(h=r.util.createBuffer(h));var d=h.length(),f=c(h,h.length(),0,a);if(a.parseAllBytes&&h.length()!==0){var g=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw g.byteCount=d,g.remaining=h.length(),g}return f};function c(h,a,d,f){var g;i(h,a,2);var R=h.getByte();a--;var S=R&192,m=R&31;g=h.length();var T=u(h,a);if(a-=g-h.length(),T!==void 0&&T>a){if(f.strict){var O=new Error("Too few bytes to read ASN.1 value.");throw O.available=h.length(),O.remaining=a,O.requested=T,O}T=a}var k,y,I=(R&32)===32;if(I)if(k=[],T===void 0)for(;;){if(i(h,a,2),h.bytes(2)===String.fromCharCode(0,0)){h.getBytes(2),a-=2;break}g=h.length(),k.push(c(h,a,d+1,f)),a-=g-h.length()}else for(;T>0;)g=h.length(),k.push(c(h,T,d+1,f)),a-=g-h.length(),T-=g-h.length();if(k===void 0&&S===n.Class.UNIVERSAL&&m===n.Type.BITSTRING&&(y=h.bytes(T)),k===void 0&&f.decodeBitStrings&&S===n.Class.UNIVERSAL&&m===n.Type.BITSTRING&&T>1){var w=h.read,L=a,N=0;if(m===n.Type.BITSTRING&&(i(h,a,1),N=h.getByte(),a--),N===0)try{g=h.length();var C={strict:!0,decodeBitStrings:!0},v=c(h,a,d+1,C),p=g-h.length();a-=p,m==n.Type.BITSTRING&&p++;var q=v.tagClass;p===T&&(q===n.Class.UNIVERSAL||q===n.Class.CONTEXT_SPECIFIC)&&(k=[v])}catch{}k===void 0&&(h.read=w,a=L)}if(k===void 0){if(T===void 0){if(f.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");T=a}if(m===n.Type.BMPSTRING)for(k="";T>0;T-=2)i(h,a,2),k+=String.fromCharCode(h.getInt16()),a-=2;else k=h.getBytes(T),a-=T}var V=y===void 0?null:{bitStringContents:y};return n.create(S,m,I,k,V)}n.toDer=function(h){var a=r.util.createBuffer(),d=h.tagClass|h.type,f=r.util.createBuffer(),g=!1;if("bitStringContents"in h&&(g=!0,h.original&&(g=n.equals(h,h.original))),g)f.putBytes(h.bitStringContents);else if(h.composed){h.constructed?d|=32:f.putByte(0);for(var R=0;R<h.value.length;++R)h.value[R]!==void 0&&f.putBuffer(n.toDer(h.value[R]))}else if(h.type===n.Type.BMPSTRING)for(var R=0;R<h.value.length;++R)f.putInt16(h.value.charCodeAt(R));else h.type===n.Type.INTEGER&&h.value.length>1&&(h.value.charCodeAt(0)===0&&!(h.value.charCodeAt(1)&128)||h.value.charCodeAt(0)===255&&(h.value.charCodeAt(1)&128)===128)?f.putBytes(h.value.substr(1)):f.putBytes(h.value);if(a.putByte(d),f.length()<=127)a.putByte(f.length()&127);else{var S=f.length(),m="";do m+=String.fromCharCode(S&255),S=S>>>8;while(S>0);a.putByte(m.length|128);for(var R=m.length-1;R>=0;--R)a.putByte(m.charCodeAt(R))}return a.putBuffer(f),a},n.oidToDer=function(h){var a=h.split("."),d=r.util.createBuffer();d.putByte(40*parseInt(a[0],10)+parseInt(a[1],10));for(var f,g,R,S,m=2;m<a.length;++m){f=!0,g=[],R=parseInt(a[m],10);do S=R&127,R=R>>>7,f||(S|=128),g.push(S),f=!1;while(R>0);for(var T=g.length-1;T>=0;--T)d.putByte(g[T])}return d},n.derToOid=function(h){var a;typeof h=="string"&&(h=r.util.createBuffer(h));var d=h.getByte();a=Math.floor(d/40)+"."+d%40;for(var f=0;h.length()>0;)d=h.getByte(),f=f<<7,d&128?f+=d&127:(a+="."+(f+d),f=0);return a},n.utcTimeToDate=function(h){var a=new Date,d=parseInt(h.substr(0,2),10);d=d>=50?1900+d:2e3+d;var f=parseInt(h.substr(2,2),10)-1,g=parseInt(h.substr(4,2),10),R=parseInt(h.substr(6,2),10),S=parseInt(h.substr(8,2),10),m=0;if(h.length>11){var T=h.charAt(10),O=10;T!=="+"&&T!=="-"&&(m=parseInt(h.substr(10,2),10),O+=2)}if(a.setUTCFullYear(d,f,g),a.setUTCHours(R,S,m,0),O&&(T=h.charAt(O),T==="+"||T==="-")){var k=parseInt(h.substr(O+1,2),10),y=parseInt(h.substr(O+4,2),10),I=k*60+y;I*=6e4,T==="+"?a.setTime(+a-I):a.setTime(+a+I)}return a},n.generalizedTimeToDate=function(h){var a=new Date,d=parseInt(h.substr(0,4),10),f=parseInt(h.substr(4,2),10)-1,g=parseInt(h.substr(6,2),10),R=parseInt(h.substr(8,2),10),S=parseInt(h.substr(10,2),10),m=parseInt(h.substr(12,2),10),T=0,O=0,k=!1;h.charAt(h.length-1)==="Z"&&(k=!0);var y=h.length-5,I=h.charAt(y);if(I==="+"||I==="-"){var w=parseInt(h.substr(y+1,2),10),L=parseInt(h.substr(y+4,2),10);O=w*60+L,O*=6e4,I==="+"&&(O*=-1),k=!0}return h.charAt(14)==="."&&(T=parseFloat(h.substr(14),10)*1e3),k?(a.setUTCFullYear(d,f,g),a.setUTCHours(R,S,m,T),a.setTime(+a+O)):(a.setFullYear(d,f,g),a.setHours(R,S,m,T)),a},n.dateToUtcTime=function(h){if(typeof h=="string")return h;var a="",d=[];d.push((""+h.getUTCFullYear()).substr(2)),d.push(""+(h.getUTCMonth()+1)),d.push(""+h.getUTCDate()),d.push(""+h.getUTCHours()),d.push(""+h.getUTCMinutes()),d.push(""+h.getUTCSeconds());for(var f=0;f<d.length;++f)d[f].length<2&&(a+="0"),a+=d[f];return a+="Z",a},n.dateToGeneralizedTime=function(h){if(typeof h=="string")return h;var a="",d=[];d.push(""+h.getUTCFullYear()),d.push(""+(h.getUTCMonth()+1)),d.push(""+h.getUTCDate()),d.push(""+h.getUTCHours()),d.push(""+h.getUTCMinutes()),d.push(""+h.getUTCSeconds());for(var f=0;f<d.length;++f)d[f].length<2&&(a+="0"),a+=d[f];return a+="Z",a},n.integerToDer=function(h){var a=r.util.createBuffer();if(h>=-128&&h<128)return a.putSignedInt(h,8);if(h>=-32768&&h<32768)return a.putSignedInt(h,16);if(h>=-8388608&&h<8388608)return a.putSignedInt(h,24);if(h>=-2147483648&&h<2147483648)return a.putSignedInt(h,32);var d=new Error("Integer too large; max is 32-bits.");throw d.integer=h,d},n.derToInteger=function(h){typeof h=="string"&&(h=r.util.createBuffer(h));var a=h.length()*8;if(a>32)throw new Error("Integer too large; max is 32-bits.");return h.getSignedInt(a)},n.validate=function(h,a,d,f){var g=!1;if((h.tagClass===a.tagClass||typeof a.tagClass>"u")&&(h.type===a.type||typeof a.type>"u"))if(h.constructed===a.constructed||typeof a.constructed>"u"){if(g=!0,a.value&&r.util.isArray(a.value))for(var R=0,S=0;g&&S<a.value.length;++S)g=a.value[S].optional||!1,h.value[R]&&(g=n.validate(h.value[R],a.value[S],d,f),g?++R:a.value[S].optional&&(g=!0)),!g&&f&&f.push("["+a.name+'] Tag class "'+a.tagClass+'", type "'+a.type+'" expected value length "'+a.value.length+'", got "'+h.value.length+'"');if(g&&d&&(a.capture&&(d[a.capture]=h.value),a.captureAsn1&&(d[a.captureAsn1]=h),a.captureBitStringContents&&"bitStringContents"in h&&(d[a.captureBitStringContents]=h.bitStringContents),a.captureBitStringValue&&"bitStringContents"in h)){var m;if(h.bitStringContents.length<2)d[a.captureBitStringValue]="";else{var T=h.bitStringContents.charCodeAt(0);if(T!==0)throw new Error("captureBitStringValue only supported for zero unused bits");d[a.captureBitStringValue]=h.bitStringContents.slice(1)}}}else f&&f.push("["+a.name+'] Expected constructed "'+a.constructed+'", got "'+h.constructed+'"');else f&&(h.tagClass!==a.tagClass&&f.push("["+a.name+'] Expected tag class "'+a.tagClass+'", got "'+h.tagClass+'"'),h.type!==a.type&&f.push("["+a.name+'] Expected type "'+a.type+'", got "'+h.type+'"'));return g};var s=/[^\\u0000-\\u00ff]/;n.prettyPrint=function(h,a,d){var f="";a=a||0,d=d||2,a>0&&(f+=`
`);for(var g="",R=0;R<a*d;++R)g+=" ";switch(f+=g+"Tag: ",h.tagClass){case n.Class.UNIVERSAL:f+="Universal:";break;case n.Class.APPLICATION:f+="Application:";break;case n.Class.CONTEXT_SPECIFIC:f+="Context-Specific:";break;case n.Class.PRIVATE:f+="Private:";break}if(h.tagClass===n.Class.UNIVERSAL)switch(f+=h.type,h.type){case n.Type.NONE:f+=" (None)";break;case n.Type.BOOLEAN:f+=" (Boolean)";break;case n.Type.INTEGER:f+=" (Integer)";break;case n.Type.BITSTRING:f+=" (Bit string)";break;case n.Type.OCTETSTRING:f+=" (Octet string)";break;case n.Type.NULL:f+=" (Null)";break;case n.Type.OID:f+=" (Object Identifier)";break;case n.Type.ODESC:f+=" (Object Descriptor)";break;case n.Type.EXTERNAL:f+=" (External or Instance of)";break;case n.Type.REAL:f+=" (Real)";break;case n.Type.ENUMERATED:f+=" (Enumerated)";break;case n.Type.EMBEDDED:f+=" (Embedded PDV)";break;case n.Type.UTF8:f+=" (UTF8)";break;case n.Type.ROID:f+=" (Relative Object Identifier)";break;case n.Type.SEQUENCE:f+=" (Sequence)";break;case n.Type.SET:f+=" (Set)";break;case n.Type.PRINTABLESTRING:f+=" (Printable String)";break;case n.Type.IA5String:f+=" (IA5String (ASCII))";break;case n.Type.UTCTIME:f+=" (UTC time)";break;case n.Type.GENERALIZEDTIME:f+=" (Generalized time)";break;case n.Type.BMPSTRING:f+=" (BMP String)";break}else f+=h.type;if(f+=`
`,f+=g+"Constructed: "+h.constructed+`
`,h.composed){for(var S=0,m="",R=0;R<h.value.length;++R)h.value[R]!==void 0&&(S+=1,m+=n.prettyPrint(h.value[R],a+1,d),R+1<h.value.length&&(m+=","));f+=g+"Sub values: "+S+m}else{if(f+=g+"Value: ",h.type===n.Type.OID){var T=n.derToOid(h.value);f+=T,r.pki&&r.pki.oids&&T in r.pki.oids&&(f+=" ("+r.pki.oids[T]+") ")}if(h.type===n.Type.INTEGER)try{f+=n.derToInteger(h.value)}catch{f+="0x"+r.util.bytesToHex(h.value)}else if(h.type===n.Type.BITSTRING){if(h.value.length>1?f+="0x"+r.util.bytesToHex(h.value.slice(1)):f+="(none)",h.value.length>0){var O=h.value.charCodeAt(0);O==1?f+=" (1 unused bit shown)":O>1&&(f+=" ("+O+" unused bits shown)")}}else if(h.type===n.Type.OCTETSTRING)s.test(h.value)||(f+="("+h.value+") "),f+="0x"+r.util.bytesToHex(h.value);else if(h.type===n.Type.UTF8)try{f+=r.util.decodeUtf8(h.value)}catch(k){if(k.message==="URI malformed")f+="0x"+r.util.bytesToHex(h.value)+" (malformed UTF8)";else throw k}else h.type===n.Type.PRINTABLESTRING||h.type===n.Type.IA5String?f+=h.value:s.test(h.value)?f+="0x"+r.util.bytesToHex(h.value):h.value.length===0?f+="[null]":f+=h.value}return f}}),co=Qe((e,t)=>{var r=lt();t.exports=r.md=r.md||{},r.md.algorithms=r.md.algorithms||{}}),$u=Qe((e,t)=>{var r=lt();co(),Et();var n=t.exports=r.hmac=r.hmac||{};n.create=function(){var i=null,u=null,c=null,s=null,h={};return h.start=function(a,d){if(a!==null)if(typeof a=="string")if(a=a.toLowerCase(),a in r.md.algorithms)u=r.md.algorithms[a].create();else throw new Error('Unknown hash algorithm "'+a+'"');else u=a;if(d===null)d=i;else{if(typeof d=="string")d=r.util.createBuffer(d);else if(r.util.isArray(d)){var f=d;d=r.util.createBuffer();for(var g=0;g<f.length;++g)d.putByte(f[g])}var R=d.length();R>u.blockLength&&(u.start(),u.update(d.bytes()),d=u.digest()),c=r.util.createBuffer(),s=r.util.createBuffer(),R=d.length();for(var g=0;g<R;++g){var f=d.at(g);c.putByte(54^f),s.putByte(92^f)}if(R<u.blockLength)for(var f=u.blockLength-R,g=0;g<f;++g)c.putByte(54),s.putByte(92);i=d,c=c.bytes(),s=s.bytes()}u.start(),u.update(c)},h.update=function(a){u.update(a)},h.getMac=function(){var a=u.digest().bytes();return u.start(),u.update(s),u.update(a),u.digest()},h.digest=h.getMac,h}}),zp=Qe((e,t)=>{var r=lt();co(),Et();var n=t.exports=r.md5=r.md5||{};r.md.md5=r.md.algorithms.md5=n,n.create=function(){h||a();var f=null,g=r.util.createBuffer(),R=new Array(16),S={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8};return S.start=function(){S.messageLength=0,S.fullMessageLength=S.messageLength64=[];for(var m=S.messageLengthSize/4,T=0;T<m;++T)S.fullMessageLength.push(0);return g=r.util.createBuffer(),f={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},S},S.start(),S.update=function(m,T){T==="utf8"&&(m=r.util.encodeUtf8(m));var O=m.length;S.messageLength+=O,O=[O/4294967296>>>0,O>>>0];for(var k=S.fullMessageLength.length-1;k>=0;--k)S.fullMessageLength[k]+=O[1],O[1]=O[0]+(S.fullMessageLength[k]/4294967296>>>0),S.fullMessageLength[k]=S.fullMessageLength[k]>>>0,O[0]=O[1]/4294967296>>>0;return g.putBytes(m),d(f,R,g),(g.read>2048||g.length()===0)&&g.compact(),S},S.digest=function(){var m=r.util.createBuffer();m.putBytes(g.bytes());var T=S.fullMessageLength[S.fullMessageLength.length-1]+S.messageLengthSize,O=T&S.blockLength-1;m.putBytes(i.substr(0,S.blockLength-O));for(var k,y=0,I=S.fullMessageLength.length-1;I>=0;--I)k=S.fullMessageLength[I]*8+y,y=k/4294967296>>>0,m.putInt32Le(k>>>0);var w={h0:f.h0,h1:f.h1,h2:f.h2,h3:f.h3};d(w,R,m);var L=r.util.createBuffer();return L.putInt32Le(w.h0),L.putInt32Le(w.h1),L.putInt32Le(w.h2),L.putInt32Le(w.h3),L},S};var i=null,u=null,c=null,s=null,h=!1;function a(){i=String.fromCharCode(128),i+=r.util.fillString(String.fromCharCode(0),64),u=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],c=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],s=new Array(64);for(var f=0;f<64;++f)s[f]=Math.floor(Math.abs(Math.sin(f+1))*4294967296);h=!0}function d(f,g,R){for(var S,m,T,O,k,y,I,w,L=R.length();L>=64;){for(m=f.h0,T=f.h1,O=f.h2,k=f.h3,w=0;w<16;++w)g[w]=R.getInt32Le(),y=k^T&(O^k),S=m+y+s[w]+g[w],I=c[w],m=k,k=O,O=T,T+=S<<I|S>>>32-I;for(;w<32;++w)y=O^k&(T^O),S=m+y+s[w]+g[u[w]],I=c[w],m=k,k=O,O=T,T+=S<<I|S>>>32-I;for(;w<48;++w)y=T^O^k,S=m+y+s[w]+g[u[w]],I=c[w],m=k,k=O,O=T,T+=S<<I|S>>>32-I;for(;w<64;++w)y=O^(T|~k),S=m+y+s[w]+g[u[w]],I=c[w],m=k,k=O,O=T,T+=S<<I|S>>>32-I;f.h0=f.h0+m|0,f.h1=f.h1+T|0,f.h2=f.h2+O|0,f.h3=f.h3+k|0,L-=64}}}),Is=Qe((e,t)=>{var r=lt();Et();var n=t.exports=r.pem=r.pem||{};n.encode=function(c,s){s=s||{};var h="-----BEGIN "+c.type+`-----\r
`,a;if(c.procType&&(a={name:"Proc-Type",values:[String(c.procType.version),c.procType.type]},h+=i(a)),c.contentDomain&&(a={name:"Content-Domain",values:[c.contentDomain]},h+=i(a)),c.dekInfo&&(a={name:"DEK-Info",values:[c.dekInfo.algorithm]},c.dekInfo.parameters&&a.values.push(c.dekInfo.parameters),h+=i(a)),c.headers)for(var d=0;d<c.headers.length;++d)h+=i(c.headers[d]);return c.procType&&(h+=`\r
`),h+=r.util.encode64(c.body,s.maxline||64)+`\r
`,h+="-----END "+c.type+`-----\r
`,h},n.decode=function(c){for(var s=[],h=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,a=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,d=/\r?\n/,f;f=h.exec(c),!!f;){var g=f[1];g==="NEW CERTIFICATE REQUEST"&&(g="CERTIFICATE REQUEST");var R={type:g,procType:null,contentDomain:null,dekInfo:null,headers:[],body:r.util.decode64(f[3])};if(s.push(R),!!f[2]){for(var S=f[2].split(d),m=0;f&&m<S.length;){for(var T=S[m].replace(/\s+$/,""),O=m+1;O<S.length;++O){var k=S[O];if(!/\s/.test(k[0]))break;T+=k,m=O}if(f=T.match(a),f){for(var y={name:f[1],values:[]},I=f[2].split(","),w=0;w<I.length;++w)y.values.push(u(I[w]));if(R.procType)if(!R.contentDomain&&y.name==="Content-Domain")R.contentDomain=I[0]||"";else if(!R.dekInfo&&y.name==="DEK-Info"){if(y.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');R.dekInfo={algorithm:I[0],parameters:I[1]||null}}else R.headers.push(y);else{if(y.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(y.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');R.procType={version:I[0],type:I[1]}}}++m}if(R.procType==="ENCRYPTED"&&!R.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(s.length===0)throw new Error("Invalid PEM formatted message.");return s};function i(c){for(var s=c.name+": ",h=[],a=function(S,m){return" "+m},d=0;d<c.values.length;++d)h.push(c.values[d].replace(/^(\S+\r\n)/,a));s+=h.join(",")+`\r
`;for(var f=0,g=-1,d=0;d<s.length;++d,++f)if(f>65&&g!==-1){var R=s[g];R===","?(++g,s=s.substr(0,g)+`\r
 `+s.substr(g)):s=s.substr(0,g)+`\r
`+R+s.substr(g+1),f=d-g-1,g=-1,++d}else(s[d]===" "||s[d]==="	"||s[d]===",")&&(g=d);return s}function u(c){return c.replace(/^\s+/,"")}}),ah=Qe((e,t)=>{var r=lt();$p(),fb(),Et(),t.exports=r.des=r.des||{},r.des.startEncrypting=function(m,T,O,k){var y=S({key:m,output:O,decrypt:!1,mode:k||(T===null?"ECB":"CBC")});return y.start(T),y},r.des.createEncryptionCipher=function(m,T){return S({key:m,output:null,decrypt:!1,mode:T})},r.des.startDecrypting=function(m,T,O,k){var y=S({key:m,output:O,decrypt:!0,mode:k||(T===null?"ECB":"CBC")});return y.start(T),y},r.des.createDecryptionCipher=function(m,T){return S({key:m,output:null,decrypt:!0,mode:T})},r.des.Algorithm=function(m,T){var O=this;O.name=m,O.mode=new T({blockSize:8,cipher:{encrypt:function(k,y){return R(O._keys,k,y,!1)},decrypt:function(k,y){return R(O._keys,k,y,!0)}}}),O._init=!1},r.des.Algorithm.prototype.initialize=function(m){if(!this._init){var T=r.util.createBuffer(m.key);if(this.name.indexOf("3DES")===0&&T.length()!==24)throw new Error("Invalid Triple-DES key size: "+T.length()*8);this._keys=g(T),this._init=!0}},n("DES-ECB",r.cipher.modes.ecb),n("DES-CBC",r.cipher.modes.cbc),n("DES-CFB",r.cipher.modes.cfb),n("DES-OFB",r.cipher.modes.ofb),n("DES-CTR",r.cipher.modes.ctr),n("3DES-ECB",r.cipher.modes.ecb),n("3DES-CBC",r.cipher.modes.cbc),n("3DES-CFB",r.cipher.modes.cfb),n("3DES-OFB",r.cipher.modes.ofb),n("3DES-CTR",r.cipher.modes.ctr);function n(m,T){var O=function(){return new r.des.Algorithm(m,T)};r.cipher.registerAlgorithm(m,O)}var i=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],u=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],c=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],s=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],h=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],a=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],d=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],f=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function g(m){for(var T=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],O=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],k=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],y=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],I=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],w=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],L=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],N=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],C=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],v=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],p=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],q=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],V=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],z=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],E=m.length()>8?3:1,B=[],D=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],j=0,M,ee=0;ee<E;ee++){var oe=m.getInt32(),ce=m.getInt32();M=(oe>>>4^ce)&252645135,ce^=M,oe^=M<<4,M=(ce>>>-16^oe)&65535,oe^=M,ce^=M<<-16,M=(oe>>>2^ce)&858993459,ce^=M,oe^=M<<2,M=(ce>>>-16^oe)&65535,oe^=M,ce^=M<<-16,M=(oe>>>1^ce)&1431655765,ce^=M,oe^=M<<1,M=(ce>>>8^oe)&16711935,oe^=M,ce^=M<<8,M=(oe>>>1^ce)&1431655765,ce^=M,oe^=M<<1,M=oe<<8|ce>>>20&240,oe=ce<<24|ce<<8&16711680|ce>>>8&65280|ce>>>24&240,ce=M;for(var pe=0;pe<D.length;++pe){D[pe]?(oe=oe<<2|oe>>>26,ce=ce<<2|ce>>>26):(oe=oe<<1|oe>>>27,ce=ce<<1|ce>>>27),oe&=-15,ce&=-15;var me=T[oe>>>28]|O[oe>>>24&15]|k[oe>>>20&15]|y[oe>>>16&15]|I[oe>>>12&15]|w[oe>>>8&15]|L[oe>>>4&15],ke=N[ce>>>28]|C[ce>>>24&15]|v[ce>>>20&15]|p[ce>>>16&15]|q[ce>>>12&15]|V[ce>>>8&15]|z[ce>>>4&15];M=(ke>>>16^me)&65535,B[j++]=me^M,B[j++]=ke^M<<16}}return B}function R(m,T,O,k){var y=m.length===32?3:9,I;y===3?I=k?[30,-2,-2]:[0,32,2]:I=k?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var w,L=T[0],N=T[1];w=(L>>>4^N)&252645135,N^=w,L^=w<<4,w=(L>>>16^N)&65535,N^=w,L^=w<<16,w=(N>>>2^L)&858993459,L^=w,N^=w<<2,w=(N>>>8^L)&16711935,L^=w,N^=w<<8,w=(L>>>1^N)&1431655765,N^=w,L^=w<<1,L=L<<1|L>>>31,N=N<<1|N>>>31;for(var C=0;C<y;C+=3){for(var v=I[C+1],p=I[C+2],q=I[C];q!=v;q+=p){var V=N^m[q],z=(N>>>4|N<<28)^m[q+1];w=L,L=N,N=w^(u[V>>>24&63]|s[V>>>16&63]|a[V>>>8&63]|f[V&63]|i[z>>>24&63]|c[z>>>16&63]|h[z>>>8&63]|d[z&63])}w=L,L=N,N=w}L=L>>>1|L<<31,N=N>>>1|N<<31,w=(L>>>1^N)&1431655765,N^=w,L^=w<<1,w=(N>>>8^L)&16711935,L^=w,N^=w<<8,w=(N>>>2^L)&858993459,L^=w,N^=w<<2,w=(L>>>16^N)&65535,N^=w,L^=w<<16,w=(L>>>4^N)&252645135,N^=w,L^=w<<4,O[0]=L,O[1]=N}function S(m){m=m||{};var T=(m.mode||"CBC").toUpperCase(),O="DES-"+T,k;m.decrypt?k=r.cipher.createDecipher(O,m.key):k=r.cipher.createCipher(O,m.key);var y=k.start;return k.start=function(I,w){var L=null;w instanceof r.util.ByteBuffer&&(L=w,w={}),w=w||{},w.output=L,w.iv=I,y.call(k,w)},k}}),Hp=Qe((e,t)=>{var r=lt();$u(),co(),Et();var n=r.pkcs5=r.pkcs5||{},i;r.util.isNodejs&&!r.options.usePureJavaScript&&(i=vs("crypto")),t.exports=r.pbkdf2=n.pbkdf2=function(u,c,s,h,a,d){if(typeof a=="function"&&(d=a,a=null),r.util.isNodejs&&!r.options.usePureJavaScript&&i.pbkdf2&&(a===null||typeof a!="object")&&(i.pbkdf2Sync.length>4||!a||a==="sha1"))return typeof a!="string"&&(a="sha1"),u=Buffer.from(u,"binary"),c=Buffer.from(c,"binary"),d?i.pbkdf2Sync.length===4?i.pbkdf2(u,c,s,h,function(C,v){if(C)return d(C);d(null,v.toString("binary"))}):i.pbkdf2(u,c,s,h,a,function(C,v){if(C)return d(C);d(null,v.toString("binary"))}):i.pbkdf2Sync.length===4?i.pbkdf2Sync(u,c,s,h).toString("binary"):i.pbkdf2Sync(u,c,s,h,a).toString("binary");if((typeof a>"u"||a===null)&&(a="sha1"),typeof a=="string"){if(!(a in r.md.algorithms))throw new Error("Unknown hash algorithm: "+a);a=r.md[a].create()}var f=a.digestLength;if(h>4294967295*f){var g=new Error("Derived key is too long.");if(d)return d(g);throw g}var R=Math.ceil(h/f),S=h-(R-1)*f,m=r.hmac.create();m.start(a,u);var T="",O,k,y;if(!d){for(var I=1;I<=R;++I){m.start(null,null),m.update(c),m.update(r.util.int32ToBytes(I)),O=y=m.digest().getBytes();for(var w=2;w<=s;++w)m.start(null,null),m.update(y),k=m.digest().getBytes(),O=r.util.xorBytes(O,k,f),y=k;T+=I<R?O:O.substr(0,S)}return T}var I=1,w;function L(){if(I>R)return d(null,T);m.start(null,null),m.update(c),m.update(r.util.int32ToBytes(I)),O=y=m.digest().getBytes(),w=2,N()}function N(){if(w<=s)return m.start(null,null),m.update(y),k=m.digest().getBytes(),O=r.util.xorBytes(O,k,f),y=k,++w,r.util.setImmediate(N);T+=I<R?O:O.substr(0,S),++I,L()}L()}}),db=Qe((e,t)=>{var r=lt();co(),Et();var n=t.exports=r.sha256=r.sha256||{};r.md.sha256=r.md.algorithms.sha256=n,n.create=function(){u||s();var a=null,d=r.util.createBuffer(),f=new Array(64),g={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return g.start=function(){g.messageLength=0,g.fullMessageLength=g.messageLength64=[];for(var R=g.messageLengthSize/4,S=0;S<R;++S)g.fullMessageLength.push(0);return d=r.util.createBuffer(),a={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},g},g.start(),g.update=function(R,S){S==="utf8"&&(R=r.util.encodeUtf8(R));var m=R.length;g.messageLength+=m,m=[m/4294967296>>>0,m>>>0];for(var T=g.fullMessageLength.length-1;T>=0;--T)g.fullMessageLength[T]+=m[1],m[1]=m[0]+(g.fullMessageLength[T]/4294967296>>>0),g.fullMessageLength[T]=g.fullMessageLength[T]>>>0,m[0]=m[1]/4294967296>>>0;return d.putBytes(R),h(a,f,d),(d.read>2048||d.length()===0)&&d.compact(),g},g.digest=function(){var R=r.util.createBuffer();R.putBytes(d.bytes());var S=g.fullMessageLength[g.fullMessageLength.length-1]+g.messageLengthSize,m=S&g.blockLength-1;R.putBytes(i.substr(0,g.blockLength-m));for(var T,O,k=g.fullMessageLength[0]*8,y=0;y<g.fullMessageLength.length-1;++y)T=g.fullMessageLength[y+1]*8,O=T/4294967296>>>0,k+=O,R.putInt32(k>>>0),k=T>>>0;R.putInt32(k);var I={h0:a.h0,h1:a.h1,h2:a.h2,h3:a.h3,h4:a.h4,h5:a.h5,h6:a.h6,h7:a.h7};h(I,f,R);var w=r.util.createBuffer();return w.putInt32(I.h0),w.putInt32(I.h1),w.putInt32(I.h2),w.putInt32(I.h3),w.putInt32(I.h4),w.putInt32(I.h5),w.putInt32(I.h6),w.putInt32(I.h7),w},g};var i=null,u=!1,c=null;function s(){i=String.fromCharCode(128),i+=r.util.fillString(String.fromCharCode(0),64),c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],u=!0}function h(a,d,f){for(var g,R,S,m,T,O,k,y,I,w,L,N,C,v,p,q=f.length();q>=64;){for(k=0;k<16;++k)d[k]=f.getInt32();for(;k<64;++k)g=d[k-2],g=(g>>>17|g<<15)^(g>>>19|g<<13)^g>>>10,R=d[k-15],R=(R>>>7|R<<25)^(R>>>18|R<<14)^R>>>3,d[k]=g+d[k-7]+R+d[k-16]|0;for(y=a.h0,I=a.h1,w=a.h2,L=a.h3,N=a.h4,C=a.h5,v=a.h6,p=a.h7,k=0;k<64;++k)m=(N>>>6|N<<26)^(N>>>11|N<<21)^(N>>>25|N<<7),T=v^N&(C^v),S=(y>>>2|y<<30)^(y>>>13|y<<19)^(y>>>22|y<<10),O=y&I|w&(y^I),g=p+m+T+c[k]+d[k],R=S+O,p=v,v=C,C=N,N=L+g>>>0,L=w,w=I,I=y,y=g+R>>>0;a.h0=a.h0+y|0,a.h1=a.h1+I|0,a.h2=a.h2+w|0,a.h3=a.h3+L|0,a.h4=a.h4+N|0,a.h5=a.h5+C|0,a.h6=a.h6+v|0,a.h7=a.h7+p|0,q-=64}}}),pb=Qe((e,t)=>{var r=lt();Et();var n=null;r.util.isNodejs&&!r.options.usePureJavaScript&&!process.versions["node-webkit"]&&(n=vs("crypto"));var i=t.exports=r.prng=r.prng||{};i.create=function(u){for(var c={plugin:u,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},s=u.md,h=new Array(32),a=0;a<32;++a)h[a]=s.create();c.pools=h,c.pool=0,c.generate=function(S,m){if(!m)return c.generateSync(S);var T=c.plugin.cipher,O=c.plugin.increment,k=c.plugin.formatKey,y=c.plugin.formatSeed,I=r.util.createBuffer();c.key=null,w();function w(L){if(L)return m(L);if(I.length()>=S)return m(null,I.getBytes(S));if(c.generated>1048575&&(c.key=null),c.key===null)return r.util.nextTick(function(){d(w)});var N=T(c.key,c.seed);c.generated+=N.length,I.putBytes(N),c.key=k(T(c.key,O(c.seed))),c.seed=y(T(c.key,c.seed)),r.util.setImmediate(w)}},c.generateSync=function(S){var m=c.plugin.cipher,T=c.plugin.increment,O=c.plugin.formatKey,k=c.plugin.formatSeed;c.key=null;for(var y=r.util.createBuffer();y.length()<S;){c.generated>1048575&&(c.key=null),c.key===null&&f();var I=m(c.key,c.seed);c.generated+=I.length,y.putBytes(I),c.key=O(m(c.key,T(c.seed))),c.seed=k(m(c.key,c.seed))}return y.getBytes(S)};function d(S){if(c.pools[0].messageLength>=32)return g(),S();var m=32-c.pools[0].messageLength<<5;c.seedFile(m,function(T,O){if(T)return S(T);c.collect(O),g(),S()})}function f(){if(c.pools[0].messageLength>=32)return g();var S=32-c.pools[0].messageLength<<5;c.collect(c.seedFileSync(S)),g()}function g(){c.reseeds=c.reseeds===4294967295?0:c.reseeds+1;var S=c.plugin.md.create();S.update(c.keyBytes);for(var m=1,T=0;T<32;++T)c.reseeds%m===0&&(S.update(c.pools[T].digest().getBytes()),c.pools[T].start()),m=m<<1;c.keyBytes=S.digest().getBytes(),S.start(),S.update(c.keyBytes);var O=S.digest().getBytes();c.key=c.plugin.formatKey(c.keyBytes),c.seed=c.plugin.formatSeed(O),c.generated=0}function R(S){var m=null,T=r.util.globalScope,O=T.crypto||T.msCrypto;O&&O.getRandomValues&&(m=function(p){return O.getRandomValues(p)});var k=r.util.createBuffer();if(m)for(;k.length()<S;){var y=Math.max(1,Math.min(S-k.length(),65536)/4),I=new Uint32Array(Math.floor(y));try{m(I);for(var w=0;w<I.length;++w)k.putInt32(I[w])}catch(p){if(!(typeof QuotaExceededError<"u"&&p instanceof QuotaExceededError))throw p}}if(k.length()<S)for(var L,N,C,v=Math.floor(Math.random()*65536);k.length()<S;){N=16807*(v&65535),L=16807*(v>>16),N+=(L&32767)<<16,N+=L>>15,N=(N&2147483647)+(N>>31),v=N&4294967295;for(var w=0;w<3;++w)C=v>>>(w<<3),C^=Math.floor(Math.random()*256),k.putByte(C&255)}return k.getBytes(S)}return n?(c.seedFile=function(S,m){n.randomBytes(S,function(T,O){if(T)return m(T);m(null,O.toString())})},c.seedFileSync=function(S){return n.randomBytes(S).toString()}):(c.seedFile=function(S,m){try{m(null,R(S))}catch(T){m(T)}},c.seedFileSync=R),c.collect=function(S){for(var m=S.length,T=0;T<m;++T)c.pools[c.pool].update(S.substr(T,1)),c.pool=c.pool===31?0:c.pool+1},c.collectInt=function(S,m){for(var T="",O=0;O<m;O+=8)T+=String.fromCharCode(S>>O&255);c.collect(T)},c.registerWorker=function(S){if(S===self)c.seedFile=function(T,O){function k(y){var I=y.data;I.forge&&I.forge.prng&&(self.removeEventListener("message",k),O(I.forge.prng.err,I.forge.prng.bytes))}self.addEventListener("message",k),self.postMessage({forge:{prng:{needed:T}}})};else{var m=function(T){var O=T.data;O.forge&&O.forge.prng&&c.seedFile(O.forge.prng.needed,function(k,y){S.postMessage({forge:{prng:{err:k,bytes:y}}})})};S.addEventListener("message",m)}},c}}),ui=Qe((e,t)=>{var r=lt();ka(),db(),pb(),Et(),function(){if(r.random&&r.random.getBytes){t.exports=r.random;return}(function(n){var i={},u=new Array(4),c=r.util.createBuffer();i.formatKey=function(S){var m=r.util.createBuffer(S);return S=new Array(4),S[0]=m.getInt32(),S[1]=m.getInt32(),S[2]=m.getInt32(),S[3]=m.getInt32(),r.aes._expandKey(S,!1)},i.formatSeed=function(S){var m=r.util.createBuffer(S);return S=new Array(4),S[0]=m.getInt32(),S[1]=m.getInt32(),S[2]=m.getInt32(),S[3]=m.getInt32(),S},i.cipher=function(S,m){return r.aes._updateBlock(S,m,u,!1),c.putInt32(u[0]),c.putInt32(u[1]),c.putInt32(u[2]),c.putInt32(u[3]),c.getBytes()},i.increment=function(S){return++S[3],S},i.md=r.md.sha256;function s(){var S=r.prng.create(i);return S.getBytes=function(m,T){return S.generate(m,T)},S.getBytesSync=function(m){return S.generate(m)},S}var h=s(),a=null,d=r.util.globalScope,f=d.crypto||d.msCrypto;if(f&&f.getRandomValues&&(a=function(S){return f.getRandomValues(S)}),r.options.usePureJavaScript||!r.util.isNodejs&&!a){if(typeof window>"u"||window.document,h.collectInt(+new Date,32),typeof navigator<"u"){var g="";for(var R in navigator)try{typeof navigator[R]=="string"&&(g+=navigator[R])}catch{}h.collect(g),g=null}n&&(n().mousemove(function(S){h.collectInt(S.clientX,16),h.collectInt(S.clientY,16)}),n().keypress(function(S){h.collectInt(S.charCode,8)}))}if(!r.random)r.random=h;else for(var R in h)r.random[R]=h[R];r.random.createInstance=s,t.exports=r.random})(typeof jQuery<"u"?jQuery:null)}()}),yb=Qe((e,t)=>{var r=lt();Et();var n=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],i=[1,2,3,5],u=function(h,a){return h<<a&65535|(h&65535)>>16-a},c=function(h,a){return(h&65535)>>a|h<<16-a&65535};t.exports=r.rc2=r.rc2||{},r.rc2.expandKey=function(h,a){typeof h=="string"&&(h=r.util.createBuffer(h)),a=a||128;var d=h,f=h.length(),g=a,R=Math.ceil(g/8),S=255>>(g&7),m;for(m=f;m<128;m++)d.putByte(n[d.at(m-1)+d.at(m-f)&255]);for(d.setAt(128-R,n[d.at(128-R)&S]),m=127-R;m>=0;m--)d.setAt(m,n[d.at(m+1)^d.at(m+R)]);return d};var s=function(h,a,d){var f=!1,g=null,R=null,S=null,m,T,O,k,y=[];for(h=r.rc2.expandKey(h,a),O=0;O<64;O++)y.push(h.getInt16Le());d?(m=function(L){for(O=0;O<4;O++)L[O]+=y[k]+(L[(O+3)%4]&L[(O+2)%4])+(~L[(O+3)%4]&L[(O+1)%4]),L[O]=u(L[O],i[O]),k++},T=function(L){for(O=0;O<4;O++)L[O]+=y[L[(O+3)%4]&63]}):(m=function(L){for(O=3;O>=0;O--)L[O]=c(L[O],i[O]),L[O]-=y[k]+(L[(O+3)%4]&L[(O+2)%4])+(~L[(O+3)%4]&L[(O+1)%4]),k--},T=function(L){for(O=3;O>=0;O--)L[O]-=y[L[(O+3)%4]&63]});var I=function(L){var N=[];for(O=0;O<4;O++){var C=g.getInt16Le();S!==null&&(d?C^=S.getInt16Le():S.putInt16Le(C)),N.push(C&65535)}k=d?0:63;for(var v=0;v<L.length;v++)for(var p=0;p<L[v][0];p++)L[v][1](N);for(O=0;O<4;O++)S!==null&&(d?S.putInt16Le(N[O]):N[O]^=S.getInt16Le()),R.putInt16Le(N[O])},w=null;return w={start:function(L,N){L&&typeof L=="string"&&(L=r.util.createBuffer(L)),f=!1,g=r.util.createBuffer(),R=N||new r.util.createBuffer,S=L,w.output=R},update:function(L){for(f||g.putBuffer(L);g.length()>=8;)I([[5,m],[1,T],[6,m],[1,T],[5,m]])},finish:function(L){var N=!0;if(d)if(L)N=L(8,g,!d);else{var C=g.length()===8?8:8-g.length();g.fillWithByte(C,C)}if(N&&(f=!0,w.update()),!d&&(N=g.length()===0,N))if(L)N=L(8,R,!d);else{var v=R.length(),p=R.at(v-1);p>v?N=!1:R.truncate(p)}return N}},w};r.rc2.startEncrypting=function(h,a,d){var f=r.rc2.createEncryptionCipher(h,128);return f.start(a,d),f},r.rc2.createEncryptionCipher=function(h,a){return s(h,a,!0)},r.rc2.startDecrypting=function(h,a,d){var f=r.rc2.createDecryptionCipher(h,128);return f.start(a,d),f},r.rc2.createDecryptionCipher=function(h,a){return s(h,a,!1)}}),sh=Qe((e,t)=>{var r=lt();t.exports=r.jsbn=r.jsbn||{};var n,i=0xdeadbeefcafe,u=(i&16777215)==15715070;function c($,G,Z){this.data=[],$!=null&&(typeof $=="number"?this.fromNumber($,G,Z):G==null&&typeof $!="string"?this.fromString($,256):this.fromString($,G))}r.jsbn.BigInteger=c;function s(){return new c(null)}function h($,G,Z,le,_e,Te){for(;--Te>=0;){var xe=G*this.data[$++]+Z.data[le]+_e;_e=Math.floor(xe/67108864),Z.data[le++]=xe&67108863}return _e}function a($,G,Z,le,_e,Te){for(var xe=G&32767,Le=G>>15;--Te>=0;){var bt=this.data[$]&32767,ar=this.data[$++]>>15,Rr=Le*bt+ar*xe;bt=xe*bt+((Rr&32767)<<15)+Z.data[le]+(_e&1073741823),_e=(bt>>>30)+(Rr>>>15)+Le*ar+(_e>>>30),Z.data[le++]=bt&1073741823}return _e}function d($,G,Z,le,_e,Te){for(var xe=G&16383,Le=G>>14;--Te>=0;){var bt=this.data[$]&16383,ar=this.data[$++]>>14,Rr=Le*bt+ar*xe;bt=xe*bt+((Rr&16383)<<14)+Z.data[le]+_e,_e=(bt>>28)+(Rr>>14)+Le*ar,Z.data[le++]=bt&268435455}return _e}typeof navigator>"u"?(c.prototype.am=d,n=28):u&&navigator.appName=="Microsoft Internet Explorer"?(c.prototype.am=a,n=30):u&&navigator.appName!="Netscape"?(c.prototype.am=h,n=26):(c.prototype.am=d,n=28),c.prototype.DB=n,c.prototype.DM=(1<<n)-1,c.prototype.DV=1<<n;var f=52;c.prototype.FV=Math.pow(2,f),c.prototype.F1=f-n,c.prototype.F2=2*n-f;var g="0123456789abcdefghijklmnopqrstuvwxyz",R=new Array,S,m;for(S="0".charCodeAt(0),m=0;m<=9;++m)R[S++]=m;for(S="a".charCodeAt(0),m=10;m<36;++m)R[S++]=m;for(S="A".charCodeAt(0),m=10;m<36;++m)R[S++]=m;function T($){return g.charAt($)}function O($,G){var Z=R[$.charCodeAt(G)];return Z??-1}function k($){for(var G=this.t-1;G>=0;--G)$.data[G]=this.data[G];$.t=this.t,$.s=this.s}function y($){this.t=1,this.s=$<0?-1:0,$>0?this.data[0]=$:$<-1?this.data[0]=$+this.DV:this.t=0}function I($){var G=s();return G.fromInt($),G}function w($,G){var Z;if(G==16)Z=4;else if(G==8)Z=3;else if(G==256)Z=8;else if(G==2)Z=1;else if(G==32)Z=5;else if(G==4)Z=2;else{this.fromRadix($,G);return}this.t=0,this.s=0;for(var le=$.length,_e=!1,Te=0;--le>=0;){var xe=Z==8?$[le]&255:O($,le);if(xe<0){$.charAt(le)=="-"&&(_e=!0);continue}_e=!1,Te==0?this.data[this.t++]=xe:Te+Z>this.DB?(this.data[this.t-1]|=(xe&(1<<this.DB-Te)-1)<<Te,this.data[this.t++]=xe>>this.DB-Te):this.data[this.t-1]|=xe<<Te,Te+=Z,Te>=this.DB&&(Te-=this.DB)}Z==8&&$[0]&128&&(this.s=-1,Te>0&&(this.data[this.t-1]|=(1<<this.DB-Te)-1<<Te)),this.clamp(),_e&&c.ZERO.subTo(this,this)}function L(){for(var $=this.s&this.DM;this.t>0&&this.data[this.t-1]==$;)--this.t}function N($){if(this.s<0)return"-"+this.negate().toString($);var G;if($==16)G=4;else if($==8)G=3;else if($==2)G=1;else if($==32)G=5;else if($==4)G=2;else return this.toRadix($);var Z=(1<<G)-1,le,_e=!1,Te="",xe=this.t,Le=this.DB-xe*this.DB%G;if(xe-- >0)for(Le<this.DB&&(le=this.data[xe]>>Le)>0&&(_e=!0,Te=T(le));xe>=0;)Le<G?(le=(this.data[xe]&(1<<Le)-1)<<G-Le,le|=this.data[--xe]>>(Le+=this.DB-G)):(le=this.data[xe]>>(Le-=G)&Z,Le<=0&&(Le+=this.DB,--xe)),le>0&&(_e=!0),_e&&(Te+=T(le));return _e?Te:"0"}function C(){var $=s();return c.ZERO.subTo(this,$),$}function v(){return this.s<0?this.negate():this}function p($){var G=this.s-$.s;if(G!=0)return G;var Z=this.t;if(G=Z-$.t,G!=0)return this.s<0?-G:G;for(;--Z>=0;)if((G=this.data[Z]-$.data[Z])!=0)return G;return 0}function q($){var G=1,Z;return(Z=$>>>16)!=0&&($=Z,G+=16),(Z=$>>8)!=0&&($=Z,G+=8),(Z=$>>4)!=0&&($=Z,G+=4),(Z=$>>2)!=0&&($=Z,G+=2),(Z=$>>1)!=0&&($=Z,G+=1),G}function V(){return this.t<=0?0:this.DB*(this.t-1)+q(this.data[this.t-1]^this.s&this.DM)}function z($,G){var Z;for(Z=this.t-1;Z>=0;--Z)G.data[Z+$]=this.data[Z];for(Z=$-1;Z>=0;--Z)G.data[Z]=0;G.t=this.t+$,G.s=this.s}function E($,G){for(var Z=$;Z<this.t;++Z)G.data[Z-$]=this.data[Z];G.t=Math.max(this.t-$,0),G.s=this.s}function B($,G){var Z=$%this.DB,le=this.DB-Z,_e=(1<<le)-1,Te=Math.floor($/this.DB),xe=this.s<<Z&this.DM,Le;for(Le=this.t-1;Le>=0;--Le)G.data[Le+Te+1]=this.data[Le]>>le|xe,xe=(this.data[Le]&_e)<<Z;for(Le=Te-1;Le>=0;--Le)G.data[Le]=0;G.data[Te]=xe,G.t=this.t+Te+1,G.s=this.s,G.clamp()}function D($,G){G.s=this.s;var Z=Math.floor($/this.DB);if(Z>=this.t){G.t=0;return}var le=$%this.DB,_e=this.DB-le,Te=(1<<le)-1;G.data[0]=this.data[Z]>>le;for(var xe=Z+1;xe<this.t;++xe)G.data[xe-Z-1]|=(this.data[xe]&Te)<<_e,G.data[xe-Z]=this.data[xe]>>le;le>0&&(G.data[this.t-Z-1]|=(this.s&Te)<<_e),G.t=this.t-Z,G.clamp()}function j($,G){for(var Z=0,le=0,_e=Math.min($.t,this.t);Z<_e;)le+=this.data[Z]-$.data[Z],G.data[Z++]=le&this.DM,le>>=this.DB;if($.t<this.t){for(le-=$.s;Z<this.t;)le+=this.data[Z],G.data[Z++]=le&this.DM,le>>=this.DB;le+=this.s}else{for(le+=this.s;Z<$.t;)le-=$.data[Z],G.data[Z++]=le&this.DM,le>>=this.DB;le-=$.s}G.s=le<0?-1:0,le<-1?G.data[Z++]=this.DV+le:le>0&&(G.data[Z++]=le),G.t=Z,G.clamp()}function M($,G){var Z=this.abs(),le=$.abs(),_e=Z.t;for(G.t=_e+le.t;--_e>=0;)G.data[_e]=0;for(_e=0;_e<le.t;++_e)G.data[_e+Z.t]=Z.am(0,le.data[_e],G,_e,0,Z.t);G.s=0,G.clamp(),this.s!=$.s&&c.ZERO.subTo(G,G)}function ee($){for(var G=this.abs(),Z=$.t=2*G.t;--Z>=0;)$.data[Z]=0;for(Z=0;Z<G.t-1;++Z){var le=G.am(Z,G.data[Z],$,2*Z,0,1);($.data[Z+G.t]+=G.am(Z+1,2*G.data[Z],$,2*Z+1,le,G.t-Z-1))>=G.DV&&($.data[Z+G.t]-=G.DV,$.data[Z+G.t+1]=1)}$.t>0&&($.data[$.t-1]+=G.am(Z,G.data[Z],$,2*Z,0,1)),$.s=0,$.clamp()}function oe($,G,Z){var le=$.abs();if(!(le.t<=0)){var _e=this.abs();if(_e.t<le.t){G?.fromInt(0),Z!=null&&this.copyTo(Z);return}Z==null&&(Z=s());var Te=s(),xe=this.s,Le=$.s,bt=this.DB-q(le.data[le.t-1]);bt>0?(le.lShiftTo(bt,Te),_e.lShiftTo(bt,Z)):(le.copyTo(Te),_e.copyTo(Z));var ar=Te.t,Rr=Te.data[ar-1];if(Rr!=0){var Pr=Rr*(1<<this.F1)+(ar>1?Te.data[ar-2]>>this.F2:0),ln=this.FV/Pr,ci=(1<<this.F1)/Pr,Ir=1<<this.F2,mr=Z.t,Li=mr-ar,En=G??s();for(Te.dlShiftTo(Li,En),Z.compareTo(En)>=0&&(Z.data[Z.t++]=1,Z.subTo(En,Z)),c.ONE.dlShiftTo(ar,En),En.subTo(Te,Te);Te.t<ar;)Te.data[Te.t++]=0;for(;--Li>=0;){var Gn=Z.data[--mr]==Rr?this.DM:Math.floor(Z.data[mr]*ln+(Z.data[mr-1]+Ir)*ci);if((Z.data[mr]+=Te.am(0,Gn,Z,Li,0,ar))<Gn)for(Te.dlShiftTo(Li,En),Z.subTo(En,Z);Z.data[mr]<--Gn;)Z.subTo(En,Z)}G!=null&&(Z.drShiftTo(ar,G),xe!=Le&&c.ZERO.subTo(G,G)),Z.t=ar,Z.clamp(),bt>0&&Z.rShiftTo(bt,Z),xe<0&&c.ZERO.subTo(Z,Z)}}}function ce($){var G=s();return this.abs().divRemTo($,null,G),this.s<0&&G.compareTo(c.ZERO)>0&&$.subTo(G,G),G}function pe($){this.m=$}function me($){return $.s<0||$.compareTo(this.m)>=0?$.mod(this.m):$}function ke($){return $}function Pe($){$.divRemTo(this.m,null,$)}function Ce($,G,Z){$.multiplyTo(G,Z),this.reduce(Z)}function Ke($,G){$.squareTo(G),this.reduce(G)}pe.prototype.convert=me,pe.prototype.revert=ke,pe.prototype.reduce=Pe,pe.prototype.mulTo=Ce,pe.prototype.sqrTo=Ke;function Re(){if(this.t<1)return 0;var $=this.data[0];if(!($&1))return 0;var G=$&3;return G=G*(2-($&15)*G)&15,G=G*(2-($&255)*G)&255,G=G*(2-(($&65535)*G&65535))&65535,G=G*(2-$*G%this.DV)%this.DV,G>0?this.DV-G:-G}function et($){this.m=$,this.mp=$.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<$.DB-15)-1,this.mt2=2*$.t}function Je($){var G=s();return $.abs().dlShiftTo(this.m.t,G),G.divRemTo(this.m,null,G),$.s<0&&G.compareTo(c.ZERO)>0&&this.m.subTo(G,G),G}function x($){var G=s();return $.copyTo(G),this.reduce(G),G}function X($){for(;$.t<=this.mt2;)$.data[$.t++]=0;for(var G=0;G<this.m.t;++G){var Z=$.data[G]&32767,le=Z*this.mpl+((Z*this.mph+($.data[G]>>15)*this.mpl&this.um)<<15)&$.DM;for(Z=G+this.m.t,$.data[Z]+=this.m.am(0,le,$,G,0,this.m.t);$.data[Z]>=$.DV;)$.data[Z]-=$.DV,$.data[++Z]++}$.clamp(),$.drShiftTo(this.m.t,$),$.compareTo(this.m)>=0&&$.subTo(this.m,$)}function Q($,G){$.squareTo(G),this.reduce(G)}function A($,G,Z){$.multiplyTo(G,Z),this.reduce(Z)}et.prototype.convert=Je,et.prototype.revert=x,et.prototype.reduce=X,et.prototype.mulTo=A,et.prototype.sqrTo=Q;function K(){return(this.t>0?this.data[0]&1:this.s)==0}function ae($,G){if($>4294967295||$<1)return c.ONE;var Z=s(),le=s(),_e=G.convert(this),Te=q($)-1;for(_e.copyTo(Z);--Te>=0;)if(G.sqrTo(Z,le),($&1<<Te)>0)G.mulTo(le,_e,Z);else{var xe=Z;Z=le,le=xe}return G.revert(Z)}function te($,G){var Z;return $<256||G.isEven()?Z=new pe(G):Z=new et(G),this.exp($,Z)}c.prototype.copyTo=k,c.prototype.fromInt=y,c.prototype.fromString=w,c.prototype.clamp=L,c.prototype.dlShiftTo=z,c.prototype.drShiftTo=E,c.prototype.lShiftTo=B,c.prototype.rShiftTo=D,c.prototype.subTo=j,c.prototype.multiplyTo=M,c.prototype.squareTo=ee,c.prototype.divRemTo=oe,c.prototype.invDigit=Re,c.prototype.isEven=K,c.prototype.exp=ae,c.prototype.toString=N,c.prototype.negate=C,c.prototype.abs=v,c.prototype.compareTo=p,c.prototype.bitLength=V,c.prototype.mod=ce,c.prototype.modPowInt=te,c.ZERO=I(0),c.ONE=I(1);function Ee(){var $=s();return this.copyTo($),$}function Ue(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}function qe(){return this.t==0?this.s:this.data[0]<<24>>24}function ge(){return this.t==0?this.s:this.data[0]<<16>>16}function Ne($){return Math.floor(Math.LN2*this.DB/Math.log($))}function We(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}function rt($){if($==null&&($=10),this.signum()==0||$<2||$>36)return"0";var G=this.chunkSize($),Z=Math.pow($,G),le=I(Z),_e=s(),Te=s(),xe="";for(this.divRemTo(le,_e,Te);_e.signum()>0;)xe=(Z+Te.intValue()).toString($).substr(1)+xe,_e.divRemTo(le,_e,Te);return Te.intValue().toString($)+xe}function ze($,G){this.fromInt(0),G==null&&(G=10);for(var Z=this.chunkSize(G),le=Math.pow(G,Z),_e=!1,Te=0,xe=0,Le=0;Le<$.length;++Le){var bt=O($,Le);if(bt<0){$.charAt(Le)=="-"&&this.signum()==0&&(_e=!0);continue}xe=G*xe+bt,++Te>=Z&&(this.dMultiply(le),this.dAddOffset(xe,0),Te=0,xe=0)}Te>0&&(this.dMultiply(Math.pow(G,Te)),this.dAddOffset(xe,0)),_e&&c.ZERO.subTo(this,this)}function kt($,G,Z){if(typeof G=="number")if($<2)this.fromInt(1);else for(this.fromNumber($,Z),this.testBit($-1)||this.bitwiseTo(c.ONE.shiftLeft($-1),Ht,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(G);)this.dAddOffset(2,0),this.bitLength()>$&&this.subTo(c.ONE.shiftLeft($-1),this);else{var le=new Array,_e=$&7;le.length=($>>3)+1,G.nextBytes(le),_e>0?le[0]&=(1<<_e)-1:le[0]=0,this.fromString(le,256)}}function St(){var $=this.t,G=new Array;G[0]=this.s;var Z=this.DB-$*this.DB%8,le,_e=0;if($-- >0)for(Z<this.DB&&(le=this.data[$]>>Z)!=(this.s&this.DM)>>Z&&(G[_e++]=le|this.s<<this.DB-Z);$>=0;)Z<8?(le=(this.data[$]&(1<<Z)-1)<<8-Z,le|=this.data[--$]>>(Z+=this.DB-8)):(le=this.data[$]>>(Z-=8)&255,Z<=0&&(Z+=this.DB,--$)),le&128&&(le|=-256),_e==0&&(this.s&128)!=(le&128)&&++_e,(_e>0||le!=this.s)&&(G[_e++]=le);return G}function Ct($){return this.compareTo($)==0}function Bt($){return this.compareTo($)<0?this:$}function Ot($){return this.compareTo($)>0?this:$}function Lt($,G,Z){var le,_e,Te=Math.min($.t,this.t);for(le=0;le<Te;++le)Z.data[le]=G(this.data[le],$.data[le]);if($.t<this.t){for(_e=$.s&this.DM,le=Te;le<this.t;++le)Z.data[le]=G(this.data[le],_e);Z.t=this.t}else{for(_e=this.s&this.DM,le=Te;le<$.t;++le)Z.data[le]=G(_e,$.data[le]);Z.t=$.t}Z.s=G(this.s,$.s),Z.clamp()}function zt($,G){return $&G}function Xt($){var G=s();return this.bitwiseTo($,zt,G),G}function Ht($,G){return $|G}function Kt($){var G=s();return this.bitwiseTo($,Ht,G),G}function lr($,G){return $^G}function Cr($){var G=s();return this.bitwiseTo($,lr,G),G}function gr($,G){return $&~G}function qr($){var G=s();return this.bitwiseTo($,gr,G),G}function un(){for(var $=s(),G=0;G<this.t;++G)$.data[G]=this.DM&~this.data[G];return $.t=this.t,$.s=~this.s,$}function Qr($){var G=s();return $<0?this.rShiftTo(-$,G):this.lShiftTo($,G),G}function Yr($){var G=s();return $<0?this.lShiftTo(-$,G):this.rShiftTo($,G),G}function _n($){if($==0)return-1;var G=0;return $&65535||($>>=16,G+=16),$&255||($>>=8,G+=8),$&15||($>>=4,G+=4),$&3||($>>=2,G+=2),$&1||++G,G}function li(){for(var $=0;$<this.t;++$)if(this.data[$]!=0)return $*this.DB+_n(this.data[$]);return this.s<0?this.t*this.DB:-1}function Mr($){for(var G=0;$!=0;)$&=$-1,++G;return G}function Nn(){for(var $=0,G=this.s&this.DM,Z=0;Z<this.t;++Z)$+=Mr(this.data[Z]^G);return $}function xt($){var G=Math.floor($/this.DB);return G>=this.t?this.s!=0:(this.data[G]&1<<$%this.DB)!=0}function Ut($,G){var Z=c.ONE.shiftLeft($);return this.bitwiseTo(Z,G,Z),Z}function Jt($){return this.changeBit($,Ht)}function Dt($){return this.changeBit($,gr)}function Wt($){return this.changeBit($,lr)}function Zt($,G){for(var Z=0,le=0,_e=Math.min($.t,this.t);Z<_e;)le+=this.data[Z]+$.data[Z],G.data[Z++]=le&this.DM,le>>=this.DB;if($.t<this.t){for(le+=$.s;Z<this.t;)le+=this.data[Z],G.data[Z++]=le&this.DM,le>>=this.DB;le+=this.s}else{for(le+=this.s;Z<$.t;)le+=$.data[Z],G.data[Z++]=le&this.DM,le>>=this.DB;le+=$.s}G.s=le<0?-1:0,le>0?G.data[Z++]=le:le<-1&&(G.data[Z++]=this.DV+le),G.t=Z,G.clamp()}function Gt($){var G=s();return this.addTo($,G),G}function Qt($){var G=s();return this.subTo($,G),G}function rr($){var G=s();return this.multiplyTo($,G),G}function nr($){var G=s();return this.divRemTo($,G,null),G}function ir($){var G=s();return this.divRemTo($,null,G),G}function er($){var G=s(),Z=s();return this.divRemTo($,G,Z),new Array(G,Z)}function or($){this.data[this.t]=this.am(0,$-1,this,0,0,this.t),++this.t,this.clamp()}function cr($,G){if($!=0){for(;this.t<=G;)this.data[this.t++]=0;for(this.data[G]+=$;this.data[G]>=this.DV;)this.data[G]-=this.DV,++G>=this.t&&(this.data[this.t++]=0),++this.data[G]}}function $t(){}function tr($){return $}function Pa($,G,Z){$.multiplyTo(G,Z)}function ho($,G){$.squareTo(G)}$t.prototype.convert=tr,$t.prototype.revert=tr,$t.prototype.mulTo=Pa,$t.prototype.sqrTo=ho;function As($){return this.exp($,new $t)}function fo($,G,Z){var le=Math.min(this.t+$.t,G);for(Z.s=0,Z.t=le;le>0;)Z.data[--le]=0;var _e;for(_e=Z.t-this.t;le<_e;++le)Z.data[le+this.t]=this.am(0,$.data[le],Z,le,0,this.t);for(_e=Math.min($.t,G);le<_e;++le)this.am(0,$.data[le],Z,le,0,G-le);Z.clamp()}function Pi($,G,Z){--G;var le=Z.t=this.t+$.t-G;for(Z.s=0;--le>=0;)Z.data[le]=0;for(le=Math.max(G-this.t,0);le<$.t;++le)Z.data[this.t+le-G]=this.am(G-le,$.data[le],Z,0,0,this.t+le-G);Z.clamp(),Z.drShiftTo(1,Z)}function wn($){this.r2=s(),this.q3=s(),c.ONE.dlShiftTo(2*$.t,this.r2),this.mu=this.r2.divide($),this.m=$}function Tr($){if($.s<0||$.t>2*this.m.t)return $.mod(this.m);if($.compareTo(this.m)<0)return $;var G=s();return $.copyTo(G),this.reduce(G),G}function $o($){return $}function Bi($){for($.drShiftTo(this.m.t-1,this.r2),$.t>this.m.t+1&&($.t=this.m.t+1,$.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);$.compareTo(this.r2)<0;)$.dAddOffset(1,this.m.t+1);for($.subTo(this.r2,$);$.compareTo(this.m)>=0;)$.subTo(this.m,$)}function po($,G){$.squareTo(G),this.reduce(G)}function yo($,G,Z){$.multiplyTo(G,Z),this.reduce(Z)}wn.prototype.convert=Tr,wn.prototype.revert=$o,wn.prototype.reduce=Bi,wn.prototype.mulTo=yo,wn.prototype.sqrTo=po;function Ba($,G){var Z=$.bitLength(),le,_e=I(1),Te;if(Z<=0)return _e;Z<18?le=1:Z<48?le=3:Z<144?le=4:Z<768?le=5:le=6,Z<8?Te=new pe(G):G.isEven()?Te=new wn(G):Te=new et(G);var xe=new Array,Le=3,bt=le-1,ar=(1<<le)-1;if(xe[1]=Te.convert(this),le>1){var Rr=s();for(Te.sqrTo(xe[1],Rr);Le<=ar;)xe[Le]=s(),Te.mulTo(Rr,xe[Le-2],xe[Le]),Le+=2}var Pr=$.t-1,ln,ci=!0,Ir=s(),mr;for(Z=q($.data[Pr])-1;Pr>=0;){for(Z>=bt?ln=$.data[Pr]>>Z-bt&ar:(ln=($.data[Pr]&(1<<Z+1)-1)<<bt-Z,Pr>0&&(ln|=$.data[Pr-1]>>this.DB+Z-bt)),Le=le;!(ln&1);)ln>>=1,--Le;if((Z-=Le)<0&&(Z+=this.DB,--Pr),ci)xe[ln].copyTo(_e),ci=!1;else{for(;Le>1;)Te.sqrTo(_e,Ir),Te.sqrTo(Ir,_e),Le-=2;Le>0?Te.sqrTo(_e,Ir):(mr=_e,_e=Ir,Ir=mr),Te.mulTo(Ir,xe[ln],_e)}for(;Pr>=0&&!($.data[Pr]&1<<Z);)Te.sqrTo(_e,Ir),mr=_e,_e=Ir,Ir=mr,--Z<0&&(Z=this.DB-1,--Pr)}return Te.revert(_e)}function La($){var G=this.s<0?this.negate():this.clone(),Z=$.s<0?$.negate():$.clone();if(G.compareTo(Z)<0){var le=G;G=Z,Z=le}var _e=G.getLowestSetBit(),Te=Z.getLowestSetBit();if(Te<0)return G;for(_e<Te&&(Te=_e),Te>0&&(G.rShiftTo(Te,G),Z.rShiftTo(Te,Z));G.signum()>0;)(_e=G.getLowestSetBit())>0&&G.rShiftTo(_e,G),(_e=Z.getLowestSetBit())>0&&Z.rShiftTo(_e,Z),G.compareTo(Z)>=0?(G.subTo(Z,G),G.rShiftTo(1,G)):(Z.subTo(G,Z),Z.rShiftTo(1,Z));return Te>0&&Z.lShiftTo(Te,Z),Z}function Na($){if($<=0)return 0;var G=this.DV%$,Z=this.s<0?$-1:0;if(this.t>0)if(G==0)Z=this.data[0]%$;else for(var le=this.t-1;le>=0;--le)Z=(G*Z+this.data[le])%$;return Z}function go($){var G=$.isEven();if(this.isEven()&&G||$.signum()==0)return c.ZERO;for(var Z=$.clone(),le=this.clone(),_e=I(1),Te=I(0),xe=I(0),Le=I(1);Z.signum()!=0;){for(;Z.isEven();)Z.rShiftTo(1,Z),G?((!_e.isEven()||!Te.isEven())&&(_e.addTo(this,_e),Te.subTo($,Te)),_e.rShiftTo(1,_e)):Te.isEven()||Te.subTo($,Te),Te.rShiftTo(1,Te);for(;le.isEven();)le.rShiftTo(1,le),G?((!xe.isEven()||!Le.isEven())&&(xe.addTo(this,xe),Le.subTo($,Le)),xe.rShiftTo(1,xe)):Le.isEven()||Le.subTo($,Le),Le.rShiftTo(1,Le);Z.compareTo(le)>=0?(Z.subTo(le,Z),G&&_e.subTo(xe,_e),Te.subTo(Le,Te)):(le.subTo(Z,le),G&&xe.subTo(_e,xe),Le.subTo(Te,Le))}if(le.compareTo(c.ONE)!=0)return c.ZERO;if(Le.compareTo($)>=0)return Le.subtract($);if(Le.signum()<0)Le.addTo($,Le);else return Le;return Le.signum()<0?Le.add($):Le}var br=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],xa=(1<<26)/br[br.length-1];function Ua($){var G,Z=this.abs();if(Z.t==1&&Z.data[0]<=br[br.length-1]){for(G=0;G<br.length;++G)if(Z.data[0]==br[G])return!0;return!1}if(Z.isEven())return!1;for(G=1;G<br.length;){for(var le=br[G],_e=G+1;_e<br.length&&le<xa;)le*=br[_e++];for(le=Z.modInt(le);G<_e;)if(le%br[G++]==0)return!1}return Z.millerRabin($)}function ks($){var G=this.subtract(c.ONE),Z=G.getLowestSetBit();if(Z<=0)return!1;for(var le=G.shiftRight(Z),_e=zo(),Te,xe=0;xe<$;++xe){do Te=new c(this.bitLength(),_e);while(Te.compareTo(c.ONE)<=0||Te.compareTo(G)>=0);var Le=Te.modPow(le,this);if(Le.compareTo(c.ONE)!=0&&Le.compareTo(G)!=0){for(var bt=1;bt++<Z&&Le.compareTo(G)!=0;)if(Le=Le.modPowInt(2,this),Le.compareTo(c.ONE)==0)return!1;if(Le.compareTo(G)!=0)return!1}}return!0}function zo(){return{nextBytes:function($){for(var G=0;G<$.length;++G)$[G]=Math.floor(Math.random()*256)}}}c.prototype.chunkSize=Ne,c.prototype.toRadix=rt,c.prototype.fromRadix=ze,c.prototype.fromNumber=kt,c.prototype.bitwiseTo=Lt,c.prototype.changeBit=Ut,c.prototype.addTo=Zt,c.prototype.dMultiply=or,c.prototype.dAddOffset=cr,c.prototype.multiplyLowerTo=fo,c.prototype.multiplyUpperTo=Pi,c.prototype.modInt=Na,c.prototype.millerRabin=ks,c.prototype.clone=Ee,c.prototype.intValue=Ue,c.prototype.byteValue=qe,c.prototype.shortValue=ge,c.prototype.signum=We,c.prototype.toByteArray=St,c.prototype.equals=Ct,c.prototype.min=Bt,c.prototype.max=Ot,c.prototype.and=Xt,c.prototype.or=Kt,c.prototype.xor=Cr,c.prototype.andNot=qr,c.prototype.not=un,c.prototype.shiftLeft=Qr,c.prototype.shiftRight=Yr,c.prototype.getLowestSetBit=li,c.prototype.bitCount=Nn,c.prototype.testBit=xt,c.prototype.setBit=Jt,c.prototype.clearBit=Dt,c.prototype.flipBit=Wt,c.prototype.add=Gt,c.prototype.subtract=Qt,c.prototype.multiply=rr,c.prototype.divide=nr,c.prototype.remainder=ir,c.prototype.divideAndRemainder=er,c.prototype.modPow=Ba,c.prototype.modInverse=go,c.prototype.pow=As,c.prototype.gcd=La,c.prototype.isProbablePrime=Ua}),zu=Qe((e,t)=>{var r=lt();co(),Et();var n=t.exports=r.sha1=r.sha1||{};r.md.sha1=r.md.algorithms.sha1=n,n.create=function(){u||c();var h=null,a=r.util.createBuffer(),d=new Array(80),f={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return f.start=function(){f.messageLength=0,f.fullMessageLength=f.messageLength64=[];for(var g=f.messageLengthSize/4,R=0;R<g;++R)f.fullMessageLength.push(0);return a=r.util.createBuffer(),h={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},f},f.start(),f.update=function(g,R){R==="utf8"&&(g=r.util.encodeUtf8(g));var S=g.length;f.messageLength+=S,S=[S/4294967296>>>0,S>>>0];for(var m=f.fullMessageLength.length-1;m>=0;--m)f.fullMessageLength[m]+=S[1],S[1]=S[0]+(f.fullMessageLength[m]/4294967296>>>0),f.fullMessageLength[m]=f.fullMessageLength[m]>>>0,S[0]=S[1]/4294967296>>>0;return a.putBytes(g),s(h,d,a),(a.read>2048||a.length()===0)&&a.compact(),f},f.digest=function(){var g=r.util.createBuffer();g.putBytes(a.bytes());var R=f.fullMessageLength[f.fullMessageLength.length-1]+f.messageLengthSize,S=R&f.blockLength-1;g.putBytes(i.substr(0,f.blockLength-S));for(var m,T,O=f.fullMessageLength[0]*8,k=0;k<f.fullMessageLength.length-1;++k)m=f.fullMessageLength[k+1]*8,T=m/4294967296>>>0,O+=T,g.putInt32(O>>>0),O=m>>>0;g.putInt32(O);var y={h0:h.h0,h1:h.h1,h2:h.h2,h3:h.h3,h4:h.h4};s(y,d,g);var I=r.util.createBuffer();return I.putInt32(y.h0),I.putInt32(y.h1),I.putInt32(y.h2),I.putInt32(y.h3),I.putInt32(y.h4),I},f};var i=null,u=!1;function c(){i=String.fromCharCode(128),i+=r.util.fillString(String.fromCharCode(0),64),u=!0}function s(h,a,d){for(var f,g,R,S,m,T,O,k,y=d.length();y>=64;){for(g=h.h0,R=h.h1,S=h.h2,m=h.h3,T=h.h4,k=0;k<16;++k)f=d.getInt32(),a[k]=f,O=m^R&(S^m),f=(g<<5|g>>>27)+O+T+1518500249+f,T=m,m=S,S=(R<<30|R>>>2)>>>0,R=g,g=f;for(;k<20;++k)f=a[k-3]^a[k-8]^a[k-14]^a[k-16],f=f<<1|f>>>31,a[k]=f,O=m^R&(S^m),f=(g<<5|g>>>27)+O+T+1518500249+f,T=m,m=S,S=(R<<30|R>>>2)>>>0,R=g,g=f;for(;k<32;++k)f=a[k-3]^a[k-8]^a[k-14]^a[k-16],f=f<<1|f>>>31,a[k]=f,O=R^S^m,f=(g<<5|g>>>27)+O+T+1859775393+f,T=m,m=S,S=(R<<30|R>>>2)>>>0,R=g,g=f;for(;k<40;++k)f=a[k-6]^a[k-16]^a[k-28]^a[k-32],f=f<<2|f>>>30,a[k]=f,O=R^S^m,f=(g<<5|g>>>27)+O+T+1859775393+f,T=m,m=S,S=(R<<30|R>>>2)>>>0,R=g,g=f;for(;k<60;++k)f=a[k-6]^a[k-16]^a[k-28]^a[k-32],f=f<<2|f>>>30,a[k]=f,O=R&S|m&(R^S),f=(g<<5|g>>>27)+O+T+2400959708+f,T=m,m=S,S=(R<<30|R>>>2)>>>0,R=g,g=f;for(;k<80;++k)f=a[k-6]^a[k-16]^a[k-28]^a[k-32],f=f<<2|f>>>30,a[k]=f,O=R^S^m,f=(g<<5|g>>>27)+O+T+3395469782+f,T=m,m=S,S=(R<<30|R>>>2)>>>0,R=g,g=f;h.h0=h.h0+g|0,h.h1=h.h1+R|0,h.h2=h.h2+S|0,h.h3=h.h3+m|0,h.h4=h.h4+T|0,y-=64}}}),gb=Qe((e,t)=>{var r=lt();Et(),ui(),zu();var n=t.exports=r.pkcs1=r.pkcs1||{};n.encode_rsa_oaep=function(u,c,s){var h,a,d,f;typeof s=="string"?(h=s,a=arguments[3]||void 0,d=arguments[4]||void 0):s&&(h=s.label||void 0,a=s.seed||void 0,d=s.md||void 0,s.mgf1&&s.mgf1.md&&(f=s.mgf1.md)),d?d.start():d=r.md.sha1.create(),f||(f=d);var g=Math.ceil(u.n.bitLength()/8),R=g-2*d.digestLength-2;if(c.length>R){var S=new Error("RSAES-OAEP input message length is too long.");throw S.length=c.length,S.maxLength=R,S}h||(h=""),d.update(h,"raw");for(var m=d.digest(),T="",O=R-c.length,k=0;k<O;k++)T+="\0";var y=m.getBytes()+T+""+c;if(!a)a=r.random.getBytes(d.digestLength);else if(a.length!==d.digestLength){var S=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw S.seedLength=a.length,S.digestLength=d.digestLength,S}var I=i(a,g-d.digestLength-1,f),w=r.util.xorBytes(y,I,y.length),L=i(w,d.digestLength,f),N=r.util.xorBytes(a,L,a.length);return"\0"+N+w},n.decode_rsa_oaep=function(u,c,s){var h,a,d;typeof s=="string"?(h=s,a=arguments[3]||void 0):s&&(h=s.label||void 0,a=s.md||void 0,s.mgf1&&s.mgf1.md&&(d=s.mgf1.md));var f=Math.ceil(u.n.bitLength()/8);if(c.length!==f){var g=new Error("RSAES-OAEP encoded message length is invalid.");throw g.length=c.length,g.expectedLength=f,g}if(a===void 0?a=r.md.sha1.create():a.start(),d||(d=a),f<2*a.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");h||(h=""),a.update(h,"raw");for(var R=a.digest().getBytes(),S=c.charAt(0),m=c.substring(1,a.digestLength+1),T=c.substring(1+a.digestLength),O=i(T,a.digestLength,d),k=r.util.xorBytes(m,O,m.length),y=i(k,f-a.digestLength-1,d),I=r.util.xorBytes(T,y,T.length),w=I.substring(0,a.digestLength),g=S!=="\0",L=0;L<a.digestLength;++L)g|=R.charAt(L)!==w.charAt(L);for(var N=1,C=a.digestLength,v=a.digestLength;v<I.length;v++){var p=I.charCodeAt(v),q=p&1^1,V=N?65534:0;g|=p&V,N=N&q,C+=N}if(g||I.charCodeAt(C)!==1)throw new Error("Invalid RSAES-OAEP padding.");return I.substring(C+1)};function i(u,c,s){s||(s=r.md.sha1.create());for(var h="",a=Math.ceil(c/s.digestLength),d=0;d<a;++d){var f=String.fromCharCode(d>>24&255,d>>16&255,d>>8&255,d&255);s.start(),s.update(u+f),h+=s.digest().getBytes()}return h.substring(0,c)}}),mb=Qe((e,t)=>{var r=lt();Et(),sh(),ui(),function(){if(r.prime){t.exports=r.prime;return}var n=t.exports=r.prime=r.prime||{},i=r.jsbn.BigInteger,u=[6,4,2,4,2,4,6,2],c=new i(null);c.fromInt(30);var s=function(S,m){return S|m};n.generateProbablePrime=function(S,m,T){typeof m=="function"&&(T=m,m={}),m=m||{};var O=m.algorithm||"PRIMEINC";typeof O=="string"&&(O={name:O}),O.options=O.options||{};var k=m.prng||r.random,y={nextBytes:function(I){for(var w=k.getBytesSync(I.length),L=0;L<I.length;++L)I[L]=w.charCodeAt(L)}};if(O.name==="PRIMEINC")return h(S,y,O.options,T);throw new Error("Invalid prime generation algorithm: "+O.name)};function h(S,m,T,O){return"workers"in T?f(S,m,T,O):a(S,m,T,O)}function a(S,m,T,O){var k=g(S,m),y=0,I=R(k.bitLength());"millerRabinTests"in T&&(I=T.millerRabinTests);var w=10;"maxBlockTime"in T&&(w=T.maxBlockTime),d(k,S,m,y,I,w,O)}function d(S,m,T,O,k,y,I){var w=+new Date;do{if(S.bitLength()>m&&(S=g(m,T)),S.isProbablePrime(k))return I(null,S);S.dAddOffset(u[O++%8],0)}while(y<0||+new Date-w<y);r.util.setImmediate(function(){d(S,m,T,O,k,y,I)})}function f(S,m,T,O){if(typeof Worker>"u")return a(S,m,T,O);var k=g(S,m),y=T.workers,I=T.workLoad||100,w=I*30/8,L=T.workerScript||"forge/prime.worker.js";if(y===-1)return r.util.estimateCores(function(C,v){C&&(v=2),y=v-1,N()});N();function N(){y=Math.max(1,y);for(var C=[],v=0;v<y;++v)C[v]=new Worker(L);for(var p=y,v=0;v<y;++v)C[v].addEventListener("message",V);var q=!1;function V(z){if(!q){--p;var E=z.data;if(E.found){for(var B=0;B<C.length;++B)C[B].terminate();return q=!0,O(null,new i(E.prime,16))}k.bitLength()>S&&(k=g(S,m));var D=k.toString(16);z.target.postMessage({hex:D,workLoad:I}),k.dAddOffset(w,0)}}}}function g(S,m){var T=new i(S,m),O=S-1;return T.testBit(O)||T.bitwiseTo(i.ONE.shiftLeft(O),s,T),T.dAddOffset(31-T.mod(c).byteValue(),0),T}function R(S){return S<=100?27:S<=150?18:S<=200?15:S<=250?12:S<=300?9:S<=350?8:S<=400?7:S<=500?6:S<=600?5:S<=800?4:S<=1250?3:2}}()}),uh=Qe((e,t)=>{var r=lt();Oi(),sh(),Oa(),gb(),mb(),ui(),Et(),typeof n>"u"&&(n=r.jsbn.BigInteger);var n,i=r.util.isNodejs?vs("crypto"):null,u=r.asn1,c=r.util;r.pki=r.pki||{},t.exports=r.pki.rsa=r.rsa=r.rsa||{};var s=r.pki,h=[6,4,2,4,2,4,6,2],a={name:"PrivateKeyInfo",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:u.Class.UNIVERSAL,type:u.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:u.Class.UNIVERSAL,type:u.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},d={name:"RSAPrivateKey",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},f={name:"RSAPublicKey",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},g=r.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:u.Class.UNIVERSAL,type:u.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:u.Class.UNIVERSAL,type:u.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},R={name:"DigestInfo",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:u.Class.UNIVERSAL,type:u.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:u.Class.UNIVERSAL,type:u.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:u.Class.UNIVERSAL,type:u.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},S=function(v){var p;if(v.algorithm in s.oids)p=s.oids[v.algorithm];else{var q=new Error("Unknown message digest algorithm.");throw q.algorithm=v.algorithm,q}var V=u.oidToDer(p).getBytes(),z=u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[]),E=u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[]);E.value.push(u.create(u.Class.UNIVERSAL,u.Type.OID,!1,V)),E.value.push(u.create(u.Class.UNIVERSAL,u.Type.NULL,!1,""));var B=u.create(u.Class.UNIVERSAL,u.Type.OCTETSTRING,!1,v.digest().getBytes());return z.value.push(E),z.value.push(B),u.toDer(z).getBytes()},m=function(v,p,q){if(q)return v.modPow(p.e,p.n);if(!p.p||!p.q)return v.modPow(p.d,p.n);p.dP||(p.dP=p.d.mod(p.p.subtract(n.ONE))),p.dQ||(p.dQ=p.d.mod(p.q.subtract(n.ONE))),p.qInv||(p.qInv=p.q.modInverse(p.p));var V;do V=new n(r.util.bytesToHex(r.random.getBytes(p.n.bitLength()/8)),16);while(V.compareTo(p.n)>=0||!V.gcd(p.n).equals(n.ONE));v=v.multiply(V.modPow(p.e,p.n)).mod(p.n);for(var z=v.mod(p.p).modPow(p.dP,p.p),E=v.mod(p.q).modPow(p.dQ,p.q);z.compareTo(E)<0;)z=z.add(p.p);var B=z.subtract(E).multiply(p.qInv).mod(p.p).multiply(p.q).add(E);return B=B.multiply(V.modInverse(p.n)).mod(p.n),B};s.rsa.encrypt=function(v,p,q){var V=q,z,E=Math.ceil(p.n.bitLength()/8);q!==!1&&q!==!0?(V=q===2,z=T(v,p,q)):(z=r.util.createBuffer(),z.putBytes(v));for(var B=new n(z.toHex(),16),D=m(B,p,V),j=D.toString(16),M=r.util.createBuffer(),ee=E-Math.ceil(j.length/2);ee>0;)M.putByte(0),--ee;return M.putBytes(r.util.hexToBytes(j)),M.getBytes()},s.rsa.decrypt=function(v,p,q,V){var z=Math.ceil(p.n.bitLength()/8);if(v.length!==z){var E=new Error("Encrypted message length is invalid.");throw E.length=v.length,E.expected=z,E}var B=new n(r.util.createBuffer(v).toHex(),16);if(B.compareTo(p.n)>=0)throw new Error("Encrypted message is invalid.");for(var D=m(B,p,q),j=D.toString(16),M=r.util.createBuffer(),ee=z-Math.ceil(j.length/2);ee>0;)M.putByte(0),--ee;return M.putBytes(r.util.hexToBytes(j)),V!==!1?O(M.getBytes(),p,q):M.getBytes()},s.rsa.createKeyPairGenerationState=function(v,p,q){typeof v=="string"&&(v=parseInt(v,10)),v=v||2048,q=q||{};var V=q.prng||r.random,z={nextBytes:function(D){for(var j=V.getBytesSync(D.length),M=0;M<D.length;++M)D[M]=j.charCodeAt(M)}},E=q.algorithm||"PRIMEINC",B;if(E==="PRIMEINC")B={algorithm:E,state:0,bits:v,rng:z,eInt:p||65537,e:new n(null),p:null,q:null,qBits:v>>1,pBits:v-(v>>1),pqState:0,num:null,keys:null},B.e.fromInt(B.eInt);else throw new Error("Invalid key generation algorithm: "+E);return B},s.rsa.stepKeyPairGenerationState=function(v,p){"algorithm"in v||(v.algorithm="PRIMEINC");var q=new n(null);q.fromInt(30);for(var V=0,z=function(oe,ce){return oe|ce},E=+new Date,B,D=0;v.keys===null&&(p<=0||D<p);){if(v.state===0){var j=v.p===null?v.pBits:v.qBits,M=j-1;v.pqState===0?(v.num=new n(j,v.rng),v.num.testBit(M)||v.num.bitwiseTo(n.ONE.shiftLeft(M),z,v.num),v.num.dAddOffset(31-v.num.mod(q).byteValue(),0),V=0,++v.pqState):v.pqState===1?v.num.bitLength()>j?v.pqState=0:v.num.isProbablePrime(I(v.num.bitLength()))?++v.pqState:v.num.dAddOffset(h[V++%8],0):v.pqState===2?v.pqState=v.num.subtract(n.ONE).gcd(v.e).compareTo(n.ONE)===0?3:0:v.pqState===3&&(v.pqState=0,v.p===null?v.p=v.num:v.q=v.num,v.p!==null&&v.q!==null&&++v.state,v.num=null)}else if(v.state===1)v.p.compareTo(v.q)<0&&(v.num=v.p,v.p=v.q,v.q=v.num),++v.state;else if(v.state===2)v.p1=v.p.subtract(n.ONE),v.q1=v.q.subtract(n.ONE),v.phi=v.p1.multiply(v.q1),++v.state;else if(v.state===3)v.phi.gcd(v.e).compareTo(n.ONE)===0?++v.state:(v.p=null,v.q=null,v.state=0);else if(v.state===4)v.n=v.p.multiply(v.q),v.n.bitLength()===v.bits?++v.state:(v.q=null,v.state=0);else if(v.state===5){var ee=v.e.modInverse(v.phi);v.keys={privateKey:s.rsa.setPrivateKey(v.n,v.e,ee,v.p,v.q,ee.mod(v.p1),ee.mod(v.q1),v.q.modInverse(v.p)),publicKey:s.rsa.setPublicKey(v.n,v.e)}}B=+new Date,D+=B-E,E=B}return v.keys!==null},s.rsa.generateKeyPair=function(v,p,q,V){if(arguments.length===1?typeof v=="object"?(q=v,v=void 0):typeof v=="function"&&(V=v,v=void 0):arguments.length===2?typeof v=="number"?typeof p=="function"?(V=p,p=void 0):typeof p!="number"&&(q=p,p=void 0):(q=v,V=p,v=void 0,p=void 0):arguments.length===3&&(typeof p=="number"?typeof q=="function"&&(V=q,q=void 0):(V=q,q=p,p=void 0)),q=q||{},v===void 0&&(v=q.bits||2048),p===void 0&&(p=q.e||65537),!r.options.usePureJavaScript&&!q.prng&&v>=256&&v<=16384&&(p===65537||p===3)){if(V){if(w("generateKeyPair"))return i.generateKeyPair("rsa",{modulusLength:v,publicExponent:p,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(D,j,M){if(D)return V(D);V(null,{privateKey:s.privateKeyFromPem(M),publicKey:s.publicKeyFromPem(j)})});if(L("generateKey")&&L("exportKey"))return c.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:v,publicExponent:C(p),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(D){return c.globalScope.crypto.subtle.exportKey("pkcs8",D.privateKey)}).then(void 0,function(D){V(D)}).then(function(D){if(D){var j=s.privateKeyFromAsn1(u.fromDer(r.util.createBuffer(D)));V(null,{privateKey:j,publicKey:s.setRsaPublicKey(j.n,j.e)})}});if(N("generateKey")&&N("exportKey")){var z=c.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:v,publicExponent:C(p),hash:{name:"SHA-256"}},!0,["sign","verify"]);z.oncomplete=function(D){var j=D.target.result,M=c.globalScope.msCrypto.subtle.exportKey("pkcs8",j.privateKey);M.oncomplete=function(ee){var oe=ee.target.result,ce=s.privateKeyFromAsn1(u.fromDer(r.util.createBuffer(oe)));V(null,{privateKey:ce,publicKey:s.setRsaPublicKey(ce.n,ce.e)})},M.onerror=function(ee){V(ee)}},z.onerror=function(D){V(D)};return}}else if(w("generateKeyPairSync")){var E=i.generateKeyPairSync("rsa",{modulusLength:v,publicExponent:p,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:s.privateKeyFromPem(E.privateKey),publicKey:s.publicKeyFromPem(E.publicKey)}}}var B=s.rsa.createKeyPairGenerationState(v,p,q);if(!V)return s.rsa.stepKeyPairGenerationState(B,0),B.keys;k(B,q,V)},s.setRsaPublicKey=s.rsa.setPublicKey=function(v,p){var q={n:v,e:p};return q.encrypt=function(V,z,E){if(typeof z=="string"?z=z.toUpperCase():z===void 0&&(z="RSAES-PKCS1-V1_5"),z==="RSAES-PKCS1-V1_5")z={encode:function(D,j,M){return T(D,j,2).getBytes()}};else if(z==="RSA-OAEP"||z==="RSAES-OAEP")z={encode:function(D,j){return r.pkcs1.encode_rsa_oaep(j,D,E)}};else if(["RAW","NONE","NULL",null].indexOf(z)!==-1)z={encode:function(D){return D}};else if(typeof z=="string")throw new Error('Unsupported encryption scheme: "'+z+'".');var B=z.encode(V,q,!0);return s.rsa.encrypt(B,q,!0)},q.verify=function(V,z,E,B){typeof E=="string"?E=E.toUpperCase():E===void 0&&(E="RSASSA-PKCS1-V1_5"),B===void 0&&(B={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in B||(B._parseAllDigestBytes=!0),E==="RSASSA-PKCS1-V1_5"?E={verify:function(j,M){M=O(M,q,!0);var ee=u.fromDer(M,{parseAllBytes:B._parseAllDigestBytes}),oe={},ce=[];if(!u.validate(ee,R,oe,ce)){var pe=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.");throw pe.errors=ce,pe}var me=u.derToOid(oe.algorithmIdentifier);if(!(me===r.oids.md2||me===r.oids.md5||me===r.oids.sha1||me===r.oids.sha224||me===r.oids.sha256||me===r.oids.sha384||me===r.oids.sha512||me===r.oids["sha512-224"]||me===r.oids["sha512-256"])){var pe=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.");throw pe.oid=me,pe}if((me===r.oids.md2||me===r.oids.md5)&&!("parameters"in oe))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return j===oe.digest}}:(E==="NONE"||E==="NULL"||E===null)&&(E={verify:function(j,M){return M=O(M,q,!0),j===M}});var D=s.rsa.decrypt(z,q,!0,!1);return E.verify(V,D,q.n.bitLength())},q},s.setRsaPrivateKey=s.rsa.setPrivateKey=function(v,p,q,V,z,E,B,D){var j={n:v,e:p,d:q,p:V,q:z,dP:E,dQ:B,qInv:D};return j.decrypt=function(M,ee,oe){typeof ee=="string"?ee=ee.toUpperCase():ee===void 0&&(ee="RSAES-PKCS1-V1_5");var ce=s.rsa.decrypt(M,j,!1,!1);if(ee==="RSAES-PKCS1-V1_5")ee={decode:O};else if(ee==="RSA-OAEP"||ee==="RSAES-OAEP")ee={decode:function(pe,me){return r.pkcs1.decode_rsa_oaep(me,pe,oe)}};else if(["RAW","NONE","NULL",null].indexOf(ee)!==-1)ee={decode:function(pe){return pe}};else throw new Error('Unsupported encryption scheme: "'+ee+'".');return ee.decode(ce,j,!1)},j.sign=function(M,ee){var oe=!1;typeof ee=="string"&&(ee=ee.toUpperCase()),ee===void 0||ee==="RSASSA-PKCS1-V1_5"?(ee={encode:S},oe=1):(ee==="NONE"||ee==="NULL"||ee===null)&&(ee={encode:function(){return M}},oe=1);var ce=ee.encode(M,j.n.bitLength());return s.rsa.encrypt(ce,j,oe)},j},s.wrapRsaPrivateKey=function(v){return u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,u.integerToDer(0).getBytes()),u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(s.oids.rsaEncryption).getBytes()),u.create(u.Class.UNIVERSAL,u.Type.NULL,!1,"")]),u.create(u.Class.UNIVERSAL,u.Type.OCTETSTRING,!1,u.toDer(v).getBytes())])},s.privateKeyFromAsn1=function(v){var p={},q=[];if(u.validate(v,a,p,q)&&(v=u.fromDer(r.util.createBuffer(p.privateKey))),p={},q=[],!u.validate(v,d,p,q)){var V=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw V.errors=q,V}var z,E,B,D,j,M,ee,oe;return z=r.util.createBuffer(p.privateKeyModulus).toHex(),E=r.util.createBuffer(p.privateKeyPublicExponent).toHex(),B=r.util.createBuffer(p.privateKeyPrivateExponent).toHex(),D=r.util.createBuffer(p.privateKeyPrime1).toHex(),j=r.util.createBuffer(p.privateKeyPrime2).toHex(),M=r.util.createBuffer(p.privateKeyExponent1).toHex(),ee=r.util.createBuffer(p.privateKeyExponent2).toHex(),oe=r.util.createBuffer(p.privateKeyCoefficient).toHex(),s.setRsaPrivateKey(new n(z,16),new n(E,16),new n(B,16),new n(D,16),new n(j,16),new n(M,16),new n(ee,16),new n(oe,16))},s.privateKeyToAsn1=s.privateKeyToRSAPrivateKey=function(v){return u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,u.integerToDer(0).getBytes()),u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,y(v.n)),u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,y(v.e)),u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,y(v.d)),u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,y(v.p)),u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,y(v.q)),u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,y(v.dP)),u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,y(v.dQ)),u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,y(v.qInv))])},s.publicKeyFromAsn1=function(v){var p={},q=[];if(u.validate(v,g,p,q)){var V=u.derToOid(p.publicKeyOid);if(V!==s.oids.rsaEncryption){var z=new Error("Cannot read public key. Unknown OID.");throw z.oid=V,z}v=p.rsaPublicKey}if(q=[],!u.validate(v,f,p,q)){var z=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw z.errors=q,z}var E=r.util.createBuffer(p.publicKeyModulus).toHex(),B=r.util.createBuffer(p.publicKeyExponent).toHex();return s.setRsaPublicKey(new n(E,16),new n(B,16))},s.publicKeyToAsn1=s.publicKeyToSubjectPublicKeyInfo=function(v){return u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(s.oids.rsaEncryption).getBytes()),u.create(u.Class.UNIVERSAL,u.Type.NULL,!1,"")]),u.create(u.Class.UNIVERSAL,u.Type.BITSTRING,!1,[s.publicKeyToRSAPublicKey(v)])])},s.publicKeyToRSAPublicKey=function(v){return u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,y(v.n)),u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,y(v.e))])};function T(v,p,q){var V=r.util.createBuffer(),z=Math.ceil(p.n.bitLength()/8);if(v.length>z-11){var E=new Error("Message is too long for PKCS#1 v1.5 padding.");throw E.length=v.length,E.max=z-11,E}V.putByte(0),V.putByte(q);var B=z-3-v.length,D;if(q===0||q===1){D=q===0?0:255;for(var j=0;j<B;++j)V.putByte(D)}else for(;B>0;){for(var M=0,ee=r.random.getBytes(B),j=0;j<B;++j)D=ee.charCodeAt(j),D===0?++M:V.putByte(D);B=M}return V.putByte(0),V.putBytes(v),V}function O(v,p,q,V){var z=Math.ceil(p.n.bitLength()/8),E=r.util.createBuffer(v),B=E.getByte(),D=E.getByte();if(B!==0||q&&D!==0&&D!==1||!q&&D!=2||q&&D===0&&typeof V>"u")throw new Error("Encryption block is invalid.");var j=0;if(D===0){j=z-3-V;for(var M=0;M<j;++M)if(E.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(D===1)for(j=0;E.length()>1;){if(E.getByte()!==255){--E.read;break}++j}else if(D===2)for(j=0;E.length()>1;){if(E.getByte()===0){--E.read;break}++j}var ee=E.getByte();if(ee!==0||j!==z-3-E.length())throw new Error("Encryption block is invalid.");return E.getBytes()}function k(v,p,q){typeof p=="function"&&(q=p,p={}),p=p||{};var V={algorithm:{name:p.algorithm||"PRIMEINC",options:{workers:p.workers||2,workLoad:p.workLoad||100,workerScript:p.workerScript}}};"prng"in p&&(V.prng=p.prng),z();function z(){E(v.pBits,function(D,j){if(D)return q(D);if(v.p=j,v.q!==null)return B(D,v.q);E(v.qBits,B)})}function E(D,j){r.prime.generateProbablePrime(D,V,j)}function B(D,j){if(D)return q(D);if(v.q=j,v.p.compareTo(v.q)<0){var M=v.p;v.p=v.q,v.q=M}if(v.p.subtract(n.ONE).gcd(v.e).compareTo(n.ONE)!==0){v.p=null,z();return}if(v.q.subtract(n.ONE).gcd(v.e).compareTo(n.ONE)!==0){v.q=null,E(v.qBits,B);return}if(v.p1=v.p.subtract(n.ONE),v.q1=v.q.subtract(n.ONE),v.phi=v.p1.multiply(v.q1),v.phi.gcd(v.e).compareTo(n.ONE)!==0){v.p=v.q=null,z();return}if(v.n=v.p.multiply(v.q),v.n.bitLength()!==v.bits){v.q=null,E(v.qBits,B);return}var ee=v.e.modInverse(v.phi);v.keys={privateKey:s.rsa.setPrivateKey(v.n,v.e,ee,v.p,v.q,ee.mod(v.p1),ee.mod(v.q1),v.q.modInverse(v.p)),publicKey:s.rsa.setPublicKey(v.n,v.e)},q(null,v.keys)}}function y(v){var p=v.toString(16);p[0]>="8"&&(p="00"+p);var q=r.util.hexToBytes(p);return q.length>1&&(q.charCodeAt(0)===0&&!(q.charCodeAt(1)&128)||q.charCodeAt(0)===255&&(q.charCodeAt(1)&128)===128)?q.substr(1):q}function I(v){return v<=100?27:v<=150?18:v<=200?15:v<=250?12:v<=300?9:v<=350?8:v<=400?7:v<=500?6:v<=600?5:v<=800?4:v<=1250?3:2}function w(v){return r.util.isNodejs&&typeof i[v]=="function"}function L(v){return typeof c.globalScope<"u"&&typeof c.globalScope.crypto=="object"&&typeof c.globalScope.crypto.subtle=="object"&&typeof c.globalScope.crypto.subtle[v]=="function"}function N(v){return typeof c.globalScope<"u"&&typeof c.globalScope.msCrypto=="object"&&typeof c.globalScope.msCrypto.subtle=="object"&&typeof c.globalScope.msCrypto.subtle[v]=="function"}function C(v){for(var p=r.util.hexToBytes(v.toString(16)),q=new Uint8Array(p.length),V=0;V<p.length;++V)q[V]=p.charCodeAt(V);return q}}),vb=Qe((e,t)=>{var r=lt();ka(),Oi(),ah(),co(),Oa(),Hp(),Is(),ui(),yb(),uh(),Et(),typeof n>"u"&&(n=r.jsbn.BigInteger);var n,i=r.asn1,u=r.pki=r.pki||{};t.exports=u.pbe=r.pbe=r.pbe||{};var c=u.oids,s={name:"EncryptedPrivateKeyInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},h={name:"PBES2Algorithms",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},a={name:"pkcs-12PbeParams",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"iterations"}]};u.encryptPrivateKeyInfo=function(S,m,T){T=T||{},T.saltSize=T.saltSize||8,T.count=T.count||2048,T.algorithm=T.algorithm||"aes128",T.prfAlgorithm=T.prfAlgorithm||"sha1";var O=r.random.getBytesSync(T.saltSize),k=T.count,y=i.integerToDer(k),I,w,L;if(T.algorithm.indexOf("aes")===0||T.algorithm==="des"){var N,C,v;switch(T.algorithm){case"aes128":I=16,N=16,C=c["aes128-CBC"],v=r.aes.createEncryptionCipher;break;case"aes192":I=24,N=16,C=c["aes192-CBC"],v=r.aes.createEncryptionCipher;break;case"aes256":I=32,N=16,C=c["aes256-CBC"],v=r.aes.createEncryptionCipher;break;case"des":I=8,N=8,C=c.desCBC,v=r.des.createEncryptionCipher;break;default:var p=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw p.algorithm=T.algorithm,p}var q="hmacWith"+T.prfAlgorithm.toUpperCase(),V=g(q),z=r.pkcs5.pbkdf2(m,O,k,I,V),E=r.random.getBytesSync(N),B=v(z);B.start(E),B.update(i.toDer(S)),B.finish(),L=B.output.getBytes();var D=R(O,y,I,q);w=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(c.pkcs5PBES2).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(c.pkcs5PBKDF2).getBytes()),D]),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(C).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,E)])])])}else if(T.algorithm==="3des"){I=24;var j=new r.util.ByteBuffer(O),z=u.pbe.generatePkcs12Key(m,j,1,k,I),E=u.pbe.generatePkcs12Key(m,j,2,k,I),B=r.des.createEncryptionCipher(z);B.start(E),B.update(i.toDer(S)),B.finish(),L=B.output.getBytes(),w=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(c["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,O),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,y.getBytes())])])}else{var p=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw p.algorithm=T.algorithm,p}var M=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[w,i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,L)]);return M},u.decryptPrivateKeyInfo=function(S,m){var T=null,O={},k=[];if(!i.validate(S,s,O,k)){var y=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw y.errors=k,y}var I=i.derToOid(O.encryptionOid),w=u.pbe.getCipher(I,O.encryptionParams,m),L=r.util.createBuffer(O.encryptedData);return w.update(L),w.finish()&&(T=i.fromDer(w.output)),T},u.encryptedPrivateKeyToPem=function(S,m){var T={type:"ENCRYPTED PRIVATE KEY",body:i.toDer(S).getBytes()};return r.pem.encode(T,{maxline:m})},u.encryptedPrivateKeyFromPem=function(S){var m=r.pem.decode(S)[0];if(m.type!=="ENCRYPTED PRIVATE KEY"){var T=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw T.headerType=m.type,T}if(m.procType&&m.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return i.fromDer(m.body)},u.encryptRsaPrivateKey=function(S,m,T){if(T=T||{},!T.legacy){var O=u.wrapRsaPrivateKey(u.privateKeyToAsn1(S));return O=u.encryptPrivateKeyInfo(O,m,T),u.encryptedPrivateKeyToPem(O)}var k,y,I,w;switch(T.algorithm){case"aes128":k="AES-128-CBC",I=16,y=r.random.getBytesSync(16),w=r.aes.createEncryptionCipher;break;case"aes192":k="AES-192-CBC",I=24,y=r.random.getBytesSync(16),w=r.aes.createEncryptionCipher;break;case"aes256":k="AES-256-CBC",I=32,y=r.random.getBytesSync(16),w=r.aes.createEncryptionCipher;break;case"3des":k="DES-EDE3-CBC",I=24,y=r.random.getBytesSync(8),w=r.des.createEncryptionCipher;break;case"des":k="DES-CBC",I=8,y=r.random.getBytesSync(8),w=r.des.createEncryptionCipher;break;default:var L=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+T.algorithm+'".');throw L.algorithm=T.algorithm,L}var N=r.pbe.opensslDeriveBytes(m,y.substr(0,8),I),C=w(N);C.start(y),C.update(i.toDer(u.privateKeyToAsn1(S))),C.finish();var v={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:k,parameters:r.util.bytesToHex(y).toUpperCase()},body:C.output.getBytes()};return r.pem.encode(v)},u.decryptRsaPrivateKey=function(S,m){var T=null,O=r.pem.decode(S)[0];if(O.type!=="ENCRYPTED PRIVATE KEY"&&O.type!=="PRIVATE KEY"&&O.type!=="RSA PRIVATE KEY"){var k=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw k.headerType=k,k}if(O.procType&&O.procType.type==="ENCRYPTED"){var y,I;switch(O.dekInfo.algorithm){case"DES-CBC":y=8,I=r.des.createDecryptionCipher;break;case"DES-EDE3-CBC":y=24,I=r.des.createDecryptionCipher;break;case"AES-128-CBC":y=16,I=r.aes.createDecryptionCipher;break;case"AES-192-CBC":y=24,I=r.aes.createDecryptionCipher;break;case"AES-256-CBC":y=32,I=r.aes.createDecryptionCipher;break;case"RC2-40-CBC":y=5,I=function(v){return r.rc2.createDecryptionCipher(v,40)};break;case"RC2-64-CBC":y=8,I=function(v){return r.rc2.createDecryptionCipher(v,64)};break;case"RC2-128-CBC":y=16,I=function(v){return r.rc2.createDecryptionCipher(v,128)};break;default:var k=new Error('Could not decrypt private key; unsupported encryption algorithm "'+O.dekInfo.algorithm+'".');throw k.algorithm=O.dekInfo.algorithm,k}var w=r.util.hexToBytes(O.dekInfo.parameters),L=r.pbe.opensslDeriveBytes(m,w.substr(0,8),y),N=I(L);if(N.start(w),N.update(r.util.createBuffer(O.body)),N.finish())T=N.output.getBytes();else return T}else T=O.body;return O.type==="ENCRYPTED PRIVATE KEY"?T=u.decryptPrivateKeyInfo(i.fromDer(T),m):T=i.fromDer(T),T!==null&&(T=u.privateKeyFromAsn1(T)),T},u.pbe.generatePkcs12Key=function(S,m,T,O,k,y){var I,w;if(typeof y>"u"||y===null){if(!("sha1"in r.md))throw new Error('"sha1" hash algorithm unavailable.');y=r.md.sha1.create()}var L=y.digestLength,N=y.blockLength,C=new r.util.ByteBuffer,v=new r.util.ByteBuffer;if(S!=null){for(w=0;w<S.length;w++)v.putInt16(S.charCodeAt(w));v.putInt16(0)}var p=v.length(),q=m.length(),V=new r.util.ByteBuffer;V.fillWithByte(T,N);var z=N*Math.ceil(q/N),E=new r.util.ByteBuffer;for(w=0;w<z;w++)E.putByte(m.at(w%q));var B=N*Math.ceil(p/N),D=new r.util.ByteBuffer;for(w=0;w<B;w++)D.putByte(v.at(w%p));var j=E;j.putBuffer(D);for(var M=Math.ceil(k/L),ee=1;ee<=M;ee++){var oe=new r.util.ByteBuffer;oe.putBytes(V.bytes()),oe.putBytes(j.bytes());for(var ce=0;ce<O;ce++)y.start(),y.update(oe.getBytes()),oe=y.digest();var pe=new r.util.ByteBuffer;for(w=0;w<N;w++)pe.putByte(oe.at(w%L));var me=Math.ceil(q/N)+Math.ceil(p/N),ke=new r.util.ByteBuffer;for(I=0;I<me;I++){var Pe=new r.util.ByteBuffer(j.getBytes(N)),Ce=511;for(w=pe.length()-1;w>=0;w--)Ce=Ce>>8,Ce+=pe.at(w)+Pe.at(w),Pe.setAt(w,Ce&255);ke.putBuffer(Pe)}j=ke,C.putBuffer(oe)}return C.truncate(C.length()-k),C},u.pbe.getCipher=function(S,m,T){switch(S){case u.oids.pkcs5PBES2:return u.pbe.getCipherForPBES2(S,m,T);case u.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case u.oids["pbewithSHAAnd40BitRC2-CBC"]:return u.pbe.getCipherForPKCS12PBE(S,m,T);default:var O=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw O.oid=S,O.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],O}},u.pbe.getCipherForPBES2=function(S,m,T){var O={},k=[];if(!i.validate(m,h,O,k)){var y=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw y.errors=k,y}if(S=i.derToOid(O.kdfOid),S!==u.oids.pkcs5PBKDF2){var y=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw y.oid=S,y.supportedOids=["pkcs5PBKDF2"],y}if(S=i.derToOid(O.encOid),S!==u.oids["aes128-CBC"]&&S!==u.oids["aes192-CBC"]&&S!==u.oids["aes256-CBC"]&&S!==u.oids["des-EDE3-CBC"]&&S!==u.oids.desCBC){var y=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw y.oid=S,y.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],y}var I=O.kdfSalt,w=r.util.createBuffer(O.kdfIterationCount);w=w.getInt(w.length()<<3);var L,N;switch(u.oids[S]){case"aes128-CBC":L=16,N=r.aes.createDecryptionCipher;break;case"aes192-CBC":L=24,N=r.aes.createDecryptionCipher;break;case"aes256-CBC":L=32,N=r.aes.createDecryptionCipher;break;case"des-EDE3-CBC":L=24,N=r.des.createDecryptionCipher;break;case"desCBC":L=8,N=r.des.createDecryptionCipher;break}var C=f(O.prfOid),v=r.pkcs5.pbkdf2(T,I,w,L,C),p=O.encIv,q=N(v);return q.start(p),q},u.pbe.getCipherForPKCS12PBE=function(S,m,T){var O={},k=[];if(!i.validate(m,a,O,k)){var y=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw y.errors=k,y}var I=r.util.createBuffer(O.salt),w=r.util.createBuffer(O.iterations);w=w.getInt(w.length()<<3);var L,N,C;switch(S){case u.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:L=24,N=8,C=r.des.startDecrypting;break;case u.oids["pbewithSHAAnd40BitRC2-CBC"]:L=5,N=8,C=function(z,E){var B=r.rc2.createDecryptionCipher(z,40);return B.start(E,null),B};break;default:var y=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw y.oid=S,y}var v=f(O.prfOid),p=u.pbe.generatePkcs12Key(T,I,1,w,L,v);v.start();var q=u.pbe.generatePkcs12Key(T,I,2,w,N,v);return C(p,q)},u.pbe.opensslDeriveBytes=function(S,m,T,O){if(typeof O>"u"||O===null){if(!("md5"in r.md))throw new Error('"md5" hash algorithm unavailable.');O=r.md.md5.create()}m===null&&(m="");for(var k=[d(O,S+m)],y=16,I=1;y<T;++I,y+=16)k.push(d(O,k[I-1]+S+m));return k.join("").substr(0,T)};function d(S,m){return S.start().update(m).digest().getBytes()}function f(S){var m;if(!S)m="hmacWithSHA1";else if(m=u.oids[i.derToOid(S)],!m){var T=new Error("Unsupported PRF OID.");throw T.oid=S,T.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],T}return g(m)}function g(S){var m=r.md;switch(S){case"hmacWithSHA224":m=r.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":S=S.substr(8).toLowerCase();break;default:var T=new Error("Unsupported PRF algorithm.");throw T.algorithm=S,T.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],T}if(!m||!(S in m))throw new Error("Unknown hash algorithm: "+S);return m[S].create()}function R(S,m,T,O){var k=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,S),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,m.getBytes())]);return O!=="hmacWithSHA1"&&k.value.push(i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,r.util.hexToBytes(T.toString(16))),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(u.oids[O]).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")])),k}}),bb=Qe((e,t)=>{var r=lt();Oi(),Et();var n=r.asn1,i=t.exports=r.pkcs7asn1=r.pkcs7asn1||{};r.pkcs7=r.pkcs7||{},r.pkcs7.asn1=i;var u={name:"ContentInfo",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:n.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};i.contentInfoValidator=u;var c={name:"EncryptedContentInfo",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:n.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:n.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};i.envelopedDataValidator={name:"EnvelopedData",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:n.Class.UNIVERSAL,type:n.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(c)},i.encryptedDataValidator={name:"EncryptedData",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"version"}].concat(c)};var s={name:"SignerInfo",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:n.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:n.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:n.Class.UNIVERSAL,type:n.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:n.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};i.signedDataValidator={name:"SignedData",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:n.Class.UNIVERSAL,type:n.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},u,{name:"SignedData.Certificates",tagClass:n.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:n.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:n.Class.UNIVERSAL,type:n.Type.SET,capture:"signerInfos",optional:!0,value:[s]}]},i.recipientInfoValidator={name:"RecipientInfo",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:n.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:n.Class.UNIVERSAL,type:n.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}}),_b=Qe((e,t)=>{var r=lt();Et(),r.mgf=r.mgf||{};var n=t.exports=r.mgf.mgf1=r.mgf1=r.mgf1||{};n.create=function(i){var u={generate:function(c,s){for(var h=new r.util.ByteBuffer,a=Math.ceil(s/i.digestLength),d=0;d<a;d++){var f=new r.util.ByteBuffer;f.putInt32(d),i.start(),i.update(c+f.getBytes()),h.putBuffer(i.digest())}return h.truncate(h.length()-s),h.getBytes()}};return u}}),o5=Qe((e,t)=>{var r=lt();_b(),t.exports=r.mgf=r.mgf||{},r.mgf.mgf1=r.mgf1}),Kp=Qe((e,t)=>{var r=lt();ui(),Et();var n=t.exports=r.pss=r.pss||{};n.create=function(i){arguments.length===3&&(i={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var u=i.md,c=i.mgf,s=u.digestLength,h=i.salt||null;typeof h=="string"&&(h=r.util.createBuffer(h));var a;if("saltLength"in i)a=i.saltLength;else if(h!==null)a=h.length();else throw new Error("Salt length not specified or specific salt not given.");if(h!==null&&h.length()!==a)throw new Error("Given salt length does not match length of given salt.");var d=i.prng||r.random,f={};return f.encode=function(g,R){var S,m=R-1,T=Math.ceil(m/8),O=g.digest().getBytes();if(T<s+a+2)throw new Error("Message is too long to encrypt.");var k;h===null?k=d.getBytesSync(a):k=h.bytes();var y=new r.util.ByteBuffer;y.fillWithByte(0,8),y.putBytes(O),y.putBytes(k),u.start(),u.update(y.getBytes());var I=u.digest().getBytes(),w=new r.util.ByteBuffer;w.fillWithByte(0,T-a-s-2),w.putByte(1),w.putBytes(k);var L=w.getBytes(),N=T-s-1,C=c.generate(I,N),v="";for(S=0;S<N;S++)v+=String.fromCharCode(L.charCodeAt(S)^C.charCodeAt(S));var p=65280>>8*T-m&255;return v=String.fromCharCode(v.charCodeAt(0)&~p)+v.substr(1),v+I+String.fromCharCode(188)},f.verify=function(g,R,S){var m,T=S-1,O=Math.ceil(T/8);if(R=R.substr(-O),O<s+a+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(R.charCodeAt(O-1)!==188)throw new Error("Encoded message does not end in 0xBC.");var k=O-s-1,y=R.substr(0,k),I=R.substr(k,s),w=65280>>8*O-T&255;if(y.charCodeAt(0)&w)throw new Error("Bits beyond keysize not zero as expected.");var L=c.generate(I,k),N="";for(m=0;m<k;m++)N+=String.fromCharCode(y.charCodeAt(m)^L.charCodeAt(m));N=String.fromCharCode(N.charCodeAt(0)&~w)+N.substr(1);var C=O-s-a-2;for(m=0;m<C;m++)if(N.charCodeAt(m)!==0)throw new Error("Leftmost octets not zero as expected");if(N.charCodeAt(C)!==1)throw new Error("Inconsistent PSS signature, 0x01 marker not found");var v=N.substr(-a),p=new r.util.ByteBuffer;p.fillWithByte(0,8),p.putBytes(g),p.putBytes(v),u.start(),u.update(p.getBytes());var q=u.digest().getBytes();return I===q},f}}),Wp=Qe((e,t)=>{var r=lt();ka(),Oi(),ah(),co(),o5(),Oa(),Is(),Kp(),uh(),Et();var n=r.asn1,i=t.exports=r.pki=r.pki||{},u=i.oids,c={};c.CN=u.commonName,c.commonName="CN",c.C=u.countryName,c.countryName="C",c.L=u.localityName,c.localityName="L",c.ST=u.stateOrProvinceName,c.stateOrProvinceName="ST",c.O=u.organizationName,c.organizationName="O",c.OU=u.organizationalUnitName,c.organizationalUnitName="OU",c.E=u.emailAddress,c.emailAddress="E";var s=r.pki.rsa.publicKeyValidator,h={name:"Certificate",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:n.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:n.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:n.Class.UNIVERSAL,type:n.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:n.Class.UNIVERSAL,type:n.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:n.Class.UNIVERSAL,type:n.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:n.Class.UNIVERSAL,type:n.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},s,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:n.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:n.Class.UNIVERSAL,type:n.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:n.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:n.Class.UNIVERSAL,type:n.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:n.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:n.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:n.Class.UNIVERSAL,type:n.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},a={name:"rsapss",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:n.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:n.Class.UNIVERSAL,type:n.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:n.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:n.Class.UNIVERSAL,type:n.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:n.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:n.Class.UNIVERSAL,type:n.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:n.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:n.Class.UNIVERSAL,type:n.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},d={name:"CertificationRequestInfo",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},s,{name:"CertificationRequestInfo.attributes",tagClass:n.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:n.Class.UNIVERSAL,type:n.Type.SET,constructed:!0}]}]}]},f={name:"CertificationRequest",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[d,{name:"CertificationRequest.signatureAlgorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:n.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:n.Class.UNIVERSAL,type:n.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};i.RDNAttributesAsArray=function(C,v){for(var p=[],q,V,z,E=0;E<C.value.length;++E){q=C.value[E];for(var B=0;B<q.value.length;++B)z={},V=q.value[B],z.type=n.derToOid(V.value[0].value),z.value=V.value[1].value,z.valueTagClass=V.value[1].type,z.type in u&&(z.name=u[z.type],z.name in c&&(z.shortName=c[z.name])),v&&(v.update(z.type),v.update(z.value)),p.push(z)}return p},i.CRIAttributesAsArray=function(C){for(var v=[],p=0;p<C.length;++p)for(var q=C[p],V=n.derToOid(q.value[0].value),z=q.value[1].value,E=0;E<z.length;++E){var B={};if(B.type=V,B.value=z[E].value,B.valueTagClass=z[E].type,B.type in u&&(B.name=u[B.type],B.name in c&&(B.shortName=c[B.name])),B.type===u.extensionRequest){B.extensions=[];for(var D=0;D<B.value.length;++D)B.extensions.push(i.certificateExtensionFromAsn1(B.value[D]))}v.push(B)}return v};function g(C,v){typeof v=="string"&&(v={shortName:v});for(var p=null,q,V=0;p===null&&V<C.attributes.length;++V)q=C.attributes[V],(v.type&&v.type===q.type||v.name&&v.name===q.name||v.shortName&&v.shortName===q.shortName)&&(p=q);return p}var R=function(C,v,p){var q={};if(C!==u["RSASSA-PSS"])return q;p&&(q={hash:{algorithmOid:u.sha1},mgf:{algorithmOid:u.mgf1,hash:{algorithmOid:u.sha1}},saltLength:20});var V={},z=[];if(!n.validate(v,a,V,z)){var E=new Error("Cannot read RSASSA-PSS parameter block.");throw E.errors=z,E}return V.hashOid!==void 0&&(q.hash=q.hash||{},q.hash.algorithmOid=n.derToOid(V.hashOid)),V.maskGenOid!==void 0&&(q.mgf=q.mgf||{},q.mgf.algorithmOid=n.derToOid(V.maskGenOid),q.mgf.hash=q.mgf.hash||{},q.mgf.hash.algorithmOid=n.derToOid(V.maskGenHashOid)),V.saltLength!==void 0&&(q.saltLength=V.saltLength.charCodeAt(0)),q},S=function(C){switch(u[C.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return r.md.sha1.create();case"md5WithRSAEncryption":return r.md.md5.create();case"sha256WithRSAEncryption":return r.md.sha256.create();case"sha384WithRSAEncryption":return r.md.sha384.create();case"sha512WithRSAEncryption":return r.md.sha512.create();case"RSASSA-PSS":return r.md.sha256.create();default:var v=new Error("Could not compute "+C.type+" digest. Unknown signature OID.");throw v.signatureOid=C.signatureOid,v}},m=function(C){var v=C.certificate,p;switch(v.signatureOid){case u.sha1WithRSAEncryption:case u.sha1WithRSASignature:break;case u["RSASSA-PSS"]:var q,V;if(q=u[v.signatureParameters.mgf.hash.algorithmOid],q===void 0||r.md[q]===void 0){var z=new Error("Unsupported MGF hash function.");throw z.oid=v.signatureParameters.mgf.hash.algorithmOid,z.name=q,z}if(V=u[v.signatureParameters.mgf.algorithmOid],V===void 0||r.mgf[V]===void 0){var z=new Error("Unsupported MGF function.");throw z.oid=v.signatureParameters.mgf.algorithmOid,z.name=V,z}if(V=r.mgf[V].create(r.md[q].create()),q=u[v.signatureParameters.hash.algorithmOid],q===void 0||r.md[q]===void 0){var z=new Error("Unsupported RSASSA-PSS hash function.");throw z.oid=v.signatureParameters.hash.algorithmOid,z.name=q,z}p=r.pss.create(r.md[q].create(),V,v.signatureParameters.saltLength);break}return v.publicKey.verify(C.md.digest().getBytes(),C.signature,p)};i.certificateFromPem=function(C,v,p){var q=r.pem.decode(C)[0];if(q.type!=="CERTIFICATE"&&q.type!=="X509 CERTIFICATE"&&q.type!=="TRUSTED CERTIFICATE"){var V=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw V.headerType=q.type,V}if(q.procType&&q.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var z=n.fromDer(q.body,p);return i.certificateFromAsn1(z,v)},i.certificateToPem=function(C,v){var p={type:"CERTIFICATE",body:n.toDer(i.certificateToAsn1(C)).getBytes()};return r.pem.encode(p,{maxline:v})},i.publicKeyFromPem=function(C){var v=r.pem.decode(C)[0];if(v.type!=="PUBLIC KEY"&&v.type!=="RSA PUBLIC KEY"){var p=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw p.headerType=v.type,p}if(v.procType&&v.procType.type==="ENCRYPTED")throw new Error("Could not convert public key from PEM; PEM is encrypted.");var q=n.fromDer(v.body);return i.publicKeyFromAsn1(q)},i.publicKeyToPem=function(C,v){var p={type:"PUBLIC KEY",body:n.toDer(i.publicKeyToAsn1(C)).getBytes()};return r.pem.encode(p,{maxline:v})},i.publicKeyToRSAPublicKeyPem=function(C,v){var p={type:"RSA PUBLIC KEY",body:n.toDer(i.publicKeyToRSAPublicKey(C)).getBytes()};return r.pem.encode(p,{maxline:v})},i.getPublicKeyFingerprint=function(C,v){v=v||{};var p=v.md||r.md.sha1.create(),q=v.type||"RSAPublicKey",V;switch(q){case"RSAPublicKey":V=n.toDer(i.publicKeyToRSAPublicKey(C)).getBytes();break;case"SubjectPublicKeyInfo":V=n.toDer(i.publicKeyToAsn1(C)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+v.type+'".')}p.start(),p.update(V);var z=p.digest();if(v.encoding==="hex"){var E=z.toHex();return v.delimiter?E.match(/.{2}/g).join(v.delimiter):E}else{if(v.encoding==="binary")return z.getBytes();if(v.encoding)throw new Error('Unknown encoding "'+v.encoding+'".')}return z},i.certificationRequestFromPem=function(C,v,p){var q=r.pem.decode(C)[0];if(q.type!=="CERTIFICATE REQUEST"){var V=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw V.headerType=q.type,V}if(q.procType&&q.procType.type==="ENCRYPTED")throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var z=n.fromDer(q.body,p);return i.certificationRequestFromAsn1(z,v)},i.certificationRequestToPem=function(C,v){var p={type:"CERTIFICATE REQUEST",body:n.toDer(i.certificationRequestToAsn1(C)).getBytes()};return r.pem.encode(p,{maxline:v})},i.createCertificate=function(){var C={};return C.version=2,C.serialNumber="00",C.signatureOid=null,C.signature=null,C.siginfo={},C.siginfo.algorithmOid=null,C.validity={},C.validity.notBefore=new Date,C.validity.notAfter=new Date,C.issuer={},C.issuer.getField=function(v){return g(C.issuer,v)},C.issuer.addField=function(v){O([v]),C.issuer.attributes.push(v)},C.issuer.attributes=[],C.issuer.hash=null,C.subject={},C.subject.getField=function(v){return g(C.subject,v)},C.subject.addField=function(v){O([v]),C.subject.attributes.push(v)},C.subject.attributes=[],C.subject.hash=null,C.extensions=[],C.publicKey=null,C.md=null,C.setSubject=function(v,p){O(v),C.subject.attributes=v,delete C.subject.uniqueId,p&&(C.subject.uniqueId=p),C.subject.hash=null},C.setIssuer=function(v,p){O(v),C.issuer.attributes=v,delete C.issuer.uniqueId,p&&(C.issuer.uniqueId=p),C.issuer.hash=null},C.setExtensions=function(v){for(var p=0;p<v.length;++p)k(v[p],{cert:C});C.extensions=v},C.getExtension=function(v){typeof v=="string"&&(v={name:v});for(var p=null,q,V=0;p===null&&V<C.extensions.length;++V)q=C.extensions[V],(v.id&&q.id===v.id||v.name&&q.name===v.name)&&(p=q);return p},C.sign=function(v,p){C.md=p||r.md.sha1.create();var q=u[C.md.algorithm+"WithRSAEncryption"];if(!q){var V=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw V.algorithm=C.md.algorithm,V}C.signatureOid=C.siginfo.algorithmOid=q,C.tbsCertificate=i.getTBSCertificate(C);var z=n.toDer(C.tbsCertificate);C.md.update(z.getBytes()),C.signature=v.sign(C.md)},C.verify=function(v){var p=!1;if(!C.issued(v)){var q=v.issuer,V=C.subject,z=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw z.expectedIssuer=V.attributes,z.actualIssuer=q.attributes,z}var E=v.md;if(E===null){E=S({signatureOid:v.signatureOid,type:"certificate"});var B=v.tbsCertificate||i.getTBSCertificate(v),D=n.toDer(B);E.update(D.getBytes())}return E!==null&&(p=m({certificate:C,md:E,signature:v.signature})),p},C.isIssuer=function(v){var p=!1,q=C.issuer,V=v.subject;if(q.hash&&V.hash)p=q.hash===V.hash;else if(q.attributes.length===V.attributes.length){p=!0;for(var z,E,B=0;p&&B<q.attributes.length;++B)z=q.attributes[B],E=V.attributes[B],(z.type!==E.type||z.value!==E.value)&&(p=!1)}return p},C.issued=function(v){return v.isIssuer(C)},C.generateSubjectKeyIdentifier=function(){return i.getPublicKeyFingerprint(C.publicKey,{type:"RSAPublicKey"})},C.verifySubjectKeyIdentifier=function(){for(var v=u.subjectKeyIdentifier,p=0;p<C.extensions.length;++p){var q=C.extensions[p];if(q.id===v){var V=C.generateSubjectKeyIdentifier().getBytes();return r.util.hexToBytes(q.subjectKeyIdentifier)===V}}return!1},C},i.certificateFromAsn1=function(C,v){var p={},q=[];if(!n.validate(C,h,p,q)){var V=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw V.errors=q,V}var z=n.derToOid(p.publicKeyOid);if(z!==i.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var E=i.createCertificate();E.version=p.certVersion?p.certVersion.charCodeAt(0):0;var B=r.util.createBuffer(p.certSerialNumber);E.serialNumber=B.toHex(),E.signatureOid=r.asn1.derToOid(p.certSignatureOid),E.signatureParameters=R(E.signatureOid,p.certSignatureParams,!0),E.siginfo.algorithmOid=r.asn1.derToOid(p.certinfoSignatureOid),E.siginfo.parameters=R(E.siginfo.algorithmOid,p.certinfoSignatureParams,!1),E.signature=p.certSignature;var D=[];if(p.certValidity1UTCTime!==void 0&&D.push(n.utcTimeToDate(p.certValidity1UTCTime)),p.certValidity2GeneralizedTime!==void 0&&D.push(n.generalizedTimeToDate(p.certValidity2GeneralizedTime)),p.certValidity3UTCTime!==void 0&&D.push(n.utcTimeToDate(p.certValidity3UTCTime)),p.certValidity4GeneralizedTime!==void 0&&D.push(n.generalizedTimeToDate(p.certValidity4GeneralizedTime)),D.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(D.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(E.validity.notBefore=D[0],E.validity.notAfter=D[1],E.tbsCertificate=p.tbsCertificate,v){E.md=S({signatureOid:E.signatureOid,type:"certificate"});var j=n.toDer(E.tbsCertificate);E.md.update(j.getBytes())}var M=r.md.sha1.create(),ee=n.toDer(p.certIssuer);M.update(ee.getBytes()),E.issuer.getField=function(pe){return g(E.issuer,pe)},E.issuer.addField=function(pe){O([pe]),E.issuer.attributes.push(pe)},E.issuer.attributes=i.RDNAttributesAsArray(p.certIssuer),p.certIssuerUniqueId&&(E.issuer.uniqueId=p.certIssuerUniqueId),E.issuer.hash=M.digest().toHex();var oe=r.md.sha1.create(),ce=n.toDer(p.certSubject);return oe.update(ce.getBytes()),E.subject.getField=function(pe){return g(E.subject,pe)},E.subject.addField=function(pe){O([pe]),E.subject.attributes.push(pe)},E.subject.attributes=i.RDNAttributesAsArray(p.certSubject),p.certSubjectUniqueId&&(E.subject.uniqueId=p.certSubjectUniqueId),E.subject.hash=oe.digest().toHex(),p.certExtensions?E.extensions=i.certificateExtensionsFromAsn1(p.certExtensions):E.extensions=[],E.publicKey=i.publicKeyFromAsn1(p.subjectPublicKeyInfo),E},i.certificateExtensionsFromAsn1=function(C){for(var v=[],p=0;p<C.value.length;++p)for(var q=C.value[p],V=0;V<q.value.length;++V)v.push(i.certificateExtensionFromAsn1(q.value[V]));return v},i.certificateExtensionFromAsn1=function(C){var v={};if(v.id=n.derToOid(C.value[0].value),v.critical=!1,C.value[1].type===n.Type.BOOLEAN?(v.critical=C.value[1].value.charCodeAt(0)!==0,v.value=C.value[2].value):v.value=C.value[1].value,v.id in u){if(v.name=u[v.id],v.name==="keyUsage"){var p=n.fromDer(v.value),q=0,V=0;p.value.length>1&&(q=p.value.charCodeAt(1),V=p.value.length>2?p.value.charCodeAt(2):0),v.digitalSignature=(q&128)===128,v.nonRepudiation=(q&64)===64,v.keyEncipherment=(q&32)===32,v.dataEncipherment=(q&16)===16,v.keyAgreement=(q&8)===8,v.keyCertSign=(q&4)===4,v.cRLSign=(q&2)===2,v.encipherOnly=(q&1)===1,v.decipherOnly=(V&128)===128}else if(v.name==="basicConstraints"){var p=n.fromDer(v.value);p.value.length>0&&p.value[0].type===n.Type.BOOLEAN?v.cA=p.value[0].value.charCodeAt(0)!==0:v.cA=!1;var z=null;p.value.length>0&&p.value[0].type===n.Type.INTEGER?z=p.value[0].value:p.value.length>1&&(z=p.value[1].value),z!==null&&(v.pathLenConstraint=n.derToInteger(z))}else if(v.name==="extKeyUsage")for(var p=n.fromDer(v.value),E=0;E<p.value.length;++E){var B=n.derToOid(p.value[E].value);B in u?v[u[B]]=!0:v[B]=!0}else if(v.name==="nsCertType"){var p=n.fromDer(v.value),q=0;p.value.length>1&&(q=p.value.charCodeAt(1)),v.client=(q&128)===128,v.server=(q&64)===64,v.email=(q&32)===32,v.objsign=(q&16)===16,v.reserved=(q&8)===8,v.sslCA=(q&4)===4,v.emailCA=(q&2)===2,v.objCA=(q&1)===1}else if(v.name==="subjectAltName"||v.name==="issuerAltName"){v.altNames=[];for(var D,p=n.fromDer(v.value),j=0;j<p.value.length;++j){D=p.value[j];var M={type:D.type,value:D.value};switch(v.altNames.push(M),D.type){case 1:case 2:case 6:break;case 7:M.ip=r.util.bytesToIP(D.value);break;case 8:M.oid=n.derToOid(D.value);break;default:}}}else if(v.name==="subjectKeyIdentifier"){var p=n.fromDer(v.value);v.subjectKeyIdentifier=r.util.bytesToHex(p.value)}}return v},i.certificationRequestFromAsn1=function(C,v){var p={},q=[];if(!n.validate(C,f,p,q)){var V=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw V.errors=q,V}var z=n.derToOid(p.publicKeyOid);if(z!==i.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var E=i.createCertificationRequest();if(E.version=p.csrVersion?p.csrVersion.charCodeAt(0):0,E.signatureOid=r.asn1.derToOid(p.csrSignatureOid),E.signatureParameters=R(E.signatureOid,p.csrSignatureParams,!0),E.siginfo.algorithmOid=r.asn1.derToOid(p.csrSignatureOid),E.siginfo.parameters=R(E.siginfo.algorithmOid,p.csrSignatureParams,!1),E.signature=p.csrSignature,E.certificationRequestInfo=p.certificationRequestInfo,v){E.md=S({signatureOid:E.signatureOid,type:"certification request"});var B=n.toDer(E.certificationRequestInfo);E.md.update(B.getBytes())}var D=r.md.sha1.create();return E.subject.getField=function(j){return g(E.subject,j)},E.subject.addField=function(j){O([j]),E.subject.attributes.push(j)},E.subject.attributes=i.RDNAttributesAsArray(p.certificationRequestInfoSubject,D),E.subject.hash=D.digest().toHex(),E.publicKey=i.publicKeyFromAsn1(p.subjectPublicKeyInfo),E.getAttribute=function(j){return g(E,j)},E.addAttribute=function(j){O([j]),E.attributes.push(j)},E.attributes=i.CRIAttributesAsArray(p.certificationRequestInfoAttributes||[]),E},i.createCertificationRequest=function(){var C={};return C.version=0,C.signatureOid=null,C.signature=null,C.siginfo={},C.siginfo.algorithmOid=null,C.subject={},C.subject.getField=function(v){return g(C.subject,v)},C.subject.addField=function(v){O([v]),C.subject.attributes.push(v)},C.subject.attributes=[],C.subject.hash=null,C.publicKey=null,C.attributes=[],C.getAttribute=function(v){return g(C,v)},C.addAttribute=function(v){O([v]),C.attributes.push(v)},C.md=null,C.setSubject=function(v){O(v),C.subject.attributes=v,C.subject.hash=null},C.setAttributes=function(v){O(v),C.attributes=v},C.sign=function(v,p){C.md=p||r.md.sha1.create();var q=u[C.md.algorithm+"WithRSAEncryption"];if(!q){var V=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw V.algorithm=C.md.algorithm,V}C.signatureOid=C.siginfo.algorithmOid=q,C.certificationRequestInfo=i.getCertificationRequestInfo(C);var z=n.toDer(C.certificationRequestInfo);C.md.update(z.getBytes()),C.signature=v.sign(C.md)},C.verify=function(){var v=!1,p=C.md;if(p===null){p=S({signatureOid:C.signatureOid,type:"certification request"});var q=C.certificationRequestInfo||i.getCertificationRequestInfo(C),V=n.toDer(q);p.update(V.getBytes())}return p!==null&&(v=m({certificate:C,md:p,signature:C.signature})),v},C};function T(C){for(var v=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[]),p,q,V=C.attributes,z=0;z<V.length;++z){p=V[z];var E=p.value,B=n.Type.PRINTABLESTRING;"valueTagClass"in p&&(B=p.valueTagClass,B===n.Type.UTF8&&(E=r.util.encodeUtf8(E))),q=n.create(n.Class.UNIVERSAL,n.Type.SET,!0,[n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(p.type).getBytes()),n.create(n.Class.UNIVERSAL,B,!1,E)])]),v.value.push(q)}return v}function O(C){for(var v,p=0;p<C.length;++p){if(v=C[p],typeof v.name>"u"&&(v.type&&v.type in i.oids?v.name=i.oids[v.type]:v.shortName&&v.shortName in c&&(v.name=i.oids[c[v.shortName]])),typeof v.type>"u")if(v.name&&v.name in i.oids)v.type=i.oids[v.name];else{var q=new Error("Attribute type not specified.");throw q.attribute=v,q}if(typeof v.shortName>"u"&&v.name&&v.name in c&&(v.shortName=c[v.name]),v.type===u.extensionRequest&&(v.valueConstructed=!0,v.valueTagClass=n.Type.SEQUENCE,!v.value&&v.extensions)){v.value=[];for(var V=0;V<v.extensions.length;++V)v.value.push(i.certificateExtensionToAsn1(k(v.extensions[V])))}if(typeof v.value>"u"){var q=new Error("Attribute value not specified.");throw q.attribute=v,q}}}function k(C,v){if(v=v||{},typeof C.name>"u"&&C.id&&C.id in i.oids&&(C.name=i.oids[C.id]),typeof C.id>"u")if(C.name&&C.name in i.oids)C.id=i.oids[C.name];else{var p=new Error("Extension ID not specified.");throw p.extension=C,p}if(typeof C.value<"u")return C;if(C.name==="keyUsage"){var q=0,V=0,z=0;C.digitalSignature&&(V|=128,q=7),C.nonRepudiation&&(V|=64,q=6),C.keyEncipherment&&(V|=32,q=5),C.dataEncipherment&&(V|=16,q=4),C.keyAgreement&&(V|=8,q=3),C.keyCertSign&&(V|=4,q=2),C.cRLSign&&(V|=2,q=1),C.encipherOnly&&(V|=1,q=0),C.decipherOnly&&(z|=128,q=7);var E=String.fromCharCode(q);z!==0?E+=String.fromCharCode(V)+String.fromCharCode(z):V!==0&&(E+=String.fromCharCode(V)),C.value=n.create(n.Class.UNIVERSAL,n.Type.BITSTRING,!1,E)}else if(C.name==="basicConstraints")C.value=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[]),C.cA&&C.value.value.push(n.create(n.Class.UNIVERSAL,n.Type.BOOLEAN,!1,String.fromCharCode(255))),"pathLenConstraint"in C&&C.value.value.push(n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,n.integerToDer(C.pathLenConstraint).getBytes()));else if(C.name==="extKeyUsage"){C.value=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[]);var B=C.value.value;for(var D in C)C[D]===!0&&(D in u?B.push(n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(u[D]).getBytes())):D.indexOf(".")!==-1&&B.push(n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(D).getBytes())))}else if(C.name==="nsCertType"){var q=0,V=0;C.client&&(V|=128,q=7),C.server&&(V|=64,q=6),C.email&&(V|=32,q=5),C.objsign&&(V|=16,q=4),C.reserved&&(V|=8,q=3),C.sslCA&&(V|=4,q=2),C.emailCA&&(V|=2,q=1),C.objCA&&(V|=1,q=0);var E=String.fromCharCode(q);V!==0&&(E+=String.fromCharCode(V)),C.value=n.create(n.Class.UNIVERSAL,n.Type.BITSTRING,!1,E)}else if(C.name==="subjectAltName"||C.name==="issuerAltName"){C.value=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[]);for(var j,M=0;M<C.altNames.length;++M){j=C.altNames[M];var E=j.value;if(j.type===7&&j.ip){if(E=r.util.bytesFromIP(j.ip),E===null){var p=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw p.extension=C,p}}else j.type===8&&(j.oid?E=n.oidToDer(n.oidToDer(j.oid)):E=n.oidToDer(E));C.value.value.push(n.create(n.Class.CONTEXT_SPECIFIC,j.type,!1,E))}}else if(C.name==="nsComment"&&v.cert){if(!/^[\x00-\x7F]*$/.test(C.comment)||C.comment.length<1||C.comment.length>128)throw new Error('Invalid "nsComment" content.');C.value=n.create(n.Class.UNIVERSAL,n.Type.IA5STRING,!1,C.comment)}else if(C.name==="subjectKeyIdentifier"&&v.cert){var ee=v.cert.generateSubjectKeyIdentifier();C.subjectKeyIdentifier=ee.toHex(),C.value=n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,!1,ee.getBytes())}else if(C.name==="authorityKeyIdentifier"&&v.cert){C.value=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[]);var B=C.value.value;if(C.keyIdentifier){var oe=C.keyIdentifier===!0?v.cert.generateSubjectKeyIdentifier().getBytes():C.keyIdentifier;B.push(n.create(n.Class.CONTEXT_SPECIFIC,0,!1,oe))}if(C.authorityCertIssuer){var ce=[n.create(n.Class.CONTEXT_SPECIFIC,4,!0,[T(C.authorityCertIssuer===!0?v.cert.issuer:C.authorityCertIssuer)])];B.push(n.create(n.Class.CONTEXT_SPECIFIC,1,!0,ce))}if(C.serialNumber){var pe=r.util.hexToBytes(C.serialNumber===!0?v.cert.serialNumber:C.serialNumber);B.push(n.create(n.Class.CONTEXT_SPECIFIC,2,!1,pe))}}else if(C.name==="cRLDistributionPoints"){C.value=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[]);for(var B=C.value.value,me=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[]),ke=n.create(n.Class.CONTEXT_SPECIFIC,0,!0,[]),j,M=0;M<C.altNames.length;++M){j=C.altNames[M];var E=j.value;if(j.type===7&&j.ip){if(E=r.util.bytesFromIP(j.ip),E===null){var p=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw p.extension=C,p}}else j.type===8&&(j.oid?E=n.oidToDer(n.oidToDer(j.oid)):E=n.oidToDer(E));ke.value.push(n.create(n.Class.CONTEXT_SPECIFIC,j.type,!1,E))}me.value.push(n.create(n.Class.CONTEXT_SPECIFIC,0,!0,[ke])),B.push(me)}if(typeof C.value>"u"){var p=new Error("Extension value not specified.");throw p.extension=C,p}return C}function y(C,v){switch(C){case u["RSASSA-PSS"]:var p=[];return v.hash.algorithmOid!==void 0&&p.push(n.create(n.Class.CONTEXT_SPECIFIC,0,!0,[n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(v.hash.algorithmOid).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.NULL,!1,"")])])),v.mgf.algorithmOid!==void 0&&p.push(n.create(n.Class.CONTEXT_SPECIFIC,1,!0,[n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(v.mgf.algorithmOid).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(v.mgf.hash.algorithmOid).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.NULL,!1,"")])])])),v.saltLength!==void 0&&p.push(n.create(n.Class.CONTEXT_SPECIFIC,2,!0,[n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,n.integerToDer(v.saltLength).getBytes())])),n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,p);default:return n.create(n.Class.UNIVERSAL,n.Type.NULL,!1,"")}}function I(C){var v=n.create(n.Class.CONTEXT_SPECIFIC,0,!0,[]);if(C.attributes.length===0)return v;for(var p=C.attributes,q=0;q<p.length;++q){var V=p[q],z=V.value,E=n.Type.UTF8;"valueTagClass"in V&&(E=V.valueTagClass),E===n.Type.UTF8&&(z=r.util.encodeUtf8(z));var B=!1;"valueConstructed"in V&&(B=V.valueConstructed);var D=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(V.type).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.SET,!0,[n.create(n.Class.UNIVERSAL,E,B,z)])]);v.value.push(D)}return v}var w=new Date("1950-01-01T00:00:00Z"),L=new Date("2050-01-01T00:00:00Z");function N(C){return C>=w&&C<L?n.create(n.Class.UNIVERSAL,n.Type.UTCTIME,!1,n.dateToUtcTime(C)):n.create(n.Class.UNIVERSAL,n.Type.GENERALIZEDTIME,!1,n.dateToGeneralizedTime(C))}i.getTBSCertificate=function(C){var v=N(C.validity.notBefore),p=N(C.validity.notAfter),q=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.CONTEXT_SPECIFIC,0,!0,[n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,n.integerToDer(C.version).getBytes())]),n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,r.util.hexToBytes(C.serialNumber)),n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(C.siginfo.algorithmOid).getBytes()),y(C.siginfo.algorithmOid,C.siginfo.parameters)]),T(C.issuer),n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[v,p]),T(C.subject),i.publicKeyToAsn1(C.publicKey)]);return C.issuer.uniqueId&&q.value.push(n.create(n.Class.CONTEXT_SPECIFIC,1,!0,[n.create(n.Class.UNIVERSAL,n.Type.BITSTRING,!1,String.fromCharCode(0)+C.issuer.uniqueId)])),C.subject.uniqueId&&q.value.push(n.create(n.Class.CONTEXT_SPECIFIC,2,!0,[n.create(n.Class.UNIVERSAL,n.Type.BITSTRING,!1,String.fromCharCode(0)+C.subject.uniqueId)])),C.extensions.length>0&&q.value.push(i.certificateExtensionsToAsn1(C.extensions)),q},i.getCertificationRequestInfo=function(C){var v=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,n.integerToDer(C.version).getBytes()),T(C.subject),i.publicKeyToAsn1(C.publicKey),I(C)]);return v},i.distinguishedNameToAsn1=function(C){return T(C)},i.certificateToAsn1=function(C){var v=C.tbsCertificate||i.getTBSCertificate(C);return n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[v,n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(C.signatureOid).getBytes()),y(C.signatureOid,C.signatureParameters)]),n.create(n.Class.UNIVERSAL,n.Type.BITSTRING,!1,String.fromCharCode(0)+C.signature)])},i.certificateExtensionsToAsn1=function(C){var v=n.create(n.Class.CONTEXT_SPECIFIC,3,!0,[]),p=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[]);v.value.push(p);for(var q=0;q<C.length;++q)p.value.push(i.certificateExtensionToAsn1(C[q]));return v},i.certificateExtensionToAsn1=function(C){var v=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[]);v.value.push(n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(C.id).getBytes())),C.critical&&v.value.push(n.create(n.Class.UNIVERSAL,n.Type.BOOLEAN,!1,String.fromCharCode(255)));var p=C.value;return typeof C.value!="string"&&(p=n.toDer(p).getBytes()),v.value.push(n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,!1,p)),v},i.certificationRequestToAsn1=function(C){var v=C.certificationRequestInfo||i.getCertificationRequestInfo(C);return n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[v,n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(C.signatureOid).getBytes()),y(C.signatureOid,C.signatureParameters)]),n.create(n.Class.UNIVERSAL,n.Type.BITSTRING,!1,String.fromCharCode(0)+C.signature)])},i.createCaStore=function(C){var v={certs:{}};v.getIssuer=function(E){var B=p(E.issuer);return B},v.addCertificate=function(E){if(typeof E=="string"&&(E=r.pki.certificateFromPem(E)),q(E.subject),!v.hasCertificate(E))if(E.subject.hash in v.certs){var B=v.certs[E.subject.hash];r.util.isArray(B)||(B=[B]),B.push(E),v.certs[E.subject.hash]=B}else v.certs[E.subject.hash]=E},v.hasCertificate=function(E){typeof E=="string"&&(E=r.pki.certificateFromPem(E));var B=p(E.subject);if(!B)return!1;r.util.isArray(B)||(B=[B]);for(var D=n.toDer(i.certificateToAsn1(E)).getBytes(),j=0;j<B.length;++j){var M=n.toDer(i.certificateToAsn1(B[j])).getBytes();if(D===M)return!0}return!1},v.listAllCertificates=function(){var E=[];for(var B in v.certs)if(v.certs.hasOwnProperty(B)){var D=v.certs[B];if(!r.util.isArray(D))E.push(D);else for(var j=0;j<D.length;++j)E.push(D[j])}return E},v.removeCertificate=function(E){var B;if(typeof E=="string"&&(E=r.pki.certificateFromPem(E)),q(E.subject),!v.hasCertificate(E))return null;var D=p(E.subject);if(!r.util.isArray(D))return B=v.certs[E.subject.hash],delete v.certs[E.subject.hash],B;for(var j=n.toDer(i.certificateToAsn1(E)).getBytes(),M=0;M<D.length;++M){var ee=n.toDer(i.certificateToAsn1(D[M])).getBytes();j===ee&&(B=D[M],D.splice(M,1))}return D.length===0&&delete v.certs[E.subject.hash],B};function p(E){return q(E),v.certs[E.hash]||null}function q(E){if(!E.hash){var B=r.md.sha1.create();E.attributes=i.RDNAttributesAsArray(T(E),B),E.hash=B.digest().toHex()}}if(C)for(var V=0;V<C.length;++V){var z=C[V];v.addCertificate(z)}return v},i.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"},i.verifyCertificateChain=function(C,v,p){typeof p=="function"&&(p={verify:p}),p=p||{},v=v.slice(0);var q=v.slice(0),V=p.validityCheckDate;typeof V>"u"&&(V=new Date);var z=!0,E=null,B=0;do{var D=v.shift(),j=null,M=!1;if(V&&(V<D.validity.notBefore||V>D.validity.notAfter)&&(E={message:"Certificate is not valid yet or has expired.",error:i.certificateError.certificate_expired,notBefore:D.validity.notBefore,notAfter:D.validity.notAfter,now:V}),E===null){if(j=v[0]||C.getIssuer(D),j===null&&D.isIssuer(D)&&(M=!0,j=D),j){var ee=j;r.util.isArray(ee)||(ee=[ee]);for(var oe=!1;!oe&&ee.length>0;){j=ee.shift();try{oe=j.verify(D)}catch{}}oe||(E={message:"Certificate signature is invalid.",error:i.certificateError.bad_certificate})}E===null&&(!j||M)&&!C.hasCertificate(D)&&(E={message:"Certificate is not trusted.",error:i.certificateError.unknown_ca})}if(E===null&&j&&!D.isIssuer(j)&&(E={message:"Certificate issuer is invalid.",error:i.certificateError.bad_certificate}),E===null)for(var ce={keyUsage:!0,basicConstraints:!0},pe=0;E===null&&pe<D.extensions.length;++pe){var me=D.extensions[pe];me.critical&&!(me.name in ce)&&(E={message:"Certificate has an unsupported critical extension.",error:i.certificateError.unsupported_certificate})}if(E===null&&(!z||v.length===0&&(!j||M))){var ke=D.getExtension("basicConstraints"),Pe=D.getExtension("keyUsage");if(Pe!==null&&(!Pe.keyCertSign||ke===null)&&(E={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:i.certificateError.bad_certificate}),E===null&&ke!==null&&!ke.cA&&(E={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:i.certificateError.bad_certificate}),E===null&&Pe!==null&&"pathLenConstraint"in ke){var Ce=B-1;Ce>ke.pathLenConstraint&&(E={message:"Certificate basicConstraints pathLenConstraint violated.",error:i.certificateError.bad_certificate})}}var Ke=E===null?!0:E.error,Re=p.verify?p.verify(Ke,B,q):Ke;if(Re===!0)E=null;else throw Ke===!0&&(E={message:"The application rejected the certificate.",error:i.certificateError.bad_certificate}),(Re||Re===0)&&(typeof Re=="object"&&!r.util.isArray(Re)?(Re.message&&(E.message=Re.message),Re.error&&(E.error=Re.error)):typeof Re=="string"&&(E.error=Re)),E;z=!1,++B}while(v.length>0);return!0}}),wb=Qe((e,t)=>{var r=lt();Oi(),$u(),Oa(),bb(),vb(),ui(),uh(),zu(),Et(),Wp();var n=r.asn1,i=r.pki,u=t.exports=r.pkcs12=r.pkcs12||{},c={name:"ContentInfo",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:n.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},s={name:"PFX",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,capture:"version"},c,{name:"PFX.macData",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:n.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:n.Class.UNIVERSAL,type:n.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:n.Class.UNIVERSAL,type:n.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:n.Class.UNIVERSAL,type:n.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},h={name:"SafeBag",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:n.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:n.Class.UNIVERSAL,type:n.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},a={name:"Attribute",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:n.Class.UNIVERSAL,type:n.Type.SET,constructed:!0,capture:"values"}]},d={name:"CertBag",tagClass:n.Class.UNIVERSAL,type:n.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:n.Class.UNIVERSAL,type:n.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:n.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:n.Class.UNIVERSAL,type:n.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function f(O,k,y,I){for(var w=[],L=0;L<O.length;L++)for(var N=0;N<O[L].safeBags.length;N++){var C=O[L].safeBags[N];if(!(I!==void 0&&C.type!==I)){if(k===null){w.push(C);continue}C.attributes[k]!==void 0&&C.attributes[k].indexOf(y)>=0&&w.push(C)}}return w}u.pkcs12FromAsn1=function(O,k,y){typeof k=="string"?(y=k,k=!0):k===void 0&&(k=!0);var I={},w=[];if(!n.validate(O,s,I,w)){var L=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.");throw L.errors=L,L}var N={version:I.version.charCodeAt(0),safeContents:[],getBags:function(j){var M={},ee;return"localKeyId"in j?ee=j.localKeyId:"localKeyIdHex"in j&&(ee=r.util.hexToBytes(j.localKeyIdHex)),ee===void 0&&!("friendlyName"in j)&&"bagType"in j&&(M[j.bagType]=f(N.safeContents,null,null,j.bagType)),ee!==void 0&&(M.localKeyId=f(N.safeContents,"localKeyId",ee,j.bagType)),"friendlyName"in j&&(M.friendlyName=f(N.safeContents,"friendlyName",j.friendlyName,j.bagType)),M},getBagsByFriendlyName:function(j,M){return f(N.safeContents,"friendlyName",j,M)},getBagsByLocalKeyId:function(j,M){return f(N.safeContents,"localKeyId",j,M)}};if(I.version.charCodeAt(0)!==3){var L=new Error("PKCS#12 PFX of version other than 3 not supported.");throw L.version=I.version.charCodeAt(0),L}if(n.derToOid(I.contentType)!==i.oids.data){var L=new Error("Only PKCS#12 PFX in password integrity mode supported.");throw L.oid=n.derToOid(I.contentType),L}var C=I.content.value[0];if(C.tagClass!==n.Class.UNIVERSAL||C.type!==n.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(C=g(C),I.mac){var v=null,p=0,q=n.derToOid(I.macAlgorithm);switch(q){case i.oids.sha1:v=r.md.sha1.create(),p=20;break;case i.oids.sha256:v=r.md.sha256.create(),p=32;break;case i.oids.sha384:v=r.md.sha384.create(),p=48;break;case i.oids.sha512:v=r.md.sha512.create(),p=64;break;case i.oids.md5:v=r.md.md5.create(),p=16;break}if(v===null)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+q);var V=new r.util.ByteBuffer(I.macSalt),z="macIterations"in I?parseInt(r.util.bytesToHex(I.macIterations),16):1,E=u.generateKey(y,V,3,z,p,v),B=r.hmac.create();B.start(v,E),B.update(C.value);var D=B.getMac();if(D.getBytes()!==I.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return R(N,C.value,k,y),N};function g(O){if(O.composed||O.constructed){for(var k=r.util.createBuffer(),y=0;y<O.value.length;++y)k.putBytes(O.value[y].value);O.composed=O.constructed=!1,O.value=k.getBytes()}return O}function R(O,k,y,I){if(k=n.fromDer(k,y),k.tagClass!==n.Class.UNIVERSAL||k.type!==n.Type.SEQUENCE||k.constructed!==!0)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var w=0;w<k.value.length;w++){var L=k.value[w],N={},C=[];if(!n.validate(L,c,N,C)){var v=new Error("Cannot read ContentInfo.");throw v.errors=C,v}var p={encrypted:!1},q=null,V=N.content.value[0];switch(n.derToOid(N.contentType)){case i.oids.data:if(V.tagClass!==n.Class.UNIVERSAL||V.type!==n.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");q=g(V).value;break;case i.oids.encryptedData:q=S(V,I),p.encrypted=!0;break;default:var v=new Error("Unsupported PKCS#12 contentType.");throw v.contentType=n.derToOid(N.contentType),v}p.safeBags=m(q,y,I),O.safeContents.push(p)}}function S(O,k){var y={},I=[];if(!n.validate(O,r.pkcs7.asn1.encryptedDataValidator,y,I)){var w=new Error("Cannot read EncryptedContentInfo.");throw w.errors=I,w}var L=n.derToOid(y.contentType);if(L!==i.oids.data){var w=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.");throw w.oid=L,w}L=n.derToOid(y.encAlgorithm);var N=i.pbe.getCipher(L,y.encParameter,k),C=g(y.encryptedContentAsn1),v=r.util.createBuffer(C.value);if(N.update(v),!N.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return N.output.getBytes()}function m(O,k,y){if(!k&&O.length===0)return[];if(O=n.fromDer(O,k),O.tagClass!==n.Class.UNIVERSAL||O.type!==n.Type.SEQUENCE||O.constructed!==!0)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var I=[],w=0;w<O.value.length;w++){var L=O.value[w],N={},C=[];if(!n.validate(L,h,N,C)){var v=new Error("Cannot read SafeBag.");throw v.errors=C,v}var p={type:n.derToOid(N.bagId),attributes:T(N.bagAttributes)};I.push(p);var q,V,z=N.bagValue.value[0];switch(p.type){case i.oids.pkcs8ShroudedKeyBag:if(z=i.decryptPrivateKeyInfo(z,y),z===null)throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case i.oids.keyBag:try{p.key=i.privateKeyFromAsn1(z)}catch{p.key=null,p.asn1=z}continue;case i.oids.certBag:q=d,V=function(){if(n.derToOid(N.certId)!==i.oids.x509Certificate){var B=new Error("Unsupported certificate type, only X.509 supported.");throw B.oid=n.derToOid(N.certId),B}var D=n.fromDer(N.cert,k);try{p.cert=i.certificateFromAsn1(D,!0)}catch{p.cert=null,p.asn1=D}};break;default:var v=new Error("Unsupported PKCS#12 SafeBag type.");throw v.oid=p.type,v}if(q!==void 0&&!n.validate(z,q,N,C)){var v=new Error("Cannot read PKCS#12 "+q.name);throw v.errors=C,v}V()}return I}function T(O){var k={};if(O!==void 0)for(var y=0;y<O.length;++y){var I={},w=[];if(!n.validate(O[y],a,I,w)){var L=new Error("Cannot read PKCS#12 BagAttribute.");throw L.errors=w,L}var N=n.derToOid(I.oid);if(i.oids[N]!==void 0){k[i.oids[N]]=[];for(var C=0;C<I.values.length;++C)k[i.oids[N]].push(I.values[C].value)}}return k}u.toPkcs12Asn1=function(O,k,y,I){I=I||{},I.saltSize=I.saltSize||8,I.count=I.count||2048,I.algorithm=I.algorithm||I.encAlgorithm||"aes128","useMac"in I||(I.useMac=!0),"localKeyId"in I||(I.localKeyId=null),"generateLocalKeyId"in I||(I.generateLocalKeyId=!0);var w=I.localKeyId,L;if(w!==null)w=r.util.hexToBytes(w);else if(I.generateLocalKeyId)if(k){var N=r.util.isArray(k)?k[0]:k;typeof N=="string"&&(N=i.certificateFromPem(N));var C=r.md.sha1.create();C.update(n.toDer(i.certificateToAsn1(N)).getBytes()),w=C.digest().getBytes()}else w=r.random.getBytes(20);var v=[];w!==null&&v.push(n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(i.oids.localKeyId).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.SET,!0,[n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,!1,w)])])),"friendlyName"in I&&v.push(n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(i.oids.friendlyName).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.SET,!0,[n.create(n.Class.UNIVERSAL,n.Type.BMPSTRING,!1,I.friendlyName)])])),v.length>0&&(L=n.create(n.Class.UNIVERSAL,n.Type.SET,!0,v));var p=[],q=[];k!==null&&(r.util.isArray(k)?q=k:q=[k]);for(var V=[],z=0;z<q.length;++z){k=q[z],typeof k=="string"&&(k=i.certificateFromPem(k));var E=z===0?L:void 0,B=i.certificateToAsn1(k),D=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(i.oids.certBag).getBytes()),n.create(n.Class.CONTEXT_SPECIFIC,0,!0,[n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(i.oids.x509Certificate).getBytes()),n.create(n.Class.CONTEXT_SPECIFIC,0,!0,[n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,!1,n.toDer(B).getBytes())])])]),E]);V.push(D)}if(V.length>0){var j=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,V),M=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(i.oids.data).getBytes()),n.create(n.Class.CONTEXT_SPECIFIC,0,!0,[n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,!1,n.toDer(j).getBytes())])]);p.push(M)}var ee=null;if(O!==null){var oe=i.wrapRsaPrivateKey(i.privateKeyToAsn1(O));y===null?ee=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(i.oids.keyBag).getBytes()),n.create(n.Class.CONTEXT_SPECIFIC,0,!0,[oe]),L]):ee=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(i.oids.pkcs8ShroudedKeyBag).getBytes()),n.create(n.Class.CONTEXT_SPECIFIC,0,!0,[i.encryptPrivateKeyInfo(oe,y,I)]),L]);var ce=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[ee]),pe=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(i.oids.data).getBytes()),n.create(n.Class.CONTEXT_SPECIFIC,0,!0,[n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,!1,n.toDer(ce).getBytes())])]);p.push(pe)}var me=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,p),ke;if(I.useMac){var C=r.md.sha1.create(),Pe=new r.util.ByteBuffer(r.random.getBytes(I.saltSize)),Ce=I.count,O=u.generateKey(y,Pe,3,Ce,20),Ke=r.hmac.create();Ke.start(C,O),Ke.update(n.toDer(me).getBytes());var Re=Ke.getMac();ke=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(i.oids.sha1).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.NULL,!1,"")]),n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,!1,Re.getBytes())]),n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,!1,Pe.getBytes()),n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,n.integerToDer(Ce).getBytes())])}return n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,n.integerToDer(3).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(i.oids.data).getBytes()),n.create(n.Class.CONTEXT_SPECIFIC,0,!0,[n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,!1,n.toDer(me).getBytes())])]),ke])},u.generateKey=r.pbe.generatePkcs12Key}),Eb=Qe((e,t)=>{var r=lt();Oi(),Oa(),vb(),Is(),Hp(),wb(),Kp(),uh(),Et(),Wp();var n=r.asn1,i=t.exports=r.pki=r.pki||{};i.pemToDer=function(u){var c=r.pem.decode(u)[0];if(c.procType&&c.procType.type==="ENCRYPTED")throw new Error("Could not convert PEM to DER; PEM is encrypted.");return r.util.createBuffer(c.body)},i.privateKeyFromPem=function(u){var c=r.pem.decode(u)[0];if(c.type!=="PRIVATE KEY"&&c.type!=="RSA PRIVATE KEY"){var s=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw s.headerType=c.type,s}if(c.procType&&c.procType.type==="ENCRYPTED")throw new Error("Could not convert private key from PEM; PEM is encrypted.");var h=n.fromDer(c.body);return i.privateKeyFromAsn1(h)},i.privateKeyToPem=function(u,c){var s={type:"RSA PRIVATE KEY",body:n.toDer(i.privateKeyToAsn1(u)).getBytes()};return r.pem.encode(s,{maxline:c})},i.privateKeyInfoToPem=function(u,c){var s={type:"PRIVATE KEY",body:n.toDer(u).getBytes()};return r.pem.encode(s,{maxline:c})}}),Sb=Qe((e,t)=>{var r=lt();Oi(),$u(),zp(),Is(),Eb(),ui(),zu(),Et();var n=function(x,X,Q,A){var K=r.util.createBuffer(),ae=x.length>>1,te=ae+(x.length&1),Ee=x.substr(0,te),Ue=x.substr(ae,te),qe=r.util.createBuffer(),ge=r.hmac.create();Q=X+Q;var Ne=Math.ceil(A/16),We=Math.ceil(A/20);ge.start("MD5",Ee);var rt=r.util.createBuffer();qe.putBytes(Q);for(var ze=0;ze<Ne;++ze)ge.start(null,null),ge.update(qe.getBytes()),qe.putBuffer(ge.digest()),ge.start(null,null),ge.update(qe.bytes()+Q),rt.putBuffer(ge.digest());ge.start("SHA1",Ue);var kt=r.util.createBuffer();qe.clear(),qe.putBytes(Q);for(var ze=0;ze<We;++ze)ge.start(null,null),ge.update(qe.getBytes()),qe.putBuffer(ge.digest()),ge.start(null,null),ge.update(qe.bytes()+Q),kt.putBuffer(ge.digest());return K.putBytes(r.util.xorBytes(rt.getBytes(),kt.getBytes(),A)),K},i=function(x,X,Q){var A=r.hmac.create();A.start("SHA1",x);var K=r.util.createBuffer();return K.putInt32(X[0]),K.putInt32(X[1]),K.putByte(Q.type),K.putByte(Q.version.major),K.putByte(Q.version.minor),K.putInt16(Q.length),K.putBytes(Q.fragment.bytes()),A.update(K.getBytes()),A.digest().getBytes()},u=function(x,X,Q){var A=!1;try{var K=x.deflate(X.fragment.getBytes());X.fragment=r.util.createBuffer(K),X.length=K.length,A=!0}catch{}return A},c=function(x,X,Q){var A=!1;try{var K=x.inflate(X.fragment.getBytes());X.fragment=r.util.createBuffer(K),X.length=K.length,A=!0}catch{}return A},s=function(x,X){var Q=0;switch(X){case 1:Q=x.getByte();break;case 2:Q=x.getInt16();break;case 3:Q=x.getInt24();break;case 4:Q=x.getInt32();break}return r.util.createBuffer(x.getBytes(Q))},h=function(x,X,Q){x.putInt(Q.length(),X<<3),x.putBuffer(Q)},a={};a.Versions={TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}},a.SupportedVersions=[a.Versions.TLS_1_1,a.Versions.TLS_1_0],a.Version=a.SupportedVersions[0],a.MaxFragment=16384-1024,a.ConnectionEnd={server:0,client:1},a.PRFAlgorithm={tls_prf_sha256:0},a.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2},a.CipherType={stream:0,block:1,aead:2},a.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4},a.CompressionMethod={none:0,deflate:1},a.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24},a.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20},a.Alert={},a.Alert.Level={warning:1,fatal:2},a.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100},a.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2},a.CipherSuites={},a.getCipherSuite=function(x){var X=null;for(var Q in a.CipherSuites){var A=a.CipherSuites[Q];if(A.id[0]===x.charCodeAt(0)&&A.id[1]===x.charCodeAt(1)){X=A;break}}return X},a.handleUnexpected=function(x,X){var Q=!x.open&&x.entity===a.ConnectionEnd.client;Q||x.error(x,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.unexpected_message}})},a.handleHelloRequest=function(x,X,Q){!x.handshaking&&x.handshakes>0&&(a.queue(x,a.createAlert(x,{level:a.Alert.Level.warning,description:a.Alert.Description.no_renegotiation})),a.flush(x)),x.process()},a.parseHelloMessage=function(x,X,Q){var A=null,K=x.entity===a.ConnectionEnd.client;if(Q<38)x.error(x,{message:K?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.illegal_parameter}});else{var ae=X.fragment,te=ae.length();if(A={version:{major:ae.getByte(),minor:ae.getByte()},random:r.util.createBuffer(ae.getBytes(32)),session_id:s(ae,1),extensions:[]},K?(A.cipher_suite=ae.getBytes(2),A.compression_method=ae.getByte()):(A.cipher_suites=s(ae,2),A.compression_methods=s(ae,1)),te=Q-(te-ae.length()),te>0){for(var Ee=s(ae,2);Ee.length()>0;)A.extensions.push({type:[Ee.getByte(),Ee.getByte()],data:s(Ee,2)});if(!K)for(var Ue=0;Ue<A.extensions.length;++Ue){var qe=A.extensions[Ue];if(qe.type[0]===0&&qe.type[1]===0)for(var ge=s(qe.data,2);ge.length()>0;){var Ne=ge.getByte();if(Ne!==0)break;x.session.extensions.server_name.serverNameList.push(s(ge,2).getBytes())}}}if(x.session.version&&(A.version.major!==x.session.version.major||A.version.minor!==x.session.version.minor))return x.error(x,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.protocol_version}});if(K)x.session.cipherSuite=a.getCipherSuite(A.cipher_suite);else for(var We=r.util.createBuffer(A.cipher_suites.bytes());We.length()>0&&(x.session.cipherSuite=a.getCipherSuite(We.getBytes(2)),x.session.cipherSuite===null););if(x.session.cipherSuite===null)return x.error(x,{message:"No cipher suites in common.",send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.handshake_failure},cipherSuite:r.util.bytesToHex(A.cipher_suite)});K?x.session.compressionMethod=A.compression_method:x.session.compressionMethod=a.CompressionMethod.none}return A},a.createSecurityParameters=function(x,X){var Q=x.entity===a.ConnectionEnd.client,A=X.random.bytes(),K=Q?x.session.sp.client_random:A,ae=Q?A:a.createRandom().getBytes();x.session.sp={entity:x.entity,prf_algorithm:a.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:x.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:K,server_random:ae}},a.handleServerHello=function(x,X,Q){var A=a.parseHelloMessage(x,X,Q);if(!x.fail){if(A.version.minor<=x.version.minor)x.version.minor=A.version.minor;else return x.error(x,{message:"Incompatible TLS version.",send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.protocol_version}});x.session.version=x.version;var K=A.session_id.bytes();K.length>0&&K===x.session.id?(x.expect=m,x.session.resuming=!0,x.session.sp.server_random=A.random.bytes()):(x.expect=f,x.session.resuming=!1,a.createSecurityParameters(x,A)),x.session.id=K,x.process()}},a.handleClientHello=function(x,X,Q){var A=a.parseHelloMessage(x,X,Q);if(!x.fail){var K=A.session_id.bytes(),ae=null;if(x.sessionCache&&(ae=x.sessionCache.getSession(K),ae===null?K="":(ae.version.major!==A.version.major||ae.version.minor>A.version.minor)&&(ae=null,K="")),K.length===0&&(K=r.random.getBytes(32)),x.session.id=K,x.session.clientHelloVersion=A.version,x.session.sp={},ae)x.version=x.session.version=ae.version,x.session.sp=ae.sp;else{for(var te,Ee=1;Ee<a.SupportedVersions.length&&(te=a.SupportedVersions[Ee],!(te.minor<=A.version.minor));++Ee);x.version={major:te.major,minor:te.minor},x.session.version=x.version}ae!==null?(x.expect=N,x.session.resuming=!0,x.session.sp.client_random=A.random.bytes()):(x.expect=x.verifyClient!==!1?I:w,x.session.resuming=!1,a.createSecurityParameters(x,A)),x.open=!0,a.queue(x,a.createRecord(x,{type:a.ContentType.handshake,data:a.createServerHello(x)})),x.session.resuming?(a.queue(x,a.createRecord(x,{type:a.ContentType.change_cipher_spec,data:a.createChangeCipherSpec()})),x.state.pending=a.createConnectionState(x),x.state.current.write=x.state.pending.write,a.queue(x,a.createRecord(x,{type:a.ContentType.handshake,data:a.createFinished(x)}))):(a.queue(x,a.createRecord(x,{type:a.ContentType.handshake,data:a.createCertificate(x)})),x.fail||(a.queue(x,a.createRecord(x,{type:a.ContentType.handshake,data:a.createServerKeyExchange(x)})),x.verifyClient!==!1&&a.queue(x,a.createRecord(x,{type:a.ContentType.handshake,data:a.createCertificateRequest(x)})),a.queue(x,a.createRecord(x,{type:a.ContentType.handshake,data:a.createServerHelloDone(x)})))),a.flush(x),x.process()}},a.handleCertificate=function(x,X,Q){if(Q<3)return x.error(x,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.illegal_parameter}});var A=X.fragment,K={certificate_list:s(A,3)},ae,te,Ee=[];try{for(;K.certificate_list.length()>0;)ae=s(K.certificate_list,3),te=r.asn1.fromDer(ae),ae=r.pki.certificateFromAsn1(te,!0),Ee.push(ae)}catch(qe){return x.error(x,{message:"Could not parse certificate list.",cause:qe,send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.bad_certificate}})}var Ue=x.entity===a.ConnectionEnd.client;(Ue||x.verifyClient===!0)&&Ee.length===0?x.error(x,{message:Ue?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.illegal_parameter}}):Ee.length===0?x.expect=Ue?g:w:(Ue?x.session.serverCertificate=Ee[0]:x.session.clientCertificate=Ee[0],a.verifyCertificateChain(x,Ee)&&(x.expect=Ue?g:w)),x.process()},a.handleServerKeyExchange=function(x,X,Q){if(Q>0)return x.error(x,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.unsupported_certificate}});x.expect=R,x.process()},a.handleClientKeyExchange=function(x,X,Q){if(Q<48)return x.error(x,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.unsupported_certificate}});var A=X.fragment,K={enc_pre_master_secret:s(A,2).getBytes()},ae=null;if(x.getPrivateKey)try{ae=x.getPrivateKey(x,x.session.serverCertificate),ae=r.pki.privateKeyFromPem(ae)}catch(Ue){x.error(x,{message:"Could not get private key.",cause:Ue,send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.internal_error}})}if(ae===null)return x.error(x,{message:"No private key set.",send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.internal_error}});try{var te=x.session.sp;te.pre_master_secret=ae.decrypt(K.enc_pre_master_secret);var Ee=x.session.clientHelloVersion;if(Ee.major!==te.pre_master_secret.charCodeAt(0)||Ee.minor!==te.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch{te.pre_master_secret=r.random.getBytes(48)}x.expect=N,x.session.clientCertificate!==null&&(x.expect=L),x.process()},a.handleCertificateRequest=function(x,X,Q){if(Q<3)return x.error(x,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.illegal_parameter}});var A=X.fragment,K={certificate_types:s(A,1),certificate_authorities:s(A,2)};x.session.certificateRequest=K,x.expect=S,x.process()},a.handleCertificateVerify=function(x,X,Q){if(Q<2)return x.error(x,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.illegal_parameter}});var A=X.fragment;A.read-=4;var K=A.bytes();A.read+=4;var ae={signature:s(A,2).getBytes()},te=r.util.createBuffer();te.putBuffer(x.session.md5.digest()),te.putBuffer(x.session.sha1.digest()),te=te.getBytes();try{var Ee=x.session.clientCertificate;if(!Ee.publicKey.verify(te,ae.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");x.session.md5.update(K),x.session.sha1.update(K)}catch{return x.error(x,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.handshake_failure}})}x.expect=N,x.process()},a.handleServerHelloDone=function(x,X,Q){if(Q>0)return x.error(x,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.record_overflow}});if(x.serverCertificate===null){var A={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.insufficient_security}},K=0,ae=x.verify(x,A.alert.description,K,[]);if(ae!==!0)return(ae||ae===0)&&(typeof ae=="object"&&!r.util.isArray(ae)?(ae.message&&(A.message=ae.message),ae.alert&&(A.alert.description=ae.alert)):typeof ae=="number"&&(A.alert.description=ae)),x.error(x,A)}x.session.certificateRequest!==null&&(X=a.createRecord(x,{type:a.ContentType.handshake,data:a.createCertificate(x)}),a.queue(x,X)),X=a.createRecord(x,{type:a.ContentType.handshake,data:a.createClientKeyExchange(x)}),a.queue(x,X),x.expect=k;var te=function(Ee,Ue){Ee.session.certificateRequest!==null&&Ee.session.clientCertificate!==null&&a.queue(Ee,a.createRecord(Ee,{type:a.ContentType.handshake,data:a.createCertificateVerify(Ee,Ue)})),a.queue(Ee,a.createRecord(Ee,{type:a.ContentType.change_cipher_spec,data:a.createChangeCipherSpec()})),Ee.state.pending=a.createConnectionState(Ee),Ee.state.current.write=Ee.state.pending.write,a.queue(Ee,a.createRecord(Ee,{type:a.ContentType.handshake,data:a.createFinished(Ee)})),Ee.expect=m,a.flush(Ee),Ee.process()};if(x.session.certificateRequest===null||x.session.clientCertificate===null)return te(x,null);a.getClientSignature(x,te)},a.handleChangeCipherSpec=function(x,X){if(X.fragment.getByte()!==1)return x.error(x,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.illegal_parameter}});var Q=x.entity===a.ConnectionEnd.client;(x.session.resuming&&Q||!x.session.resuming&&!Q)&&(x.state.pending=a.createConnectionState(x)),x.state.current.read=x.state.pending.read,(!x.session.resuming&&Q||x.session.resuming&&!Q)&&(x.state.pending=null),x.expect=Q?T:C,x.process()},a.handleFinished=function(x,X,Q){var A=X.fragment;A.read-=4;var K=A.bytes();A.read+=4;var ae=X.fragment.getBytes();A=r.util.createBuffer(),A.putBuffer(x.session.md5.digest()),A.putBuffer(x.session.sha1.digest());var te=x.entity===a.ConnectionEnd.client,Ee=te?"server finished":"client finished",Ue=x.session.sp,qe=12,ge=n;if(A=ge(Ue.master_secret,Ee,A.getBytes(),qe),A.getBytes()!==ae)return x.error(x,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.decrypt_error}});x.session.md5.update(K),x.session.sha1.update(K),(x.session.resuming&&te||!x.session.resuming&&!te)&&(a.queue(x,a.createRecord(x,{type:a.ContentType.change_cipher_spec,data:a.createChangeCipherSpec()})),x.state.current.write=x.state.pending.write,x.state.pending=null,a.queue(x,a.createRecord(x,{type:a.ContentType.handshake,data:a.createFinished(x)}))),x.expect=te?O:v,x.handshaking=!1,++x.handshakes,x.peerCertificate=te?x.session.serverCertificate:x.session.clientCertificate,a.flush(x),x.isConnected=!0,x.connected(x),x.process()},a.handleAlert=function(x,X){var Q=X.fragment,A={level:Q.getByte(),description:Q.getByte()},K;switch(A.description){case a.Alert.Description.close_notify:K="Connection closed.";break;case a.Alert.Description.unexpected_message:K="Unexpected message.";break;case a.Alert.Description.bad_record_mac:K="Bad record MAC.";break;case a.Alert.Description.decryption_failed:K="Decryption failed.";break;case a.Alert.Description.record_overflow:K="Record overflow.";break;case a.Alert.Description.decompression_failure:K="Decompression failed.";break;case a.Alert.Description.handshake_failure:K="Handshake failure.";break;case a.Alert.Description.bad_certificate:K="Bad certificate.";break;case a.Alert.Description.unsupported_certificate:K="Unsupported certificate.";break;case a.Alert.Description.certificate_revoked:K="Certificate revoked.";break;case a.Alert.Description.certificate_expired:K="Certificate expired.";break;case a.Alert.Description.certificate_unknown:K="Certificate unknown.";break;case a.Alert.Description.illegal_parameter:K="Illegal parameter.";break;case a.Alert.Description.unknown_ca:K="Unknown certificate authority.";break;case a.Alert.Description.access_denied:K="Access denied.";break;case a.Alert.Description.decode_error:K="Decode error.";break;case a.Alert.Description.decrypt_error:K="Decrypt error.";break;case a.Alert.Description.export_restriction:K="Export restriction.";break;case a.Alert.Description.protocol_version:K="Unsupported protocol version.";break;case a.Alert.Description.insufficient_security:K="Insufficient security.";break;case a.Alert.Description.internal_error:K="Internal error.";break;case a.Alert.Description.user_canceled:K="User canceled.";break;case a.Alert.Description.no_renegotiation:K="Renegotiation not supported.";break;default:K="Unknown error.";break}if(A.description===a.Alert.Description.close_notify)return x.close();x.error(x,{message:K,send:!1,origin:x.entity===a.ConnectionEnd.client?"server":"client",alert:A}),x.process()},a.handleHandshake=function(x,X){var Q=X.fragment,A=Q.getByte(),K=Q.getInt24();if(K>Q.length())return x.fragmented=X,X.fragment=r.util.createBuffer(),Q.read-=4,x.process();x.fragmented=null,Q.read-=4;var ae=Q.bytes(K+4);Q.read+=4,A in ke[x.entity][x.expect]?(x.entity===a.ConnectionEnd.server&&!x.open&&!x.fail&&(x.handshaking=!0,x.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:r.md.md5.create(),sha1:r.md.sha1.create()}),A!==a.HandshakeType.hello_request&&A!==a.HandshakeType.certificate_verify&&A!==a.HandshakeType.finished&&(x.session.md5.update(ae),x.session.sha1.update(ae)),ke[x.entity][x.expect][A](x,X,K)):a.handleUnexpected(x,X)},a.handleApplicationData=function(x,X){x.data.putBuffer(X.fragment),x.dataReady(x),x.process()},a.handleHeartbeat=function(x,X){var Q=X.fragment,A=Q.getByte(),K=Q.getInt16(),ae=Q.getBytes(K);if(A===a.HeartbeatMessageType.heartbeat_request){if(x.handshaking||K>ae.length)return x.process();a.queue(x,a.createRecord(x,{type:a.ContentType.heartbeat,data:a.createHeartbeat(a.HeartbeatMessageType.heartbeat_response,ae)})),a.flush(x)}else if(A===a.HeartbeatMessageType.heartbeat_response){if(ae!==x.expectedHeartbeatPayload)return x.process();x.heartbeatReceived&&x.heartbeatReceived(x,r.util.createBuffer(ae))}x.process()};var d=0,f=1,g=2,R=3,S=4,m=5,T=6,O=7,k=8,y=0,I=1,w=2,L=3,N=4,C=5,v=6,p=a.handleUnexpected,q=a.handleChangeCipherSpec,V=a.handleAlert,z=a.handleHandshake,E=a.handleApplicationData,B=a.handleHeartbeat,D=[];D[a.ConnectionEnd.client]=[[p,V,z,p,B],[p,V,z,p,B],[p,V,z,p,B],[p,V,z,p,B],[p,V,z,p,B],[q,V,p,p,B],[p,V,z,p,B],[p,V,z,E,B],[p,V,z,p,B]],D[a.ConnectionEnd.server]=[[p,V,z,p,B],[p,V,z,p,B],[p,V,z,p,B],[p,V,z,p,B],[q,V,p,p,B],[p,V,z,p,B],[p,V,z,E,B],[p,V,z,p,B]];var j=a.handleHelloRequest,M=a.handleServerHello,ee=a.handleCertificate,oe=a.handleServerKeyExchange,ce=a.handleCertificateRequest,pe=a.handleServerHelloDone,me=a.handleFinished,ke=[];ke[a.ConnectionEnd.client]=[[p,p,M,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p],[j,p,p,p,p,p,p,p,p,p,p,ee,oe,ce,pe,p,p,p,p,p,p],[j,p,p,p,p,p,p,p,p,p,p,p,oe,ce,pe,p,p,p,p,p,p],[j,p,p,p,p,p,p,p,p,p,p,p,p,ce,pe,p,p,p,p,p,p],[j,p,p,p,p,p,p,p,p,p,p,p,p,p,pe,p,p,p,p,p,p],[j,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p],[j,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,me],[j,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p],[j,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p]];var Pe=a.handleClientHello,Ce=a.handleClientKeyExchange,Ke=a.handleCertificateVerify;ke[a.ConnectionEnd.server]=[[p,Pe,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,p,p,p,p,ee,p,p,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,Ce,p,p,p,p],[p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,Ke,p,p,p,p,p],[p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,me],[p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p],[p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p]],a.generateKeys=function(x,X){var Q=n,A=X.client_random+X.server_random;x.session.resuming||(X.master_secret=Q(X.pre_master_secret,"master secret",A,48).bytes(),X.pre_master_secret=null),A=X.server_random+X.client_random;var K=2*X.mac_key_length+2*X.enc_key_length,ae=x.version.major===a.Versions.TLS_1_0.major&&x.version.minor===a.Versions.TLS_1_0.minor;ae&&(K+=2*X.fixed_iv_length);var te=Q(X.master_secret,"key expansion",A,K),Ee={client_write_MAC_key:te.getBytes(X.mac_key_length),server_write_MAC_key:te.getBytes(X.mac_key_length),client_write_key:te.getBytes(X.enc_key_length),server_write_key:te.getBytes(X.enc_key_length)};return ae&&(Ee.client_write_IV=te.getBytes(X.fixed_iv_length),Ee.server_write_IV=te.getBytes(X.fixed_iv_length)),Ee},a.createConnectionState=function(x){var X=x.entity===a.ConnectionEnd.client,Q=function(){var ae={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(te){return!0},compressionState:null,compressFunction:function(te){return!0},updateSequenceNumber:function(){ae.sequenceNumber[1]===4294967295?(ae.sequenceNumber[1]=0,++ae.sequenceNumber[0]):++ae.sequenceNumber[1]}};return ae},A={read:Q(),write:Q()};if(A.read.update=function(ae,te){return A.read.cipherFunction(te,A.read)?A.read.compressFunction(ae,te,A.read)||ae.error(ae,{message:"Could not decompress record.",send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.decompression_failure}}):ae.error(ae,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.bad_record_mac}}),!ae.fail},A.write.update=function(ae,te){return A.write.compressFunction(ae,te,A.write)?A.write.cipherFunction(te,A.write)||ae.error(ae,{message:"Could not encrypt record.",send:!1,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.internal_error}}):ae.error(ae,{message:"Could not compress record.",send:!1,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.internal_error}}),!ae.fail},x.session){var K=x.session.sp;switch(x.session.cipherSuite.initSecurityParameters(K),K.keys=a.generateKeys(x,K),A.read.macKey=X?K.keys.server_write_MAC_key:K.keys.client_write_MAC_key,A.write.macKey=X?K.keys.client_write_MAC_key:K.keys.server_write_MAC_key,x.session.cipherSuite.initConnectionState(A,x,K),K.compression_algorithm){case a.CompressionMethod.none:break;case a.CompressionMethod.deflate:A.read.compressFunction=c,A.write.compressFunction=u;break;default:throw new Error("Unsupported compression algorithm.")}}return A},a.createRandom=function(){var x=new Date,X=+x+x.getTimezoneOffset()*6e4,Q=r.util.createBuffer();return Q.putInt32(X),Q.putBytes(r.random.getBytes(28)),Q},a.createRecord=function(x,X){if(!X.data)return null;var Q={type:X.type,version:{major:x.version.major,minor:x.version.minor},length:X.data.length(),fragment:X.data};return Q},a.createAlert=function(x,X){var Q=r.util.createBuffer();return Q.putByte(X.level),Q.putByte(X.description),a.createRecord(x,{type:a.ContentType.alert,data:Q})},a.createClientHello=function(x){x.session.clientHelloVersion={major:x.version.major,minor:x.version.minor};for(var X=r.util.createBuffer(),Q=0;Q<x.cipherSuites.length;++Q){var A=x.cipherSuites[Q];X.putByte(A.id[0]),X.putByte(A.id[1])}var K=X.length(),ae=r.util.createBuffer();ae.putByte(a.CompressionMethod.none);var te=ae.length(),Ee=r.util.createBuffer();if(x.virtualHost){var Ue=r.util.createBuffer();Ue.putByte(0),Ue.putByte(0);var qe=r.util.createBuffer();qe.putByte(0),h(qe,2,r.util.createBuffer(x.virtualHost));var ge=r.util.createBuffer();h(ge,2,qe),h(Ue,2,ge),Ee.putBuffer(Ue)}var Ne=Ee.length();Ne>0&&(Ne+=2);var We=x.session.id,rt=We.length+1+2+4+28+2+K+1+te+Ne,ze=r.util.createBuffer();return ze.putByte(a.HandshakeType.client_hello),ze.putInt24(rt),ze.putByte(x.version.major),ze.putByte(x.version.minor),ze.putBytes(x.session.sp.client_random),h(ze,1,r.util.createBuffer(We)),h(ze,2,X),h(ze,1,ae),Ne>0&&h(ze,2,Ee),ze},a.createServerHello=function(x){var X=x.session.id,Q=X.length+1+2+4+28+2+1,A=r.util.createBuffer();return A.putByte(a.HandshakeType.server_hello),A.putInt24(Q),A.putByte(x.version.major),A.putByte(x.version.minor),A.putBytes(x.session.sp.server_random),h(A,1,r.util.createBuffer(X)),A.putByte(x.session.cipherSuite.id[0]),A.putByte(x.session.cipherSuite.id[1]),A.putByte(x.session.compressionMethod),A},a.createCertificate=function(x){var X=x.entity===a.ConnectionEnd.client,Q=null;if(x.getCertificate){var A;X?A=x.session.certificateRequest:A=x.session.extensions.server_name.serverNameList,Q=x.getCertificate(x,A)}var K=r.util.createBuffer();if(Q!==null)try{r.util.isArray(Q)||(Q=[Q]);for(var ae=null,te=0;te<Q.length;++te){var Ee=r.pem.decode(Q[te])[0];if(Ee.type!=="CERTIFICATE"&&Ee.type!=="X509 CERTIFICATE"&&Ee.type!=="TRUSTED CERTIFICATE"){var Ue=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw Ue.headerType=Ee.type,Ue}if(Ee.procType&&Ee.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var qe=r.util.createBuffer(Ee.body);ae===null&&(ae=r.asn1.fromDer(qe.bytes(),!1));var ge=r.util.createBuffer();h(ge,3,qe),K.putBuffer(ge)}Q=r.pki.certificateFromAsn1(ae),X?x.session.clientCertificate=Q:x.session.serverCertificate=Q}catch(rt){return x.error(x,{message:"Could not send certificate list.",cause:rt,send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.bad_certificate}})}var Ne=3+K.length(),We=r.util.createBuffer();return We.putByte(a.HandshakeType.certificate),We.putInt24(Ne),h(We,3,K),We},a.createClientKeyExchange=function(x){var X=r.util.createBuffer();X.putByte(x.session.clientHelloVersion.major),X.putByte(x.session.clientHelloVersion.minor),X.putBytes(r.random.getBytes(46));var Q=x.session.sp;Q.pre_master_secret=X.getBytes();var A=x.session.serverCertificate.publicKey;X=A.encrypt(Q.pre_master_secret);var K=X.length+2,ae=r.util.createBuffer();return ae.putByte(a.HandshakeType.client_key_exchange),ae.putInt24(K),ae.putInt16(X.length),ae.putBytes(X),ae},a.createServerKeyExchange=function(x){var X=0,Q=r.util.createBuffer();return X>0&&(Q.putByte(a.HandshakeType.server_key_exchange),Q.putInt24(X)),Q},a.getClientSignature=function(x,X){var Q=r.util.createBuffer();Q.putBuffer(x.session.md5.digest()),Q.putBuffer(x.session.sha1.digest()),Q=Q.getBytes(),x.getSignature=x.getSignature||function(A,K,ae){var te=null;if(A.getPrivateKey)try{te=A.getPrivateKey(A,A.session.clientCertificate),te=r.pki.privateKeyFromPem(te)}catch(Ee){A.error(A,{message:"Could not get private key.",cause:Ee,send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.internal_error}})}te===null?A.error(A,{message:"No private key set.",send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.internal_error}}):K=te.sign(K,null),ae(A,K)},x.getSignature(x,Q,X)},a.createCertificateVerify=function(x,X){var Q=X.length+2,A=r.util.createBuffer();return A.putByte(a.HandshakeType.certificate_verify),A.putInt24(Q),A.putInt16(X.length),A.putBytes(X),A},a.createCertificateRequest=function(x){var X=r.util.createBuffer();X.putByte(1);var Q=r.util.createBuffer();for(var A in x.caStore.certs){var K=x.caStore.certs[A],ae=r.pki.distinguishedNameToAsn1(K.subject),te=r.asn1.toDer(ae);Q.putInt16(te.length()),Q.putBuffer(te)}var Ee=1+X.length()+2+Q.length(),Ue=r.util.createBuffer();return Ue.putByte(a.HandshakeType.certificate_request),Ue.putInt24(Ee),h(Ue,1,X),h(Ue,2,Q),Ue},a.createServerHelloDone=function(x){var X=r.util.createBuffer();return X.putByte(a.HandshakeType.server_hello_done),X.putInt24(0),X},a.createChangeCipherSpec=function(){var x=r.util.createBuffer();return x.putByte(1),x},a.createFinished=function(x){var X=r.util.createBuffer();X.putBuffer(x.session.md5.digest()),X.putBuffer(x.session.sha1.digest());var Q=x.entity===a.ConnectionEnd.client,A=x.session.sp,K=12,ae=n,te=Q?"client finished":"server finished";X=ae(A.master_secret,te,X.getBytes(),K);var Ee=r.util.createBuffer();return Ee.putByte(a.HandshakeType.finished),Ee.putInt24(X.length()),Ee.putBuffer(X),Ee},a.createHeartbeat=function(x,X,Q){typeof Q>"u"&&(Q=X.length);var A=r.util.createBuffer();A.putByte(x),A.putInt16(Q),A.putBytes(X);var K=A.length(),ae=Math.max(16,K-Q-3);return A.putBytes(r.random.getBytes(ae)),A},a.queue=function(x,X){if(X&&!(X.fragment.length()===0&&(X.type===a.ContentType.handshake||X.type===a.ContentType.alert||X.type===a.ContentType.change_cipher_spec))){if(X.type===a.ContentType.handshake){var Q=X.fragment.bytes();x.session.md5.update(Q),x.session.sha1.update(Q),Q=null}var A;if(X.fragment.length()<=a.MaxFragment)A=[X];else{A=[];for(var K=X.fragment.bytes();K.length>a.MaxFragment;)A.push(a.createRecord(x,{type:X.type,data:r.util.createBuffer(K.slice(0,a.MaxFragment))})),K=K.slice(a.MaxFragment);K.length>0&&A.push(a.createRecord(x,{type:X.type,data:r.util.createBuffer(K)}))}for(var ae=0;ae<A.length&&!x.fail;++ae){var te=A[ae],Ee=x.state.current.write;Ee.update(x,te)&&x.records.push(te)}}},a.flush=function(x){for(var X=0;X<x.records.length;++X){var Q=x.records[X];x.tlsData.putByte(Q.type),x.tlsData.putByte(Q.version.major),x.tlsData.putByte(Q.version.minor),x.tlsData.putInt16(Q.fragment.length()),x.tlsData.putBuffer(x.records[X].fragment)}return x.records=[],x.tlsDataReady(x)};var Re=function(x){switch(x){case!0:return!0;case r.pki.certificateError.bad_certificate:return a.Alert.Description.bad_certificate;case r.pki.certificateError.unsupported_certificate:return a.Alert.Description.unsupported_certificate;case r.pki.certificateError.certificate_revoked:return a.Alert.Description.certificate_revoked;case r.pki.certificateError.certificate_expired:return a.Alert.Description.certificate_expired;case r.pki.certificateError.certificate_unknown:return a.Alert.Description.certificate_unknown;case r.pki.certificateError.unknown_ca:return a.Alert.Description.unknown_ca;default:return a.Alert.Description.bad_certificate}},et=function(x){switch(x){case!0:return!0;case a.Alert.Description.bad_certificate:return r.pki.certificateError.bad_certificate;case a.Alert.Description.unsupported_certificate:return r.pki.certificateError.unsupported_certificate;case a.Alert.Description.certificate_revoked:return r.pki.certificateError.certificate_revoked;case a.Alert.Description.certificate_expired:return r.pki.certificateError.certificate_expired;case a.Alert.Description.certificate_unknown:return r.pki.certificateError.certificate_unknown;case a.Alert.Description.unknown_ca:return r.pki.certificateError.unknown_ca;default:return r.pki.certificateError.bad_certificate}};a.verifyCertificateChain=function(x,X){try{var Q={};for(var A in x.verifyOptions)Q[A]=x.verifyOptions[A];Q.verify=function(ae,te,Ee){var Ue=Re(ae),qe=x.verify(x,ae,te,Ee);if(qe!==!0){if(typeof qe=="object"&&!r.util.isArray(qe)){var ge=new Error("The application rejected the certificate.");throw ge.send=!0,ge.alert={level:a.Alert.Level.fatal,description:a.Alert.Description.bad_certificate},qe.message&&(ge.message=qe.message),qe.alert&&(ge.alert.description=qe.alert),ge}qe!==ae&&(qe=et(qe))}return qe},r.pki.verifyCertificateChain(x.caStore,X,Q)}catch(ae){var K=ae;(typeof K!="object"||r.util.isArray(K))&&(K={send:!0,alert:{level:a.Alert.Level.fatal,description:Re(ae)}}),"send"in K||(K.send=!0),"alert"in K||(K.alert={level:a.Alert.Level.fatal,description:Re(K.error)}),x.error(x,K)}return!x.fail},a.createSessionCache=function(x,X){var Q=null;if(x&&x.getSession&&x.setSession&&x.order)Q=x;else{Q={},Q.cache=x||{},Q.capacity=Math.max(X||100,1),Q.order=[];for(var A in x)Q.order.length<=X?Q.order.push(A):delete x[A];Q.getSession=function(K){var ae=null,te=null;if(K?te=r.util.bytesToHex(K):Q.order.length>0&&(te=Q.order[0]),te!==null&&te in Q.cache){ae=Q.cache[te],delete Q.cache[te];for(var Ee in Q.order)if(Q.order[Ee]===te){Q.order.splice(Ee,1);break}}return ae},Q.setSession=function(K,ae){if(Q.order.length===Q.capacity){var te=Q.order.shift();delete Q.cache[te]}var te=r.util.bytesToHex(K);Q.order.push(te),Q.cache[te]=ae}}return Q},a.createConnection=function(x){var X=null;x.caStore?r.util.isArray(x.caStore)?X=r.pki.createCaStore(x.caStore):X=x.caStore:X=r.pki.createCaStore();var Q=x.cipherSuites||null;if(Q===null){Q=[];for(var A in a.CipherSuites)Q.push(a.CipherSuites[A])}var K=x.server?a.ConnectionEnd.server:a.ConnectionEnd.client,ae=x.sessionCache?a.createSessionCache(x.sessionCache):null,te={version:{major:a.Version.major,minor:a.Version.minor},entity:K,sessionId:x.sessionId,caStore:X,sessionCache:ae,cipherSuites:Q,connected:x.connected,virtualHost:x.virtualHost||null,verifyClient:x.verifyClient||!1,verify:x.verify||function(ge,Ne,We,rt){return Ne},verifyOptions:x.verifyOptions||{},getCertificate:x.getCertificate||null,getPrivateKey:x.getPrivateKey||null,getSignature:x.getSignature||null,input:r.util.createBuffer(),tlsData:r.util.createBuffer(),data:r.util.createBuffer(),tlsDataReady:x.tlsDataReady,dataReady:x.dataReady,heartbeatReceived:x.heartbeatReceived,closed:x.closed,error:function(ge,Ne){Ne.origin=Ne.origin||(ge.entity===a.ConnectionEnd.client?"client":"server"),Ne.send&&(a.queue(ge,a.createAlert(ge,Ne.alert)),a.flush(ge));var We=Ne.fatal!==!1;We&&(ge.fail=!0),x.error(ge,Ne),We&&ge.close(!1)},deflate:x.deflate||null,inflate:x.inflate||null};te.reset=function(ge){te.version={major:a.Version.major,minor:a.Version.minor},te.record=null,te.session=null,te.peerCertificate=null,te.state={pending:null,current:null},te.expect=te.entity===a.ConnectionEnd.client?d:y,te.fragmented=null,te.records=[],te.open=!1,te.handshakes=0,te.handshaking=!1,te.isConnected=!1,te.fail=!(ge||typeof ge>"u"),te.input.clear(),te.tlsData.clear(),te.data.clear(),te.state.current=a.createConnectionState(te)},te.reset();var Ee=function(ge,Ne){var We=Ne.type-a.ContentType.change_cipher_spec,rt=D[ge.entity][ge.expect];We in rt?rt[We](ge,Ne):a.handleUnexpected(ge,Ne)},Ue=function(ge){var Ne=0,We=ge.input,rt=We.length();if(rt<5)Ne=5-rt;else{ge.record={type:We.getByte(),version:{major:We.getByte(),minor:We.getByte()},length:We.getInt16(),fragment:r.util.createBuffer(),ready:!1};var ze=ge.record.version.major===ge.version.major;ze&&ge.session&&ge.session.version&&(ze=ge.record.version.minor===ge.version.minor),ze||ge.error(ge,{message:"Incompatible TLS version.",send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.protocol_version}})}return Ne},qe=function(ge){var Ne=0,We=ge.input,rt=We.length();if(rt<ge.record.length)Ne=ge.record.length-rt;else{ge.record.fragment.putBytes(We.getBytes(ge.record.length)),We.compact();var ze=ge.state.current.read;ze.update(ge,ge.record)&&(ge.fragmented!==null&&(ge.fragmented.type===ge.record.type?(ge.fragmented.fragment.putBuffer(ge.record.fragment),ge.record=ge.fragmented):ge.error(ge,{message:"Invalid fragmented record.",send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.unexpected_message}})),ge.record.ready=!0)}return Ne};return te.handshake=function(ge){if(te.entity!==a.ConnectionEnd.client)te.error(te,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(te.handshaking)te.error(te,{message:"Handshake already in progress.",fatal:!1});else{te.fail&&!te.open&&te.handshakes===0&&(te.fail=!1),te.handshaking=!0,ge=ge||"";var Ne=null;ge.length>0&&(te.sessionCache&&(Ne=te.sessionCache.getSession(ge)),Ne===null&&(ge="")),ge.length===0&&te.sessionCache&&(Ne=te.sessionCache.getSession(),Ne!==null&&(ge=Ne.id)),te.session={id:ge,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:r.md.md5.create(),sha1:r.md.sha1.create()},Ne&&(te.version=Ne.version,te.session.sp=Ne.sp),te.session.sp.client_random=a.createRandom().getBytes(),te.open=!0,a.queue(te,a.createRecord(te,{type:a.ContentType.handshake,data:a.createClientHello(te)})),a.flush(te)}},te.process=function(ge){var Ne=0;return ge&&te.input.putBytes(ge),te.fail||(te.record!==null&&te.record.ready&&te.record.fragment.isEmpty()&&(te.record=null),te.record===null&&(Ne=Ue(te)),!te.fail&&te.record!==null&&!te.record.ready&&(Ne=qe(te)),!te.fail&&te.record!==null&&te.record.ready&&Ee(te,te.record)),Ne},te.prepare=function(ge){return a.queue(te,a.createRecord(te,{type:a.ContentType.application_data,data:r.util.createBuffer(ge)})),a.flush(te)},te.prepareHeartbeatRequest=function(ge,Ne){return ge instanceof r.util.ByteBuffer&&(ge=ge.bytes()),typeof Ne>"u"&&(Ne=ge.length),te.expectedHeartbeatPayload=ge,a.queue(te,a.createRecord(te,{type:a.ContentType.heartbeat,data:a.createHeartbeat(a.HeartbeatMessageType.heartbeat_request,ge,Ne)})),a.flush(te)},te.close=function(ge){if(!te.fail&&te.sessionCache&&te.session){var Ne={id:te.session.id,version:te.session.version,sp:te.session.sp};Ne.sp.keys=null,te.sessionCache.setSession(Ne.id,Ne)}te.open&&(te.open=!1,te.input.clear(),(te.isConnected||te.handshaking)&&(te.isConnected=te.handshaking=!1,a.queue(te,a.createAlert(te,{level:a.Alert.Level.warning,description:a.Alert.Description.close_notify})),a.flush(te)),te.closed(te)),te.reset(ge)},te},t.exports=r.tls=r.tls||{};for(Je in a)typeof a[Je]!="function"&&(r.tls[Je]=a[Je]);var Je;r.tls.prf_tls1=n,r.tls.hmac_sha1=i,r.tls.createSessionCache=a.createSessionCache,r.tls.createConnection=a.createConnection}),a5=Qe((e,t)=>{var r=lt();ka(),Sb();var n=t.exports=r.tls;n.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(d){d.bulk_cipher_algorithm=n.BulkCipherAlgorithm.aes,d.cipher_type=n.CipherType.block,d.enc_key_length=16,d.block_length=16,d.fixed_iv_length=16,d.record_iv_length=16,d.mac_algorithm=n.MACAlgorithm.hmac_sha1,d.mac_length=20,d.mac_key_length=20},initConnectionState:i},n.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(d){d.bulk_cipher_algorithm=n.BulkCipherAlgorithm.aes,d.cipher_type=n.CipherType.block,d.enc_key_length=32,d.block_length=16,d.fixed_iv_length=16,d.record_iv_length=16,d.mac_algorithm=n.MACAlgorithm.hmac_sha1,d.mac_length=20,d.mac_key_length=20},initConnectionState:i};function i(d,f,g){var R=f.entity===r.tls.ConnectionEnd.client;d.read.cipherState={init:!1,cipher:r.cipher.createDecipher("AES-CBC",R?g.keys.server_write_key:g.keys.client_write_key),iv:R?g.keys.server_write_IV:g.keys.client_write_IV},d.write.cipherState={init:!1,cipher:r.cipher.createCipher("AES-CBC",R?g.keys.client_write_key:g.keys.server_write_key),iv:R?g.keys.client_write_IV:g.keys.server_write_IV},d.read.cipherFunction=h,d.write.cipherFunction=u,d.read.macLength=d.write.macLength=g.mac_length,d.read.macFunction=d.write.macFunction=n.hmac_sha1}function u(d,f){var g=!1,R=f.macFunction(f.macKey,f.sequenceNumber,d);d.fragment.putBytes(R),f.updateSequenceNumber();var S;d.version.minor===n.Versions.TLS_1_0.minor?S=f.cipherState.init?null:f.cipherState.iv:S=r.random.getBytesSync(16),f.cipherState.init=!0;var m=f.cipherState.cipher;return m.start({iv:S}),d.version.minor>=n.Versions.TLS_1_1.minor&&m.output.putBytes(S),m.update(d.fragment),m.finish(c)&&(d.fragment=m.output,d.length=d.fragment.length(),g=!0),g}function c(d,f,g){if(!g){var R=d-f.length()%d;f.fillWithByte(R-1,R)}return!0}function s(d,f,g){var R=!0;if(g){for(var S=f.length(),m=f.last(),T=S-1-m;T<S-1;++T)R=R&&f.at(T)==m;R&&f.truncate(m+1)}return R}function h(d,f){var g=!1,R;d.version.minor===n.Versions.TLS_1_0.minor?R=f.cipherState.init?null:f.cipherState.iv:R=d.fragment.getBytes(16),f.cipherState.init=!0;var S=f.cipherState.cipher;S.start({iv:R}),S.update(d.fragment),g=S.finish(s);var m=f.macLength,T=r.random.getBytesSync(m),O=S.output.length();O>=m?(d.fragment=S.output.getBytes(O-m),T=S.output.getBytes(m)):d.fragment=S.output.getBytes(),d.fragment=r.util.createBuffer(d.fragment),d.length=d.fragment.length();var k=f.macFunction(f.macKey,f.sequenceNumber,d);return f.updateSequenceNumber(),g=a(f.macKey,T,k)&&g,g}function a(d,f,g){var R=r.hmac.create();return R.start("SHA1",d),R.update(f),f=R.digest().getBytes(),R.start(null,null),R.update(g),g=R.digest().getBytes(),f===g}}),Cb=Qe((e,t)=>{var r=lt();co(),Et();var n=t.exports=r.sha512=r.sha512||{};r.md.sha512=r.md.algorithms.sha512=n;var i=r.sha384=r.sha512.sha384=r.sha512.sha384||{};i.create=function(){return n.create("SHA-384")},r.md.sha384=r.md.algorithms.sha384=i,r.sha512.sha256=r.sha512.sha256||{create:function(){return n.create("SHA-512/256")}},r.md["sha512/256"]=r.md.algorithms["sha512/256"]=r.sha512.sha256,r.sha512.sha224=r.sha512.sha224||{create:function(){return n.create("SHA-512/224")}},r.md["sha512/224"]=r.md.algorithms["sha512/224"]=r.sha512.sha224,n.create=function(f){if(c||a(),typeof f>"u"&&(f="SHA-512"),!(f in h))throw new Error("Invalid SHA-512 algorithm: "+f);for(var g=h[f],R=null,S=r.util.createBuffer(),m=new Array(80),T=0;T<80;++T)m[T]=new Array(2);var O=64;switch(f){case"SHA-384":O=48;break;case"SHA-512/256":O=32;break;case"SHA-512/224":O=28;break}var k={algorithm:f.replace("-","").toLowerCase(),blockLength:128,digestLength:O,messageLength:0,fullMessageLength:null,messageLengthSize:16};return k.start=function(){k.messageLength=0,k.fullMessageLength=k.messageLength128=[];for(var y=k.messageLengthSize/4,I=0;I<y;++I)k.fullMessageLength.push(0);S=r.util.createBuffer(),R=new Array(g.length);for(var I=0;I<g.length;++I)R[I]=g[I].slice(0);return k},k.start(),k.update=function(y,I){I==="utf8"&&(y=r.util.encodeUtf8(y));var w=y.length;k.messageLength+=w,w=[w/4294967296>>>0,w>>>0];for(var L=k.fullMessageLength.length-1;L>=0;--L)k.fullMessageLength[L]+=w[1],w[1]=w[0]+(k.fullMessageLength[L]/4294967296>>>0),k.fullMessageLength[L]=k.fullMessageLength[L]>>>0,w[0]=w[1]/4294967296>>>0;return S.putBytes(y),d(R,m,S),(S.read>2048||S.length()===0)&&S.compact(),k},k.digest=function(){var y=r.util.createBuffer();y.putBytes(S.bytes());var I=k.fullMessageLength[k.fullMessageLength.length-1]+k.messageLengthSize,w=I&k.blockLength-1;y.putBytes(u.substr(0,k.blockLength-w));for(var L,N,C=k.fullMessageLength[0]*8,v=0;v<k.fullMessageLength.length-1;++v)L=k.fullMessageLength[v+1]*8,N=L/4294967296>>>0,C+=N,y.putInt32(C>>>0),C=L>>>0;y.putInt32(C);for(var p=new Array(R.length),v=0;v<R.length;++v)p[v]=R[v].slice(0);d(p,m,y);var q=r.util.createBuffer(),V;f==="SHA-512"?V=p.length:f==="SHA-384"?V=p.length-2:V=p.length-4;for(var v=0;v<V;++v)q.putInt32(p[v][0]),(v!==V-1||f!=="SHA-512/224")&&q.putInt32(p[v][1]);return q},k};var u=null,c=!1,s=null,h=null;function a(){u=String.fromCharCode(128),u+=r.util.fillString(String.fromCharCode(0),128),s=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],h={},h["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],h["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],h["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],h["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],c=!0}function d(f,g,R){for(var S,m,T,O,k,y,I,w,L,N,C,v,p,q,V,z,E,B,D,j,M,ee,oe,ce,pe,me,ke,Pe,Ce,Ke,Re,et,Je,x,X,Q=R.length();Q>=128;){for(Ce=0;Ce<16;++Ce)g[Ce][0]=R.getInt32()>>>0,g[Ce][1]=R.getInt32()>>>0;for(;Ce<80;++Ce)et=g[Ce-2],Ke=et[0],Re=et[1],S=((Ke>>>19|Re<<13)^(Re>>>29|Ke<<3)^Ke>>>6)>>>0,m=((Ke<<13|Re>>>19)^(Re<<3|Ke>>>29)^(Ke<<26|Re>>>6))>>>0,x=g[Ce-15],Ke=x[0],Re=x[1],T=((Ke>>>1|Re<<31)^(Ke>>>8|Re<<24)^Ke>>>7)>>>0,O=((Ke<<31|Re>>>1)^(Ke<<24|Re>>>8)^(Ke<<25|Re>>>7))>>>0,Je=g[Ce-7],X=g[Ce-16],Re=m+Je[1]+O+X[1],g[Ce][0]=S+Je[0]+T+X[0]+(Re/4294967296>>>0)>>>0,g[Ce][1]=Re>>>0;for(p=f[0][0],q=f[0][1],V=f[1][0],z=f[1][1],E=f[2][0],B=f[2][1],D=f[3][0],j=f[3][1],M=f[4][0],ee=f[4][1],oe=f[5][0],ce=f[5][1],pe=f[6][0],me=f[6][1],ke=f[7][0],Pe=f[7][1],Ce=0;Ce<80;++Ce)I=((M>>>14|ee<<18)^(M>>>18|ee<<14)^(ee>>>9|M<<23))>>>0,w=((M<<18|ee>>>14)^(M<<14|ee>>>18)^(ee<<23|M>>>9))>>>0,L=(pe^M&(oe^pe))>>>0,N=(me^ee&(ce^me))>>>0,k=((p>>>28|q<<4)^(q>>>2|p<<30)^(q>>>7|p<<25))>>>0,y=((p<<4|q>>>28)^(q<<30|p>>>2)^(q<<25|p>>>7))>>>0,C=(p&V|E&(p^V))>>>0,v=(q&z|B&(q^z))>>>0,Re=Pe+w+N+s[Ce][1]+g[Ce][1],S=ke+I+L+s[Ce][0]+g[Ce][0]+(Re/4294967296>>>0)>>>0,m=Re>>>0,Re=y+v,T=k+C+(Re/4294967296>>>0)>>>0,O=Re>>>0,ke=pe,Pe=me,pe=oe,me=ce,oe=M,ce=ee,Re=j+m,M=D+S+(Re/4294967296>>>0)>>>0,ee=Re>>>0,D=E,j=B,E=V,B=z,V=p,z=q,Re=m+O,p=S+T+(Re/4294967296>>>0)>>>0,q=Re>>>0;Re=f[0][1]+q,f[0][0]=f[0][0]+p+(Re/4294967296>>>0)>>>0,f[0][1]=Re>>>0,Re=f[1][1]+z,f[1][0]=f[1][0]+V+(Re/4294967296>>>0)>>>0,f[1][1]=Re>>>0,Re=f[2][1]+B,f[2][0]=f[2][0]+E+(Re/4294967296>>>0)>>>0,f[2][1]=Re>>>0,Re=f[3][1]+j,f[3][0]=f[3][0]+D+(Re/4294967296>>>0)>>>0,f[3][1]=Re>>>0,Re=f[4][1]+ee,f[4][0]=f[4][0]+M+(Re/4294967296>>>0)>>>0,f[4][1]=Re>>>0,Re=f[5][1]+ce,f[5][0]=f[5][0]+oe+(Re/4294967296>>>0)>>>0,f[5][1]=Re>>>0,Re=f[6][1]+me,f[6][0]=f[6][0]+pe+(Re/4294967296>>>0)>>>0,f[6][1]=Re>>>0,Re=f[7][1]+Pe,f[7][0]=f[7][0]+ke+(Re/4294967296>>>0)>>>0,f[7][1]=Re>>>0,Q-=128}}}),s5=Qe(e=>{var t=lt();Oi();var r=t.asn1;e.privateKeyValidator={name:"PrivateKeyInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},e.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:r.Class.UNIVERSAL,type:r.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}}),u5=Qe((e,t)=>{var r=lt();sh(),ui(),Cb(),Et();var n=s5(),i=n.publicKeyValidator,u=n.privateKeyValidator;typeof c>"u"&&(c=r.jsbn.BigInteger);var c,s=r.util.ByteBuffer,h=typeof Buffer>"u"?Uint8Array:Buffer;r.pki=r.pki||{},t.exports=r.pki.ed25519=r.ed25519=r.ed25519||{};var a=r.ed25519;a.constants={},a.constants.PUBLIC_KEY_BYTE_LENGTH=32,a.constants.PRIVATE_KEY_BYTE_LENGTH=64,a.constants.SEED_BYTE_LENGTH=32,a.constants.SIGN_BYTE_LENGTH=64,a.constants.HASH_BYTE_LENGTH=64,a.generateKeyPair=function(x){x=x||{};var X=x.seed;if(X===void 0)X=r.random.getBytesSync(a.constants.SEED_BYTE_LENGTH);else if(typeof X=="string"){if(X.length!==a.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+a.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(X instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');X=d({message:X,encoding:"binary"});for(var Q=new h(a.constants.PUBLIC_KEY_BYTE_LENGTH),A=new h(a.constants.PRIVATE_KEY_BYTE_LENGTH),K=0;K<32;++K)A[K]=X[K];return I(Q,A),{publicKey:Q,privateKey:A}},a.privateKeyFromAsn1=function(x){var X={},Q=[],A=r.asn1.validate(x,u,X,Q);if(!A){var K=new Error("Invalid Key.");throw K.errors=Q,K}var ae=r.asn1.derToOid(X.privateKeyOid),te=r.oids.EdDSA25519;if(ae!==te)throw new Error('Invalid OID "'+ae+'"; OID must be "'+te+'".');var Ee=X.privateKey,Ue=d({message:r.asn1.fromDer(Ee).value,encoding:"binary"});return{privateKeyBytes:Ue}},a.publicKeyFromAsn1=function(x){var X={},Q=[],A=r.asn1.validate(x,i,X,Q);if(!A){var K=new Error("Invalid Key.");throw K.errors=Q,K}var ae=r.asn1.derToOid(X.publicKeyOid),te=r.oids.EdDSA25519;if(ae!==te)throw new Error('Invalid OID "'+ae+'"; OID must be "'+te+'".');var Ee=X.ed25519PublicKey;if(Ee.length!==a.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return d({message:Ee,encoding:"binary"})},a.publicKeyFromPrivateKey=function(x){x=x||{};var X=d({message:x.privateKey,encoding:"binary"});if(X.length!==a.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+a.constants.PRIVATE_KEY_BYTE_LENGTH);for(var Q=new h(a.constants.PUBLIC_KEY_BYTE_LENGTH),A=0;A<Q.length;++A)Q[A]=X[32+A];return Q},a.sign=function(x){x=x||{};var X=d(x),Q=d({message:x.privateKey,encoding:"binary"});if(Q.length===a.constants.SEED_BYTE_LENGTH){var A=a.generateKeyPair({seed:Q});Q=A.privateKey}else if(Q.length!==a.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+a.constants.SEED_BYTE_LENGTH+" or "+a.constants.PRIVATE_KEY_BYTE_LENGTH);var K=new h(a.constants.SIGN_BYTE_LENGTH+X.length);w(K,X,X.length,Q);for(var ae=new h(a.constants.SIGN_BYTE_LENGTH),te=0;te<ae.length;++te)ae[te]=K[te];return ae},a.verify=function(x){x=x||{};var X=d(x);if(x.signature===void 0)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var Q=d({message:x.signature,encoding:"binary"});if(Q.length!==a.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+a.constants.SIGN_BYTE_LENGTH);var A=d({message:x.publicKey,encoding:"binary"});if(A.length!==a.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+a.constants.PUBLIC_KEY_BYTE_LENGTH);var K=new h(a.constants.SIGN_BYTE_LENGTH+X.length),ae=new h(a.constants.SIGN_BYTE_LENGTH+X.length),te;for(te=0;te<a.constants.SIGN_BYTE_LENGTH;++te)K[te]=Q[te];for(te=0;te<X.length;++te)K[te+a.constants.SIGN_BYTE_LENGTH]=X[te];return L(ae,K,K.length,A)>=0};function d(x){var X=x.message;if(X instanceof Uint8Array||X instanceof h)return X;var Q=x.encoding;if(X===void 0)if(x.md)X=x.md.digest().getBytes(),Q="binary";else throw new TypeError('"options.message" or "options.md" not specified.');if(typeof X=="string"&&!Q)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if(typeof X=="string"){if(typeof Buffer<"u")return Buffer.from(X,Q);X=new s(X,Q)}else if(!(X instanceof s))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var A=new h(X.length()),K=0;K<A.length;++K)A[K]=X.at(K);return A}var f=Ce(),g=Ce([1]),R=Ce([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),S=Ce([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),m=Ce([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),T=Ce([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),O=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),k=Ce([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function y(x,X){var Q=r.md.sha512.create(),A=new s(x);Q.update(A.getBytes(X),"binary");var K=Q.digest().getBytes();if(typeof Buffer<"u")return Buffer.from(K,"binary");for(var ae=new h(a.constants.HASH_BYTE_LENGTH),te=0;te<64;++te)ae[te]=K.charCodeAt(te);return ae}function I(x,X){var Q=[Ce(),Ce(),Ce(),Ce()],A,K=y(X,32);for(K[0]&=248,K[31]&=127,K[31]|=64,ce(Q,K),q(x,Q),A=0;A<32;++A)X[A+32]=x[A];return 0}function w(x,X,Q,A){var K,ae,te=new Float64Array(64),Ee=[Ce(),Ce(),Ce(),Ce()],Ue=y(A,32);Ue[0]&=248,Ue[31]&=127,Ue[31]|=64;var qe=Q+64;for(K=0;K<Q;++K)x[64+K]=X[K];for(K=0;K<32;++K)x[32+K]=Ue[32+K];var ge=y(x.subarray(32),Q+32);for(C(ge),ce(Ee,ge),q(x,Ee),K=32;K<64;++K)x[K]=A[K];var Ne=y(x,Q+64);for(C(Ne),K=32;K<64;++K)te[K]=0;for(K=0;K<32;++K)te[K]=ge[K];for(K=0;K<32;++K)for(ae=0;ae<32;ae++)te[K+ae]+=Ne[K]*Ue[ae];return N(x.subarray(32),te),qe}function L(x,X,Q,A){var K,ae,te=new h(32),Ee=[Ce(),Ce(),Ce(),Ce()],Ue=[Ce(),Ce(),Ce(),Ce()];if(ae=-1,Q<64||z(Ue,A))return-1;for(K=0;K<Q;++K)x[K]=X[K];for(K=0;K<32;++K)x[K+32]=A[K];var qe=y(x,Q);if(C(qe),oe(Ee,Ue,qe),ce(Ue,X.subarray(32)),v(Ee,Ue),q(te,Ee),Q-=64,j(X,0,te,0)){for(K=0;K<Q;++K)x[K]=0;return-1}for(K=0;K<Q;++K)x[K]=X[K+64];return ae=Q,ae}function N(x,X){var Q,A,K,ae;for(A=63;A>=32;--A){for(Q=0,K=A-32,ae=A-12;K<ae;++K)X[K]+=Q-16*X[A]*O[K-(A-32)],Q=X[K]+128>>8,X[K]-=Q*256;X[K]+=Q,X[A]=0}for(Q=0,K=0;K<32;++K)X[K]+=Q-(X[31]>>4)*O[K],Q=X[K]>>8,X[K]&=255;for(K=0;K<32;++K)X[K]-=Q*O[K];for(A=0;A<32;++A)X[A+1]+=X[A]>>8,x[A]=X[A]&255}function C(x){for(var X=new Float64Array(64),Q=0;Q<64;++Q)X[Q]=x[Q],x[Q]=0;N(x,X)}function v(x,X){var Q=Ce(),A=Ce(),K=Ce(),ae=Ce(),te=Ce(),Ee=Ce(),Ue=Ce(),qe=Ce(),ge=Ce();Re(Q,x[1],x[0]),Re(ge,X[1],X[0]),Je(Q,Q,ge),Ke(A,x[0],x[1]),Ke(ge,X[0],X[1]),Je(A,A,ge),Je(K,x[3],X[3]),Je(K,K,S),Je(ae,x[2],X[2]),Ke(ae,ae,ae),Re(te,A,Q),Re(Ee,ae,K),Ke(Ue,ae,K),Ke(qe,A,Q),Je(x[0],te,Ee),Je(x[1],qe,Ue),Je(x[2],Ue,Ee),Je(x[3],te,qe)}function p(x,X,Q){for(var A=0;A<4;++A)Pe(x[A],X[A],Q)}function q(x,X){var Q=Ce(),A=Ce(),K=Ce();me(K,X[2]),Je(Q,X[0],K),Je(A,X[1],K),V(x,A),x[31]^=ee(Q)<<7}function V(x,X){var Q,A,K,ae=Ce(),te=Ce();for(Q=0;Q<16;++Q)te[Q]=X[Q];for(ke(te),ke(te),ke(te),A=0;A<2;++A){for(ae[0]=te[0]-65517,Q=1;Q<15;++Q)ae[Q]=te[Q]-65535-(ae[Q-1]>>16&1),ae[Q-1]&=65535;ae[15]=te[15]-32767-(ae[14]>>16&1),K=ae[15]>>16&1,ae[14]&=65535,Pe(te,ae,1-K)}for(Q=0;Q<16;Q++)x[2*Q]=te[Q]&255,x[2*Q+1]=te[Q]>>8}function z(x,X){var Q=Ce(),A=Ce(),K=Ce(),ae=Ce(),te=Ce(),Ee=Ce(),Ue=Ce();return pe(x[2],g),E(x[1],X),et(K,x[1]),Je(ae,K,R),Re(K,K,x[2]),Ke(ae,x[2],ae),et(te,ae),et(Ee,te),Je(Ue,Ee,te),Je(Q,Ue,K),Je(Q,Q,ae),B(Q,Q),Je(Q,Q,K),Je(Q,Q,ae),Je(Q,Q,ae),Je(x[0],Q,ae),et(A,x[0]),Je(A,A,ae),D(A,K)&&Je(x[0],x[0],k),et(A,x[0]),Je(A,A,ae),D(A,K)?-1:(ee(x[0])===X[31]>>7&&Re(x[0],f,x[0]),Je(x[3],x[0],x[1]),0)}function E(x,X){var Q;for(Q=0;Q<16;++Q)x[Q]=X[2*Q]+(X[2*Q+1]<<8);x[15]&=32767}function B(x,X){var Q=Ce(),A;for(A=0;A<16;++A)Q[A]=X[A];for(A=250;A>=0;--A)et(Q,Q),A!==1&&Je(Q,Q,X);for(A=0;A<16;++A)x[A]=Q[A]}function D(x,X){var Q=new h(32),A=new h(32);return V(Q,x),V(A,X),j(Q,0,A,0)}function j(x,X,Q,A){return M(x,X,Q,A,32)}function M(x,X,Q,A,K){var ae,te=0;for(ae=0;ae<K;++ae)te|=x[X+ae]^Q[A+ae];return(1&te-1>>>8)-1}function ee(x){var X=new h(32);return V(X,x),X[0]&1}function oe(x,X,Q){var A,K;for(pe(x[0],f),pe(x[1],g),pe(x[2],g),pe(x[3],f),K=255;K>=0;--K)A=Q[K/8|0]>>(K&7)&1,p(x,X,A),v(X,x),v(x,x),p(x,X,A)}function ce(x,X){var Q=[Ce(),Ce(),Ce(),Ce()];pe(Q[0],m),pe(Q[1],T),pe(Q[2],g),Je(Q[3],m,T),oe(x,Q,X)}function pe(x,X){var Q;for(Q=0;Q<16;Q++)x[Q]=X[Q]|0}function me(x,X){var Q=Ce(),A;for(A=0;A<16;++A)Q[A]=X[A];for(A=253;A>=0;--A)et(Q,Q),A!==2&&A!==4&&Je(Q,Q,X);for(A=0;A<16;++A)x[A]=Q[A]}function ke(x){var X,Q,A=1;for(X=0;X<16;++X)Q=x[X]+A+65535,A=Math.floor(Q/65536),x[X]=Q-A*65536;x[0]+=A-1+37*(A-1)}function Pe(x,X,Q){for(var A,K=~(Q-1),ae=0;ae<16;++ae)A=K&(x[ae]^X[ae]),x[ae]^=A,X[ae]^=A}function Ce(x){var X,Q=new Float64Array(16);if(x)for(X=0;X<x.length;++X)Q[X]=x[X];return Q}function Ke(x,X,Q){for(var A=0;A<16;++A)x[A]=X[A]+Q[A]}function Re(x,X,Q){for(var A=0;A<16;++A)x[A]=X[A]-Q[A]}function et(x,X){Je(x,X,X)}function Je(x,X,Q){var A,K,ae=0,te=0,Ee=0,Ue=0,qe=0,ge=0,Ne=0,We=0,rt=0,ze=0,kt=0,St=0,Ct=0,Bt=0,Ot=0,Lt=0,zt=0,Xt=0,Ht=0,Kt=0,lr=0,Cr=0,gr=0,qr=0,un=0,Qr=0,Yr=0,_n=0,li=0,Mr=0,Nn=0,xt=Q[0],Ut=Q[1],Jt=Q[2],Dt=Q[3],Wt=Q[4],Zt=Q[5],Gt=Q[6],Qt=Q[7],rr=Q[8],nr=Q[9],ir=Q[10],er=Q[11],or=Q[12],cr=Q[13],$t=Q[14],tr=Q[15];A=X[0],ae+=A*xt,te+=A*Ut,Ee+=A*Jt,Ue+=A*Dt,qe+=A*Wt,ge+=A*Zt,Ne+=A*Gt,We+=A*Qt,rt+=A*rr,ze+=A*nr,kt+=A*ir,St+=A*er,Ct+=A*or,Bt+=A*cr,Ot+=A*$t,Lt+=A*tr,A=X[1],te+=A*xt,Ee+=A*Ut,Ue+=A*Jt,qe+=A*Dt,ge+=A*Wt,Ne+=A*Zt,We+=A*Gt,rt+=A*Qt,ze+=A*rr,kt+=A*nr,St+=A*ir,Ct+=A*er,Bt+=A*or,Ot+=A*cr,Lt+=A*$t,zt+=A*tr,A=X[2],Ee+=A*xt,Ue+=A*Ut,qe+=A*Jt,ge+=A*Dt,Ne+=A*Wt,We+=A*Zt,rt+=A*Gt,ze+=A*Qt,kt+=A*rr,St+=A*nr,Ct+=A*ir,Bt+=A*er,Ot+=A*or,Lt+=A*cr,zt+=A*$t,Xt+=A*tr,A=X[3],Ue+=A*xt,qe+=A*Ut,ge+=A*Jt,Ne+=A*Dt,We+=A*Wt,rt+=A*Zt,ze+=A*Gt,kt+=A*Qt,St+=A*rr,Ct+=A*nr,Bt+=A*ir,Ot+=A*er,Lt+=A*or,zt+=A*cr,Xt+=A*$t,Ht+=A*tr,A=X[4],qe+=A*xt,ge+=A*Ut,Ne+=A*Jt,We+=A*Dt,rt+=A*Wt,ze+=A*Zt,kt+=A*Gt,St+=A*Qt,Ct+=A*rr,Bt+=A*nr,Ot+=A*ir,Lt+=A*er,zt+=A*or,Xt+=A*cr,Ht+=A*$t,Kt+=A*tr,A=X[5],ge+=A*xt,Ne+=A*Ut,We+=A*Jt,rt+=A*Dt,ze+=A*Wt,kt+=A*Zt,St+=A*Gt,Ct+=A*Qt,Bt+=A*rr,Ot+=A*nr,Lt+=A*ir,zt+=A*er,Xt+=A*or,Ht+=A*cr,Kt+=A*$t,lr+=A*tr,A=X[6],Ne+=A*xt,We+=A*Ut,rt+=A*Jt,ze+=A*Dt,kt+=A*Wt,St+=A*Zt,Ct+=A*Gt,Bt+=A*Qt,Ot+=A*rr,Lt+=A*nr,zt+=A*ir,Xt+=A*er,Ht+=A*or,Kt+=A*cr,lr+=A*$t,Cr+=A*tr,A=X[7],We+=A*xt,rt+=A*Ut,ze+=A*Jt,kt+=A*Dt,St+=A*Wt,Ct+=A*Zt,Bt+=A*Gt,Ot+=A*Qt,Lt+=A*rr,zt+=A*nr,Xt+=A*ir,Ht+=A*er,Kt+=A*or,lr+=A*cr,Cr+=A*$t,gr+=A*tr,A=X[8],rt+=A*xt,ze+=A*Ut,kt+=A*Jt,St+=A*Dt,Ct+=A*Wt,Bt+=A*Zt,Ot+=A*Gt,Lt+=A*Qt,zt+=A*rr,Xt+=A*nr,Ht+=A*ir,Kt+=A*er,lr+=A*or,Cr+=A*cr,gr+=A*$t,qr+=A*tr,A=X[9],ze+=A*xt,kt+=A*Ut,St+=A*Jt,Ct+=A*Dt,Bt+=A*Wt,Ot+=A*Zt,Lt+=A*Gt,zt+=A*Qt,Xt+=A*rr,Ht+=A*nr,Kt+=A*ir,lr+=A*er,Cr+=A*or,gr+=A*cr,qr+=A*$t,un+=A*tr,A=X[10],kt+=A*xt,St+=A*Ut,Ct+=A*Jt,Bt+=A*Dt,Ot+=A*Wt,Lt+=A*Zt,zt+=A*Gt,Xt+=A*Qt,Ht+=A*rr,Kt+=A*nr,lr+=A*ir,Cr+=A*er,gr+=A*or,qr+=A*cr,un+=A*$t,Qr+=A*tr,A=X[11],St+=A*xt,Ct+=A*Ut,Bt+=A*Jt,Ot+=A*Dt,Lt+=A*Wt,zt+=A*Zt,Xt+=A*Gt,Ht+=A*Qt,Kt+=A*rr,lr+=A*nr,Cr+=A*ir,gr+=A*er,qr+=A*or,un+=A*cr,Qr+=A*$t,Yr+=A*tr,A=X[12],Ct+=A*xt,Bt+=A*Ut,Ot+=A*Jt,Lt+=A*Dt,zt+=A*Wt,Xt+=A*Zt,Ht+=A*Gt,Kt+=A*Qt,lr+=A*rr,Cr+=A*nr,gr+=A*ir,qr+=A*er,un+=A*or,Qr+=A*cr,Yr+=A*$t,_n+=A*tr,A=X[13],Bt+=A*xt,Ot+=A*Ut,Lt+=A*Jt,zt+=A*Dt,Xt+=A*Wt,Ht+=A*Zt,Kt+=A*Gt,lr+=A*Qt,Cr+=A*rr,gr+=A*nr,qr+=A*ir,un+=A*er,Qr+=A*or,Yr+=A*cr,_n+=A*$t,li+=A*tr,A=X[14],Ot+=A*xt,Lt+=A*Ut,zt+=A*Jt,Xt+=A*Dt,Ht+=A*Wt,Kt+=A*Zt,lr+=A*Gt,Cr+=A*Qt,gr+=A*rr,qr+=A*nr,un+=A*ir,Qr+=A*er,Yr+=A*or,_n+=A*cr,li+=A*$t,Mr+=A*tr,A=X[15],Lt+=A*xt,zt+=A*Ut,Xt+=A*Jt,Ht+=A*Dt,Kt+=A*Wt,lr+=A*Zt,Cr+=A*Gt,gr+=A*Qt,qr+=A*rr,un+=A*nr,Qr+=A*ir,Yr+=A*er,_n+=A*or,li+=A*cr,Mr+=A*$t,Nn+=A*tr,ae+=38*zt,te+=38*Xt,Ee+=38*Ht,Ue+=38*Kt,qe+=38*lr,ge+=38*Cr,Ne+=38*gr,We+=38*qr,rt+=38*un,ze+=38*Qr,kt+=38*Yr,St+=38*_n,Ct+=38*li,Bt+=38*Mr,Ot+=38*Nn,K=1,A=ae+K+65535,K=Math.floor(A/65536),ae=A-K*65536,A=te+K+65535,K=Math.floor(A/65536),te=A-K*65536,A=Ee+K+65535,K=Math.floor(A/65536),Ee=A-K*65536,A=Ue+K+65535,K=Math.floor(A/65536),Ue=A-K*65536,A=qe+K+65535,K=Math.floor(A/65536),qe=A-K*65536,A=ge+K+65535,K=Math.floor(A/65536),ge=A-K*65536,A=Ne+K+65535,K=Math.floor(A/65536),Ne=A-K*65536,A=We+K+65535,K=Math.floor(A/65536),We=A-K*65536,A=rt+K+65535,K=Math.floor(A/65536),rt=A-K*65536,A=ze+K+65535,K=Math.floor(A/65536),ze=A-K*65536,A=kt+K+65535,K=Math.floor(A/65536),kt=A-K*65536,A=St+K+65535,K=Math.floor(A/65536),St=A-K*65536,A=Ct+K+65535,K=Math.floor(A/65536),Ct=A-K*65536,A=Bt+K+65535,K=Math.floor(A/65536),Bt=A-K*65536,A=Ot+K+65535,K=Math.floor(A/65536),Ot=A-K*65536,A=Lt+K+65535,K=Math.floor(A/65536),Lt=A-K*65536,ae+=K-1+37*(K-1),K=1,A=ae+K+65535,K=Math.floor(A/65536),ae=A-K*65536,A=te+K+65535,K=Math.floor(A/65536),te=A-K*65536,A=Ee+K+65535,K=Math.floor(A/65536),Ee=A-K*65536,A=Ue+K+65535,K=Math.floor(A/65536),Ue=A-K*65536,A=qe+K+65535,K=Math.floor(A/65536),qe=A-K*65536,A=ge+K+65535,K=Math.floor(A/65536),ge=A-K*65536,A=Ne+K+65535,K=Math.floor(A/65536),Ne=A-K*65536,A=We+K+65535,K=Math.floor(A/65536),We=A-K*65536,A=rt+K+65535,K=Math.floor(A/65536),rt=A-K*65536,A=ze+K+65535,K=Math.floor(A/65536),ze=A-K*65536,A=kt+K+65535,K=Math.floor(A/65536),kt=A-K*65536,A=St+K+65535,K=Math.floor(A/65536),St=A-K*65536,A=Ct+K+65535,K=Math.floor(A/65536),Ct=A-K*65536,A=Bt+K+65535,K=Math.floor(A/65536),Bt=A-K*65536,A=Ot+K+65535,K=Math.floor(A/65536),Ot=A-K*65536,A=Lt+K+65535,K=Math.floor(A/65536),Lt=A-K*65536,ae+=K-1+37*(K-1),x[0]=ae,x[1]=te,x[2]=Ee,x[3]=Ue,x[4]=qe,x[5]=ge,x[6]=Ne,x[7]=We,x[8]=rt,x[9]=ze,x[10]=kt,x[11]=St,x[12]=Ct,x[13]=Bt,x[14]=Ot,x[15]=Lt}}),l5=Qe((e,t)=>{var r=lt();Et(),ui(),sh(),t.exports=r.kem=r.kem||{};var n=r.jsbn.BigInteger;r.kem.rsa={},r.kem.rsa.create=function(u,c){c=c||{};var s=c.prng||r.random,h={};return h.encrypt=function(a,d){var f=Math.ceil(a.n.bitLength()/8),g;do g=new n(r.util.bytesToHex(s.getBytesSync(f)),16).mod(a.n);while(g.compareTo(n.ONE)<=0);g=r.util.hexToBytes(g.toString(16));var R=f-g.length;R>0&&(g=r.util.fillString(String.fromCharCode(0),R)+g);var S=a.encrypt(g,"NONE"),m=u.generate(g,d);return{encapsulation:S,key:m}},h.decrypt=function(a,d,f){var g=a.decrypt(d,"NONE");return u.generate(g,f)},h},r.kem.kdf1=function(u,c){i(this,u,0,c||u.digestLength)},r.kem.kdf2=function(u,c){i(this,u,1,c||u.digestLength)};function i(u,c,s,h){u.generate=function(a,d){for(var f=new r.util.ByteBuffer,g=Math.ceil(d/h)+s,R=new r.util.ByteBuffer,S=s;S<g;++S){R.putInt32(S),c.start(),c.update(a+R.getBytes());var m=c.digest();f.putBytes(m.getBytes(h))}return f.truncate(f.length()-d),f.getBytes()}}}),c5=Qe((e,t)=>{var r=lt();Et(),t.exports=r.log=r.log||{},r.log.levels=["none","error","warning","info","debug","verbose","max"];var n={},i=[],u=null;for(r.log.LEVEL_LOCKED=2,r.log.NO_LEVEL_CHECK=4,r.log.INTERPOLATE=8,h=0;h<r.log.levels.length;++h)c=r.log.levels[h],n[c]={index:h,name:c.toUpperCase()};var c,h;for(r.log.logMessage=function(S){for(var m=n[S.level].index,T=0;T<i.length;++T){var O=i[T];if(O.flags&r.log.NO_LEVEL_CHECK)O.f(S);else{var k=n[O.level].index;m<=k&&O.f(O,S)}}},r.log.prepareStandard=function(S){"standard"in S||(S.standard=n[S.level].name+" ["+S.category+"] "+S.message)},r.log.prepareFull=function(S){if(!("full"in S)){var m=[S.message];m=m.concat([]),S.full=r.util.format.apply(this,m)}},r.log.prepareStandardFull=function(S){"standardFull"in S||(r.log.prepareStandard(S),S.standardFull=S.standard)},s=["error","warning","info","debug","verbose"],h=0;h<s.length;++h)(function(S){r.log[S]=function(m,T){var O=Array.prototype.slice.call(arguments).slice(2),k={timestamp:new Date,level:S,category:m,message:T,arguments:O};r.log.logMessage(k)}})(s[h]);var s,h;r.log.makeLogger=function(S){var m={flags:0,f:S};return r.log.setLevel(m,"none"),m},r.log.setLevel=function(S,m){var T=!1;if(S&&!(S.flags&r.log.LEVEL_LOCKED))for(var O=0;O<r.log.levels.length;++O){var k=r.log.levels[O];if(m==k){S.level=m,T=!0;break}}return T},r.log.lock=function(S,m){typeof m>"u"||m?S.flags|=r.log.LEVEL_LOCKED:S.flags&=~r.log.LEVEL_LOCKED},r.log.addLogger=function(S){i.push(S)},typeof console<"u"&&"log"in console?(console.error&&console.warn&&console.info&&console.debug?(d={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},f=function(S,m){r.log.prepareStandard(m);var T=d[m.level],O=[m.standard];O=O.concat(m.arguments.slice()),T.apply(console,O)},a=r.log.makeLogger(f)):(f=function(S,m){r.log.prepareStandardFull(m),console.log(m.standardFull)},a=r.log.makeLogger(f)),r.log.setLevel(a,"debug"),r.log.addLogger(a),u=a):console={log:function(){}};var a,d,f;u!==null&&typeof window<"u"&&window.location&&(g=new URL(window.location.href).searchParams,g.has("console.level")&&r.log.setLevel(u,g.get("console.level").slice(-1)[0]),g.has("console.lock")&&(R=g.get("console.lock").slice(-1)[0],R=="true"&&r.log.lock(u)));var g,R;r.log.consoleLogger=u}),h5=Qe((e,t)=>{t.exports=co(),zp(),zu(),db(),Cb()}),f5=Qe((e,t)=>{var r=lt();ka(),Oi(),ah(),Oa(),Is(),bb(),ui(),Et(),Wp();var n=r.asn1,i=t.exports=r.pkcs7=r.pkcs7||{};i.messageFromPem=function(m){var T=r.pem.decode(m)[0];if(T.type!=="PKCS7"){var O=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw O.headerType=T.type,O}if(T.procType&&T.procType.type==="ENCRYPTED")throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var k=n.fromDer(T.body);return i.messageFromAsn1(k)},i.messageToPem=function(m,T){var O={type:"PKCS7",body:n.toDer(m.toAsn1()).getBytes()};return r.pem.encode(O,{maxline:T})},i.messageFromAsn1=function(m){var T={},O=[];if(!n.validate(m,i.asn1.contentInfoValidator,T,O)){var k=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw k.errors=O,k}var y=n.derToOid(T.contentType),I;switch(y){case r.pki.oids.envelopedData:I=i.createEnvelopedData();break;case r.pki.oids.encryptedData:I=i.createEncryptedData();break;case r.pki.oids.signedData:I=i.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+y+" is not (yet) supported.")}return I.fromAsn1(T.content.value[0]),I},i.createSignedData=function(){var m=null;return m={type:r.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(k){if(R(m,k,i.asn1.signedDataValidator),m.certificates=[],m.crls=[],m.digestAlgorithmIdentifiers=[],m.contentInfo=null,m.signerInfos=[],m.rawCapture.certificates)for(var y=m.rawCapture.certificates.value,I=0;I<y.length;++I)m.certificates.push(r.pki.certificateFromAsn1(y[I]))},toAsn1:function(){m.contentInfo||m.sign();for(var k=[],y=0;y<m.certificates.length;++y)k.push(r.pki.certificateToAsn1(m.certificates[y]));var I=[],w=n.create(n.Class.CONTEXT_SPECIFIC,0,!0,[n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,n.integerToDer(m.version).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.SET,!0,m.digestAlgorithmIdentifiers),m.contentInfo])]);return k.length>0&&w.value[0].value.push(n.create(n.Class.CONTEXT_SPECIFIC,0,!0,k)),I.length>0&&w.value[0].value.push(n.create(n.Class.CONTEXT_SPECIFIC,1,!0,I)),w.value[0].value.push(n.create(n.Class.UNIVERSAL,n.Type.SET,!0,m.signerInfos)),n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(m.type).getBytes()),w])},addSigner:function(k){var y=k.issuer,I=k.serialNumber;if(k.certificate){var w=k.certificate;typeof w=="string"&&(w=r.pki.certificateFromPem(w)),y=w.issuer.attributes,I=w.serialNumber}var L=k.key;if(!L)throw new Error("Could not add PKCS#7 signer; no private key specified.");typeof L=="string"&&(L=r.pki.privateKeyFromPem(L));var N=k.digestAlgorithm||r.pki.oids.sha1;switch(N){case r.pki.oids.sha1:case r.pki.oids.sha256:case r.pki.oids.sha384:case r.pki.oids.sha512:case r.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+N)}var C=k.authenticatedAttributes||[];if(C.length>0){for(var v=!1,p=!1,q=0;q<C.length;++q){var V=C[q];if(!v&&V.type===r.pki.oids.contentType){if(v=!0,p)break;continue}if(!p&&V.type===r.pki.oids.messageDigest){if(p=!0,v)break;continue}}if(!v||!p)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}m.signers.push({key:L,version:1,issuer:y,serialNumber:I,digestAlgorithm:N,signatureAlgorithm:r.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:C,unauthenticatedAttributes:[]})},sign:function(k){if(k=k||{},(typeof m.content!="object"||m.contentInfo===null)&&(m.contentInfo=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(r.pki.oids.data).getBytes())]),"content"in m)){var y;m.content instanceof r.util.ByteBuffer?y=m.content.bytes():typeof m.content=="string"&&(y=r.util.encodeUtf8(m.content)),k.detached?m.detachedContent=n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,!1,y):m.contentInfo.value.push(n.create(n.Class.CONTEXT_SPECIFIC,0,!0,[n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,!1,y)]))}if(m.signers.length!==0){var I=T();O(I)}},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(k){typeof k=="string"&&(k=r.pki.certificateFromPem(k)),m.certificates.push(k)},addCertificateRevokationList:function(k){throw new Error("PKCS#7 CRL support not yet implemented.")}},m;function T(){for(var k={},y=0;y<m.signers.length;++y){var I=m.signers[y],w=I.digestAlgorithm;w in k||(k[w]=r.md[r.pki.oids[w]].create()),I.authenticatedAttributes.length===0?I.md=k[w]:I.md=r.md[r.pki.oids[w]].create()}m.digestAlgorithmIdentifiers=[];for(var w in k)m.digestAlgorithmIdentifiers.push(n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(w).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.NULL,!1,"")]));return k}function O(k){var y;if(m.detachedContent?y=m.detachedContent:(y=m.contentInfo.value[1],y=y.value[0]),!y)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var I=n.derToOid(m.contentInfo.value[0].value),w=n.toDer(y);w.getByte(),n.getBerValueLength(w),w=w.getBytes();for(var L in k)k[L].start().update(w);for(var N=new Date,C=0;C<m.signers.length;++C){var v=m.signers[C];if(v.authenticatedAttributes.length===0){if(I!==r.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{v.authenticatedAttributesAsn1=n.create(n.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var p=n.create(n.Class.UNIVERSAL,n.Type.SET,!0,[]),q=0;q<v.authenticatedAttributes.length;++q){var V=v.authenticatedAttributes[q];V.type===r.pki.oids.messageDigest?V.value=k[v.digestAlgorithm].digest():V.type===r.pki.oids.signingTime&&(V.value||(V.value=N)),p.value.push(f(V)),v.authenticatedAttributesAsn1.value.push(f(V))}w=n.toDer(p).getBytes(),v.md.start().update(w)}v.signature=v.key.sign(v.md,"RSASSA-PKCS1-V1_5")}m.signerInfos=d(m.signers)}},i.createEncryptedData=function(){var m=null;return m={type:r.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:r.pki.oids["aes256-CBC"]},fromAsn1:function(T){R(m,T,i.asn1.encryptedDataValidator)},decrypt:function(T){T!==void 0&&(m.encryptedContent.key=T),S(m)}},m},i.createEnvelopedData=function(){var m=null;return m={type:r.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:r.pki.oids["aes256-CBC"]},fromAsn1:function(T){var O=R(m,T,i.asn1.envelopedDataValidator);m.recipients=s(O.recipientInfos.value)},toAsn1:function(){return n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(m.type).getBytes()),n.create(n.Class.CONTEXT_SPECIFIC,0,!0,[n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,n.integerToDer(m.version).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.SET,!0,h(m.recipients)),n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,g(m.encryptedContent))])])])},findRecipient:function(T){for(var O=T.issuer.attributes,k=0;k<m.recipients.length;++k){var y=m.recipients[k],I=y.issuer;if(y.serialNumber===T.serialNumber&&I.length===O.length){for(var w=!0,L=0;L<O.length;++L)if(I[L].type!==O[L].type||I[L].value!==O[L].value){w=!1;break}if(w)return y}}return null},decrypt:function(T,O){if(m.encryptedContent.key===void 0&&T!==void 0&&O!==void 0)switch(T.encryptedContent.algorithm){case r.pki.oids.rsaEncryption:case r.pki.oids.desCBC:var k=O.decrypt(T.encryptedContent.content);m.encryptedContent.key=r.util.createBuffer(k);break;default:throw new Error("Unsupported asymmetric cipher, OID "+T.encryptedContent.algorithm)}S(m)},addRecipient:function(T){m.recipients.push({version:0,issuer:T.issuer.attributes,serialNumber:T.serialNumber,encryptedContent:{algorithm:r.pki.oids.rsaEncryption,key:T.publicKey}})},encrypt:function(T,O){if(m.encryptedContent.content===void 0){O=O||m.encryptedContent.algorithm,T=T||m.encryptedContent.key;var k,y,I;switch(O){case r.pki.oids["aes128-CBC"]:k=16,y=16,I=r.aes.createEncryptionCipher;break;case r.pki.oids["aes192-CBC"]:k=24,y=16,I=r.aes.createEncryptionCipher;break;case r.pki.oids["aes256-CBC"]:k=32,y=16,I=r.aes.createEncryptionCipher;break;case r.pki.oids["des-EDE3-CBC"]:k=24,y=8,I=r.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+O)}if(T===void 0)T=r.util.createBuffer(r.random.getBytes(k));else if(T.length()!=k)throw new Error("Symmetric key has wrong length; got "+T.length()+" bytes, expected "+k+".");m.encryptedContent.algorithm=O,m.encryptedContent.key=T,m.encryptedContent.parameter=r.util.createBuffer(r.random.getBytes(y));var w=I(T);if(w.start(m.encryptedContent.parameter.copy()),w.update(m.content),!w.finish())throw new Error("Symmetric encryption failed.");m.encryptedContent.content=w.output}for(var L=0;L<m.recipients.length;++L){var N=m.recipients[L];if(N.encryptedContent.content===void 0)switch(N.encryptedContent.algorithm){case r.pki.oids.rsaEncryption:N.encryptedContent.content=N.encryptedContent.key.encrypt(m.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+N.encryptedContent.algorithm)}}}},m};function u(m){var T={},O=[];if(!n.validate(m,i.asn1.recipientInfoValidator,T,O)){var k=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw k.errors=O,k}return{version:T.version.charCodeAt(0),issuer:r.pki.RDNAttributesAsArray(T.issuer),serialNumber:r.util.createBuffer(T.serial).toHex(),encryptedContent:{algorithm:n.derToOid(T.encAlgorithm),parameter:T.encParameter?T.encParameter.value:void 0,content:T.encKey}}}function c(m){return n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,n.integerToDer(m.version).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[r.pki.distinguishedNameToAsn1({attributes:m.issuer}),n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,r.util.hexToBytes(m.serialNumber))]),n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(m.encryptedContent.algorithm).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.NULL,!1,"")]),n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,!1,m.encryptedContent.content)])}function s(m){for(var T=[],O=0;O<m.length;++O)T.push(u(m[O]));return T}function h(m){for(var T=[],O=0;O<m.length;++O)T.push(c(m[O]));return T}function a(m){var T=n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,n.integerToDer(m.version).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[r.pki.distinguishedNameToAsn1({attributes:m.issuer}),n.create(n.Class.UNIVERSAL,n.Type.INTEGER,!1,r.util.hexToBytes(m.serialNumber))]),n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(m.digestAlgorithm).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.NULL,!1,"")])]);if(m.authenticatedAttributesAsn1&&T.value.push(m.authenticatedAttributesAsn1),T.value.push(n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(m.signatureAlgorithm).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.NULL,!1,"")])),T.value.push(n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,!1,m.signature)),m.unauthenticatedAttributes.length>0){for(var O=n.create(n.Class.CONTEXT_SPECIFIC,1,!0,[]),k=0;k<m.unauthenticatedAttributes.length;++k){var y=m.unauthenticatedAttributes[k];O.values.push(f(y))}T.value.push(O)}return T}function d(m){for(var T=[],O=0;O<m.length;++O)T.push(a(m[O]));return T}function f(m){var T;if(m.type===r.pki.oids.contentType)T=n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(m.value).getBytes());else if(m.type===r.pki.oids.messageDigest)T=n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,!1,m.value.bytes());else if(m.type===r.pki.oids.signingTime){var O=new Date("1950-01-01T00:00:00Z"),k=new Date("2050-01-01T00:00:00Z"),y=m.value;if(typeof y=="string"){var I=Date.parse(y);isNaN(I)?y.length===13?y=n.utcTimeToDate(y):y=n.generalizedTimeToDate(y):y=new Date(I)}y>=O&&y<k?T=n.create(n.Class.UNIVERSAL,n.Type.UTCTIME,!1,n.dateToUtcTime(y)):T=n.create(n.Class.UNIVERSAL,n.Type.GENERALIZEDTIME,!1,n.dateToGeneralizedTime(y))}return n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(m.type).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.SET,!0,[T])])}function g(m){return[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(r.pki.oids.data).getBytes()),n.create(n.Class.UNIVERSAL,n.Type.SEQUENCE,!0,[n.create(n.Class.UNIVERSAL,n.Type.OID,!1,n.oidToDer(m.algorithm).getBytes()),m.parameter?n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,!1,m.parameter.getBytes()):void 0]),n.create(n.Class.CONTEXT_SPECIFIC,0,!0,[n.create(n.Class.UNIVERSAL,n.Type.OCTETSTRING,!1,m.content.getBytes())])]}function R(m,T,O){var k={},y=[];if(!n.validate(T,O,k,y)){var I=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw I.errors=I,I}var w=n.derToOid(k.contentType);if(w!==r.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(k.encryptedContent){var L="";if(r.util.isArray(k.encryptedContent))for(var N=0;N<k.encryptedContent.length;++N){if(k.encryptedContent[N].type!==n.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");L+=k.encryptedContent[N].value}else L=k.encryptedContent;m.encryptedContent={algorithm:n.derToOid(k.encAlgorithm),parameter:r.util.createBuffer(k.encParameter.value),content:r.util.createBuffer(L)}}if(k.content){var L="";if(r.util.isArray(k.content))for(var N=0;N<k.content.length;++N){if(k.content[N].type!==n.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");L+=k.content[N].value}else L=k.content;m.content=r.util.createBuffer(L)}return m.version=k.version.charCodeAt(0),m.rawCapture=k,k}function S(m){if(m.encryptedContent.key===void 0)throw new Error("Symmetric key not available.");if(m.content===void 0){var T;switch(m.encryptedContent.algorithm){case r.pki.oids["aes128-CBC"]:case r.pki.oids["aes192-CBC"]:case r.pki.oids["aes256-CBC"]:T=r.aes.createDecryptionCipher(m.encryptedContent.key);break;case r.pki.oids.desCBC:case r.pki.oids["des-EDE3-CBC"]:T=r.des.createDecryptionCipher(m.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+m.encryptedContent.algorithm)}if(T.start(m.encryptedContent.parameter),T.update(m.encryptedContent.content),!T.finish())throw new Error("Symmetric decryption failed.");m.content=T.output}}}),d5=Qe((e,t)=>{var r=lt();ka(),$u(),zp(),zu(),Et();var n=t.exports=r.ssh=r.ssh||{};n.privateKeyToPutty=function(s,h,a){a=a||"",h=h||"";var d="ssh-rsa",f=h===""?"none":"aes256-cbc",g="PuTTY-User-Key-File-2: "+d+`\r
`;g+="Encryption: "+f+`\r
`,g+="Comment: "+a+`\r
`;var R=r.util.createBuffer();u(R,d),i(R,s.e),i(R,s.n);var S=r.util.encode64(R.bytes(),64),m=Math.floor(S.length/66)+1;g+="Public-Lines: "+m+`\r
`,g+=S;var T=r.util.createBuffer();i(T,s.d),i(T,s.p),i(T,s.q),i(T,s.qInv);var O;if(!h)O=r.util.encode64(T.bytes(),64);else{var k=T.length()+16-1;k-=k%16;var y=c(T.bytes());y.truncate(y.length()-k+T.length()),T.putBuffer(y);var I=r.util.createBuffer();I.putBuffer(c("\0\0\0\0",h)),I.putBuffer(c("\0\0\0",h));var w=r.aes.createEncryptionCipher(I.truncate(8),"CBC");w.start(r.util.createBuffer().fillWithByte(0,16)),w.update(T.copy()),w.finish();var L=w.output;L.truncate(16),O=r.util.encode64(L.bytes(),64)}m=Math.floor(O.length/66)+1,g+=`\r
Private-Lines: `+m+`\r
`,g+=O;var N=c("putty-private-key-file-mac-key",h),C=r.util.createBuffer();u(C,d),u(C,f),u(C,a),C.putInt32(R.length()),C.putBuffer(R),C.putInt32(T.length()),C.putBuffer(T);var v=r.hmac.create();return v.start("sha1",N),v.update(C.bytes()),g+=`\r
Private-MAC: `+v.digest().toHex()+`\r
`,g},n.publicKeyToOpenSSH=function(s,h){var a="ssh-rsa";h=h||"";var d=r.util.createBuffer();return u(d,a),i(d,s.e),i(d,s.n),a+" "+r.util.encode64(d.bytes())+" "+h},n.privateKeyToOpenSSH=function(s,h){return h?r.pki.encryptRsaPrivateKey(s,h,{legacy:!0,algorithm:"aes128"}):r.pki.privateKeyToPem(s)},n.getPublicKeyFingerprint=function(s,h){h=h||{};var a=h.md||r.md.md5.create(),d="ssh-rsa",f=r.util.createBuffer();u(f,d),i(f,s.e),i(f,s.n),a.start(),a.update(f.getBytes());var g=a.digest();if(h.encoding==="hex"){var R=g.toHex();return h.delimiter?R.match(/.{2}/g).join(h.delimiter):R}else{if(h.encoding==="binary")return g.getBytes();if(h.encoding)throw new Error('Unknown encoding "'+h.encoding+'".')}return g};function i(s,h){var a=h.toString(16);a[0]>="8"&&(a="00"+a);var d=r.util.hexToBytes(a);s.putInt32(d.length),s.putBytes(d)}function u(s,h){s.putInt32(h.length),s.putString(h)}function c(){for(var s=r.md.sha1.create(),h=arguments.length,a=0;a<h;++a)s.update(arguments[a]);return s.digest()}}),Tb=Qe((e,t)=>{t.exports=lt(),ka(),a5(),Oi(),$p(),ah(),u5(),$u(),l5(),c5(),h5(),_b(),Hp(),Is(),gb(),wb(),f5(),Eb(),mb(),pb(),Kp(),ui(),yb(),d5(),Sb(),Et()});function p5(e,t){return Rb(t,(r,n)=>`${e}/${n}`)}function Rb(e,t=(r,n)=>`${r}: ${n}`){return Object.entries(e).reduce((r,[n,i])=>(r[n]=t(n,i),r),{})}var Bu={Itero:"https://itero.plasmo.com"},y5={Base:"/api/chrome-policy",Hash:"/api/chrome-policy/hash"},Lk=p5(Bu.Itero,y5),Nk=Rs(YA(),1),Km=65536;async function*Rd(e,t=!0){for(let r of e)if("stream"in r)yield*r.stream();else if(ArrayBuffer.isView(r))if(t){let n=r.byteOffset,i=r.byteOffset+r.byteLength;for(;n!==i;){let u=Math.min(i-n,Km),c=r.buffer.slice(n,n+u);n+=c.byteLength,yield new Uint8Array(c)}}else yield r;else{let n=0,i=r;for(;n!==i.size;){let u=await i.slice(n,Math.min(i.size,n+Km)).arrayBuffer();n+=u.byteLength,yield new Uint8Array(u)}}}var Ib=class Yd{#e=[];#r="";#t=0;#n="transparent";constructor(t=[],r={}){if(typeof t!="object"||t===null)throw new TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if(typeof t[Symbol.iterator]!="function")throw new TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if(typeof r!="object"&&typeof r!="function")throw new TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");r===null&&(r={});let n=new TextEncoder;for(let u of t){let c;ArrayBuffer.isView(u)?c=new Uint8Array(u.buffer.slice(u.byteOffset,u.byteOffset+u.byteLength)):u instanceof ArrayBuffer?c=new Uint8Array(u.slice(0)):u instanceof Yd?c=u:c=n.encode(`${u}`),this.#t+=ArrayBuffer.isView(c)?c.byteLength:c.size,this.#e.push(c)}this.#n=`${r.endings===void 0?"transparent":r.endings}`;let i=r.type===void 0?"":String(r.type);this.#r=/^[\x20-\x7E]*$/.test(i)?i:""}get size(){return this.#t}get type(){return this.#r}async text(){let t=new TextDecoder,r="";for await(let n of Rd(this.#e,!1))r+=t.decode(n,{stream:!0});return r+=t.decode(),r}async arrayBuffer(){let t=new Uint8Array(this.size),r=0;for await(let n of Rd(this.#e,!1))t.set(n,r),r+=n.length;return t.buffer}stream(){let t=Rd(this.#e,!0);return new globalThis.ReadableStream({type:"bytes",async pull(r){let n=await t.next();n.done?r.close():r.enqueue(n.value)},async cancel(){await t.return()}})}slice(t=0,r=this.size,n=""){let{size:i}=this,u=t<0?Math.max(i+t,0):Math.min(t,i),c=r<0?Math.max(i+r,0):Math.min(r,i),s=Math.max(c-u,0),h=this.#e,a=[],d=0;for(let g of h){if(d>=s)break;let R=ArrayBuffer.isView(g)?g.byteLength:g.size;if(u&&R<=u)u-=R,c-=R;else{let S;ArrayBuffer.isView(g)?(S=g.subarray(u,Math.min(R,c)),d+=S.byteLength):(S=g.slice(u,Math.min(R,c)),d+=S.size),c-=R,a.push(S),u=0}}let f=new Yd([],{type:String(n).toLowerCase()});return f.#t=s,f.#e=a,f}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](t){return t&&typeof t=="object"&&typeof t.constructor=="function"&&(typeof t.stream=="function"||typeof t.arrayBuffer=="function")&&/^(Blob|File)$/.test(t[Symbol.toStringTag])}};Object.defineProperties(Ib.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});var g5=Ib,Cc=g5,m5=(0,FA.createRequire)("/"),v5;try{v5=m5("worker_threads").Worker}catch{}var dr=Uint8Array,bn=Uint16Array,lh=Uint32Array,ch=new dr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),hh=new dr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Xd=new dr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ab=function(e,t){for(var r=new bn(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var i=new lh(r[30]),n=1;n<30;++n)for(var u=r[n];u<r[n+1];++u)i[u]=u-r[n]<<5|n;return[r,i]},kb=Ab(ch,2),Ob=kb[0],Jd=kb[1];Ob[28]=258,Jd[258]=28;var Pb=Ab(hh,0),b5=Pb[0],Wm=Pb[1],Zd=new bn(32768);for(At=0;At<32768;++At)no=(At&43690)>>>1|(At&21845)<<1,no=(no&52428)>>>2|(no&13107)<<2,no=(no&61680)>>>4|(no&3855)<<4,Zd[At]=((no&65280)>>>8|(no&255)<<8)>>>1;var no,At,Ai=function(e,t,r){for(var n=e.length,i=0,u=new bn(t);i<n;++i)e[i]&&++u[e[i]-1];var c=new bn(t);for(i=0;i<t;++i)c[i]=c[i-1]+u[i-1]<<1;var s;if(r){s=new bn(1<<t);var h=15-t;for(i=0;i<n;++i)if(e[i])for(var a=i<<4|e[i],d=t-e[i],f=c[e[i]-1]++<<d,g=f|(1<<d)-1;f<=g;++f)s[Zd[f]>>>h]=a}else for(s=new bn(n),i=0;i<n;++i)e[i]&&(s[i]=Zd[c[e[i]-1]++]>>>15-e[i]);return s},Vo=new dr(288);for(At=0;At<144;++At)Vo[At]=8;var At;for(At=144;At<256;++At)Vo[At]=9;var At;for(At=256;At<280;++At)Vo[At]=7;var At;for(At=280;At<288;++At)Vo[At]=8;var At,Lu=new dr(32);for(At=0;At<32;++At)Lu[At]=5;var At,_5=Ai(Vo,9,0),w5=Ai(Vo,9,1),E5=Ai(Lu,5,0),S5=Ai(Lu,5,1),Id=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},ti=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},Ad=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},Gp=function(e){return(e+7)/8|0},Hu=function(e,t,r){(t==null||t<0)&&(t=0),(r==null||r>e.length)&&(r=e.length);var n=new(e.BYTES_PER_ELEMENT==2?bn:e.BYTES_PER_ELEMENT==4?lh:dr)(r-t);return n.set(e.subarray(t,r)),n},C5=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],mn=function(e,t,r){var n=new Error(t||C5[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,mn),!r)throw n;return n},T5=function(e,t,r){var n=e.length;if(!n||r&&r.f&&!r.l)return t||new dr(0);var i=!t||r,u=!r||r.i;r||(r={}),t||(t=new dr(n*3));var c=function(Ce){var Ke=t.length;if(Ce>Ke){var Re=new dr(Math.max(Ke*2,Ce));Re.set(t),t=Re}},s=r.f||0,h=r.p||0,a=r.b||0,d=r.l,f=r.d,g=r.m,R=r.n,S=n*8;do{if(!d){s=ti(e,h,1);var m=ti(e,h+1,3);if(h+=3,m)if(m==1)d=w5,f=S5,g=9,R=5;else if(m==2){var T=ti(e,h,31)+257,O=ti(e,h+10,15)+4,k=T+ti(e,h+5,31)+1;h+=14;for(var y=new dr(k),I=new dr(19),w=0;w<O;++w)I[Xd[w]]=ti(e,h+w*3,7);h+=O*3;for(var L=Id(I),N=(1<<L)-1,C=Ai(I,L,1),w=0;w<k;){var v=C[ti(e,h,N)];h+=v&15;var p=v>>>4;if(p<16)y[w++]=p;else{var q=0,V=0;for(p==16?(V=3+ti(e,h,3),h+=2,q=y[w-1]):p==17?(V=3+ti(e,h,7),h+=3):p==18&&(V=11+ti(e,h,127),h+=7);V--;)y[w++]=q}}var z=y.subarray(0,T),E=y.subarray(T);g=Id(z),R=Id(E),d=Ai(z,g,1),f=Ai(E,R,1)}else mn(1);else{var p=Gp(h)+4,B=e[p-4]|e[p-3]<<8,D=p+B;if(D>n){u&&mn(0);break}i&&c(a+B),t.set(e.subarray(p,D),a),r.b=a+=B,r.p=h=D*8,r.f=s;continue}if(h>S){u&&mn(0);break}}i&&c(a+131072);for(var j=(1<<g)-1,M=(1<<R)-1,ee=h;;ee=h){var q=d[Ad(e,h)&j],oe=q>>>4;if(h+=q&15,h>S){u&&mn(0);break}if(q||mn(2),oe<256)t[a++]=oe;else if(oe==256){ee=h,d=null;break}else{var ce=oe-254;if(oe>264){var w=oe-257,pe=ch[w];ce=ti(e,h,(1<<pe)-1)+Ob[w],h+=pe}var me=f[Ad(e,h)&M],ke=me>>>4;me||mn(3),h+=me&15;var E=b5[ke];if(ke>3){var pe=hh[ke];E+=Ad(e,h)&(1<<pe)-1,h+=pe}if(h>S){u&&mn(0);break}i&&c(a+131072);for(var Pe=a+ce;a<Pe;a+=4)t[a]=t[a-E],t[a+1]=t[a+1-E],t[a+2]=t[a+2-E],t[a+3]=t[a+3-E];a=Pe}}r.l=d,r.p=ee,r.b=a,r.f=s,d&&(s=1,r.m=g,r.d=f,r.n=R)}while(!s);return a==t.length?t:Hu(t,0,a)},io=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>>8},vu=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>>8,e[n+2]|=r>>>16},kd=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var i=r.length,u=r.slice();if(!i)return[Qp,0];if(i==1){var c=new dr(r[0].s+1);return c[r[0].s]=1,[c,1]}r.sort(function(w,L){return w.f-L.f}),r.push({s:-1,f:25001});var s=r[0],h=r[1],a=0,d=1,f=2;for(r[0]={s:-1,f:s.f+h.f,l:s,r:h};d!=i-1;)s=r[r[a].f<r[f].f?a++:f++],h=r[a!=d&&r[a].f<r[f].f?a++:f++],r[d++]={s:-1,f:s.f+h.f,l:s,r:h};for(var g=u[0].s,n=1;n<i;++n)u[n].s>g&&(g=u[n].s);var R=new bn(g+1),S=ep(r[d-1],R,0);if(S>t){var n=0,m=0,T=S-t,O=1<<T;for(u.sort(function(L,N){return R[N.s]-R[L.s]||L.f-N.f});n<i;++n){var k=u[n].s;if(R[k]>t)m+=O-(1<<S-R[k]),R[k]=t;else break}for(m>>>=T;m>0;){var y=u[n].s;R[y]<t?m-=1<<t-R[y]++-1:++n}for(;n>=0&&m;--n){var I=u[n].s;R[I]==t&&(--R[I],++m)}S=t}return[new dr(R),S]},ep=function(e,t,r){return e.s==-1?Math.max(ep(e.l,t,r+1),ep(e.r,t,r+1)):t[e.s]=r},Gm=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new bn(++t),n=0,i=e[0],u=1,c=function(h){r[n++]=h},s=1;s<=t;++s)if(e[s]==i&&s!=t)++u;else{if(!i&&u>2){for(;u>138;u-=138)c(32754);u>2&&(c(u>10?u-11<<5|28690:u-3<<5|12305),u=0)}else if(u>3){for(c(i),--u;u>6;u-=6)c(8304);u>2&&(c(u-3<<5|8208),u=0)}for(;u--;)c(i);u=1,i=e[s]}return[r.subarray(0,n),t]},bu=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},tp=function(e,t,r){var n=r.length,i=Gp(t+2);e[i]=n&255,e[i+1]=n>>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var u=0;u<n;++u)e[i+u+4]=r[u];return(i+4+n)*8},Qm=function(e,t,r,n,i,u,c,s,h,a,d){io(t,d++,r),++i[256];for(var f=kd(i,15),g=f[0],R=f[1],S=kd(u,15),m=S[0],T=S[1],O=Gm(g),k=O[0],y=O[1],I=Gm(m),w=I[0],L=I[1],N=new bn(19),C=0;C<k.length;++C)N[k[C]&31]++;for(var C=0;C<w.length;++C)N[w[C]&31]++;for(var v=kd(N,7),p=v[0],q=v[1],V=19;V>4&&!p[Xd[V-1]];--V);var z=a+5<<3,E=bu(i,Vo)+bu(u,Lu)+c,B=bu(i,g)+bu(u,m)+c+14+3*V+bu(N,p)+(2*N[16]+3*N[17]+7*N[18]);if(z<=E&&z<=B)return tp(t,d,e.subarray(h,h+a));var D,j,M,ee;if(io(t,d,1+(B<E)),d+=2,B<E){D=Ai(g,R,0),j=g,M=Ai(m,T,0),ee=m;var oe=Ai(p,q,0);io(t,d,y-257),io(t,d+5,L-1),io(t,d+10,V-4),d+=14;for(var C=0;C<V;++C)io(t,d+3*C,p[Xd[C]]);d+=3*V;for(var ce=[k,w],pe=0;pe<2;++pe)for(var me=ce[pe],C=0;C<me.length;++C){var ke=me[C]&31;io(t,d,oe[ke]),d+=p[ke],ke>15&&(io(t,d,me[C]>>>5&127),d+=me[C]>>>12)}}else D=_5,j=Vo,M=E5,ee=Lu;for(var C=0;C<s;++C)if(n[C]>255){var ke=n[C]>>>18&31;vu(t,d,D[ke+257]),d+=j[ke+257],ke>7&&(io(t,d,n[C]>>>23&31),d+=ch[ke]);var Pe=n[C]&31;vu(t,d,M[Pe]),d+=ee[Pe],Pe>3&&(vu(t,d,n[C]>>>5&8191),d+=hh[Pe])}else vu(t,d,D[n[C]]),d+=j[n[C]];return vu(t,d,D[256]),d+j[256]},R5=new lh([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Qp=new dr(0),I5=function(e,t,r,n,i,u){var c=e.length,s=new dr(n+c+5*(1+Math.ceil(c/7e3))+i),h=s.subarray(n,s.length-i),a=0;if(!t||c<8)for(var d=0;d<=c;d+=65535){var f=d+65535;f>=c&&(h[a>>3]=u),a=tp(h,a+1,e.subarray(d,f))}else{for(var g=R5[t-1],R=g>>>13,S=g&8191,m=(1<<r)-1,T=new bn(32768),O=new bn(m+1),k=Math.ceil(r/3),y=2*k,I=function(A){return(e[A]^e[A+1]<<k^e[A+2]<<y)&m},w=new lh(25e3),L=new bn(288),N=new bn(32),C=0,v=0,d=0,p=0,q=0,V=0;d<c;++d){var z=I(d),E=d&32767,B=O[z];if(T[E]=B,O[z]=E,q<=d){var D=c-d;if((C>7e3||p>24576)&&D>423){a=Qm(e,h,0,w,L,N,v,p,V,d-V,a),p=C=v=0,V=d;for(var j=0;j<286;++j)L[j]=0;for(var j=0;j<30;++j)N[j]=0}var M=2,ee=0,oe=S,ce=E-B&32767;if(D>2&&z==I(d-ce))for(var pe=Math.min(R,D)-1,me=Math.min(32767,d),ke=Math.min(258,D);ce<=me&&--oe&&E!=B;){if(e[d+M]==e[d+M-ce]){for(var Pe=0;Pe<ke&&e[d+Pe]==e[d+Pe-ce];++Pe);if(Pe>M){if(M=Pe,ee=ce,Pe>pe)break;for(var Ce=Math.min(ce,Pe-2),Ke=0,j=0;j<Ce;++j){var Re=d-ce+j+32768&32767,et=T[Re],Je=Re-et+32768&32767;Je>Ke&&(Ke=Je,B=Re)}}}E=B,B=T[E],ce+=E-B+32768&32767}if(ee){w[p++]=268435456|Jd[M]<<18|Wm[ee];var x=Jd[M]&31,X=Wm[ee]&31;v+=ch[x]+hh[X],++L[257+x],++N[X],q=d+M,++C}else w[p++]=e[d],++L[e[d]]}}a=Qm(e,h,u,w,L,N,v,p,V,d-V,a),!u&&a&7&&(a=tp(h,a+1,Qp))}return Hu(s,0,n+Gp(a)+i)},A5=function(){for(var e=new Int32Array(256),t=0;t<256;++t){for(var r=t,n=9;--n;)r=(r&1&&-306674912)^r>>>1;e[t]=r}return e}(),k5=function(){var e=-1;return{p:function(t){for(var r=e,n=0;n<t.length;++n)r=A5[r&255^t[n]]^r>>>8;e=r},d:function(){return~e}}},O5=function(e,t,r,n,i){return I5(e,t.level==null?6:t.level,t.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):12+t.mem,r,n,!i)},Bb=function(e,t){var r={};for(var n in e)r[n]=e[n];for(var n in t)r[n]=t[n];return r},Ri=function(e,t){return e[t]|e[t+1]<<8},ni=function(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0},Od=function(e,t){return ni(e,t)+ni(e,t+4)*4294967296},Dr=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8};function P5(e,t){return O5(e,t||{},0,0)}function B5(e,t){return T5(e,t)}var Lb=function(e,t,r,n){for(var i in e){var u=e[i],c=t+i,s=n;Array.isArray(u)&&(s=Bb(n,u[1]),u=u[0]),u instanceof dr?r[c]=[u,s]:(r[c+="/"]=[new dr(0),s],Lb(u,c,r,n))}},Ym=typeof TextEncoder<"u"&&new TextEncoder,rp=typeof TextDecoder<"u"&&new TextDecoder,L5=0;try{rp.decode(Qp,{stream:!0}),L5=1}catch{}var N5=function(e){for(var t="",r=0;;){var n=e[r++],i=(n>127)+(n>223)+(n>239);if(r+i>e.length)return[t,Hu(e,r-1)];i?i==3?(n=((n&15)<<18|(e[r++]&63)<<12|(e[r++]&63)<<6|e[r++]&63)-65536,t+=String.fromCharCode(55296|n>>10,56320|n&1023)):i&1?t+=String.fromCharCode((n&31)<<6|e[r++]&63):t+=String.fromCharCode((n&15)<<12|(e[r++]&63)<<6|e[r++]&63):t+=String.fromCharCode(n)}};function np(e,t){if(t){for(var r=new dr(e.length),n=0;n<e.length;++n)r[n]=e.charCodeAt(n);return r}if(Ym)return Ym.encode(e);for(var i=e.length,u=new dr(e.length+(e.length>>1)),c=0,s=function(f){u[c++]=f},n=0;n<i;++n){if(c+5>u.length){var h=new dr(c+8+(i-n<<1));h.set(u),u=h}var a=e.charCodeAt(n);a<128||t?s(a):a<2048?(s(192|a>>6),s(128|a&63)):a>55295&&a<57344?(a=65536+(a&1047552)|e.charCodeAt(++n)&1023,s(240|a>>18),s(128|a>>12&63),s(128|a>>6&63),s(128|a&63)):(s(224|a>>12),s(128|a>>6&63),s(128|a&63))}return Hu(u,0,c)}function Yp(e,t){if(t){for(var r="",n=0;n<e.length;n+=16384)r+=String.fromCharCode.apply(null,e.subarray(n,n+16384));return r}else{if(rp)return rp.decode(e);var i=N5(e),u=i[0],c=i[1];return c.length&&mn(8),u}}var x5=function(e,t){return t+30+Ri(e,t+26)+Ri(e,t+28)},U5=function(e,t,r){var n=Ri(e,t+28),i=Yp(e.subarray(t+46,t+46+n),!(Ri(e,t+8)&2048)),u=t+46+n,c=ni(e,t+20),s=r&&c==4294967295?D5(e,u):[c,ni(e,t+24),ni(e,t+42)],h=s[0],a=s[1],d=s[2];return[Ri(e,t+10),h,a,i,u+Ri(e,t+30)+Ri(e,t+32),d]},D5=function(e,t){for(;Ri(e,t)!=1;t+=4+Ri(e,t+2));return[Od(e,t+12),Od(e,t+4),Od(e,t+20)]},ip=function(e){var t=0;if(e)for(var r in e){var n=e[r].length;n>65535&&mn(9),t+=n+4}return t},Xm=function(e,t,r,n,i,u,c,s){var h=n.length,a=r.extra,d=s&&s.length,f=ip(a);Dr(e,t,c!=null?33639248:67324752),t+=4,c!=null&&(e[t++]=20,e[t++]=r.os),e[t]=20,t+=2,e[t++]=r.flag<<1|(u<0&&8),e[t++]=i&&8,e[t++]=r.compression&255,e[t++]=r.compression>>8;var g=new Date(r.mtime==null?Date.now():r.mtime),R=g.getFullYear()-1980;if((R<0||R>119)&&mn(10),Dr(e,t,R<<25|g.getMonth()+1<<21|g.getDate()<<16|g.getHours()<<11|g.getMinutes()<<5|g.getSeconds()>>>1),t+=4,u!=-1&&(Dr(e,t,r.crc),Dr(e,t+4,u<0?-u-2:u),Dr(e,t+8,r.size)),Dr(e,t+12,h),Dr(e,t+14,f),t+=16,c!=null&&(Dr(e,t,d),Dr(e,t+6,r.attrs),Dr(e,t+10,c),t+=14),e.set(n,t),t+=h,f)for(var S in a){var m=a[S],T=m.length;Dr(e,t,+S),Dr(e,t+2,T),e.set(m,t+4),t+=4+T}return d&&(e.set(s,t),t+=d),t},j5=function(e,t,r,n,i){Dr(e,t,101010256),Dr(e,t+8,r),Dr(e,t+10,r),Dr(e,t+12,n),Dr(e,t+16,i)};function q5(e,t){t||(t={});var r={},n=[];Lb(e,"",r,t);var i=0,u=0;for(var c in r){var s=r[c],h=s[0],a=s[1],d=a.level==0?0:8,f=np(c),g=f.length,R=a.comment,S=R&&np(R),m=S&&S.length,T=ip(a.extra);g>65535&&mn(11);var O=d?P5(h,a):h,k=O.length,y=k5();y.p(h),n.push(Bb(a,{size:h.length,crc:y.d(),c:O,f,m:S,u:g!=c.length||S&&R.length!=m,o:i,compression:d})),i+=30+g+T+k,u+=76+2*(g+T)+(m||0)+k}for(var I=new dr(u+22),w=i,L=u-i,N=0;N<n.length;++N){var f=n[N];Xm(I,f.o,f,f.f,f.u,f.c.length);var C=30+f.f.length+ip(f.extra);I.set(f.c,f.o+C),Xm(I,i,f,f.f,f.u,f.c.length,f.o,f.m),i+=16+C+(f.m?f.m.length:0)}return j5(I,i,n.length,L,w),I}function M5(e,t){for(var r={},n=e.length-22;ni(e,n)!=101010256;--n)(!n||e.length-n>65558)&&mn(13);var i=Ri(e,n+8);if(!i)return{};var u=ni(e,n+16),c=u==4294967295||i==65535;if(c){var s=ni(e,n-12);c=ni(e,s)==101075792,c&&(i=ni(e,s+32),u=ni(e,s+48))}for(var h=t&&t.filter,a=0;a<i;++a){var d=U5(e,u,c),f=d[0],g=d[1],R=d[2],S=d[3],m=d[4],T=d[5],O=x5(e,T);u=m,(!h||h({name:S,size:g,originalSize:R,compression:f}))&&(f?f==8?r[S]=B5(e.subarray(O,O+g),new dr(R)):mn(14,"unknown compression type "+f):r[S]=Hu(e,O,O+g))}return r}var Xp={bmp:"image/bmp",gif:"image/gif",jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png"},V5=Object.keys(Xp),Jm=new Set(V5),F5=Object.values(Xp),xk=new Set(F5);function $5(e){throw new Error("Statement should be unreachable")}var op="en",ap=!1,sp=!1,Tc=!1,z5=!1,H5=!1,Nb=!1,K5=!1,W5=!1,G5=!1,Pd,up=op,Do,Mo=typeof self=="object"?self:typeof global=="object"?global:{},Bn;typeof Mo.vscode<"u"&&typeof Mo.vscode.process<"u"?Bn=Mo.vscode.process:typeof process<"u"&&(Bn=process);var xb=typeof Bn?.versions?.electron=="string",Ub=xb&&Bn?.type==="renderer",Uk=Ub&&Bn?.sandboxed;typeof navigator=="object"&&!Ub?(Do=navigator.userAgent,ap=Do.indexOf("Windows")>=0,sp=Do.indexOf("Macintosh")>=0,W5=(Do.indexOf("Macintosh")>=0||Do.indexOf("iPad")>=0||Do.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,Tc=Do.indexOf("Linux")>=0,Nb=!0,Pd=navigator.language,up=Pd):typeof Bn=="object"?(ap=Bn.platform==="win32",sp=Bn.platform==="darwin",Tc=Bn.platform==="linux",z5=Tc&&!!Bn.env.SNAP&&!!Bn.env.SNAP_REVISION,K5=xb,G5=!!Bn.env.CI||!!Bn.env.BUILD_ARTIFACTSTAGINGDIRECTORY,Pd=op,up=op,H5=!0):console.error("Unable to resolve platform.");var Db={1:"Mac",2:"Linux",3:"Windows"};function Q5(e){switch(e){case 0:return"Web";case 1:case 2:case 3:return Db[e];default:$5(e)}}var Rc=0;sp?Rc=1:ap?Rc=3:Tc&&(Rc=2);var Dk=Object.values(Db),jk=Q5(Rc),qk=Nb&&typeof Mo.importScripts=="function",ki=Do,Uo=up,Y5;(e=>{function t(){return Uo}e.value=t;function r(){return Uo.length===2?Uo==="en":Uo.length>=3?Uo[0]==="e"&&Uo[1]==="n"&&Uo[2]==="-":!1}e.isDefaultVariant=r;function n(){return Uo==="en"}e.isDefault=n})(Y5||={});var Mk=(()=>{if(typeof Mo.postMessage=="function"&&!Mo.importScripts){let e=[];Mo.addEventListener("message",r=>{if(r.data&&r.data.vscodeScheduleAsyncWork)for(let n=0,i=e.length;n<i;n++){let u=e[n];if(u.id===r.data.vscodeScheduleAsyncWork){e.splice(n,1),u.callback();return}}});let t=0;return r=>{let n=++t;e.push({id:n,callback:r}),Mo.postMessage({vscodeScheduleAsyncWork:n},"*")}}return e=>setTimeout(e)})(),X5=!!(ki&&ki.indexOf("Chrome")>=0),Vk=!!(ki&&ki.indexOf("Firefox")>=0),Fk=!!(!X5&&ki&&ki.indexOf("Safari")>=0),$k=!!(ki&&ki.indexOf("Edg/")>=0),zk=!!(ki&&ki.indexOf("Android")>=0),Zm=Rs(JA()),jb=class{static read(e,t){return e.readFields(jb._readField,{sha256_with_rsa:[],sha256_with_ecdsa:[],signed_header_data:null},t)}static _readField(e,t,r){!t||!r||(e===2?t.sha256_with_rsa?.push(Eu.read(r,r.readVarint()+r.pos)):e===3?t.sha256_with_ecdsa?.push(Eu.read(r,r.readVarint()+r.pos)):e===1e4&&(t.signed_header_data=r.readBytes()))}static write(e,t){if(!(!e||!t)){if(e.sha256_with_rsa)for(var r=0;r<e.sha256_with_rsa.length;r++)t.writeMessage(2,Eu.write,e.sha256_with_rsa[r]);if(e.sha256_with_ecdsa)for(r=0;r<e.sha256_with_ecdsa.length;r++)t.writeMessage(3,Eu.write,e.sha256_with_ecdsa[r]);e.signed_header_data&&t.writeBytesField(1e4,e.signed_header_data)}}},Eu=class{static read(e,t){return e.readFields(Eu._readField,{public_key:null,signature:null},t)}static _readField(e,t,r){!t||!r||(e===1?t.public_key=r.readBytes():e===2&&(t.signature=r.readBytes()))}static write(e,t){!e||!t||(e.public_key&&t.writeBytesField(1,e.public_key),e.signature&&t.writeBytesField(2,e.signature))}},qb=class{static read(e,t){return e.readFields(qb._readField,{crx_id:null},t)}static _readField(e,t,r){!t||!r||e===1&&(t.crx_id=r.readBytes())}static write(e,t){!e||!t||e.crx_id&&t.writeBytesField(1,e.crx_id)}},J5=16,lp=4,Bd=Buffer.from("Cr24","utf8"),Ld=Buffer.from([3,0,0,0]),Z5=Buffer.from("CRX3 SignedData\0","utf8");function e8(e,t){let r=e.binary.public(),n=new Zm.default;qb.write({crx_id:t8(r)},n);let i=Buffer.from(n.finish());n=new Zm.default,jb.write({sha256_with_rsa:[{public_key:r,signature:r8(e.text.private(),i,t)}],signed_header_data:i},n);let u=Buffer.from(n.finish()),c=Bd.length+Ld.length+lp+u.length+t.length,s=Buffer.allocUnsafe(c),h=0;return Bd.copy(s,h),Ld.copy(s,h+=Bd.length),s.writeUInt32LE(u.length,h+=Ld.length),u.copy(s,h+=lp),t.copy(s,h+=u.length),s}function t8(e){return(0,cb.createHash)("sha256").update(e).digest().subarray(0,J5)}function r8(e,t,r){let n=(0,cb.createSign)("RSA-SHA256");n.update(Z5);let i=Buffer.allocUnsafe(lp);return i.writeUInt32LE(t.length,0),n.update(i),n.update(t),n.update(r),n.sign(e)}var n8=(e,t)=>e8(e,t),i8=Rs(ZA()),o8=Rs(n5()),a8=Rs(Tb()),s8={0:"a",1:"b",2:"c",3:"d",4:"e",5:"f",6:"g",7:"h",8:"i",9:"j",a:"k",b:"l",c:"m",d:"n",e:"o",f:"p",g:"q",h:"r",i:"s",j:"t",k:"u",l:"v",m:"w",n:"x",o:"y",p:"z"},u8=e=>e.replace(/[0-9a-f]/gi,t=>s8[t]),l8=e=>u8(i8.encode(o8.hash(a8.default.util.binary.base64.decode(e)),!0).slice(0,32)),c8=(e,t,r)=>`<?xml version='1.0' encoding='UTF-8'?>
<gupdate xmlns='http://www.google.com/update2/response' protocol='2.0'>
  <app appid='${e}'>
    <updatecheck codebase='${t}' version='${r}' />
  </app>
</gupdate>`,h8=e=>`${Bu.Itero}/api/ext/update/${e}`,f8=e=>`${Bu.Itero}/api/ext/install/${e}`,d8=Rs(Tb()),{pki:uo,asn1:ev}=d8.default,p8=(e="")=>new Promise((t,r)=>{try{if(e){let n=uo.privateKeyFromPem(e),i=uo.rsa.setPublicKey(n.n,n.e);t({privateKey:n,publicKey:i})}else uo.rsa.generateKeyPair({bits:2048,workers:2},(n,i)=>{t(i)})}catch(n){r(n)}}),y8=e=>{let t=uo.privateKeyToAsn1(e),r=uo.wrapRsaPrivateKey(t);return uo.privateKeyInfoToPem(r)},g8=async(e="")=>{let{publicKey:t,privateKey:r}=await p8(e);return{text:{public:()=>{let n=uo.publicKeyToPem(t),i=m8(n);return console.log({publicKey:t,untrimmedKey:n,trimmedKey:i}),i},private:()=>y8(r)},binary:{public:()=>Buffer.from(ev.toDer(uo.publicKeyToAsn1(t)).getBytes(),"binary"),private:()=>Buffer.from(ev.toDer(uo.privateKeyToAsn1(r)).getBytes(),"binary")}}},m8=(e,t=!1)=>{let r=t?"PRIVATE":"PUBLIC";return e.replace(`-----BEGIN ${r} KEY-----`,"").replace(`-----END ${r} KEY-----`,"").replace(/\n|\r/g,"").trim()},v8=(e,t)=>{if(!e.icons)throw new Error("No icons found in manifest");let r=Object.keys(e.icons).reduce((h,a)=>Math.max(h,parseInt(a)),0);if(!r)throw new Error("Invalid icon sizes, must be a number");let n=(0,Fc.normalize)(e.icons[r]),i=(0,Fc.extname)(n).slice(1);if(!Jm.has(i))throw new Error("Invalid icon type. Valid types are: "+[...Jm].join(", "));let u=Xp[i];if(!t[n])throw new Error("Could not find extension icon. Please ensure the icon paths are correct in your manifest.json");let c=Buffer.from(t[n]),s=new Cc([c],{type:u});return{path:n,type:u,blob:s}},Nd=/__MSG_(?<tag>.*)__/gm,b8=e=>new Promise((t,r)=>{let n,i=M5(e);if(i["manifest.json"])n=i;else{let c=Object.keys(i),s=c.find(a=>a.endsWith("manifest.json"));if(!s){r(new Error("Cannot locate manifest.json"));return}let h=(0,Fc.dirname)(s);n=c.reduce((a,d)=>{if(d.startsWith(h)){let f=(0,Fc.relative)(h,d);f&&(a[f+(d.endsWith("/")?"/":"")]=i[d])}return a},{})}let u=JSON.parse(Yp(n["manifest.json"]));t({unzip:n,manifestData:u})}),_8=class{manifest;displayManifest;iconData;#e;get submitManifest(){return{...this.manifest,...this.displayManifest}}loadManifest=async e=>{let{unzip:t,manifestData:r}=await b8(e);this.#e=t,this.manifest=r,this.displayManifest=this.getDisplayManifest(),this.iconData=v8(this.manifest,t)};getDisplayManifest(){let e={name:this.manifest.name,version:this.manifest.version,description:this.manifest.description||"",version_name:this.manifest.version_name||""};try{if(this.manifest.default_locale){let t=this.manifest.default_locale,r=JSON.parse(Yp(this.#e[`_locales/${t}/messages.json`]));e.name=e.name.replace(Nd,(n,i)=>r[i].message),e.description=e.description.replace(Nd,(n,i)=>r[i].message),e.version_name=e.version_name.replace(Nd,(n,i)=>r[i].message)}}catch{throw new Error("default_locale is defined, but no locale data is found")}return e}#r;#t;loadKey=async e=>{if(!e)throw new Error("Missing private key?!");this.#r=await g8(e);let t=this.#r.text.public();this.manifest.key=t,this.#t=l8(this.manifest.key),this.manifest.update_url=h8(this.#t)};generateResources=async()=>{if(!this.#r||!this.#t||!this.manifest.key)throw new Error("Key not loaded");this.#e["manifest.json"]=np(JSON.stringify(this.manifest));let e=Buffer.from(q5(this.#e)),t=n8(this.#r,Buffer.from(e));return{icon:this.iconData.blob,crx:new Cc([t],{type:"application/x-chrome-extension"}),zip:new Cc([e],{type:"application/zip"}),xml:new Cc([c8(this.#t,f8(this.#t),this.manifest.version)],{type:"text/xml"})}}},Mb=typeof globalThis.process<"u"?globalThis.process.argv:[],w8=()=>typeof globalThis.process<"u"?globalThis.process.env:{},E8=new Set(Mb),Vb=e=>E8.has(e),Hk=Mb.filter(e=>e.startsWith("--")&&e.includes("=")).map(e=>e.split("=")).reduce((e,[t,r])=>(e[t]=r,e),{}),Kk=Vb("--dry-run"),Fb=()=>Vb("--verbose")||w8().VERBOSE==="true",Wk=Fb(),S8=(e="",...t)=>console.log(e.padEnd(9),"|",...t),C8=0,T8=(...e)=>Fb()&&S8(`\u{1F7E1} ${C8++}`,...e),R8=async(e,t)=>{let r=Buffer.from(await t.arrayBuffer());return Qd.put(e,{headers:{"Content-Type":t.type},body:r})},I8={privateKey:"",token:"",entityId:"",extensionId:""},Jp=Rb(I8,e=>`Missing ${e}`),A8=Object.keys(Jp),k8=class{options={};constructor(e){for(let t of A8){if(!e[t])throw new Error(Jp[t]);this.options[t]=e[t]}}async submit({filePath:e=""}){let t=await(0,KI.readFile)(e),r=new _8;await r.loadManifest(t),await r.loadKey(this.options.privateKey);let{version:n,...i}=await Qd.post(`${Bu.Itero}/api/submit`,{json:{token:this.options.token,entityId:this.options.entityId,manifest:r.submitManifest,iconContentType:r.iconData.type}}).json();T8(`New version: ${n}`),r.manifest.version=n;let u=await r.generateResources(),c={xml:i.uploadXmlUrl,crx:i.crxFileUrl,zip:i.zipUrl,icon:i.iconUrl};await Promise.all(Object.entries(c).map(([s,h])=>R8(h,u[s]))),await Qd.put(`${Bu.Itero}/api/submit`,{json:{token:this.options.token,entityId:this.options.entityId,extensionId:this.options.extensionId}})}},Nu="itero",O8=Zc(Nu);async function P8({zip:e,dryRun:t,...r}){let n=new k8({...r});if(O8("Updating extension to Itero TestBed"),t)return!0;try{return await n.submit({filePath:e}),Jc({market:Nu,zip:e}),!0}catch(i){throw eh(i,Nu)}}async function B8(e){return e.zip=Mu(e),e.verbose&&Vu(Nu),Fu({market:Nu,options:e,errorMap:Jp}),P8(e)}});var ur=ou(Hf()),sn=ou(zb()),Ku=e=>`${e.padEnd(9)} |`,Kb=e=>e.zip||e.file,Hb=e=>!!Kb(e);async function L8(){try{(0,ur.info)("\u{1F7E3} Plasmo Browser Platform Publish v3");let e=JSON.parse((0,ur.getInput)("keys",{required:!0})),t=(0,ur.getInput)("file")||(0,ur.getInput)("zip")||(0,ur.getInput)("artifact"),r=(0,ur.getInput)("version-file"),n=(0,ur.getInput)("notes")||(0,ur.getInput)("edge-notes"),i=!!(0,ur.getInput)("verbose");i&&(console.log=ur.info);let u=Object.keys(e).filter(a=>sn.supportedBrowserSet.has(a));if(u.length===0)throw new Error("No supported browser found");for(let a of u){let d=(0,ur.getInput)(`${a}-file`),f=Kb(e[a]);d?e[a].zip=d:f?e[a].zip=f:t?e[a].zip=t:(0,ur.warning)(`${Ku("\u{1F7E1} SKIP")} No artifact available to submit for ${a}`),i&&(e[a].verbose=i),r&&(e[a].versionFile=r)}if(!u.some(a=>Hb(e[a])))throw new Error("No artifact found for deployment");if(e.edge&&n&&(e.edge.notes=n),process.env.NODE_ENV==="test"){(0,ur.debug)(JSON.stringify({artifact:t,versionFile:r,verbose:i})),(0,ur.debug)(u.join(","));return}let s=u.map(a=>{if(!Hb(e[a]))return!1;switch((0,ur.info)(`${Ku("\u{1F7E1} QUEUE")} Prepare for ${a} submission`),a){case sn.BrowserName.Chrome:return(0,sn.submitChrome)(e[a]);case sn.BrowserName.Firefox:return(0,sn.submitFirefox)(e[a]);case sn.BrowserName.Edge:return(0,sn.submitEdge)(e[a]);case sn.BrowserName.Itero:return(0,sn.submitItero)(e[a])}});(await Promise.allSettled(s)).forEach((a,d)=>{a.status==="rejected"?(0,ur.setFailed)(`${Ku("\u{1F534} ERROR")} ${a.reason}`):a.value&&(0,ur.info)(`${Ku("\u{1F7E2} DONE")} ${u[d]} submission successful`)})}catch(e){e instanceof Error&&(0,ur.setFailed)(`${Ku("\u{1F534} ERROR")} ${e.message}`)}}L8();
/*! Bundled license information:

node-domexception/index.js:
  (*! node-domexception. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

lodash/lodash.js:
  (**
   * @license
   * Lodash <https://lodash.com/>
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)

web-streams-polyfill/dist/ponyfill.mjs:
  (**
   * @license
   * web-streams-polyfill v4.0.0-beta.3
   * Copyright 2021 Mattias Buelens, Diwank Singh Tomer and other contributors.
   * This code is released under the MIT license.
   * SPDX-License-Identifier: MIT
   *)

formdata-node/lib/blobHelpers.js:
  (*! Based on fetch-blob. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> & David Frank *)

formdata-node/lib/Blob.js:
  (*! Based on fetch-blob. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> & David Frank *)

@plasmohq/itero-testbed-api/dist/index.js:
  (*! Bundled license information:
  
  ieee754/index.js:
    (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)
  
  fetch-blob/index.js:
    (*! fetch-blob. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> *)
  *)
*/
