"use strict";var FC=Object.create;var Fl=Object.defineProperty;var VC=Object.getOwnPropertyDescriptor;var zC=Object.getOwnPropertyNames;var $C=Object.getPrototypeOf,HC=Object.prototype.hasOwnProperty;var rn=(e,n)=>()=>(e&&(n=e(e=0)),n);var On=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),KC=(e,n)=>{for(var t in n)Fl(e,t,{get:n[t],enumerable:!0})},zy=(e,n,t,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let i of zC(n))!HC.call(e,i)&&i!==t&&Fl(e,i,{get:()=>n[i],enumerable:!(r=VC(n,i))||r.enumerable});return e};var uu=(e,n,t)=>(t=e!=null?FC($C(e)):{},zy(n||!e||!e.__esModule?Fl(t,"default",{value:e,enumerable:!0}):t,e)),WC=e=>zy(Fl({},"__esModule",{value:!0}),e);var $y=(e,n,t)=>new Promise((r,i)=>{var s=c=>{try{h(t.next(c))}catch(a){i(a)}},u=c=>{try{h(t.throw(c))}catch(a){i(a)}},h=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,u);h((t=t.apply(e,n)).next())});var Vl=On(os=>{"use strict";Object.defineProperty(os,"__esModule",{value:!0});os.toCommandProperties=os.toCommandValue=void 0;function GC(e){return e==null?"":typeof e=="string"||e instanceof String?e:JSON.stringify(e)}os.toCommandValue=GC;function QC(e){return Object.keys(e).length?{title:e.title,file:e.file,line:e.startLine,endLine:e.endLine,col:e.startColumn,endColumn:e.endColumn}:{}}os.toCommandProperties=QC});var Gy=On(zn=>{"use strict";var YC=zn&&zn.__createBinding||(Object.create?function(e,n,t,r){r===void 0&&(r=t),Object.defineProperty(e,r,{enumerable:!0,get:function(){return n[t]}})}:function(e,n,t,r){r===void 0&&(r=t),e[r]=n[t]}),XC=zn&&zn.__setModuleDefault||(Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n}),JC=zn&&zn.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(e!=null)for(var t in e)t!=="default"&&Object.hasOwnProperty.call(e,t)&&YC(n,e,t);return XC(n,e),n};Object.defineProperty(zn,"__esModule",{value:!0});zn.issue=zn.issueCommand=void 0;var ZC=JC(require("os")),Ky=Vl();function Wy(e,n,t){let r=new Df(e,n,t);process.stdout.write(r.toString()+ZC.EOL)}zn.issueCommand=Wy;function eT(e,n=""){Wy(e,{},n)}zn.issue=eT;var Hy="::",Df=class{constructor(n,t,r){n||(n="missing.command"),this.command=n,this.properties=t,this.message=r}toString(){let n=Hy+this.command;if(this.properties&&Object.keys(this.properties).length>0){n+=" ";let t=!0;for(let r in this.properties)if(this.properties.hasOwnProperty(r)){let i=this.properties[r];i&&(t?t=!1:n+=",",n+=`${r}=${rT(i)}`)}}return n+=`${Hy}${tT(this.message)}`,n}};function tT(e){return Ky.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function rT(e){return Ky.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}});function lu(){return zl>$l.length-16&&(Qy.default.randomFillSync($l),zl=0),$l.slice(zl,zl+=16)}var Qy,$l,zl,jf=rn(()=>{Qy=uu(require("crypto")),$l=new Uint8Array(256),zl=$l.length});var Yy,Xy=rn(()=>{Yy=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function nT(e){return typeof e=="string"&&Yy.test(e)}var Po,cu=rn(()=>{Xy();Po=nT});function iT(e,n=0){let t=(xr[e[n+0]]+xr[e[n+1]]+xr[e[n+2]]+xr[e[n+3]]+"-"+xr[e[n+4]]+xr[e[n+5]]+"-"+xr[e[n+6]]+xr[e[n+7]]+"-"+xr[e[n+8]]+xr[e[n+9]]+"-"+xr[e[n+10]]+xr[e[n+11]]+xr[e[n+12]]+xr[e[n+13]]+xr[e[n+14]]+xr[e[n+15]]).toLowerCase();if(!Po(t))throw TypeError("Stringified UUID is invalid");return t}var xr,Lo,hu=rn(()=>{cu();xr=[];for(let e=0;e<256;++e)xr.push((e+256).toString(16).substr(1));Lo=iT});function oT(e,n,t){let r=n&&t||0,i=n||new Array(16);e=e||{};let s=e.node||Jy,u=e.clockseq!==void 0?e.clockseq:qf;if(s==null||u==null){let y=e.random||(e.rng||lu)();s==null&&(s=Jy=[y[0]|1,y[1],y[2],y[3],y[4],y[5]]),u==null&&(u=qf=(y[6]<<8|y[7])&16383)}let h=e.msecs!==void 0?e.msecs:Date.now(),c=e.nsecs!==void 0?e.nsecs:Ff+1,a=h-Mf+(c-Ff)/1e4;if(a<0&&e.clockseq===void 0&&(u=u+1&16383),(a<0||h>Mf)&&e.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Mf=h,Ff=c,qf=u,h+=122192928e5;let d=((h&268435455)*1e4+c)%4294967296;i[r++]=d>>>24&255,i[r++]=d>>>16&255,i[r++]=d>>>8&255,i[r++]=d&255;let f=h/4294967296*1e4&268435455;i[r++]=f>>>8&255,i[r++]=f&255,i[r++]=f>>>24&15|16,i[r++]=f>>>16&255,i[r++]=u>>>8|128,i[r++]=u&255;for(let y=0;y<6;++y)i[r+y]=s[y];return n||Lo(i)}var Jy,qf,Mf,Ff,Zy,eg=rn(()=>{jf();hu();Mf=0,Ff=0;Zy=oT});function aT(e){if(!Po(e))throw TypeError("Invalid UUID");let n,t=new Uint8Array(16);return t[0]=(n=parseInt(e.slice(0,8),16))>>>24,t[1]=n>>>16&255,t[2]=n>>>8&255,t[3]=n&255,t[4]=(n=parseInt(e.slice(9,13),16))>>>8,t[5]=n&255,t[6]=(n=parseInt(e.slice(14,18),16))>>>8,t[7]=n&255,t[8]=(n=parseInt(e.slice(19,23),16))>>>8,t[9]=n&255,t[10]=(n=parseInt(e.slice(24,36),16))/1099511627776&255,t[11]=n/4294967296&255,t[12]=n>>>24&255,t[13]=n>>>16&255,t[14]=n>>>8&255,t[15]=n&255,t}var Hl,Vf=rn(()=>{cu();Hl=aT});function sT(e){e=unescape(encodeURIComponent(e));let n=[];for(let t=0;t<e.length;++t)n.push(e.charCodeAt(t));return n}function Kl(e,n,t){function r(i,s,u,h){if(typeof i=="string"&&(i=sT(i)),typeof s=="string"&&(s=Hl(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let c=new Uint8Array(16+i.length);if(c.set(s),c.set(i,s.length),c=t(c),c[6]=c[6]&15|n,c[8]=c[8]&63|128,u){h=h||0;for(let a=0;a<16;++a)u[h+a]=c[a];return u}return Lo(c)}try{r.name=e}catch{}return r.DNS=uT,r.URL=lT,r}var uT,lT,zf=rn(()=>{hu();Vf();uT="6ba7b810-9dad-11d1-80b4-00c04fd430c8",lT="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function cT(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),tg.default.createHash("md5").update(e).digest()}var tg,rg,ng=rn(()=>{tg=uu(require("crypto"));rg=cT});var hT,ig,og=rn(()=>{zf();ng();hT=Kl("v3",48,rg),ig=hT});function fT(e,n,t){e=e||{};let r=e.random||(e.rng||lu)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,n){t=t||0;for(let i=0;i<16;++i)n[t+i]=r[i];return n}return Lo(r)}var ag,sg=rn(()=>{jf();hu();ag=fT});function dT(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),ug.default.createHash("sha1").update(e).digest()}var ug,lg,cg=rn(()=>{ug=uu(require("crypto"));lg=dT});var pT,hg,fg=rn(()=>{zf();cg();pT=Kl("v5",80,lg),hg=pT});var dg,pg=rn(()=>{dg="00000000-0000-0000-0000-000000000000"});function yT(e){if(!Po(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}var yg,gg=rn(()=>{cu();yg=yT});var mg={};KC(mg,{NIL:()=>dg,parse:()=>Hl,stringify:()=>Lo,v1:()=>Zy,v3:()=>ig,v4:()=>ag,v5:()=>hg,validate:()=>Po,version:()=>yg});var vg=rn(()=>{eg();og();sg();fg();pg();gg();cu();hu();Vf()});var Eg=On($n=>{"use strict";var gT=$n&&$n.__createBinding||(Object.create?function(e,n,t,r){r===void 0&&(r=t),Object.defineProperty(e,r,{enumerable:!0,get:function(){return n[t]}})}:function(e,n,t,r){r===void 0&&(r=t),e[r]=n[t]}),mT=$n&&$n.__setModuleDefault||(Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n}),_g=$n&&$n.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(e!=null)for(var t in e)t!=="default"&&Object.hasOwnProperty.call(e,t)&&gT(n,e,t);return mT(n,e),n};Object.defineProperty($n,"__esModule",{value:!0});$n.prepareKeyValueMessage=$n.issueFileCommand=void 0;var bg=_g(require("fs")),$f=_g(require("os")),vT=(vg(),WC(mg)),wg=Vl();function bT(e,n){let t=process.env[`GITHUB_${e}`];if(!t)throw new Error(`Unable to find environment variable for file command ${e}`);if(!bg.existsSync(t))throw new Error(`Missing file at path: ${t}`);bg.appendFileSync(t,`${wg.toCommandValue(n)}${$f.EOL}`,{encoding:"utf8"})}$n.issueFileCommand=bT;function _T(e,n){let t=`ghadelimiter_${vT.v4()}`,r=wg.toCommandValue(n);if(e.includes(t))throw new Error(`Unexpected input: name should not contain the delimiter "${t}"`);if(r.includes(t))throw new Error(`Unexpected input: value should not contain the delimiter "${t}"`);return`${e}<<${t}${$f.EOL}${r}${$f.EOL}${t}`}$n.prepareKeyValueMessage=_T});var Cg=On(as=>{"use strict";Object.defineProperty(as,"__esModule",{value:!0});as.checkBypass=as.getProxyUrl=void 0;function wT(e){let n=e.protocol==="https:";if(Sg(e))return;let t=(()=>n?process.env.https_proxy||process.env.HTTPS_PROXY:process.env.http_proxy||process.env.HTTP_PROXY)();if(t)return new URL(t)}as.getProxyUrl=wT;function Sg(e){if(!e.hostname)return!1;let n=process.env.no_proxy||process.env.NO_PROXY||"";if(!n)return!1;let t;e.port?t=Number(e.port):e.protocol==="http:"?t=80:e.protocol==="https:"&&(t=443);let r=[e.hostname.toUpperCase()];typeof t=="number"&&r.push(`${r[0]}:${t}`);for(let i of n.split(",").map(s=>s.trim().toUpperCase()).filter(s=>s))if(r.some(s=>s===i))return!0;return!1}as.checkBypass=Sg});var Ig=On(ss=>{"use strict";var Ik=require("net"),ET=require("tls"),Hf=require("http"),Tg=require("https"),ST=require("events"),kk=require("assert"),CT=require("util");ss.httpOverHttp=TT;ss.httpsOverHttp=RT;ss.httpOverHttps=AT;ss.httpsOverHttps=IT;function TT(e){var n=new eo(e);return n.request=Hf.request,n}function RT(e){var n=new eo(e);return n.request=Hf.request,n.createSocket=Rg,n.defaultPort=443,n}function AT(e){var n=new eo(e);return n.request=Tg.request,n}function IT(e){var n=new eo(e);return n.request=Tg.request,n.createSocket=Rg,n.defaultPort=443,n}function eo(e){var n=this;n.options=e||{},n.proxyOptions=n.options.proxy||{},n.maxSockets=n.options.maxSockets||Hf.Agent.defaultMaxSockets,n.requests=[],n.sockets=[],n.on("free",function(r,i,s,u){for(var h=Ag(i,s,u),c=0,a=n.requests.length;c<a;++c){var d=n.requests[c];if(d.host===h.host&&d.port===h.port){n.requests.splice(c,1),d.request.onSocket(r);return}}r.destroy(),n.removeSocket(r)})}CT.inherits(eo,ST.EventEmitter);eo.prototype.addRequest=function(n,t,r,i){var s=this,u=Kf({request:n},s.options,Ag(t,r,i));if(s.sockets.length>=this.maxSockets){s.requests.push(u);return}s.createSocket(u,function(h){h.on("free",c),h.on("close",a),h.on("agentRemove",a),n.onSocket(h);function c(){s.emit("free",h,u)}function a(d){s.removeSocket(h),h.removeListener("free",c),h.removeListener("close",a),h.removeListener("agentRemove",a)}})};eo.prototype.createSocket=function(n,t){var r=this,i={};r.sockets.push(i);var s=Kf({},r.proxyOptions,{method:"CONNECT",path:n.host+":"+n.port,agent:!1,headers:{host:n.host+":"+n.port}});n.localAddress&&(s.localAddress=n.localAddress),s.proxyAuth&&(s.headers=s.headers||{},s.headers["Proxy-Authorization"]="Basic "+new Buffer(s.proxyAuth).toString("base64")),No("making CONNECT request");var u=r.request(s);u.useChunkedEncodingByDefault=!1,u.once("response",h),u.once("upgrade",c),u.once("connect",a),u.once("error",d),u.end();function h(f){f.upgrade=!0}function c(f,y,A){process.nextTick(function(){a(f,y,A)})}function a(f,y,A){if(u.removeAllListeners(),y.removeAllListeners(),f.statusCode!==200){No("tunneling socket could not be established, statusCode=%d",f.statusCode),y.destroy();var T=new Error("tunneling socket could not be established, statusCode="+f.statusCode);T.code="ECONNRESET",n.request.emit("error",T),r.removeSocket(i);return}if(A.length>0){No("got illegal response body from proxy"),y.destroy();var T=new Error("got illegal response body from proxy");T.code="ECONNRESET",n.request.emit("error",T),r.removeSocket(i);return}return No("tunneling connection has established"),r.sockets[r.sockets.indexOf(i)]=y,t(y)}function d(f){u.removeAllListeners(),No(`tunneling socket could not be established, cause=%s
`,f.message,f.stack);var y=new Error("tunneling socket could not be established, cause="+f.message);y.code="ECONNRESET",n.request.emit("error",y),r.removeSocket(i)}};eo.prototype.removeSocket=function(n){var t=this.sockets.indexOf(n);if(t!==-1){this.sockets.splice(t,1);var r=this.requests.shift();r&&this.createSocket(r,function(i){r.request.onSocket(i)})}};function Rg(e,n){var t=this;eo.prototype.createSocket.call(t,e,function(r){var i=e.request.getHeader("host"),s=Kf({},t.options,{socket:r,servername:i?i.replace(/:.*$/,""):e.host}),u=ET.connect(0,s);t.sockets[t.sockets.indexOf(r)]=u,n(u)})}function Ag(e,n,t){return typeof e=="string"?{host:e,port:n,localAddress:t}:e}function Kf(e){for(var n=1,t=arguments.length;n<t;++n){var r=arguments[n];if(typeof r=="object")for(var i=Object.keys(r),s=0,u=i.length;s<u;++s){var h=i[s];r[h]!==void 0&&(e[h]=r[h])}}return e}var No;process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)?No=function(){var e=Array.prototype.slice.call(arguments);typeof e[0]=="string"?e[0]="TUNNEL: "+e[0]:e.unshift("TUNNEL:"),console.error.apply(console,e)}:No=function(){};ss.debug=No});var Bg=On((Ok,kg)=>{kg.exports=Ig()});var Pg=On(Ut=>{"use strict";var kT=Ut&&Ut.__createBinding||(Object.create?function(e,n,t,r){r===void 0&&(r=t),Object.defineProperty(e,r,{enumerable:!0,get:function(){return n[t]}})}:function(e,n,t,r){r===void 0&&(r=t),e[r]=n[t]}),BT=Ut&&Ut.__setModuleDefault||(Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n}),Xl=Ut&&Ut.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(e!=null)for(var t in e)t!=="default"&&Object.hasOwnProperty.call(e,t)&&kT(n,e,t);return BT(n,e),n},wr=Ut&&Ut.__awaiter||function(e,n,t,r){function i(s){return s instanceof t?s:new t(function(u){u(s)})}return new(t||(t=Promise))(function(s,u){function h(d){try{a(r.next(d))}catch(f){u(f)}}function c(d){try{a(r.throw(d))}catch(f){u(f)}}function a(d){d.done?s(d.value):i(d.value).then(h,c)}a((r=r.apply(e,n||[])).next())})};Object.defineProperty(Ut,"__esModule",{value:!0});Ut.HttpClient=Ut.isHttps=Ut.HttpClientResponse=Ut.HttpClientError=Ut.getProxyUrl=Ut.MediaTypes=Ut.Headers=Ut.HttpCodes=void 0;var Wl=Xl(require("http")),Wf=Xl(require("https")),Og=Xl(Cg()),Gl=Xl(Bg()),Zn;(function(e){e[e.OK=200]="OK",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.ResourceMoved=302]="ResourceMoved",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.SwitchProxy=306]="SwitchProxy",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.TooManyRequests=429]="TooManyRequests",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout"})(Zn=Ut.HttpCodes||(Ut.HttpCodes={}));var nn;(function(e){e.Accept="accept",e.ContentType="content-type"})(nn=Ut.Headers||(Ut.Headers={}));var Uo;(function(e){e.ApplicationJson="application/json"})(Uo=Ut.MediaTypes||(Ut.MediaTypes={}));function OT(e){let n=Og.getProxyUrl(new URL(e));return n?n.href:""}Ut.getProxyUrl=OT;var PT=[Zn.MovedPermanently,Zn.ResourceMoved,Zn.SeeOther,Zn.TemporaryRedirect,Zn.PermanentRedirect],LT=[Zn.BadGateway,Zn.ServiceUnavailable,Zn.GatewayTimeout],NT=["OPTIONS","GET","DELETE","HEAD"],UT=10,xT=5,us=class extends Error{constructor(n,t){super(n),this.name="HttpClientError",this.statusCode=t,Object.setPrototypeOf(this,us.prototype)}};Ut.HttpClientError=us;var Yl=class{constructor(n){this.message=n}readBody(){return wr(this,void 0,void 0,function*(){return new Promise(n=>wr(this,void 0,void 0,function*(){let t=Buffer.alloc(0);this.message.on("data",r=>{t=Buffer.concat([t,r])}),this.message.on("end",()=>{n(t.toString())})}))})}};Ut.HttpClientResponse=Yl;function DT(e){return new URL(e).protocol==="https:"}Ut.isHttps=DT;var Gf=class{constructor(n,t,r){this._ignoreSslError=!1,this._allowRedirects=!0,this._allowRedirectDowngrade=!1,this._maxRedirects=50,this._allowRetries=!1,this._maxRetries=1,this._keepAlive=!1,this._disposed=!1,this.userAgent=n,this.handlers=t||[],this.requestOptions=r,r&&(r.ignoreSslError!=null&&(this._ignoreSslError=r.ignoreSslError),this._socketTimeout=r.socketTimeout,r.allowRedirects!=null&&(this._allowRedirects=r.allowRedirects),r.allowRedirectDowngrade!=null&&(this._allowRedirectDowngrade=r.allowRedirectDowngrade),r.maxRedirects!=null&&(this._maxRedirects=Math.max(r.maxRedirects,0)),r.keepAlive!=null&&(this._keepAlive=r.keepAlive),r.allowRetries!=null&&(this._allowRetries=r.allowRetries),r.maxRetries!=null&&(this._maxRetries=r.maxRetries))}options(n,t){return wr(this,void 0,void 0,function*(){return this.request("OPTIONS",n,null,t||{})})}get(n,t){return wr(this,void 0,void 0,function*(){return this.request("GET",n,null,t||{})})}del(n,t){return wr(this,void 0,void 0,function*(){return this.request("DELETE",n,null,t||{})})}post(n,t,r){return wr(this,void 0,void 0,function*(){return this.request("POST",n,t,r||{})})}patch(n,t,r){return wr(this,void 0,void 0,function*(){return this.request("PATCH",n,t,r||{})})}put(n,t,r){return wr(this,void 0,void 0,function*(){return this.request("PUT",n,t,r||{})})}head(n,t){return wr(this,void 0,void 0,function*(){return this.request("HEAD",n,null,t||{})})}sendStream(n,t,r,i){return wr(this,void 0,void 0,function*(){return this.request(n,t,r,i)})}getJson(n,t={}){return wr(this,void 0,void 0,function*(){t[nn.Accept]=this._getExistingOrDefaultHeader(t,nn.Accept,Uo.ApplicationJson);let r=yield this.get(n,t);return this._processResponse(r,this.requestOptions)})}postJson(n,t,r={}){return wr(this,void 0,void 0,function*(){let i=JSON.stringify(t,null,2);r[nn.Accept]=this._getExistingOrDefaultHeader(r,nn.Accept,Uo.ApplicationJson),r[nn.ContentType]=this._getExistingOrDefaultHeader(r,nn.ContentType,Uo.ApplicationJson);let s=yield this.post(n,i,r);return this._processResponse(s,this.requestOptions)})}putJson(n,t,r={}){return wr(this,void 0,void 0,function*(){let i=JSON.stringify(t,null,2);r[nn.Accept]=this._getExistingOrDefaultHeader(r,nn.Accept,Uo.ApplicationJson),r[nn.ContentType]=this._getExistingOrDefaultHeader(r,nn.ContentType,Uo.ApplicationJson);let s=yield this.put(n,i,r);return this._processResponse(s,this.requestOptions)})}patchJson(n,t,r={}){return wr(this,void 0,void 0,function*(){let i=JSON.stringify(t,null,2);r[nn.Accept]=this._getExistingOrDefaultHeader(r,nn.Accept,Uo.ApplicationJson),r[nn.ContentType]=this._getExistingOrDefaultHeader(r,nn.ContentType,Uo.ApplicationJson);let s=yield this.patch(n,i,r);return this._processResponse(s,this.requestOptions)})}request(n,t,r,i){return wr(this,void 0,void 0,function*(){if(this._disposed)throw new Error("Client has already been disposed.");let s=new URL(t),u=this._prepareRequest(n,s,i),h=this._allowRetries&&NT.includes(n)?this._maxRetries+1:1,c=0,a;do{if(a=yield this.requestRaw(u,r),a&&a.message&&a.message.statusCode===Zn.Unauthorized){let f;for(let y of this.handlers)if(y.canHandleAuthentication(a)){f=y;break}return f?f.handleAuthentication(this,u,r):a}let d=this._maxRedirects;for(;a.message.statusCode&&PT.includes(a.message.statusCode)&&this._allowRedirects&&d>0;){let f=a.message.headers.location;if(!f)break;let y=new URL(f);if(s.protocol==="https:"&&s.protocol!==y.protocol&&!this._allowRedirectDowngrade)throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.");if(yield a.readBody(),y.hostname!==s.hostname)for(let A in i)A.toLowerCase()==="authorization"&&delete i[A];u=this._prepareRequest(n,y,i),a=yield this.requestRaw(u,r),d--}if(!a.message.statusCode||!LT.includes(a.message.statusCode))return a;c+=1,c<h&&(yield a.readBody(),yield this._performExponentialBackoff(c))}while(c<h);return a})}dispose(){this._agent&&this._agent.destroy(),this._disposed=!0}requestRaw(n,t){return wr(this,void 0,void 0,function*(){return new Promise((r,i)=>{function s(u,h){u?i(u):h?r(h):i(new Error("Unknown error"))}this.requestRawWithCallback(n,t,s)})})}requestRawWithCallback(n,t,r){typeof t=="string"&&(n.options.headers||(n.options.headers={}),n.options.headers["Content-Length"]=Buffer.byteLength(t,"utf8"));let i=!1;function s(c,a){i||(i=!0,r(c,a))}let u=n.httpModule.request(n.options,c=>{let a=new Yl(c);s(void 0,a)}),h;u.on("socket",c=>{h=c}),u.setTimeout(this._socketTimeout||3*6e4,()=>{h&&h.end(),s(new Error(`Request timeout: ${n.options.path}`))}),u.on("error",function(c){s(c)}),t&&typeof t=="string"&&u.write(t,"utf8"),t&&typeof t!="string"?(t.on("close",function(){u.end()}),t.pipe(u)):u.end()}getAgent(n){let t=new URL(n);return this._getAgent(t)}_prepareRequest(n,t,r){let i={};i.parsedUrl=t;let s=i.parsedUrl.protocol==="https:";i.httpModule=s?Wf:Wl;let u=s?443:80;if(i.options={},i.options.host=i.parsedUrl.hostname,i.options.port=i.parsedUrl.port?parseInt(i.parsedUrl.port):u,i.options.path=(i.parsedUrl.pathname||"")+(i.parsedUrl.search||""),i.options.method=n,i.options.headers=this._mergeHeaders(r),this.userAgent!=null&&(i.options.headers["user-agent"]=this.userAgent),i.options.agent=this._getAgent(i.parsedUrl),this.handlers)for(let h of this.handlers)h.prepareRequest(i.options);return i}_mergeHeaders(n){return this.requestOptions&&this.requestOptions.headers?Object.assign({},Ql(this.requestOptions.headers),Ql(n||{})):Ql(n||{})}_getExistingOrDefaultHeader(n,t,r){let i;return this.requestOptions&&this.requestOptions.headers&&(i=Ql(this.requestOptions.headers)[t]),n[t]||i||r}_getAgent(n){let t,r=Og.getProxyUrl(n),i=r&&r.hostname;if(this._keepAlive&&i&&(t=this._proxyAgent),this._keepAlive&&!i&&(t=this._agent),t)return t;let s=n.protocol==="https:",u=100;if(this.requestOptions&&(u=this.requestOptions.maxSockets||Wl.globalAgent.maxSockets),r&&r.hostname){let h={maxSockets:u,keepAlive:this._keepAlive,proxy:Object.assign(Object.assign({},(r.username||r.password)&&{proxyAuth:`${r.username}:${r.password}`}),{host:r.hostname,port:r.port})},c,a=r.protocol==="https:";s?c=a?Gl.httpsOverHttps:Gl.httpsOverHttp:c=a?Gl.httpOverHttps:Gl.httpOverHttp,t=c(h),this._proxyAgent=t}if(this._keepAlive&&!t){let h={keepAlive:this._keepAlive,maxSockets:u};t=s?new Wf.Agent(h):new Wl.Agent(h),this._agent=t}return t||(t=s?Wf.globalAgent:Wl.globalAgent),s&&this._ignoreSslError&&(t.options=Object.assign(t.options||{},{rejectUnauthorized:!1})),t}_performExponentialBackoff(n){return wr(this,void 0,void 0,function*(){n=Math.min(UT,n);let t=xT*Math.pow(2,n);return new Promise(r=>setTimeout(()=>r(),t))})}_processResponse(n,t){return wr(this,void 0,void 0,function*(){return new Promise((r,i)=>wr(this,void 0,void 0,function*(){let s=n.message.statusCode||0,u={statusCode:s,result:null,headers:{}};s===Zn.NotFound&&r(u);function h(d,f){if(typeof f=="string"){let y=new Date(f);if(!isNaN(y.valueOf()))return y}return f}let c,a;try{a=yield n.readBody(),a&&a.length>0&&(t&&t.deserializeDates?c=JSON.parse(a,h):c=JSON.parse(a),u.result=c),u.headers=n.message.headers}catch{}if(s>299){let d;c&&c.message?d=c.message:a&&a.length>0?d=a:d=`Failed request: (${s})`;let f=new us(d,s);f.result=u.result,i(f)}else r(u)}))})}};Ut.HttpClient=Gf;var Ql=e=>Object.keys(e).reduce((n,t)=>(n[t.toLowerCase()]=e[t],n),{})});var Lg=On(wi=>{"use strict";var Jf=wi&&wi.__awaiter||function(e,n,t,r){function i(s){return s instanceof t?s:new t(function(u){u(s)})}return new(t||(t=Promise))(function(s,u){function h(d){try{a(r.next(d))}catch(f){u(f)}}function c(d){try{a(r.throw(d))}catch(f){u(f)}}function a(d){d.done?s(d.value):i(d.value).then(h,c)}a((r=r.apply(e,n||[])).next())})};Object.defineProperty(wi,"__esModule",{value:!0});wi.PersonalAccessTokenCredentialHandler=wi.BearerCredentialHandler=wi.BasicCredentialHandler=void 0;var Qf=class{constructor(n,t){this.username=n,this.password=t}prepareRequest(n){if(!n.headers)throw Error("The request has no headers");n.headers.Authorization=`Basic ${Buffer.from(`${this.username}:${this.password}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return Jf(this,void 0,void 0,function*(){throw new Error("not implemented")})}};wi.BasicCredentialHandler=Qf;var Yf=class{constructor(n){this.token=n}prepareRequest(n){if(!n.headers)throw Error("The request has no headers");n.headers.Authorization=`Bearer ${this.token}`}canHandleAuthentication(){return!1}handleAuthentication(){return Jf(this,void 0,void 0,function*(){throw new Error("not implemented")})}};wi.BearerCredentialHandler=Yf;var Xf=class{constructor(n){this.token=n}prepareRequest(n){if(!n.headers)throw Error("The request has no headers");n.headers.Authorization=`Basic ${Buffer.from(`PAT:${this.token}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return Jf(this,void 0,void 0,function*(){throw new Error("not implemented")})}};wi.PersonalAccessTokenCredentialHandler=Xf});var xg=On(ls=>{"use strict";var Ng=ls&&ls.__awaiter||function(e,n,t,r){function i(s){return s instanceof t?s:new t(function(u){u(s)})}return new(t||(t=Promise))(function(s,u){function h(d){try{a(r.next(d))}catch(f){u(f)}}function c(d){try{a(r.throw(d))}catch(f){u(f)}}function a(d){d.done?s(d.value):i(d.value).then(h,c)}a((r=r.apply(e,n||[])).next())})};Object.defineProperty(ls,"__esModule",{value:!0});ls.OidcClient=void 0;var jT=Pg(),qT=Lg(),Ug=Zf(),xo=class{static createHttpClient(n=!0,t=10){let r={allowRetries:n,maxRetries:t};return new jT.HttpClient("actions/oidc-client",[new qT.BearerCredentialHandler(xo.getRequestToken())],r)}static getRequestToken(){let n=process.env.ACTIONS_ID_TOKEN_REQUEST_TOKEN;if(!n)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable");return n}static getIDTokenUrl(){let n=process.env.ACTIONS_ID_TOKEN_REQUEST_URL;if(!n)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable");return n}static getCall(n){var t;return Ng(this,void 0,void 0,function*(){let s=(t=(yield xo.createHttpClient().getJson(n).catch(u=>{throw new Error(`Failed to get ID Token. 
 
        Error Code : ${u.statusCode}
 
        Error Message: ${u.result.message}`)})).result)===null||t===void 0?void 0:t.value;if(!s)throw new Error("Response json body do not have ID Token field");return s})}static getIDToken(n){return Ng(this,void 0,void 0,function*(){try{let t=xo.getIDTokenUrl();if(n){let i=encodeURIComponent(n);t=`${t}&audience=${i}`}Ug.debug(`ID token url is ${t}`);let r=yield xo.getCall(t);return Ug.setSecret(r),r}catch(t){throw new Error(`Error message: ${t.message}`)}})}};ls.OidcClient=xo});var nd=On(yn=>{"use strict";var ed=yn&&yn.__awaiter||function(e,n,t,r){function i(s){return s instanceof t?s:new t(function(u){u(s)})}return new(t||(t=Promise))(function(s,u){function h(d){try{a(r.next(d))}catch(f){u(f)}}function c(d){try{a(r.throw(d))}catch(f){u(f)}}function a(d){d.done?s(d.value):i(d.value).then(h,c)}a((r=r.apply(e,n||[])).next())})};Object.defineProperty(yn,"__esModule",{value:!0});yn.summary=yn.markdownSummary=yn.SUMMARY_DOCS_URL=yn.SUMMARY_ENV_VAR=void 0;var MT=require("os"),td=require("fs"),{access:FT,appendFile:VT,writeFile:zT}=td.promises;yn.SUMMARY_ENV_VAR="GITHUB_STEP_SUMMARY";yn.SUMMARY_DOCS_URL="https://docs.github.com/actions/using-workflows/workflow-commands-for-github-actions#adding-a-job-summary";var rd=class{constructor(){this._buffer=""}filePath(){return ed(this,void 0,void 0,function*(){if(this._filePath)return this._filePath;let n=process.env[yn.SUMMARY_ENV_VAR];if(!n)throw new Error(`Unable to find environment variable for $${yn.SUMMARY_ENV_VAR}. Check if your runtime environment supports job summaries.`);try{yield FT(n,td.constants.R_OK|td.constants.W_OK)}catch{throw new Error(`Unable to access summary file: '${n}'. Check if the file has correct read/write permissions.`)}return this._filePath=n,this._filePath})}wrap(n,t,r={}){let i=Object.entries(r).map(([s,u])=>` ${s}="${u}"`).join("");return t?`<${n}${i}>${t}</${n}>`:`<${n}${i}>`}write(n){return ed(this,void 0,void 0,function*(){let t=!!n?.overwrite,r=yield this.filePath();return yield(t?zT:VT)(r,this._buffer,{encoding:"utf8"}),this.emptyBuffer()})}clear(){return ed(this,void 0,void 0,function*(){return this.emptyBuffer().write({overwrite:!0})})}stringify(){return this._buffer}isEmptyBuffer(){return this._buffer.length===0}emptyBuffer(){return this._buffer="",this}addRaw(n,t=!1){return this._buffer+=n,t?this.addEOL():this}addEOL(){return this.addRaw(MT.EOL)}addCodeBlock(n,t){let r=Object.assign({},t&&{lang:t}),i=this.wrap("pre",this.wrap("code",n),r);return this.addRaw(i).addEOL()}addList(n,t=!1){let r=t?"ol":"ul",i=n.map(u=>this.wrap("li",u)).join(""),s=this.wrap(r,i);return this.addRaw(s).addEOL()}addTable(n){let t=n.map(i=>{let s=i.map(u=>{if(typeof u=="string")return this.wrap("td",u);let{header:h,data:c,colspan:a,rowspan:d}=u,f=h?"th":"td",y=Object.assign(Object.assign({},a&&{colspan:a}),d&&{rowspan:d});return this.wrap(f,c,y)}).join("");return this.wrap("tr",s)}).join(""),r=this.wrap("table",t);return this.addRaw(r).addEOL()}addDetails(n,t){let r=this.wrap("details",this.wrap("summary",n)+t);return this.addRaw(r).addEOL()}addImage(n,t,r){let{width:i,height:s}=r||{},u=Object.assign(Object.assign({},i&&{width:i}),s&&{height:s}),h=this.wrap("img",null,Object.assign({src:n,alt:t},u));return this.addRaw(h).addEOL()}addHeading(n,t){let r=`h${t}`,i=["h1","h2","h3","h4","h5","h6"].includes(r)?r:"h1",s=this.wrap(i,n);return this.addRaw(s).addEOL()}addSeparator(){let n=this.wrap("hr",null);return this.addRaw(n).addEOL()}addBreak(){let n=this.wrap("br",null);return this.addRaw(n).addEOL()}addQuote(n,t){let r=Object.assign({},t&&{cite:t}),i=this.wrap("blockquote",n,r);return this.addRaw(i).addEOL()}addLink(n,t){let r=this.wrap("a",n,{href:t});return this.addRaw(r).addEOL()}},Dg=new rd;yn.markdownSummary=Dg;yn.summary=Dg});var jg=On(gn=>{"use strict";var $T=gn&&gn.__createBinding||(Object.create?function(e,n,t,r){r===void 0&&(r=t),Object.defineProperty(e,r,{enumerable:!0,get:function(){return n[t]}})}:function(e,n,t,r){r===void 0&&(r=t),e[r]=n[t]}),HT=gn&&gn.__setModuleDefault||(Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n}),KT=gn&&gn.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(e!=null)for(var t in e)t!=="default"&&Object.hasOwnProperty.call(e,t)&&$T(n,e,t);return HT(n,e),n};Object.defineProperty(gn,"__esModule",{value:!0});gn.toPlatformPath=gn.toWin32Path=gn.toPosixPath=void 0;var WT=KT(require("path"));function GT(e){return e.replace(/[\\]/g,"/")}gn.toPosixPath=GT;function QT(e){return e.replace(/[/]/g,"\\")}gn.toWin32Path=QT;function YT(e){return e.replace(/[/\\]/g,WT.sep)}gn.toPlatformPath=YT});var Zf=On(Ve=>{"use strict";var XT=Ve&&Ve.__createBinding||(Object.create?function(e,n,t,r){r===void 0&&(r=t),Object.defineProperty(e,r,{enumerable:!0,get:function(){return n[t]}})}:function(e,n,t,r){r===void 0&&(r=t),e[r]=n[t]}),JT=Ve&&Ve.__setModuleDefault||(Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n}),qg=Ve&&Ve.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(e!=null)for(var t in e)t!=="default"&&Object.hasOwnProperty.call(e,t)&&XT(n,e,t);return JT(n,e),n},Mg=Ve&&Ve.__awaiter||function(e,n,t,r){function i(s){return s instanceof t?s:new t(function(u){u(s)})}return new(t||(t=Promise))(function(s,u){function h(d){try{a(r.next(d))}catch(f){u(f)}}function c(d){try{a(r.throw(d))}catch(f){u(f)}}function a(d){d.done?s(d.value):i(d.value).then(h,c)}a((r=r.apply(e,n||[])).next())})};Object.defineProperty(Ve,"__esModule",{value:!0});Ve.getIDToken=Ve.getState=Ve.saveState=Ve.group=Ve.endGroup=Ve.startGroup=Ve.info=Ve.notice=Ve.warning=Ve.error=Ve.debug=Ve.isDebug=Ve.setFailed=Ve.setCommandEcho=Ve.setOutput=Ve.getBooleanInput=Ve.getMultilineInput=Ve.getInput=Ve.addPath=Ve.setSecret=Ve.exportVariable=Ve.ExitCode=void 0;var Hn=Gy(),fa=Eg(),cs=Vl(),Fg=qg(require("os")),ZT=qg(require("path")),e3=xg(),Vg;(function(e){e[e.Success=0]="Success",e[e.Failure=1]="Failure"})(Vg=Ve.ExitCode||(Ve.ExitCode={}));function t3(e,n){let t=cs.toCommandValue(n);if(process.env[e]=t,process.env.GITHUB_ENV||"")return fa.issueFileCommand("ENV",fa.prepareKeyValueMessage(e,n));Hn.issueCommand("set-env",{name:e},t)}Ve.exportVariable=t3;function r3(e){Hn.issueCommand("add-mask",{},e)}Ve.setSecret=r3;function n3(e){process.env.GITHUB_PATH||""?fa.issueFileCommand("PATH",e):Hn.issueCommand("add-path",{},e),process.env.PATH=`${e}${ZT.delimiter}${process.env.PATH}`}Ve.addPath=n3;function id(e,n){let t=process.env[`INPUT_${e.replace(/ /g,"_").toUpperCase()}`]||"";if(n&&n.required&&!t)throw new Error(`Input required and not supplied: ${e}`);return n&&n.trimWhitespace===!1?t:t.trim()}Ve.getInput=id;function i3(e,n){let t=id(e,n).split(`
`).filter(r=>r!=="");return n&&n.trimWhitespace===!1?t:t.map(r=>r.trim())}Ve.getMultilineInput=i3;function o3(e,n){let t=["true","True","TRUE"],r=["false","False","FALSE"],i=id(e,n);if(t.includes(i))return!0;if(r.includes(i))return!1;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${e}
Support boolean input list: \`true | True | TRUE | false | False | FALSE\``)}Ve.getBooleanInput=o3;function a3(e,n){if(process.env.GITHUB_OUTPUT||"")return fa.issueFileCommand("OUTPUT",fa.prepareKeyValueMessage(e,n));process.stdout.write(Fg.EOL),Hn.issueCommand("set-output",{name:e},cs.toCommandValue(n))}Ve.setOutput=a3;function s3(e){Hn.issue("echo",e?"on":"off")}Ve.setCommandEcho=s3;function u3(e){process.exitCode=Vg.Failure,zg(e)}Ve.setFailed=u3;function l3(){return process.env.RUNNER_DEBUG==="1"}Ve.isDebug=l3;function c3(e){Hn.issueCommand("debug",{},e)}Ve.debug=c3;function zg(e,n={}){Hn.issueCommand("error",cs.toCommandProperties(n),e instanceof Error?e.toString():e)}Ve.error=zg;function h3(e,n={}){Hn.issueCommand("warning",cs.toCommandProperties(n),e instanceof Error?e.toString():e)}Ve.warning=h3;function f3(e,n={}){Hn.issueCommand("notice",cs.toCommandProperties(n),e instanceof Error?e.toString():e)}Ve.notice=f3;function d3(e){process.stdout.write(e+Fg.EOL)}Ve.info=d3;function $g(e){Hn.issue("group",e)}Ve.startGroup=$g;function Hg(){Hn.issue("endgroup")}Ve.endGroup=Hg;function p3(e,n){return Mg(this,void 0,void 0,function*(){$g(e);let t;try{t=yield n()}finally{Hg()}return t})}Ve.group=p3;function y3(e,n){if(process.env.GITHUB_STATE||"")return fa.issueFileCommand("STATE",fa.prepareKeyValueMessage(e,n));Hn.issueCommand("save-state",{name:e},cs.toCommandValue(n))}Ve.saveState=y3;function g3(e){return process.env[`STATE_${e}`]||""}Ve.getState=g3;function m3(e){return Mg(this,void 0,void 0,function*(){return yield e3.OidcClient.getIDToken(e)})}Ve.getIDToken=m3;var v3=nd();Object.defineProperty(Ve,"summary",{enumerable:!0,get:function(){return v3.summary}});var b3=nd();Object.defineProperty(Ve,"markdownSummary",{enumerable:!0,get:function(){return b3.markdownSummary}});var od=jg();Object.defineProperty(Ve,"toPosixPath",{enumerable:!0,get:function(){return od.toPosixPath}});Object.defineProperty(Ve,"toWin32Path",{enumerable:!0,get:function(){return od.toWin32Path}});Object.defineProperty(Ve,"toPlatformPath",{enumerable:!0,get:function(){return od.toPlatformPath}})});var Xb=On((eB,Yb)=>{var _3=Object.create,Mu=Object.defineProperty,w3=Object.getOwnPropertyDescriptor,E3=Object.getOwnPropertyNames,Oc=Object.getOwnPropertySymbols,S3=Object.getPrototypeOf,mp=Object.prototype.hasOwnProperty,hv=Object.prototype.propertyIsEnumerable,Kg=(e,n,t)=>n in e?Mu(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,Gc=(e,n)=>{for(var t in n||={})mp.call(n,t)&&Kg(e,t,n[t]);if(Oc)for(var t of Oc(n))hv.call(n,t)&&Kg(e,t,n[t]);return e},Qc=(e,n)=>{var t={};for(var r in e)mp.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&Oc)for(var r of Oc(e))n.indexOf(r)<0&&hv.call(e,r)&&(t[r]=e[r]);return t},Re=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),C3=(e,n)=>{for(var t in n)Mu(e,t,{get:n[t],enumerable:!0})},fv=(e,n,t,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let i of E3(n))!mp.call(e,i)&&i!==t&&Mu(e,i,{get:()=>n[i],enumerable:!(r=w3(n,i))||r.enumerable});return e},yt=(e,n,t)=>(t=e!=null?_3(S3(e)):{},fv(n||!e||!e.__esModule?Mu(t,"default",{value:e,enumerable:!0}):t,e)),T3=e=>fv(Mu({},"__esModule",{value:!0}),e),ho=(e,n,t)=>new Promise((r,i)=>{var s=c=>{try{h(t.next(c))}catch(a){i(a)}},u=c=>{try{h(t.throw(c))}catch(a){i(a)}},h=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,u);h((t=t.apply(e,n)).next())}),R3=Re((e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});function t(i){return i.encrypted}var r=(i,s)=>{let u;typeof s=="function"?u={connect:s}:u=s;let h=typeof u.connect=="function",c=typeof u.secureConnect=="function",a=typeof u.close=="function",d=()=>{h&&u.connect(),t(i)&&c&&(i.authorized?u.secureConnect():i.authorizationError||i.once("secureConnect",u.secureConnect)),a&&i.once("close",u.close)};i.writable&&!i.connecting?d():i.connecting?i.once("connect",d):i.destroyed&&a&&u.close(i._hadError)};e.default=r,n.exports=r,n.exports.default=r}),A3=Re((e,n)=>{"use strict";var{PassThrough:t}=require("stream");n.exports=r=>{r={...r};let{array:i}=r,{encoding:s}=r,u=s==="buffer",h=!1;i?h=!(s||u):s=s||"utf8",u&&(s=null);let c=new t({objectMode:h});s&&c.setEncoding(s);let a=0,d=[];return c.on("data",f=>{d.push(f),h?a=d.length:a+=f.length}),c.getBufferedValue=()=>i?d:u?Buffer.concat(d,a):d.join(""),c.getBufferedLength=()=>a,c}}),Yc=Re((e,n)=>{"use strict";var{constants:t}=require("buffer"),r=require("stream"),{promisify:i}=require("util"),s=A3(),u=i(r.pipeline),h=class extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}};async function c(a,d){if(!a)throw new Error("Expected a stream");d={maxBuffer:1/0,...d};let{maxBuffer:f}=d,y=s(d);return await new Promise((A,T)=>{let m=S=>{S&&y.getBufferedLength()<=t.MAX_LENGTH&&(S.bufferedData=y.getBufferedValue()),T(S)};(async()=>{try{await u(a,y),A()}catch(S){m(S)}})(),y.on("data",()=>{y.getBufferedLength()>f&&m(new h)})}),y.getBufferedValue()}n.exports=c,n.exports.buffer=(a,d)=>c(a,{...d,encoding:"buffer"}),n.exports.array=(a,d)=>c(a,{...d,array:!0}),n.exports.MaxBufferError=h}),dv=Re((e,n)=>{"use strict";var t=new Set([200,203,204,206,300,301,308,404,405,410,414,501]),r=new Set([200,203,204,300,301,302,303,307,308,404,405,410,414,501]),i=new Set([500,502,503,504]),s={date:!0,connection:!0,"keep-alive":!0,"proxy-authenticate":!0,"proxy-authorization":!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0},u={"content-length":!0,"content-encoding":!0,"transfer-encoding":!0,"content-range":!0};function h(f){let y=parseInt(f,10);return isFinite(y)?y:0}function c(f){return f?i.has(f.status):!0}function a(f){let y={};if(!f)return y;let A=f.trim().split(/,/);for(let T of A){let[m,S]=T.split(/=/,2);y[m.trim()]=S===void 0?!0:S.trim().replace(/^"|"$/g,"")}return y}function d(f){let y=[];for(let A in f){let T=f[A];y.push(T===!0?A:A+"="+T)}if(y.length)return y.join(", ")}n.exports=class{constructor(f,y,{shared:A,cacheHeuristic:T,immutableMinTimeToLive:m,ignoreCargoCult:S,_fromObject:B}={}){if(B){this._fromObject(B);return}if(!y||!y.headers)throw Error("Response headers missing");this._assertRequestHasHeaders(f),this._responseTime=this.now(),this._isShared=A!==!1,this._cacheHeuristic=T!==void 0?T:.1,this._immutableMinTtl=m!==void 0?m:24*3600*1e3,this._status="status"in y?y.status:200,this._resHeaders=y.headers,this._rescc=a(y.headers["cache-control"]),this._method="method"in f?f.method:"GET",this._url=f.url,this._host=f.headers.host,this._noAuthorization=!f.headers.authorization,this._reqHeaders=y.headers.vary?f.headers:null,this._reqcc=a(f.headers["cache-control"]),S&&"pre-check"in this._rescc&&"post-check"in this._rescc&&(delete this._rescc["pre-check"],delete this._rescc["post-check"],delete this._rescc["no-cache"],delete this._rescc["no-store"],delete this._rescc["must-revalidate"],this._resHeaders=Object.assign({},this._resHeaders,{"cache-control":d(this._rescc)}),delete this._resHeaders.expires,delete this._resHeaders.pragma),y.headers["cache-control"]==null&&/no-cache/.test(y.headers.pragma)&&(this._rescc["no-cache"]=!0)}now(){return Date.now()}storable(){return!!(!this._reqcc["no-store"]&&(this._method==="GET"||this._method==="HEAD"||this._method==="POST"&&this._hasExplicitExpiration())&&r.has(this._status)&&!this._rescc["no-store"]&&(!this._isShared||!this._rescc.private)&&(!this._isShared||this._noAuthorization||this._allowsStoringAuthenticated())&&(this._resHeaders.expires||this._rescc["max-age"]||this._isShared&&this._rescc["s-maxage"]||this._rescc.public||t.has(this._status)))}_hasExplicitExpiration(){return this._isShared&&this._rescc["s-maxage"]||this._rescc["max-age"]||this._resHeaders.expires}_assertRequestHasHeaders(f){if(!f||!f.headers)throw Error("Request headers missing")}satisfiesWithoutRevalidation(f){this._assertRequestHasHeaders(f);let y=a(f.headers["cache-control"]);return y["no-cache"]||/no-cache/.test(f.headers.pragma)||y["max-age"]&&this.age()>y["max-age"]||y["min-fresh"]&&this.timeToLive()<1e3*y["min-fresh"]||this.stale()&&!(y["max-stale"]&&!this._rescc["must-revalidate"]&&(y["max-stale"]===!0||y["max-stale"]>this.age()-this.maxAge()))?!1:this._requestMatches(f,!1)}_requestMatches(f,y){return(!this._url||this._url===f.url)&&this._host===f.headers.host&&(!f.method||this._method===f.method||y&&f.method==="HEAD")&&this._varyMatches(f)}_allowsStoringAuthenticated(){return this._rescc["must-revalidate"]||this._rescc.public||this._rescc["s-maxage"]}_varyMatches(f){if(!this._resHeaders.vary)return!0;if(this._resHeaders.vary==="*")return!1;let y=this._resHeaders.vary.trim().toLowerCase().split(/\s*,\s*/);for(let A of y)if(f.headers[A]!==this._reqHeaders[A])return!1;return!0}_copyWithoutHopByHopHeaders(f){let y={};for(let A in f)s[A]||(y[A]=f[A]);if(f.connection){let A=f.connection.trim().split(/\s*,\s*/);for(let T of A)delete y[T]}if(y.warning){let A=y.warning.split(/,/).filter(T=>!/^\s*1[0-9][0-9]/.test(T));A.length?y.warning=A.join(",").trim():delete y.warning}return y}responseHeaders(){let f=this._copyWithoutHopByHopHeaders(this._resHeaders),y=this.age();return y>3600*24&&!this._hasExplicitExpiration()&&this.maxAge()>3600*24&&(f.warning=(f.warning?`${f.warning}, `:"")+'113 - "rfc7234 5.5.4"'),f.age=`${Math.round(y)}`,f.date=new Date(this.now()).toUTCString(),f}date(){let f=Date.parse(this._resHeaders.date);return isFinite(f)?f:this._responseTime}age(){let f=this._ageValue(),y=(this.now()-this._responseTime)/1e3;return f+y}_ageValue(){return h(this._resHeaders.age)}maxAge(){if(!this.storable()||this._rescc["no-cache"]||this._isShared&&this._resHeaders["set-cookie"]&&!this._rescc.public&&!this._rescc.immutable||this._resHeaders.vary==="*")return 0;if(this._isShared){if(this._rescc["proxy-revalidate"])return 0;if(this._rescc["s-maxage"])return h(this._rescc["s-maxage"])}if(this._rescc["max-age"])return h(this._rescc["max-age"]);let f=this._rescc.immutable?this._immutableMinTtl:0,y=this.date();if(this._resHeaders.expires){let A=Date.parse(this._resHeaders.expires);return Number.isNaN(A)||A<y?0:Math.max(f,(A-y)/1e3)}if(this._resHeaders["last-modified"]){let A=Date.parse(this._resHeaders["last-modified"]);if(isFinite(A)&&y>A)return Math.max(f,(y-A)/1e3*this._cacheHeuristic)}return f}timeToLive(){let f=this.maxAge()-this.age(),y=f+h(this._rescc["stale-if-error"]),A=f+h(this._rescc["stale-while-revalidate"]);return Math.max(0,f,y,A)*1e3}stale(){return this.maxAge()<=this.age()}_useStaleIfError(){return this.maxAge()+h(this._rescc["stale-if-error"])>this.age()}useStaleWhileRevalidate(){return this.maxAge()+h(this._rescc["stale-while-revalidate"])>this.age()}static fromObject(f){return new this(void 0,void 0,{_fromObject:f})}_fromObject(f){if(this._responseTime)throw Error("Reinitialized");if(!f||f.v!==1)throw Error("Invalid serialization");this._responseTime=f.t,this._isShared=f.sh,this._cacheHeuristic=f.ch,this._immutableMinTtl=f.imm!==void 0?f.imm:24*3600*1e3,this._status=f.st,this._resHeaders=f.resh,this._rescc=f.rescc,this._method=f.m,this._url=f.u,this._host=f.h,this._noAuthorization=f.a,this._reqHeaders=f.reqh,this._reqcc=f.reqcc}toObject(){return{v:1,t:this._responseTime,sh:this._isShared,ch:this._cacheHeuristic,imm:this._immutableMinTtl,st:this._status,resh:this._resHeaders,rescc:this._rescc,m:this._method,u:this._url,h:this._host,a:this._noAuthorization,reqh:this._reqHeaders,reqcc:this._reqcc}}revalidationHeaders(f){this._assertRequestHasHeaders(f);let y=this._copyWithoutHopByHopHeaders(f.headers);if(delete y["if-range"],!this._requestMatches(f,!0)||!this.storable())return delete y["if-none-match"],delete y["if-modified-since"],y;if(this._resHeaders.etag&&(y["if-none-match"]=y["if-none-match"]?`${y["if-none-match"]}, ${this._resHeaders.etag}`:this._resHeaders.etag),y["accept-ranges"]||y["if-match"]||y["if-unmodified-since"]||this._method&&this._method!="GET"){if(delete y["if-modified-since"],y["if-none-match"]){let A=y["if-none-match"].split(/,/).filter(T=>!/^\s*W\//.test(T));A.length?y["if-none-match"]=A.join(",").trim():delete y["if-none-match"]}}else this._resHeaders["last-modified"]&&!y["if-modified-since"]&&(y["if-modified-since"]=this._resHeaders["last-modified"]);return y}revalidatedPolicy(f,y){if(this._assertRequestHasHeaders(f),this._useStaleIfError()&&c(y))return{modified:!1,matches:!1,policy:this};if(!y||!y.headers)throw Error("Response headers missing");let A=!1;if(y.status!==void 0&&y.status!=304?A=!1:y.headers.etag&&!/^\s*W\//.test(y.headers.etag)?A=this._resHeaders.etag&&this._resHeaders.etag.replace(/^\s*W\//,"")===y.headers.etag:this._resHeaders.etag&&y.headers.etag?A=this._resHeaders.etag.replace(/^\s*W\//,"")===y.headers.etag.replace(/^\s*W\//,""):this._resHeaders["last-modified"]?A=this._resHeaders["last-modified"]===y.headers["last-modified"]:!this._resHeaders.etag&&!this._resHeaders["last-modified"]&&!y.headers.etag&&!y.headers["last-modified"]&&(A=!0),!A)return{policy:new this.constructor(f,y),modified:y.status!=304,matches:!1};let T={};for(let S in this._resHeaders)T[S]=S in y.headers&&!u[S]?y.headers[S]:this._resHeaders[S];let m=Object.assign({},y,{status:this._status,method:this._method,headers:T});return{policy:new this.constructor(f,m,{shared:this._isShared,cacheHeuristic:this._cacheHeuristic,immutableMinTimeToLive:this._immutableMinTtl}),modified:!1,matches:!0}}}}),I3=Re(e=>{e.stringify=function n(t){if(typeof t>"u")return t;if(t&&Buffer.isBuffer(t))return JSON.stringify(":base64:"+t.toString("base64"));if(t&&t.toJSON&&(t=t.toJSON()),t&&typeof t=="object"){var r="",i=Array.isArray(t);r=i?"[":"{";var s=!0;for(var u in t){var h=typeof t[u]=="function"||!i&&typeof t[u]>"u";Object.hasOwnProperty.call(t,u)&&!h&&(s||(r+=","),s=!1,i?t[u]==null?r+="null":r+=n(t[u]):t[u]!==void 0&&(r+=n(u)+":"+n(t[u])))}return r+=i?"]":"}",r}else return typeof t=="string"?JSON.stringify(/^:/.test(t)?":"+t:t):typeof t>"u"?"null":JSON.stringify(t)},e.parse=function(n){return JSON.parse(n,function(t,r){return typeof r=="string"?/^:base64:/.test(r)?Buffer.from(r.substring(8),"base64"):/^:/.test(r)?r.substring(1):r:r})}}),pv=Re((e,n)=>{"use strict";var t=require("events"),r=I3(),i=h=>{let c={redis:"@keyv/redis",rediss:"@keyv/redis",mongodb:"@keyv/mongo",mongo:"@keyv/mongo",sqlite:"@keyv/sqlite",postgresql:"@keyv/postgres",postgres:"@keyv/postgres",mysql:"@keyv/mysql",etcd:"@keyv/etcd",offline:"@keyv/offline",tiered:"@keyv/tiered"};if(h.adapter||h.uri){let a=h.adapter||/^[^:+]*/.exec(h.uri)[0];return new(require(c[a]))(h)}return new Map},s=["sqlite","postgres","mysql","mongo","redis","tiered"],u=class extends t{constructor(h,{emitErrors:c=!0,...a}={}){if(super(),this.opts={namespace:"keyv",serialize:r.stringify,deserialize:r.parse,...typeof h=="string"?{uri:h}:h,...a},!this.opts.store){let f={...this.opts};this.opts.store=i(f)}if(this.opts.compression){let f=this.opts.compression;this.opts.serialize=f.serialize.bind(f),this.opts.deserialize=f.deserialize.bind(f)}typeof this.opts.store.on=="function"&&c&&this.opts.store.on("error",f=>this.emit("error",f)),this.opts.store.namespace=this.opts.namespace;let d=f=>async function*(){for await(let[y,A]of typeof f=="function"?f(this.opts.store.namespace):f){let T=this.opts.deserialize(A);if(!(this.opts.store.namespace&&!y.includes(this.opts.store.namespace))){if(typeof T.expires=="number"&&Date.now()>T.expires){this.delete(y);continue}yield[this._getKeyUnprefix(y),T.value]}}};typeof this.opts.store[Symbol.iterator]=="function"&&this.opts.store instanceof Map?this.iterator=d(this.opts.store):typeof this.opts.store.iterator=="function"&&this.opts.store.opts&&this._checkIterableAdaptar()&&(this.iterator=d(this.opts.store.iterator.bind(this.opts.store)))}_checkIterableAdaptar(){return s.includes(this.opts.store.opts.dialect)||s.findIndex(h=>this.opts.store.opts.url.includes(h))>=0}_getKeyPrefix(h){return`${this.opts.namespace}:${h}`}_getKeyPrefixArray(h){return h.map(c=>`${this.opts.namespace}:${c}`)}_getKeyUnprefix(h){return h.split(":").splice(1).join(":")}get(h,c){let{store:a}=this.opts,d=Array.isArray(h),f=d?this._getKeyPrefixArray(h):this._getKeyPrefix(h);if(d&&a.getMany===void 0){let y=[];for(let A of f)y.push(Promise.resolve().then(()=>a.get(A)).then(T=>typeof T=="string"?this.opts.deserialize(T):this.opts.compression?this.opts.deserialize(T):T).then(T=>{if(T!=null)return typeof T.expires=="number"&&Date.now()>T.expires?this.delete(A).then(()=>{}):c&&c.raw?T:T.value}));return Promise.allSettled(y).then(A=>{let T=[];for(let m of A)T.push(m.value);return T})}return Promise.resolve().then(()=>d?a.getMany(f):a.get(f)).then(y=>typeof y=="string"?this.opts.deserialize(y):this.opts.compression?this.opts.deserialize(y):y).then(y=>{if(y!=null){if(d){let A=[];for(let T of y){if(typeof T=="string"&&(T=this.opts.deserialize(T)),T==null){A.push(void 0);continue}typeof T.expires=="number"&&Date.now()>T.expires?(this.delete(h).then(()=>{}),A.push(void 0)):A.push(c&&c.raw?T:T.value)}return A}return typeof y.expires=="number"&&Date.now()>y.expires?this.delete(h).then(()=>{}):c&&c.raw?y:y.value}})}set(h,c,a){let d=this._getKeyPrefix(h);typeof a>"u"&&(a=this.opts.ttl),a===0&&(a=void 0);let{store:f}=this.opts;return Promise.resolve().then(()=>{let y=typeof a=="number"?Date.now()+a:null;return typeof c=="symbol"&&this.emit("error","symbol cannot be serialized"),c={value:c,expires:y},this.opts.serialize(c)}).then(y=>f.set(d,y,a)).then(()=>!0)}delete(h){let{store:c}=this.opts;if(Array.isArray(h)){let d=this._getKeyPrefixArray(h);if(c.deleteMany===void 0){let f=[];for(let y of d)f.push(c.delete(y));return Promise.allSettled(f).then(y=>y.every(A=>A.value===!0))}return Promise.resolve().then(()=>c.deleteMany(d))}let a=this._getKeyPrefix(h);return Promise.resolve().then(()=>c.delete(a))}clear(){let{store:h}=this.opts;return Promise.resolve().then(()=>h.clear())}has(h){let c=this._getKeyPrefix(h),{store:a}=this.opts;return Promise.resolve().then(async()=>typeof a.has=="function"?a.has(c):await a.get(c)!==void 0)}disconnect(){let{store:h}=this.opts;if(typeof h.disconnect=="function")return h.disconnect()}};n.exports=u}),k3=Re((e,n)=>{"use strict";var t=["aborted","complete","headers","httpVersion","httpVersionMinor","httpVersionMajor","method","rawHeaders","rawTrailers","setTimeout","socket","statusCode","statusMessage","trailers","url"];n.exports=(r,i)=>{if(i._readableState.autoDestroy)throw new Error("The second stream must have the `autoDestroy` option set to `false`");let s=new Set(Object.keys(r).concat(t)),u={};for(let h of s)h in i||(u[h]={get(){let c=r[h];return typeof c=="function"?c.bind(r):c},set(c){r[h]=c},enumerable:!0,configurable:!1});return Object.defineProperties(i,u),r.once("aborted",()=>{i.destroy(),i.emit("aborted")}),r.once("close",()=>{r.complete&&i.readable?i.once("end",()=>{i.emit("close")}):i.emit("close")}),i}}),yv=Re((e,n)=>{"use strict";var{Transform:t,PassThrough:r}=require("stream"),i=require("zlib"),s=k3();n.exports=u=>{let h=(u.headers["content-encoding"]||"").toLowerCase();if(!["gzip","deflate","br"].includes(h))return u;let c=h==="br";if(c&&typeof i.createBrotliDecompress!="function")return u.destroy(new Error("Brotli is not supported on Node.js < 12")),u;let a=!0,d=new t({transform(A,T,m){a=!1,m(null,A)},flush(A){A()}}),f=new r({autoDestroy:!1,destroy(A,T){u.destroy(),T(A)}}),y=c?i.createBrotliDecompress():i.createUnzip();return y.once("error",A=>{if(a&&!u.readable){f.end();return}f.destroy(A)}),s(u,f),u.pipe(d).pipe(y).pipe(f),f}}),gv=Re((e,n)=>{"use strict";var t=class{constructor(r={}){if(!(r.maxSize&&r.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=r.maxSize,this.onEviction=r.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(r,i){if(this.cache.set(r,i),this._size++,this._size>=this.maxSize){if(this._size=0,typeof this.onEviction=="function")for(let[s,u]of this.oldCache.entries())this.onEviction(s,u);this.oldCache=this.cache,this.cache=new Map}}get(r){if(this.cache.has(r))return this.cache.get(r);if(this.oldCache.has(r)){let i=this.oldCache.get(r);return this.oldCache.delete(r),this._set(r,i),i}}set(r,i){return this.cache.has(r)?this.cache.set(r,i):this._set(r,i),this}has(r){return this.cache.has(r)||this.oldCache.has(r)}peek(r){if(this.cache.has(r))return this.cache.get(r);if(this.oldCache.has(r))return this.oldCache.get(r)}delete(r){let i=this.cache.delete(r);return i&&this._size--,this.oldCache.delete(r)||i}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(let[r]of this)yield r}*values(){for(let[,r]of this)yield r}*[Symbol.iterator](){for(let r of this.cache)yield r;for(let r of this.oldCache){let[i]=r;this.cache.has(i)||(yield r)}}get size(){let r=0;for(let i of this.oldCache.keys())this.cache.has(i)||r++;return Math.min(this._size+r,this.maxSize)}};n.exports=t}),mv=Re((e,n)=>{"use strict";n.exports=t=>{if(t.listenerCount("error")!==0)return t;t.__destroy=t._destroy,t._destroy=(...i)=>{let s=i.pop();t.__destroy(...i,async u=>{await Promise.resolve(),s(u)})};let r=i=>{Promise.resolve().then(()=>{t.emit("error",i)})};return t.once("error",r),Promise.resolve().then(()=>{t.off("error",r)}),t}}),Ts=Re((e,n)=>{"use strict";var{URL:t}=require("url"),r=require("events"),i=require("tls"),s=require("http2"),u=gv(),h=mv(),c=Symbol("currentStreamCount"),a=Symbol("request"),d=Symbol("cachedOriginSet"),f=Symbol("gracefullyClosing"),y=Symbol("length"),A=["createConnection","maxDeflateDynamicTableSize","maxSettings","maxSessionMemory","maxHeaderListPairs","maxOutstandingPings","maxReservedRemoteStreams","maxSendHeaderBlockLength","paddingStrategy","peerMaxConcurrentStreams","settings","family","localAddress","rejectUnauthorized","pskCallback","minDHSize","path","socket","ca","cert","sigalgs","ciphers","clientCertEngine","crl","dhparam","ecdhCurve","honorCipherOrder","key","privateKeyEngine","privateKeyIdentifier","maxVersion","minVersion","pfx","secureOptions","secureProtocol","sessionIdContext","ticketKeys"],T=(R,E,P)=>{let D=0,C=R.length;for(;D<C;){let v=D+C>>>1;P(R[v],E)?D=v+1:C=v}return D},m=(R,E)=>R.remoteSettings.maxConcurrentStreams>E.remoteSettings.maxConcurrentStreams,S=(R,E)=>{for(let P=0;P<R.length;P++){let D=R[P];D[d].length>0&&D[d].length<E[d].length&&D[d].every(C=>E[d].includes(C))&&D[c]+E[c]<=E.remoteSettings.maxConcurrentStreams&&k(D)}},B=(R,E)=>{for(let P=0;P<R.length;P++){let D=R[P];if(E[d].length>0&&E[d].length<D[d].length&&E[d].every(C=>D[d].includes(C))&&E[c]+D[c]<=D.remoteSettings.maxConcurrentStreams)return k(E),!0}return!1},k=R=>{R[f]=!0,R[c]===0&&R.close()},p=class extends r{constructor({timeout:R=0,maxSessions:E=Number.POSITIVE_INFINITY,maxEmptySessions:P=10,maxCachedTlsSessions:D=100}={}){super(),this.sessions={},this.queue={},this.timeout=R,this.maxSessions=E,this.maxEmptySessions=P,this._emptySessionCount=0,this._sessionCount=0,this.settings={enablePush:!1,initialWindowSize:1024*1024*32},this.tlsSessionCache=new u({maxSize:D})}get protocol(){return"https:"}normalizeOptions(R){let E="";for(let P=0;P<A.length;P++){let D=A[P];E+=":",R&&R[D]!==void 0&&(E+=R[D])}return E}_processQueue(){if(this._sessionCount>=this.maxSessions){this.closeEmptySessions(this.maxSessions-this._sessionCount+1);return}for(let R in this.queue)for(let E in this.queue[R]){let P=this.queue[R][E];P.completed||(P.completed=!0,P())}}_isBetterSession(R,E){return R>E}_accept(R,E,P,D){let C=0;for(;C<E.length&&R[c]<R.remoteSettings.maxConcurrentStreams;)E[C].resolve(R),C++;E.splice(0,C),E.length>0&&(this.getSession(P,D,E),E.length=0)}getSession(R,E,P){return new Promise((D,C)=>{Array.isArray(P)&&P.length>0?(P=[...P],D()):P=[{resolve:D,reject:C}];try{if(typeof R=="string")R=new t(R);else if(!(R instanceof t))throw new TypeError("The `origin` argument needs to be a string or an URL object");if(E){let{servername:q}=E,{hostname:w}=R;if(q&&w!==q)throw new Error(`Origin ${w} differs from servername ${q}`)}}catch(q){for(let w=0;w<P.length;w++)P[w].reject(q);return}let v=this.normalizeOptions(E),g=R.origin;if(v in this.sessions){let q=this.sessions[v],w=-1,U=-1,j;for(let L=0;L<q.length;L++){let F=q[L],ee=F.remoteSettings.maxConcurrentStreams;if(ee<w)break;if(!F[d].includes(g))continue;let ue=F[c];ue>=ee||F[f]||F.destroyed||(j||(w=ee),this._isBetterSession(ue,U)&&(j=F,U=ue))}if(j){this._accept(j,P,g,E);return}}if(v in this.queue){if(g in this.queue[v]){this.queue[v][g].listeners.push(...P);return}}else this.queue[v]={[y]:0};let M=()=>{v in this.queue&&this.queue[v][g]===V&&(delete this.queue[v][g],--this.queue[v][y]===0&&delete this.queue[v])},V=async()=>{this._sessionCount++;let q=`${g}:${v}`,w=!1,U;try{let j={...E};j.settings===void 0&&(j.settings=this.settings),j.session===void 0&&(j.session=this.tlsSessionCache.get(q)),U=await(j.createConnection||this.createConnection).call(this,R,j),j.createConnection=()=>U;let L=s.connect(R,j);L[c]=0,L[f]=!1;let F=()=>{let{socket:se}=L,pe;return se.servername===!1?(se.servername=se.remoteAddress,pe=L.originSet,se.servername=!1):pe=L.originSet,pe},ee=()=>L[c]<L.remoteSettings.maxConcurrentStreams;L.socket.once("session",se=>{this.tlsSessionCache.set(q,se)}),L.once("error",se=>{for(let pe=0;pe<P.length;pe++)P[pe].reject(se);this.tlsSessionCache.delete(q)}),L.setTimeout(this.timeout,()=>{L.destroy()}),L.once("close",()=>{if(this._sessionCount--,w){this._emptySessionCount--;let se=this.sessions[v];se.length===1?delete this.sessions[v]:se.splice(se.indexOf(L),1)}else{M();let se=new Error("Session closed without receiving a SETTINGS frame");se.code="HTTP2WRAPPER_NOSETTINGS";for(let pe=0;pe<P.length;pe++)P[pe].reject(se)}this._processQueue()});let ue=()=>{let se=this.queue[v];if(!se)return;let pe=L[d];for(let ke=0;ke<pe.length;ke++){let Le=pe[ke];if(Le in se){let{listeners:qe,completed:Ce}=se[Le],We=0;for(;We<qe.length&&ee();)qe[We].resolve(L),We++;if(se[Le].listeners.splice(0,We),se[Le].listeners.length===0&&!Ce&&(delete se[Le],--se[y]===0)){delete this.queue[v];break}if(!ee())break}}};L.on("origin",()=>{L[d]=F()||[],L[f]=!1,B(this.sessions[v],L),!(L[f]||!ee())&&(ue(),ee()&&S(this.sessions[v],L))}),L.once("remoteSettings",()=>{if(V.destroyed){let se=new Error("Agent has been destroyed");for(let pe=0;pe<P.length;pe++)P[pe].reject(se);L.destroy();return}if(L.setLocalWindowSize&&L.setLocalWindowSize(1024*1024*4),L[d]=F()||[],L.socket.encrypted){let se=L[d][0];if(se!==g){let pe=new Error(`Requested origin ${g} does not match server ${se}`);for(let ke=0;ke<P.length;ke++)P[ke].reject(pe);L.destroy();return}}M();{let se=this.sessions;if(v in se){let pe=se[v];pe.splice(T(pe,L,m),0,L)}else se[v]=[L]}w=!0,this._emptySessionCount++,this.emit("session",L),this._accept(L,P,g,E),L[c]===0&&this._emptySessionCount>this.maxEmptySessions&&this.closeEmptySessions(this._emptySessionCount-this.maxEmptySessions),L.on("remoteSettings",()=>{ee()&&(ue(),ee()&&S(this.sessions[v],L))})}),L[a]=L.request,L.request=(se,pe)=>{if(L[f])throw new Error("The session is gracefully closing. No new streams are allowed.");let ke=L[a](se,pe);return L.ref(),L[c]++===0&&this._emptySessionCount--,ke.once("close",()=>{if(--L[c]===0&&(this._emptySessionCount++,L.unref(),this._emptySessionCount>this.maxEmptySessions||L[f])){L.close();return}L.destroyed||L.closed||ee()&&!B(this.sessions[v],L)&&(S(this.sessions[v],L),ue(),L[c]===0&&this._processQueue())}),ke}}catch(j){M(),this._sessionCount--;for(let L=0;L<P.length;L++)P[L].reject(j)}};V.listeners=P,V.completed=!1,V.destroyed=!1,this.queue[v][g]=V,this.queue[v][y]++,this._processQueue()})}request(R,E,P,D){return new Promise((C,v)=>{this.getSession(R,E,[{reject:v,resolve:g=>{try{let M=g.request(P,D);h(M),C(M)}catch(M){v(M)}}}])})}async createConnection(R,E){return p.connect(R,E)}static connect(R,E){E.ALPNProtocols=["h2"];let P=R.port||443,D=R.hostname;typeof E.servername>"u"&&(E.servername=D);let C=i.connect(P,D,E);return E.socket&&(C._peername={family:void 0,address:void 0,port:P}),C}closeEmptySessions(R=Number.POSITIVE_INFINITY){let E=0,{sessions:P}=this;for(let D in P){let C=P[D];for(let v=0;v<C.length;v++){let g=C[v];if(g[c]===0&&(E++,g.close(),E>=R))return E}}return E}destroy(R){let{sessions:E,queue:P}=this;for(let D in E){let C=E[D];for(let v=0;v<C.length;v++)C[v].destroy(R)}for(let D in P){let C=P[D];for(let v in C)C[v].destroyed=!0}this.queue={},this.tlsSessionCache.clear()}get emptySessionCount(){return this._emptySessionCount}get pendingSessionCount(){return this._sessionCount-this._emptySessionCount}get sessionCount(){return this._sessionCount}};p.kCurrentStreamCount=c,p.kGracefullyClosing=f,n.exports={Agent:p,globalAgent:new p}}),vv=Re((e,n)=>{"use strict";var{Readable:t}=require("stream"),r=class extends t{constructor(i,s){super({emitClose:!1,autoDestroy:!0,highWaterMark:s}),this.statusCode=null,this.statusMessage="",this.httpVersion="2.0",this.httpVersionMajor=2,this.httpVersionMinor=0,this.headers={},this.trailers={},this.req=null,this.aborted=!1,this.complete=!1,this.upgrade=null,this.rawHeaders=[],this.rawTrailers=[],this.socket=i,this._dumped=!1}get connection(){return this.socket}set connection(i){this.socket=i}_destroy(i,s){this.readableEnded||(this.aborted=!0),s(),this.req._request.destroy(i)}setTimeout(i,s){return this.req.setTimeout(i,s),this}_dump(){this._dumped||(this._dumped=!0,this.removeAllListeners("data"),this.resume())}_read(){this.req&&this.req._request.resume()}};n.exports=r}),B3=Re((e,n)=>{"use strict";n.exports=(t,r,i)=>{for(let s of i)t.on(s,(...u)=>r.emit(s,...u))}}),Xc=Re((e,n)=>{"use strict";var t=(r,i,s)=>{n.exports[i]=class extends r{constructor(...u){super(typeof s=="string"?s:s(u)),this.name=`${super.name} [${i}]`,this.code=i}}};t(TypeError,"ERR_INVALID_ARG_TYPE",r=>{let i=r[0].includes(".")?"property":"argument",s=r[1],u=Array.isArray(s);return u&&(s=`${s.slice(0,-1).join(", ")} or ${s.slice(-1)}`),`The "${r[0]}" ${i} must be ${u?"one of":"of"} type ${s}. Received ${typeof r[2]}`}),t(TypeError,"ERR_INVALID_PROTOCOL",r=>`Protocol "${r[0]}" not supported. Expected "${r[1]}"`),t(Error,"ERR_HTTP_HEADERS_SENT",r=>`Cannot ${r[0]} headers after they are sent to the client`),t(TypeError,"ERR_INVALID_HTTP_TOKEN",r=>`${r[0]} must be a valid HTTP token [${r[1]}]`),t(TypeError,"ERR_HTTP_INVALID_HEADER_VALUE",r=>`Invalid value "${r[0]} for header "${r[1]}"`),t(TypeError,"ERR_INVALID_CHAR",r=>`Invalid character in ${r[0]} [${r[1]}]`),t(Error,"ERR_HTTP2_NO_SOCKET_MANIPULATION","HTTP/2 sockets should not be directly manipulated (e.g. read and written)")}),O3=Re((e,n)=>{"use strict";n.exports=t=>{switch(t){case":method":case":scheme":case":authority":case":path":return!0;default:return!1}}}),bv=Re((e,n)=>{"use strict";var{ERR_INVALID_HTTP_TOKEN:t}=Xc(),r=O3(),i=/^[\^`\-\w!#$%&*+.|~]+$/;n.exports=s=>{if(typeof s!="string"||!i.test(s)&&!r(s))throw new t("Header name",s)}}),_v=Re((e,n)=>{"use strict";var{ERR_HTTP_INVALID_HEADER_VALUE:t,ERR_INVALID_CHAR:r}=Xc(),i=/[^\t\u0020-\u007E\u0080-\u00FF]/;n.exports=(s,u)=>{if(typeof u>"u")throw new t(u,s);if(i.test(u))throw new r("header content",s)}}),P3=Re((e,n)=>{"use strict";var{ERR_HTTP2_NO_SOCKET_MANIPULATION:t}=Xc(),r={has(i,s){let u=i.session===void 0?i:i.session.socket;return s in i||s in u},get(i,s){switch(s){case"on":case"once":case"end":case"emit":case"destroy":return i[s].bind(i);case"writable":case"destroyed":return i[s];case"readable":return i.destroyed?!1:i.readable;case"setTimeout":{let{session:u}=i;return u!==void 0?u.setTimeout.bind(u):i.setTimeout.bind(i)}case"write":case"read":case"pause":case"resume":throw new t;default:{let u=i.session===void 0?i:i.session.socket,h=u[s];return typeof h=="function"?h.bind(u):h}}},getPrototypeOf(i){return i.session!==void 0?Reflect.getPrototypeOf(i.session.socket):Reflect.getPrototypeOf(i)},set(i,s,u){switch(s){case"writable":case"readable":case"destroyed":case"on":case"once":case"end":case"emit":case"destroy":return i[s]=u,!0;case"setTimeout":{let{session:h}=i;return h===void 0?i.setTimeout=u:h.setTimeout=u,!0}case"write":case"read":case"pause":case"resume":throw new t;default:{let h=i.session===void 0?i:i.session.socket;return h[s]=u,!0}}}};n.exports=r}),wv=Re((e,n)=>{"use strict";var{URL:t,urlToHttpOptions:r}=require("url"),i=require("http2"),{Writable:s}=require("stream"),{Agent:u,globalAgent:h}=Ts(),c=vv(),a=B3(),{ERR_INVALID_ARG_TYPE:d,ERR_INVALID_PROTOCOL:f,ERR_HTTP_HEADERS_SENT:y}=Xc(),A=bv(),T=_v(),m=P3(),{HTTP2_HEADER_STATUS:S,HTTP2_HEADER_METHOD:B,HTTP2_HEADER_PATH:k,HTTP2_HEADER_AUTHORITY:p,HTTP2_METHOD_CONNECT:R}=i.constants,E=Symbol("headers"),P=Symbol("origin"),D=Symbol("session"),C=Symbol("options"),v=Symbol("flushedHeaders"),g=Symbol("jobs"),M=Symbol("pendingAgentPromise"),V=class extends s{constructor(q,w,U){if(super({autoDestroy:!1,emitClose:!1}),typeof q=="string"?q=r(new t(q)):q instanceof t?q=r(q):q={...q},typeof w=="function"||w===void 0?(U=w,w=q):w=Object.assign(q,w),w.h2session){if(this[D]=w.h2session,this[D].destroyed)throw new Error("The session has been closed already");this.protocol=this[D].socket.encrypted?"https:":"http:"}else if(w.agent===!1)this.agent=new u({maxEmptySessions:0});else if(typeof w.agent>"u"||w.agent===null)this.agent=h;else if(typeof w.agent.request=="function")this.agent=w.agent;else throw new d("options.agent",["http2wrapper.Agent-like Object","undefined","false"],w.agent);if(this.agent&&(this.protocol=this.agent.protocol),w.protocol&&w.protocol!==this.protocol)throw new f(w.protocol,this.protocol);w.port||(w.port=w.defaultPort||this.agent&&this.agent.defaultPort||443),w.host=w.hostname||w.host||"localhost",delete w.hostname;let{timeout:j}=w;w.timeout=void 0,this[E]=Object.create(null),this[g]=[],this[M]=void 0,this.socket=null,this.connection=null,this.method=w.method||"GET",this.method==="CONNECT"&&(w.path==="/"||w.path===void 0)||(this.path=w.path),this.res=null,this.aborted=!1,this.reusedSocket=!1;let{headers:L}=w;if(L)for(let ee in L)this.setHeader(ee,L[ee]);w.auth&&!("authorization"in this[E])&&(this[E].authorization="Basic "+Buffer.from(w.auth).toString("base64")),w.session=w.tlsSession,w.path=w.socketPath,this[C]=w,this[P]=new t(`${this.protocol}//${w.servername||w.host}:${w.port}`);let F=w._reuseSocket;F&&(w.createConnection=(...ee)=>F.destroyed?this.agent.createConnection(...ee):F,this.agent.getSession(this[P],this[C]).catch(()=>{})),j&&this.setTimeout(j),U&&this.once("response",U),this[v]=!1}get method(){return this[E][B]}set method(q){q&&(this[E][B]=q.toUpperCase())}get path(){let q=this.method==="CONNECT"?p:k;return this[E][q]}set path(q){if(q){let w=this.method==="CONNECT"?p:k;this[E][w]=q}}get host(){return this[P].hostname}set host(q){}get _mustNotHaveABody(){return this.method==="GET"||this.method==="HEAD"||this.method==="DELETE"}_write(q,w,U){if(this._mustNotHaveABody){U(new Error("The GET, HEAD and DELETE methods must NOT have a body"));return}this.flushHeaders();let j=()=>this._request.write(q,w,U);this._request?j():this[g].push(j)}_final(q){this.flushHeaders();let w=()=>{if(this._mustNotHaveABody||this.method==="CONNECT"){q();return}this._request.end(q)};this._request?w():this[g].push(w)}abort(){this.res&&this.res.complete||(this.aborted||process.nextTick(()=>this.emit("abort")),this.aborted=!0,this.destroy())}async _destroy(q,w){this.res&&this.res._dump(),this._request?this._request.destroy():process.nextTick(()=>{this.emit("close")});try{await this[M]}catch(U){this.aborted&&(q=U)}w(q)}async flushHeaders(){if(this[v]||this.destroyed)return;this[v]=!0;let q=this.method===R,w=U=>{if(this._request=U,this.destroyed){U.destroy();return}q||a(U,this,["timeout","continue"]),U.once("error",L=>{this.destroy(L)}),U.once("aborted",()=>{let{res:L}=this;L?(L.aborted=!0,L.emit("aborted"),L.destroy()):this.destroy(new Error("The server aborted the HTTP/2 stream"))});let j=(L,F,ee)=>{let ue=new c(this.socket,U.readableHighWaterMark);this.res=ue,ue.url=`${this[P].origin}${this.path}`,ue.req=this,ue.statusCode=L[S],ue.headers=L,ue.rawHeaders=ee,ue.once("end",()=>{ue.complete=!0,ue.socket=null,ue.connection=null}),q?(ue.upgrade=!0,this.emit("connect",ue,U,Buffer.alloc(0))?this.emit("close"):U.destroy()):(U.on("data",se=>{!ue._dumped&&!ue.push(se)&&U.pause()}),U.once("end",()=>{this.aborted||ue.push(null)}),this.emit("response",ue)||ue._dump())};U.once("response",j),U.once("headers",L=>this.emit("information",{statusCode:L[S]})),U.once("trailers",(L,F,ee)=>{let{res:ue}=this;if(ue===null){j(L,F,ee);return}ue.trailers=L,ue.rawTrailers=ee}),U.once("close",()=>{let{aborted:L,res:F}=this;if(F){L&&(F.aborted=!0,F.emit("aborted"),F.destroy());let ee=()=>{F.emit("close"),this.destroy(),this.emit("close")};F.readable?F.once("end",ee):ee();return}if(!this.destroyed){this.destroy(new Error("The HTTP/2 stream has been early terminated")),this.emit("close");return}this.destroy(),this.emit("close")}),this.socket=new Proxy(U,m);for(let L of this[g])L();this[g].length=0,this.emit("socket",this.socket)};if(!(p in this[E])&&!q&&(this[E][p]=this[P].host),this[D])try{w(this[D].request(this[E]))}catch(U){this.destroy(U)}else{this.reusedSocket=!0;try{let U=this.agent.request(this[P],this[C],this[E]);this[M]=U,w(await U),this[M]=!1}catch(U){this[M]=!1,this.destroy(U)}}}get connection(){return this.socket}set connection(q){this.socket=q}getHeaderNames(){return Object.keys(this[E])}hasHeader(q){if(typeof q!="string")throw new d("name","string",q);return!!this[E][q.toLowerCase()]}getHeader(q){if(typeof q!="string")throw new d("name","string",q);return this[E][q.toLowerCase()]}get headersSent(){return this[v]}removeHeader(q){if(typeof q!="string")throw new d("name","string",q);if(this.headersSent)throw new y("remove");delete this[E][q.toLowerCase()]}setHeader(q,w){if(this.headersSent)throw new y("set");A(q),T(q,w);let U=q.toLowerCase();if(U==="connection"){if(w.toLowerCase()==="keep-alive")return;throw new Error(`Invalid 'connection' header: ${w}`)}U==="host"&&this.method==="CONNECT"?this[E][p]=w:this[E][U]=w}setNoDelay(){}setSocketKeepAlive(){}setTimeout(q,w){let U=()=>this._request.setTimeout(q,w);return this._request?U():this[g].push(U),this}get maxHeadersCount(){if(!this.destroyed&&this._request)return this._request.session.localSettings.maxHeaderListSize}set maxHeadersCount(q){}};n.exports=V}),L3=Re((e,n)=>{"use strict";var t=require("tls");n.exports=(r={},i=t.connect)=>new Promise((s,u)=>{let h=!1,c,a=async()=>{await f,c.off("timeout",d),c.off("error",u),r.resolveSocket?(s({alpnProtocol:c.alpnProtocol,socket:c,timeout:h}),h&&(await Promise.resolve(),c.emit("timeout"))):(c.destroy(),s({alpnProtocol:c.alpnProtocol,timeout:h}))},d=async()=>{h=!0,a()},f=(async()=>{try{c=await i(r,a),c.on("error",u),c.once("timeout",d)}catch(y){u(y)}})()})}),N3=Re((e,n)=>{"use strict";var{isIP:t}=require("net"),r=require("assert"),i=s=>{if(s[0]==="["){let h=s.indexOf("]");return r(h!==-1),s.slice(1,h)}let u=s.indexOf(":");return u===-1?s:s.slice(0,u)};n.exports=s=>{let u=i(s);return t(u)?"":u}}),U3=Re((e,n)=>{"use strict";var{URL:t,urlToHttpOptions:r}=require("url"),i=require("http"),s=require("https"),u=L3(),h=gv(),{Agent:c,globalAgent:a}=Ts(),d=wv(),f=N3(),y=mv(),A=new h({maxSize:100}),T=new Map,m=(k,p,R)=>{p._httpMessage={shouldKeepAlive:!0};let E=()=>{k.emit("free",p,R)};p.on("free",E);let P=()=>{k.removeSocket(p,R)};p.on("close",P);let D=()=>{let{freeSockets:v}=k;for(let g of Object.values(v))if(g.includes(p)){p.destroy();return}};p.on("timeout",D);let C=()=>{k.removeSocket(p,R),p.off("close",P),p.off("free",E),p.off("timeout",D),p.off("agentRemove",C)};p.on("agentRemove",C),k.emit("free",p,R)},S=(k,p=new Map,R=void 0)=>async E=>{let P=`${E.host}:${E.port}:${E.ALPNProtocols.sort()}`;if(!k.has(P)){if(p.has(P))return{alpnProtocol:(await p.get(P)).alpnProtocol};let{path:D}=E;E.path=E.socketPath;let C=u(E,R);p.set(P,C);try{let v=await C;return k.set(P,v.alpnProtocol),p.delete(P),E.path=D,v}catch(v){throw p.delete(P),E.path=D,v}}return{alpnProtocol:k.get(P)}},B=S(A,T);n.exports=async(k,p,R)=>{if(typeof k=="string"?k=r(new t(k)):k instanceof t?k=r(k):k={...k},typeof p=="function"||p===void 0?(R=p,p=k):p=Object.assign(k,p),p.ALPNProtocols=p.ALPNProtocols||["h2","http/1.1"],!Array.isArray(p.ALPNProtocols)||p.ALPNProtocols.length===0)throw new Error("The `ALPNProtocols` option must be an Array with at least one entry");p.protocol=p.protocol||"https:";let E=p.protocol==="https:";p.host=p.hostname||p.host||"localhost",p.session=p.tlsSession,p.servername=p.servername||f(p.headers&&p.headers.host||p.host),p.port=p.port||(E?443:80),p._defaultAgent=E?s.globalAgent:i.globalAgent;let P=p.resolveProtocol||B,{agent:D}=p;if(D!==void 0&&D!==!1&&D.constructor.name!=="Object")throw new Error("The `options.agent` can be only an object `http`, `https` or `http2` properties");if(E){p.resolveSocket=!0;let{socket:C,alpnProtocol:v,timeout:g}=await P(p);if(g){C&&C.destroy();let V=new Error(`Timed out resolving ALPN: ${p.timeout} ms`);throw V.code="ETIMEDOUT",V.ms=p.timeout,V}C&&p.createConnection&&(C.destroy(),C=void 0),delete p.resolveSocket;let M=v==="h2";if(D&&(D=M?D.http2:D.https,p.agent=D),D===void 0&&(D=M?a:s.globalAgent),C)if(D===!1)C.destroy();else{let V=(M?c:s.Agent).prototype.createConnection;D.createConnection===V?M?p._reuseSocket=C:m(D,C,p):C.destroy()}if(M)return y(new d(p,R))}else D&&(p.agent=D.http);return y(i.request(p,R))},n.exports.protocolCache=A,n.exports.resolveProtocol=B,n.exports.createResolveProtocol=S}),Ev=Re((e,n)=>{"use strict";var t=require("stream"),r=require("tls"),i=new r.TLSSocket(new t.PassThrough)._handle._parentWrap.constructor;n.exports=i}),Sv=Re((e,n)=>{"use strict";var t=class extends Error{constructor(r,i=""){super(`The proxy server rejected the request with status code ${r} (${i||"empty status message"})`),this.statusCode=r,this.statusMessage=i}};n.exports=t}),x3=Re((e,n)=>{"use strict";var t=(r,i,s)=>{if(!s.some(u=>typeof u=="string"?typeof i===u:i instanceof u)){let u=s.map(h=>typeof h=="string"?h:h.name);throw new TypeError(`Expected '${r}' to be a type of ${u.join(" or ")}, got ${typeof i}`)}};n.exports=t}),Cv=Re((e,n)=>{"use strict";var{URL:t}=require("url"),r=x3();n.exports=(i,s)=>{r("proxyOptions",s,["object"]),r("proxyOptions.headers",s.headers,["object","undefined"]),r("proxyOptions.raw",s.raw,["boolean","undefined"]),r("proxyOptions.url",s.url,[t,"string"]);let u=new t(s.url);i.proxyOptions={raw:!0,...s,headers:{...s.headers},url:u}}}),vp=Re((e,n)=>{"use strict";n.exports=t=>{let{username:r,password:i}=t.proxyOptions.url;if(r||i){let s=`${r}:${i}`,u=`Basic ${Buffer.from(s).toString("base64")}`;return{"proxy-authorization":u,authorization:u}}return{}}}),D3=Re((e,n)=>{"use strict";var t=require("tls"),r=require("http"),i=require("https"),s=Ev(),{globalAgent:u}=Ts(),h=Sv(),c=Cv(),a=vp(),d=(A,T,m)=>{(async()=>{try{let{proxyOptions:S}=A,{url:B,headers:k,raw:p}=S,R=await u.request(B,S,{...a(A),...k,":method":"CONNECT",":authority":`${T.host}:${T.port}`});R.once("error",m),R.once("response",E=>{let P=E[":status"];if(P!==200){m(new h(P,""));return}let D=A instanceof i.Agent;if(p&&D){T.socket=R;let v=t.connect(T);v.once("close",()=>{R.destroy()}),m(null,v);return}let C=new s(R);C.encrypted=!1,C._handle.getpeername=v=>{v.family=void 0,v.address=void 0,v.port=void 0},m(null,C)})}catch(S){m(S)}})()},f=class extends r.Agent{constructor(A){super(A),c(this,A.proxyOptions)}createConnection(A,T){d(this,A,T)}},y=class extends i.Agent{constructor(A){super(A),c(this,A.proxyOptions)}createConnection(A,T){d(this,A,T)}};n.exports={HttpOverHttp2:f,HttpsOverHttp2:y}}),Tv=Re((e,n)=>{"use strict";var{Agent:t}=Ts(),r=Ev(),i=Sv(),s=Cv(),u=class extends t{constructor(h){super(h),s(this,h.proxyOptions)}async createConnection(h,c){let a=`${h.hostname}:${h.port||443}`,[d,f,y]=await this._getProxyStream(a);if(f!==200)throw new i(f,y);if(this.proxyOptions.raw)c.socket=d;else{let A=new r(d);return A.encrypted=!1,A._handle.getpeername=T=>{T.family=void 0,T.address=void 0,T.port=void 0},A}return super.createConnection(h,c)}};n.exports=u}),j3=Re((e,n)=>{"use strict";var{globalAgent:t}=Ts(),r=Tv(),i=vp(),s=h=>new Promise((c,a)=>{h.once("error",a),h.once("response",d=>{h.off("error",a),c(d[":status"])})}),u=class extends r{async _getProxyStream(h){let{proxyOptions:c}=this,a={...i(this),...c.headers,":method":"CONNECT",":authority":h},d=await t.request(c.url,c,a),f=await s(d);return[d,f,""]}};n.exports=u}),q3=Re((e,n)=>{"use strict";var t=require("http"),r=require("https"),i=Tv(),s=vp(),u=c=>new Promise((a,d)=>{let f=(y,A,T)=>{A.unshift(T),c.off("error",d),a([A,y.statusCode,y.statusMessage])};c.once("error",d),c.once("connect",f)}),h=class extends i{async _getProxyStream(c){let{proxyOptions:a}=this,{url:d,headers:f}=this.proxyOptions,y=(d.protocol==="https:"?r:t).request({...a,hostname:d.hostname,port:d.port,path:c,headers:{...s(this),...f,host:c},method:"CONNECT"}).end();return u(y)}};n.exports={Http2OverHttp:h,Http2OverHttps:h}}),Rv=Re((e,n)=>{"use strict";var t=require("http2"),{Agent:r,globalAgent:i}=Ts(),s=wv(),u=vv(),h=U3(),{HttpOverHttp2:c,HttpsOverHttp2:a}=D3(),d=j3(),{Http2OverHttp:f,Http2OverHttps:y}=q3(),A=bv(),T=_v(),m=(B,k,p)=>new s(B,k,p),S=(B,k,p)=>{let R=new s(B,k,p);return R.end(),R};n.exports={...t,ClientRequest:s,IncomingMessage:u,Agent:r,globalAgent:i,request:m,get:S,auto:h,proxies:{HttpOverHttp2:c,HttpsOverHttp2:a,Http2OverHttp2:d,Http2OverHttp:f,Http2OverHttps:y},validateHeaderName:A,validateHeaderValue:T}}),M3=Re((e,n)=>{if(!globalThis.DOMException)try{let{MessageChannel:t}=require("worker_threads"),r=new t().port1,i=new ArrayBuffer;r.postMessage(i,[i,i])}catch(t){t.constructor.name==="DOMException"&&(globalThis.DOMException=t.constructor)}n.exports=globalThis.DOMException}),Jc=Re((e,n)=>{var t=function(r,i){Error.call(this,r),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="JsonWebTokenError",this.message=r,i&&(this.inner=i)};t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,n.exports=t}),Av=Re((e,n)=>{var t=Jc(),r=function(i,s){t.call(this,i),this.name="NotBeforeError",this.date=s};r.prototype=Object.create(t.prototype),r.prototype.constructor=r,n.exports=r}),Iv=Re((e,n)=>{var t=Jc(),r=function(i,s){t.call(this,i),this.name="TokenExpiredError",this.expiredAt=s};r.prototype=Object.create(t.prototype),r.prototype.constructor=r,n.exports=r}),Fu=Re((e,n)=>{var t=require("buffer"),r=t.Buffer;function i(u,h){for(var c in u)h[c]=u[c]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?n.exports=t:(i(t,e),e.Buffer=s);function s(u,h,c){return r(u,h,c)}s.prototype=Object.create(r.prototype),i(r,s),s.from=function(u,h,c){if(typeof u=="number")throw new TypeError("Argument must not be a number");return r(u,h,c)},s.alloc=function(u,h,c){if(typeof u!="number")throw new TypeError("Argument must be a number");var a=r(u);return h!==void 0?typeof c=="string"?a.fill(h,c):a.fill(h):a.fill(0),a},s.allocUnsafe=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return r(u)},s.allocUnsafeSlow=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(u)}}),kv=Re((e,n)=>{var t=Fu().Buffer,r=require("stream"),i=require("util");function s(u){if(this.buffer=null,this.writable=!0,this.readable=!0,!u)return this.buffer=t.alloc(0),this;if(typeof u.pipe=="function")return this.buffer=t.alloc(0),u.pipe(this),this;if(u.length||typeof u=="object")return this.buffer=u,this.writable=!1,process.nextTick(function(){this.emit("end",u),this.readable=!1,this.emit("close")}.bind(this)),this;throw new TypeError("Unexpected data type ("+typeof u+")")}i.inherits(s,r),s.prototype.write=function(u){this.buffer=t.concat([this.buffer,t.from(u)]),this.emit("data",u)},s.prototype.end=function(u){u&&this.write(u),this.emit("end",u),this.emit("close"),this.writable=!1,this.readable=!1},n.exports=s}),F3=Re((e,n)=>{"use strict";var t=require("buffer").Buffer,r=require("buffer").SlowBuffer;n.exports=i;function i(h,c){if(!t.isBuffer(h)||!t.isBuffer(c)||h.length!==c.length)return!1;for(var a=0,d=0;d<h.length;d++)a|=h[d]^c[d];return a===0}i.install=function(){t.prototype.equal=r.prototype.equal=function(h){return i(this,h)}};var s=t.prototype.equal,u=r.prototype.equal;i.restore=function(){t.prototype.equal=s,r.prototype.equal=u}}),V3=Re((e,n)=>{"use strict";function t(s){var u=(s/8|0)+(s%8===0?0:1);return u}var r={ES256:t(256),ES384:t(384),ES512:t(521)};function i(s){var u=r[s];if(u)return u;throw new Error('Unknown algorithm "'+s+'"')}n.exports=i}),z3=Re((e,n)=>{"use strict";var t=Fu().Buffer,r=V3(),i=128,s=0,u=32,h=16,c=2,a=h|u|s<<6,d=c|s<<6;function f(S){return S.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function y(S){if(t.isBuffer(S))return S;if(typeof S=="string")return t.from(S,"base64");throw new TypeError("ECDSA signature must be a Base64 string or a Buffer")}function A(S,B){S=y(S);var k=r(B),p=k+1,R=S.length,E=0;if(S[E++]!==a)throw new Error('Could not find expected "seq"');var P=S[E++];if(P===(i|1)&&(P=S[E++]),R-E<P)throw new Error('"seq" specified length of "'+P+'", only "'+(R-E)+'" remaining');if(S[E++]!==d)throw new Error('Could not find expected "int" for "r"');var D=S[E++];if(R-E-2<D)throw new Error('"r" specified length of "'+D+'", only "'+(R-E-2)+'" available');if(p<D)throw new Error('"r" specified length of "'+D+'", max of "'+p+'" is acceptable');var C=E;if(E+=D,S[E++]!==d)throw new Error('Could not find expected "int" for "s"');var v=S[E++];if(R-E!==v)throw new Error('"s" specified length of "'+v+'", expected "'+(R-E)+'"');if(p<v)throw new Error('"s" specified length of "'+v+'", max of "'+p+'" is acceptable');var g=E;if(E+=v,E!==R)throw new Error('Expected to consume entire buffer, but "'+(R-E)+'" bytes remain');var M=k-D,V=k-v,q=t.allocUnsafe(M+D+V+v);for(E=0;E<M;++E)q[E]=0;S.copy(q,E,C+Math.max(-M,0),C+D),E=k;for(var w=E;E<w+V;++E)q[E]=0;return S.copy(q,E,g+Math.max(-V,0),g+v),q=q.toString("base64"),q=f(q),q}function T(S,B,k){for(var p=0;B+p<k&&S[B+p]===0;)++p;var R=S[B+p]>=i;return R&&--p,p}function m(S,B){S=y(S);var k=r(B),p=S.length;if(p!==k*2)throw new TypeError('"'+B+'" signatures must be "'+k*2+'" bytes, saw "'+p+'"');var R=T(S,0,k),E=T(S,k,S.length),P=k-R,D=k-E,C=1+1+P+1+1+D,v=C<i,g=t.allocUnsafe((v?2:3)+C),M=0;return g[M++]=a,v?g[M++]=C:(g[M++]=i|1,g[M++]=C&255),g[M++]=d,g[M++]=P,R<0?(g[M++]=0,M+=S.copy(g,M,0,k)):M+=S.copy(g,M,R,k),g[M++]=d,g[M++]=D,E<0?(g[M++]=0,S.copy(g,M,k)):S.copy(g,M,k+E),g}n.exports={derToJose:A,joseToDer:m}}),Bv=Re((e,n)=>{var t=F3(),r=Fu().Buffer,i=require("crypto"),s=z3(),u=require("util"),h=`"%s" is not a valid algorithm.
  Supported algorithms are:
  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".`,c="secret must be a string or buffer",a="key must be a string or a buffer",d="key must be a string, a buffer or an object",f=typeof i.createPublicKey=="function";f&&(a+=" or a KeyObject",c+="or a KeyObject");function y(w){if(!r.isBuffer(w)&&typeof w!="string"&&(!f||typeof w!="object"||typeof w.type!="string"||typeof w.asymmetricKeyType!="string"||typeof w.export!="function"))throw B(a)}function A(w){if(!r.isBuffer(w)&&typeof w!="string"&&typeof w!="object")throw B(d)}function T(w){if(!r.isBuffer(w)){if(typeof w=="string")return w;if(!f||typeof w!="object"||w.type!=="secret"||typeof w.export!="function")throw B(c)}}function m(w){return w.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function S(w){w=w.toString();var U=4-w.length%4;if(U!==4)for(var j=0;j<U;++j)w+="=";return w.replace(/\-/g,"+").replace(/_/g,"/")}function B(w){var U=[].slice.call(arguments,1),j=u.format.bind(u,w).apply(null,U);return new TypeError(j)}function k(w){return r.isBuffer(w)||typeof w=="string"}function p(w){return k(w)||(w=JSON.stringify(w)),w}function R(w){return function(U,j){T(j),U=p(U);var L=i.createHmac("sha"+w,j),F=(L.update(U),L.digest("base64"));return m(F)}}function E(w){return function(U,j,L){var F=R(w)(U,L);return t(r.from(j),r.from(F))}}function P(w){return function(U,j){A(j),U=p(U);var L=i.createSign("RSA-SHA"+w),F=(L.update(U),L.sign(j,"base64"));return m(F)}}function D(w){return function(U,j,L){y(L),U=p(U),j=S(j);var F=i.createVerify("RSA-SHA"+w);return F.update(U),F.verify(L,j,"base64")}}function C(w){return function(U,j){A(j),U=p(U);var L=i.createSign("RSA-SHA"+w),F=(L.update(U),L.sign({key:j,padding:i.constants.RSA_PKCS1_PSS_PADDING,saltLength:i.constants.RSA_PSS_SALTLEN_DIGEST},"base64"));return m(F)}}function v(w){return function(U,j,L){y(L),U=p(U),j=S(j);var F=i.createVerify("RSA-SHA"+w);return F.update(U),F.verify({key:L,padding:i.constants.RSA_PKCS1_PSS_PADDING,saltLength:i.constants.RSA_PSS_SALTLEN_DIGEST},j,"base64")}}function g(w){var U=P(w);return function(){var j=U.apply(null,arguments);return j=s.derToJose(j,"ES"+w),j}}function M(w){var U=D(w);return function(j,L,F){L=s.joseToDer(L,"ES"+w).toString("base64");var ee=U(j,L,F);return ee}}function V(){return function(){return""}}function q(){return function(w,U){return U===""}}n.exports=function(w){var U={hs:R,rs:P,ps:C,es:g,none:V},j={hs:E,rs:D,ps:v,es:M,none:q},L=w.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i);if(!L)throw B(h,w);var F=(L[1]||L[3]).toLowerCase(),ee=L[2];return{sign:U[F](ee),verify:j[F](ee)}}}),Ov=Re((e,n)=>{var t=require("buffer").Buffer;n.exports=function(r){return typeof r=="string"?r:typeof r=="number"||t.isBuffer(r)?r.toString():JSON.stringify(r)}}),$3=Re((e,n)=>{var t=Fu().Buffer,r=kv(),i=Bv(),s=require("stream"),u=Ov(),h=require("util");function c(y,A){return t.from(y,A).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function a(y,A,T){T=T||"utf8";var m=c(u(y),"binary"),S=c(u(A),T);return h.format("%s.%s",m,S)}function d(y){var A=y.header,T=y.payload,m=y.secret||y.privateKey,S=y.encoding,B=i(A.alg),k=a(A,T,S),p=B.sign(k,m);return h.format("%s.%s",k,p)}function f(y){var A=y.secret||y.privateKey||y.key,T=new r(A);this.readable=!0,this.header=y.header,this.encoding=y.encoding,this.secret=this.privateKey=this.key=T,this.payload=new r(y.payload),this.secret.once("close",function(){!this.payload.writable&&this.readable&&this.sign()}.bind(this)),this.payload.once("close",function(){!this.secret.writable&&this.readable&&this.sign()}.bind(this))}h.inherits(f,s),f.prototype.sign=function(){try{var y=d({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",y),this.emit("data",y),this.emit("end"),this.readable=!1,y}catch(A){this.readable=!1,this.emit("error",A),this.emit("close")}},f.sign=d,n.exports=f}),H3=Re((e,n)=>{var t=Fu().Buffer,r=kv(),i=Bv(),s=require("stream"),u=Ov(),h=require("util"),c=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function a(p){return Object.prototype.toString.call(p)==="[object Object]"}function d(p){if(a(p))return p;try{return JSON.parse(p)}catch{return}}function f(p){var R=p.split(".",1)[0];return d(t.from(R,"base64").toString("binary"))}function y(p){return p.split(".",2).join(".")}function A(p){return p.split(".")[2]}function T(p,R){R=R||"utf8";var E=p.split(".")[1];return t.from(E,"base64").toString(R)}function m(p){return c.test(p)&&!!f(p)}function S(p,R,E){if(!R){var P=new Error("Missing algorithm parameter for jws.verify");throw P.code="MISSING_ALGORITHM",P}p=u(p);var D=A(p),C=y(p),v=i(R);return v.verify(C,D,E)}function B(p,R){if(R=R||{},p=u(p),!m(p))return null;var E=f(p);if(!E)return null;var P=T(p);return(E.typ==="JWT"||R.json)&&(P=JSON.parse(P,R.encoding)),{header:E,payload:P,signature:A(p)}}function k(p){p=p||{};var R=p.secret||p.publicKey||p.key,E=new r(R);this.readable=!0,this.algorithm=p.algorithm,this.encoding=p.encoding,this.secret=this.publicKey=this.key=E,this.signature=new r(p.signature),this.secret.once("close",function(){!this.signature.writable&&this.readable&&this.verify()}.bind(this)),this.signature.once("close",function(){!this.secret.writable&&this.readable&&this.verify()}.bind(this))}h.inherits(k,s),k.prototype.verify=function(){try{var p=S(this.signature.buffer,this.algorithm,this.key.buffer),R=B(this.signature.buffer,this.encoding);return this.emit("done",p,R),this.emit("data",p),this.emit("end"),this.readable=!1,p}catch(E){this.readable=!1,this.emit("error",E),this.emit("close")}},k.decode=B,k.isValid=m,k.verify=S,n.exports=k}),bp=Re(e=>{var n=$3(),t=H3(),r=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"];e.ALGORITHMS=r,e.sign=n.sign,e.verify=t.verify,e.decode=t.decode,e.isValid=t.isValid,e.createSign=function(i){return new n(i)},e.createVerify=function(i){return new t(i)}}),Pv=Re((e,n)=>{var t=bp();n.exports=function(r,i){i=i||{};var s=t.decode(r,i);if(!s)return null;var u=s.payload;if(typeof u=="string")try{var h=JSON.parse(u);h!==null&&typeof h=="object"&&(u=h)}catch{}return i.complete===!0?{header:s.header,payload:u,signature:s.signature}:u}}),K3=Re((e,n)=>{var t=1e3,r=t*60,i=r*60,s=i*24,u=s*7,h=s*365.25;n.exports=function(y,A){A=A||{};var T=typeof y;if(T==="string"&&y.length>0)return c(y);if(T==="number"&&isFinite(y))return A.long?d(y):a(y);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(y))};function c(y){if(y=String(y),!(y.length>100)){var A=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(y);if(A){var T=parseFloat(A[1]),m=(A[2]||"ms").toLowerCase();switch(m){case"years":case"year":case"yrs":case"yr":case"y":return T*h;case"weeks":case"week":case"w":return T*u;case"days":case"day":case"d":return T*s;case"hours":case"hour":case"hrs":case"hr":case"h":return T*i;case"minutes":case"minute":case"mins":case"min":case"m":return T*r;case"seconds":case"second":case"secs":case"sec":case"s":return T*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return T;default:return}}}}function a(y){var A=Math.abs(y);return A>=s?Math.round(y/s)+"d":A>=i?Math.round(y/i)+"h":A>=r?Math.round(y/r)+"m":A>=t?Math.round(y/t)+"s":y+"ms"}function d(y){var A=Math.abs(y);return A>=s?f(y,A,s,"day"):A>=i?f(y,A,i,"hour"):A>=r?f(y,A,r,"minute"):A>=t?f(y,A,t,"second"):y+" ms"}function f(y,A,T,m){var S=A>=T*1.5;return Math.round(y/T)+" "+m+(S?"s":"")}}),Lv=Re((e,n)=>{var t=K3();n.exports=function(r,i){var s=i||Math.floor(Date.now()/1e3);if(typeof r=="string"){var u=t(r);return typeof u>"u"?void 0:Math.floor(s+u/1e3)}else return typeof r=="number"?s+r:void 0}}),Zc=Re((e,n)=>{var t="2.0.0",r=Number.MAX_SAFE_INTEGER||9007199254740991,i=16;n.exports={SEMVER_SPEC_VERSION:t,MAX_LENGTH:256,MAX_SAFE_INTEGER:r,MAX_SAFE_COMPONENT_LENGTH:i}}),eh=Re((e,n)=>{var t=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...r)=>console.error("SEMVER",...r):()=>{};n.exports=t}),Rs=Re((e,n)=>{var{MAX_SAFE_COMPONENT_LENGTH:t}=Zc(),r=eh();e=n.exports={};var i=e.re=[],s=e.src=[],u=e.t={},h=0,c=(a,d,f)=>{let y=h++;r(a,y,d),u[a]=y,s[y]=d,i[y]=new RegExp(d,f?"g":void 0)};c("NUMERICIDENTIFIER","0|[1-9]\\d*"),c("NUMERICIDENTIFIERLOOSE","[0-9]+"),c("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),c("MAINVERSION",`(${s[u.NUMERICIDENTIFIER]})\\.(${s[u.NUMERICIDENTIFIER]})\\.(${s[u.NUMERICIDENTIFIER]})`),c("MAINVERSIONLOOSE",`(${s[u.NUMERICIDENTIFIERLOOSE]})\\.(${s[u.NUMERICIDENTIFIERLOOSE]})\\.(${s[u.NUMERICIDENTIFIERLOOSE]})`),c("PRERELEASEIDENTIFIER",`(?:${s[u.NUMERICIDENTIFIER]}|${s[u.NONNUMERICIDENTIFIER]})`),c("PRERELEASEIDENTIFIERLOOSE",`(?:${s[u.NUMERICIDENTIFIERLOOSE]}|${s[u.NONNUMERICIDENTIFIER]})`),c("PRERELEASE",`(?:-(${s[u.PRERELEASEIDENTIFIER]}(?:\\.${s[u.PRERELEASEIDENTIFIER]})*))`),c("PRERELEASELOOSE",`(?:-?(${s[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${s[u.PRERELEASEIDENTIFIERLOOSE]})*))`),c("BUILDIDENTIFIER","[0-9A-Za-z-]+"),c("BUILD",`(?:\\+(${s[u.BUILDIDENTIFIER]}(?:\\.${s[u.BUILDIDENTIFIER]})*))`),c("FULLPLAIN",`v?${s[u.MAINVERSION]}${s[u.PRERELEASE]}?${s[u.BUILD]}?`),c("FULL",`^${s[u.FULLPLAIN]}$`),c("LOOSEPLAIN",`[v=\\s]*${s[u.MAINVERSIONLOOSE]}${s[u.PRERELEASELOOSE]}?${s[u.BUILD]}?`),c("LOOSE",`^${s[u.LOOSEPLAIN]}$`),c("GTLT","((?:<|>)?=?)"),c("XRANGEIDENTIFIERLOOSE",`${s[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),c("XRANGEIDENTIFIER",`${s[u.NUMERICIDENTIFIER]}|x|X|\\*`),c("XRANGEPLAIN",`[v=\\s]*(${s[u.XRANGEIDENTIFIER]})(?:\\.(${s[u.XRANGEIDENTIFIER]})(?:\\.(${s[u.XRANGEIDENTIFIER]})(?:${s[u.PRERELEASE]})?${s[u.BUILD]}?)?)?`),c("XRANGEPLAINLOOSE",`[v=\\s]*(${s[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[u.XRANGEIDENTIFIERLOOSE]})(?:${s[u.PRERELEASELOOSE]})?${s[u.BUILD]}?)?)?`),c("XRANGE",`^${s[u.GTLT]}\\s*${s[u.XRANGEPLAIN]}$`),c("XRANGELOOSE",`^${s[u.GTLT]}\\s*${s[u.XRANGEPLAINLOOSE]}$`),c("COERCE",`(^|[^\\d])(\\d{1,${t}})(?:\\.(\\d{1,${t}}))?(?:\\.(\\d{1,${t}}))?(?:$|[^\\d])`),c("COERCERTL",s[u.COERCE],!0),c("LONETILDE","(?:~>?)"),c("TILDETRIM",`(\\s*)${s[u.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",c("TILDE",`^${s[u.LONETILDE]}${s[u.XRANGEPLAIN]}$`),c("TILDELOOSE",`^${s[u.LONETILDE]}${s[u.XRANGEPLAINLOOSE]}$`),c("LONECARET","(?:\\^)"),c("CARETTRIM",`(\\s*)${s[u.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",c("CARET",`^${s[u.LONECARET]}${s[u.XRANGEPLAIN]}$`),c("CARETLOOSE",`^${s[u.LONECARET]}${s[u.XRANGEPLAINLOOSE]}$`),c("COMPARATORLOOSE",`^${s[u.GTLT]}\\s*(${s[u.LOOSEPLAIN]})$|^$`),c("COMPARATOR",`^${s[u.GTLT]}\\s*(${s[u.FULLPLAIN]})$|^$`),c("COMPARATORTRIM",`(\\s*)${s[u.GTLT]}\\s*(${s[u.LOOSEPLAIN]}|${s[u.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",c("HYPHENRANGE",`^\\s*(${s[u.XRANGEPLAIN]})\\s+-\\s+(${s[u.XRANGEPLAIN]})\\s*$`),c("HYPHENRANGELOOSE",`^\\s*(${s[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${s[u.XRANGEPLAINLOOSE]})\\s*$`),c("STAR","(<|>)?=?\\s*\\*"),c("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),c("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}),th=Re((e,n)=>{var t=["includePrerelease","loose","rtl"],r=i=>i?typeof i!="object"?{loose:!0}:t.filter(s=>i[s]).reduce((s,u)=>(s[u]=!0,s),{}):{};n.exports=r}),Nv=Re((e,n)=>{var t=/^[0-9]+$/,r=(s,u)=>{let h=t.test(s),c=t.test(u);return h&&c&&(s=+s,u=+u),s===u?0:h&&!c?-1:c&&!h?1:s<u?-1:1},i=(s,u)=>r(u,s);n.exports={compareIdentifiers:r,rcompareIdentifiers:i}}),an=Re((e,n)=>{var t=eh(),{MAX_LENGTH:r,MAX_SAFE_INTEGER:i}=Zc(),{re:s,t:u}=Rs(),h=th(),{compareIdentifiers:c}=Nv(),a=class{constructor(d,f){if(f=h(f),d instanceof a){if(d.loose===!!f.loose&&d.includePrerelease===!!f.includePrerelease)return d;d=d.version}else if(typeof d!="string")throw new TypeError(`Invalid Version: ${d}`);if(d.length>r)throw new TypeError(`version is longer than ${r} characters`);t("SemVer",d,f),this.options=f,this.loose=!!f.loose,this.includePrerelease=!!f.includePrerelease;let y=d.trim().match(f.loose?s[u.LOOSE]:s[u.FULL]);if(!y)throw new TypeError(`Invalid Version: ${d}`);if(this.raw=d,this.major=+y[1],this.minor=+y[2],this.patch=+y[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");y[4]?this.prerelease=y[4].split(".").map(A=>{if(/^[0-9]+$/.test(A)){let T=+A;if(T>=0&&T<i)return T}return A}):this.prerelease=[],this.build=y[5]?y[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(d){if(t("SemVer.compare",this.version,this.options,d),!(d instanceof a)){if(typeof d=="string"&&d===this.version)return 0;d=new a(d,this.options)}return d.version===this.version?0:this.compareMain(d)||this.comparePre(d)}compareMain(d){return d instanceof a||(d=new a(d,this.options)),c(this.major,d.major)||c(this.minor,d.minor)||c(this.patch,d.patch)}comparePre(d){if(d instanceof a||(d=new a(d,this.options)),this.prerelease.length&&!d.prerelease.length)return-1;if(!this.prerelease.length&&d.prerelease.length)return 1;if(!this.prerelease.length&&!d.prerelease.length)return 0;let f=0;do{let y=this.prerelease[f],A=d.prerelease[f];if(t("prerelease compare",f,y,A),y===void 0&&A===void 0)return 0;if(A===void 0)return 1;if(y===void 0)return-1;if(y!==A)return c(y,A)}while(++f)}compareBuild(d){d instanceof a||(d=new a(d,this.options));let f=0;do{let y=this.build[f],A=d.build[f];if(t("prerelease compare",f,y,A),y===void 0&&A===void 0)return 0;if(A===void 0)return 1;if(y===void 0)return-1;if(y!==A)return c(y,A)}while(++f)}inc(d,f){switch(d){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",f);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",f);break;case"prepatch":this.prerelease.length=0,this.inc("patch",f),this.inc("pre",f);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",f),this.inc("pre",f);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let y=this.prerelease.length;for(;--y>=0;)typeof this.prerelease[y]=="number"&&(this.prerelease[y]++,y=-2);y===-1&&this.prerelease.push(0)}f&&(c(this.prerelease[0],f)===0?isNaN(this.prerelease[1])&&(this.prerelease=[f,0]):this.prerelease=[f,0]);break;default:throw new Error(`invalid increment argument: ${d}`)}return this.format(),this.raw=this.version,this}};n.exports=a}),As=Re((e,n)=>{var{MAX_LENGTH:t}=Zc(),{re:r,t:i}=Rs(),s=an(),u=th(),h=(c,a)=>{if(a=u(a),c instanceof s)return c;if(typeof c!="string"||c.length>t||!(a.loose?r[i.LOOSE]:r[i.FULL]).test(c))return null;try{return new s(c,a)}catch{return null}};n.exports=h}),W3=Re((e,n)=>{var t=As(),r=(i,s)=>{let u=t(i,s);return u?u.version:null};n.exports=r}),G3=Re((e,n)=>{var t=As(),r=(i,s)=>{let u=t(i.trim().replace(/^[=v]+/,""),s);return u?u.version:null};n.exports=r}),Q3=Re((e,n)=>{var t=an(),r=(i,s,u,h)=>{typeof u=="string"&&(h=u,u=void 0);try{return new t(i instanceof t?i.version:i,u).inc(s,h).version}catch{return null}};n.exports=r}),oi=Re((e,n)=>{var t=an(),r=(i,s,u)=>new t(i,u).compare(new t(s,u));n.exports=r}),_p=Re((e,n)=>{var t=oi(),r=(i,s,u)=>t(i,s,u)===0;n.exports=r}),Y3=Re((e,n)=>{var t=As(),r=_p(),i=(s,u)=>{if(r(s,u))return null;{let h=t(s),c=t(u),a=h.prerelease.length||c.prerelease.length,d=a?"pre":"",f=a?"prerelease":"";for(let y in h)if((y==="major"||y==="minor"||y==="patch")&&h[y]!==c[y])return d+y;return f}};n.exports=i}),X3=Re((e,n)=>{var t=an(),r=(i,s)=>new t(i,s).major;n.exports=r}),J3=Re((e,n)=>{var t=an(),r=(i,s)=>new t(i,s).minor;n.exports=r}),Z3=Re((e,n)=>{var t=an(),r=(i,s)=>new t(i,s).patch;n.exports=r}),e6=Re((e,n)=>{var t=As(),r=(i,s)=>{let u=t(i,s);return u&&u.prerelease.length?u.prerelease:null};n.exports=r}),t6=Re((e,n)=>{var t=oi(),r=(i,s,u)=>t(s,i,u);n.exports=r}),r6=Re((e,n)=>{var t=oi(),r=(i,s)=>t(i,s,!0);n.exports=r}),wp=Re((e,n)=>{var t=an(),r=(i,s,u)=>{let h=new t(i,u),c=new t(s,u);return h.compare(c)||h.compareBuild(c)};n.exports=r}),n6=Re((e,n)=>{var t=wp(),r=(i,s)=>i.sort((u,h)=>t(u,h,s));n.exports=r}),i6=Re((e,n)=>{var t=wp(),r=(i,s)=>i.sort((u,h)=>t(h,u,s));n.exports=r}),rh=Re((e,n)=>{var t=oi(),r=(i,s,u)=>t(i,s,u)>0;n.exports=r}),Ep=Re((e,n)=>{var t=oi(),r=(i,s,u)=>t(i,s,u)<0;n.exports=r}),Uv=Re((e,n)=>{var t=oi(),r=(i,s,u)=>t(i,s,u)!==0;n.exports=r}),Sp=Re((e,n)=>{var t=oi(),r=(i,s,u)=>t(i,s,u)>=0;n.exports=r}),Cp=Re((e,n)=>{var t=oi(),r=(i,s,u)=>t(i,s,u)<=0;n.exports=r}),xv=Re((e,n)=>{var t=_p(),r=Uv(),i=rh(),s=Sp(),u=Ep(),h=Cp(),c=(a,d,f,y)=>{switch(d){case"===":return typeof a=="object"&&(a=a.version),typeof f=="object"&&(f=f.version),a===f;case"!==":return typeof a=="object"&&(a=a.version),typeof f=="object"&&(f=f.version),a!==f;case"":case"=":case"==":return t(a,f,y);case"!=":return r(a,f,y);case">":return i(a,f,y);case">=":return s(a,f,y);case"<":return u(a,f,y);case"<=":return h(a,f,y);default:throw new TypeError(`Invalid operator: ${d}`)}};n.exports=c}),o6=Re((e,n)=>{var t=an(),r=As(),{re:i,t:s}=Rs(),u=(h,c)=>{if(h instanceof t)return h;if(typeof h=="number"&&(h=String(h)),typeof h!="string")return null;c=c||{};let a=null;if(!c.rtl)a=h.match(i[s.COERCE]);else{let d;for(;(d=i[s.COERCERTL].exec(h))&&(!a||a.index+a[0].length!==h.length);)(!a||d.index+d[0].length!==a.index+a[0].length)&&(a=d),i[s.COERCERTL].lastIndex=d.index+d[1].length+d[2].length;i[s.COERCERTL].lastIndex=-1}return a===null?null:r(`${a[2]}.${a[3]||"0"}.${a[4]||"0"}`,c)};n.exports=u}),a6=Re((e,n)=>{"use strict";n.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let r=this.head;r;r=r.next)yield r.value}}}),s6=Re((e,n)=>{"use strict";n.exports=t,t.Node=u,t.create=t;function t(h){var c=this;if(c instanceof t||(c=new t),c.tail=null,c.head=null,c.length=0,h&&typeof h.forEach=="function")h.forEach(function(f){c.push(f)});else if(arguments.length>0)for(var a=0,d=arguments.length;a<d;a++)c.push(arguments[a]);return c}t.prototype.removeNode=function(h){if(h.list!==this)throw new Error("removing node which does not belong to this list");var c=h.next,a=h.prev;return c&&(c.prev=a),a&&(a.next=c),h===this.head&&(this.head=c),h===this.tail&&(this.tail=a),h.list.length--,h.next=null,h.prev=null,h.list=null,c},t.prototype.unshiftNode=function(h){if(h!==this.head){h.list&&h.list.removeNode(h);var c=this.head;h.list=this,h.next=c,c&&(c.prev=h),this.head=h,this.tail||(this.tail=h),this.length++}},t.prototype.pushNode=function(h){if(h!==this.tail){h.list&&h.list.removeNode(h);var c=this.tail;h.list=this,h.prev=c,c&&(c.next=h),this.tail=h,this.head||(this.head=h),this.length++}},t.prototype.push=function(){for(var h=0,c=arguments.length;h<c;h++)i(this,arguments[h]);return this.length},t.prototype.unshift=function(){for(var h=0,c=arguments.length;h<c;h++)s(this,arguments[h]);return this.length},t.prototype.pop=function(){if(this.tail){var h=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,h}},t.prototype.shift=function(){if(this.head){var h=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,h}},t.prototype.forEach=function(h,c){c=c||this;for(var a=this.head,d=0;a!==null;d++)h.call(c,a.value,d,this),a=a.next},t.prototype.forEachReverse=function(h,c){c=c||this;for(var a=this.tail,d=this.length-1;a!==null;d--)h.call(c,a.value,d,this),a=a.prev},t.prototype.get=function(h){for(var c=0,a=this.head;a!==null&&c<h;c++)a=a.next;if(c===h&&a!==null)return a.value},t.prototype.getReverse=function(h){for(var c=0,a=this.tail;a!==null&&c<h;c++)a=a.prev;if(c===h&&a!==null)return a.value},t.prototype.map=function(h,c){c=c||this;for(var a=new t,d=this.head;d!==null;)a.push(h.call(c,d.value,this)),d=d.next;return a},t.prototype.mapReverse=function(h,c){c=c||this;for(var a=new t,d=this.tail;d!==null;)a.push(h.call(c,d.value,this)),d=d.prev;return a},t.prototype.reduce=function(h,c){var a,d=this.head;if(arguments.length>1)a=c;else if(this.head)d=this.head.next,a=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var f=0;d!==null;f++)a=h(a,d.value,f),d=d.next;return a},t.prototype.reduceReverse=function(h,c){var a,d=this.tail;if(arguments.length>1)a=c;else if(this.tail)d=this.tail.prev,a=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var f=this.length-1;d!==null;f--)a=h(a,d.value,f),d=d.prev;return a},t.prototype.toArray=function(){for(var h=new Array(this.length),c=0,a=this.head;a!==null;c++)h[c]=a.value,a=a.next;return h},t.prototype.toArrayReverse=function(){for(var h=new Array(this.length),c=0,a=this.tail;a!==null;c++)h[c]=a.value,a=a.prev;return h},t.prototype.slice=function(h,c){c=c||this.length,c<0&&(c+=this.length),h=h||0,h<0&&(h+=this.length);var a=new t;if(c<h||c<0)return a;h<0&&(h=0),c>this.length&&(c=this.length);for(var d=0,f=this.head;f!==null&&d<h;d++)f=f.next;for(;f!==null&&d<c;d++,f=f.next)a.push(f.value);return a},t.prototype.sliceReverse=function(h,c){c=c||this.length,c<0&&(c+=this.length),h=h||0,h<0&&(h+=this.length);var a=new t;if(c<h||c<0)return a;h<0&&(h=0),c>this.length&&(c=this.length);for(var d=this.length,f=this.tail;f!==null&&d>c;d--)f=f.prev;for(;f!==null&&d>h;d--,f=f.prev)a.push(f.value);return a},t.prototype.splice=function(h,c,...a){h>this.length&&(h=this.length-1),h<0&&(h=this.length+h);for(var d=0,f=this.head;f!==null&&d<h;d++)f=f.next;for(var y=[],d=0;f&&d<c;d++)y.push(f.value),f=this.removeNode(f);f===null&&(f=this.tail),f!==this.head&&f!==this.tail&&(f=f.prev);for(var d=0;d<a.length;d++)f=r(this,f,a[d]);return y},t.prototype.reverse=function(){for(var h=this.head,c=this.tail,a=h;a!==null;a=a.prev){var d=a.prev;a.prev=a.next,a.next=d}return this.head=c,this.tail=h,this};function r(h,c,a){var d=c===h.head?new u(a,null,c,h):new u(a,c,c.next,h);return d.next===null&&(h.tail=d),d.prev===null&&(h.head=d),h.length++,d}function i(h,c){h.tail=new u(c,h.tail,null,h),h.head||(h.head=h.tail),h.length++}function s(h,c){h.head=new u(c,null,h.head,h),h.tail||(h.tail=h.head),h.length++}function u(h,c,a,d){if(!(this instanceof u))return new u(h,c,a,d);this.list=d,this.value=h,c?(c.next=this,this.prev=c):this.prev=null,a?(a.prev=this,this.next=a):this.next=null}try{a6()(t)}catch{}}),u6=Re((e,n)=>{"use strict";var t=s6(),r=Symbol("max"),i=Symbol("length"),s=Symbol("lengthCalculator"),u=Symbol("allowStale"),h=Symbol("maxAge"),c=Symbol("dispose"),a=Symbol("noDisposeOnSet"),d=Symbol("lruList"),f=Symbol("cache"),y=Symbol("updateAgeOnGet"),A=()=>1,T=class{constructor(E){if(typeof E=="number"&&(E={max:E}),E||(E={}),E.max&&(typeof E.max!="number"||E.max<0))throw new TypeError("max must be a non-negative number");let P=this[r]=E.max||1/0,D=E.length||A;if(this[s]=typeof D!="function"?A:D,this[u]=E.stale||!1,E.maxAge&&typeof E.maxAge!="number")throw new TypeError("maxAge must be a number");this[h]=E.maxAge||0,this[c]=E.dispose,this[a]=E.noDisposeOnSet||!1,this[y]=E.updateAgeOnGet||!1,this.reset()}set max(E){if(typeof E!="number"||E<0)throw new TypeError("max must be a non-negative number");this[r]=E||1/0,B(this)}get max(){return this[r]}set allowStale(E){this[u]=!!E}get allowStale(){return this[u]}set maxAge(E){if(typeof E!="number")throw new TypeError("maxAge must be a non-negative number");this[h]=E,B(this)}get maxAge(){return this[h]}set lengthCalculator(E){typeof E!="function"&&(E=A),E!==this[s]&&(this[s]=E,this[i]=0,this[d].forEach(P=>{P.length=this[s](P.value,P.key),this[i]+=P.length})),B(this)}get lengthCalculator(){return this[s]}get length(){return this[i]}get itemCount(){return this[d].length}rforEach(E,P){P=P||this;for(let D=this[d].tail;D!==null;){let C=D.prev;R(this,E,D,P),D=C}}forEach(E,P){P=P||this;for(let D=this[d].head;D!==null;){let C=D.next;R(this,E,D,P),D=C}}keys(){return this[d].toArray().map(E=>E.key)}values(){return this[d].toArray().map(E=>E.value)}reset(){this[c]&&this[d]&&this[d].length&&this[d].forEach(E=>this[c](E.key,E.value)),this[f]=new Map,this[d]=new t,this[i]=0}dump(){return this[d].map(E=>S(this,E)?!1:{k:E.key,v:E.value,e:E.now+(E.maxAge||0)}).toArray().filter(E=>E)}dumpLru(){return this[d]}set(E,P,D){if(D=D||this[h],D&&typeof D!="number")throw new TypeError("maxAge must be a number");let C=D?Date.now():0,v=this[s](P,E);if(this[f].has(E)){if(v>this[r])return k(this,this[f].get(E)),!1;let M=this[f].get(E).value;return this[c]&&(this[a]||this[c](E,M.value)),M.now=C,M.maxAge=D,M.value=P,this[i]+=v-M.length,M.length=v,this.get(E),B(this),!0}let g=new p(E,P,v,C,D);return g.length>this[r]?(this[c]&&this[c](E,P),!1):(this[i]+=g.length,this[d].unshift(g),this[f].set(E,this[d].head),B(this),!0)}has(E){if(!this[f].has(E))return!1;let P=this[f].get(E).value;return!S(this,P)}get(E){return m(this,E,!0)}peek(E){return m(this,E,!1)}pop(){let E=this[d].tail;return E?(k(this,E),E.value):null}del(E){k(this,this[f].get(E))}load(E){this.reset();let P=Date.now();for(let D=E.length-1;D>=0;D--){let C=E[D],v=C.e||0;if(v===0)this.set(C.k,C.v);else{let g=v-P;g>0&&this.set(C.k,C.v,g)}}}prune(){this[f].forEach((E,P)=>m(this,P,!1))}},m=(E,P,D)=>{let C=E[f].get(P);if(C){let v=C.value;if(S(E,v)){if(k(E,C),!E[u])return}else D&&(E[y]&&(C.value.now=Date.now()),E[d].unshiftNode(C));return v.value}},S=(E,P)=>{if(!P||!P.maxAge&&!E[h])return!1;let D=Date.now()-P.now;return P.maxAge?D>P.maxAge:E[h]&&D>E[h]},B=E=>{if(E[i]>E[r])for(let P=E[d].tail;E[i]>E[r]&&P!==null;){let D=P.prev;k(E,P),P=D}},k=(E,P)=>{if(P){let D=P.value;E[c]&&E[c](D.key,D.value),E[i]-=D.length,E[f].delete(D.key),E[d].removeNode(P)}},p=class{constructor(E,P,D,C,v){this.key=E,this.value=P,this.length=D,this.now=C,this.maxAge=v||0}},R=(E,P,D,C)=>{let v=D.value;S(E,v)&&(k(E,D),E[u]||(v=void 0)),v&&P.call(C,v.value,v.key,E)};n.exports=T}),ai=Re((e,n)=>{var t=class{constructor(q,w){if(w=s(w),q instanceof t)return q.loose===!!w.loose&&q.includePrerelease===!!w.includePrerelease?q:new t(q.raw,w);if(q instanceof u)return this.raw=q.value,this.set=[[q]],this.format(),this;if(this.options=w,this.loose=!!w.loose,this.includePrerelease=!!w.includePrerelease,this.raw=q,this.set=q.split("||").map(U=>this.parseRange(U.trim())).filter(U=>U.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${q}`);if(this.set.length>1){let U=this.set[0];if(this.set=this.set.filter(j=>!T(j[0])),this.set.length===0)this.set=[U];else if(this.set.length>1){for(let j of this.set)if(j.length===1&&m(j[0])){this.set=[j];break}}}this.format()}format(){return this.range=this.set.map(q=>q.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(q){q=q.trim();let w=`parseRange:${Object.keys(this.options).join(",")}:${q}`,U=i.get(w);if(U)return U;let j=this.options.loose,L=j?a[d.HYPHENRANGELOOSE]:a[d.HYPHENRANGE];q=q.replace(L,M(this.options.includePrerelease)),h("hyphen replace",q),q=q.replace(a[d.COMPARATORTRIM],f),h("comparator trim",q),q=q.replace(a[d.TILDETRIM],y),q=q.replace(a[d.CARETTRIM],A),q=q.split(/\s+/).join(" ");let F=q.split(" ").map(pe=>B(pe,this.options)).join(" ").split(/\s+/).map(pe=>g(pe,this.options));j&&(F=F.filter(pe=>(h("loose invalid filter",pe,this.options),!!pe.match(a[d.COMPARATORLOOSE])))),h("range list",F);let ee=new Map,ue=F.map(pe=>new u(pe,this.options));for(let pe of ue){if(T(pe))return[pe];ee.set(pe.value,pe)}ee.size>1&&ee.has("")&&ee.delete("");let se=[...ee.values()];return i.set(w,se),se}intersects(q,w){if(!(q instanceof t))throw new TypeError("a Range is required");return this.set.some(U=>S(U,w)&&q.set.some(j=>S(j,w)&&U.every(L=>j.every(F=>L.intersects(F,w)))))}test(q){if(!q)return!1;if(typeof q=="string")try{q=new c(q,this.options)}catch{return!1}for(let w=0;w<this.set.length;w++)if(V(this.set[w],q,this.options))return!0;return!1}};n.exports=t;var r=u6(),i=new r({max:1e3}),s=th(),u=nh(),h=eh(),c=an(),{re:a,t:d,comparatorTrimReplace:f,tildeTrimReplace:y,caretTrimReplace:A}=Rs(),T=q=>q.value==="<0.0.0-0",m=q=>q.value==="",S=(q,w)=>{let U=!0,j=q.slice(),L=j.pop();for(;U&&j.length;)U=j.every(F=>L.intersects(F,w)),L=j.pop();return U},B=(q,w)=>(h("comp",q,w),q=E(q,w),h("caret",q),q=p(q,w),h("tildes",q),q=D(q,w),h("xrange",q),q=v(q,w),h("stars",q),q),k=q=>!q||q.toLowerCase()==="x"||q==="*",p=(q,w)=>q.trim().split(/\s+/).map(U=>R(U,w)).join(" "),R=(q,w)=>{let U=w.loose?a[d.TILDELOOSE]:a[d.TILDE];return q.replace(U,(j,L,F,ee,ue)=>{h("tilde",q,j,L,F,ee,ue);let se;return k(L)?se="":k(F)?se=`>=${L}.0.0 <${+L+1}.0.0-0`:k(ee)?se=`>=${L}.${F}.0 <${L}.${+F+1}.0-0`:ue?(h("replaceTilde pr",ue),se=`>=${L}.${F}.${ee}-${ue} <${L}.${+F+1}.0-0`):se=`>=${L}.${F}.${ee} <${L}.${+F+1}.0-0`,h("tilde return",se),se})},E=(q,w)=>q.trim().split(/\s+/).map(U=>P(U,w)).join(" "),P=(q,w)=>{h("caret",q,w);let U=w.loose?a[d.CARETLOOSE]:a[d.CARET],j=w.includePrerelease?"-0":"";return q.replace(U,(L,F,ee,ue,se)=>{h("caret",q,L,F,ee,ue,se);let pe;return k(F)?pe="":k(ee)?pe=`>=${F}.0.0${j} <${+F+1}.0.0-0`:k(ue)?F==="0"?pe=`>=${F}.${ee}.0${j} <${F}.${+ee+1}.0-0`:pe=`>=${F}.${ee}.0${j} <${+F+1}.0.0-0`:se?(h("replaceCaret pr",se),F==="0"?ee==="0"?pe=`>=${F}.${ee}.${ue}-${se} <${F}.${ee}.${+ue+1}-0`:pe=`>=${F}.${ee}.${ue}-${se} <${F}.${+ee+1}.0-0`:pe=`>=${F}.${ee}.${ue}-${se} <${+F+1}.0.0-0`):(h("no pr"),F==="0"?ee==="0"?pe=`>=${F}.${ee}.${ue}${j} <${F}.${ee}.${+ue+1}-0`:pe=`>=${F}.${ee}.${ue}${j} <${F}.${+ee+1}.0-0`:pe=`>=${F}.${ee}.${ue} <${+F+1}.0.0-0`),h("caret return",pe),pe})},D=(q,w)=>(h("replaceXRanges",q,w),q.split(/\s+/).map(U=>C(U,w)).join(" ")),C=(q,w)=>{q=q.trim();let U=w.loose?a[d.XRANGELOOSE]:a[d.XRANGE];return q.replace(U,(j,L,F,ee,ue,se)=>{h("xRange",q,j,L,F,ee,ue,se);let pe=k(F),ke=pe||k(ee),Le=ke||k(ue),qe=Le;return L==="="&&qe&&(L=""),se=w.includePrerelease?"-0":"",pe?L===">"||L==="<"?j="<0.0.0-0":j="*":L&&qe?(ke&&(ee=0),ue=0,L===">"?(L=">=",ke?(F=+F+1,ee=0,ue=0):(ee=+ee+1,ue=0)):L==="<="&&(L="<",ke?F=+F+1:ee=+ee+1),L==="<"&&(se="-0"),j=`${L+F}.${ee}.${ue}${se}`):ke?j=`>=${F}.0.0${se} <${+F+1}.0.0-0`:Le&&(j=`>=${F}.${ee}.0${se} <${F}.${+ee+1}.0-0`),h("xRange return",j),j})},v=(q,w)=>(h("replaceStars",q,w),q.trim().replace(a[d.STAR],"")),g=(q,w)=>(h("replaceGTE0",q,w),q.trim().replace(a[w.includePrerelease?d.GTE0PRE:d.GTE0],"")),M=q=>(w,U,j,L,F,ee,ue,se,pe,ke,Le,qe,Ce)=>(k(j)?U="":k(L)?U=`>=${j}.0.0${q?"-0":""}`:k(F)?U=`>=${j}.${L}.0${q?"-0":""}`:ee?U=`>=${U}`:U=`>=${U}${q?"-0":""}`,k(pe)?se="":k(ke)?se=`<${+pe+1}.0.0-0`:k(Le)?se=`<${pe}.${+ke+1}.0-0`:qe?se=`<=${pe}.${ke}.${Le}-${qe}`:q?se=`<${pe}.${ke}.${+Le+1}-0`:se=`<=${se}`,`${U} ${se}`.trim()),V=(q,w,U)=>{for(let j=0;j<q.length;j++)if(!q[j].test(w))return!1;if(w.prerelease.length&&!U.includePrerelease){for(let j=0;j<q.length;j++)if(h(q[j].semver),q[j].semver!==u.ANY&&q[j].semver.prerelease.length>0){let L=q[j].semver;if(L.major===w.major&&L.minor===w.minor&&L.patch===w.patch)return!0}return!1}return!0}}),nh=Re((e,n)=>{var t=Symbol("SemVer ANY"),r=class{static get ANY(){return t}constructor(f,y){if(y=i(y),f instanceof r){if(f.loose===!!y.loose)return f;f=f.value}c("comparator",f,y),this.options=y,this.loose=!!y.loose,this.parse(f),this.semver===t?this.value="":this.value=this.operator+this.semver.version,c("comp",this)}parse(f){let y=this.options.loose?s[u.COMPARATORLOOSE]:s[u.COMPARATOR],A=f.match(y);if(!A)throw new TypeError(`Invalid comparator: ${f}`);this.operator=A[1]!==void 0?A[1]:"",this.operator==="="&&(this.operator=""),A[2]?this.semver=new a(A[2],this.options.loose):this.semver=t}toString(){return this.value}test(f){if(c("Comparator.test",f,this.options.loose),this.semver===t||f===t)return!0;if(typeof f=="string")try{f=new a(f,this.options)}catch{return!1}return h(f,this.operator,this.semver,this.options)}intersects(f,y){if(!(f instanceof r))throw new TypeError("a Comparator is required");if((!y||typeof y!="object")&&(y={loose:!!y,includePrerelease:!1}),this.operator==="")return this.value===""?!0:new d(f.value,y).test(this.value);if(f.operator==="")return f.value===""?!0:new d(this.value,y).test(f.semver);let A=(this.operator===">="||this.operator===">")&&(f.operator===">="||f.operator===">"),T=(this.operator==="<="||this.operator==="<")&&(f.operator==="<="||f.operator==="<"),m=this.semver.version===f.semver.version,S=(this.operator===">="||this.operator==="<=")&&(f.operator===">="||f.operator==="<="),B=h(this.semver,"<",f.semver,y)&&(this.operator===">="||this.operator===">")&&(f.operator==="<="||f.operator==="<"),k=h(this.semver,">",f.semver,y)&&(this.operator==="<="||this.operator==="<")&&(f.operator===">="||f.operator===">");return A||T||m&&S||B||k}};n.exports=r;var i=th(),{re:s,t:u}=Rs(),h=xv(),c=eh(),a=an(),d=ai()}),ih=Re((e,n)=>{var t=ai(),r=(i,s,u)=>{try{s=new t(s,u)}catch{return!1}return s.test(i)};n.exports=r}),l6=Re((e,n)=>{var t=ai(),r=(i,s)=>new t(i,s).set.map(u=>u.map(h=>h.value).join(" ").trim().split(" "));n.exports=r}),c6=Re((e,n)=>{var t=an(),r=ai(),i=(s,u,h)=>{let c=null,a=null,d=null;try{d=new r(u,h)}catch{return null}return s.forEach(f=>{d.test(f)&&(!c||a.compare(f)===-1)&&(c=f,a=new t(c,h))}),c};n.exports=i}),h6=Re((e,n)=>{var t=an(),r=ai(),i=(s,u,h)=>{let c=null,a=null,d=null;try{d=new r(u,h)}catch{return null}return s.forEach(f=>{d.test(f)&&(!c||a.compare(f)===1)&&(c=f,a=new t(c,h))}),c};n.exports=i}),f6=Re((e,n)=>{var t=an(),r=ai(),i=rh(),s=(u,h)=>{u=new r(u,h);let c=new t("0.0.0");if(u.test(c)||(c=new t("0.0.0-0"),u.test(c)))return c;c=null;for(let a=0;a<u.set.length;++a){let d=u.set[a],f=null;d.forEach(y=>{let A=new t(y.semver.version);switch(y.operator){case">":A.prerelease.length===0?A.patch++:A.prerelease.push(0),A.raw=A.format();case"":case">=":(!f||i(A,f))&&(f=A);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${y.operator}`)}}),f&&(!c||i(c,f))&&(c=f)}return c&&u.test(c)?c:null};n.exports=s}),d6=Re((e,n)=>{var t=ai(),r=(i,s)=>{try{return new t(i,s).range||"*"}catch{return null}};n.exports=r}),Tp=Re((e,n)=>{var t=an(),r=nh(),{ANY:i}=r,s=ai(),u=ih(),h=rh(),c=Ep(),a=Cp(),d=Sp(),f=(y,A,T,m)=>{y=new t(y,m),A=new s(A,m);let S,B,k,p,R;switch(T){case">":S=h,B=a,k=c,p=">",R=">=";break;case"<":S=c,B=d,k=h,p="<",R="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(u(y,A,m))return!1;for(let E=0;E<A.set.length;++E){let P=A.set[E],D=null,C=null;if(P.forEach(v=>{v.semver===i&&(v=new r(">=0.0.0")),D=D||v,C=C||v,S(v.semver,D.semver,m)?D=v:k(v.semver,C.semver,m)&&(C=v)}),D.operator===p||D.operator===R||(!C.operator||C.operator===p)&&B(y,C.semver)||C.operator===R&&k(y,C.semver))return!1}return!0};n.exports=f}),p6=Re((e,n)=>{var t=Tp(),r=(i,s,u)=>t(i,s,">",u);n.exports=r}),y6=Re((e,n)=>{var t=Tp(),r=(i,s,u)=>t(i,s,"<",u);n.exports=r}),g6=Re((e,n)=>{var t=ai(),r=(i,s,u)=>(i=new t(i,u),s=new t(s,u),i.intersects(s));n.exports=r}),m6=Re((e,n)=>{var t=ih(),r=oi();n.exports=(i,s,u)=>{let h=[],c=null,a=null,d=i.sort((T,m)=>r(T,m,u));for(let T of d)t(T,s,u)?(a=T,c||(c=T)):(a&&h.push([c,a]),a=null,c=null);c&&h.push([c,null]);let f=[];for(let[T,m]of h)T===m?f.push(T):!m&&T===d[0]?f.push("*"):m?T===d[0]?f.push(`<=${m}`):f.push(`${T} - ${m}`):f.push(`>=${T}`);let y=f.join(" || "),A=typeof s.raw=="string"?s.raw:String(s);return y.length<A.length?y:s}}),v6=Re((e,n)=>{var t=ai(),r=nh(),{ANY:i}=r,s=ih(),u=oi(),h=(f,y,A={})=>{if(f===y)return!0;f=new t(f,A),y=new t(y,A);let T=!1;e:for(let m of f.set){for(let S of y.set){let B=c(m,S,A);if(T=T||B!==null,B)continue e}if(T)return!1}return!0},c=(f,y,A)=>{if(f===y)return!0;if(f.length===1&&f[0].semver===i){if(y.length===1&&y[0].semver===i)return!0;A.includePrerelease?f=[new r(">=0.0.0-0")]:f=[new r(">=0.0.0")]}if(y.length===1&&y[0].semver===i){if(A.includePrerelease)return!0;y=[new r(">=0.0.0")]}let T=new Set,m,S;for(let C of f)C.operator===">"||C.operator===">="?m=a(m,C,A):C.operator==="<"||C.operator==="<="?S=d(S,C,A):T.add(C.semver);if(T.size>1)return null;let B;if(m&&S&&(B=u(m.semver,S.semver,A),B>0||B===0&&(m.operator!==">="||S.operator!=="<=")))return null;for(let C of T){if(m&&!s(C,String(m),A)||S&&!s(C,String(S),A))return null;for(let v of y)if(!s(C,String(v),A))return!1;return!0}let k,p,R,E,P=S&&!A.includePrerelease&&S.semver.prerelease.length?S.semver:!1,D=m&&!A.includePrerelease&&m.semver.prerelease.length?m.semver:!1;P&&P.prerelease.length===1&&S.operator==="<"&&P.prerelease[0]===0&&(P=!1);for(let C of y){if(E=E||C.operator===">"||C.operator===">=",R=R||C.operator==="<"||C.operator==="<=",m){if(D&&C.semver.prerelease&&C.semver.prerelease.length&&C.semver.major===D.major&&C.semver.minor===D.minor&&C.semver.patch===D.patch&&(D=!1),C.operator===">"||C.operator===">="){if(k=a(m,C,A),k===C&&k!==m)return!1}else if(m.operator===">="&&!s(m.semver,String(C),A))return!1}if(S){if(P&&C.semver.prerelease&&C.semver.prerelease.length&&C.semver.major===P.major&&C.semver.minor===P.minor&&C.semver.patch===P.patch&&(P=!1),C.operator==="<"||C.operator==="<="){if(p=d(S,C,A),p===C&&p!==S)return!1}else if(S.operator==="<="&&!s(S.semver,String(C),A))return!1}if(!C.operator&&(S||m)&&B!==0)return!1}return!(m&&R&&!S&&B!==0||S&&E&&!m&&B!==0||D||P)},a=(f,y,A)=>{if(!f)return y;let T=u(f.semver,y.semver,A);return T>0?f:T<0||y.operator===">"&&f.operator===">="?y:f},d=(f,y,A)=>{if(!f)return y;let T=u(f.semver,y.semver,A);return T<0?f:T>0||y.operator==="<"&&f.operator==="<="?y:f};n.exports=h}),Rp=Re((e,n)=>{var t=Rs(),r=Zc(),i=an(),s=Nv(),u=As(),h=W3(),c=G3(),a=Q3(),d=Y3(),f=X3(),y=J3(),A=Z3(),T=e6(),m=oi(),S=t6(),B=r6(),k=wp(),p=n6(),R=i6(),E=rh(),P=Ep(),D=_p(),C=Uv(),v=Sp(),g=Cp(),M=xv(),V=o6(),q=nh(),w=ai(),U=ih(),j=l6(),L=c6(),F=h6(),ee=f6(),ue=d6(),se=Tp(),pe=p6(),ke=y6(),Le=g6(),qe=m6(),Ce=v6();n.exports={parse:u,valid:h,clean:c,inc:a,diff:d,major:f,minor:y,patch:A,prerelease:T,compare:m,rcompare:S,compareLoose:B,compareBuild:k,sort:p,rsort:R,gt:E,lt:P,eq:D,neq:C,gte:v,lte:g,cmp:M,coerce:V,Comparator:q,Range:w,satisfies:U,toComparators:j,maxSatisfying:L,minSatisfying:F,minVersion:ee,validRange:ue,outside:se,gtr:pe,ltr:ke,intersects:Le,simplifyRange:qe,subset:Ce,SemVer:i,re:t.re,src:t.src,tokens:t.t,SEMVER_SPEC_VERSION:r.SEMVER_SPEC_VERSION,compareIdentifiers:s.compareIdentifiers,rcompareIdentifiers:s.rcompareIdentifiers}}),b6=Re((e,n)=>{var t=Rp();n.exports=t.satisfies(process.version,">=15.7.0")}),_6=Re((e,n)=>{var t=Rp();n.exports=t.satisfies(process.version,">=16.9.0")}),Dv=Re((e,n)=>{var t=b6(),r=_6(),i={ec:["ES256","ES384","ES512"],rsa:["RS256","PS256","RS384","PS384","RS512","PS512"],"rsa-pss":["PS256","PS384","PS512"]},s={ES256:"prime256v1",ES384:"secp384r1",ES512:"secp521r1"};n.exports=function(u,h){if(!u||!h)return;let c=h.asymmetricKeyType;if(!c)return;let a=i[c];if(!a)throw new Error(`Unknown key type "${c}".`);if(!a.includes(u))throw new Error(`"alg" parameter for "${c}" key type must be one of: ${a.join(", ")}.`);if(t)switch(c){case"ec":let d=h.asymmetricKeyDetails.namedCurve,f=s[u];if(d!==f)throw new Error(`"alg" parameter "${u}" requires curve "${f}".`);break;case"rsa-pss":if(r){let y=parseInt(u.slice(-3),10),{hashAlgorithm:A,mgf1HashAlgorithm:T,saltLength:m}=h.asymmetricKeyDetails;if(A!==`sha${y}`||T!==A)throw new Error(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${u}.`);if(m!==void 0&&m>y>>3)throw new Error(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${u}.`)}break}}}),jv=Re((e,n)=>{var t=Rp();n.exports=t.satisfies(process.version,"^6.12.0 || >=8.0.0")}),w6=Re((e,n)=>{var t=Jc(),r=Av(),i=Iv(),s=Pv(),u=Lv(),h=Dv(),c=jv(),a=bp(),{KeyObject:d,createSecretKey:f,createPublicKey:y}=require("crypto"),A=["RS256","RS384","RS512"],T=["ES256","ES384","ES512"],m=["RS256","RS384","RS512"],S=["HS256","HS384","HS512"];c&&(A.splice(A.length,0,"PS256","PS384","PS512"),m.splice(m.length,0,"PS256","PS384","PS512")),n.exports=function(B,k,p,R){typeof p=="function"&&!R&&(R=p,p={}),p||(p={}),p=Object.assign({},p);let E;if(R?E=R:E=function(M,V){if(M)throw M;return V},p.clockTimestamp&&typeof p.clockTimestamp!="number")return E(new t("clockTimestamp must be a number"));if(p.nonce!==void 0&&(typeof p.nonce!="string"||p.nonce.trim()===""))return E(new t("nonce must be a non-empty string"));if(p.allowInvalidAsymmetricKeyTypes!==void 0&&typeof p.allowInvalidAsymmetricKeyTypes!="boolean")return E(new t("allowInvalidAsymmetricKeyTypes must be a boolean"));let P=p.clockTimestamp||Math.floor(Date.now()/1e3);if(!B)return E(new t("jwt must be provided"));if(typeof B!="string")return E(new t("jwt must be a string"));let D=B.split(".");if(D.length!==3)return E(new t("jwt malformed"));let C;try{C=s(B,{complete:!0})}catch(M){return E(M)}if(!C)return E(new t("invalid token"));let v=C.header,g;if(typeof k=="function"){if(!R)return E(new t("verify must be called asynchronous if secret or public key is provided as a callback"));g=k}else g=function(M,V){return V(null,k)};return g(v,function(M,V){if(M)return E(new t("error in secret or public key callback: "+M.message));let q=D[2].trim()!=="";if(!q&&V)return E(new t("jwt signature is required"));if(q&&!V)return E(new t("secret or public key must be provided"));if(!q&&!p.algorithms)return E(new t('please specify "none" in "algorithms" to verify unsigned tokens'));if(V!=null&&!(V instanceof d))try{V=y(V)}catch{try{V=f(typeof V=="string"?Buffer.from(V):V)}catch{return E(new t("secretOrPublicKey is not valid key material"))}}if(p.algorithms||(V.type==="secret"?p.algorithms=S:["rsa","rsa-pss"].includes(V.asymmetricKeyType)?p.algorithms=m:V.asymmetricKeyType==="ec"?p.algorithms=T:p.algorithms=A),p.algorithms.indexOf(C.header.alg)===-1)return E(new t("invalid algorithm"));if(v.alg.startsWith("HS")&&V.type!=="secret")return E(new t(`secretOrPublicKey must be a symmetric key when using ${v.alg}`));if(/^(?:RS|PS|ES)/.test(v.alg)&&V.type!=="public")return E(new t(`secretOrPublicKey must be an asymmetric key when using ${v.alg}`));if(!p.allowInvalidAsymmetricKeyTypes)try{h(v.alg,V)}catch(j){return E(j)}let w;try{w=a.verify(B,C.header.alg,V)}catch(j){return E(j)}if(!w)return E(new t("invalid signature"));let U=C.payload;if(typeof U.nbf<"u"&&!p.ignoreNotBefore){if(typeof U.nbf!="number")return E(new t("invalid nbf value"));if(U.nbf>P+(p.clockTolerance||0))return E(new r("jwt not active",new Date(U.nbf*1e3)))}if(typeof U.exp<"u"&&!p.ignoreExpiration){if(typeof U.exp!="number")return E(new t("invalid exp value"));if(P>=U.exp+(p.clockTolerance||0))return E(new i("jwt expired",new Date(U.exp*1e3)))}if(p.audience){let j=Array.isArray(p.audience)?p.audience:[p.audience];if(!(Array.isArray(U.aud)?U.aud:[U.aud]).some(function(L){return j.some(function(F){return F instanceof RegExp?F.test(L):F===L})}))return E(new t("jwt audience invalid. expected: "+j.join(" or ")))}if(p.issuer&&(typeof p.issuer=="string"&&U.iss!==p.issuer||Array.isArray(p.issuer)&&p.issuer.indexOf(U.iss)===-1))return E(new t("jwt issuer invalid. expected: "+p.issuer));if(p.subject&&U.sub!==p.subject)return E(new t("jwt subject invalid. expected: "+p.subject));if(p.jwtid&&U.jti!==p.jwtid)return E(new t("jwt jwtid invalid. expected: "+p.jwtid));if(p.nonce&&U.nonce!==p.nonce)return E(new t("jwt nonce invalid. expected: "+p.nonce));if(p.maxAge){if(typeof U.iat!="number")return E(new t("iat required when maxAge is specified"));let j=u(p.maxAge,U.iat);if(typeof j>"u")return E(new t('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'));if(P>=j+(p.clockTolerance||0))return E(new i("maxAge exceeded",new Date(j*1e3)))}if(p.complete===!0){let j=C.signature;return E(null,{header:v,payload:U,signature:j})}return E(null,U)})}}),E6=Re((e,n)=>{(function(){var t,r="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",h="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",a=500,d="__lodash_placeholder__",f=1,y=2,A=4,T=1,m=2,S=1,B=2,k=4,p=8,R=16,E=32,P=64,D=128,C=256,v=512,g=30,M="...",V=800,q=16,w=1,U=2,j=3,L=1/0,F=9007199254740991,ee=17976931348623157e292,ue=0/0,se=4294967295,pe=se-1,ke=se>>>1,Le=[["ary",D],["bind",S],["bindKey",B],["curry",p],["curryRight",R],["flip",v],["partial",E],["partialRight",P],["rearg",C]],qe="[object Arguments]",Ce="[object Array]",We="[object AsyncFunction]",Te="[object Boolean]",et="[object Date]",Je="[object DOMException]",N="[object Error]",X="[object Function]",Q="[object GeneratorFunction]",I="[object Map]",K="[object Number]",oe="[object Null]",te="[object Object]",we="[object Promise]",Ue="[object Proxy]",je="[object RegExp]",ge="[object Set]",Pe="[object String]",Ke="[object Symbol]",rt="[object Undefined]",$e="[object WeakMap]",Bt="[object WeakSet]",Ct="[object ArrayBuffer]",Tt="[object DataView]",Lt="[object Float32Array]",Ot="[object Float64Array]",Nt="[object Int8Array]",$t="[object Int16Array]",Xt="[object Int32Array]",Ht="[object Uint8Array]",Kt="[object Uint8ClampedArray]",lr="[object Uint16Array]",Cr="[object Uint32Array]",gr=/\b__p \+= '';/g,qr=/\b(__p \+=) '' \+/g,un=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Qr=/&(?:amp|lt|gt|quot|#39);/g,Yr=/[&<>"']/g,_n=RegExp(Qr.source),li=RegExp(Yr.source),Mr=/<%-([\s\S]+?)%>/g,Nn=/<%([\s\S]+?)%>/g,xt=/<%=([\s\S]+?)%>/g,Dt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Jt=/^\w*$/,jt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Wt=/[\\^$.*+?()[\]{}|]/g,Zt=RegExp(Wt.source),Gt=/^\s+/,Qt=/\s/,rr=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,nr=/\{\n\/\* \[wrapped with (.+)\] \*/,ir=/,? & /,er=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,or=/[()=,{}\[\]\/\s]/,cr=/\\(\\)?/g,zt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,tr=/\w*$/,Na=/^[-+]0x[0-9a-f]+$/i,po=/^0b[01]+$/i,Os=/^\[object .+?Constructor\]$/,yo=/^0o[0-7]+$/i,Bi=/^(?:0|[1-9]\d*)$/,wn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Tr=/($^)/,Ko=/['\n\r\u2028\u2029\\]/g,Oi="\\ud800-\\udfff",go="\\u0300-\\u036f",mo="\\ufe20-\\ufe2f",Ua="\\u20d0-\\u20ff",xa=go+mo+Ua,Da="\\u2700-\\u27bf",vo="a-z\\xdf-\\xf6\\xf8-\\xff",br="\\xac\\xb1\\xd7\\xf7",ja="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",qa="\\u2000-\\u206f",Ps=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Wo="A-Z\\xc0-\\xd6\\xd8-\\xde",$="\\ufe0e\\ufe0f",G=br+ja+qa+Ps,Z="['\u2019]",ce="["+Oi+"]",be="["+G+"]",Se="["+xa+"]",Ne="\\d+",Oe="["+Da+"]",_t="["+vo+"]",ar="[^"+Oi+G+Ne+Da+vo+Wo+"]",Rr="\\ud83c[\\udffb-\\udfff]",Or="(?:"+Se+"|"+Rr+")",ln="[^"+Oi+"]",ci="(?:\\ud83c[\\udde6-\\uddff]){2}",Ar="[\\ud800-\\udbff][\\udc00-\\udfff]",mr="["+Wo+"]",Pi="\\u200d",En="(?:"+_t+"|"+ar+")",Gn="(?:"+mr+"|"+ar+")",Ls="(?:"+Z+"(?:d|ll|m|re|s|t|ve))?",Ju="(?:"+Z+"(?:D|LL|M|RE|S|T|VE))?",Ns=Or+"?",Li="["+$+"]?",bo="(?:"+Pi+"(?:"+[ln,ci,Ar].join("|")+")"+Li+Ns+")*",Ma="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Zu="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",el=Li+Ns+bo,Us="(?:"+[Oe,ci,Ar].join("|")+")"+el,xs="(?:"+[ln+Se+"?",Se,ci,Ar,ce].join("|")+")",Ds=RegExp(Z,"g"),wh=RegExp(Se,"g"),js=RegExp(Rr+"(?="+Rr+")|"+xs+el,"g"),Eh=RegExp([mr+"?"+_t+"+"+Ls+"(?="+[be,mr,"$"].join("|")+")",Gn+"+"+Ju+"(?="+[be,mr+En,"$"].join("|")+")",mr+"?"+En+"+"+Ls,mr+"+"+Ju,Zu,Ma,Ne,Us].join("|"),"g"),Sh=RegExp("["+Pi+Oi+xa+$+"]"),Un=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ch=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Th=-1,Ft={};Ft[Lt]=Ft[Ot]=Ft[Nt]=Ft[$t]=Ft[Xt]=Ft[Ht]=Ft[Kt]=Ft[lr]=Ft[Cr]=!0,Ft[qe]=Ft[Ce]=Ft[Ct]=Ft[Te]=Ft[Tt]=Ft[et]=Ft[N]=Ft[X]=Ft[I]=Ft[K]=Ft[te]=Ft[je]=Ft[ge]=Ft[Pe]=Ft[$e]=!1;var Rt={};Rt[qe]=Rt[Ce]=Rt[Ct]=Rt[Tt]=Rt[Te]=Rt[et]=Rt[Lt]=Rt[Ot]=Rt[Nt]=Rt[$t]=Rt[Xt]=Rt[I]=Rt[K]=Rt[te]=Rt[je]=Rt[ge]=Rt[Pe]=Rt[Ke]=Rt[Ht]=Rt[Kt]=Rt[lr]=Rt[Cr]=!0,Rt[N]=Rt[X]=Rt[$e]=!1;var qs={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Go={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ni={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Rh={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},tl=parseFloat,Ah=parseInt,rl=typeof global=="object"&&global&&global.Object===Object&&global,nl=typeof self=="object"&&self&&self.Object===Object&&self,vr=rl||nl||Function("return this")(),Fa=typeof e=="object"&&e&&!e.nodeType&&e,hi=Fa&&typeof n=="object"&&n&&!n.nodeType&&n,Ms=hi&&hi.exports===Fa,fi=Ms&&rl.process,Fr=function(){try{var he=hi&&hi.require&&hi.require("util").types;return he||fi&&fi.binding&&fi.binding("util")}catch{}}(),Fs=Fr&&Fr.isArrayBuffer,il=Fr&&Fr.isDate,Qo=Fr&&Fr.isMap,ol=Fr&&Fr.isRegExp,al=Fr&&Fr.isSet,Vs=Fr&&Fr.isTypedArray;function Xr(he,me,ye){switch(ye.length){case 0:return he.call(me);case 1:return he.call(me,ye[0]);case 2:return he.call(me,ye[0],ye[1]);case 3:return he.call(me,ye[0],ye[1],ye[2])}return he.apply(me,ye)}function Va(he,me,ye,xe){for(var He=-1,ht=he==null?0:he.length;++He<ht;){var hr=he[He];me(xe,hr,ye(hr),he)}return xe}function Vr(he,me){for(var ye=-1,xe=he==null?0:he.length;++ye<xe&&me(he[ye],ye,he)!==!1;);return he}function Ih(he,me){for(var ye=he==null?0:he.length;ye--&&me(he[ye],ye,he)!==!1;);return he}function sl(he,me){for(var ye=-1,xe=he==null?0:he.length;++ye<xe;)if(!me(he[ye],ye,he))return!1;return!0}function xn(he,me){for(var ye=-1,xe=he==null?0:he.length,He=0,ht=[];++ye<xe;){var hr=he[ye];me(hr,ye,he)&&(ht[He++]=hr)}return ht}function Yo(he,me){var ye=he==null?0:he.length;return!!ye&&di(he,me,0)>-1}function _o(he,me,ye){for(var xe=-1,He=he==null?0:he.length;++xe<He;)if(ye(me,he[xe]))return!0;return!1}function qt(he,me){for(var ye=-1,xe=he==null?0:he.length,He=Array(xe);++ye<xe;)He[ye]=me(he[ye],ye,he);return He}function zr(he,me){for(var ye=-1,xe=me.length,He=he.length;++ye<xe;)he[He+ye]=me[ye];return he}function Ui(he,me,ye,xe){var He=-1,ht=he==null?0:he.length;for(xe&&ht&&(ye=he[++He]);++He<ht;)ye=me(ye,he[He],He,he);return ye}function za(he,me,ye,xe){var He=he==null?0:he.length;for(xe&&He&&(ye=he[--He]);He--;)ye=me(ye,he[He],He,he);return ye}function $a(he,me){for(var ye=-1,xe=he==null?0:he.length;++ye<xe;)if(me(he[ye],ye,he))return!0;return!1}var kh=Ks("length");function zs(he){return he.split("")}function Bh(he){return he.match(er)||[]}function $s(he,me,ye){var xe;return ye(he,function(He,ht,hr){if(me(He,ht,hr))return xe=ht,!1}),xe}function xi(he,me,ye,xe){for(var He=he.length,ht=ye+(xe?1:-1);xe?ht--:++ht<He;)if(me(he[ht],ht,he))return ht;return-1}function di(he,me,ye){return me===me?Uh(he,me,ye):xi(he,Hs,ye)}function ul(he,me,ye,xe){for(var He=ye-1,ht=he.length;++He<ht;)if(xe(he[He],me))return He;return-1}function Hs(he){return he!==he}function ll(he,me){var ye=he==null?0:he.length;return ye?Gs(he,me)/ye:ue}function Ks(he){return function(me){return me==null?t:me[he]}}function Xo(he){return function(me){return he==null?t:he[me]}}function Ws(he,me,ye,xe,He){return He(he,function(ht,hr,gt){ye=xe?(xe=!1,ht):me(ye,ht,hr,gt)}),ye}function Oh(he,me){var ye=he.length;for(he.sort(me);ye--;)he[ye]=he[ye].value;return he}function Gs(he,me){for(var ye,xe=-1,He=he.length;++xe<He;){var ht=me(he[xe]);ht!==t&&(ye=ye===t?ht:ye+ht)}return ye}function Qs(he,me){for(var ye=-1,xe=Array(he);++ye<he;)xe[ye]=me(ye);return xe}function cl(he,me){return qt(me,function(ye){return[ye,he[ye]]})}function Di(he){return he&&he.slice(0,fl(he)+1).replace(Gt,"")}function Ir(he){return function(me){return he(me)}}function ji(he,me){return qt(me,function(ye){return he[ye]})}function wo(he,me){return he.has(me)}function Jo(he,me){for(var ye=-1,xe=he.length;++ye<xe&&di(me,he[ye],0)>-1;);return ye}function Eo(he,me){for(var ye=he.length;ye--&&di(me,he[ye],0)>-1;);return ye}function Ha(he,me){for(var ye=he.length,xe=0;ye--;)he[ye]===me&&++xe;return xe}var pi=Xo(qs),Ys=Xo(Go);function Ph(he){return"\\"+Rh[he]}function So(he,me){return he==null?t:he[me]}function qi(he){return Sh.test(he)}function Lh(he){return Un.test(he)}function Ka(he){for(var me,ye=[];!(me=he.next()).done;)ye.push(me.value);return ye}function Xs(he){var me=-1,ye=Array(he.size);return he.forEach(function(xe,He){ye[++me]=[He,xe]}),ye}function hl(he,me){return function(ye){return he(me(ye))}}function yi(he,me){for(var ye=-1,xe=he.length,He=0,ht=[];++ye<xe;){var hr=he[ye];(hr===me||hr===d)&&(he[ye]=d,ht[He++]=ye)}return ht}function Wa(he){var me=-1,ye=Array(he.size);return he.forEach(function(xe){ye[++me]=xe}),ye}function Nh(he){var me=-1,ye=Array(he.size);return he.forEach(function(xe){ye[++me]=[xe,xe]}),ye}function Uh(he,me,ye){for(var xe=ye-1,He=he.length;++xe<He;)if(he[xe]===me)return xe;return-1}function xh(he,me,ye){for(var xe=ye+1;xe--;)if(he[xe]===me)return xe;return xe}function Co(he){return qi(he)?dl(he):kh(he)}function Sn(he){return qi(he)?jh(he):zs(he)}function fl(he){for(var me=he.length;me--&&Qt.test(he.charAt(me)););return me}var Dh=Xo(Ni);function dl(he){for(var me=js.lastIndex=0;js.test(he);)++me;return me}function jh(he){return he.match(js)||[]}function qh(he){return he.match(Eh)||[]}var gi=function he(me){me=me==null?vr:Dn.defaults(vr.Object(),me,Dn.pick(vr,Ch));var ye=me.Array,xe=me.Date,He=me.Error,ht=me.Function,hr=me.Math,gt=me.Object,Ga=me.RegExp,pl=me.String,Pr=me.TypeError,Zo=ye.prototype,yl=ht.prototype,Mi=gt.prototype,Fi=me["__core-js_shared__"],ea=yl.toString,wt=Mi.hasOwnProperty,Mh=0,gl=function(){var o=/[^.]+$/.exec(Fi&&Fi.keys&&Fi.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}(),Qa=Mi.toString,Fh=ea.call(gt),Ya=vr._,Vh=Ga("^"+ea.call(wt).replace(Wt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ta=Ms?me.Buffer:t,Cn=me.Symbol,Vi=me.Uint8Array,ra=ta?ta.allocUnsafe:t,mi=hl(gt.getPrototypeOf,gt),na=gt.create,ml=Mi.propertyIsEnumerable,Xa=Zo.splice,Js=Cn?Cn.isConcatSpreadable:t,To=Cn?Cn.iterator:t,zi=Cn?Cn.toStringTag:t,ia=function(){try{var o=la(gt,"defineProperty");return o({},"",{}),o}catch{}}(),zh=me.clearTimeout!==vr.clearTimeout&&me.clearTimeout,$h=xe&&xe.now!==vr.Date.now&&xe.now,Hh=me.setTimeout!==vr.setTimeout&&me.setTimeout,Ja=hr.ceil,Za=hr.floor,Ro=gt.getOwnPropertySymbols,vl=ta?ta.isBuffer:t,_=me.isFinite,O=Zo.join,H=hl(gt.keys,gt),re=hr.max,de=hr.min,ve=xe.now,Ie=me.parseInt,Me=hr.random,nt=Zo.reverse,at=la(me,"DataView"),ct=la(me,"Map"),dt=la(me,"Promise"),Vt=la(me,"Set"),Lr=la(me,"WeakMap"),jn=la(gt,"create"),Tn=Lr&&new Lr,$r={},_r=ca(at),Jr=ca(ct),cn=ca(dt),$i=ca(Vt),ze=ca(Lr),st=Cn?Cn.prototype:t,bt=st?st.valueOf:t,Nr=st?st.toString:t;function Y(o){if(fr(o)&&!tt(o)&&!(o instanceof pt)){if(o instanceof Hr)return o;if(wt.call(o,"__wrapped__"))return uy(o)}return new Hr(o)}var Rn=function(){function o(){}return function(l){if(!sr(l))return{};if(na)return na(l);o.prototype=l;var b=new o;return o.prototype=t,b}}();function Qn(){}function Hr(o,l){this.__wrapped__=o,this.__actions__=[],this.__chain__=!!l,this.__index__=0,this.__values__=t}Y.templateSettings={escape:Mr,evaluate:Nn,interpolate:xt,variable:"",imports:{_:Y}},Y.prototype=Qn.prototype,Y.prototype.constructor=Y,Hr.prototype=Rn(Qn.prototype),Hr.prototype.constructor=Hr;function pt(o){this.__wrapped__=o,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=se,this.__views__=[]}function e_(){var o=new pt(this.__wrapped__);return o.__actions__=hn(this.__actions__),o.__dir__=this.__dir__,o.__filtered__=this.__filtered__,o.__iteratees__=hn(this.__iteratees__),o.__takeCount__=this.__takeCount__,o.__views__=hn(this.__views__),o}function t_(){if(this.__filtered__){var o=new pt(this);o.__dir__=-1,o.__filtered__=!0}else o=this.clone(),o.__dir__*=-1;return o}function r_(){var o=this.__wrapped__.value(),l=this.__dir__,b=tt(o),x=l<0,z=b?o.length:0,J=pw(0,z,this.__views__),ne=J.start,ae=J.end,fe=ae-ne,_e=x?ae:ne-1,Ee=this.__iteratees__,Ae=Ee.length,De=0,Fe=de(fe,this.__takeCount__);if(!b||!x&&z==fe&&Fe==fe)return O0(o,this.__actions__);var Ye=[];e:for(;fe--&&De<Fe;){_e+=l;for(var ot=-1,Xe=o[_e];++ot<Ae;){var ft=Ee[ot],mt=ft.iteratee,kn=ft.type,tn=mt(Xe);if(kn==U)Xe=tn;else if(!tn){if(kn==w)continue e;break e}}Ye[De++]=Xe}return Ye}pt.prototype=Rn(Qn.prototype),pt.prototype.constructor=pt;function oa(o){var l=-1,b=o==null?0:o.length;for(this.clear();++l<b;){var x=o[l];this.set(x[0],x[1])}}function n_(){this.__data__=jn?jn(null):{},this.size=0}function i_(o){var l=this.has(o)&&delete this.__data__[o];return this.size-=l?1:0,l}function o_(o){var l=this.__data__;if(jn){var b=l[o];return b===c?t:b}return wt.call(l,o)?l[o]:t}function a_(o){var l=this.__data__;return jn?l[o]!==t:wt.call(l,o)}function s_(o,l){var b=this.__data__;return this.size+=this.has(o)?0:1,b[o]=jn&&l===t?c:l,this}oa.prototype.clear=n_,oa.prototype.delete=i_,oa.prototype.get=o_,oa.prototype.has=a_,oa.prototype.set=s_;function Hi(o){var l=-1,b=o==null?0:o.length;for(this.clear();++l<b;){var x=o[l];this.set(x[0],x[1])}}function u_(){this.__data__=[],this.size=0}function l_(o){var l=this.__data__,b=bl(l,o);if(b<0)return!1;var x=l.length-1;return b==x?l.pop():Xa.call(l,b,1),--this.size,!0}function c_(o){var l=this.__data__,b=bl(l,o);return b<0?t:l[b][1]}function h_(o){return bl(this.__data__,o)>-1}function f_(o,l){var b=this.__data__,x=bl(b,o);return x<0?(++this.size,b.push([o,l])):b[x][1]=l,this}Hi.prototype.clear=u_,Hi.prototype.delete=l_,Hi.prototype.get=c_,Hi.prototype.has=h_,Hi.prototype.set=f_;function Ki(o){var l=-1,b=o==null?0:o.length;for(this.clear();++l<b;){var x=o[l];this.set(x[0],x[1])}}function d_(){this.size=0,this.__data__={hash:new oa,map:new(ct||Hi),string:new oa}}function p_(o){var l=Ol(this,o).delete(o);return this.size-=l?1:0,l}function y_(o){return Ol(this,o).get(o)}function g_(o){return Ol(this,o).has(o)}function m_(o,l){var b=Ol(this,o),x=b.size;return b.set(o,l),this.size+=b.size==x?0:1,this}Ki.prototype.clear=d_,Ki.prototype.delete=p_,Ki.prototype.get=y_,Ki.prototype.has=g_,Ki.prototype.set=m_;function aa(o){var l=-1,b=o==null?0:o.length;for(this.__data__=new Ki;++l<b;)this.add(o[l])}function v_(o){return this.__data__.set(o,c),this}function b_(o){return this.__data__.has(o)}aa.prototype.add=aa.prototype.push=v_,aa.prototype.has=b_;function Yn(o){var l=this.__data__=new Hi(o);this.size=l.size}function __(){this.__data__=new Hi,this.size=0}function w_(o){var l=this.__data__,b=l.delete(o);return this.size=l.size,b}function E_(o){return this.__data__.get(o)}function S_(o){return this.__data__.has(o)}function C_(o,l){var b=this.__data__;if(b instanceof Hi){var x=b.__data__;if(!ct||x.length<i-1)return x.push([o,l]),this.size=++b.size,this;b=this.__data__=new Ki(x)}return b.set(o,l),this.size=b.size,this}Yn.prototype.clear=__,Yn.prototype.delete=w_,Yn.prototype.get=E_,Yn.prototype.has=S_,Yn.prototype.set=C_;function u0(o,l){var b=tt(o),x=!b&&ha(o),z=!b&&!x&&Oo(o),J=!b&&!x&&!z&&ns(o),ne=b||x||z||J,ae=ne?Qs(o.length,pl):[],fe=ae.length;for(var _e in o)(l||wt.call(o,_e))&&!(ne&&(_e=="length"||z&&(_e=="offset"||_e=="parent")||J&&(_e=="buffer"||_e=="byteLength"||_e=="byteOffset")||Yi(_e,fe)))&&ae.push(_e);return ae}function l0(o){var l=o.length;return l?o[rf(0,l-1)]:t}function T_(o,l){return Pl(hn(o),sa(l,0,o.length))}function R_(o){return Pl(hn(o))}function Kh(o,l,b){(b!==t&&!Xn(o[l],b)||b===t&&!(l in o))&&Wi(o,l,b)}function Zs(o,l,b){var x=o[l];(!(wt.call(o,l)&&Xn(x,b))||b===t&&!(l in o))&&Wi(o,l,b)}function bl(o,l){for(var b=o.length;b--;)if(Xn(o[b][0],l))return b;return-1}function A_(o,l,b,x){return Ao(o,function(z,J,ne){l(x,z,b(z),ne)}),x}function c0(o,l){return o&&bi(l,kr(l),o)}function I_(o,l){return o&&bi(l,dn(l),o)}function Wi(o,l,b){l=="__proto__"&&ia?ia(o,l,{configurable:!0,enumerable:!0,value:b,writable:!0}):o[l]=b}function Wh(o,l){for(var b=-1,x=l.length,z=ye(x),J=o==null;++b<x;)z[b]=J?t:If(o,l[b]);return z}function sa(o,l,b){return o===o&&(b!==t&&(o=o<=b?o:b),l!==t&&(o=o>=l?o:l)),o}function qn(o,l,b,x,z,J){var ne,ae=l&f,fe=l&y,_e=l&A;if(b&&(ne=z?b(o,x,z,J):b(o)),ne!==t)return ne;if(!sr(o))return o;var Ee=tt(o);if(Ee){if(ne=gw(o),!ae)return hn(o,ne)}else{var Ae=Kr(o),De=Ae==X||Ae==Q;if(Oo(o))return N0(o,ae);if(Ae==te||Ae==qe||De&&!z){if(ne=fe||De?{}:Z0(o),!ae)return fe?ow(o,I_(ne,o)):iw(o,c0(ne,o))}else{if(!Rt[Ae])return z?o:{};ne=mw(o,Ae,ae)}}J||(J=new Yn);var Fe=J.get(o);if(Fe)return Fe;J.set(o,ne),Iy(o)?o.forEach(function(Xe){ne.add(qn(Xe,l,b,Xe,o,J))}):Ry(o)&&o.forEach(function(Xe,ft){ne.set(ft,qn(Xe,l,b,ft,o,J))});var Ye=_e?fe?pf:df:fe?dn:kr,ot=Ee?t:Ye(o);return Vr(ot||o,function(Xe,ft){ot&&(ft=Xe,Xe=o[ft]),Zs(ne,ft,qn(Xe,l,b,ft,o,J))}),ne}function k_(o){var l=kr(o);return function(b){return h0(b,o,l)}}function h0(o,l,b){var x=b.length;if(o==null)return!x;for(o=gt(o);x--;){var z=b[x],J=l[z],ne=o[z];if(ne===t&&!(z in o)||!J(ne))return!1}return!0}function f0(o,l,b){if(typeof o!="function")throw new Pr(u);return au(function(){o.apply(t,b)},l)}function eu(o,l,b,x){var z=-1,J=Yo,ne=!0,ae=o.length,fe=[],_e=l.length;if(!ae)return fe;b&&(l=qt(l,Ir(b))),x?(J=_o,ne=!1):l.length>=i&&(J=wo,ne=!1,l=new aa(l));e:for(;++z<ae;){var Ee=o[z],Ae=b==null?Ee:b(Ee);if(Ee=x||Ee!==0?Ee:0,ne&&Ae===Ae){for(var De=_e;De--;)if(l[De]===Ae)continue e;fe.push(Ee)}else J(l,Ae,x)||fe.push(Ee)}return fe}var Ao=q0(vi),d0=q0(Qh,!0);function B_(o,l){var b=!0;return Ao(o,function(x,z,J){return b=!!l(x,z,J),b}),b}function _l(o,l,b){for(var x=-1,z=o.length;++x<z;){var J=o[x],ne=l(J);if(ne!=null&&(ae===t?ne===ne&&!In(ne):b(ne,ae)))var ae=ne,fe=J}return fe}function O_(o,l,b,x){var z=o.length;for(b=it(b),b<0&&(b=-b>z?0:z+b),x=x===t||x>z?z:it(x),x<0&&(x+=z),x=b>x?0:By(x);b<x;)o[b++]=l;return o}function p0(o,l){var b=[];return Ao(o,function(x,z,J){l(x,z,J)&&b.push(x)}),b}function Ur(o,l,b,x,z){var J=-1,ne=o.length;for(b||(b=bw),z||(z=[]);++J<ne;){var ae=o[J];l>0&&b(ae)?l>1?Ur(ae,l-1,b,x,z):zr(z,ae):x||(z[z.length]=ae)}return z}var Gh=M0(),y0=M0(!0);function vi(o,l){return o&&Gh(o,l,kr)}function Qh(o,l){return o&&y0(o,l,kr)}function wl(o,l){return xn(l,function(b){return Xi(o[b])})}function ua(o,l){l=ko(l,o);for(var b=0,x=l.length;o!=null&&b<x;)o=o[_i(l[b++])];return b&&b==x?o:t}function g0(o,l,b){var x=l(o);return tt(o)?x:zr(x,b(o))}function Zr(o){return o==null?o===t?rt:oe:zi&&zi in gt(o)?dw(o):Rw(o)}function Yh(o,l){return o>l}function P_(o,l){return o!=null&&wt.call(o,l)}function L_(o,l){return o!=null&&l in gt(o)}function N_(o,l,b){return o>=de(l,b)&&o<re(l,b)}function Xh(o,l,b){for(var x=b?_o:Yo,z=o[0].length,J=o.length,ne=J,ae=ye(J),fe=1/0,_e=[];ne--;){var Ee=o[ne];ne&&l&&(Ee=qt(Ee,Ir(l))),fe=de(Ee.length,fe),ae[ne]=!b&&(l||z>=120&&Ee.length>=120)?new aa(ne&&Ee):t}Ee=o[0];var Ae=-1,De=ae[0];e:for(;++Ae<z&&_e.length<fe;){var Fe=Ee[Ae],Ye=l?l(Fe):Fe;if(Fe=b||Fe!==0?Fe:0,!(De?wo(De,Ye):x(_e,Ye,b))){for(ne=J;--ne;){var ot=ae[ne];if(!(ot?wo(ot,Ye):x(o[ne],Ye,b)))continue e}De&&De.push(Ye),_e.push(Fe)}}return _e}function U_(o,l,b,x){return vi(o,function(z,J,ne){l(x,b(z),J,ne)}),x}function tu(o,l,b){l=ko(l,o),o=ny(o,l);var x=o==null?o:o[_i(Fn(l))];return x==null?t:Xr(x,o,b)}function m0(o){return fr(o)&&Zr(o)==qe}function x_(o){return fr(o)&&Zr(o)==Ct}function D_(o){return fr(o)&&Zr(o)==et}function ru(o,l,b,x,z){return o===l?!0:o==null||l==null||!fr(o)&&!fr(l)?o!==o&&l!==l:j_(o,l,b,x,ru,z)}function j_(o,l,b,x,z,J){var ne=tt(o),ae=tt(l),fe=ne?Ce:Kr(o),_e=ae?Ce:Kr(l);fe=fe==qe?te:fe,_e=_e==qe?te:_e;var Ee=fe==te,Ae=_e==te,De=fe==_e;if(De&&Oo(o)){if(!Oo(l))return!1;ne=!0,Ee=!1}if(De&&!Ee)return J||(J=new Yn),ne||ns(o)?Y0(o,l,b,x,z,J):hw(o,l,fe,b,x,z,J);if(!(b&T)){var Fe=Ee&&wt.call(o,"__wrapped__"),Ye=Ae&&wt.call(l,"__wrapped__");if(Fe||Ye){var ot=Fe?o.value():o,Xe=Ye?l.value():l;return J||(J=new Yn),z(ot,Xe,b,x,J)}}return De?(J||(J=new Yn),fw(o,l,b,x,z,J)):!1}function q_(o){return fr(o)&&Kr(o)==I}function Jh(o,l,b,x){var z=b.length,J=z,ne=!x;if(o==null)return!J;for(o=gt(o);z--;){var ae=b[z];if(ne&&ae[2]?ae[1]!==o[ae[0]]:!(ae[0]in o))return!1}for(;++z<J;){ae=b[z];var fe=ae[0],_e=o[fe],Ee=ae[1];if(ne&&ae[2]){if(_e===t&&!(fe in o))return!1}else{var Ae=new Yn;if(x)var De=x(_e,Ee,fe,o,l,Ae);if(!(De===t?ru(Ee,_e,T|m,x,Ae):De))return!1}}return!0}function v0(o){if(!sr(o)||ww(o))return!1;var l=Xi(o)?Vh:Os;return l.test(ca(o))}function M_(o){return fr(o)&&Zr(o)==je}function F_(o){return fr(o)&&Kr(o)==ge}function V_(o){return fr(o)&&jl(o.length)&&!!Ft[Zr(o)]}function b0(o){return typeof o=="function"?o:o==null?pn:typeof o=="object"?tt(o)?E0(o[0],o[1]):w0(o):Fy(o)}function Zh(o){if(!ou(o))return H(o);var l=[];for(var b in gt(o))wt.call(o,b)&&b!="constructor"&&l.push(b);return l}function z_(o){if(!sr(o))return Tw(o);var l=ou(o),b=[];for(var x in o)x=="constructor"&&(l||!wt.call(o,x))||b.push(x);return b}function ef(o,l){return o<l}function _0(o,l){var b=-1,x=fn(o)?ye(o.length):[];return Ao(o,function(z,J,ne){x[++b]=l(z,J,ne)}),x}function w0(o){var l=gf(o);return l.length==1&&l[0][2]?ty(l[0][0],l[0][1]):function(b){return b===o||Jh(b,o,l)}}function E0(o,l){return vf(o)&&ey(l)?ty(_i(o),l):function(b){var x=If(b,o);return x===t&&x===l?kf(b,o):ru(l,x,T|m)}}function El(o,l,b,x,z){o!==l&&Gh(l,function(J,ne){if(z||(z=new Yn),sr(J))$_(o,l,ne,b,El,x,z);else{var ae=x?x(_f(o,ne),J,ne+"",o,l,z):t;ae===t&&(ae=J),Kh(o,ne,ae)}},dn)}function $_(o,l,b,x,z,J,ne){var ae=_f(o,b),fe=_f(l,b),_e=ne.get(fe);if(_e){Kh(o,b,_e);return}var Ee=J?J(ae,fe,b+"",o,l,ne):t,Ae=Ee===t;if(Ae){var De=tt(fe),Fe=!De&&Oo(fe),Ye=!De&&!Fe&&ns(fe);Ee=fe,De||Fe||Ye?tt(ae)?Ee=ae:pr(ae)?Ee=hn(ae):Fe?(Ae=!1,Ee=N0(fe,!0)):Ye?(Ae=!1,Ee=U0(fe,!0)):Ee=[]:su(fe)||ha(fe)?(Ee=ae,ha(ae)?Ee=Oy(ae):(!sr(ae)||Xi(ae))&&(Ee=Z0(fe))):Ae=!1}Ae&&(ne.set(fe,Ee),z(Ee,fe,x,J,ne),ne.delete(fe)),Kh(o,b,Ee)}function S0(o,l){var b=o.length;if(b)return l+=l<0?b:0,Yi(l,b)?o[l]:t}function C0(o,l,b){l.length?l=qt(l,function(J){return tt(J)?function(ne){return ua(ne,J.length===1?J[0]:J)}:J}):l=[pn];var x=-1;l=qt(l,Ir(Ge()));var z=_0(o,function(J,ne,ae){var fe=qt(l,function(_e){return _e(J)});return{criteria:fe,index:++x,value:J}});return Oh(z,function(J,ne){return nw(J,ne,b)})}function H_(o,l){return T0(o,l,function(b,x){return kf(o,x)})}function T0(o,l,b){for(var x=-1,z=l.length,J={};++x<z;){var ne=l[x],ae=ua(o,ne);b(ae,ne)&&nu(J,ko(ne,o),ae)}return J}function K_(o){return function(l){return ua(l,o)}}function tf(o,l,b,x){var z=x?ul:di,J=-1,ne=l.length,ae=o;for(o===l&&(l=hn(l)),b&&(ae=qt(o,Ir(b)));++J<ne;)for(var fe=0,_e=l[J],Ee=b?b(_e):_e;(fe=z(ae,Ee,fe,x))>-1;)ae!==o&&Xa.call(ae,fe,1),Xa.call(o,fe,1);return o}function R0(o,l){for(var b=o?l.length:0,x=b-1;b--;){var z=l[b];if(b==x||z!==J){var J=z;Yi(z)?Xa.call(o,z,1):af(o,z)}}return o}function rf(o,l){return o+Za(Me()*(l-o+1))}function W_(o,l,b,x){for(var z=-1,J=re(Ja((l-o)/(b||1)),0),ne=ye(J);J--;)ne[x?J:++z]=o,o+=b;return ne}function nf(o,l){var b="";if(!o||l<1||l>F)return b;do l%2&&(b+=o),l=Za(l/2),l&&(o+=o);while(l);return b}function ut(o,l){return wf(ry(o,l,pn),o+"")}function G_(o){return l0(is(o))}function Q_(o,l){var b=is(o);return Pl(b,sa(l,0,b.length))}function nu(o,l,b,x){if(!sr(o))return o;l=ko(l,o);for(var z=-1,J=l.length,ne=J-1,ae=o;ae!=null&&++z<J;){var fe=_i(l[z]),_e=b;if(fe==="__proto__"||fe==="constructor"||fe==="prototype")return o;if(z!=ne){var Ee=ae[fe];_e=x?x(Ee,fe,ae):t,_e===t&&(_e=sr(Ee)?Ee:Yi(l[z+1])?[]:{})}Zs(ae,fe,_e),ae=ae[fe]}return o}var A0=Tn?function(o,l){return Tn.set(o,l),o}:pn,Y_=ia?function(o,l){return ia(o,"toString",{configurable:!0,enumerable:!1,value:Of(l),writable:!0})}:pn;function X_(o){return Pl(is(o))}function Mn(o,l,b){var x=-1,z=o.length;l<0&&(l=-l>z?0:z+l),b=b>z?z:b,b<0&&(b+=z),z=l>b?0:b-l>>>0,l>>>=0;for(var J=ye(z);++x<z;)J[x]=o[x+l];return J}function J_(o,l){var b;return Ao(o,function(x,z,J){return b=l(x,z,J),!b}),!!b}function Sl(o,l,b){var x=0,z=o==null?x:o.length;if(typeof l=="number"&&l===l&&z<=ke){for(;x<z;){var J=x+z>>>1,ne=o[J];ne!==null&&!In(ne)&&(b?ne<=l:ne<l)?x=J+1:z=J}return z}return of(o,l,pn,b)}function of(o,l,b,x){var z=0,J=o==null?0:o.length;if(J===0)return 0;l=b(l);for(var ne=l!==l,ae=l===null,fe=In(l),_e=l===t;z<J;){var Ee=Za((z+J)/2),Ae=b(o[Ee]),De=Ae!==t,Fe=Ae===null,Ye=Ae===Ae,ot=In(Ae);if(ne)var Xe=x||Ye;else _e?Xe=Ye&&(x||De):ae?Xe=Ye&&De&&(x||!Fe):fe?Xe=Ye&&De&&!Fe&&(x||!ot):Fe||ot?Xe=!1:Xe=x?Ae<=l:Ae<l;Xe?z=Ee+1:J=Ee}return de(J,pe)}function I0(o,l){for(var b=-1,x=o.length,z=0,J=[];++b<x;){var ne=o[b],ae=l?l(ne):ne;if(!b||!Xn(ae,fe)){var fe=ae;J[z++]=ne===0?0:ne}}return J}function k0(o){return typeof o=="number"?o:In(o)?ue:+o}function An(o){if(typeof o=="string")return o;if(tt(o))return qt(o,An)+"";if(In(o))return Nr?Nr.call(o):"";var l=o+"";return l=="0"&&1/o==-L?"-0":l}function Io(o,l,b){var x=-1,z=Yo,J=o.length,ne=!0,ae=[],fe=ae;if(b)ne=!1,z=_o;else if(J>=i){var _e=l?null:lw(o);if(_e)return Wa(_e);ne=!1,z=wo,fe=new aa}else fe=l?[]:ae;e:for(;++x<J;){var Ee=o[x],Ae=l?l(Ee):Ee;if(Ee=b||Ee!==0?Ee:0,ne&&Ae===Ae){for(var De=fe.length;De--;)if(fe[De]===Ae)continue e;l&&fe.push(Ae),ae.push(Ee)}else z(fe,Ae,b)||(fe!==ae&&fe.push(Ae),ae.push(Ee))}return ae}function af(o,l){return l=ko(l,o),o=ny(o,l),o==null||delete o[_i(Fn(l))]}function B0(o,l,b,x){return nu(o,l,b(ua(o,l)),x)}function Cl(o,l,b,x){for(var z=o.length,J=x?z:-1;(x?J--:++J<z)&&l(o[J],J,o););return b?Mn(o,x?0:J,x?J+1:z):Mn(o,x?J+1:0,x?z:J)}function O0(o,l){var b=o;return b instanceof pt&&(b=b.value()),Ui(l,function(x,z){return z.func.apply(z.thisArg,zr([x],z.args))},b)}function sf(o,l,b){var x=o.length;if(x<2)return x?Io(o[0]):[];for(var z=-1,J=ye(x);++z<x;)for(var ne=o[z],ae=-1;++ae<x;)ae!=z&&(J[z]=eu(J[z]||ne,o[ae],l,b));return Io(Ur(J,1),l,b)}function P0(o,l,b){for(var x=-1,z=o.length,J=l.length,ne={};++x<z;){var ae=x<J?l[x]:t;b(ne,o[x],ae)}return ne}function uf(o){return pr(o)?o:[]}function lf(o){return typeof o=="function"?o:pn}function ko(o,l){return tt(o)?o:vf(o,l)?[o]:sy(Pt(o))}var Z_=ut;function Bo(o,l,b){var x=o.length;return b=b===t?x:b,!l&&b>=x?o:Mn(o,l,b)}var L0=zh||function(o){return vr.clearTimeout(o)};function N0(o,l){if(l)return o.slice();var b=o.length,x=ra?ra(b):new o.constructor(b);return o.copy(x),x}function cf(o){var l=new o.constructor(o.byteLength);return new Vi(l).set(new Vi(o)),l}function ew(o,l){var b=l?cf(o.buffer):o.buffer;return new o.constructor(b,o.byteOffset,o.byteLength)}function tw(o){var l=new o.constructor(o.source,tr.exec(o));return l.lastIndex=o.lastIndex,l}function rw(o){return bt?gt(bt.call(o)):{}}function U0(o,l){var b=l?cf(o.buffer):o.buffer;return new o.constructor(b,o.byteOffset,o.length)}function x0(o,l){if(o!==l){var b=o!==t,x=o===null,z=o===o,J=In(o),ne=l!==t,ae=l===null,fe=l===l,_e=In(l);if(!ae&&!_e&&!J&&o>l||J&&ne&&fe&&!ae&&!_e||x&&ne&&fe||!b&&fe||!z)return 1;if(!x&&!J&&!_e&&o<l||_e&&b&&z&&!x&&!J||ae&&b&&z||!ne&&z||!fe)return-1}return 0}function nw(o,l,b){for(var x=-1,z=o.criteria,J=l.criteria,ne=z.length,ae=b.length;++x<ne;){var fe=x0(z[x],J[x]);if(fe){if(x>=ae)return fe;var _e=b[x];return fe*(_e=="desc"?-1:1)}}return o.index-l.index}function D0(o,l,b,x){for(var z=-1,J=o.length,ne=b.length,ae=-1,fe=l.length,_e=re(J-ne,0),Ee=ye(fe+_e),Ae=!x;++ae<fe;)Ee[ae]=l[ae];for(;++z<ne;)(Ae||z<J)&&(Ee[b[z]]=o[z]);for(;_e--;)Ee[ae++]=o[z++];return Ee}function j0(o,l,b,x){for(var z=-1,J=o.length,ne=-1,ae=b.length,fe=-1,_e=l.length,Ee=re(J-ae,0),Ae=ye(Ee+_e),De=!x;++z<Ee;)Ae[z]=o[z];for(var Fe=z;++fe<_e;)Ae[Fe+fe]=l[fe];for(;++ne<ae;)(De||z<J)&&(Ae[Fe+b[ne]]=o[z++]);return Ae}function hn(o,l){var b=-1,x=o.length;for(l||(l=ye(x));++b<x;)l[b]=o[b];return l}function bi(o,l,b,x){var z=!b;b||(b={});for(var J=-1,ne=l.length;++J<ne;){var ae=l[J],fe=x?x(b[ae],o[ae],ae,b,o):t;fe===t&&(fe=o[ae]),z?Wi(b,ae,fe):Zs(b,ae,fe)}return b}function iw(o,l){return bi(o,mf(o),l)}function ow(o,l){return bi(o,X0(o),l)}function Tl(o,l){return function(b,x){var z=tt(b)?Va:A_,J=l?l():{};return z(b,o,Ge(x,2),J)}}function es(o){return ut(function(l,b){var x=-1,z=b.length,J=z>1?b[z-1]:t,ne=z>2?b[2]:t;for(J=o.length>3&&typeof J=="function"?(z--,J):t,ne&&en(b[0],b[1],ne)&&(J=z<3?t:J,z=1),l=gt(l);++x<z;){var ae=b[x];ae&&o(l,ae,x,J)}return l})}function q0(o,l){return function(b,x){if(b==null)return b;if(!fn(b))return o(b,x);for(var z=b.length,J=l?z:-1,ne=gt(b);(l?J--:++J<z)&&x(ne[J],J,ne)!==!1;);return b}}function M0(o){return function(l,b,x){for(var z=-1,J=gt(l),ne=x(l),ae=ne.length;ae--;){var fe=ne[o?ae:++z];if(b(J[fe],fe,J)===!1)break}return l}}function aw(o,l,b){var x=l&S,z=iu(o);function J(){var ne=this&&this!==vr&&this instanceof J?z:o;return ne.apply(x?b:this,arguments)}return J}function F0(o){return function(l){l=Pt(l);var b=qi(l)?Sn(l):t,x=b?b[0]:l.charAt(0),z=b?Bo(b,1).join(""):l.slice(1);return x[o]()+z}}function ts(o){return function(l){return Ui(qy(jy(l).replace(Ds,"")),o,"")}}function iu(o){return function(){var l=arguments;switch(l.length){case 0:return new o;case 1:return new o(l[0]);case 2:return new o(l[0],l[1]);case 3:return new o(l[0],l[1],l[2]);case 4:return new o(l[0],l[1],l[2],l[3]);case 5:return new o(l[0],l[1],l[2],l[3],l[4]);case 6:return new o(l[0],l[1],l[2],l[3],l[4],l[5]);case 7:return new o(l[0],l[1],l[2],l[3],l[4],l[5],l[6])}var b=Rn(o.prototype),x=o.apply(b,l);return sr(x)?x:b}}function sw(o,l,b){var x=iu(o);function z(){for(var J=arguments.length,ne=ye(J),ae=J,fe=rs(z);ae--;)ne[ae]=arguments[ae];var _e=J<3&&ne[0]!==fe&&ne[J-1]!==fe?[]:yi(ne,fe);if(J-=_e.length,J<b)return K0(o,l,Rl,z.placeholder,t,ne,_e,t,t,b-J);var Ee=this&&this!==vr&&this instanceof z?x:o;return Xr(Ee,this,ne)}return z}function V0(o){return function(l,b,x){var z=gt(l);if(!fn(l)){var J=Ge(b,3);l=kr(l),b=function(ae){return J(z[ae],ae,z)}}var ne=o(l,b,x);return ne>-1?z[J?l[ne]:ne]:t}}function z0(o){return Qi(function(l){var b=l.length,x=b,z=Hr.prototype.thru;for(o&&l.reverse();x--;){var J=l[x];if(typeof J!="function")throw new Pr(u);if(z&&!ne&&Bl(J)=="wrapper")var ne=new Hr([],!0)}for(x=ne?x:b;++x<b;){J=l[x];var ae=Bl(J),fe=ae=="wrapper"?yf(J):t;fe&&bf(fe[0])&&fe[1]==(D|p|E|C)&&!fe[4].length&&fe[9]==1?ne=ne[Bl(fe[0])].apply(ne,fe[3]):ne=J.length==1&&bf(J)?ne[ae]():ne.thru(J)}return function(){var _e=arguments,Ee=_e[0];if(ne&&_e.length==1&&tt(Ee))return ne.plant(Ee).value();for(var Ae=0,De=b?l[Ae].apply(this,_e):Ee;++Ae<b;)De=l[Ae].call(this,De);return De}})}function Rl(o,l,b,x,z,J,ne,ae,fe,_e){var Ee=l&D,Ae=l&S,De=l&B,Fe=l&(p|R),Ye=l&v,ot=De?t:iu(o);function Xe(){for(var ft=arguments.length,mt=ye(ft),kn=ft;kn--;)mt[kn]=arguments[kn];if(Fe)var tn=rs(Xe),Bn=Ha(mt,tn);if(x&&(mt=D0(mt,x,z,Fe)),J&&(mt=j0(mt,J,ne,Fe)),ft-=Bn,Fe&&ft<_e){var yr=yi(mt,tn);return K0(o,l,Rl,Xe.placeholder,b,mt,yr,ae,fe,_e-ft)}var Jn=Ae?b:this,Zi=De?Jn[o]:o;return ft=mt.length,ae?mt=Aw(mt,ae):Ye&&ft>1&&mt.reverse(),Ee&&fe<ft&&(mt.length=fe),this&&this!==vr&&this instanceof Xe&&(Zi=ot||iu(Zi)),Zi.apply(Jn,mt)}return Xe}function $0(o,l){return function(b,x){return U_(b,o,l(x),{})}}function Al(o,l){return function(b,x){var z;if(b===t&&x===t)return l;if(b!==t&&(z=b),x!==t){if(z===t)return x;typeof b=="string"||typeof x=="string"?(b=An(b),x=An(x)):(b=k0(b),x=k0(x)),z=o(b,x)}return z}}function hf(o){return Qi(function(l){return l=qt(l,Ir(Ge())),ut(function(b){var x=this;return o(l,function(z){return Xr(z,x,b)})})})}function Il(o,l){l=l===t?" ":An(l);var b=l.length;if(b<2)return b?nf(l,o):l;var x=nf(l,Ja(o/Co(l)));return qi(l)?Bo(Sn(x),0,o).join(""):x.slice(0,o)}function uw(o,l,b,x){var z=l&S,J=iu(o);function ne(){for(var ae=-1,fe=arguments.length,_e=-1,Ee=x.length,Ae=ye(Ee+fe),De=this&&this!==vr&&this instanceof ne?J:o;++_e<Ee;)Ae[_e]=x[_e];for(;fe--;)Ae[_e++]=arguments[++ae];return Xr(De,z?b:this,Ae)}return ne}function H0(o){return function(l,b,x){return x&&typeof x!="number"&&en(l,b,x)&&(b=x=t),l=Ji(l),b===t?(b=l,l=0):b=Ji(b),x=x===t?l<b?1:-1:Ji(x),W_(l,b,x,o)}}function kl(o){return function(l,b){return typeof l=="string"&&typeof b=="string"||(l=Vn(l),b=Vn(b)),o(l,b)}}function K0(o,l,b,x,z,J,ne,ae,fe,_e){var Ee=l&p,Ae=Ee?ne:t,De=Ee?t:ne,Fe=Ee?J:t,Ye=Ee?t:J;l|=Ee?E:P,l&=~(Ee?P:E),l&k||(l&=~(S|B));var ot=[o,l,z,Fe,Ae,Ye,De,ae,fe,_e],Xe=b.apply(t,ot);return bf(o)&&iy(Xe,ot),Xe.placeholder=x,oy(Xe,o,l)}function ff(o){var l=hr[o];return function(b,x){if(b=Vn(b),x=x==null?0:de(it(x),292),x&&_(b)){var z=(Pt(b)+"e").split("e"),J=l(z[0]+"e"+(+z[1]+x));return z=(Pt(J)+"e").split("e"),+(z[0]+"e"+(+z[1]-x))}return l(b)}}var lw=Vt&&1/Wa(new Vt([,-0]))[1]==L?function(o){return new Vt(o)}:Nf;function W0(o){return function(l){var b=Kr(l);return b==I?Xs(l):b==ge?Nh(l):cl(l,o(l))}}function Gi(o,l,b,x,z,J,ne,ae){var fe=l&B;if(!fe&&typeof o!="function")throw new Pr(u);var _e=x?x.length:0;if(_e||(l&=~(E|P),x=z=t),ne=ne===t?ne:re(it(ne),0),ae=ae===t?ae:it(ae),_e-=z?z.length:0,l&P){var Ee=x,Ae=z;x=z=t}var De=fe?t:yf(o),Fe=[o,l,b,x,z,Ee,Ae,J,ne,ae];if(De&&Cw(Fe,De),o=Fe[0],l=Fe[1],b=Fe[2],x=Fe[3],z=Fe[4],ae=Fe[9]=Fe[9]===t?fe?0:o.length:re(Fe[9]-_e,0),!ae&&l&(p|R)&&(l&=~(p|R)),!l||l==S)var Ye=aw(o,l,b);else l==p||l==R?Ye=sw(o,l,ae):(l==E||l==(S|E))&&!z.length?Ye=uw(o,l,b,x):Ye=Rl.apply(t,Fe);var ot=De?A0:iy;return oy(ot(Ye,Fe),o,l)}function G0(o,l,b,x){return o===t||Xn(o,Mi[b])&&!wt.call(x,b)?l:o}function Q0(o,l,b,x,z,J){return sr(o)&&sr(l)&&(J.set(l,o),El(o,l,t,Q0,J),J.delete(l)),o}function cw(o){return su(o)?t:o}function Y0(o,l,b,x,z,J){var ne=b&T,ae=o.length,fe=l.length;if(ae!=fe&&!(ne&&fe>ae))return!1;var _e=J.get(o),Ee=J.get(l);if(_e&&Ee)return _e==l&&Ee==o;var Ae=-1,De=!0,Fe=b&m?new aa:t;for(J.set(o,l),J.set(l,o);++Ae<ae;){var Ye=o[Ae],ot=l[Ae];if(x)var Xe=ne?x(ot,Ye,Ae,l,o,J):x(Ye,ot,Ae,o,l,J);if(Xe!==t){if(Xe)continue;De=!1;break}if(Fe){if(!$a(l,function(ft,mt){if(!wo(Fe,mt)&&(Ye===ft||z(Ye,ft,b,x,J)))return Fe.push(mt)})){De=!1;break}}else if(!(Ye===ot||z(Ye,ot,b,x,J))){De=!1;break}}return J.delete(o),J.delete(l),De}function hw(o,l,b,x,z,J,ne){switch(b){case Tt:if(o.byteLength!=l.byteLength||o.byteOffset!=l.byteOffset)return!1;o=o.buffer,l=l.buffer;case Ct:return!(o.byteLength!=l.byteLength||!J(new Vi(o),new Vi(l)));case Te:case et:case K:return Xn(+o,+l);case N:return o.name==l.name&&o.message==l.message;case je:case Pe:return o==l+"";case I:var ae=Xs;case ge:var fe=x&T;if(ae||(ae=Wa),o.size!=l.size&&!fe)return!1;var _e=ne.get(o);if(_e)return _e==l;x|=m,ne.set(o,l);var Ee=Y0(ae(o),ae(l),x,z,J,ne);return ne.delete(o),Ee;case Ke:if(bt)return bt.call(o)==bt.call(l)}return!1}function fw(o,l,b,x,z,J){var ne=b&T,ae=df(o),fe=ae.length,_e=df(l),Ee=_e.length;if(fe!=Ee&&!ne)return!1;for(var Ae=fe;Ae--;){var De=ae[Ae];if(!(ne?De in l:wt.call(l,De)))return!1}var Fe=J.get(o),Ye=J.get(l);if(Fe&&Ye)return Fe==l&&Ye==o;var ot=!0;J.set(o,l),J.set(l,o);for(var Xe=ne;++Ae<fe;){De=ae[Ae];var ft=o[De],mt=l[De];if(x)var kn=ne?x(mt,ft,De,l,o,J):x(ft,mt,De,o,l,J);if(!(kn===t?ft===mt||z(ft,mt,b,x,J):kn)){ot=!1;break}Xe||(Xe=De=="constructor")}if(ot&&!Xe){var tn=o.constructor,Bn=l.constructor;tn!=Bn&&"constructor"in o&&"constructor"in l&&!(typeof tn=="function"&&tn instanceof tn&&typeof Bn=="function"&&Bn instanceof Bn)&&(ot=!1)}return J.delete(o),J.delete(l),ot}function Qi(o){return wf(ry(o,t,hy),o+"")}function df(o){return g0(o,kr,mf)}function pf(o){return g0(o,dn,X0)}var yf=Tn?function(o){return Tn.get(o)}:Nf;function Bl(o){for(var l=o.name+"",b=$r[l],x=wt.call($r,l)?b.length:0;x--;){var z=b[x],J=z.func;if(J==null||J==o)return z.name}return l}function rs(o){var l=wt.call(Y,"placeholder")?Y:o;return l.placeholder}function Ge(){var o=Y.iteratee||Pf;return o=o===Pf?b0:o,arguments.length?o(arguments[0],arguments[1]):o}function Ol(o,l){var b=o.__data__;return _w(l)?b[typeof l=="string"?"string":"hash"]:b.map}function gf(o){for(var l=kr(o),b=l.length;b--;){var x=l[b],z=o[x];l[b]=[x,z,ey(z)]}return l}function la(o,l){var b=So(o,l);return v0(b)?b:t}function dw(o){var l=wt.call(o,zi),b=o[zi];try{o[zi]=t;var x=!0}catch{}var z=Qa.call(o);return x&&(l?o[zi]=b:delete o[zi]),z}var mf=Ro?function(o){return o==null?[]:(o=gt(o),xn(Ro(o),function(l){return ml.call(o,l)}))}:Uf,X0=Ro?function(o){for(var l=[];o;)zr(l,mf(o)),o=mi(o);return l}:Uf,Kr=Zr;(at&&Kr(new at(new ArrayBuffer(1)))!=Tt||ct&&Kr(new ct)!=I||dt&&Kr(dt.resolve())!=we||Vt&&Kr(new Vt)!=ge||Lr&&Kr(new Lr)!=$e)&&(Kr=function(o){var l=Zr(o),b=l==te?o.constructor:t,x=b?ca(b):"";if(x)switch(x){case _r:return Tt;case Jr:return I;case cn:return we;case $i:return ge;case ze:return $e}return l});function pw(o,l,b){for(var x=-1,z=b.length;++x<z;){var J=b[x],ne=J.size;switch(J.type){case"drop":o+=ne;break;case"dropRight":l-=ne;break;case"take":l=de(l,o+ne);break;case"takeRight":o=re(o,l-ne);break}}return{start:o,end:l}}function yw(o){var l=o.match(nr);return l?l[1].split(ir):[]}function J0(o,l,b){l=ko(l,o);for(var x=-1,z=l.length,J=!1;++x<z;){var ne=_i(l[x]);if(!(J=o!=null&&b(o,ne)))break;o=o[ne]}return J||++x!=z?J:(z=o==null?0:o.length,!!z&&jl(z)&&Yi(ne,z)&&(tt(o)||ha(o)))}function gw(o){var l=o.length,b=new o.constructor(l);return l&&typeof o[0]=="string"&&wt.call(o,"index")&&(b.index=o.index,b.input=o.input),b}function Z0(o){return typeof o.constructor=="function"&&!ou(o)?Rn(mi(o)):{}}function mw(o,l,b){var x=o.constructor;switch(l){case Ct:return cf(o);case Te:case et:return new x(+o);case Tt:return ew(o,b);case Lt:case Ot:case Nt:case $t:case Xt:case Ht:case Kt:case lr:case Cr:return U0(o,b);case I:return new x;case K:case Pe:return new x(o);case je:return tw(o);case ge:return new x;case Ke:return rw(o)}}function vw(o,l){var b=l.length;if(!b)return o;var x=b-1;return l[x]=(b>1?"& ":"")+l[x],l=l.join(b>2?", ":" "),o.replace(rr,`{
/* [wrapped with `+l+`] */
`)}function bw(o){return tt(o)||ha(o)||!!(Js&&o&&o[Js])}function Yi(o,l){var b=typeof o;return l=l??F,!!l&&(b=="number"||b!="symbol"&&Bi.test(o))&&o>-1&&o%1==0&&o<l}function en(o,l,b){if(!sr(b))return!1;var x=typeof l;return(x=="number"?fn(b)&&Yi(l,b.length):x=="string"&&l in b)?Xn(b[l],o):!1}function vf(o,l){if(tt(o))return!1;var b=typeof o;return b=="number"||b=="symbol"||b=="boolean"||o==null||In(o)?!0:Jt.test(o)||!Dt.test(o)||l!=null&&o in gt(l)}function _w(o){var l=typeof o;return l=="string"||l=="number"||l=="symbol"||l=="boolean"?o!=="__proto__":o===null}function bf(o){var l=Bl(o),b=Y[l];if(typeof b!="function"||!(l in pt.prototype))return!1;if(o===b)return!0;var x=yf(b);return!!x&&o===x[0]}function ww(o){return!!gl&&gl in o}var Ew=Fi?Xi:xf;function ou(o){var l=o&&o.constructor,b=typeof l=="function"&&l.prototype||Mi;return o===b}function ey(o){return o===o&&!sr(o)}function ty(o,l){return function(b){return b==null?!1:b[o]===l&&(l!==t||o in gt(b))}}function Sw(o){var l=xl(o,function(x){return b.size===a&&b.clear(),x}),b=l.cache;return l}function Cw(o,l){var b=o[1],x=l[1],z=b|x,J=z<(S|B|D),ne=x==D&&b==p||x==D&&b==C&&o[7].length<=l[8]||x==(D|C)&&l[7].length<=l[8]&&b==p;if(!(J||ne))return o;x&S&&(o[2]=l[2],z|=b&S?0:k);var ae=l[3];if(ae){var fe=o[3];o[3]=fe?D0(fe,ae,l[4]):ae,o[4]=fe?yi(o[3],d):l[4]}return ae=l[5],ae&&(fe=o[5],o[5]=fe?j0(fe,ae,l[6]):ae,o[6]=fe?yi(o[5],d):l[6]),ae=l[7],ae&&(o[7]=ae),x&D&&(o[8]=o[8]==null?l[8]:de(o[8],l[8])),o[9]==null&&(o[9]=l[9]),o[0]=l[0],o[1]=z,o}function Tw(o){var l=[];if(o!=null)for(var b in gt(o))l.push(b);return l}function Rw(o){return Qa.call(o)}function ry(o,l,b){return l=re(l===t?o.length-1:l,0),function(){for(var x=arguments,z=-1,J=re(x.length-l,0),ne=ye(J);++z<J;)ne[z]=x[l+z];z=-1;for(var ae=ye(l+1);++z<l;)ae[z]=x[z];return ae[l]=b(ne),Xr(o,this,ae)}}function ny(o,l){return l.length<2?o:ua(o,Mn(l,0,-1))}function Aw(o,l){for(var b=o.length,x=de(l.length,b),z=hn(o);x--;){var J=l[x];o[x]=Yi(J,b)?z[J]:t}return o}function _f(o,l){if(!(l==="constructor"&&typeof o[l]=="function")&&l!="__proto__")return o[l]}var iy=ay(A0),au=Hh||function(o,l){return vr.setTimeout(o,l)},wf=ay(Y_);function oy(o,l,b){var x=l+"";return wf(o,vw(x,Iw(yw(x),b)))}function ay(o){var l=0,b=0;return function(){var x=ve(),z=q-(x-b);if(b=x,z>0){if(++l>=V)return arguments[0]}else l=0;return o.apply(t,arguments)}}function Pl(o,l){var b=-1,x=o.length,z=x-1;for(l=l===t?x:l;++b<l;){var J=rf(b,z),ne=o[J];o[J]=o[b],o[b]=ne}return o.length=l,o}var sy=Sw(function(o){var l=[];return o.charCodeAt(0)===46&&l.push(""),o.replace(jt,function(b,x,z,J){l.push(z?J.replace(cr,"$1"):x||b)}),l});function _i(o){if(typeof o=="string"||In(o))return o;var l=o+"";return l=="0"&&1/o==-L?"-0":l}function ca(o){if(o!=null){try{return ea.call(o)}catch{}try{return o+""}catch{}}return""}function Iw(o,l){return Vr(Le,function(b){var x="_."+b[0];l&b[1]&&!Yo(o,x)&&o.push(x)}),o.sort()}function uy(o){if(o instanceof pt)return o.clone();var l=new Hr(o.__wrapped__,o.__chain__);return l.__actions__=hn(o.__actions__),l.__index__=o.__index__,l.__values__=o.__values__,l}function kw(o,l,b){(b?en(o,l,b):l===t)?l=1:l=re(it(l),0);var x=o==null?0:o.length;if(!x||l<1)return[];for(var z=0,J=0,ne=ye(Ja(x/l));z<x;)ne[J++]=Mn(o,z,z+=l);return ne}function Bw(o){for(var l=-1,b=o==null?0:o.length,x=0,z=[];++l<b;){var J=o[l];J&&(z[x++]=J)}return z}function Ow(){var o=arguments.length;if(!o)return[];for(var l=ye(o-1),b=arguments[0],x=o;x--;)l[x-1]=arguments[x];return zr(tt(b)?hn(b):[b],Ur(l,1))}var Pw=ut(function(o,l){return pr(o)?eu(o,Ur(l,1,pr,!0)):[]}),Lw=ut(function(o,l){var b=Fn(l);return pr(b)&&(b=t),pr(o)?eu(o,Ur(l,1,pr,!0),Ge(b,2)):[]}),Nw=ut(function(o,l){var b=Fn(l);return pr(b)&&(b=t),pr(o)?eu(o,Ur(l,1,pr,!0),t,b):[]});function Uw(o,l,b){var x=o==null?0:o.length;return x?(l=b||l===t?1:it(l),Mn(o,l<0?0:l,x)):[]}function xw(o,l,b){var x=o==null?0:o.length;return x?(l=b||l===t?1:it(l),l=x-l,Mn(o,0,l<0?0:l)):[]}function Dw(o,l){return o&&o.length?Cl(o,Ge(l,3),!0,!0):[]}function jw(o,l){return o&&o.length?Cl(o,Ge(l,3),!0):[]}function qw(o,l,b,x){var z=o==null?0:o.length;return z?(b&&typeof b!="number"&&en(o,l,b)&&(b=0,x=z),O_(o,l,b,x)):[]}function ly(o,l,b){var x=o==null?0:o.length;if(!x)return-1;var z=b==null?0:it(b);return z<0&&(z=re(x+z,0)),xi(o,Ge(l,3),z)}function cy(o,l,b){var x=o==null?0:o.length;if(!x)return-1;var z=x-1;return b!==t&&(z=it(b),z=b<0?re(x+z,0):de(z,x-1)),xi(o,Ge(l,3),z,!0)}function hy(o){var l=o==null?0:o.length;return l?Ur(o,1):[]}function Mw(o){var l=o==null?0:o.length;return l?Ur(o,L):[]}function Fw(o,l){var b=o==null?0:o.length;return b?(l=l===t?1:it(l),Ur(o,l)):[]}function Vw(o){for(var l=-1,b=o==null?0:o.length,x={};++l<b;){var z=o[l];x[z[0]]=z[1]}return x}function fy(o){return o&&o.length?o[0]:t}function zw(o,l,b){var x=o==null?0:o.length;if(!x)return-1;var z=b==null?0:it(b);return z<0&&(z=re(x+z,0)),di(o,l,z)}function $w(o){var l=o==null?0:o.length;return l?Mn(o,0,-1):[]}var Hw=ut(function(o){var l=qt(o,uf);return l.length&&l[0]===o[0]?Xh(l):[]}),Kw=ut(function(o){var l=Fn(o),b=qt(o,uf);return l===Fn(b)?l=t:b.pop(),b.length&&b[0]===o[0]?Xh(b,Ge(l,2)):[]}),Ww=ut(function(o){var l=Fn(o),b=qt(o,uf);return l=typeof l=="function"?l:t,l&&b.pop(),b.length&&b[0]===o[0]?Xh(b,t,l):[]});function Gw(o,l){return o==null?"":O.call(o,l)}function Fn(o){var l=o==null?0:o.length;return l?o[l-1]:t}function Qw(o,l,b){var x=o==null?0:o.length;if(!x)return-1;var z=x;return b!==t&&(z=it(b),z=z<0?re(x+z,0):de(z,x-1)),l===l?xh(o,l,z):xi(o,Hs,z,!0)}function Yw(o,l){return o&&o.length?S0(o,it(l)):t}var Xw=ut(dy);function dy(o,l){return o&&o.length&&l&&l.length?tf(o,l):o}function Jw(o,l,b){return o&&o.length&&l&&l.length?tf(o,l,Ge(b,2)):o}function Zw(o,l,b){return o&&o.length&&l&&l.length?tf(o,l,t,b):o}var e2=Qi(function(o,l){var b=o==null?0:o.length,x=Wh(o,l);return R0(o,qt(l,function(z){return Yi(z,b)?+z:z}).sort(x0)),x});function t2(o,l){var b=[];if(!(o&&o.length))return b;var x=-1,z=[],J=o.length;for(l=Ge(l,3);++x<J;){var ne=o[x];l(ne,x,o)&&(b.push(ne),z.push(x))}return R0(o,z),b}function Ef(o){return o==null?o:nt.call(o)}function r2(o,l,b){var x=o==null?0:o.length;return x?(b&&typeof b!="number"&&en(o,l,b)?(l=0,b=x):(l=l==null?0:it(l),b=b===t?x:it(b)),Mn(o,l,b)):[]}function n2(o,l){return Sl(o,l)}function i2(o,l,b){return of(o,l,Ge(b,2))}function o2(o,l){var b=o==null?0:o.length;if(b){var x=Sl(o,l);if(x<b&&Xn(o[x],l))return x}return-1}function a2(o,l){return Sl(o,l,!0)}function s2(o,l,b){return of(o,l,Ge(b,2),!0)}function u2(o,l){var b=o==null?0:o.length;if(b){var x=Sl(o,l,!0)-1;if(Xn(o[x],l))return x}return-1}function l2(o){return o&&o.length?I0(o):[]}function c2(o,l){return o&&o.length?I0(o,Ge(l,2)):[]}function h2(o){var l=o==null?0:o.length;return l?Mn(o,1,l):[]}function f2(o,l,b){return o&&o.length?(l=b||l===t?1:it(l),Mn(o,0,l<0?0:l)):[]}function d2(o,l,b){var x=o==null?0:o.length;return x?(l=b||l===t?1:it(l),l=x-l,Mn(o,l<0?0:l,x)):[]}function p2(o,l){return o&&o.length?Cl(o,Ge(l,3),!1,!0):[]}function y2(o,l){return o&&o.length?Cl(o,Ge(l,3)):[]}var g2=ut(function(o){return Io(Ur(o,1,pr,!0))}),m2=ut(function(o){var l=Fn(o);return pr(l)&&(l=t),Io(Ur(o,1,pr,!0),Ge(l,2))}),v2=ut(function(o){var l=Fn(o);return l=typeof l=="function"?l:t,Io(Ur(o,1,pr,!0),t,l)});function b2(o){return o&&o.length?Io(o):[]}function _2(o,l){return o&&o.length?Io(o,Ge(l,2)):[]}function w2(o,l){return l=typeof l=="function"?l:t,o&&o.length?Io(o,t,l):[]}function Sf(o){if(!(o&&o.length))return[];var l=0;return o=xn(o,function(b){if(pr(b))return l=re(b.length,l),!0}),Qs(l,function(b){return qt(o,Ks(b))})}function py(o,l){if(!(o&&o.length))return[];var b=Sf(o);return l==null?b:qt(b,function(x){return Xr(l,t,x)})}var E2=ut(function(o,l){return pr(o)?eu(o,l):[]}),S2=ut(function(o){return sf(xn(o,pr))}),C2=ut(function(o){var l=Fn(o);return pr(l)&&(l=t),sf(xn(o,pr),Ge(l,2))}),T2=ut(function(o){var l=Fn(o);return l=typeof l=="function"?l:t,sf(xn(o,pr),t,l)}),R2=ut(Sf);function A2(o,l){return P0(o||[],l||[],Zs)}function I2(o,l){return P0(o||[],l||[],nu)}var k2=ut(function(o){var l=o.length,b=l>1?o[l-1]:t;return b=typeof b=="function"?(o.pop(),b):t,py(o,b)});function yy(o){var l=Y(o);return l.__chain__=!0,l}function B2(o,l){return l(o),o}function Ll(o,l){return l(o)}var O2=Qi(function(o){var l=o.length,b=l?o[0]:0,x=this.__wrapped__,z=function(J){return Wh(J,o)};return l>1||this.__actions__.length||!(x instanceof pt)||!Yi(b)?this.thru(z):(x=x.slice(b,+b+(l?1:0)),x.__actions__.push({func:Ll,args:[z],thisArg:t}),new Hr(x,this.__chain__).thru(function(J){return l&&!J.length&&J.push(t),J}))});function P2(){return yy(this)}function L2(){return new Hr(this.value(),this.__chain__)}function N2(){this.__values__===t&&(this.__values__=ky(this.value()));var o=this.__index__>=this.__values__.length,l=o?t:this.__values__[this.__index__++];return{done:o,value:l}}function U2(){return this}function x2(o){for(var l,b=this;b instanceof Qn;){var x=uy(b);x.__index__=0,x.__values__=t,l?z.__wrapped__=x:l=x;var z=x;b=b.__wrapped__}return z.__wrapped__=o,l}function D2(){var o=this.__wrapped__;if(o instanceof pt){var l=o;return this.__actions__.length&&(l=new pt(this)),l=l.reverse(),l.__actions__.push({func:Ll,args:[Ef],thisArg:t}),new Hr(l,this.__chain__)}return this.thru(Ef)}function j2(){return O0(this.__wrapped__,this.__actions__)}var q2=Tl(function(o,l,b){wt.call(o,b)?++o[b]:Wi(o,b,1)});function M2(o,l,b){var x=tt(o)?sl:B_;return b&&en(o,l,b)&&(l=t),x(o,Ge(l,3))}function F2(o,l){var b=tt(o)?xn:p0;return b(o,Ge(l,3))}var V2=V0(ly),z2=V0(cy);function $2(o,l){return Ur(Nl(o,l),1)}function H2(o,l){return Ur(Nl(o,l),L)}function K2(o,l,b){return b=b===t?1:it(b),Ur(Nl(o,l),b)}function gy(o,l){var b=tt(o)?Vr:Ao;return b(o,Ge(l,3))}function my(o,l){var b=tt(o)?Ih:d0;return b(o,Ge(l,3))}var W2=Tl(function(o,l,b){wt.call(o,b)?o[b].push(l):Wi(o,b,[l])});function G2(o,l,b,x){o=fn(o)?o:is(o),b=b&&!x?it(b):0;var z=o.length;return b<0&&(b=re(z+b,0)),ql(o)?b<=z&&o.indexOf(l,b)>-1:!!z&&di(o,l,b)>-1}var Q2=ut(function(o,l,b){var x=-1,z=typeof l=="function",J=fn(o)?ye(o.length):[];return Ao(o,function(ne){J[++x]=z?Xr(l,ne,b):tu(ne,l,b)}),J}),Y2=Tl(function(o,l,b){Wi(o,b,l)});function Nl(o,l){var b=tt(o)?qt:_0;return b(o,Ge(l,3))}function X2(o,l,b,x){return o==null?[]:(tt(l)||(l=l==null?[]:[l]),b=x?t:b,tt(b)||(b=b==null?[]:[b]),C0(o,l,b))}var J2=Tl(function(o,l,b){o[b?0:1].push(l)},function(){return[[],[]]});function Z2(o,l,b){var x=tt(o)?Ui:Ws,z=arguments.length<3;return x(o,Ge(l,4),b,z,Ao)}function eE(o,l,b){var x=tt(o)?za:Ws,z=arguments.length<3;return x(o,Ge(l,4),b,z,d0)}function tE(o,l){var b=tt(o)?xn:p0;return b(o,Dl(Ge(l,3)))}function rE(o){var l=tt(o)?l0:G_;return l(o)}function nE(o,l,b){(b?en(o,l,b):l===t)?l=1:l=it(l);var x=tt(o)?T_:Q_;return x(o,l)}function iE(o){var l=tt(o)?R_:X_;return l(o)}function oE(o){if(o==null)return 0;if(fn(o))return ql(o)?Co(o):o.length;var l=Kr(o);return l==I||l==ge?o.size:Zh(o).length}function aE(o,l,b){var x=tt(o)?$a:J_;return b&&en(o,l,b)&&(l=t),x(o,Ge(l,3))}var sE=ut(function(o,l){if(o==null)return[];var b=l.length;return b>1&&en(o,l[0],l[1])?l=[]:b>2&&en(l[0],l[1],l[2])&&(l=[l[0]]),C0(o,Ur(l,1),[])}),Ul=$h||function(){return vr.Date.now()};function uE(o,l){if(typeof l!="function")throw new Pr(u);return o=it(o),function(){if(--o<1)return l.apply(this,arguments)}}function vy(o,l,b){return l=b?t:l,l=o&&l==null?o.length:l,Gi(o,D,t,t,t,t,l)}function by(o,l){var b;if(typeof l!="function")throw new Pr(u);return o=it(o),function(){return--o>0&&(b=l.apply(this,arguments)),o<=1&&(l=t),b}}var Cf=ut(function(o,l,b){var x=S;if(b.length){var z=yi(b,rs(Cf));x|=E}return Gi(o,x,l,b,z)}),_y=ut(function(o,l,b){var x=S|B;if(b.length){var z=yi(b,rs(_y));x|=E}return Gi(l,x,o,b,z)});function wy(o,l,b){l=b?t:l;var x=Gi(o,p,t,t,t,t,t,l);return x.placeholder=wy.placeholder,x}function Ey(o,l,b){l=b?t:l;var x=Gi(o,R,t,t,t,t,t,l);return x.placeholder=Ey.placeholder,x}function Sy(o,l,b){var x,z,J,ne,ae,fe,_e=0,Ee=!1,Ae=!1,De=!0;if(typeof o!="function")throw new Pr(u);l=Vn(l)||0,sr(b)&&(Ee=!!b.leading,Ae="maxWait"in b,J=Ae?re(Vn(b.maxWait)||0,l):J,De="trailing"in b?!!b.trailing:De);function Fe(yr){var Jn=x,Zi=z;return x=z=t,_e=yr,ne=o.apply(Zi,Jn),ne}function Ye(yr){return _e=yr,ae=au(ft,l),Ee?Fe(yr):ne}function ot(yr){var Jn=yr-fe,Zi=yr-_e,Vy=l-Jn;return Ae?de(Vy,J-Zi):Vy}function Xe(yr){var Jn=yr-fe,Zi=yr-_e;return fe===t||Jn>=l||Jn<0||Ae&&Zi>=J}function ft(){var yr=Ul();if(Xe(yr))return mt(yr);ae=au(ft,ot(yr))}function mt(yr){return ae=t,De&&x?Fe(yr):(x=z=t,ne)}function kn(){ae!==t&&L0(ae),_e=0,x=fe=z=ae=t}function tn(){return ae===t?ne:mt(Ul())}function Bn(){var yr=Ul(),Jn=Xe(yr);if(x=arguments,z=this,fe=yr,Jn){if(ae===t)return Ye(fe);if(Ae)return L0(ae),ae=au(ft,l),Fe(fe)}return ae===t&&(ae=au(ft,l)),ne}return Bn.cancel=kn,Bn.flush=tn,Bn}var lE=ut(function(o,l){return f0(o,1,l)}),cE=ut(function(o,l,b){return f0(o,Vn(l)||0,b)});function hE(o){return Gi(o,v)}function xl(o,l){if(typeof o!="function"||l!=null&&typeof l!="function")throw new Pr(u);var b=function(){var x=arguments,z=l?l.apply(this,x):x[0],J=b.cache;if(J.has(z))return J.get(z);var ne=o.apply(this,x);return b.cache=J.set(z,ne)||J,ne};return b.cache=new(xl.Cache||Ki),b}xl.Cache=Ki;function Dl(o){if(typeof o!="function")throw new Pr(u);return function(){var l=arguments;switch(l.length){case 0:return!o.call(this);case 1:return!o.call(this,l[0]);case 2:return!o.call(this,l[0],l[1]);case 3:return!o.call(this,l[0],l[1],l[2])}return!o.apply(this,l)}}function fE(o){return by(2,o)}var dE=Z_(function(o,l){l=l.length==1&&tt(l[0])?qt(l[0],Ir(Ge())):qt(Ur(l,1),Ir(Ge()));var b=l.length;return ut(function(x){for(var z=-1,J=de(x.length,b);++z<J;)x[z]=l[z].call(this,x[z]);return Xr(o,this,x)})}),Tf=ut(function(o,l){var b=yi(l,rs(Tf));return Gi(o,E,t,l,b)}),Cy=ut(function(o,l){var b=yi(l,rs(Cy));return Gi(o,P,t,l,b)}),pE=Qi(function(o,l){return Gi(o,C,t,t,t,l)});function yE(o,l){if(typeof o!="function")throw new Pr(u);return l=l===t?l:it(l),ut(o,l)}function gE(o,l){if(typeof o!="function")throw new Pr(u);return l=l==null?0:re(it(l),0),ut(function(b){var x=b[l],z=Bo(b,0,l);return x&&zr(z,x),Xr(o,this,z)})}function mE(o,l,b){var x=!0,z=!0;if(typeof o!="function")throw new Pr(u);return sr(b)&&(x="leading"in b?!!b.leading:x,z="trailing"in b?!!b.trailing:z),Sy(o,l,{leading:x,maxWait:l,trailing:z})}function vE(o){return vy(o,1)}function bE(o,l){return Tf(lf(l),o)}function _E(){if(!arguments.length)return[];var o=arguments[0];return tt(o)?o:[o]}function wE(o){return qn(o,A)}function EE(o,l){return l=typeof l=="function"?l:t,qn(o,A,l)}function SE(o){return qn(o,f|A)}function CE(o,l){return l=typeof l=="function"?l:t,qn(o,f|A,l)}function TE(o,l){return l==null||h0(o,l,kr(l))}function Xn(o,l){return o===l||o!==o&&l!==l}var RE=kl(Yh),AE=kl(function(o,l){return o>=l}),ha=m0(function(){return arguments}())?m0:function(o){return fr(o)&&wt.call(o,"callee")&&!ml.call(o,"callee")},tt=ye.isArray,IE=Fs?Ir(Fs):x_;function fn(o){return o!=null&&jl(o.length)&&!Xi(o)}function pr(o){return fr(o)&&fn(o)}function kE(o){return o===!0||o===!1||fr(o)&&Zr(o)==Te}var Oo=vl||xf,BE=il?Ir(il):D_;function OE(o){return fr(o)&&o.nodeType===1&&!su(o)}function PE(o){if(o==null)return!0;if(fn(o)&&(tt(o)||typeof o=="string"||typeof o.splice=="function"||Oo(o)||ns(o)||ha(o)))return!o.length;var l=Kr(o);if(l==I||l==ge)return!o.size;if(ou(o))return!Zh(o).length;for(var b in o)if(wt.call(o,b))return!1;return!0}function LE(o,l){return ru(o,l)}function NE(o,l,b){b=typeof b=="function"?b:t;var x=b?b(o,l):t;return x===t?ru(o,l,t,b):!!x}function Rf(o){if(!fr(o))return!1;var l=Zr(o);return l==N||l==Je||typeof o.message=="string"&&typeof o.name=="string"&&!su(o)}function UE(o){return typeof o=="number"&&_(o)}function Xi(o){if(!sr(o))return!1;var l=Zr(o);return l==X||l==Q||l==We||l==Ue}function Ty(o){return typeof o=="number"&&o==it(o)}function jl(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=F}function sr(o){var l=typeof o;return o!=null&&(l=="object"||l=="function")}function fr(o){return o!=null&&typeof o=="object"}var Ry=Qo?Ir(Qo):q_;function xE(o,l){return o===l||Jh(o,l,gf(l))}function DE(o,l,b){return b=typeof b=="function"?b:t,Jh(o,l,gf(l),b)}function jE(o){return Ay(o)&&o!=+o}function qE(o){if(Ew(o))throw new He(s);return v0(o)}function ME(o){return o===null}function FE(o){return o==null}function Ay(o){return typeof o=="number"||fr(o)&&Zr(o)==K}function su(o){if(!fr(o)||Zr(o)!=te)return!1;var l=mi(o);if(l===null)return!0;var b=wt.call(l,"constructor")&&l.constructor;return typeof b=="function"&&b instanceof b&&ea.call(b)==Fh}var Af=ol?Ir(ol):M_;function VE(o){return Ty(o)&&o>=-F&&o<=F}var Iy=al?Ir(al):F_;function ql(o){return typeof o=="string"||!tt(o)&&fr(o)&&Zr(o)==Pe}function In(o){return typeof o=="symbol"||fr(o)&&Zr(o)==Ke}var ns=Vs?Ir(Vs):V_;function zE(o){return o===t}function $E(o){return fr(o)&&Kr(o)==$e}function HE(o){return fr(o)&&Zr(o)==Bt}var KE=kl(ef),WE=kl(function(o,l){return o<=l});function ky(o){if(!o)return[];if(fn(o))return ql(o)?Sn(o):hn(o);if(To&&o[To])return Ka(o[To]());var l=Kr(o),b=l==I?Xs:l==ge?Wa:is;return b(o)}function Ji(o){if(!o)return o===0?o:0;if(o=Vn(o),o===L||o===-L){var l=o<0?-1:1;return l*ee}return o===o?o:0}function it(o){var l=Ji(o),b=l%1;return l===l?b?l-b:l:0}function By(o){return o?sa(it(o),0,se):0}function Vn(o){if(typeof o=="number")return o;if(In(o))return ue;if(sr(o)){var l=typeof o.valueOf=="function"?o.valueOf():o;o=sr(l)?l+"":l}if(typeof o!="string")return o===0?o:+o;o=Di(o);var b=po.test(o);return b||yo.test(o)?Ah(o.slice(2),b?2:8):Na.test(o)?ue:+o}function Oy(o){return bi(o,dn(o))}function GE(o){return o?sa(it(o),-F,F):o===0?o:0}function Pt(o){return o==null?"":An(o)}var QE=es(function(o,l){if(ou(l)||fn(l)){bi(l,kr(l),o);return}for(var b in l)wt.call(l,b)&&Zs(o,b,l[b])}),Py=es(function(o,l){bi(l,dn(l),o)}),Ml=es(function(o,l,b,x){bi(l,dn(l),o,x)}),YE=es(function(o,l,b,x){bi(l,kr(l),o,x)}),XE=Qi(Wh);function JE(o,l){var b=Rn(o);return l==null?b:c0(b,l)}var ZE=ut(function(o,l){o=gt(o);var b=-1,x=l.length,z=x>2?l[2]:t;for(z&&en(l[0],l[1],z)&&(x=1);++b<x;)for(var J=l[b],ne=dn(J),ae=-1,fe=ne.length;++ae<fe;){var _e=ne[ae],Ee=o[_e];(Ee===t||Xn(Ee,Mi[_e])&&!wt.call(o,_e))&&(o[_e]=J[_e])}return o}),eS=ut(function(o){return o.push(t,Q0),Xr(Ly,t,o)});function tS(o,l){return $s(o,Ge(l,3),vi)}function rS(o,l){return $s(o,Ge(l,3),Qh)}function nS(o,l){return o==null?o:Gh(o,Ge(l,3),dn)}function iS(o,l){return o==null?o:y0(o,Ge(l,3),dn)}function oS(o,l){return o&&vi(o,Ge(l,3))}function aS(o,l){return o&&Qh(o,Ge(l,3))}function sS(o){return o==null?[]:wl(o,kr(o))}function uS(o){return o==null?[]:wl(o,dn(o))}function If(o,l,b){var x=o==null?t:ua(o,l);return x===t?b:x}function lS(o,l){return o!=null&&J0(o,l,P_)}function kf(o,l){return o!=null&&J0(o,l,L_)}var cS=$0(function(o,l,b){l!=null&&typeof l.toString!="function"&&(l=Qa.call(l)),o[l]=b},Of(pn)),hS=$0(function(o,l,b){l!=null&&typeof l.toString!="function"&&(l=Qa.call(l)),wt.call(o,l)?o[l].push(b):o[l]=[b]},Ge),fS=ut(tu);function kr(o){return fn(o)?u0(o):Zh(o)}function dn(o){return fn(o)?u0(o,!0):z_(o)}function dS(o,l){var b={};return l=Ge(l,3),vi(o,function(x,z,J){Wi(b,l(x,z,J),x)}),b}function pS(o,l){var b={};return l=Ge(l,3),vi(o,function(x,z,J){Wi(b,z,l(x,z,J))}),b}var yS=es(function(o,l,b){El(o,l,b)}),Ly=es(function(o,l,b,x){El(o,l,b,x)}),gS=Qi(function(o,l){var b={};if(o==null)return b;var x=!1;l=qt(l,function(J){return J=ko(J,o),x||(x=J.length>1),J}),bi(o,pf(o),b),x&&(b=qn(b,f|y|A,cw));for(var z=l.length;z--;)af(b,l[z]);return b});function mS(o,l){return Ny(o,Dl(Ge(l)))}var vS=Qi(function(o,l){return o==null?{}:H_(o,l)});function Ny(o,l){if(o==null)return{};var b=qt(pf(o),function(x){return[x]});return l=Ge(l),T0(o,b,function(x,z){return l(x,z[0])})}function bS(o,l,b){l=ko(l,o);var x=-1,z=l.length;for(z||(z=1,o=t);++x<z;){var J=o==null?t:o[_i(l[x])];J===t&&(x=z,J=b),o=Xi(J)?J.call(o):J}return o}function _S(o,l,b){return o==null?o:nu(o,l,b)}function wS(o,l,b,x){return x=typeof x=="function"?x:t,o==null?o:nu(o,l,b,x)}var Uy=W0(kr),xy=W0(dn);function ES(o,l,b){var x=tt(o),z=x||Oo(o)||ns(o);if(l=Ge(l,4),b==null){var J=o&&o.constructor;z?b=x?new J:[]:sr(o)?b=Xi(J)?Rn(mi(o)):{}:b={}}return(z?Vr:vi)(o,function(ne,ae,fe){return l(b,ne,ae,fe)}),b}function SS(o,l){return o==null?!0:af(o,l)}function CS(o,l,b){return o==null?o:B0(o,l,lf(b))}function TS(o,l,b,x){return x=typeof x=="function"?x:t,o==null?o:B0(o,l,lf(b),x)}function is(o){return o==null?[]:ji(o,kr(o))}function RS(o){return o==null?[]:ji(o,dn(o))}function AS(o,l,b){return b===t&&(b=l,l=t),b!==t&&(b=Vn(b),b=b===b?b:0),l!==t&&(l=Vn(l),l=l===l?l:0),sa(Vn(o),l,b)}function IS(o,l,b){return l=Ji(l),b===t?(b=l,l=0):b=Ji(b),o=Vn(o),N_(o,l,b)}function kS(o,l,b){if(b&&typeof b!="boolean"&&en(o,l,b)&&(l=b=t),b===t&&(typeof l=="boolean"?(b=l,l=t):typeof o=="boolean"&&(b=o,o=t)),o===t&&l===t?(o=0,l=1):(o=Ji(o),l===t?(l=o,o=0):l=Ji(l)),o>l){var x=o;o=l,l=x}if(b||o%1||l%1){var z=Me();return de(o+z*(l-o+tl("1e-"+((z+"").length-1))),l)}return rf(o,l)}var BS=ts(function(o,l,b){return l=l.toLowerCase(),o+(b?Dy(l):l)});function Dy(o){return Bf(Pt(o).toLowerCase())}function jy(o){return o=Pt(o),o&&o.replace(wn,pi).replace(wh,"")}function OS(o,l,b){o=Pt(o),l=An(l);var x=o.length;b=b===t?x:sa(it(b),0,x);var z=b;return b-=l.length,b>=0&&o.slice(b,z)==l}function PS(o){return o=Pt(o),o&&li.test(o)?o.replace(Yr,Ys):o}function LS(o){return o=Pt(o),o&&Zt.test(o)?o.replace(Wt,"\\$&"):o}var NS=ts(function(o,l,b){return o+(b?"-":"")+l.toLowerCase()}),US=ts(function(o,l,b){return o+(b?" ":"")+l.toLowerCase()}),xS=F0("toLowerCase");function DS(o,l,b){o=Pt(o),l=it(l);var x=l?Co(o):0;if(!l||x>=l)return o;var z=(l-x)/2;return Il(Za(z),b)+o+Il(Ja(z),b)}function jS(o,l,b){o=Pt(o),l=it(l);var x=l?Co(o):0;return l&&x<l?o+Il(l-x,b):o}function qS(o,l,b){o=Pt(o),l=it(l);var x=l?Co(o):0;return l&&x<l?Il(l-x,b)+o:o}function MS(o,l,b){return b||l==null?l=0:l&&(l=+l),Ie(Pt(o).replace(Gt,""),l||0)}function FS(o,l,b){return(b?en(o,l,b):l===t)?l=1:l=it(l),nf(Pt(o),l)}function VS(){var o=arguments,l=Pt(o[0]);return o.length<3?l:l.replace(o[1],o[2])}var zS=ts(function(o,l,b){return o+(b?"_":"")+l.toLowerCase()});function $S(o,l,b){return b&&typeof b!="number"&&en(o,l,b)&&(l=b=t),b=b===t?se:b>>>0,b?(o=Pt(o),o&&(typeof l=="string"||l!=null&&!Af(l))&&(l=An(l),!l&&qi(o))?Bo(Sn(o),0,b):o.split(l,b)):[]}var HS=ts(function(o,l,b){return o+(b?" ":"")+Bf(l)});function KS(o,l,b){return o=Pt(o),b=b==null?0:sa(it(b),0,o.length),l=An(l),o.slice(b,b+l.length)==l}function WS(o,l,b){var x=Y.templateSettings;b&&en(o,l,b)&&(l=t),o=Pt(o),l=Ml({},l,x,G0);var z=Ml({},l.imports,x.imports,G0),J=kr(z),ne=ji(z,J),ae,fe,_e=0,Ee=l.interpolate||Tr,Ae="__p += '",De=Ga((l.escape||Tr).source+"|"+Ee.source+"|"+(Ee===xt?zt:Tr).source+"|"+(l.evaluate||Tr).source+"|$","g"),Fe="//# sourceURL="+(wt.call(l,"sourceURL")?(l.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Th+"]")+`
`;o.replace(De,function(Xe,ft,mt,kn,tn,Bn){return mt||(mt=kn),Ae+=o.slice(_e,Bn).replace(Ko,Ph),ft&&(ae=!0,Ae+=`' +
__e(`+ft+`) +
'`),tn&&(fe=!0,Ae+=`';
`+tn+`;
__p += '`),mt&&(Ae+=`' +
((__t = (`+mt+`)) == null ? '' : __t) +
'`),_e=Bn+Xe.length,Xe}),Ae+=`';
`;var Ye=wt.call(l,"variable")&&l.variable;if(!Ye)Ae=`with (obj) {
`+Ae+`
}
`;else if(or.test(Ye))throw new He(h);Ae=(fe?Ae.replace(gr,""):Ae).replace(qr,"$1").replace(un,"$1;"),Ae="function("+(Ye||"obj")+`) {
`+(Ye?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ae?", __e = _.escape":"")+(fe?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ae+`return __p
}`;var ot=My(function(){return ht(J,Fe+"return "+Ae).apply(t,ne)});if(ot.source=Ae,Rf(ot))throw ot;return ot}function GS(o){return Pt(o).toLowerCase()}function QS(o){return Pt(o).toUpperCase()}function YS(o,l,b){if(o=Pt(o),o&&(b||l===t))return Di(o);if(!o||!(l=An(l)))return o;var x=Sn(o),z=Sn(l),J=Jo(x,z),ne=Eo(x,z)+1;return Bo(x,J,ne).join("")}function XS(o,l,b){if(o=Pt(o),o&&(b||l===t))return o.slice(0,fl(o)+1);if(!o||!(l=An(l)))return o;var x=Sn(o),z=Eo(x,Sn(l))+1;return Bo(x,0,z).join("")}function JS(o,l,b){if(o=Pt(o),o&&(b||l===t))return o.replace(Gt,"");if(!o||!(l=An(l)))return o;var x=Sn(o),z=Jo(x,Sn(l));return Bo(x,z).join("")}function ZS(o,l){var b=g,x=M;if(sr(l)){var z="separator"in l?l.separator:z;b="length"in l?it(l.length):b,x="omission"in l?An(l.omission):x}o=Pt(o);var J=o.length;if(qi(o)){var ne=Sn(o);J=ne.length}if(b>=J)return o;var ae=b-Co(x);if(ae<1)return x;var fe=ne?Bo(ne,0,ae).join(""):o.slice(0,ae);if(z===t)return fe+x;if(ne&&(ae+=fe.length-ae),Af(z)){if(o.slice(ae).search(z)){var _e,Ee=fe;for(z.global||(z=Ga(z.source,Pt(tr.exec(z))+"g")),z.lastIndex=0;_e=z.exec(Ee);)var Ae=_e.index;fe=fe.slice(0,Ae===t?ae:Ae)}}else if(o.indexOf(An(z),ae)!=ae){var De=fe.lastIndexOf(z);De>-1&&(fe=fe.slice(0,De))}return fe+x}function eC(o){return o=Pt(o),o&&_n.test(o)?o.replace(Qr,Dh):o}var tC=ts(function(o,l,b){return o+(b?" ":"")+l.toUpperCase()}),Bf=F0("toUpperCase");function qy(o,l,b){return o=Pt(o),l=b?t:l,l===t?Lh(o)?qh(o):Bh(o):o.match(l)||[]}var My=ut(function(o,l){try{return Xr(o,t,l)}catch(b){return Rf(b)?b:new He(b)}}),rC=Qi(function(o,l){return Vr(l,function(b){b=_i(b),Wi(o,b,Cf(o[b],o))}),o});function nC(o){var l=o==null?0:o.length,b=Ge();return o=l?qt(o,function(x){if(typeof x[1]!="function")throw new Pr(u);return[b(x[0]),x[1]]}):[],ut(function(x){for(var z=-1;++z<l;){var J=o[z];if(Xr(J[0],this,x))return Xr(J[1],this,x)}})}function iC(o){return k_(qn(o,f))}function Of(o){return function(){return o}}function oC(o,l){return o==null||o!==o?l:o}var aC=z0(),sC=z0(!0);function pn(o){return o}function Pf(o){return b0(typeof o=="function"?o:qn(o,f))}function uC(o){return w0(qn(o,f))}function lC(o,l){return E0(o,qn(l,f))}var cC=ut(function(o,l){return function(b){return tu(b,o,l)}}),hC=ut(function(o,l){return function(b){return tu(o,b,l)}});function Lf(o,l,b){var x=kr(l),z=wl(l,x);b==null&&!(sr(l)&&(z.length||!x.length))&&(b=l,l=o,o=this,z=wl(l,kr(l)));var J=!(sr(b)&&"chain"in b)||!!b.chain,ne=Xi(o);return Vr(z,function(ae){var fe=l[ae];o[ae]=fe,ne&&(o.prototype[ae]=function(){var _e=this.__chain__;if(J||_e){var Ee=o(this.__wrapped__),Ae=Ee.__actions__=hn(this.__actions__);return Ae.push({func:fe,args:arguments,thisArg:o}),Ee.__chain__=_e,Ee}return fe.apply(o,zr([this.value()],arguments))})}),o}function fC(){return vr._===this&&(vr._=Ya),this}function Nf(){}function dC(o){return o=it(o),ut(function(l){return S0(l,o)})}var pC=hf(qt),yC=hf(sl),gC=hf($a);function Fy(o){return vf(o)?Ks(_i(o)):K_(o)}function mC(o){return function(l){return o==null?t:ua(o,l)}}var vC=H0(),bC=H0(!0);function Uf(){return[]}function xf(){return!1}function _C(){return{}}function wC(){return""}function EC(){return!0}function SC(o,l){if(o=it(o),o<1||o>F)return[];var b=se,x=de(o,se);l=Ge(l),o-=se;for(var z=Qs(x,l);++b<o;)l(b);return z}function CC(o){return tt(o)?qt(o,_i):In(o)?[o]:hn(sy(Pt(o)))}function TC(o){var l=++Mh;return Pt(o)+l}var RC=Al(function(o,l){return o+l},0),AC=ff("ceil"),IC=Al(function(o,l){return o/l},1),kC=ff("floor");function BC(o){return o&&o.length?_l(o,pn,Yh):t}function OC(o,l){return o&&o.length?_l(o,Ge(l,2),Yh):t}function PC(o){return ll(o,pn)}function LC(o,l){return ll(o,Ge(l,2))}function NC(o){return o&&o.length?_l(o,pn,ef):t}function UC(o,l){return o&&o.length?_l(o,Ge(l,2),ef):t}var xC=Al(function(o,l){return o*l},1),DC=ff("round"),jC=Al(function(o,l){return o-l},0);function qC(o){return o&&o.length?Gs(o,pn):0}function MC(o,l){return o&&o.length?Gs(o,Ge(l,2)):0}return Y.after=uE,Y.ary=vy,Y.assign=QE,Y.assignIn=Py,Y.assignInWith=Ml,Y.assignWith=YE,Y.at=XE,Y.before=by,Y.bind=Cf,Y.bindAll=rC,Y.bindKey=_y,Y.castArray=_E,Y.chain=yy,Y.chunk=kw,Y.compact=Bw,Y.concat=Ow,Y.cond=nC,Y.conforms=iC,Y.constant=Of,Y.countBy=q2,Y.create=JE,Y.curry=wy,Y.curryRight=Ey,Y.debounce=Sy,Y.defaults=ZE,Y.defaultsDeep=eS,Y.defer=lE,Y.delay=cE,Y.difference=Pw,Y.differenceBy=Lw,Y.differenceWith=Nw,Y.drop=Uw,Y.dropRight=xw,Y.dropRightWhile=Dw,Y.dropWhile=jw,Y.fill=qw,Y.filter=F2,Y.flatMap=$2,Y.flatMapDeep=H2,Y.flatMapDepth=K2,Y.flatten=hy,Y.flattenDeep=Mw,Y.flattenDepth=Fw,Y.flip=hE,Y.flow=aC,Y.flowRight=sC,Y.fromPairs=Vw,Y.functions=sS,Y.functionsIn=uS,Y.groupBy=W2,Y.initial=$w,Y.intersection=Hw,Y.intersectionBy=Kw,Y.intersectionWith=Ww,Y.invert=cS,Y.invertBy=hS,Y.invokeMap=Q2,Y.iteratee=Pf,Y.keyBy=Y2,Y.keys=kr,Y.keysIn=dn,Y.map=Nl,Y.mapKeys=dS,Y.mapValues=pS,Y.matches=uC,Y.matchesProperty=lC,Y.memoize=xl,Y.merge=yS,Y.mergeWith=Ly,Y.method=cC,Y.methodOf=hC,Y.mixin=Lf,Y.negate=Dl,Y.nthArg=dC,Y.omit=gS,Y.omitBy=mS,Y.once=fE,Y.orderBy=X2,Y.over=pC,Y.overArgs=dE,Y.overEvery=yC,Y.overSome=gC,Y.partial=Tf,Y.partialRight=Cy,Y.partition=J2,Y.pick=vS,Y.pickBy=Ny,Y.property=Fy,Y.propertyOf=mC,Y.pull=Xw,Y.pullAll=dy,Y.pullAllBy=Jw,Y.pullAllWith=Zw,Y.pullAt=e2,Y.range=vC,Y.rangeRight=bC,Y.rearg=pE,Y.reject=tE,Y.remove=t2,Y.rest=yE,Y.reverse=Ef,Y.sampleSize=nE,Y.set=_S,Y.setWith=wS,Y.shuffle=iE,Y.slice=r2,Y.sortBy=sE,Y.sortedUniq=l2,Y.sortedUniqBy=c2,Y.split=$S,Y.spread=gE,Y.tail=h2,Y.take=f2,Y.takeRight=d2,Y.takeRightWhile=p2,Y.takeWhile=y2,Y.tap=B2,Y.throttle=mE,Y.thru=Ll,Y.toArray=ky,Y.toPairs=Uy,Y.toPairsIn=xy,Y.toPath=CC,Y.toPlainObject=Oy,Y.transform=ES,Y.unary=vE,Y.union=g2,Y.unionBy=m2,Y.unionWith=v2,Y.uniq=b2,Y.uniqBy=_2,Y.uniqWith=w2,Y.unset=SS,Y.unzip=Sf,Y.unzipWith=py,Y.update=CS,Y.updateWith=TS,Y.values=is,Y.valuesIn=RS,Y.without=E2,Y.words=qy,Y.wrap=bE,Y.xor=S2,Y.xorBy=C2,Y.xorWith=T2,Y.zip=R2,Y.zipObject=A2,Y.zipObjectDeep=I2,Y.zipWith=k2,Y.entries=Uy,Y.entriesIn=xy,Y.extend=Py,Y.extendWith=Ml,Lf(Y,Y),Y.add=RC,Y.attempt=My,Y.camelCase=BS,Y.capitalize=Dy,Y.ceil=AC,Y.clamp=AS,Y.clone=wE,Y.cloneDeep=SE,Y.cloneDeepWith=CE,Y.cloneWith=EE,Y.conformsTo=TE,Y.deburr=jy,Y.defaultTo=oC,Y.divide=IC,Y.endsWith=OS,Y.eq=Xn,Y.escape=PS,Y.escapeRegExp=LS,Y.every=M2,Y.find=V2,Y.findIndex=ly,Y.findKey=tS,Y.findLast=z2,Y.findLastIndex=cy,Y.findLastKey=rS,Y.floor=kC,Y.forEach=gy,Y.forEachRight=my,Y.forIn=nS,Y.forInRight=iS,Y.forOwn=oS,Y.forOwnRight=aS,Y.get=If,Y.gt=RE,Y.gte=AE,Y.has=lS,Y.hasIn=kf,Y.head=fy,Y.identity=pn,Y.includes=G2,Y.indexOf=zw,Y.inRange=IS,Y.invoke=fS,Y.isArguments=ha,Y.isArray=tt,Y.isArrayBuffer=IE,Y.isArrayLike=fn,Y.isArrayLikeObject=pr,Y.isBoolean=kE,Y.isBuffer=Oo,Y.isDate=BE,Y.isElement=OE,Y.isEmpty=PE,Y.isEqual=LE,Y.isEqualWith=NE,Y.isError=Rf,Y.isFinite=UE,Y.isFunction=Xi,Y.isInteger=Ty,Y.isLength=jl,Y.isMap=Ry,Y.isMatch=xE,Y.isMatchWith=DE,Y.isNaN=jE,Y.isNative=qE,Y.isNil=FE,Y.isNull=ME,Y.isNumber=Ay,Y.isObject=sr,Y.isObjectLike=fr,Y.isPlainObject=su,Y.isRegExp=Af,Y.isSafeInteger=VE,Y.isSet=Iy,Y.isString=ql,Y.isSymbol=In,Y.isTypedArray=ns,Y.isUndefined=zE,Y.isWeakMap=$E,Y.isWeakSet=HE,Y.join=Gw,Y.kebabCase=NS,Y.last=Fn,Y.lastIndexOf=Qw,Y.lowerCase=US,Y.lowerFirst=xS,Y.lt=KE,Y.lte=WE,Y.max=BC,Y.maxBy=OC,Y.mean=PC,Y.meanBy=LC,Y.min=NC,Y.minBy=UC,Y.stubArray=Uf,Y.stubFalse=xf,Y.stubObject=_C,Y.stubString=wC,Y.stubTrue=EC,Y.multiply=xC,Y.nth=Yw,Y.noConflict=fC,Y.noop=Nf,Y.now=Ul,Y.pad=DS,Y.padEnd=jS,Y.padStart=qS,Y.parseInt=MS,Y.random=kS,Y.reduce=Z2,Y.reduceRight=eE,Y.repeat=FS,Y.replace=VS,Y.result=bS,Y.round=DC,Y.runInContext=he,Y.sample=rE,Y.size=oE,Y.snakeCase=zS,Y.some=aE,Y.sortedIndex=n2,Y.sortedIndexBy=i2,Y.sortedIndexOf=o2,Y.sortedLastIndex=a2,Y.sortedLastIndexBy=s2,Y.sortedLastIndexOf=u2,Y.startCase=HS,Y.startsWith=KS,Y.subtract=jC,Y.sum=qC,Y.sumBy=MC,Y.template=WS,Y.times=SC,Y.toFinite=Ji,Y.toInteger=it,Y.toLength=By,Y.toLower=GS,Y.toNumber=Vn,Y.toSafeInteger=GE,Y.toString=Pt,Y.toUpper=QS,Y.trim=YS,Y.trimEnd=XS,Y.trimStart=JS,Y.truncate=ZS,Y.unescape=eC,Y.uniqueId=TC,Y.upperCase=tC,Y.upperFirst=Bf,Y.each=gy,Y.eachRight=my,Y.first=fy,Lf(Y,function(){var o={};return vi(Y,function(l,b){wt.call(Y.prototype,b)||(o[b]=l)}),o}(),{chain:!1}),Y.VERSION=r,Vr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(o){Y[o].placeholder=Y}),Vr(["drop","take"],function(o,l){pt.prototype[o]=function(b){b=b===t?1:re(it(b),0);var x=this.__filtered__&&!l?new pt(this):this.clone();return x.__filtered__?x.__takeCount__=de(b,x.__takeCount__):x.__views__.push({size:de(b,se),type:o+(x.__dir__<0?"Right":"")}),x},pt.prototype[o+"Right"]=function(b){return this.reverse()[o](b).reverse()}}),Vr(["filter","map","takeWhile"],function(o,l){var b=l+1,x=b==w||b==j;pt.prototype[o]=function(z){var J=this.clone();return J.__iteratees__.push({iteratee:Ge(z,3),type:b}),J.__filtered__=J.__filtered__||x,J}}),Vr(["head","last"],function(o,l){var b="take"+(l?"Right":"");pt.prototype[o]=function(){return this[b](1).value()[0]}}),Vr(["initial","tail"],function(o,l){var b="drop"+(l?"":"Right");pt.prototype[o]=function(){return this.__filtered__?new pt(this):this[b](1)}}),pt.prototype.compact=function(){return this.filter(pn)},pt.prototype.find=function(o){return this.filter(o).head()},pt.prototype.findLast=function(o){return this.reverse().find(o)},pt.prototype.invokeMap=ut(function(o,l){return typeof o=="function"?new pt(this):this.map(function(b){return tu(b,o,l)})}),pt.prototype.reject=function(o){return this.filter(Dl(Ge(o)))},pt.prototype.slice=function(o,l){o=it(o);var b=this;return b.__filtered__&&(o>0||l<0)?new pt(b):(o<0?b=b.takeRight(-o):o&&(b=b.drop(o)),l!==t&&(l=it(l),b=l<0?b.dropRight(-l):b.take(l-o)),b)},pt.prototype.takeRightWhile=function(o){return this.reverse().takeWhile(o).reverse()},pt.prototype.toArray=function(){return this.take(se)},vi(pt.prototype,function(o,l){var b=/^(?:filter|find|map|reject)|While$/.test(l),x=/^(?:head|last)$/.test(l),z=Y[x?"take"+(l=="last"?"Right":""):l],J=x||/^find/.test(l);z&&(Y.prototype[l]=function(){var ne=this.__wrapped__,ae=x?[1]:arguments,fe=ne instanceof pt,_e=ae[0],Ee=fe||tt(ne),Ae=function(ft){var mt=z.apply(Y,zr([ft],ae));return x&&De?mt[0]:mt};Ee&&b&&typeof _e=="function"&&_e.length!=1&&(fe=Ee=!1);var De=this.__chain__,Fe=!!this.__actions__.length,Ye=J&&!De,ot=fe&&!Fe;if(!J&&Ee){ne=ot?ne:new pt(this);var Xe=o.apply(ne,ae);return Xe.__actions__.push({func:Ll,args:[Ae],thisArg:t}),new Hr(Xe,De)}return Ye&&ot?o.apply(this,ae):(Xe=this.thru(Ae),Ye?x?Xe.value()[0]:Xe.value():Xe)})}),Vr(["pop","push","shift","sort","splice","unshift"],function(o){var l=Zo[o],b=/^(?:push|sort|unshift)$/.test(o)?"tap":"thru",x=/^(?:pop|shift)$/.test(o);Y.prototype[o]=function(){var z=arguments;if(x&&!this.__chain__){var J=this.value();return l.apply(tt(J)?J:[],z)}return this[b](function(ne){return l.apply(tt(ne)?ne:[],z)})}}),vi(pt.prototype,function(o,l){var b=Y[l];if(b){var x=b.name+"";wt.call($r,x)||($r[x]=[]),$r[x].push({name:l,func:b})}}),$r[Rl(t,B).name]=[{name:"wrapper",func:t}],pt.prototype.clone=e_,pt.prototype.reverse=t_,pt.prototype.value=r_,Y.prototype.at=O2,Y.prototype.chain=P2,Y.prototype.commit=L2,Y.prototype.next=N2,Y.prototype.plant=x2,Y.prototype.reverse=D2,Y.prototype.toJSON=Y.prototype.valueOf=Y.prototype.value=j2,Y.prototype.first=Y.prototype.head,To&&(Y.prototype[To]=U2),Y},Dn=gi();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(vr._=Dn,define(function(){return Dn})):hi?((hi.exports=Dn)._=Dn,Fa._=Dn):vr._=Dn}).call(e)}),S6=Re((e,n)=>{var t=Lv(),r=jv(),i=Dv(),s=bp(),{includes:u,isBoolean:h,isInteger:c,isNumber:a,isPlainObject:d,isString:f,once:y}=E6(),{KeyObject:A,createSecretKey:T,createPrivateKey:m}=require("crypto"),S=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];r&&S.splice(3,0,"PS256","PS384","PS512");var B={expiresIn:{isValid:function(C){return c(C)||f(C)&&C},message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:function(C){return c(C)||f(C)&&C},message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:function(C){return f(C)||Array.isArray(C)},message:'"audience" must be a string or array'},algorithm:{isValid:u.bind(null,S),message:'"algorithm" must be a valid string enum value'},header:{isValid:d,message:'"header" must be an object'},encoding:{isValid:f,message:'"encoding" must be a string'},issuer:{isValid:f,message:'"issuer" must be a string'},subject:{isValid:f,message:'"subject" must be a string'},jwtid:{isValid:f,message:'"jwtid" must be a string'},noTimestamp:{isValid:h,message:'"noTimestamp" must be a boolean'},keyid:{isValid:f,message:'"keyid" must be a string'},mutatePayload:{isValid:h,message:'"mutatePayload" must be a boolean'},allowInsecureKeySizes:{isValid:h,message:'"allowInsecureKeySizes" must be a boolean'},allowInvalidAsymmetricKeyTypes:{isValid:h,message:'"allowInvalidAsymmetricKeyTypes" must be a boolean'}},k={iat:{isValid:a,message:'"iat" should be a number of seconds'},exp:{isValid:a,message:'"exp" should be a number of seconds'},nbf:{isValid:a,message:'"nbf" should be a number of seconds'}};function p(C,v,g,M){if(!d(g))throw new Error('Expected "'+M+'" to be a plain object.');Object.keys(g).forEach(function(V){let q=C[V];if(!q){if(!v)throw new Error('"'+V+'" is not allowed in "'+M+'"');return}if(!q.isValid(g[V]))throw new Error(q.message)})}function R(C){return p(B,!1,C,"options")}function E(C){return p(k,!0,C,"payload")}var P={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"},D=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"];n.exports=function(C,v,g,M){typeof g=="function"?(M=g,g={}):g=g||{};let V=typeof C=="object"&&!Buffer.isBuffer(C),q=Object.assign({alg:g.algorithm||"HS256",typ:V?"JWT":void 0,kid:g.keyid},g.header);function w(L){if(M)return M(L);throw L}if(!v&&g.algorithm!=="none")return w(new Error("secretOrPrivateKey must have a value"));if(v!=null&&!(v instanceof A))try{v=m(v)}catch{try{v=T(typeof v=="string"?Buffer.from(v):v)}catch{return w(new Error("secretOrPrivateKey is not valid key material"))}}if(q.alg.startsWith("HS")&&v.type!=="secret")return w(new Error(`secretOrPrivateKey must be a symmetric key when using ${q.alg}`));if(/^(?:RS|PS|ES)/.test(q.alg)){if(v.type!=="private")return w(new Error(`secretOrPrivateKey must be an asymmetric key when using ${q.alg}`));if(!g.allowInsecureKeySizes&&!q.alg.startsWith("ES")&&v.asymmetricKeyDetails!==void 0&&v.asymmetricKeyDetails.modulusLength<2048)return w(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${q.alg}`))}if(typeof C>"u")return w(new Error("payload is required"));if(V){try{E(C)}catch(L){return w(L)}g.mutatePayload||(C=Object.assign({},C))}else{let L=D.filter(function(F){return typeof g[F]<"u"});if(L.length>0)return w(new Error("invalid "+L.join(",")+" option for "+typeof C+" payload"))}if(typeof C.exp<"u"&&typeof g.expiresIn<"u")return w(new Error('Bad "options.expiresIn" option the payload already has an "exp" property.'));if(typeof C.nbf<"u"&&typeof g.notBefore<"u")return w(new Error('Bad "options.notBefore" option the payload already has an "nbf" property.'));try{R(g)}catch(L){return w(L)}if(!g.allowInvalidAsymmetricKeyTypes)try{i(q.alg,v)}catch(L){return w(L)}let U=C.iat||Math.floor(Date.now()/1e3);if(g.noTimestamp?delete C.iat:V&&(C.iat=U),typeof g.notBefore<"u"){try{C.nbf=t(g.notBefore,U)}catch(L){return w(L)}if(typeof C.nbf>"u")return w(new Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}if(typeof g.expiresIn<"u"&&typeof C=="object"){try{C.exp=t(g.expiresIn,U)}catch(L){return w(L)}if(typeof C.exp>"u")return w(new Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}Object.keys(P).forEach(function(L){let F=P[L];if(typeof g[L]<"u"){if(typeof C[F]<"u")return w(new Error('Bad "options.'+L+'" option. The payload already has an "'+F+'" property.'));C[F]=g[L]}});let j=g.encoding||"utf8";if(typeof M=="function")M=M&&y(M),s.createSign({header:q,privateKey:v,payload:C,encoding:j}).once("error",M).once("done",function(L){if(!g.allowInsecureKeySizes&&/^(?:RS|PS)/.test(q.alg)&&L.length<256)return M(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${q.alg}`));M(null,L)});else{let L=s.sign({header:q,payload:C,secret:v,encoding:j});if(!g.allowInsecureKeySizes&&/^(?:RS|PS)/.test(q.alg)&&L.length<256)throw new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${q.alg}`);return L}}}),C6=Re((e,n)=>{n.exports={verify:w6(),sign:S6(),JsonWebTokenError:Jc(),NotBeforeError:Av(),TokenExpiredError:Iv()},Object.defineProperty(n.exports,"decode",{enumerable:!1,value:Pv()})}),qv={};C3(qv,{BrowserName:()=>Mv,marketNameMap:()=>Fv,submitChrome:()=>zR,submitEdge:()=>YR,submitFirefox:()=>MA,submitItero:()=>j8,submitOpera:()=>VA,supportedBrowserSet:()=>T6});Yb.exports=T3(qv);var Mv=(e=>(e.Chrome="chrome",e.Firefox="firefox",e.Opera="opera",e.Edge="edge",e.Itero="itero",e))(Mv||{}),T6=new Set(["chrome","edge","firefox","itero"]),Fv={chrome:"Chrome Web Store",edge:"Edge Add-ons",firefox:"Firefox Add-ons",itero:"Itero TestBed"},R6=require("fs"),Vv=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function A6(e){return Vv.includes(e)}var I6=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Blob","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","WeakRef","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","FormData","URLSearchParams","HTMLElement","NaN",...Vv];function k6(e){return I6.includes(e)}var B6=["null","undefined","string","number","bigint","boolean","symbol"];function O6(e){return B6.includes(e)}function Is(e){return n=>typeof n===e}var{toString:P6}=Object.prototype,Vu=e=>{let n=P6.call(e).slice(8,-1);if(/HTML\w+Element/.test(n)&&ie.domElement(e))return"HTMLElement";if(k6(n))return n},Mt=e=>n=>Vu(n)===e;function ie(e){if(e===null)return"null";switch(typeof e){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(e)?"NaN":"number";case"boolean":return"boolean";case"function":return"Function";case"bigint":return"bigint";case"symbol":return"symbol";default:}if(ie.observable(e))return"Observable";if(ie.array(e))return"Array";if(ie.buffer(e))return"Buffer";let n=Vu(e);if(n)return n;if(e instanceof String||e instanceof Boolean||e instanceof Number)throw new TypeError("Please don't use object wrappers for primitive types");return"Object"}ie.undefined=Is("undefined");ie.string=Is("string");var L6=Is("number");ie.number=e=>L6(e)&&!ie.nan(e);ie.bigint=Is("bigint");ie.function_=Is("function");ie.null_=e=>e===null;ie.class_=e=>ie.function_(e)&&e.toString().startsWith("class ");ie.boolean=e=>e===!0||e===!1;ie.symbol=Is("symbol");ie.numericString=e=>ie.string(e)&&!ie.emptyStringOrWhitespace(e)&&!Number.isNaN(Number(e));ie.array=(e,n)=>Array.isArray(e)?ie.function_(n)?e.every(t=>n(t)):!0:!1;ie.buffer=e=>e?.constructor?.isBuffer?.(e)??!1;ie.blob=e=>Mt("Blob")(e);ie.nullOrUndefined=e=>ie.null_(e)||ie.undefined(e);ie.object=e=>!ie.null_(e)&&(typeof e=="object"||ie.function_(e));ie.iterable=e=>ie.function_(e?.[Symbol.iterator]);ie.asyncIterable=e=>ie.function_(e?.[Symbol.asyncIterator]);ie.generator=e=>ie.iterable(e)&&ie.function_(e?.next)&&ie.function_(e?.throw);ie.asyncGenerator=e=>ie.asyncIterable(e)&&ie.function_(e.next)&&ie.function_(e.throw);ie.nativePromise=e=>Mt("Promise")(e);var N6=e=>ie.function_(e?.then)&&ie.function_(e?.catch);ie.promise=e=>ie.nativePromise(e)||N6(e);ie.generatorFunction=Mt("GeneratorFunction");ie.asyncGeneratorFunction=e=>Vu(e)==="AsyncGeneratorFunction";ie.asyncFunction=e=>Vu(e)==="AsyncFunction";ie.boundFunction=e=>ie.function_(e)&&!e.hasOwnProperty("prototype");ie.regExp=Mt("RegExp");ie.date=Mt("Date");ie.error=Mt("Error");ie.map=e=>Mt("Map")(e);ie.set=e=>Mt("Set")(e);ie.weakMap=e=>Mt("WeakMap")(e);ie.weakSet=e=>Mt("WeakSet")(e);ie.weakRef=e=>Mt("WeakRef")(e);ie.int8Array=Mt("Int8Array");ie.uint8Array=Mt("Uint8Array");ie.uint8ClampedArray=Mt("Uint8ClampedArray");ie.int16Array=Mt("Int16Array");ie.uint16Array=Mt("Uint16Array");ie.int32Array=Mt("Int32Array");ie.uint32Array=Mt("Uint32Array");ie.float32Array=Mt("Float32Array");ie.float64Array=Mt("Float64Array");ie.bigInt64Array=Mt("BigInt64Array");ie.bigUint64Array=Mt("BigUint64Array");ie.arrayBuffer=Mt("ArrayBuffer");ie.sharedArrayBuffer=Mt("SharedArrayBuffer");ie.dataView=Mt("DataView");ie.enumCase=(e,n)=>Object.values(n).includes(e);ie.directInstanceOf=(e,n)=>Object.getPrototypeOf(e)===n.prototype;ie.urlInstance=e=>Mt("URL")(e);ie.urlString=e=>{if(!ie.string(e))return!1;try{return new URL(e),!0}catch{return!1}};ie.truthy=e=>!!e;ie.falsy=e=>!e;ie.nan=e=>Number.isNaN(e);ie.primitive=e=>ie.null_(e)||O6(typeof e);ie.integer=e=>Number.isInteger(e);ie.safeInteger=e=>Number.isSafeInteger(e);ie.plainObject=e=>{if(typeof e!="object"||e===null)return!1;let n=Object.getPrototypeOf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};ie.typedArray=e=>A6(Vu(e));var U6=e=>ie.safeInteger(e)&&e>=0;ie.arrayLike=e=>!ie.nullOrUndefined(e)&&!ie.function_(e)&&U6(e.length);ie.inRange=(e,n)=>{if(ie.number(n))return e>=Math.min(0,n)&&e<=Math.max(n,0);if(ie.array(n)&&n.length===2)return e>=Math.min(...n)&&e<=Math.max(...n);throw new TypeError(`Invalid range: ${JSON.stringify(n)}`)};var x6=1,D6=["innerHTML","ownerDocument","style","attributes","nodeValue"];ie.domElement=e=>ie.object(e)&&e.nodeType===x6&&ie.string(e.nodeName)&&!ie.plainObject(e)&&D6.every(n=>n in e);ie.observable=e=>e?e===e[Symbol.observable]?.()||e===e["@@observable"]?.():!1;ie.nodeStream=e=>ie.object(e)&&ie.function_(e.pipe)&&!ie.observable(e);ie.infinite=e=>e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY;var zv=e=>n=>ie.integer(n)&&Math.abs(n%2)===e;ie.evenInteger=zv(0);ie.oddInteger=zv(1);ie.emptyArray=e=>ie.array(e)&&e.length===0;ie.nonEmptyArray=e=>ie.array(e)&&e.length>0;ie.emptyString=e=>ie.string(e)&&e.length===0;var j6=e=>ie.string(e)&&!/\S/.test(e);ie.emptyStringOrWhitespace=e=>ie.emptyString(e)||j6(e);ie.nonEmptyString=e=>ie.string(e)&&e.length>0;ie.nonEmptyStringAndNotWhitespace=e=>ie.string(e)&&!ie.emptyStringOrWhitespace(e);ie.emptyObject=e=>ie.object(e)&&!ie.map(e)&&!ie.set(e)&&Object.keys(e).length===0;ie.nonEmptyObject=e=>ie.object(e)&&!ie.map(e)&&!ie.set(e)&&Object.keys(e).length>0;ie.emptySet=e=>ie.set(e)&&e.size===0;ie.nonEmptySet=e=>ie.set(e)&&e.size>0;ie.emptyMap=e=>ie.map(e)&&e.size===0;ie.nonEmptyMap=e=>ie.map(e)&&e.size>0;ie.propertyKey=e=>ie.any([ie.string,ie.number,ie.symbol],e);ie.formData=e=>Mt("FormData")(e);ie.urlSearchParams=e=>Mt("URLSearchParams")(e);var $v=(e,n,t)=>{if(!ie.function_(n))throw new TypeError(`Invalid predicate: ${JSON.stringify(n)}`);if(t.length===0)throw new TypeError("Invalid number of values");return e.call(t,n)};ie.any=(e,...n)=>(ie.array(e)?e:[e]).some(t=>$v(Array.prototype.some,t,n));ie.all=(e,...n)=>$v(Array.prototype.every,e,n);var Be=(e,n,t,r={})=>{if(!e){let{multipleValues:i}=r,s=i?`received values of types ${[...new Set(t.map(u=>`\`${ie(u)}\``))].join(", ")}`:`received value of type \`${ie(t)}\``;throw new TypeError(`Expected value which is \`${n}\`, ${s}.`)}},le={undefined:e=>Be(ie.undefined(e),"undefined",e),string:e=>Be(ie.string(e),"string",e),number:e=>Be(ie.number(e),"number",e),bigint:e=>Be(ie.bigint(e),"bigint",e),function_:e=>Be(ie.function_(e),"Function",e),null_:e=>Be(ie.null_(e),"null",e),class_:e=>Be(ie.class_(e),"Class",e),boolean:e=>Be(ie.boolean(e),"boolean",e),symbol:e=>Be(ie.symbol(e),"symbol",e),numericString:e=>Be(ie.numericString(e),"string with a number",e),array:(e,n)=>{Be(ie.array(e),"Array",e),n&&e.forEach(n)},buffer:e=>Be(ie.buffer(e),"Buffer",e),blob:e=>Be(ie.blob(e),"Blob",e),nullOrUndefined:e=>Be(ie.nullOrUndefined(e),"null or undefined",e),object:e=>Be(ie.object(e),"Object",e),iterable:e=>Be(ie.iterable(e),"Iterable",e),asyncIterable:e=>Be(ie.asyncIterable(e),"AsyncIterable",e),generator:e=>Be(ie.generator(e),"Generator",e),asyncGenerator:e=>Be(ie.asyncGenerator(e),"AsyncGenerator",e),nativePromise:e=>Be(ie.nativePromise(e),"native Promise",e),promise:e=>Be(ie.promise(e),"Promise",e),generatorFunction:e=>Be(ie.generatorFunction(e),"GeneratorFunction",e),asyncGeneratorFunction:e=>Be(ie.asyncGeneratorFunction(e),"AsyncGeneratorFunction",e),asyncFunction:e=>Be(ie.asyncFunction(e),"AsyncFunction",e),boundFunction:e=>Be(ie.boundFunction(e),"Function",e),regExp:e=>Be(ie.regExp(e),"RegExp",e),date:e=>Be(ie.date(e),"Date",e),error:e=>Be(ie.error(e),"Error",e),map:e=>Be(ie.map(e),"Map",e),set:e=>Be(ie.set(e),"Set",e),weakMap:e=>Be(ie.weakMap(e),"WeakMap",e),weakSet:e=>Be(ie.weakSet(e),"WeakSet",e),weakRef:e=>Be(ie.weakRef(e),"WeakRef",e),int8Array:e=>Be(ie.int8Array(e),"Int8Array",e),uint8Array:e=>Be(ie.uint8Array(e),"Uint8Array",e),uint8ClampedArray:e=>Be(ie.uint8ClampedArray(e),"Uint8ClampedArray",e),int16Array:e=>Be(ie.int16Array(e),"Int16Array",e),uint16Array:e=>Be(ie.uint16Array(e),"Uint16Array",e),int32Array:e=>Be(ie.int32Array(e),"Int32Array",e),uint32Array:e=>Be(ie.uint32Array(e),"Uint32Array",e),float32Array:e=>Be(ie.float32Array(e),"Float32Array",e),float64Array:e=>Be(ie.float64Array(e),"Float64Array",e),bigInt64Array:e=>Be(ie.bigInt64Array(e),"BigInt64Array",e),bigUint64Array:e=>Be(ie.bigUint64Array(e),"BigUint64Array",e),arrayBuffer:e=>Be(ie.arrayBuffer(e),"ArrayBuffer",e),sharedArrayBuffer:e=>Be(ie.sharedArrayBuffer(e),"SharedArrayBuffer",e),dataView:e=>Be(ie.dataView(e),"DataView",e),enumCase:(e,n)=>Be(ie.enumCase(e,n),"EnumCase",e),urlInstance:e=>Be(ie.urlInstance(e),"URL",e),urlString:e=>Be(ie.urlString(e),"string with a URL",e),truthy:e=>Be(ie.truthy(e),"truthy",e),falsy:e=>Be(ie.falsy(e),"falsy",e),nan:e=>Be(ie.nan(e),"NaN",e),primitive:e=>Be(ie.primitive(e),"primitive",e),integer:e=>Be(ie.integer(e),"integer",e),safeInteger:e=>Be(ie.safeInteger(e),"integer",e),plainObject:e=>Be(ie.plainObject(e),"plain object",e),typedArray:e=>Be(ie.typedArray(e),"TypedArray",e),arrayLike:e=>Be(ie.arrayLike(e),"array-like",e),domElement:e=>Be(ie.domElement(e),"HTMLElement",e),observable:e=>Be(ie.observable(e),"Observable",e),nodeStream:e=>Be(ie.nodeStream(e),"Node.js Stream",e),infinite:e=>Be(ie.infinite(e),"infinite number",e),emptyArray:e=>Be(ie.emptyArray(e),"empty array",e),nonEmptyArray:e=>Be(ie.nonEmptyArray(e),"non-empty array",e),emptyString:e=>Be(ie.emptyString(e),"empty string",e),emptyStringOrWhitespace:e=>Be(ie.emptyStringOrWhitespace(e),"empty string or whitespace",e),nonEmptyString:e=>Be(ie.nonEmptyString(e),"non-empty string",e),nonEmptyStringAndNotWhitespace:e=>Be(ie.nonEmptyStringAndNotWhitespace(e),"non-empty string and not whitespace",e),emptyObject:e=>Be(ie.emptyObject(e),"empty object",e),nonEmptyObject:e=>Be(ie.nonEmptyObject(e),"non-empty object",e),emptySet:e=>Be(ie.emptySet(e),"empty set",e),nonEmptySet:e=>Be(ie.nonEmptySet(e),"non-empty set",e),emptyMap:e=>Be(ie.emptyMap(e),"empty map",e),nonEmptyMap:e=>Be(ie.nonEmptyMap(e),"non-empty map",e),propertyKey:e=>Be(ie.propertyKey(e),"PropertyKey",e),formData:e=>Be(ie.formData(e),"FormData",e),urlSearchParams:e=>Be(ie.urlSearchParams(e),"URLSearchParams",e),evenInteger:e=>Be(ie.evenInteger(e),"even integer",e),oddInteger:e=>Be(ie.oddInteger(e),"odd integer",e),directInstanceOf:(e,n)=>Be(ie.directInstanceOf(e,n),"T",e),inRange:(e,n)=>Be(ie.inRange(e,n),"in range",e),any:(e,...n)=>Be(ie.any(e,...n),"predicate returns truthy for any value",n,{multipleValues:!0}),all:(e,...n)=>Be(ie.all(e,...n),"predicate returns truthy for all values",n,{multipleValues:!0})};Object.defineProperties(ie,{class:{value:ie.class_},function:{value:ie.function_},null:{value:ie.null_}});Object.defineProperties(le,{class:{value:le.class_},function:{value:le.function_},null:{value:le.null_}});var W=ie,q6=require("node:events"),M6=class extends Error{constructor(e){super(e||"Promise was canceled"),this.name="CancelError"}get isCanceled(){return!0}},oh=class{static fn(e){return(...n)=>new oh((t,r,i)=>{n.push(i),e(...n).then(t,r)})}constructor(e){this._cancelHandlers=[],this._isPending=!0,this._isCanceled=!1,this._rejectOnCancel=!0,this._promise=new Promise((n,t)=>{this._reject=t;let r=u=>{(!this._isCanceled||!s.shouldReject)&&(this._isPending=!1,n(u))},i=u=>{this._isPending=!1,t(u)},s=u=>{if(!this._isPending)throw new Error("The `onCancel` handler was attached after the promise settled.");this._cancelHandlers.push(u)};Object.defineProperties(s,{shouldReject:{get:()=>this._rejectOnCancel,set:u=>{this._rejectOnCancel=u}}}),e(r,i,s)})}then(e,n){return this._promise.then(e,n)}catch(e){return this._promise.catch(e)}finally(e){return this._promise.finally(e)}cancel(e){if(!(!this._isPending||this._isCanceled)){if(this._isCanceled=!0,this._cancelHandlers.length>0)try{for(let n of this._cancelHandlers)n()}catch(n){this._reject(n);return}this._rejectOnCancel&&this._reject(new M6(e))}}get isCanceled(){return this._isCanceled}};Object.setPrototypeOf(oh.prototype,Promise.prototype);function F6(e){return W.object(e)&&"_onResponse"in e}var Er=class extends Error{constructor(e,n,t){if(super(e),Object.defineProperty(this,"input",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stack",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"response",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Error.captureStackTrace(this,this.constructor),this.name="RequestError",this.code=n.code??"ERR_GOT_REQUEST_ERROR",this.input=n.input,F6(t)?(Object.defineProperty(this,"request",{enumerable:!1,value:t}),Object.defineProperty(this,"response",{enumerable:!1,value:t.response}),this.options=t.options):this.options=t,this.timings=this.request?.timings,W.string(n.stack)&&W.string(this.stack)){let r=this.stack.indexOf(this.message)+this.message.length,i=this.stack.slice(r).split(`
`).reverse(),s=n.stack.slice(n.stack.indexOf(n.message)+n.message.length).split(`
`).reverse();for(;s.length>0&&s[0]===i[0];)i.shift();this.stack=`${this.stack.slice(0,r)}${i.reverse().join(`
`)}${s.reverse().join(`
`)}`}}},V6=class extends Er{constructor(e){super(`Redirected ${e.options.maxRedirects} times. Aborting.`,{},e),this.name="MaxRedirectsError",this.code="ERR_TOO_MANY_REDIRECTS"}},Pc=class extends Er{constructor(e){super(`Response code ${e.statusCode} (${e.statusMessage})`,{},e.request),this.name="HTTPError",this.code="ERR_NON_2XX_3XX_RESPONSE"}},z6=class extends Er{constructor(e,n){super(e.message,e,n),this.name="CacheError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_CACHE_ACCESS":this.code}},Wg=class extends Er{constructor(e,n){super(e.message,e,n),this.name="UploadError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_UPLOAD":this.code}},$6=class extends Er{constructor(e,n,t){super(e.message,e,t),Object.defineProperty(this,"timings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"event",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="TimeoutError",this.event=e.event,this.timings=n}},Gg=class extends Er{constructor(e,n){super(e.message,e,n),this.name="ReadError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_READING_RESPONSE_STREAM":this.code}},H6=class extends Er{constructor(e){super("Retrying",{},e),this.name="RetryError",this.code="ERR_RETRYING"}},K6=class extends Er{constructor(e){super("This operation was aborted.",{},e),this.code="ERR_ABORTED",this.name="AbortError"}},Hv=yt(require("node:process"),1),ad=require("node:buffer"),W6=require("node:stream"),sd=yt(require("node:http"),1),G6=require("events"),Q6=require("util"),Y6=yt(R3(),1),X6=e=>{if(e.timings)return e.timings;let n={start:Date.now(),socket:void 0,lookup:void 0,connect:void 0,secureConnect:void 0,upload:void 0,response:void 0,end:void 0,error:void 0,abort:void 0,phases:{wait:void 0,dns:void 0,tcp:void 0,tls:void 0,request:void 0,firstByte:void 0,download:void 0,total:void 0}};e.timings=n;let t=u=>{u.once(G6.errorMonitor,()=>{n.error=Date.now(),n.phases.total=n.error-n.start})};t(e);let r=()=>{n.abort=Date.now(),n.phases.total=n.abort-n.start};e.prependOnceListener("abort",r);let i=u=>{if(n.socket=Date.now(),n.phases.wait=n.socket-n.start,Q6.types.isProxy(u))return;let h=()=>{n.lookup=Date.now(),n.phases.dns=n.lookup-n.socket};u.prependOnceListener("lookup",h),(0,Y6.default)(u,{connect:()=>{n.connect=Date.now(),n.lookup===void 0&&(u.removeListener("lookup",h),n.lookup=n.connect,n.phases.dns=n.lookup-n.socket),n.phases.tcp=n.connect-n.lookup},secureConnect:()=>{n.secureConnect=Date.now(),n.phases.tls=n.secureConnect-n.connect}})};e.socket?i(e.socket):e.prependOnceListener("socket",i);let s=()=>{n.upload=Date.now(),n.phases.request=n.upload-(n.secureConnect??n.connect)};return e.writableFinished?s():e.prependOnceListener("finish",s),e.prependOnceListener("response",u=>{n.response=Date.now(),n.phases.firstByte=n.response-n.upload,u.timings=n,t(u),u.prependOnceListener("end",()=>{e.off("abort",r),u.off("aborted",r),!n.phases.total&&(n.end=Date.now(),n.phases.download=n.end-n.response,n.phases.total=n.end-n.start)}),u.prependOnceListener("aborted",r)}),n},Kv=X6,J6=yt(require("node:events"),1),Jl=yt(require("node:url"),1),Z6=yt(require("node:crypto"),1),Wv=yt(require("node:stream"),1),e4="text/plain",t4="us-ascii",ud=(e,n)=>n.some(t=>t instanceof RegExp?t.test(e):t===e),r4=new Set(["https:","http:","file:"]),n4=e=>{try{let{protocol:n}=new URL(e);return n.endsWith(":")&&!r4.has(n)}catch{return!1}},i4=(e,{stripHash:n})=>{let t=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(e);if(!t)throw new Error(`Invalid URL: ${e}`);let{type:r,data:i,hash:s}=t.groups,u=r.split(";");s=n?"":s;let h=!1;u[u.length-1]==="base64"&&(u.pop(),h=!0);let c=u.shift()?.toLowerCase()??"",a=[...u.map(d=>{let[f,y=""]=d.split("=").map(A=>A.trim());return f==="charset"&&(y=y.toLowerCase(),y===t4)?"":`${f}${y?`=${y}`:""}`}).filter(Boolean)];return h&&a.push("base64"),(a.length>0||c&&c!==e4)&&a.unshift(c),`data:${a.join(";")},${h?i.trim():i}${s?`#${s}`:""}`};function Gv(e,n){if(n={defaultProtocol:"http",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,removeExplicitPort:!1,sortQueryParameters:!0,...n},typeof n.defaultProtocol=="string"&&!n.defaultProtocol.endsWith(":")&&(n.defaultProtocol=`${n.defaultProtocol}:`),e=e.trim(),/^data:/i.test(e))return i4(e,n);if(n4(e))return e;let t=e.startsWith("//");!t&&/^\.*\//.test(e)||(e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,n.defaultProtocol));let r=new URL(e);if(n.forceHttp&&n.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(n.forceHttp&&r.protocol==="https:"&&(r.protocol="http:"),n.forceHttps&&r.protocol==="http:"&&(r.protocol="https:"),n.stripAuthentication&&(r.username="",r.password=""),n.stripHash?r.hash="":n.stripTextFragment&&(r.hash=r.hash.replace(/#?:~:text.*?$/i,"")),r.pathname){let s=/\b[a-z][a-z\d+\-.]{1,50}:\/\//g,u=0,h="";for(;;){let a=s.exec(r.pathname);if(!a)break;let d=a[0],f=a.index,y=r.pathname.slice(u,f);h+=y.replace(/\/{2,}/g,"/"),h+=d,u=f+d.length}let c=r.pathname.slice(u,r.pathname.length);h+=c.replace(/\/{2,}/g,"/"),r.pathname=h}if(r.pathname)try{r.pathname=decodeURI(r.pathname)}catch{}if(n.removeDirectoryIndex===!0&&(n.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(n.removeDirectoryIndex)&&n.removeDirectoryIndex.length>0){let s=r.pathname.split("/"),u=s[s.length-1];ud(u,n.removeDirectoryIndex)&&(s=s.slice(0,-1),r.pathname=s.slice(1).join("/")+"/")}if(r.hostname&&(r.hostname=r.hostname.replace(/\.$/,""),n.stripWWW&&/^www\.(?!www\.)[a-z\-\d]{1,63}\.[a-z.\-\d]{2,63}$/.test(r.hostname)&&(r.hostname=r.hostname.replace(/^www\./,""))),Array.isArray(n.removeQueryParameters))for(let s of[...r.searchParams.keys()])ud(s,n.removeQueryParameters)&&r.searchParams.delete(s);if(!Array.isArray(n.keepQueryParameters)&&n.removeQueryParameters===!0&&(r.search=""),Array.isArray(n.keepQueryParameters)&&n.keepQueryParameters.length>0)for(let s of[...r.searchParams.keys()])ud(s,n.keepQueryParameters)||r.searchParams.delete(s);if(n.sortQueryParameters){r.searchParams.sort();try{r.search=decodeURIComponent(r.search)}catch{}}n.removeTrailingSlash&&(r.pathname=r.pathname.replace(/\/$/,"")),n.removeExplicitPort&&r.port&&(r.port="");let i=e;return e=r.toString(),!n.removeSingleSlash&&r.pathname==="/"&&!i.endsWith("/")&&r.hash===""&&(e=e.replace(/\/$/,"")),(n.removeTrailingSlash||r.pathname==="/")&&r.hash===""&&n.removeSingleSlash&&(e=e.replace(/\/$/,"")),t&&!n.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),n.stripProtocol&&(e=e.replace(/^(?:https?:)?\/\//,"")),e}var o4=yt(Yc(),1),ld=yt(dv(),1),a4=require("node:stream");function Ou(e){return Object.fromEntries(Object.entries(e).map(([n,t])=>[n.toLowerCase(),t]))}var Lc=class extends a4.Readable{statusCode;headers;body;url;constructor({statusCode:e,headers:n,body:t,url:r}){if(typeof e!="number")throw new TypeError("Argument `statusCode` should be a number");if(typeof n!="object")throw new TypeError("Argument `headers` should be an object");if(!(t instanceof Uint8Array))throw new TypeError("Argument `body` should be a buffer");if(typeof r!="string")throw new TypeError("Argument `url` should be a string");super({read(){this.push(t),this.push(null)}}),this.statusCode=e,this.headers=Ou(n),this.body=t,this.url=r}},Zl=yt(pv(),1),s4=["aborted","complete","headers","httpVersion","httpVersionMinor","httpVersionMajor","method","rawHeaders","rawTrailers","setTimeout","socket","statusCode","statusMessage","trailers","url"];function Qv(e,n){if(n._readableState.autoDestroy)throw new Error("The second stream must have the `autoDestroy` option set to `false`");let t=new Set([...Object.keys(e),...s4]),r={};for(let i of t)i in n||(r[i]={get(){let s=e[i];return typeof s=="function"?s.bind(e):s},set(s){e[i]=s},enumerable:!0,configurable:!1});return Object.defineProperties(n,r),e.once("aborted",()=>{n.destroy(),n.emit("aborted")}),e.once("close",()=>{e.complete&&n.readable?n.once("end",()=>{n.emit("close")}):n.emit("close")}),n}var u4=class extends Error{constructor(e){super(e.message),Object.assign(this,e)}},Su=class extends Error{constructor(e){super(e.message),Object.assign(this,e)}},l4=class{constructor(e,n){this.hooks=new Map,this.request=()=>(t,r)=>{let i;if(typeof t=="string")i=cd(Jl.default.parse(t)),t={};else if(t instanceof Jl.default.URL)i=cd(Jl.default.parse(t.toString())),t={};else{let[f,...y]=(t.path??"").split("?"),A=y.length>0?`?${y.join("?")}`:"";i=cd({...t,pathname:f,search:A})}t={headers:{},method:"GET",cache:!0,strictTtl:!1,automaticFailover:!1,...t,...f4(i)},t.headers=Object.fromEntries(c4(t.headers).map(([f,y])=>[f.toLowerCase(),y]));let s=new J6.default,u=Gv(Jl.default.format(i),{stripWWW:!1,removeTrailingSlash:!1,stripAuthentication:!1}),h=`${t.method}:${u}`;t.body&&t.method!==void 0&&["POST","PATCH","PUT"].includes(t.method)&&(t.body instanceof Wv.default.Readable?t.cache=!1:h+=`:${Z6.default.createHash("md5").update(t.body).digest("hex")}`);let c=!1,a=!1,d=f=>{a=!0;let y=!1,A=()=>{},T=new Promise(S=>{A=()=>{y||(y=!0,S())}}),m=async S=>{if(c){S.status=S.statusCode;let k=ld.default.fromObject(c.cachePolicy).revalidatedPolicy(f,S);if(!k.modified){S.resume(),await new Promise(R=>{S.once("end",R)});let p=Qg(k.policy.responseHeaders());S=new Lc({statusCode:c.statusCode,headers:p,body:c.body,url:c.url}),S.cachePolicy=k.policy,S.fromCache=!0}}S.fromCache||(S.cachePolicy=new ld.default(f,S,f),S.fromCache=!1);let B;f.cache&&S.cachePolicy.storable()?(B=h4(S),(async()=>{try{let k=o4.default.buffer(S);await Promise.race([T,new Promise(P=>S.once("end",P)),new Promise(P=>S.once("close",P))]);let p=await k,R={url:S.url,statusCode:S.fromCache?c.statusCode:S.statusCode,body:p,cachePolicy:S.cachePolicy.toObject()},E=f.strictTtl?S.cachePolicy.timeToLive():void 0;if(f.maxTtl&&(E=E?Math.min(E,f.maxTtl):f.maxTtl),this.hooks.size>0)for(let P of this.hooks.keys())R=await this.runHook(P,R,S);await this.cache.set(h,R,E)}catch(k){s.emit("error",new Su(k))}})()):f.cache&&c&&(async()=>{try{await this.cache.delete(h)}catch(k){s.emit("error",new Su(k))}})(),s.emit("response",B??S),typeof r=="function"&&r(B??S)};try{let S=this.cacheRequest(f,m);S.once("error",A),S.once("abort",A),S.once("destroy",A),s.emit("request",S)}catch(S){s.emit("error",new u4(S))}};return(async()=>{let f=async A=>{await Promise.resolve();let T=A.cache?await this.cache.get(h):void 0;if(T===void 0&&!A.forceRefresh){d(A);return}let m=ld.default.fromObject(T.cachePolicy);if(m.satisfiesWithoutRevalidation(A)&&!A.forceRefresh){let S=Qg(m.responseHeaders()),B=new Lc({statusCode:T.statusCode,headers:S,body:T.body,url:T.url});B.cachePolicy=m,B.fromCache=!0,s.emit("response",B),typeof r=="function"&&r(B)}else m.satisfiesWithoutRevalidation(A)&&Date.now()>=m.timeToLive()&&A.forceRefresh?(await this.cache.delete(h),A.headers=m.revalidationHeaders(A),d(A)):(c=T,A.headers=m.revalidationHeaders(A),d(A))},y=A=>s.emit("error",new Su(A));if(this.cache instanceof Zl.default){let A=this.cache;A.once("error",y),s.on("error",()=>A.removeListener("error",y)),s.on("response",()=>A.removeListener("error",y))}try{await f(t)}catch(A){t.automaticFailover&&!a&&d(t),s.emit("error",new Su(A))}})(),s},this.addHook=(t,r)=>{this.hooks.has(t)||this.hooks.set(t,r)},this.removeHook=t=>this.hooks.delete(t),this.getHook=t=>this.hooks.get(t),this.runHook=async(t,...r)=>this.hooks.get(t)?.(...r),n instanceof Zl.default?this.cache=n:typeof n=="string"?this.cache=new Zl.default({uri:n,namespace:"cacheable-request"}):this.cache=new Zl.default({store:n,namespace:"cacheable-request"}),this.request=this.request.bind(this),this.cacheRequest=e}},c4=Object.entries,h4=e=>{let n=new Wv.PassThrough({autoDestroy:!1});return Qv(e,n),e.pipe(n)},f4=e=>{let n={...e};return n.path=`${e.pathname||"/"}${e.search||""}`,delete n.pathname,delete n.search,n},cd=e=>({protocol:e.protocol,auth:e.auth,hostname:e.hostname||e.host||"localhost",port:e.port,pathname:e.pathname,search:e.search}),Qg=e=>{let n=[];for(let t of Object.keys(e))n[t.toLowerCase()]=e[t];return n},d4=l4,p4=yt(yv(),1),y4=yt(Yc(),1),io=e=>typeof e=="function",g4=e=>io(e[Symbol.asyncIterator]);async function*m4(e){let n=e.getReader();for(;;){let{done:t,value:r}=await n.read();if(t)break;yield r}}var v4=e=>{if(g4(e))return e;if(io(e.getReader))return m4(e);throw new TypeError("Unsupported data source: Expected either ReadableStream or async iterable.")},Yg="abcdefghijklmnopqrstuvwxyz0123456789";function b4(){let e=16,n="";for(;e--;)n+=Yg[Math.random()*Yg.length<<0];return n}var Xg=e=>String(e).replace(/\r|\n/g,(n,t,r)=>n==="\r"&&r[t+1]!==`
`||n===`
`&&r[t-1]!=="\r"?`\r
`:n),_4=e=>Object.prototype.toString.call(e).slice(8,-1).toLowerCase();function Jg(e){if(_4(e)!=="object")return!1;let n=Object.getPrototypeOf(e);return n==null?!0:(n.constructor&&n.constructor.toString())===Object.toString()}function Zg(e,n){if(typeof n=="string"){for(let[t,r]of Object.entries(e))if(n.toLowerCase()===t.toLowerCase())return r}}var w4=e=>new Proxy(e,{get:(n,t)=>Zg(n,t),has:(n,t)=>Zg(n,t)!==void 0}),zu=e=>!!(e&&io(e.constructor)&&e[Symbol.toStringTag]==="FormData"&&io(e.append)&&io(e.getAll)&&io(e.entries)&&io(e[Symbol.iterator])),em=e=>String(e).replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/"/g,"%22"),da=e=>!!(e&&typeof e=="object"&&io(e.constructor)&&e[Symbol.toStringTag]==="File"&&io(e.stream)&&e.name!=null),fu=function(e,n,t,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?e!==n||!i:!n.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,t):i?i.value=t:n.set(e,t),t},Yt=function(e,n,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?e!==n||!r:!n.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(e):r?r.value:n.get(e)},du,Do,pu,ec,yu,pa,gu,mu,tc,hd,tm,E4={enableAdditionalHeaders:!1},rc={writable:!1,configurable:!1},Yv=class{constructor(e,n,t){if(du.add(this),Do.set(this,`\r
`),pu.set(this,void 0),ec.set(this,void 0),yu.set(this,"-".repeat(2)),pa.set(this,new TextEncoder),gu.set(this,void 0),mu.set(this,void 0),tc.set(this,void 0),!zu(e))throw new TypeError("Expected first argument to be a FormData instance.");let r;if(Jg(n)?t=n:r=n,r||(r=b4()),typeof r!="string")throw new TypeError("Expected boundary argument to be a string.");if(t&&!Jg(t))throw new TypeError("Expected options argument to be an object.");fu(this,mu,Array.from(e.entries()),"f"),fu(this,tc,{...E4,...t},"f"),fu(this,pu,Yt(this,pa,"f").encode(Yt(this,Do,"f")),"f"),fu(this,ec,Yt(this,pu,"f").byteLength,"f"),this.boundary=`form-data-boundary-${r}`,this.contentType=`multipart/form-data; boundary=${this.boundary}`,fu(this,gu,Yt(this,pa,"f").encode(`${Yt(this,yu,"f")}${this.boundary}${Yt(this,yu,"f")}${Yt(this,Do,"f").repeat(2)}`),"f");let i={"Content-Type":this.contentType},s=Yt(this,du,"m",tm).call(this);s&&(this.contentLength=s,i["Content-Length"]=s),this.headers=w4(Object.freeze(i)),Object.defineProperties(this,{boundary:rc,contentType:rc,contentLength:rc,headers:rc})}getContentLength(){return this.contentLength==null?void 0:Number(this.contentLength)}*values(){for(let[e,n]of Yt(this,mu,"f")){let t=da(n)?n:Yt(this,pa,"f").encode(Xg(n));yield Yt(this,du,"m",hd).call(this,e,t),yield t,yield Yt(this,pu,"f")}yield Yt(this,gu,"f")}async*encode(){for(let e of this.values())da(e)?yield*v4(e.stream()):yield e}[(Do=new WeakMap,pu=new WeakMap,ec=new WeakMap,yu=new WeakMap,pa=new WeakMap,gu=new WeakMap,mu=new WeakMap,tc=new WeakMap,du=new WeakSet,hd=function(e,n){let t="";t+=`${Yt(this,yu,"f")}${this.boundary}${Yt(this,Do,"f")}`,t+=`Content-Disposition: form-data; name="${em(e)}"`,da(n)&&(t+=`; filename="${em(n.name)}"${Yt(this,Do,"f")}`,t+=`Content-Type: ${n.type||"application/octet-stream"}`);let r=da(n)?n.size:n.byteLength;return Yt(this,tc,"f").enableAdditionalHeaders===!0&&r!=null&&!isNaN(r)&&(t+=`${Yt(this,Do,"f")}Content-Length: ${da(n)?n.size:n.byteLength}`),Yt(this,pa,"f").encode(`${t}${Yt(this,Do,"f").repeat(2)}`)},tm=function(){let e=0;for(let[n,t]of Yt(this,mu,"f")){let r=da(t)?t:Yt(this,pa,"f").encode(Xg(t)),i=da(r)?r.size:r.byteLength;if(i==null||isNaN(i))return;e+=Yt(this,du,"m",hd).call(this,n,r).byteLength,e+=i,e+=Yt(this,ec,"f")}return String(e+Yt(this,gu,"f").byteLength)},Symbol.iterator)](){return this.values()}[Symbol.asyncIterator](){return this.encode()}},S4=require("node:buffer"),C4=require("node:util");function Xv(e){return W.nodeStream(e)&&W.function_(e.getBoundary)}async function T4(e,n){if(n&&"content-length"in n)return Number(n["content-length"]);if(!e)return 0;if(W.string(e))return S4.Buffer.byteLength(e);if(W.buffer(e))return e.length;if(Xv(e))return(0,C4.promisify)(e.getLength.bind(e))()}function Jv(e,n,t){let r={};for(let i of t){let s=(...u)=>{n.emit(i,...u)};r[i]=s,e.on(i,s)}return()=>{for(let[i,s]of Object.entries(r))e.off(i,s)}}var R4=yt(require("node:net"),1);function A4(){let e=[];return{once(n,t,r){n.once(t,r),e.push({origin:n,event:t,fn:r})},unhandleAll(){for(let n of e){let{origin:t,event:r,fn:i}=n;t.removeListener(r,i)}e.length=0}}}var rm=Symbol("reentry"),I4=()=>{},Zv=class extends Error{constructor(e,n){super(`Timeout awaiting '${n}' for ${e}ms`),Object.defineProperty(this,"event",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="TimeoutError",this.code="ETIMEDOUT"}};function k4(e,n,t){if(rm in e)return I4;e[rm]=!0;let r=[],{once:i,unhandleAll:s}=A4(),u=(m,S,B)=>{let k=setTimeout(S,m,m,B);k.unref?.();let p=()=>{clearTimeout(k)};return r.push(p),p},{host:h,hostname:c}=t,a=(m,S)=>{e.destroy(new Zv(m,S))},d=()=>{for(let m of r)m();s()};if(e.once("error",m=>{if(d(),e.listenerCount("error")===0)throw m}),n.request!==void 0){let m=u(n.request,a,"request");i(e,"response",S=>{i(S,"end",m)})}if(n.socket!==void 0){let{socket:m}=n,S=()=>{a(m,"socket")};e.setTimeout(m,S),r.push(()=>{e.removeListener("timeout",S)})}let f=n.lookup!==void 0,y=n.connect!==void 0,A=n.secureConnect!==void 0,T=n.send!==void 0;return(f||y||A||T)&&i(e,"socket",m=>{let{socketPath:S}=e;if(m.connecting){let B=!!(S??R4.default.isIP(c??h??"")!==0);if(f&&!B&&m.address().address===void 0){let k=u(n.lookup,a,"lookup");i(m,"lookup",k)}if(y){let k=()=>u(n.connect,a,"connect");B?i(m,"connect",k()):i(m,"lookup",p=>{p===null&&i(m,"connect",k())})}A&&t.protocol==="https:"&&i(m,"connect",()=>{let k=u(n.secureConnect,a,"secureConnect");i(m,"secureConnect",k)})}if(T){let B=()=>u(n.send,a,"send");m.connecting?i(m,"connect",()=>{i(e,"upload-complete",B())}):i(e,"upload-complete",B())}}),n.response!==void 0&&i(e,"upload-complete",()=>{let m=u(n.response,a,"response");i(e,"response",m)}),n.read!==void 0&&i(e,"response",m=>{let S=u(n.read,a,"read");i(m,"end",S)}),d}function B4(e){e=e;let n={protocol:e.protocol,hostname:W.string(e.hostname)&&e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,host:e.host,hash:e.hash,search:e.search,pathname:e.pathname,href:e.href,path:`${e.pathname||""}${e.search||""}`};return W.string(e.port)&&e.port.length>0&&(n.port=Number(e.port)),(e.username||e.password)&&(n.auth=`${e.username||""}:${e.password||""}`),n}var O4=class{constructor(){Object.defineProperty(this,"weakMap",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"map",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.weakMap=new WeakMap,this.map=new Map}set(e,n){typeof e=="object"?this.weakMap.set(e,n):this.map.set(e,n)}get(e){return typeof e=="object"?this.weakMap.get(e):this.map.get(e)}has(e){return typeof e=="object"?this.weakMap.has(e):this.map.has(e)}},P4=({attemptCount:e,retryOptions:n,error:t,retryAfter:r,computedValue:i})=>{if(t.name==="RetryError")return 1;if(e>n.limit)return 0;let s=n.methods.includes(t.options.method),u=n.errorCodes.includes(t.code),h=t.response&&n.statusCodes.includes(t.response.statusCode);if(!s||!u&&!h)return 0;if(t.response){if(r)return r>i?0:r;if(t.response.statusCode===413)return 0}let c=Math.random()*n.noise;return Math.min(2**(e-1)*1e3,n.backoffLimit)+c},L4=P4,N4=yt(require("node:process"),1),fd=require("node:util"),U4=require("node:tls"),x4=yt(require("node:http"),1),D4=yt(require("node:https"),1),ps=require("node:dns"),dd=require("node:util"),j4=yt(require("node:os"),1),{Resolver:nm}=ps.promises,hs=Symbol("cacheableLookupCreateConnection"),pd=Symbol("cacheableLookupInstance"),im=Symbol("expires"),q4=typeof ps.ALL=="number",om=e=>{if(!(e&&typeof e.createConnection=="function"))throw new Error("Expected an Agent instance as the first argument")},M4=e=>{for(let n of e)n.family!==6&&(n.address=`::ffff:${n.address}`,n.family=6)},am=()=>{let e=!1,n=!1;for(let t of Object.values(j4.default.networkInterfaces()))for(let r of t)if(!r.internal&&(r.family==="IPv6"?n=!0:e=!0,e&&n))return{has4:e,has6:n};return{has4:e,has6:n}},F4=e=>Symbol.iterator in e,nc=e=>e.catch(n=>{if(n.code==="ENODATA"||n.code==="ENOTFOUND"||n.code==="ENOENT")return[];throw n}),sm={ttl:!0},V4={all:!0},z4={all:!0,family:4},$4={all:!0,family:6},e1=class{constructor({cache:e=new Map,maxTtl:n=1/0,fallbackDuration:t=3600,errorTtl:r=.15,resolver:i=new nm,lookup:s=ps.lookup}={}){if(this.maxTtl=n,this.errorTtl=r,this._cache=e,this._resolver=i,this._dnsLookup=s&&(0,dd.promisify)(s),this.stats={cache:0,query:0},this._resolver instanceof nm?(this._resolve4=this._resolver.resolve4.bind(this._resolver),this._resolve6=this._resolver.resolve6.bind(this._resolver)):(this._resolve4=(0,dd.promisify)(this._resolver.resolve4.bind(this._resolver)),this._resolve6=(0,dd.promisify)(this._resolver.resolve6.bind(this._resolver))),this._iface=am(),this._pending={},this._nextRemovalTime=!1,this._hostnamesToFallback=new Set,this.fallbackDuration=t,t>0){let u=setInterval(()=>{this._hostnamesToFallback.clear()},t*1e3);u.unref&&u.unref(),this._fallbackInterval=u}this.lookup=this.lookup.bind(this),this.lookupAsync=this.lookupAsync.bind(this)}set servers(e){this.clear(),this._resolver.setServers(e)}get servers(){return this._resolver.getServers()}lookup(e,n,t){if(typeof n=="function"?(t=n,n={}):typeof n=="number"&&(n={family:n}),!t)throw new Error("Callback must be a function.");this.lookupAsync(e,n).then(r=>{n.all?t(null,r):t(null,r.address,r.family,r.expires,r.ttl,r.source)},t)}async lookupAsync(e,n={}){typeof n=="number"&&(n={family:n});let t=await this.query(e);if(n.family===6){let r=t.filter(i=>i.family===6);n.hints&ps.V4MAPPED&&(q4&&n.hints&ps.ALL||r.length===0)?M4(t):t=r}else n.family===4&&(t=t.filter(r=>r.family===4));if(n.hints&ps.ADDRCONFIG){let{_iface:r}=this;t=t.filter(i=>i.family===6?r.has6:r.has4)}if(t.length===0){let r=new Error(`cacheableLookup ENOTFOUND ${e}`);throw r.code="ENOTFOUND",r.hostname=e,r}return n.all?t:t[0]}async query(e){let n="cache",t=await this._cache.get(e);if(t&&this.stats.cache++,!t){let r=this._pending[e];if(r)this.stats.cache++,t=await r;else{n="query";let i=this.queryAndCache(e);this._pending[e]=i,this.stats.query++;try{t=await i}finally{delete this._pending[e]}}}return t=t.map(r=>({...r,source:n})),t}async _resolve(e){let[n,t]=await Promise.all([nc(this._resolve4(e,sm)),nc(this._resolve6(e,sm))]),r=0,i=0,s=0,u=Date.now();for(let h of n)h.family=4,h.expires=u+h.ttl*1e3,r=Math.max(r,h.ttl);for(let h of t)h.family=6,h.expires=u+h.ttl*1e3,i=Math.max(i,h.ttl);return n.length>0?t.length>0?s=Math.min(r,i):s=r:s=i,{entries:[...n,...t],cacheTtl:s}}async _lookup(e){try{let[n,t]=await Promise.all([nc(this._dnsLookup(e,z4)),nc(this._dnsLookup(e,$4))]);return{entries:[...n,...t],cacheTtl:0}}catch{return{entries:[],cacheTtl:0}}}async _set(e,n,t){if(this.maxTtl>0&&t>0){t=Math.min(t,this.maxTtl)*1e3,n[im]=Date.now()+t;try{await this._cache.set(e,n,t)}catch(r){this.lookupAsync=async()=>{let i=new Error("Cache Error. Please recreate the CacheableLookup instance.");throw i.cause=r,i}}F4(this._cache)&&this._tick(t)}}async queryAndCache(e){if(this._hostnamesToFallback.has(e))return this._dnsLookup(e,V4);let n=await this._resolve(e);n.entries.length===0&&this._dnsLookup&&(n=await this._lookup(e),n.entries.length!==0&&this.fallbackDuration>0&&this._hostnamesToFallback.add(e));let t=n.entries.length===0?this.errorTtl:n.cacheTtl;return await this._set(e,n.entries,t),n.entries}_tick(e){let n=this._nextRemovalTime;(!n||e<n)&&(clearTimeout(this._removalTimeout),this._nextRemovalTime=e,this._removalTimeout=setTimeout(()=>{this._nextRemovalTime=!1;let t=1/0,r=Date.now();for(let[i,s]of this._cache){let u=s[im];r>=u?this._cache.delete(i):u<t&&(t=u)}t!==1/0&&this._tick(t-r)},e),this._removalTimeout.unref&&this._removalTimeout.unref())}install(e){if(om(e),hs in e)throw new Error("CacheableLookup has been already installed");e[hs]=e.createConnection,e[pd]=this,e.createConnection=(n,t)=>("lookup"in n||(n.lookup=this.lookup),e[hs](n,t))}uninstall(e){if(om(e),e[hs]){if(e[pd]!==this)throw new Error("The agent is not owned by this CacheableLookup instance");e.createConnection=e[hs],delete e[hs],delete e[pd]}}updateInterfaceInfo(){let{_iface:e}=this;this._iface=am(),(e.has4&&!this._iface.has4||e.has6&&!this._iface.has6)&&this._cache.clear()}clear(e){if(e){this._cache.delete(e);return}this._cache.clear()}},H4=yt(Rv(),1);function K4(e){let n=[],t=e.split(",");for(let r of t){let[i,...s]=r.split(";"),u=i.trim();if(u[0]!=="<"||u[u.length-1]!==">")throw new Error(`Invalid format of the Link header reference: ${u}`);let h=u.slice(1,-1),c={};if(s.length===0)throw new Error(`Unexpected end of Link header parameters: ${s.join(";")}`);for(let a of s){let d=a.trim(),f=d.indexOf("=");if(f===-1)throw new Error(`Failed to parse Link header: ${e}`);let y=d.slice(0,f).trim(),A=d.slice(f+1).trim();c[y]=A}n.push({reference:h,parameters:c})}return n}var[um,W4]=N4.default.versions.node.split(".").map(Number);function G4(e){for(let n in e){let t=e[n];le.any([W.string,W.number,W.boolean,W.null_,W.undefined],t)}}var Q4=new Map,yd,Y4=()=>yd||(yd=new e1,yd),X4={request:void 0,agent:{http:void 0,https:void 0,http2:void 0},h2session:void 0,decompress:!0,timeout:{connect:void 0,lookup:void 0,read:void 0,request:void 0,response:void 0,secureConnect:void 0,send:void 0,socket:void 0},prefixUrl:"",body:void 0,form:void 0,json:void 0,cookieJar:void 0,ignoreInvalidCookies:!1,searchParams:void 0,dnsLookup:void 0,dnsCache:void 0,context:{},hooks:{init:[],beforeRequest:[],beforeError:[],beforeRedirect:[],beforeRetry:[],afterResponse:[]},followRedirect:!0,maxRedirects:10,cache:void 0,throwHttpErrors:!0,username:"",password:"",http2:!1,allowGetBody:!1,headers:{"user-agent":"got (https://github.com/sindresorhus/got)"},methodRewriting:!1,dnsLookupIpVersion:void 0,parseJson:JSON.parse,stringifyJson:JSON.stringify,retry:{limit:2,methods:["GET","PUT","HEAD","DELETE","OPTIONS","TRACE"],statusCodes:[408,413,429,500,502,503,504,521,522,524],errorCodes:["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"],maxRetryAfter:void 0,calculateDelay:({computedValue:e})=>e,backoffLimit:Number.POSITIVE_INFINITY,noise:100},localAddress:void 0,method:"GET",createConnection:void 0,cacheOptions:{shared:void 0,cacheHeuristic:void 0,immutableMinTimeToLive:void 0,ignoreCargoCult:void 0},https:{alpnProtocols:void 0,rejectUnauthorized:void 0,checkServerIdentity:void 0,certificateAuthority:void 0,key:void 0,certificate:void 0,passphrase:void 0,pfx:void 0,ciphers:void 0,honorCipherOrder:void 0,minVersion:void 0,maxVersion:void 0,signatureAlgorithms:void 0,tlsSessionLifetime:void 0,dhparam:void 0,ecdhCurve:void 0,certificateRevocationLists:void 0},encoding:void 0,resolveBodyOnly:!1,isStream:!1,responseType:"text",url:void 0,pagination:{transform(e){return e.request.options.responseType==="json"?e.body:JSON.parse(e.body)},paginate({response:e}){let n=e.headers.link;if(typeof n!="string"||n.trim()==="")return!1;let t=K4(n).find(r=>r.parameters.rel==="next"||r.parameters.rel==='"next"');return t?{url:new URL(t.reference,e.url)}:!1},filter:()=>!0,shouldContinue:()=>!0,countLimit:Number.POSITIVE_INFINITY,backoff:0,requestLimit:1e4,stackAllItems:!1},setHost:!0,maxHeaderSize:void 0,signal:void 0,enableUnixSockets:!1},J4=e=>{let{hooks:n,retry:t}=e,r={...e,context:{...e.context},cacheOptions:{...e.cacheOptions},https:{...e.https},agent:{...e.agent},headers:{...e.headers},retry:{...t,errorCodes:[...t.errorCodes],methods:[...t.methods],statusCodes:[...t.statusCodes]},timeout:{...e.timeout},hooks:{init:[...n.init],beforeRequest:[...n.beforeRequest],beforeError:[...n.beforeError],beforeRedirect:[...n.beforeRedirect],beforeRetry:[...n.beforeRetry],afterResponse:[...n.afterResponse]},searchParams:e.searchParams?new URLSearchParams(e.searchParams):void 0,pagination:{...e.pagination}};return r.url!==void 0&&(r.prefixUrl=""),r},Z4=e=>{let{hooks:n,retry:t}=e,r={...e};return W.object(e.context)&&(r.context={...e.context}),W.object(e.cacheOptions)&&(r.cacheOptions={...e.cacheOptions}),W.object(e.https)&&(r.https={...e.https}),W.object(e.cacheOptions)&&(r.cacheOptions={...r.cacheOptions}),W.object(e.agent)&&(r.agent={...e.agent}),W.object(e.headers)&&(r.headers={...e.headers}),W.object(t)&&(r.retry={...t},W.array(t.errorCodes)&&(r.retry.errorCodes=[...t.errorCodes]),W.array(t.methods)&&(r.retry.methods=[...t.methods]),W.array(t.statusCodes)&&(r.retry.statusCodes=[...t.statusCodes])),W.object(e.timeout)&&(r.timeout={...e.timeout}),W.object(n)&&(r.hooks={...n},W.array(n.init)&&(r.hooks.init=[...n.init]),W.array(n.beforeRequest)&&(r.hooks.beforeRequest=[...n.beforeRequest]),W.array(n.beforeError)&&(r.hooks.beforeError=[...n.beforeError]),W.array(n.beforeRedirect)&&(r.hooks.beforeRedirect=[...n.beforeRedirect]),W.array(n.beforeRetry)&&(r.hooks.beforeRetry=[...n.beforeRetry]),W.array(n.afterResponse)&&(r.hooks.afterResponse=[...n.afterResponse])),W.object(e.pagination)&&(r.pagination={...e.pagination}),r},eR=e=>{let n=[e.timeout.socket,e.timeout.connect,e.timeout.lookup,e.timeout.request,e.timeout.secureConnect].filter(t=>typeof t=="number");if(n.length>0)return Math.min(...n)},lm=(e,n,t)=>{let r=e.hooks?.init;if(r)for(let i of r)i(n,t)},oo=class{constructor(e,n,t){if(Object.defineProperty(this,"_unixOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_internals",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_merging",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_init",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),le.any([W.string,W.urlInstance,W.object,W.undefined],e),le.any([W.object,W.undefined],n),le.any([W.object,W.undefined],t),e instanceof oo||n instanceof oo)throw new TypeError("The defaults must be passed as the third argument");this._internals=J4(t?._internals??t??X4),this._init=[...t?._init??[]],this._merging=!1,this._unixOptions=void 0;try{if(W.plainObject(e))try{this.merge(e),this.merge(n)}finally{this.url=e.url}else try{this.merge(n)}finally{if(n?.url!==void 0)if(e===void 0)this.url=n.url;else throw new TypeError("The `url` option is mutually exclusive with the `input` argument");else e!==void 0&&(this.url=e)}}catch(r){throw r.options=this,r}}merge(e){if(e){if(e instanceof oo){for(let n of e._init)this.merge(n);return}e=Z4(e),lm(this,e,this),lm(e,e,this),this._merging=!0,"isStream"in e&&(this.isStream=e.isStream);try{let n=!1;for(let t in e){if(t==="mutableDefaults"||t==="handlers"||t==="url")continue;if(!(t in this))throw new Error(`Unexpected option: ${t}`);let r=e[t];r!==void 0&&(this[t]=r,n=!0)}n&&this._init.push(e)}finally{this._merging=!1}}}get request(){return this._internals.request}set request(e){le.any([W.function_,W.undefined],e),this._internals.request=e}get agent(){return this._internals.agent}set agent(e){le.plainObject(e);for(let n in e){if(!(n in this._internals.agent))throw new TypeError(`Unexpected agent option: ${n}`);le.any([W.object,W.undefined],e[n])}this._merging?Object.assign(this._internals.agent,e):this._internals.agent={...e}}get h2session(){return this._internals.h2session}set h2session(e){this._internals.h2session=e}get decompress(){return this._internals.decompress}set decompress(e){le.boolean(e),this._internals.decompress=e}get timeout(){return this._internals.timeout}set timeout(e){le.plainObject(e);for(let n in e){if(!(n in this._internals.timeout))throw new Error(`Unexpected timeout option: ${n}`);le.any([W.number,W.undefined],e[n])}this._merging?Object.assign(this._internals.timeout,e):this._internals.timeout={...e}}get prefixUrl(){return this._internals.prefixUrl}set prefixUrl(e){if(le.any([W.string,W.urlInstance],e),e===""){this._internals.prefixUrl="";return}if(e=e.toString(),e.endsWith("/")||(e+="/"),this._internals.prefixUrl&&this._internals.url){let{href:n}=this._internals.url;this._internals.url.href=e+n.slice(this._internals.prefixUrl.length)}this._internals.prefixUrl=e}get body(){return this._internals.body}set body(e){le.any([W.string,W.buffer,W.nodeStream,W.generator,W.asyncGenerator,zu,W.undefined],e),W.nodeStream(e)&&le.truthy(e.readable),e!==void 0&&(le.undefined(this._internals.form),le.undefined(this._internals.json)),this._internals.body=e}get form(){return this._internals.form}set form(e){le.any([W.plainObject,W.undefined],e),e!==void 0&&(le.undefined(this._internals.body),le.undefined(this._internals.json)),this._internals.form=e}get json(){return this._internals.json}set json(e){e!==void 0&&(le.undefined(this._internals.body),le.undefined(this._internals.form)),this._internals.json=e}get url(){return this._internals.url}set url(e){if(le.any([W.string,W.urlInstance,W.undefined],e),e===void 0){this._internals.url=void 0;return}if(W.string(e)&&e.startsWith("/"))throw new Error("`url` must not start with a slash");let n=`${this.prefixUrl}${e.toString()}`,t=new URL(n);if(this._internals.url=t,t.protocol==="unix:"&&(t.href=`http://unix${t.pathname}${t.search}`),t.protocol!=="http:"&&t.protocol!=="https:"){let r=new Error(`Unsupported protocol: ${t.protocol}`);throw r.code="ERR_UNSUPPORTED_PROTOCOL",r}if(this._internals.username&&(t.username=this._internals.username,this._internals.username=""),this._internals.password&&(t.password=this._internals.password,this._internals.password=""),this._internals.searchParams&&(t.search=this._internals.searchParams.toString(),this._internals.searchParams=void 0),t.hostname==="unix"){if(!this._internals.enableUnixSockets)throw new Error("Using UNIX domain sockets but option `enableUnixSockets` is not enabled");let r=/(?<socketPath>.+?):(?<path>.+)/.exec(`${t.pathname}${t.search}`);if(r?.groups){let{socketPath:i,path:s}=r.groups;this._unixOptions={socketPath:i,path:s,host:""}}else this._unixOptions=void 0;return}this._unixOptions=void 0}get cookieJar(){return this._internals.cookieJar}set cookieJar(e){if(le.any([W.object,W.undefined],e),e===void 0){this._internals.cookieJar=void 0;return}let{setCookie:n,getCookieString:t}=e;le.function_(n),le.function_(t),n.length===4&&t.length===0?(n=(0,fd.promisify)(n.bind(e)),t=(0,fd.promisify)(t.bind(e)),this._internals.cookieJar={setCookie:n,getCookieString:t}):this._internals.cookieJar=e}get signal(){return this._internals.signal}set signal(e){le.object(e),this._internals.signal=e}get ignoreInvalidCookies(){return this._internals.ignoreInvalidCookies}set ignoreInvalidCookies(e){le.boolean(e),this._internals.ignoreInvalidCookies=e}get searchParams(){return this._internals.url?this._internals.url.searchParams:(this._internals.searchParams===void 0&&(this._internals.searchParams=new URLSearchParams),this._internals.searchParams)}set searchParams(e){le.any([W.string,W.object,W.undefined],e);let n=this._internals.url;if(e===void 0){this._internals.searchParams=void 0,n&&(n.search="");return}let t=this.searchParams,r;if(W.string(e))r=new URLSearchParams(e);else if(e instanceof URLSearchParams)r=e;else{G4(e),r=new URLSearchParams;for(let i in e){let s=e[i];s===null?r.append(i,""):s===void 0?t.delete(i):r.append(i,s)}}if(this._merging){for(let i of r.keys())t.delete(i);for(let[i,s]of r)t.append(i,s)}else n?n.search=t.toString():this._internals.searchParams=t}get searchParameters(){throw new Error("The `searchParameters` option does not exist. Use `searchParams` instead.")}set searchParameters(e){throw new Error("The `searchParameters` option does not exist. Use `searchParams` instead.")}get dnsLookup(){return this._internals.dnsLookup}set dnsLookup(e){le.any([W.function_,W.undefined],e),this._internals.dnsLookup=e}get dnsCache(){return this._internals.dnsCache}set dnsCache(e){le.any([W.object,W.boolean,W.undefined],e),e===!0?this._internals.dnsCache=Y4():e===!1?this._internals.dnsCache=void 0:this._internals.dnsCache=e}get context(){return this._internals.context}set context(e){le.object(e),this._merging?Object.assign(this._internals.context,e):this._internals.context={...e}}get hooks(){return this._internals.hooks}set hooks(e){le.object(e);for(let n in e){if(!(n in this._internals.hooks))throw new Error(`Unexpected hook event: ${n}`);let t=n,r=e[t];if(le.any([W.array,W.undefined],r),r)for(let i of r)le.function_(i);if(this._merging)r&&this._internals.hooks[t].push(...r);else{if(!r)throw new Error(`Missing hook event: ${n}`);this._internals.hooks[n]=[...r]}}}get followRedirect(){return this._internals.followRedirect}set followRedirect(e){le.boolean(e),this._internals.followRedirect=e}get followRedirects(){throw new TypeError("The `followRedirects` option does not exist. Use `followRedirect` instead.")}set followRedirects(e){throw new TypeError("The `followRedirects` option does not exist. Use `followRedirect` instead.")}get maxRedirects(){return this._internals.maxRedirects}set maxRedirects(e){le.number(e),this._internals.maxRedirects=e}get cache(){return this._internals.cache}set cache(e){le.any([W.object,W.string,W.boolean,W.undefined],e),e===!0?this._internals.cache=Q4:e===!1?this._internals.cache=void 0:this._internals.cache=e}get throwHttpErrors(){return this._internals.throwHttpErrors}set throwHttpErrors(e){le.boolean(e),this._internals.throwHttpErrors=e}get username(){let e=this._internals.url,n=e?e.username:this._internals.username;return decodeURIComponent(n)}set username(e){le.string(e);let n=this._internals.url,t=encodeURIComponent(e);n?n.username=t:this._internals.username=t}get password(){let e=this._internals.url,n=e?e.password:this._internals.password;return decodeURIComponent(n)}set password(e){le.string(e);let n=this._internals.url,t=encodeURIComponent(e);n?n.password=t:this._internals.password=t}get http2(){return this._internals.http2}set http2(e){le.boolean(e),this._internals.http2=e}get allowGetBody(){return this._internals.allowGetBody}set allowGetBody(e){le.boolean(e),this._internals.allowGetBody=e}get headers(){return this._internals.headers}set headers(e){le.plainObject(e),this._merging?Object.assign(this._internals.headers,Ou(e)):this._internals.headers=Ou(e)}get methodRewriting(){return this._internals.methodRewriting}set methodRewriting(e){le.boolean(e),this._internals.methodRewriting=e}get dnsLookupIpVersion(){return this._internals.dnsLookupIpVersion}set dnsLookupIpVersion(e){if(e!==void 0&&e!==4&&e!==6)throw new TypeError(`Invalid DNS lookup IP version: ${e}`);this._internals.dnsLookupIpVersion=e}get parseJson(){return this._internals.parseJson}set parseJson(e){le.function_(e),this._internals.parseJson=e}get stringifyJson(){return this._internals.stringifyJson}set stringifyJson(e){le.function_(e),this._internals.stringifyJson=e}get retry(){return this._internals.retry}set retry(e){if(le.plainObject(e),le.any([W.function_,W.undefined],e.calculateDelay),le.any([W.number,W.undefined],e.maxRetryAfter),le.any([W.number,W.undefined],e.limit),le.any([W.array,W.undefined],e.methods),le.any([W.array,W.undefined],e.statusCodes),le.any([W.array,W.undefined],e.errorCodes),le.any([W.number,W.undefined],e.noise),e.noise&&Math.abs(e.noise)>100)throw new Error(`The maximum acceptable retry noise is +/- 100ms, got ${e.noise}`);for(let t in e)if(!(t in this._internals.retry))throw new Error(`Unexpected retry option: ${t}`);this._merging?Object.assign(this._internals.retry,e):this._internals.retry={...e};let{retry:n}=this._internals;n.methods=[...new Set(n.methods.map(t=>t.toUpperCase()))],n.statusCodes=[...new Set(n.statusCodes)],n.errorCodes=[...new Set(n.errorCodes)]}get localAddress(){return this._internals.localAddress}set localAddress(e){le.any([W.string,W.undefined],e),this._internals.localAddress=e}get method(){return this._internals.method}set method(e){le.string(e),this._internals.method=e.toUpperCase()}get createConnection(){return this._internals.createConnection}set createConnection(e){le.any([W.function_,W.undefined],e),this._internals.createConnection=e}get cacheOptions(){return this._internals.cacheOptions}set cacheOptions(e){le.plainObject(e),le.any([W.boolean,W.undefined],e.shared),le.any([W.number,W.undefined],e.cacheHeuristic),le.any([W.number,W.undefined],e.immutableMinTimeToLive),le.any([W.boolean,W.undefined],e.ignoreCargoCult);for(let n in e)if(!(n in this._internals.cacheOptions))throw new Error(`Cache option \`${n}\` does not exist`);this._merging?Object.assign(this._internals.cacheOptions,e):this._internals.cacheOptions={...e}}get https(){return this._internals.https}set https(e){le.plainObject(e),le.any([W.boolean,W.undefined],e.rejectUnauthorized),le.any([W.function_,W.undefined],e.checkServerIdentity),le.any([W.string,W.object,W.array,W.undefined],e.certificateAuthority),le.any([W.string,W.object,W.array,W.undefined],e.key),le.any([W.string,W.object,W.array,W.undefined],e.certificate),le.any([W.string,W.undefined],e.passphrase),le.any([W.string,W.buffer,W.array,W.undefined],e.pfx),le.any([W.array,W.undefined],e.alpnProtocols),le.any([W.string,W.undefined],e.ciphers),le.any([W.string,W.buffer,W.undefined],e.dhparam),le.any([W.string,W.undefined],e.signatureAlgorithms),le.any([W.string,W.undefined],e.minVersion),le.any([W.string,W.undefined],e.maxVersion),le.any([W.boolean,W.undefined],e.honorCipherOrder),le.any([W.number,W.undefined],e.tlsSessionLifetime),le.any([W.string,W.undefined],e.ecdhCurve),le.any([W.string,W.buffer,W.array,W.undefined],e.certificateRevocationLists);for(let n in e)if(!(n in this._internals.https))throw new Error(`HTTPS option \`${n}\` does not exist`);this._merging?Object.assign(this._internals.https,e):this._internals.https={...e}}get encoding(){return this._internals.encoding}set encoding(e){if(e===null)throw new TypeError("To get a Buffer, set `options.responseType` to `buffer` instead");le.any([W.string,W.undefined],e),this._internals.encoding=e}get resolveBodyOnly(){return this._internals.resolveBodyOnly}set resolveBodyOnly(e){le.boolean(e),this._internals.resolveBodyOnly=e}get isStream(){return this._internals.isStream}set isStream(e){le.boolean(e),this._internals.isStream=e}get responseType(){return this._internals.responseType}set responseType(e){if(e===void 0){this._internals.responseType="text";return}if(e!=="text"&&e!=="buffer"&&e!=="json")throw new Error(`Invalid \`responseType\` option: ${e}`);this._internals.responseType=e}get pagination(){return this._internals.pagination}set pagination(e){le.object(e),this._merging?Object.assign(this._internals.pagination,e):this._internals.pagination=e}get auth(){throw new Error("Parameter `auth` is deprecated. Use `username` / `password` instead.")}set auth(e){throw new Error("Parameter `auth` is deprecated. Use `username` / `password` instead.")}get setHost(){return this._internals.setHost}set setHost(e){le.boolean(e),this._internals.setHost=e}get maxHeaderSize(){return this._internals.maxHeaderSize}set maxHeaderSize(e){le.any([W.number,W.undefined],e),this._internals.maxHeaderSize=e}get enableUnixSockets(){return this._internals.enableUnixSockets}set enableUnixSockets(e){le.boolean(e),this._internals.enableUnixSockets=e}toJSON(){return{...this._internals}}[Symbol.for("nodejs.util.inspect.custom")](e,n){return(0,fd.inspect)(this._internals,n)}createNativeRequestOptions(){let e=this._internals,n=e.url,t;n.protocol==="https:"?t=e.http2?e.agent:e.agent.https:t=e.agent.http;let{https:r}=e,{pfx:i}=r;return W.array(i)&&W.plainObject(i[0])&&(i=i.map(s=>({buf:s.buffer,passphrase:s.passphrase}))),{...e.cacheOptions,...this._unixOptions,ALPNProtocols:r.alpnProtocols,ca:r.certificateAuthority,cert:r.certificate,key:r.key,passphrase:r.passphrase,pfx:r.pfx,rejectUnauthorized:r.rejectUnauthorized,checkServerIdentity:r.checkServerIdentity??U4.checkServerIdentity,ciphers:r.ciphers,honorCipherOrder:r.honorCipherOrder,minVersion:r.minVersion,maxVersion:r.maxVersion,sigalgs:r.signatureAlgorithms,sessionTimeout:r.tlsSessionLifetime,dhparam:r.dhparam,ecdhCurve:r.ecdhCurve,crl:r.certificateRevocationLists,lookup:e.dnsLookup??e.dnsCache?.lookup,family:e.dnsLookupIpVersion,agent:t,setHost:e.setHost,method:e.method,maxHeaderSize:e.maxHeaderSize,localAddress:e.localAddress,headers:e.headers,createConnection:e.createConnection,timeout:e.http2?eR(e):void 0,h2session:e.h2session}}getRequestFunction(){let e=this._internals.url,{request:n}=this._internals;return!n&&e?this.getFallbackRequestFunction():n}getFallbackRequestFunction(){let e=this._internals.url;if(e){if(e.protocol==="https:"){if(this._internals.http2){if(um<15||um===15&&W4<10){let n=new Error("To use the `http2` option, install Node.js 15.10.0 or above");throw n.code="EUNSUPPORTED",n}return H4.default.auto}return D4.default.request}return x4.default.request}}freeze(){let e=this._internals;Object.freeze(e),Object.freeze(e.hooks),Object.freeze(e.hooks.afterResponse),Object.freeze(e.hooks.beforeError),Object.freeze(e.hooks.beforeRedirect),Object.freeze(e.hooks.beforeRequest),Object.freeze(e.hooks.beforeRetry),Object.freeze(e.hooks.init),Object.freeze(e.https),Object.freeze(e.cacheOptions),Object.freeze(e.agent),Object.freeze(e.headers),Object.freeze(e.timeout),Object.freeze(e.retry),Object.freeze(e.retry.errorCodes),Object.freeze(e.retry.methods),Object.freeze(e.retry.statusCodes)}},Nc=e=>{let{statusCode:n}=e,t=e.request.options.followRedirect?299:399;return n>=200&&n<=t||n===304},cm=class extends Er{constructor(e,n){let{options:t}=n.request;super(`${e.message} in "${t.url.toString()}"`,e,n.request),this.name="ParseError",this.code="ERR_BODY_PARSE_FAILURE"}},hm=(e,n,t,r)=>{let{rawBody:i}=e;try{if(n==="text")return i.toString(r);if(n==="json")return i.length===0?"":t(i.toString(r));if(n==="buffer")return i}catch(s){throw new cm(s,e)}throw new cm({message:`Unknown body type '${n}'`,name:"Error"},e)};function tR(e){return e.writable&&!e.writableEnded}var rR=tR;function fm(e){return e.protocol==="unix:"||e.hostname==="unix"}var{buffer:nR}=y4.default,iR=W.string(Hv.default.versions.brotli),oR=new Set(["GET","HEAD"]),gd=new O4,aR=new Set([300,301,302,303,304,307,308]),sR=["socket","connect","continue","information","upgrade"],ic=()=>{},Ap=class extends W6.Duplex{constructor(e,n,t){super({autoDestroy:!1,highWaterMark:0}),Object.defineProperty(this,"constructor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_noPipe",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"response",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"requestUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"redirectUrls",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"retryCount",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_stopRetry",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downloadedSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_uploadedSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_stopReading",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_pipedServerResponses",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_responseSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_bodySize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_unproxyEvents",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isFromCache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_cannotHaveBody",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_triggerRead",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_cancelTimeouts",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_removeListeners",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_nativeResponse",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_flushed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_aborted",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_requestInitialized",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._downloadedSize=0,this._uploadedSize=0,this._stopReading=!1,this._pipedServerResponses=new Set,this._cannotHaveBody=!1,this._unproxyEvents=ic,this._triggerRead=!1,this._cancelTimeouts=ic,this._removeListeners=ic,this._jobs=[],this._flushed=!1,this._requestInitialized=!1,this._aborted=!1,this.redirectUrls=[],this.retryCount=0,this._stopRetry=ic,this.on("pipe",i=>{i?.headers&&Object.assign(this.options.headers,i.headers)}),this.on("newListener",i=>{if(i==="retry"&&this.listenerCount("retry")>0)throw new Error("A retry listener has been attached already.")});try{if(this.options=new oo(e,n,t),!this.options.url){if(this.options.prefixUrl==="")throw new TypeError("Missing `url` property");this.options.url=""}this.requestUrl=this.options.url}catch(i){let{options:s}=i;s&&(this.options=s),this.flush=async()=>{this.flush=async()=>{},this.destroy(i)};return}let{body:r}=this.options;if(W.nodeStream(r)&&r.once("error",i=>{this._flushed?this._beforeError(new Wg(i,this)):this.flush=async()=>{this.flush=async()=>{},this._beforeError(new Wg(i,this))}}),this.options.signal){let i=()=>{this.destroy(new K6(this))};this.options.signal.aborted?i():(this.options.signal.addEventListener("abort",i),this._removeListeners=()=>{this.options.signal?.removeEventListener("abort",i)})}}async flush(){if(!this._flushed){this._flushed=!0;try{if(await this._finalizeBody(),this.destroyed)return;if(await this._makeRequest(),this.destroyed){this._request?.destroy();return}for(let e of this._jobs)e();this._jobs.length=0,this._requestInitialized=!0}catch(e){this._beforeError(e)}}}_beforeError(e){if(this._stopReading)return;let{response:n,options:t}=this,r=this.retryCount+(e.name==="RetryError"?0:1);this._stopReading=!0,e instanceof Er||(e=new Er(e.message,e,this));let i=e;(async()=>{if(n?.readable&&!n.rawBody&&!this._request?.socket?.destroyed&&(n.setEncoding(this.readableEncoding),await this._setRawBody(n)&&(n.body=n.rawBody.toString())),this.listenerCount("retry")!==0){let s;try{let u;n&&"retry-after"in n.headers&&(u=Number(n.headers["retry-after"]),Number.isNaN(u)?(u=Date.parse(n.headers["retry-after"])-Date.now(),u<=0&&(u=1)):u*=1e3);let h=t.retry;s=await h.calculateDelay({attemptCount:r,retryOptions:h,error:i,retryAfter:u,computedValue:L4({attemptCount:r,retryOptions:h,error:i,retryAfter:u,computedValue:h.maxRetryAfter??t.timeout.request??Number.POSITIVE_INFINITY})})}catch(u){this._error(new Er(u.message,u,this));return}if(s){if(await new Promise(u=>{let h=setTimeout(u,s);this._stopRetry=()=>{clearTimeout(h),u()}}),this.destroyed)return;try{for(let u of this.options.hooks.beforeRetry)await u(i,this.retryCount+1)}catch(u){this._error(new Er(u.message,e,this));return}if(this.destroyed)return;this.destroy(),this.emit("retry",this.retryCount+1,e,u=>{let h=new Ap(t.url,u,t);return h.retryCount=this.retryCount+1,Hv.default.nextTick(()=>{h.flush()}),h});return}}this._error(i)})()}_read(){this._triggerRead=!0;let{response:e}=this;if(e&&!this._stopReading){e.readableLength&&(this._triggerRead=!1);let n;for(;(n=e.read())!==null;){this._downloadedSize+=n.length;let t=this.downloadProgress;t.percent<1&&this.emit("downloadProgress",t),this.push(n)}}}_write(e,n,t){let r=()=>{this._writeRequest(e,n,t)};this._requestInitialized?r():this._jobs.push(r)}_final(e){let n=()=>{if(!this._request||this._request.destroyed){e();return}this._request.end(t=>{this._request._writableState?.errored||(t||(this._bodySize=this._uploadedSize,this.emit("uploadProgress",this.uploadProgress),this._request.emit("upload-complete")),e(t))})};this._requestInitialized?n():this._jobs.push(n)}_destroy(e,n){if(this._stopReading=!0,this.flush=async()=>{},this._stopRetry(),this._cancelTimeouts(),this._removeListeners(),this.options){let{body:t}=this.options;W.nodeStream(t)&&t.destroy()}this._request&&this._request.destroy(),e!==null&&!W.undefined(e)&&!(e instanceof Er)&&(e=new Er(e.message,e,this)),n(e)}pipe(e,n){return e instanceof sd.ServerResponse&&this._pipedServerResponses.add(e),super.pipe(e,n)}unpipe(e){return e instanceof sd.ServerResponse&&this._pipedServerResponses.delete(e),super.unpipe(e),this}async _finalizeBody(){let{options:e}=this,{headers:n}=e,t=!W.undefined(e.form),r=!W.undefined(e.json),i=!W.undefined(e.body),s=oR.has(e.method)&&!(e.method==="GET"&&e.allowGetBody);if(this._cannotHaveBody=s,t||r||i){if(s)throw new TypeError(`The \`${e.method}\` method cannot be used with a body`);let u=!W.string(n["content-type"]);if(i){if(zu(e.body)){let c=new Yv(e.body);u&&(n["content-type"]=c.headers["Content-Type"]),"Content-Length"in c.headers&&(n["content-length"]=c.headers["Content-Length"]),e.body=c.encode()}Xv(e.body)&&u&&(n["content-type"]=`multipart/form-data; boundary=${e.body.getBoundary()}`)}else if(t){u&&(n["content-type"]="application/x-www-form-urlencoded");let{form:c}=e;e.form=void 0,e.body=new URLSearchParams(c).toString()}else{u&&(n["content-type"]="application/json");let{json:c}=e;e.json=void 0,e.body=e.stringifyJson(c)}let h=await T4(e.body,e.headers);W.undefined(n["content-length"])&&W.undefined(n["transfer-encoding"])&&!s&&!W.undefined(h)&&(n["content-length"]=String(h))}e.responseType==="json"&&!("accept"in e.headers)&&(e.headers.accept="application/json"),this._bodySize=Number(n["content-length"])||void 0}async _onResponseBase(e){if(this.isAborted)return;let{options:n}=this,{url:t}=n;this._nativeResponse=e,n.decompress&&(e=(0,p4.default)(e));let r=e.statusCode,i=e;i.statusMessage=i.statusMessage??sd.default.STATUS_CODES[r],i.url=n.url.toString(),i.requestUrl=this.requestUrl,i.redirectUrls=this.redirectUrls,i.request=this,i.isFromCache=this._nativeResponse.fromCache??!1,i.ip=this.ip,i.retryCount=this.retryCount,i.ok=Nc(i),this._isFromCache=i.isFromCache,this._responseSize=Number(e.headers["content-length"])||void 0,this.response=i,e.once("end",()=>{this._responseSize=this._downloadedSize,this.emit("downloadProgress",this.downloadProgress)}),e.once("error",u=>{this._aborted=!0,e.destroy(),this._beforeError(new Gg(u,this))}),e.once("aborted",()=>{this._aborted=!0,this._beforeError(new Gg({name:"Error",message:"The server aborted pending request",code:"ECONNRESET"},this))}),this.emit("downloadProgress",this.downloadProgress);let s=e.headers["set-cookie"];if(W.object(n.cookieJar)&&s){let u=s.map(async h=>n.cookieJar.setCookie(h,t.toString()));n.ignoreInvalidCookies&&(u=u.map(async h=>{try{await h}catch{}}));try{await Promise.all(u)}catch(h){this._beforeError(h);return}}if(!this.isAborted){if(n.followRedirect&&e.headers.location&&aR.has(r)){if(e.resume(),this._cancelTimeouts(),this._unproxyEvents(),this.redirectUrls.length>=n.maxRedirects){this._beforeError(new V6(this));return}this._request=void 0;let u=new oo(void 0,void 0,this.options),h=r===303&&u.method!=="GET"&&u.method!=="HEAD",c=r!==307&&r!==308,a=u.methodRewriting&&c;(h||a)&&(u.method="GET",u.body=void 0,u.json=void 0,u.form=void 0,delete u.headers["content-length"]);try{let d=ad.Buffer.from(e.headers.location,"binary").toString(),f=new URL(d,t);if(!fm(t)&&fm(f)){this._beforeError(new Er("Cannot redirect to UNIX socket",{},this));return}f.hostname!==t.hostname||f.port!==t.port?("host"in u.headers&&delete u.headers.host,"cookie"in u.headers&&delete u.headers.cookie,"authorization"in u.headers&&delete u.headers.authorization,(u.username||u.password)&&(u.username="",u.password="")):(f.username=u.username,f.password=u.password),this.redirectUrls.push(f),u.prefixUrl="",u.url=f;for(let y of u.hooks.beforeRedirect)await y(u,i);this.emit("redirect",u,i),this.options=u,await this._makeRequest()}catch(d){this._beforeError(d);return}return}if(n.isStream&&n.throwHttpErrors&&!Nc(i)){this._beforeError(new Pc(i));return}if(e.on("readable",()=>{this._triggerRead&&this._read()}),this.on("resume",()=>{e.resume()}),this.on("pause",()=>{e.pause()}),e.once("end",()=>{this.push(null)}),this._noPipe){await this._setRawBody()&&this.emit("response",e);return}this.emit("response",e);for(let u of this._pipedServerResponses)if(!u.headersSent){for(let h in e.headers){let c=n.decompress?h!=="content-encoding":!0,a=e.headers[h];c&&u.setHeader(h,a)}u.statusCode=r}}}async _setRawBody(e=this){if(e.readableEnded)return!1;try{let n=await nR(e);if(!this.isAborted)return this.response.rawBody=n,!0}catch{}return!1}async _onResponse(e){try{await this._onResponseBase(e)}catch(n){this._beforeError(n)}}_onRequest(e){let{options:n}=this,{timeout:t,url:r}=n;Kv(e),this.options.http2&&e.setTimeout(0),this._cancelTimeouts=k4(e,t,r);let i=n.cache?"cacheableResponse":"response";e.once(i,s=>{this._onResponse(s)}),e.once("error",s=>{this._aborted=!0,e.destroy(),s=s instanceof Zv?new $6(s,this.timings,this):new Er(s.message,s,this),this._beforeError(s)}),this._unproxyEvents=Jv(e,this,sR),this._request=e,this.emit("uploadProgress",this.uploadProgress),this._sendBody(),this.emit("request",e)}async _asyncWrite(e){return new Promise((n,t)=>{super.write(e,r=>{if(r){t(r);return}n()})})}_sendBody(){let{body:e}=this.options,n=this.redirectUrls.length===0?this:this._request??this;W.nodeStream(e)?e.pipe(n):W.generator(e)||W.asyncGenerator(e)?(async()=>{try{for await(let t of e)await this._asyncWrite(t);super.end()}catch(t){this._beforeError(t)}})():W.undefined(e)?(this._cannotHaveBody||this._noPipe)&&n.end():(this._writeRequest(e,void 0,()=>{}),n.end())}_prepareCache(e){if(!gd.has(e)){let n=new d4((t,r)=>{let i=t._request(t,r);return W.promise(i)&&(i.once=(s,u)=>{if(s==="error")(async()=>{try{await i}catch(h){u(h)}})();else if(s==="abort")(async()=>{try{(await i).once("abort",u)}catch{}})();else throw new Error(`Unknown HTTP2 promise event: ${s}`);return i}),i},e);gd.set(e,n.request())}}async _createCacheableRequest(e,n){return new Promise((t,r)=>{Object.assign(n,B4(e));let i,s=gd.get(n.cache)(n,async u=>{if(u._readableState.autoDestroy=!1,i){let h=()=>{u.req&&(u.complete=u.req.res.complete)};u.prependOnceListener("end",h),h(),(await i).emit("cacheableResponse",u)}t(u)});s.once("error",r),s.once("request",async u=>{i=u,t(i)})})}async _makeRequest(){let{options:e}=this,{headers:n,username:t,password:r}=e,i=e.cookieJar;for(let c in n)if(W.undefined(n[c]))delete n[c];else if(W.null_(n[c]))throw new TypeError(`Use \`undefined\` instead of \`null\` to delete the \`${c}\` header`);if(e.decompress&&W.undefined(n["accept-encoding"])&&(n["accept-encoding"]=iR?"gzip, deflate, br":"gzip, deflate"),t||r){let c=ad.Buffer.from(`${t}:${r}`).toString("base64");n.authorization=`Basic ${c}`}if(i){let c=await i.getCookieString(e.url.toString());W.nonEmptyString(c)&&(n.cookie=c)}e.prefixUrl="";let s;for(let c of e.hooks.beforeRequest){let a=await c(e);if(!W.undefined(a)){s=()=>a;break}}s||(s=e.getRequestFunction());let u=e.url;this._requestOptions=e.createNativeRequestOptions(),e.cache&&(this._requestOptions._request=s,this._requestOptions.cache=e.cache,this._requestOptions.body=e.body,this._prepareCache(e.cache));let h=e.cache?this._createCacheableRequest:s;try{let c=h(u,this._requestOptions);W.promise(c)&&(c=await c),W.undefined(c)&&(c=e.getFallbackRequestFunction()(u,this._requestOptions),W.promise(c)&&(c=await c)),rR(c)?this._onRequest(c):this.writable?(this.once("finish",()=>{this._onResponse(c)}),this._sendBody()):this._onResponse(c)}catch(c){throw c instanceof Su?new z6(c,this):c}}async _error(e){try{if(!(e instanceof Pc&&!this.options.throwHttpErrors))for(let n of this.options.hooks.beforeError)e=await n(e)}catch(n){e=new Er(n.message,n,this)}this.destroy(e)}_writeRequest(e,n,t){!this._request||this._request.destroyed||this._request.write(e,n,r=>{if(!r&&!this._request.destroyed){this._uploadedSize+=ad.Buffer.byteLength(e,n);let i=this.uploadProgress;i.percent<1&&this.emit("uploadProgress",i)}t(r)})}get ip(){return this.socket?.remoteAddress}get isAborted(){return this._aborted}get socket(){return this._request?.socket??void 0}get downloadProgress(){let e;return this._responseSize?e=this._downloadedSize/this._responseSize:this._responseSize===this._downloadedSize?e=1:e=0,{percent:e,transferred:this._downloadedSize,total:this._responseSize}}get uploadProgress(){let e;return this._bodySize?e=this._uploadedSize/this._bodySize:this._bodySize===this._uploadedSize?e=1:e=0,{percent:e,transferred:this._uploadedSize,total:this._bodySize}}get timings(){return this._request?.timings}get isFromCache(){return this._isFromCache}get reusedSocket(){return this._request?.reusedSocket}},uR=class extends Er{constructor(e){super("Promise was canceled",{},e),this.name="CancelError",this.code="ERR_CANCELED"}get isCanceled(){return!0}},lR=["request","response","redirect","uploadProgress","downloadProgress"];function dm(e){let n,t,r,i=new q6.EventEmitter,s=new oh((h,c,a)=>{a(()=>{n.destroy()}),a.shouldReject=!1,a(()=>{c(new uR(n))});let d=f=>{a(()=>{});let y=e??new Ap(void 0,void 0,r);y.retryCount=f,y._noPipe=!0,n=y,y.once("response",async m=>{let S=(m.headers["content-encoding"]??"").toLowerCase(),B=S==="gzip"||S==="deflate"||S==="br",{options:k}=y;if(B&&!k.decompress)m.body=m.rawBody;else try{m.body=hm(m,k.responseType,k.parseJson,k.encoding)}catch(p){if(m.body=m.rawBody.toString(),Nc(m)){y._beforeError(p);return}}try{let p=k.hooks.afterResponse;for(let[R,E]of p.entries())if(m=await E(m,async P=>{throw k.merge(P),k.prefixUrl="",P.url&&(k.url=P.url),k.hooks.afterResponse=k.hooks.afterResponse.slice(0,R),new H6(y)}),!(W.object(m)&&W.number(m.statusCode)&&!W.nullOrUndefined(m.body)))throw new TypeError("The `afterResponse` hook returned an invalid value")}catch(p){y._beforeError(p);return}if(t=m,!Nc(m)){y._beforeError(new Pc(m));return}y.destroy(),h(y.options.resolveBodyOnly?m.body:m)});let A=m=>{if(s.isCanceled)return;let{options:S}=y;if(m instanceof Pc&&!S.throwHttpErrors){let{response:B}=m;y.destroy(),h(y.options.resolveBodyOnly?B.body:B);return}c(m)};y.once("error",A);let T=y.options?.body;y.once("retry",(m,S)=>{e=void 0;let B=y.options.body;if(T===B&&W.nodeStream(B)){S.message="Cannot retry with consumed body stream",A(S);return}r=y.options,d(m)}),Jv(y,i,lR),W.undefined(e)&&y.flush()};d(0)});s.on=(h,c)=>(i.on(h,c),s),s.off=(h,c)=>(i.off(h,c),s);let u=h=>{let c=(async()=>{await s;let{options:a}=t.request;return hm(t,h,a.parseJson,a.encoding)})();return Object.defineProperties(c,Object.getOwnPropertyDescriptors(s)),c};return s.json=()=>{if(n.options){let{headers:h}=n.options;!n.writableFinished&&!("accept"in h)&&(h.accept="application/json")}return u("json")},s.buffer=()=>u("buffer"),s.text=()=>u("text"),s}var cR=async e=>new Promise(n=>{setTimeout(n,e)}),hR=e=>W.function_(e),fR=["get","post","put","patch","head","delete"],t1=e=>{e={options:new oo(void 0,void 0,e.options),handlers:[...e.handlers],mutableDefaults:e.mutableDefaults},Object.defineProperty(e,"mutableDefaults",{enumerable:!0,configurable:!1,writable:!1});let n=(r,i,s=e.options)=>{let u=new Ap(r,i,s),h,c=f=>(u.options=f,u._noPipe=!f.isStream,u.flush(),f.isStream?u:(h||(h=dm(u)),h)),a=0,d=f=>{let y=(e.handlers[a++]??c)(f,d);if(W.promise(y)&&!u.options.isStream&&(h||(h=dm(u)),y!==h)){let A=Object.getOwnPropertyDescriptors(h);for(let T in A)T in y&&delete A[T];Object.defineProperties(y,A),y.cancel=h.cancel}return y};return d(u.options)};n.extend=(...r)=>{let i=new oo(void 0,void 0,e.options),s=[...e.handlers],u;for(let h of r)hR(h)?(i.merge(h.defaults.options),s.push(...h.defaults.handlers),u=h.defaults.mutableDefaults):(i.merge(h),h.handlers&&s.push(...h.handlers),u=h.mutableDefaults);return t1({options:i,handlers:s,mutableDefaults:!!u})};let t=async function*(r,i){let s=new oo(r,i,e.options);s.resolveBodyOnly=!1;let{pagination:u}=s;le.function_(u.transform),le.function_(u.shouldContinue),le.function_(u.filter),le.function_(u.paginate),le.number(u.countLimit),le.number(u.requestLimit),le.number(u.backoff);let h=[],{countLimit:c}=u,a=0;for(;a<u.requestLimit;){a!==0&&await cR(u.backoff);let d=await n(void 0,void 0,s),f=await u.transform(d),y=[];le.array(f);for(let T of f)if(u.filter({item:T,currentItems:y,allItems:h})&&(!u.shouldContinue({item:T,currentItems:y,allItems:h})||(yield T,u.stackAllItems&&h.push(T),y.push(T),--c<=0)))return;let A=u.paginate({response:d,currentItems:y,allItems:h});if(A===!1)return;A===d.request.options?s=d.request.options:(s.merge(A),le.any([W.urlInstance,W.undefined],A.url),A.url!==void 0&&(s.prefixUrl="",s.url=A.url)),a++}};n.paginate=t,n.paginate.all=async(r,i)=>{let s=[];for await(let u of t(r,i))s.push(u);return s},n.paginate.each=t,n.stream=(r,i)=>n(r,{...i,isStream:!0});for(let r of fR)n[r]=(i,s)=>n(i,{...s,method:r}),n.stream[r]=(i,s)=>n(i,{...s,method:r,isStream:!0});return e.mutableDefaults||(Object.freeze(e.handlers),e.options.freeze()),Object.defineProperty(n,"defaults",{value:e,writable:!1,configurable:!1,enumerable:!0}),n},dR=t1,pR={options:new oo,handlers:[],mutableDefaults:!1},yR=dR(pR),vn=yR,Ec="https://www.googleapis.com",gR=`${Ec}/oauth2/v4/token`,Ip={extId:"No extension ID provided, e.g. https://chrome.google.com/webstore/detail/EXT_ID",clientId:"No client ID provided. To get one: https://github.com/PlasmoHQ/chrome-webstore-api/blob/main/token.md",clientSecret:"No client secret provided. To get one: https://github.com/PlasmoHQ/chrome-webstore-api/blob/main/token.md",refreshToken:"No refresh token provided. To get one: https://github.com/PlasmoHQ/chrome-webstore-api/blob/main/token.md"},mR=Object.keys(Ip),vR=class{options={};constructor(e){for(let n of mR){if(!e[n])throw new Error(Ip[n]);this.options[n]=e[n]}}get uploadEndpoint(){return`${Ec}/upload/chromewebstore/v1.1/items/${this.options.extId}`}getPublishEndpoint(e){return`${Ec}/chromewebstore/v1.1/items/${this.options.extId}/publish?publishTarget=${e}`}getInfoEndpoint(e){return`${Ec}/chromewebstore/v1.1/items/${this.options.extId}?projection=${e}`}async submit({filePath:e="",target:n="default"}){let t=await this.getAccessToken(),{uploadState:r,itemError:i}=await this.upload({readStream:(0,R6.createReadStream)(e)},t);if(r==="FAILURE"||r==="NOT_FOUND")throw new Error(i.map(({error_detail:s})=>s).join(`
`));if(!this.options.uploadOnly)return this.publish({target:n},t)}async upload({readStream:e=null},n=""){if(!e)throw new Error("Read stream missing");let t=n||await this.getAccessToken();return vn.put(this.uploadEndpoint,{headers:this.getHeaders(t),body:e,throwHttpErrors:!1}).json()}async publish({target:e="default"},n=""){let t=n||await this.getAccessToken();return vn.post(this.getPublishEndpoint(e),{headers:this.getHeaders(t)}).json()}async get({projection:e="DRAFT"},n=""){let t=n||await this.getAccessToken();return vn.get(this.getInfoEndpoint(e),{headers:this.getHeaders(t)}).json()}async getAccessToken(){return(await vn.post(gR,{json:{client_id:this.options.clientId,refresh_token:this.options.refreshToken,grant_type:"refresh_token",client_secret:this.options.clientSecret}}).json()).access_token}getHeaders(e){return{Authorization:`Bearer ${e}`,"x-goog-api-version":"2"}}},bR=require("module"),_R=(0,bR.createRequire)("/"),wR;try{wR=_R("worker_threads").Worker}catch{}var Ln=Uint8Array,ys=Uint16Array,ER=Int32Array,r1=new Ln([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),n1=new Ln([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),SR=new Ln([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),i1=function(e,n){for(var t=new ys(31),r=0;r<31;++r)t[r]=n+=1<<e[r-1];for(var i=new ER(t[30]),r=1;r<30;++r)for(var s=t[r];s<t[r+1];++s)i[s]=s-t[r]<<5|r;return{b:t,r:i}},o1=i1(r1,2),a1=o1.b,CR=o1.r;a1[28]=258,CR[258]=28;var s1=i1(n1,0),TR=s1.b,jk=s1.r,$d=new ys(32768);for(At=0;At<32768;++At)to=(At&43690)>>1|(At&21845)<<1,to=(to&52428)>>2|(to&13107)<<2,to=(to&61680)>>4|(to&3855)<<4,$d[At]=((to&65280)>>8|(to&255)<<8)>>1;var to,At,Iu=function(e,n,t){for(var r=e.length,i=0,s=new ys(n);i<r;++i)e[i]&&++s[e[i]-1];var u=new ys(n);for(i=1;i<n;++i)u[i]=u[i-1]+s[i-1]<<1;var h;if(t){h=new ys(1<<n);var c=15-n;for(i=0;i<r;++i)if(e[i])for(var a=i<<4|e[i],d=n-e[i],f=u[e[i]-1]++<<d,y=f|(1<<d)-1;f<=y;++f)h[$d[f]>>c]=a}else for(h=new ys(r),i=0;i<r;++i)e[i]&&(h[i]=$d[u[e[i]-1]++]>>15-e[i]);return h},$u=new Ln(288);for(At=0;At<144;++At)$u[At]=8;var At;for(At=144;At<256;++At)$u[At]=9;var At;for(At=256;At<280;++At)$u[At]=7;var At;for(At=280;At<288;++At)$u[At]=8;var At,u1=new Ln(32);for(At=0;At<32;++At)u1[At]=5;var At,RR=Iu($u,9,1),AR=Iu(u1,5,1),md=function(e){for(var n=e[0],t=1;t<e.length;++t)e[t]>n&&(n=e[t]);return n},ei=function(e,n,t){var r=n/8|0;return(e[r]|e[r+1]<<8)>>(n&7)&t},vd=function(e,n){var t=n/8|0;return(e[t]|e[t+1]<<8|e[t+2]<<16)>>(n&7)},IR=function(e){return(e+7)/8|0},kp=function(e,n,t){(n==null||n<0)&&(n=0),(t==null||t>e.length)&&(t=e.length);var r=new Ln(t-n);return r.set(e.subarray(n,t)),r},kR=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Kn=function(e,n,t){var r=new Error(n||kR[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,Kn),!t)throw r;return r},BR=function(e,n,t,r){var i=e.length,s=r?r.length:0;if(!i||n.f&&!n.l)return t||new Ln(0);var u=!t||n.i!=2,h=n.i;t||(t=new Ln(i*3));var c=function(Je){var N=t.length;if(Je>N){var X=new Ln(Math.max(N*2,Je));X.set(t),t=X}},a=n.f||0,d=n.p||0,f=n.b||0,y=n.l,A=n.d,T=n.m,m=n.n,S=i*8;do{if(!y){a=ei(e,d,1);var B=ei(e,d+1,3);if(d+=3,B)if(B==1)y=RR,A=AR,T=9,m=5;else if(B==2){var k=ei(e,d,31)+257,p=ei(e,d+10,15)+4,R=k+ei(e,d+5,31)+1;d+=14;for(var E=new Ln(R),P=new Ln(19),D=0;D<p;++D)P[SR[D]]=ei(e,d+D*3,7);d+=p*3;for(var C=md(P),v=(1<<C)-1,g=Iu(P,C,1),D=0;D<R;){var M=g[ei(e,d,v)];d+=M&15;var V=M>>4;if(V<16)E[D++]=V;else{var q=0,w=0;for(V==16?(w=3+ei(e,d,3),d+=2,q=E[D-1]):V==17?(w=3+ei(e,d,7),d+=3):V==18&&(w=11+ei(e,d,127),d+=7);w--;)E[D++]=q}}var U=E.subarray(0,k),j=E.subarray(k);T=md(U),m=md(j),y=Iu(U,T,1),A=Iu(j,m,1)}else Kn(1);else{var V=IR(d)+4,L=e[V-4]|e[V-3]<<8,F=V+L;if(F>i){h&&Kn(0);break}u&&c(f+L),t.set(e.subarray(V,F),f),n.b=f+=L,n.p=d=F*8,n.f=a;continue}if(d>S){h&&Kn(0);break}}u&&c(f+131072);for(var ee=(1<<T)-1,ue=(1<<m)-1,se=d;;se=d){var q=y[vd(e,d)&ee],pe=q>>4;if(d+=q&15,d>S){h&&Kn(0);break}if(q||Kn(2),pe<256)t[f++]=pe;else if(pe==256){se=d,y=null;break}else{var ke=pe-254;if(pe>264){var D=pe-257,Le=r1[D];ke=ei(e,d,(1<<Le)-1)+a1[D],d+=Le}var qe=A[vd(e,d)&ue],Ce=qe>>4;qe||Kn(3),d+=qe&15;var j=TR[Ce];if(Ce>3){var Le=n1[Ce];j+=vd(e,d)&(1<<Le)-1,d+=Le}if(d>S){h&&Kn(0);break}u&&c(f+131072);var We=f+ke;if(f<j){var Te=s-j,et=Math.min(j,We);for(Te+f<0&&Kn(3);f<et;++f)t[f]=r[Te+f]}for(;f<We;f+=4)t[f]=t[f-j],t[f+1]=t[f+1-j],t[f+2]=t[f+2-j],t[f+3]=t[f+3-j];f=We}}n.l=y,n.p=se,n.b=f,n.f=a,y&&(a=1,n.m=T,n.d=A,n.n=m)}while(!a);return f==t.length?t:kp(t,0,f)},OR=new Ln(0),Ci=function(e,n){return e[n]|e[n+1]<<8},ri=function(e,n){return(e[n]|e[n+1]<<8|e[n+2]<<16|e[n+3]<<24)>>>0},bd=function(e,n){return ri(e,n)+ri(e,n+4)*4294967296};function PR(e,n){return BR(e,{i:2},n&&n.out,n&&n.dictionary)}var Hd=typeof TextDecoder<"u"&&new TextDecoder,LR=0;try{Hd.decode(OR,{stream:!0}),LR=1}catch{}var NR=function(e){for(var n="",t=0;;){var r=e[t++],i=(r>127)+(r>223)+(r>239);if(t+i>e.length)return{s:n,r:kp(e,t-1)};i?i==3?(r=((r&15)<<18|(e[t++]&63)<<12|(e[t++]&63)<<6|e[t++]&63)-65536,n+=String.fromCharCode(55296|r>>10,56320|r&1023)):i&1?n+=String.fromCharCode((r&31)<<6|e[t++]&63):n+=String.fromCharCode((r&15)<<12|(e[t++]&63)<<6|e[t++]&63):n+=String.fromCharCode(r)}};function l1(e,n){if(n){for(var t="",r=0;r<e.length;r+=16384)t+=String.fromCharCode.apply(null,e.subarray(r,r+16384));return t}else{if(Hd)return Hd.decode(e);var i=NR(e),s=i.s,t=i.r;return t.length&&Kn(8),s}}var UR=function(e,n){return n+30+Ci(e,n+26)+Ci(e,n+28)},xR=function(e,n,t){var r=Ci(e,n+28),i=l1(e.subarray(n+46,n+46+r),!(Ci(e,n+8)&2048)),s=n+46+r,u=ri(e,n+20),h=t&&u==4294967295?DR(e,s):[u,ri(e,n+24),ri(e,n+42)],c=h[0],a=h[1],d=h[2];return[Ci(e,n+10),c,a,i,s+Ci(e,n+30)+Ci(e,n+32),d]},DR=function(e,n){for(;Ci(e,n)!=1;n+=4+Ci(e,n+2));return[bd(e,n+12),bd(e,n+4),bd(e,n+20)]};function jR(e,n){for(var t={},r=e.length-22;ri(e,r)!=101010256;--r)(!r||e.length-r>65558)&&Kn(13);var i=Ci(e,r+8);if(!i)return{};var s=ri(e,r+16),u=s==4294967295||i==65535;if(u){var h=ri(e,r-12);u=ri(e,h)==101075792,u&&(i=ri(e,h+32),s=ri(e,h+48))}for(var c=n&&n.filter,a=0;a<i;++a){var d=xR(e,s,u),f=d[0],y=d[1],A=d[2],T=d[3],m=d[4],S=d[5],B=UR(e,S);s=m,(!c||c({name:T,size:y,originalSize:A,compression:f}))&&(f?f==8?t[T]=PR(e.subarray(B,B+y),{out:new Ln(A)}):Kn(14,"unknown compression type "+f):t[T]=kp(e,B,B+y))}return t}var Bp=require("fs"),qR=require("path"),MR=require("process"),Op=e=>(0,qR.resolve)((0,MR.cwd)(),e),c1=e=>(0,Bp.existsSync)(Op(e));function Hu({zip:e="",file:n="",versionFile:t="package.json"}){let r=e||n;if(c1(t)&&r.includes("{version}")){let i=JSON.parse((0,Bp.readFileSync)(t).toString());return r.replace("{version}",i.version||"")}else return r}function ah(e){let n=(0,Bp.readFileSync)(Op(e)),t=jR(n),r=l1(t["manifest.json"]);return JSON.parse(r)}function sh({extId:e=null,market:n="",zip:t=""}){let{name:r,version:i}=ah(t),s=Fv[n]||n;console.log(`Successfully updated "${e}" (${r}) to version ${i} on ${s}!`)}var oc={};function h1({message:e="Message",prefix:n="",market:t=""}){var r;oc[t]=1+((r=oc?.[t])!=null?r:0);let i=`${t}: Step ${oc[t]}) ${e}`;return n!=="Error"&&(n=n||"Info",i=`${n} ${i}`),n==="Info"?i=i.trim():n==="Error"&&(i=i.trimStart()),i}var f1={},Ku=e=>{f1[e]=!0,process.env.VERBOSE="true"};function uh(e=""){return n=>f1[e]&&console.log(h1({market:e,message:n}))}var lh=(e,n,t)=>{let r=new Error(h1({market:n,message:`Item "${t}": ${e.message}`,prefix:"Error"}));return r.stack=e.stack,r};function _d(e,n){return`${e}: ${n}`}var Wu=({market:e="chrome",options:n={},errorMap:t={}})=>{if(Object.keys(t).some(i=>{if(!n[i])throw new Error(_d(e,t[i]))}),!n.zip&&!n.file)throw new Error(_d(e,"No extension bundle provided"));let r=n.zip||n.file;if(!c1(r))throw new Error(_d(e,`Extension bundle file doesn't exist: ${Op(r)}`))},Pu="chrome",FR=uh(Pu);function VR(e){return ho(this,null,function*(){var n=e,{extId:t,target:r="default",zip:i,dryRun:s}=n,u=Qc(n,["extId","target","zip","dryRun"]);let h=new vR(Gc({extId:t},u));if(FR(`Updating extension with ID ${t}`),s)return!0;try{return yield h.submit({filePath:i,target:r}),sh({extId:t,market:Pu,zip:i}),!0}catch(c){let a=ah(i);throw lh(c,Pu,`"${t}" (${a.name})`)}})}function zR(e){return ho(this,null,function*(){return e.zip=Hu(e),e.verbose&&Ku(Pu),Wu({market:Pu,options:e,errorMap:Ip}),VR(e)})}var $R=require("fs"),Pp={productId:"Product ID is required. To get one, go to: https://partner.microsoft.com/en-us/dashboard/microsoftedge/{product-id}/package/dashboard",clientId:"Client ID is required. To get one: https://partner.microsoft.com/en-us/dashboard/microsoftedge/publishapi",clientSecret:"Client Secret is required. To get one: https://partner.microsoft.com/en-us/dashboard/microsoftedge/publishapi",accessTokenUrl:"Access token URL is required. To get one: https://partner.microsoft.com/en-us/dashboard/microsoftedge/publishapi"},HR=Object.keys(Pp),KR=e=>new Promise(n=>setTimeout(n,e)),pm="https://api.addons.microsoftedge.microsoft.com",WR=class{options={};constructor(e){for(let n of HR){if(!e[n])throw new Error(Pp[n]);this.options[n]=e[n]}}get productEndpoint(){return`${pm}/v1/products/${this.options.productId}`}get publishEndpoint(){return`${this.productEndpoint}/submissions`}get uploadEndpoint(){return`${this.publishEndpoint}/draft/package`}async submit({filePath:e="",notes:n=""}){let t=await this.getAccessToken(),r=await this.upload((0,$R.createReadStream)(e),t);return await this.waitForUpload(r,t),this.publish(n,t)}async publish(e="",n=null){let t={headers:{Authorization:`Bearer ${n||await this.getAccessToken()}`,"Content-Type":"application/x-www-form-urlencoded"}};e.length>0&&(t.body=`{ "notes"="${e}" }`);let r=await vn.post(this.publishEndpoint,t);return this.handleTempStatus(r.statusCode,"Submit"),r.headers.location}async upload(e=null,n=null){let t=n||await this.getAccessToken(),r=await vn.post(this.uploadEndpoint,{body:e,headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/zip"}});return this.handleTempStatus(r.statusCode,"Upload"),r.headers.location}async getPublishStatus(e,n=null){let t=n||await this.getAccessToken(),r=`${this.publishEndpoint}/operations/${e}`;return vn.get(r,{headers:{Authorization:`Bearer ${t}`}}).json()}async waitForUpload(e,n=null,t=5,r=3e3){let i=n||await this.getAccessToken(),s=`${this.uploadEndpoint}/operations/${e}`,u,h,c=0;for(;h!=="Succeeded"&&c<t;){let a=await vn.get(s,{headers:{Authorization:`Bearer ${i}`}}).json();if(a.status==="Failed")throw new Error(a.message||a.errorCode+":"+(a.errors||[]).join(","));a.status==="InProgress"?await KR(r):a.status==="Succeeded"&&(u=a.message),h=a.status,c++}return u}handleTempStatus=(e,n)=>{if(e!==202)throw e>=500?new Error("Edge server error, please try again later"):new Error(`${n} failed, double check your api credentials`)};getAccessToken=async()=>(await vn.post(`${this.options.accessTokenUrl}`,{body:`client_id=${this.options.clientId}&scope=${pm}/.default&client_secret=${this.options.clientSecret}&grant_type=client_credentials`,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).json()).access_token},Lu="edge",GR=uh(Lu);function QR(e){return ho(this,null,function*(){var n=e,{productId:t,notes:r,zip:i,dryRun:s}=n,u=Qc(n,["productId","notes","zip","dryRun"]);let h=ah(i),c=new WR(Gc({productId:t},u));if(GR(`Updating extension with Product ID ${t}`),s)return!0;try{return yield c.submit({filePath:i,notes:r}),sh({extId:t,market:Lu,zip:i}),!0}catch(a){throw lh(a,Lu,`"${t}" (${h.name})`)}})}function YR(e){return ho(this,null,function*(){return e.zip=Hu(e),e.verbose&&Ku(Lu),Wu({market:Lu,options:e,errorMap:Pp}),QR(e)})}var Br=e=>typeof e=="function",vt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:e=>`Symbol(${e})`;function d1(){}function Gr(e){return typeof e=="object"&&e!==null||typeof e=="function"}var p1=d1;function Et(e,n){try{Object.defineProperty(e,"name",{value:n,configurable:!0})}catch{}}var Lp=Promise,XR=Promise.prototype.then,JR=Promise.resolve.bind(Lp),ZR=Promise.reject.bind(Lp);function on(e){return new Lp(e)}function It(e){return JR(e)}function Ze(e){return ZR(e)}function ao(e,n,t){return XR.call(e,n,t)}function Wr(e,n,t){ao(ao(e,n,t),void 0,p1)}function ym(e,n){Wr(e,n)}function gm(e,n){Wr(e,void 0,n)}function ii(e,n,t){return ao(e,n,t)}function _s(e){ao(e,void 0,p1)}var Sc=e=>{if(typeof queueMicrotask=="function")Sc=queueMicrotask;else{let n=It(void 0);Sc=t=>ao(n,t)}return Sc(e)};function ch(e,n,t){if(typeof e!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,n,t)}function Oa(e,n,t){try{return It(ch(e,n,t))}catch(r){return Ze(r)}}var Wn=class{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(e){let n=this._back,t=n;n._elements.length===16383&&(t={_elements:[],_next:void 0}),n._elements.push(e),t!==n&&(this._back=t,n._next=t),++this._size}shift(){let e=this._front,n=e,t=this._cursor,r=t+1,i=e._elements,s=i[t];return r===16384&&(n=e._next,r=0),--this._size,this._cursor=r,e!==n&&(this._front=n),i[t]=void 0,s}forEach(e){let n=this._cursor,t=this._front,r=t._elements;for(;!(n===r.length&&t._next===void 0||n===r.length&&(t=t._next,r=t._elements,n=0,r.length===0));)e(r[n]),++n}peek(){let e=this._front,n=this._cursor;return e._elements[n]}},y1=vt("[[AbortSteps]]"),g1=vt("[[ErrorSteps]]"),Np=vt("[[CancelSteps]]"),Up=vt("[[PullSteps]]"),xp=vt("[[ReleaseSteps]]");function m1(e,n){e._ownerReadableStream=n,n._reader=e,n._state==="readable"?Kd(e):n._state==="closed"?function(t){Kd(t),w1(t)}(e):_1(e,n._storedError)}function v1(e,n){return J1(e._ownerReadableStream,n)}function b1(e){let n=e._ownerReadableStream;n._state==="readable"?Dp(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,r){_1(t,r)}(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),n._readableStreamController[xp](),n._reader=void 0,e._ownerReadableStream=void 0}function ws(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function Kd(e){e._closedPromise=on((n,t)=>{e._closedPromise_resolve=n,e._closedPromise_reject=t})}function _1(e,n){Kd(e),Dp(e,n)}function Dp(e,n){e._closedPromise_reject!==void 0&&(_s(e._closedPromise),e._closedPromise_reject(n),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function w1(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}var mm=Number.isFinite||function(e){return typeof e=="number"&&isFinite(e)},eA=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function so(e,n){if(e!==void 0&&typeof(t=e)!="object"&&typeof t!="function")throw new TypeError(`${n} is not an object.`);var t}function si(e,n){if(typeof e!="function")throw new TypeError(`${n} is not a function.`)}function E1(e,n){if(!function(t){return typeof t=="object"&&t!==null||typeof t=="function"}(e))throw new TypeError(`${n} is not an object.`)}function co(e,n,t){if(e===void 0)throw new TypeError(`Parameter ${n} is required in '${t}'.`)}function Wd(e,n,t){if(e===void 0)throw new TypeError(`${n} is required in '${t}'.`)}function jp(e){return Number(e)}function vm(e){return e===0?0:e}function S1(e,n){let t=Number.MAX_SAFE_INTEGER,r=Number(e);if(r=vm(r),!mm(r))throw new TypeError(`${n} is not a finite number`);if(r=function(i){return vm(eA(i))}(r),r<0||r>t)throw new TypeError(`${n} is outside the accepted range of 0 to ${t}, inclusive`);return mm(r)&&r!==0?r:0}function Cu(e){if(!Gr(e)||typeof e.getReader!="function")return!1;try{return typeof e.locked=="boolean"}catch{return!1}}function C1(e){if(!Gr(e)||typeof e.getWriter!="function")return!1;try{return typeof e.locked=="boolean"}catch{return!1}}function T1(e,n){if(!ka(e))throw new TypeError(`${n} is not a ReadableStream.`)}function R1(e,n){e._reader._readRequests.push(n)}function qp(e,n,t){let r=e._reader._readRequests.shift();t?r._closeSteps():r._chunkSteps(n)}function hh(e){return e._reader._readRequests.length}function A1(e){let n=e._reader;return n!==void 0&&!!Ia(n)}var wa=class{constructor(e){if(co(e,1,"ReadableStreamDefaultReader"),T1(e,"First parameter"),Ss(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");m1(this,e),this._readRequests=new Wn}get closed(){return Ia(this)?this._closedPromise:Ze(ac("closed"))}cancel(e){return Ia(this)?this._ownerReadableStream===void 0?Ze(ws("cancel")):v1(this,e):Ze(ac("cancel"))}read(){if(!Ia(this))return Ze(ac("read"));if(this._ownerReadableStream===void 0)return Ze(ws("read from"));let e,n,t=on((r,i)=>{e=r,n=i});return function(r,i){let s=r._ownerReadableStream;s._disturbed=!0,s._state==="closed"?i._closeSteps():s._state==="errored"?i._errorSteps(s._storedError):s._readableStreamController[Up](i)}(this,{_chunkSteps:r=>e({value:r,done:!1}),_closeSteps:()=>e({value:void 0,done:!0}),_errorSteps:r=>n(r)}),t}releaseLock(){if(!Ia(this))throw ac("releaseLock");this._ownerReadableStream!==void 0&&function(e){b1(e);let n=new TypeError("Reader was released");I1(e,n)}(this)}};function Ia(e){return!!Gr(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readRequests")&&e instanceof wa}function I1(e,n){let t=e._readRequests;e._readRequests=new Wn,t.forEach(r=>{r._errorSteps(n)})}function ac(e){return new TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`)}Object.defineProperties(wa.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),Et(wa.prototype.cancel,"cancel"),Et(wa.prototype.read,"read"),Et(wa.prototype.releaseLock,"releaseLock"),typeof vt.toStringTag=="symbol"&&Object.defineProperty(wa.prototype,vt.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});var k1=class{constructor(e,n){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=e,this._preventCancel=n}next(){let e=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?ii(this._ongoingPromise,e,e):e(),this._ongoingPromise}return(e){let n=()=>this._returnSteps(e);return this._ongoingPromise?ii(this._ongoingPromise,n,n):n()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});let e=this._reader;return e===void 0?Ze(ws("iterate")):ao(e.read(),n=>{var t;return this._ongoingPromise=void 0,n.done&&(this._isFinished=!0,(t=this._reader)===null||t===void 0||t.releaseLock(),this._reader=void 0),n},n=>{var t;throw this._ongoingPromise=void 0,this._isFinished=!0,(t=this._reader)===null||t===void 0||t.releaseLock(),this._reader=void 0,n})}_returnSteps(e){if(this._isFinished)return Promise.resolve({value:e,done:!0});this._isFinished=!0;let n=this._reader;if(n===void 0)return Ze(ws("finish iterating"));if(this._reader=void 0,!this._preventCancel){let t=n.cancel(e);return n.releaseLock(),ii(t,()=>({value:e,done:!0}))}return n.releaseLock(),It({value:e,done:!0})}},B1={next(){return bm(this)?this._asyncIteratorImpl.next():Ze(_m("next"))},return(e){return bm(this)?this._asyncIteratorImpl.return(e):Ze(_m("return"))}};function bm(e){if(!Gr(e)||!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl"))return!1;try{return e._asyncIteratorImpl instanceof k1}catch{return!1}}function _m(e){return new TypeError(`ReadableStreamAsyncIterator.${e} can only be used on a ReadableSteamAsyncIterator`)}typeof vt.asyncIterator=="symbol"&&Object.defineProperty(B1,vt.asyncIterator,{value(){return this},writable:!0,configurable:!0});var O1=Number.isNaN||function(e){return e!=e};function P1(e,n,t,r,i){new Uint8Array(e).set(new Uint8Array(t,r,i),n)}function wm(e){let n=function(t,r,i){if(t.slice)return t.slice(r,i);let s=i-r,u=new ArrayBuffer(s);return P1(u,0,t,r,s),u}(e.buffer,e.byteOffset,e.byteOffset+e.byteLength);return new Uint8Array(n)}function Gd(e){let n=e._queue.shift();return e._queueTotalSize-=n.size,e._queueTotalSize<0&&(e._queueTotalSize=0),n.value}function Mp(e,n,t){if(typeof(r=t)!="number"||O1(r)||r<0||t===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");var r;e._queue.push({value:n,size:t}),e._queueTotalSize+=t}function Ho(e){e._queue=new Wn,e._queueTotalSize=0}var gs=class{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!wd(this))throw Ed("view");return this._view}respond(e){if(!wd(this))throw Ed("respond");if(co(e,1,"respond"),e=S1(e,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");this._view.buffer,function(n,t){let r=n._pendingPullIntos.peek();if(n._controlledReadableByteStream._state==="closed"){if(t!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(t===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(r.bytesFilled+t>r.byteLength)throw new RangeError("bytesWritten out of range")}r.buffer=r.buffer,Em(n,t)}(this._associatedReadableByteStreamController,e)}respondWithNewView(e){if(!wd(this))throw Ed("respondWithNewView");if(co(e,1,"respondWithNewView"),!ArrayBuffer.isView(e))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");e.buffer,function(n,t){let r=n._pendingPullIntos.peek();if(n._controlledReadableByteStream._state==="closed"){if(t.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(t.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(r.byteOffset+r.bytesFilled!==t.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(r.bufferByteLength!==t.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(r.bytesFilled+t.byteLength>r.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");let i=t.byteLength;r.buffer=t.buffer,Em(n,i)}(this._associatedReadableByteStreamController,e)}};Object.defineProperties(gs.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),Et(gs.prototype.respond,"respond"),Et(gs.prototype.respondWithNewView,"respondWithNewView"),typeof vt.toStringTag=="symbol"&&Object.defineProperty(gs.prototype,vt.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});var Ea=class{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!ds(this))throw vu("byobRequest");return function(e){if(e._byobRequest===null&&e._pendingPullIntos.length>0){let n=e._pendingPullIntos.peek(),t=new Uint8Array(n.buffer,n.byteOffset+n.bytesFilled,n.byteLength-n.bytesFilled),r=Object.create(gs.prototype);(function(i,s,u){i._associatedReadableByteStreamController=s,i._view=u})(r,e,t),e._byobRequest=r}return e._byobRequest}(this)}get desiredSize(){if(!ds(this))throw vu("desiredSize");return M1(this)}close(){if(!ds(this))throw vu("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");let e=this._controlledReadableByteStream._state;if(e!=="readable")throw new TypeError(`The stream (in ${e} state) is not in the readable state and cannot be closed`);(function(n){let t=n._controlledReadableByteStream;if(!(n._closeRequested||t._state!=="readable")){if(n._queueTotalSize>0)return void(n._closeRequested=!0);if(n._pendingPullIntos.length>0&&n._pendingPullIntos.peek().bytesFilled>0){let r=new TypeError("Insufficient bytes to fill elements in the given buffer");throw Es(n,r),r}Uc(n),Uu(t)}})(this)}enqueue(e){if(!ds(this))throw vu("enqueue");if(co(e,1,"enqueue"),!ArrayBuffer.isView(e))throw new TypeError("chunk must be an array buffer view");if(e.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(e.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");let n=this._controlledReadableByteStream._state;if(n!=="readable")throw new TypeError(`The stream (in ${n} state) is not in the readable state and cannot be enqueued to`);(function(t,r){let i=t._controlledReadableByteStream;if(t._closeRequested||i._state!=="readable")return;let s=r.buffer,u=r.byteOffset,h=r.byteLength,c=s;if(t._pendingPullIntos.length>0){let a=t._pendingPullIntos.peek();a.buffer,Fp(t),a.buffer=a.buffer,a.readerType==="none"&&x1(t,a)}A1(i)?(function(a){let d=a._controlledReadableByteStream._reader;for(;d._readRequests.length>0;){if(a._queueTotalSize===0)return;Sm(a,d._readRequests.shift())}}(t),hh(i)===0?Cc(t,c,u,h):(t._pendingPullIntos.length>0&&vs(t),qp(i,new Uint8Array(c,u,h),!1))):Vp(i)?(Cc(t,c,u,h),Yd(t)):Cc(t,c,u,h),Ba(t)})(this,e)}error(e){if(!ds(this))throw vu("error");Es(this,e)}[Np](e){L1(this),Ho(this);let n=this._cancelAlgorithm(e);return Uc(this),n}[Up](e){let n=this._controlledReadableByteStream;if(this._queueTotalSize>0)return void Sm(this,e);let t=this._autoAllocateChunkSize;if(t!==void 0){let r;try{r=new ArrayBuffer(t)}catch(s){return void e._errorSteps(s)}let i={buffer:r,bufferByteLength:t,byteOffset:0,byteLength:t,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(i)}R1(n,e),Ba(this)}[xp](){if(this._pendingPullIntos.length>0){let e=this._pendingPullIntos.peek();e.readerType="none",this._pendingPullIntos=new Wn,this._pendingPullIntos.push(e)}}};function ds(e){return!!Gr(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")&&e instanceof Ea}function wd(e){return!!Gr(e)&&!!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")&&e instanceof gs}function Ba(e){if(function(n){let t=n._controlledReadableByteStream;return t._state!=="readable"||n._closeRequested||!n._started?!1:!!(A1(t)&&hh(t)>0||Vp(t)&&F1(t)>0||M1(n)>0)}(e)){if(e._pulling)return void(e._pullAgain=!0);e._pulling=!0,Wr(e._pullAlgorithm(),()=>(e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,Ba(e)),null),n=>(Es(e,n),null))}}function L1(e){Fp(e),e._pendingPullIntos=new Wn}function Qd(e,n){let t=!1;e._state==="closed"&&(t=!0);let r=N1(n);n.readerType==="default"?qp(e,r,t):function(i,s,u){let h=i._reader._readIntoRequests.shift();u?h._closeSteps(s):h._chunkSteps(s)}(e,r,t)}function N1(e){let n=e.bytesFilled,t=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,n/t)}function Cc(e,n,t,r){e._queue.push({buffer:n,byteOffset:t,byteLength:r}),e._queueTotalSize+=r}function U1(e,n,t,r){let i;try{i=n.slice(t,t+r)}catch(s){throw Es(e,s),s}Cc(e,i,0,r)}function x1(e,n){n.bytesFilled>0&&U1(e,n.buffer,n.byteOffset,n.bytesFilled),vs(e)}function D1(e,n){let t=n.elementSize,r=n.bytesFilled-n.bytesFilled%t,i=Math.min(e._queueTotalSize,n.byteLength-n.bytesFilled),s=n.bytesFilled+i,u=s-s%t,h=i,c=!1;u>r&&(h=u-n.bytesFilled,c=!0);let a=e._queue;for(;h>0;){let d=a.peek(),f=Math.min(h,d.byteLength),y=n.byteOffset+n.bytesFilled;P1(n.buffer,y,d.buffer,d.byteOffset,f),d.byteLength===f?a.shift():(d.byteOffset+=f,d.byteLength-=f),e._queueTotalSize-=f,j1(e,f,n),h-=f}return c}function j1(e,n,t){t.bytesFilled+=n}function q1(e){e._queueTotalSize===0&&e._closeRequested?(Uc(e),Uu(e._controlledReadableByteStream)):Ba(e)}function Fp(e){e._byobRequest!==null&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function Yd(e){for(;e._pendingPullIntos.length>0;){if(e._queueTotalSize===0)return;let n=e._pendingPullIntos.peek();D1(e,n)&&(vs(e),Qd(e._controlledReadableByteStream,n))}}function Em(e,n){let t=e._pendingPullIntos.peek();Fp(e),e._controlledReadableByteStream._state==="closed"?function(r,i){i.readerType==="none"&&vs(r);let s=r._controlledReadableByteStream;if(Vp(s))for(;F1(s)>0;)Qd(s,vs(r))}(e,t):function(r,i,s){if(j1(0,i,s),s.readerType==="none")return x1(r,s),void Yd(r);if(s.bytesFilled<s.elementSize)return;vs(r);let u=s.bytesFilled%s.elementSize;if(u>0){let h=s.byteOffset+s.bytesFilled;U1(r,s.buffer,h-u,u)}s.bytesFilled-=u,Qd(r._controlledReadableByteStream,s),Yd(r)}(e,n,t),Ba(e)}function vs(e){return e._pendingPullIntos.shift()}function Uc(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function Es(e,n){let t=e._controlledReadableByteStream;t._state==="readable"&&(L1(e),Ho(e),Uc(e),Z1(t,n))}function Sm(e,n){let t=e._queue.shift();e._queueTotalSize-=t.byteLength,q1(e);let r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);n._chunkSteps(r)}function M1(e){let n=e._controlledReadableByteStream._state;return n==="errored"?null:n==="closed"?0:e._strategyHWM-e._queueTotalSize}function tA(e,n,t){let r=Object.create(Ea.prototype),i,s,u;i=n.start!==void 0?()=>n.start(r):()=>{},s=n.pull!==void 0?()=>n.pull(r):()=>It(void 0),u=n.cancel!==void 0?c=>n.cancel(c):()=>It(void 0);let h=n.autoAllocateChunkSize;if(h===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");(function(c,a,d,f,y,A,T){a._controlledReadableByteStream=c,a._pullAgain=!1,a._pulling=!1,a._byobRequest=null,a._queue=a._queueTotalSize=void 0,Ho(a),a._closeRequested=!1,a._started=!1,a._strategyHWM=A,a._pullAlgorithm=f,a._cancelAlgorithm=y,a._autoAllocateChunkSize=T,a._pendingPullIntos=new Wn,c._readableStreamController=a,Wr(It(d()),()=>(a._started=!0,Ba(a),null),m=>(Es(a,m),null))})(e,r,i,s,u,t,h)}function Ed(e){return new TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`)}function vu(e){return new TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`)}function Cm(e,n){e._reader._readIntoRequests.push(n)}function F1(e){return e._reader._readIntoRequests.length}function Vp(e){let n=e._reader;return n!==void 0&&!!ms(n)}Object.defineProperties(Ea.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),Et(Ea.prototype.close,"close"),Et(Ea.prototype.enqueue,"enqueue"),Et(Ea.prototype.error,"error"),typeof vt.toStringTag=="symbol"&&Object.defineProperty(Ea.prototype,vt.toStringTag,{value:"ReadableByteStreamController",configurable:!0});var Sa=class{constructor(e){if(co(e,1,"ReadableStreamBYOBReader"),T1(e,"First parameter"),Ss(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!ds(e._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");m1(this,e),this._readIntoRequests=new Wn}get closed(){return ms(this)?this._closedPromise:Ze(sc("closed"))}cancel(e){return ms(this)?this._ownerReadableStream===void 0?Ze(ws("cancel")):v1(this,e):Ze(sc("cancel"))}read(e){if(!ms(this))return Ze(sc("read"));if(!ArrayBuffer.isView(e))return Ze(new TypeError("view must be an array buffer view"));if(e.byteLength===0)return Ze(new TypeError("view must have non-zero byteLength"));if(e.buffer.byteLength===0)return Ze(new TypeError("view's buffer must have non-zero byteLength"));if(e.buffer,this._ownerReadableStream===void 0)return Ze(ws("read from"));let n,t,r=on((i,s)=>{n=i,t=s});return function(i,s,u){let h=i._ownerReadableStream;h._disturbed=!0,h._state==="errored"?u._errorSteps(h._storedError):function(c,a,d){let f=c._controlledReadableByteStream,y=1;a.constructor!==DataView&&(y=a.constructor.BYTES_PER_ELEMENT);let A=a.constructor,T=a.buffer,m={buffer:T,bufferByteLength:T.byteLength,byteOffset:a.byteOffset,byteLength:a.byteLength,bytesFilled:0,elementSize:y,viewConstructor:A,readerType:"byob"};if(c._pendingPullIntos.length>0)return c._pendingPullIntos.push(m),void Cm(f,d);if(f._state!=="closed"){if(c._queueTotalSize>0){if(D1(c,m)){let S=N1(m);return q1(c),void d._chunkSteps(S)}if(c._closeRequested){let S=new TypeError("Insufficient bytes to fill elements in the given buffer");return Es(c,S),void d._errorSteps(S)}}c._pendingPullIntos.push(m),Cm(f,d),Ba(c)}else{let S=new A(m.buffer,m.byteOffset,0);d._closeSteps(S)}}(h._readableStreamController,s,u)}(this,e,{_chunkSteps:i=>n({value:i,done:!1}),_closeSteps:i=>n({value:i,done:!0}),_errorSteps:i=>t(i)}),r}releaseLock(){if(!ms(this))throw sc("releaseLock");this._ownerReadableStream!==void 0&&function(e){b1(e);let n=new TypeError("Reader was released");V1(e,n)}(this)}};function ms(e){return!!Gr(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")&&e instanceof Sa}function V1(e,n){let t=e._readIntoRequests;e._readIntoRequests=new Wn,t.forEach(r=>{r._errorSteps(n)})}function sc(e){return new TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`)}function Nu(e,n){let{highWaterMark:t}=e;if(t===void 0)return n;if(O1(t)||t<0)throw new RangeError("Invalid highWaterMark");return t}function xc(e){let{size:n}=e;return n||(()=>1)}function Dc(e,n){so(e,n);let t=e?.highWaterMark,r=e?.size;return{highWaterMark:t===void 0?void 0:jp(t),size:r===void 0?void 0:rA(r,`${n} has member 'size' that`)}}function rA(e,n){return si(e,n),t=>jp(e(t))}function nA(e,n,t){return si(e,t),r=>Oa(e,n,[r])}function iA(e,n,t){return si(e,t),()=>Oa(e,n,[])}function oA(e,n,t){return si(e,t),r=>ch(e,n,[r])}function aA(e,n,t){return si(e,t),(r,i)=>Oa(e,n,[r,i])}Object.defineProperties(Sa.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),Et(Sa.prototype.cancel,"cancel"),Et(Sa.prototype.read,"read"),Et(Sa.prototype.releaseLock,"releaseLock"),typeof vt.toStringTag=="symbol"&&Object.defineProperty(Sa.prototype,vt.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});var sA=typeof AbortController=="function",Ca=class{constructor(e={},n={}){e===void 0?e=null:E1(e,"First parameter");let t=Dc(n,"Second parameter"),r=function(u,h){so(u,h);let c=u?.abort,a=u?.close,d=u?.start,f=u?.type,y=u?.write;return{abort:c===void 0?void 0:nA(c,u,`${h} has member 'abort' that`),close:a===void 0?void 0:iA(a,u,`${h} has member 'close' that`),start:d===void 0?void 0:oA(d,u,`${h} has member 'start' that`),write:y===void 0?void 0:aA(y,u,`${h} has member 'write' that`),type:f}}(e,"First parameter");var i;if((i=this)._state="writable",i._storedError=void 0,i._writer=void 0,i._writableStreamController=void 0,i._writeRequests=new Wn,i._inFlightWriteRequest=void 0,i._closeRequest=void 0,i._inFlightCloseRequest=void 0,i._pendingAbortRequest=void 0,i._backpressure=!1,r.type!==void 0)throw new RangeError("Invalid type is specified");let s=xc(t);(function(u,h,c,a){let d=Object.create(jc.prototype),f,y,A,T;f=h.start!==void 0?()=>h.start(d):()=>{},y=h.write!==void 0?m=>h.write(m,d):()=>It(void 0),A=h.close!==void 0?()=>h.close():()=>It(void 0),T=h.abort!==void 0?m=>h.abort(m):()=>It(void 0),function(m,S,B,k,p,R,E,P){S._controlledWritableStream=m,m._writableStreamController=S,S._queue=void 0,S._queueTotalSize=void 0,Ho(S),S._abortReason=void 0,S._abortController=function(){if(sA)return new AbortController}(),S._started=!1,S._strategySizeAlgorithm=P,S._strategyHWM=E,S._writeAlgorithm=k,S._closeAlgorithm=p,S._abortAlgorithm=R;let D=Kp(S);Hp(m,D);let C=B();Wr(It(C),()=>(S._started=!0,fh(S),null),v=>(S._started=!0,Xd(m,v),null))}(u,d,f,y,A,T,c,a)})(this,r,Nu(t,1),s)}get locked(){if(!Ri(this))throw lc("locked");return Tc(this)}abort(e){return Ri(this)?Tc(this)?Ze(new TypeError("Cannot abort a stream that already has a writer")):z1(this,e):Ze(lc("abort"))}close(){return Ri(this)?Tc(this)?Ze(new TypeError("Cannot close a stream that already has a writer")):Vo(this)?Ze(new TypeError("Cannot close an already-closing stream")):$1(this):Ze(lc("close"))}getWriter(){if(!Ri(this))throw lc("getWriter");return new Fo(this)}};function Ri(e){return!!Gr(e)&&!!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")&&e instanceof Ca}function Tc(e){return e._writer!==void 0}function z1(e,n){var t;if(e._state==="closed"||e._state==="errored")return It(void 0);e._writableStreamController._abortReason=n,(t=e._writableStreamController._abortController)===null||t===void 0||t.abort(n);let r=e._state;if(r==="closed"||r==="errored")return It(void 0);if(e._pendingAbortRequest!==void 0)return e._pendingAbortRequest._promise;let i=!1;r==="erroring"&&(i=!0,n=void 0);let s=on((u,h)=>{e._pendingAbortRequest={_promise:void 0,_resolve:u,_reject:h,_reason:n,_wasAlreadyErroring:i}});return e._pendingAbortRequest._promise=s,i||zp(e,n),s}function $1(e){let n=e._state;if(n==="closed"||n==="errored")return Ze(new TypeError(`The stream (in ${n} state) is not in the writable state and cannot be closed`));let t=on((s,u)=>{let h={_resolve:s,_reject:u};e._closeRequest=h}),r=e._writer;var i;return r!==void 0&&e._backpressure&&n==="writable"&&Gp(r),Mp(i=e._writableStreamController,K1,0),fh(i),t}function Xd(e,n){e._state!=="writable"?$p(e):zp(e,n)}function zp(e,n){let t=e._writableStreamController;e._state="erroring",e._storedError=n;let r=e._writer;r!==void 0&&H1(r,n),!function(i){return!(i._inFlightWriteRequest===void 0&&i._inFlightCloseRequest===void 0)}(e)&&t._started&&$p(e)}function $p(e){e._state="errored",e._writableStreamController[g1]();let n=e._storedError;if(e._writeRequests.forEach(r=>{r._reject(n)}),e._writeRequests=new Wn,e._pendingAbortRequest===void 0)return void uc(e);let t=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,t._wasAlreadyErroring)return t._reject(n),void uc(e);Wr(e._writableStreamController[y1](t._reason),()=>(t._resolve(),uc(e),null),r=>(t._reject(r),uc(e),null))}function Vo(e){return e._closeRequest!==void 0||e._inFlightCloseRequest!==void 0}function uc(e){e._closeRequest!==void 0&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);let n=e._writer;n!==void 0&&Wp(n,e._storedError)}function Hp(e,n){let t=e._writer;t!==void 0&&n!==e._backpressure&&(n?function(r){dh(r)}(t):Gp(t)),e._backpressure=n}Object.defineProperties(Ca.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),Et(Ca.prototype.abort,"abort"),Et(Ca.prototype.close,"close"),Et(Ca.prototype.getWriter,"getWriter"),typeof vt.toStringTag=="symbol"&&Object.defineProperty(Ca.prototype,vt.toStringTag,{value:"WritableStream",configurable:!0});var Fo=class{constructor(e){if(co(e,1,"WritableStreamDefaultWriter"),function(r,i){if(!Ri(r))throw new TypeError(`${i} is not a WritableStream.`)}(e,"First parameter"),Tc(e))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=e,e._writer=this;let n=e._state;if(n==="writable")!Vo(e)&&e._backpressure?dh(this):Am(this),Rc(this);else if(n==="erroring")Jd(this,e._storedError),Rc(this);else if(n==="closed")Am(this),Rc(t=this),Q1(t);else{let r=e._storedError;Jd(this,r),Rm(this,r)}var t}get closed(){return ya(this)?this._closedPromise:Ze(ga("closed"))}get desiredSize(){if(!ya(this))throw ga("desiredSize");if(this._ownerWritableStream===void 0)throw bu("desiredSize");return function(e){let n=e._ownerWritableStream,t=n._state;return t==="errored"||t==="erroring"?null:t==="closed"?0:W1(n._writableStreamController)}(this)}get ready(){return ya(this)?this._readyPromise:Ze(ga("ready"))}abort(e){return ya(this)?this._ownerWritableStream===void 0?Ze(bu("abort")):function(n,t){return z1(n._ownerWritableStream,t)}(this,e):Ze(ga("abort"))}close(){if(!ya(this))return Ze(ga("close"));let e=this._ownerWritableStream;return e===void 0?Ze(bu("close")):Vo(e)?Ze(new TypeError("Cannot close an already-closing stream")):$1(this._ownerWritableStream)}releaseLock(){if(!ya(this))throw ga("releaseLock");this._ownerWritableStream!==void 0&&function(e){let n=e._ownerWritableStream,t=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");H1(e,t),function(r,i){r._closedPromiseState==="pending"?Wp(r,i):function(s,u){Rm(s,u)}(r,i)}(e,t),n._writer=void 0,e._ownerWritableStream=void 0}(this)}write(e){return ya(this)?this._ownerWritableStream===void 0?Ze(bu("write to")):function(n,t){let r=n._ownerWritableStream,i=r._writableStreamController,s=function(c,a){try{return c._strategySizeAlgorithm(a)}catch(d){return Tm(c,d),1}}(i,t);if(r!==n._ownerWritableStream)return Ze(bu("write to"));let u=r._state;if(u==="errored")return Ze(r._storedError);if(Vo(r)||u==="closed")return Ze(new TypeError("The stream is closing or closed and cannot be written to"));if(u==="erroring")return Ze(r._storedError);let h=function(c){return on((a,d)=>{let f={_resolve:a,_reject:d};c._writeRequests.push(f)})}(r);return function(c,a,d){try{Mp(c,a,d)}catch(y){return void Tm(c,y)}let f=c._controlledWritableStream;!Vo(f)&&f._state==="writable"&&Hp(f,Kp(c)),fh(c)}(i,t,s),h}(this,e):Ze(ga("write"))}};function ya(e){return!!Gr(e)&&!!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")&&e instanceof Fo}function H1(e,n){e._readyPromiseState==="pending"?Y1(e,n):function(t,r){Jd(t,r)}(e,n)}Object.defineProperties(Fo.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),Et(Fo.prototype.abort,"abort"),Et(Fo.prototype.close,"close"),Et(Fo.prototype.releaseLock,"releaseLock"),Et(Fo.prototype.write,"write"),typeof vt.toStringTag=="symbol"&&Object.defineProperty(Fo.prototype,vt.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});var K1={},jc=class{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!Sd(this))throw Cd("abortReason");return this._abortReason}get signal(){if(!Sd(this))throw Cd("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(e){if(!Sd(this))throw Cd("error");this._controlledWritableStream._state==="writable"&&G1(this,e)}[y1](e){let n=this._abortAlgorithm(e);return qc(this),n}[g1](){Ho(this)}};function Sd(e){return!!Gr(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")&&e instanceof jc}function qc(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function W1(e){return e._strategyHWM-e._queueTotalSize}function fh(e){let n=e._controlledWritableStream;if(!e._started||n._inFlightWriteRequest!==void 0)return;if(n._state==="erroring")return void $p(n);if(e._queue.length===0)return;let t=e._queue.peek().value;t===K1?function(r){let i=r._controlledWritableStream;(function(u){u._inFlightCloseRequest=u._closeRequest,u._closeRequest=void 0})(i),Gd(r);let s=r._closeAlgorithm();qc(r),Wr(s,()=>(function(u){u._inFlightCloseRequest._resolve(void 0),u._inFlightCloseRequest=void 0,u._state==="erroring"&&(u._storedError=void 0,u._pendingAbortRequest!==void 0&&(u._pendingAbortRequest._resolve(),u._pendingAbortRequest=void 0)),u._state="closed";let h=u._writer;h!==void 0&&Q1(h)}(i),null),u=>(function(h,c){h._inFlightCloseRequest._reject(c),h._inFlightCloseRequest=void 0,h._pendingAbortRequest!==void 0&&(h._pendingAbortRequest._reject(c),h._pendingAbortRequest=void 0),Xd(h,c)}(i,u),null))}(e):function(r,i){let s=r._controlledWritableStream;(function(u){u._inFlightWriteRequest=u._writeRequests.shift()})(s),Wr(r._writeAlgorithm(i),()=>{(function(h){h._inFlightWriteRequest._resolve(void 0),h._inFlightWriteRequest=void 0})(s);let u=s._state;if(Gd(r),!Vo(s)&&u==="writable"){let h=Kp(r);Hp(s,h)}return fh(r),null},u=>(s._state==="writable"&&qc(r),function(h,c){h._inFlightWriteRequest._reject(c),h._inFlightWriteRequest=void 0,Xd(h,c)}(s,u),null))}(e,t)}function Tm(e,n){e._controlledWritableStream._state==="writable"&&G1(e,n)}function Kp(e){return W1(e)<=0}function G1(e,n){let t=e._controlledWritableStream;qc(e),zp(t,n)}function lc(e){return new TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`)}function Cd(e){return new TypeError(`WritableStreamDefaultController.prototype.${e} can only be used on a WritableStreamDefaultController`)}function ga(e){return new TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`)}function bu(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function Rc(e){e._closedPromise=on((n,t)=>{e._closedPromise_resolve=n,e._closedPromise_reject=t,e._closedPromiseState="pending"})}function Rm(e,n){Rc(e),Wp(e,n)}function Wp(e,n){e._closedPromise_reject!==void 0&&(_s(e._closedPromise),e._closedPromise_reject(n),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function Q1(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function dh(e){e._readyPromise=on((n,t)=>{e._readyPromise_resolve=n,e._readyPromise_reject=t}),e._readyPromiseState="pending"}function Jd(e,n){dh(e),Y1(e,n)}function Am(e){dh(e),Gp(e)}function Y1(e,n){e._readyPromise_reject!==void 0&&(_s(e._readyPromise),e._readyPromise_reject(n),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function Gp(e){e._readyPromise_resolve!==void 0&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}Object.defineProperties(jc.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof vt.toStringTag=="symbol"&&Object.defineProperty(jc.prototype,vt.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});var Im=typeof DOMException<"u"?DOMException:void 0,uA=function(e){if(typeof e!="function"&&typeof e!="object")return!1;try{return new e,!0}catch{return!1}}(Im)?Im:function(){let e=function(n,t){this.message=n||"",this.name=t||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}();function km(e,n,t,r,i,s){let u=e.getReader(),h=n.getWriter();ka(e)&&(e._disturbed=!0);let c,a,d,f=!1,y=!1,A="readable",T="writable",m=!1,S=!1,B=on(p=>{d=p}),k=Promise.resolve(void 0);return on((p,R)=>{let E;function P(){if(f)return;let q=on((w,U)=>{(function j(L){L?w():ao(function(){return f?It(!0):ao(h.ready,()=>ao(u.read(),F=>!!F.done||(k=h.write(F.value),_s(k),!1)))}(),j,U)})(!1)});_s(q)}function D(){return A="closed",t?M():g(()=>(Ri(n)&&(m=Vo(n),T=n._state),m||T==="closed"?It(void 0):T==="erroring"||T==="errored"?Ze(a):(m=!0,h.close())),!1,void 0),null}function C(q){return f||(A="errored",c=q,r?M(!0,q):g(()=>h.abort(q),!0,q)),null}function v(q){return y||(T="errored",a=q,i?M(!0,q):g(()=>u.cancel(q),!0,q)),null}if(s!==void 0&&(E=()=>{let q=s.reason!==void 0?s.reason:new uA("Aborted","AbortError"),w=[];r||w.push(()=>T==="writable"?h.abort(q):It(void 0)),i||w.push(()=>A==="readable"?u.cancel(q):It(void 0)),g(()=>Promise.all(w.map(U=>U())),!0,q)},s.aborted?E():s.addEventListener("abort",E)),ka(e)&&(A=e._state,c=e._storedError),Ri(n)&&(T=n._state,a=n._storedError,m=Vo(n)),ka(e)&&Ri(n)&&(S=!0,d()),A==="errored")C(c);else if(T==="erroring"||T==="errored")v(a);else if(A==="closed")D();else if(m||T==="closed"){let q=new TypeError("the destination writable stream closed before all data could be piped to it");i?M(!0,q):g(()=>u.cancel(q),!0,q)}function g(q,w,U){function j(){return T!=="writable"||m?L():ym(function(){let F;return It(function ee(){if(F!==k)return F=k,ii(k,ee,ee)}())}(),L),null}function L(){return q?Wr(q(),()=>V(w,U),F=>V(!0,F)):V(w,U),null}f||(f=!0,S?j():ym(B,j))}function M(q,w){g(void 0,q,w)}function V(q,w){return y=!0,h.releaseLock(),u.releaseLock(),s!==void 0&&s.removeEventListener("abort",E),q?R(w):p(void 0),null}f||(Wr(u.closed,D,C),Wr(h.closed,function(){return y||(T="closed"),null},v)),S?P():Sc(()=>{S=!0,d(),P()})})}function lA(e,n){return function(t){try{return t.getReader({mode:"byob"}).releaseLock(),!0}catch{return!1}}(e)?function(t){let r,i,s,u,h,c=t.getReader(),a=!1,d=!1,f=!1,y=!1,A=!1,T=!1,m=on(v=>{h=v});function S(v){gm(v.closed,g=>(v!==c||(s.error(g),u.error(g),A&&T||h(void 0)),null))}function B(){a&&(c.releaseLock(),c=t.getReader(),S(c),a=!1),Wr(c.read(),v=>{var g,M;if(f=!1,y=!1,v.done)return A||s.close(),T||u.close(),(g=s.byobRequest)===null||g===void 0||g.respond(0),(M=u.byobRequest)===null||M===void 0||M.respond(0),A&&T||h(void 0),null;let V=v.value,q=V,w=V;if(!A&&!T)try{w=wm(V)}catch(U){return s.error(U),u.error(U),h(c.cancel(U)),null}return A||s.enqueue(q),T||u.enqueue(w),d=!1,f?p():y&&R(),null},()=>(d=!1,null))}function k(v,g){a||(c.releaseLock(),c=t.getReader({mode:"byob"}),S(c),a=!0);let M=g?u:s,V=g?s:u;Wr(c.read(v),q=>{var w;f=!1,y=!1;let U=g?T:A,j=g?A:T;if(q.done){U||M.close(),j||V.close();let F=q.value;return F!==void 0&&(U||M.byobRequest.respondWithNewView(F),j||(w=V.byobRequest)===null||w===void 0||w.respond(0)),U&&j||h(void 0),null}let L=q.value;if(j)U||M.byobRequest.respondWithNewView(L);else{let F;try{F=wm(L)}catch(ee){return M.error(ee),V.error(ee),h(c.cancel(ee)),null}U||M.byobRequest.respondWithNewView(L),V.enqueue(F)}return d=!1,f?p():y&&R(),null},()=>(d=!1,null))}function p(){if(d)return f=!0,It(void 0);d=!0;let v=s.byobRequest;return v===null?B():k(v.view,!1),It(void 0)}function R(){if(d)return y=!0,It(void 0);d=!0;let v=u.byobRequest;return v===null?B():k(v.view,!0),It(void 0)}function E(v){if(A=!0,r=v,T){let g=[r,i],M=c.cancel(g);h(M)}return m}function P(v){if(T=!0,i=v,A){let g=[r,i],M=c.cancel(g);h(M)}return m}let D=new jr({type:"bytes",start(v){s=v},pull:p,cancel:E}),C=new jr({type:"bytes",start(v){u=v},pull:R,cancel:P});return S(c),[D,C]}(e):function(t,r){let i=t.getReader(),s,u,h,c,a,d=!1,f=!1,y=!1,A=!1,T=on(R=>{a=R});function m(){return d?(f=!0,It(void 0)):(d=!0,Wr(i.read(),R=>{if(f=!1,R.done)return y||h.close(),A||c.close(),y&&A||a(void 0),null;let E=R.value,P=E,D=E;return y||h.enqueue(P),A||c.enqueue(D),d=!1,f&&m(),null},()=>(d=!1,null)),It(void 0))}function S(R){if(y=!0,s=R,A){let E=[s,u],P=i.cancel(E);a(P)}return T}function B(R){if(A=!0,u=R,y){let E=[s,u],P=i.cancel(E);a(P)}return T}let k=new jr({start(R){h=R},pull:m,cancel:S}),p=new jr({start(R){c=R},pull:m,cancel:B});return gm(i.closed,R=>(h.error(R),c.error(R),y&&A||a(void 0),null)),[k,p]}(e)}var Ta=class{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!cc(this))throw hc("desiredSize");return X1(this)}close(){if(!cc(this))throw hc("close");if(!Tu(this))throw new TypeError("The stream is not in a state that permits close");(function(e){if(!Tu(e))return;let n=e._controlledReadableStream;e._closeRequested=!0,e._queue.length===0&&(Ac(e),Uu(n))})(this)}enqueue(e){if(!cc(this))throw hc("enqueue");if(!Tu(this))throw new TypeError("The stream is not in a state that permits enqueue");return function(n,t){if(!Tu(n))return;let r=n._controlledReadableStream;if(Ss(r)&&hh(r)>0)qp(r,t,!1);else{let i;try{i=n._strategySizeAlgorithm(t)}catch(s){throw Bu(n,s),s}try{Mp(n,t,i)}catch(s){throw Bu(n,s),s}}ku(n)}(this,e)}error(e){if(!cc(this))throw hc("error");Bu(this,e)}[Np](e){Ho(this);let n=this._cancelAlgorithm(e);return Ac(this),n}[Up](e){let n=this._controlledReadableStream;if(this._queue.length>0){let t=Gd(this);this._closeRequested&&this._queue.length===0?(Ac(this),Uu(n)):ku(this),e._chunkSteps(t)}else R1(n,e),ku(this)}[xp](){}};function cc(e){return!!Gr(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")&&e instanceof Ta}function ku(e){if(function(n){let t=n._controlledReadableStream;return!Tu(n)||!n._started?!1:!!(Ss(t)&&hh(t)>0||X1(n)>0)}(e)){if(e._pulling)return void(e._pullAgain=!0);e._pulling=!0,Wr(e._pullAlgorithm(),()=>(e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,ku(e)),null),n=>(Bu(e,n),null))}}function Ac(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Bu(e,n){let t=e._controlledReadableStream;t._state==="readable"&&(Ho(e),Ac(e),Z1(t,n))}function X1(e){let n=e._controlledReadableStream._state;return n==="errored"?null:n==="closed"?0:e._strategyHWM-e._queueTotalSize}function Tu(e){return!e._closeRequested&&e._controlledReadableStream._state==="readable"}function cA(e,n,t,r){let i=Object.create(Ta.prototype),s,u,h;s=n.start!==void 0?()=>n.start(i):()=>{},u=n.pull!==void 0?()=>n.pull(i):()=>It(void 0),h=n.cancel!==void 0?c=>n.cancel(c):()=>It(void 0),function(c,a,d,f,y,A,T){a._controlledReadableStream=c,a._queue=void 0,a._queueTotalSize=void 0,Ho(a),a._started=!1,a._closeRequested=!1,a._pullAgain=!1,a._pulling=!1,a._strategySizeAlgorithm=T,a._strategyHWM=A,a._pullAlgorithm=f,a._cancelAlgorithm=y,c._readableStreamController=a,Wr(It(d()),()=>(a._started=!0,ku(a),null),m=>(Bu(a,m),null))}(e,i,s,u,h,t,r)}function hc(e){return new TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`)}function hA(e,n,t){return si(e,t),r=>Oa(e,n,[r])}function fA(e,n,t){return si(e,t),r=>Oa(e,n,[r])}function dA(e,n,t){return si(e,t),r=>ch(e,n,[r])}function pA(e,n){if((e=`${e}`)!="bytes")throw new TypeError(`${n} '${e}' is not a valid enumeration value for ReadableStreamType`);return e}function yA(e,n){if((e=`${e}`)!="byob")throw new TypeError(`${n} '${e}' is not a valid enumeration value for ReadableStreamReaderMode`);return e}function Bm(e,n){so(e,n);let t=e?.preventAbort,r=e?.preventCancel,i=e?.preventClose,s=e?.signal;return s!==void 0&&function(u,h){if(!function(c){if(typeof c!="object"||c===null)return!1;try{return typeof c.aborted=="boolean"}catch{return!1}}(u))throw new TypeError(`${h} is not an AbortSignal.`)}(s,`${n} has member 'signal' that`),{preventAbort:!!t,preventCancel:!!r,preventClose:!!i,signal:s}}function gA(e,n){so(e,n);let t=e?.readable;Wd(t,"readable","ReadableWritablePair"),function(i,s){if(!Cu(i))throw new TypeError(`${s} is not a ReadableStream.`)}(t,`${n} has member 'readable' that`);let r=e?.writable;return Wd(r,"writable","ReadableWritablePair"),function(i,s){if(!C1(i))throw new TypeError(`${s} is not a WritableStream.`)}(r,`${n} has member 'writable' that`),{readable:t,writable:r}}Object.defineProperties(Ta.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),Et(Ta.prototype.close,"close"),Et(Ta.prototype.enqueue,"enqueue"),Et(Ta.prototype.error,"error"),typeof vt.toStringTag=="symbol"&&Object.defineProperty(Ta.prototype,vt.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});var jr=class{constructor(e={},n={}){e===void 0?e=null:E1(e,"First parameter");let t=Dc(n,"Second parameter"),r=function(s,u){so(s,u);let h=s,c=h?.autoAllocateChunkSize,a=h?.cancel,d=h?.pull,f=h?.start,y=h?.type;return{autoAllocateChunkSize:c===void 0?void 0:S1(c,`${u} has member 'autoAllocateChunkSize' that`),cancel:a===void 0?void 0:hA(a,h,`${u} has member 'cancel' that`),pull:d===void 0?void 0:fA(d,h,`${u} has member 'pull' that`),start:f===void 0?void 0:dA(f,h,`${u} has member 'start' that`),type:y===void 0?void 0:pA(y,`${u} has member 'type' that`)}}(e,"First parameter");var i;if((i=this)._state="readable",i._reader=void 0,i._storedError=void 0,i._disturbed=!1,r.type==="bytes"){if(t.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");tA(this,r,Nu(t,0))}else{let s=xc(t);cA(this,r,Nu(t,1),s)}}get locked(){if(!ka(this))throw ma("locked");return Ss(this)}cancel(e){return ka(this)?Ss(this)?Ze(new TypeError("Cannot cancel a stream that already has a reader")):J1(this,e):Ze(ma("cancel"))}getReader(e){if(!ka(this))throw ma("getReader");return function(n,t){so(n,t);let r=n?.mode;return{mode:r===void 0?void 0:yA(r,`${t} has member 'mode' that`)}}(e,"First parameter").mode===void 0?new wa(this):function(n){return new Sa(n)}(this)}pipeThrough(e,n={}){if(!Cu(this))throw ma("pipeThrough");co(e,1,"pipeThrough");let t=gA(e,"First parameter"),r=Bm(n,"Second parameter");if(this.locked)throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(t.writable.locked)throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return _s(km(this,t.writable,r.preventClose,r.preventAbort,r.preventCancel,r.signal)),t.readable}pipeTo(e,n={}){if(!Cu(this))return Ze(ma("pipeTo"));if(e===void 0)return Ze("Parameter 1 is required in 'pipeTo'.");if(!C1(e))return Ze(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let t;try{t=Bm(n,"Second parameter")}catch(r){return Ze(r)}return this.locked?Ze(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):e.locked?Ze(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):km(this,e,t.preventClose,t.preventAbort,t.preventCancel,t.signal)}tee(){if(!Cu(this))throw ma("tee");if(this.locked)throw new TypeError("Cannot tee a stream that already has a reader");return lA(this)}values(e){if(!Cu(this))throw ma("values");return function(n,t){let r=n.getReader(),i=new k1(r,t),s=Object.create(B1);return s._asyncIteratorImpl=i,s}(this,function(n,t){return so(n,t),{preventCancel:!!n?.preventCancel}}(e,"First parameter").preventCancel)}};function ka(e){return!!Gr(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")&&e instanceof jr}function Ss(e){return e._reader!==void 0}function J1(e,n){if(e._disturbed=!0,e._state==="closed")return It(void 0);if(e._state==="errored")return Ze(e._storedError);Uu(e);let t=e._reader;if(t!==void 0&&ms(t)){let r=t._readIntoRequests;t._readIntoRequests=new Wn,r.forEach(i=>{i._closeSteps(void 0)})}return ii(e._readableStreamController[Np](n),d1)}function Uu(e){e._state="closed";let n=e._reader;if(n!==void 0&&(w1(n),Ia(n))){let t=n._readRequests;n._readRequests=new Wn,t.forEach(r=>{r._closeSteps()})}}function Z1(e,n){e._state="errored",e._storedError=n;let t=e._reader;t!==void 0&&(Dp(t,n),Ia(t)?I1(t,n):V1(t,n))}function ma(e){return new TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`)}function eb(e,n){so(e,n);let t=e?.highWaterMark;return Wd(t,"highWaterMark","QueuingStrategyInit"),{highWaterMark:jp(t)}}Object.defineProperties(jr.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),Et(jr.prototype.cancel,"cancel"),Et(jr.prototype.getReader,"getReader"),Et(jr.prototype.pipeThrough,"pipeThrough"),Et(jr.prototype.pipeTo,"pipeTo"),Et(jr.prototype.tee,"tee"),Et(jr.prototype.values,"values"),typeof vt.toStringTag=="symbol"&&Object.defineProperty(jr.prototype,vt.toStringTag,{value:"ReadableStream",configurable:!0}),typeof vt.asyncIterator=="symbol"&&Object.defineProperty(jr.prototype,vt.asyncIterator,{value:jr.prototype.values,writable:!0,configurable:!0});var tb=e=>e.byteLength;Et(tb,"size");var Zd=class{constructor(e){co(e,1,"ByteLengthQueuingStrategy"),e=eb(e,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!Pm(this))throw Om("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!Pm(this))throw Om("size");return tb}};function Om(e){return new TypeError(`ByteLengthQueuingStrategy.prototype.${e} can only be used on a ByteLengthQueuingStrategy`)}function Pm(e){return!!Gr(e)&&!!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")&&e instanceof Zd}Object.defineProperties(Zd.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof vt.toStringTag=="symbol"&&Object.defineProperty(Zd.prototype,vt.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});var rb=()=>1;Et(rb,"size");var ep=class{constructor(e){co(e,1,"CountQueuingStrategy"),e=eb(e,"First parameter"),this._countQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!Nm(this))throw Lm("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!Nm(this))throw Lm("size");return rb}};function Lm(e){return new TypeError(`CountQueuingStrategy.prototype.${e} can only be used on a CountQueuingStrategy`)}function Nm(e){return!!Gr(e)&&!!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")&&e instanceof ep}function mA(e,n,t){return si(e,t),r=>Oa(e,n,[r])}function vA(e,n,t){return si(e,t),r=>ch(e,n,[r])}function bA(e,n,t){return si(e,t),(r,i)=>Oa(e,n,[r,i])}Object.defineProperties(ep.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof vt.toStringTag=="symbol"&&Object.defineProperty(ep.prototype,vt.toStringTag,{value:"CountQueuingStrategy",configurable:!0});var tp=class{constructor(e={},n={},t={}){e===void 0&&(e=null);let r=Dc(n,"Second parameter"),i=Dc(t,"Third parameter"),s=function(f,y){so(f,y);let A=f?.flush,T=f?.readableType,m=f?.start,S=f?.transform,B=f?.writableType;return{flush:A===void 0?void 0:mA(A,f,`${y} has member 'flush' that`),readableType:T,start:m===void 0?void 0:vA(m,f,`${y} has member 'start' that`),transform:S===void 0?void 0:bA(S,f,`${y} has member 'transform' that`),writableType:B}}(e,"First parameter");if(s.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(s.writableType!==void 0)throw new RangeError("Invalid writableType specified");let u=Nu(i,0),h=xc(i),c=Nu(r,1),a=xc(r),d;(function(f,y,A,T,m,S){function B(){return y}function k(D){return function(C,v){let g=C._transformStreamController;return C._backpressure?ii(C._backpressureChangePromise,()=>{if((Ri(C._writable)?C._writable._state:C._writableState)==="erroring")throw Ri(C._writable)?C._writable._storedError:C._writableStoredError;return xm(g,v)}):xm(g,v)}(f,D)}function p(D){return function(C,v){return Mc(C,v),It(void 0)}(f,D)}function R(){return function(D){let C=D._transformStreamController,v=C._flushAlgorithm();return nb(C),ii(v,()=>{if(D._readableState==="errored")throw D._readableStoredError;Vc(D)&&ob(D)},g=>{throw Mc(D,g),D._readableStoredError})}(f)}function E(){return function(D){return Fc(D,!1),D._backpressureChangePromise}(f)}function P(D){return ph(f,D),It(void 0)}f._writableState="writable",f._writableStoredError=void 0,f._writableHasInFlightOperation=!1,f._writableStarted=!1,f._writable=function(D,C,v,g,M,V,q){return new Ca({start(w){D._writableController=w;try{let U=w.signal;U!==void 0&&U.addEventListener("abort",()=>{D._writableState==="writable"&&(D._writableState="erroring",U.reason&&(D._writableStoredError=U.reason))})}catch{}return ii(C(),()=>(D._writableStarted=!0,jm(D),null),U=>{throw D._writableStarted=!0,Td(D,U),U})},write:w=>(function(U){U._writableHasInFlightOperation=!0}(D),ii(v(w),()=>(function(U){U._writableHasInFlightOperation=!1}(D),jm(D),null),U=>{throw function(j,L){j._writableHasInFlightOperation=!1,Td(j,L)}(D,U),U})),close:()=>(function(w){w._writableHasInFlightOperation=!0}(D),ii(g(),()=>(function(w){w._writableHasInFlightOperation=!1,w._writableState==="erroring"&&(w._writableStoredError=void 0),w._writableState="closed"}(D),null),w=>{throw function(U,j){U._writableHasInFlightOperation=!1,U._writableState,Td(U,j)}(D,w),w})),abort:w=>(D._writableState="errored",D._writableStoredError=w,M(w))},{highWaterMark:V,size:q})}(f,B,k,R,p,A,T),f._readableState="readable",f._readableStoredError=void 0,f._readableCloseRequested=!1,f._readablePulling=!1,f._readable=function(D,C,v,g,M,V){return new jr({start:q=>(D._readableController=q,C().catch(w=>{zc(D,w)})),pull:()=>(D._readablePulling=!0,v().catch(q=>{zc(D,q)})),cancel:q=>(D._readableState="closed",g(q))},{highWaterMark:M,size:V})}(f,B,E,P,m,S),f._backpressure=void 0,f._backpressureChangePromise=void 0,f._backpressureChangePromise_resolve=void 0,Fc(f,!0),f._transformStreamController=void 0})(this,on(f=>{d=f}),c,a,u,h),function(f,y){let A=Object.create(Ra.prototype),T,m;T=y.transform!==void 0?S=>y.transform(S,A):S=>{try{return ib(A,S),It(void 0)}catch(B){return Ze(B)}},m=y.flush!==void 0?()=>y.flush(A):()=>It(void 0),function(S,B,k,p){B._controlledTransformStream=S,S._transformStreamController=B,B._transformAlgorithm=k,B._flushAlgorithm=p}(f,A,T,m)}(this,s),s.start!==void 0?d(s.start(this._transformStreamController)):d(void 0)}get readable(){if(!Um(this))throw Dm("readable");return this._readable}get writable(){if(!Um(this))throw Dm("writable");return this._writable}};function Um(e){return!!Gr(e)&&!!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")&&e instanceof tp}function Mc(e,n){zc(e,n),ph(e,n)}function ph(e,n){nb(e._transformStreamController),function(t,r){t._writableController.error(r),t._writableState==="writable"&&sb(t,r)}(e,n),e._backpressure&&Fc(e,!1)}function Fc(e,n){e._backpressureChangePromise!==void 0&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=on(t=>{e._backpressureChangePromise_resolve=t}),e._backpressure=n}Object.defineProperties(tp.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof vt.toStringTag=="symbol"&&Object.defineProperty(tp.prototype,vt.toStringTag,{value:"TransformStream",configurable:!0});var Ra=class{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!fc(this))throw dc("desiredSize");return ab(this._controlledTransformStream)}enqueue(e){if(!fc(this))throw dc("enqueue");ib(this,e)}error(e){if(!fc(this))throw dc("error");var n;n=e,Mc(this._controlledTransformStream,n)}terminate(){if(!fc(this))throw dc("terminate");(function(e){let n=e._controlledTransformStream;Vc(n)&&ob(n);let t=new TypeError("TransformStream terminated");ph(n,t)})(this)}};function fc(e){return!!Gr(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")&&e instanceof Ra}function nb(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0}function ib(e,n){let t=e._controlledTransformStream;if(!Vc(t))throw new TypeError("Readable side is not in a state that permits enqueue");try{(function(r,i){r._readablePulling=!1;try{r._readableController.enqueue(i)}catch(s){throw zc(r,s),s}})(t,n)}catch(r){throw ph(t,r),t._readableStoredError}(function(r){return!function(i){return Vc(i)?!!(i._readablePulling||ab(i)>0):!1}(r)})(t)!==t._backpressure&&Fc(t,!0)}function xm(e,n){return ii(e._transformAlgorithm(n),void 0,t=>{throw Mc(e._controlledTransformStream,t),t})}function dc(e){return new TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`)}function Dm(e){return new TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`)}function Vc(e){return!e._readableCloseRequested&&e._readableState==="readable"}function ob(e){e._readableState="closed",e._readableCloseRequested=!0,e._readableController.close()}function zc(e,n){e._readableState==="readable"&&(e._readableState="errored",e._readableStoredError=n),e._readableController.error(n)}function ab(e){return e._readableController.desiredSize}function Td(e,n){e._writableState!=="writable"?Qp(e):sb(e,n)}function sb(e,n){e._writableState="erroring",e._writableStoredError=n,!function(t){return t._writableHasInFlightOperation}(e)&&e._writableStarted&&Qp(e)}function Qp(e){e._writableState="errored"}function jm(e){e._writableState==="erroring"&&Qp(e)}Object.defineProperties(Ra.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),Et(Ra.prototype.enqueue,"enqueue"),Et(Ra.prototype.error,"error"),Et(Ra.prototype.terminate,"terminate"),typeof vt.toStringTag=="symbol"&&Object.defineProperty(Ra.prototype,vt.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});var ub=65536;async function*_A(e){let n=e.byteOffset+e.byteLength,t=e.byteOffset;for(;t!==n;){let r=Math.min(n-t,ub),i=e.buffer.slice(t,t+r);t+=i.byteLength,yield new Uint8Array(i)}}async function*wA(e){let n=0;for(;n!==e.size;){let t=await e.slice(n,Math.min(e.size,n+ub)).arrayBuffer();n+=t.byteLength,yield new Uint8Array(t)}}async function*Rd(e,n=!1){for(let t of e)ArrayBuffer.isView(t)?n?yield*_A(t):yield t:Br(t.stream)?yield*t.stream():yield*wA(t)}function*EA(e,n,t=0,r){r??(r=n);let i=t<0?Math.max(n+t,0):Math.min(t,n),s=r<0?Math.max(n+r,0):Math.min(r,n),u=Math.max(s-i,0),h=0;for(let c of e){if(h>=u)break;let a=ArrayBuffer.isView(c)?c.byteLength:c.size;if(i&&a<=i)i-=a,s-=a;else{let d;ArrayBuffer.isView(c)?(d=c.subarray(i,Math.min(a,s)),h+=d.byteLength):(d=c.slice(i,Math.min(a,s)),h+=d.size),s-=a,i=0,yield d}}}var jo=function(e,n,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?e!==n||!r:!n.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(e):r?r.value:n.get(e)},qm=function(e,n,t,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?e!==n||!i:!n.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,t):i?i.value=t:n.set(e,t),t},va,pc,_u,Cs=class{constructor(e=[],n={}){if(va.set(this,[]),pc.set(this,""),_u.set(this,0),n??(n={}),typeof e!="object"||e===null)throw new TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if(!Br(e[Symbol.iterator]))throw new TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if(typeof n!="object"&&!Br(n))throw new TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");let t=new TextEncoder;for(let i of e){let s;ArrayBuffer.isView(i)?s=new Uint8Array(i.buffer.slice(i.byteOffset,i.byteOffset+i.byteLength)):i instanceof ArrayBuffer?s=new Uint8Array(i.slice(0)):i instanceof Cs?s=i:s=t.encode(String(i)),qm(this,_u,jo(this,_u,"f")+(ArrayBuffer.isView(s)?s.byteLength:s.size),"f"),jo(this,va,"f").push(s)}let r=n.type===void 0?"":String(n.type);qm(this,pc,/^[\x20-\x7E]*$/.test(r)?r:"","f")}static[(va=new WeakMap,pc=new WeakMap,_u=new WeakMap,Symbol.hasInstance)](e){return!!(e&&typeof e=="object"&&Br(e.constructor)&&(Br(e.stream)||Br(e.arrayBuffer))&&/^(Blob|File)$/.test(e[Symbol.toStringTag]))}get type(){return jo(this,pc,"f")}get size(){return jo(this,_u,"f")}slice(e,n,t){return new Cs(EA(jo(this,va,"f"),this.size,e,n),{type:t})}async text(){let e=new TextDecoder,n="";for await(let t of Rd(jo(this,va,"f")))n+=e.decode(t,{stream:!0});return n+=e.decode(),n}async arrayBuffer(){let e=new Uint8Array(this.size),n=0;for await(let t of Rd(jo(this,va,"f")))e.set(t,n),n+=t.length;return e.buffer}stream(){let e=Rd(jo(this,va,"f"),!0);return new jr({async pull(n){let{value:t,done:r}=await e.next();if(r)return queueMicrotask(()=>n.close());n.enqueue(t)},async cancel(){await e.return()}})}get[Symbol.toStringTag](){return"Blob"}};Object.defineProperties(Cs.prototype,{type:{enumerable:!0},size:{enumerable:!0},slice:{enumerable:!0},stream:{enumerable:!0},text:{enumerable:!0},arrayBuffer:{enumerable:!0}});var SA=e=>e instanceof Cs,Mm=function(e,n,t,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?e!==n||!i:!n.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,t):i?i.value=t:n.set(e,t),t},Fm=function(e,n,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?e!==n||!r:!n.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(e):r?r.value:n.get(e)},yc,gc,$c=class extends Cs{constructor(e,n,t={}){if(super(e,t),yc.set(this,void 0),gc.set(this,0),arguments.length<2)throw new TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);Mm(this,yc,String(n),"f");let r=t.lastModified===void 0?Date.now():Number(t.lastModified);Number.isNaN(r)||Mm(this,gc,r,"f")}static[(yc=new WeakMap,gc=new WeakMap,Symbol.hasInstance)](e){return e instanceof Cs&&e[Symbol.toStringTag]==="File"&&typeof e.name=="string"}get name(){return Fm(this,yc,"f")}get webkitRelativePath(){return""}get lastModified(){return Fm(this,gc,"f")}get[Symbol.toStringTag](){return"File"}},CA=e=>e instanceof $c,Ei=function(e,n,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?e!==n||!r:!n.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(e):r?r.value:n.get(e)},mc,Si,Ad,Vm=class{constructor(){mc.add(this),Si.set(this,new Map)}static[(Si=new WeakMap,mc=new WeakSet,Symbol.hasInstance)](e){if(!e)return!1;let n=e;return!!(Br(n.constructor)&&n[Symbol.toStringTag]==="FormData"&&Br(n.append)&&Br(n.set)&&Br(n.get)&&Br(n.getAll)&&Br(n.has)&&Br(n.delete)&&Br(n.entries)&&Br(n.values)&&Br(n.keys)&&Br(n[Symbol.iterator])&&Br(n.forEach))}append(e,n,t){Ei(this,mc,"m",Ad).call(this,{name:e,fileName:t,append:!0,rawValue:n,argsLength:arguments.length})}set(e,n,t){Ei(this,mc,"m",Ad).call(this,{name:e,fileName:t,append:!1,rawValue:n,argsLength:arguments.length})}get(e){let n=Ei(this,Si,"f").get(String(e));return n?n[0]:null}getAll(e){let n=Ei(this,Si,"f").get(String(e));return n?n.slice():[]}has(e){return Ei(this,Si,"f").has(String(e))}delete(e){Ei(this,Si,"f").delete(String(e))}*keys(){for(let e of Ei(this,Si,"f").keys())yield e}*entries(){for(let e of this.keys()){let n=this.getAll(e);for(let t of n)yield[e,t]}}*values(){for(let[,e]of this)yield e}[(Ad=function({name:e,rawValue:n,append:t,fileName:r,argsLength:i}){let s=t?"append":"set";if(i<2)throw new TypeError(`Failed to execute '${s}' on 'FormData': 2 arguments required, but only ${i} present.`);e=String(e);let u;if(CA(n))u=r===void 0?n:new $c([n],r,{type:n.type,lastModified:n.lastModified});else if(SA(n))u=new $c([n],r===void 0?"blob":r,{type:n.type});else{if(r)throw new TypeError(`Failed to execute '${s}' on 'FormData': parameter 2 is not of type 'Blob'.`);u=String(n)}let h=Ei(this,Si,"f").get(e);if(!h)return void Ei(this,Si,"f").set(e,[u]);if(!t)return void Ei(this,Si,"f").set(e,[u]);h.push(u)},Symbol.iterator)](){return this.entries()}forEach(e,n){for(let[t,r]of this)e.call(n,r,t,this)}get[Symbol.toStringTag](){return"FormData"}},TA=require("node:fs"),lb=require("node:fs/promises"),RA=require("node:path"),AA=yt(M3(),1),IA=e=>Object.prototype.toString.call(e).slice(8,-1).toLowerCase();function kA(e){if(IA(e)!=="object")return!1;let n=Object.getPrototypeOf(e);return n==null?!0:(n.constructor&&n.constructor.toString())===Object.toString()}var BA=kA,zm=function(e,n,t,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?e!==n||!i:!n.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,t):i?i.value=t:n.set(e,t),t},ba=function(e,n,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?e!==n||!r:!n.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(e):r?r.value:n.get(e)},_a,fs,OA="The requested file could not be read, typically due to permission problems that have occurred after a reference to a file was acquired.",cb=class{constructor(e){_a.set(this,void 0),fs.set(this,void 0),zm(this,_a,e.path,"f"),zm(this,fs,e.start||0,"f"),this.name=(0,RA.basename)(ba(this,_a,"f")),this.size=e.size,this.lastModified=e.lastModified}slice(e,n){return new cb({path:ba(this,_a,"f"),lastModified:this.lastModified,start:ba(this,fs,"f")+e,size:n-e})}async*stream(){let{mtimeMs:e}=await(0,lb.stat)(ba(this,_a,"f"));if(e>this.lastModified)throw new AA.default(OA,"NotReadableError");this.size&&(yield*(0,TA.createReadStream)(ba(this,_a,"f"),{start:ba(this,fs,"f"),end:ba(this,fs,"f")+this.size-1}))}get[(_a=new WeakMap,fs=new WeakMap,Symbol.toStringTag)](){return"File"}};function PA(e,{mtimeMs:n,size:t},r,i={}){let s;BA(r)?[i,s]=[r,void 0]:s=r;let u=new cb({path:e,size:t,lastModified:n});return s||(s=u.name),new $c([u],s,{...i,lastModified:u.lastModified})}async function LA(e,n,t){let r=await(0,lb.stat)(e);return PA(e,r,n,t)}var NA=yt(C6(),1);async function UA(e,n,t){for(let r=0;r<n;r++){if(await e())return!0;await new Promise(i=>setTimeout(i,t))}return!1}var Yp={apiKey:"API Key is required. To get one: https://addons.mozilla.org/en-US/developers/addon/api/key",apiSecret:"API Secret is required. To get one: https://addons.mozilla.org/en-US/developers/addon/api/key"},xA=Object.keys(Yp),vc="https://addons.mozilla.org/api",DA=class{options={};get productEndpoint(){return`${vc}/v5/addons/addon/${encodeURIComponent(this.options.extId)}`}constructor(e){for(let n of xA){if(!e[n])throw new Error(Yp[n]);this.options[n]=e[n]}typeof e.extId=="string"&&e.extId.length>0&&!e.extId.includes("@")&&(e.extId.startsWith("{")||(e.extId="{"+e.extId),e.extId.endsWith("}")||(e.extId+="}")),this.options.extId=e.extId,this.options.channel=e.channel||"listed",e.license==="inherit"?delete e.license:e.license=e.license||"all-rights-reserved"}submit=async({filePath:e,version:n="1.0.0"})=>{let t=await this.uploadFile({filePath:e});if(!await UA(async()=>(await this.getUpload({uploadUuid:t.uuid})).valid,8,2400))throw new Error("Upload has not been validated in time.");return await this.createVersion({uploadUuid:t.uuid,version:n})};uploadFile=async({filePath:e})=>{let n=await this.getAccessToken(),t=`${vc}/v5/addons/upload/`,r=new Vm;r.append("upload",await LA(e)),r.append("channel",this.options.channel);let i=await vn.post(t,{body:r,headers:{Authorization:`JWT ${n}`},throwHttpErrors:!1});if(i.statusCode>=400)throw i.statusCode===401?new Error("Invalid access token"):i.statusCode===403?new Error("You do not own this add-on"):(console.log(i.body),new Error(JSON.parse(i.body).error||"Unknown error"));return JSON.parse(i.body)};createVersion=async({uploadUuid:e,version:n})=>{let t=await this.getAccessToken(),r=`${this.productEndpoint}/versions/`,i=new Vm;i.append("upload",e);let s=await vn.post(r,{body:i,headers:{Authorization:`JWT ${t}`},throwHttpErrors:!1});if(s.statusCode>=400)throw s.statusCode===401?new Error("Invalid access token"):s.statusCode===403?new Error("You do not own this add-on"):s.statusCode===409?new Error(`Version ${n} already exists`):(console.log(s.body),new Error(JSON.parse(s.body).error||"Unknown error"));return JSON.parse(s.body)};getUpload=async({uploadUuid:e})=>{let n=await this.getAccessToken(),t=`${vc}/v5/addons/upload/${e}`;return vn.get(t,{headers:{Authorization:`JWT ${n}`}}).json()};getVersion=async({version:e="1.0.0"})=>{let n=await this.getAccessToken(),t=`${this.productEndpoint}/versions/${encodeURIComponent(e)}/`;return vn.get(t,{headers:{Authorization:`JWT ${n}`}}).json()};getProfile=async()=>{let e=await this.getAccessToken(),n=`${vc}/v5/accounts/profile`;return vn.get(n,{headers:{Authorization:`JWT ${e}`}}).json()};getAccessToken=async()=>{let e=Math.floor(Date.now()/1e3),n={iss:this.options.apiKey,jti:Math.random().toString(),iat:e,exp:e+60*5};return NA.default.sign(n,this.options.apiSecret,{algorithm:"HS256"})}},xu="firefox",jA=uh(xu);function qA(e){return ho(this,null,function*(){var n=e,{extId:t,zip:r,dryRun:i}=n,s=Qc(n,["extId","zip","dryRun"]),u,h,c,a;let d=ah(r),f=((h=(u=d.browser_specific_settings)==null?void 0:u.gecko)==null?void 0:h.id)||((a=(c=d.applications)==null?void 0:c.gecko)==null?void 0:a.id)||t,y=new DA(Gc({extId:f},s));if(jA(`Updating extension with ID ${f}`),i)return!0;try{return yield y.submit({filePath:r,version:d.version}),sh({extId:f,market:xu,zip:r}),!0}catch(A){throw lh(A,xu,`"${f}" (${d.name})`)}})}function MA(e){return ho(this,null,function*(){return e.zip=Hu(e),e.verbose&&Ku(xu),Wu({market:xu,options:e,errorMap:Yp}),qA(e)})}var FA={packageId:"No package ID is provided, e.g. https://addons.opera.com/developer/package/PACKAGE_ID",sessionid:`No "sessionid" is provided. If you have a hard time obtaining it, run:
web-ext-deploy --get-cookies=opera`,csrftoken:`No "csrftoken" is provided. If you have a hard time obtaining it, run:
web-ext-deploy --get-cookies=opera`},$m="opera";function VA(e){return ho(this,null,function*(){throw e.zip=Hu(e),e.changelog&&(e.changelog=e.changelog.replace(/\/\/n/g,`
`)),e.verbose&&Ku($m),Wu({market:$m,options:e,errorMap:FA}),new Error("Opera submission is not supported at this time, due to lack of automation API - their CSRF token and cookies expires in 24 hours. It will be faster to just drag/drop the zip on their dev portal.")})}var zA=require("fs/promises"),$A=require("node:events");function HA(e){return W.object(e)&&"_onResponse"in e}var Sr=class extends Error{constructor(e,n,t){if(super(e),Object.defineProperty(this,"input",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stack",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"response",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Error.captureStackTrace(this,this.constructor),this.name="RequestError",this.code=n.code??"ERR_GOT_REQUEST_ERROR",this.input=n.input,HA(t)?(Object.defineProperty(this,"request",{enumerable:!1,value:t}),Object.defineProperty(this,"response",{enumerable:!1,value:t.response}),this.options=t.options):this.options=t,this.timings=this.request?.timings,W.string(n.stack)&&W.string(this.stack)){let r=this.stack.indexOf(this.message)+this.message.length,i=this.stack.slice(r).split(`
`).reverse(),s=n.stack.slice(n.stack.indexOf(n.message)+n.message.length).split(`
`).reverse();for(;s.length>0&&s[0]===i[0];)i.shift();this.stack=`${this.stack.slice(0,r)}${i.reverse().join(`
`)}${s.reverse().join(`
`)}`}}},KA=class extends Sr{constructor(e){super(`Redirected ${e.options.maxRedirects} times. Aborting.`,{},e),this.name="MaxRedirectsError",this.code="ERR_TOO_MANY_REDIRECTS"}},Hc=class extends Sr{constructor(e){super(`Response code ${e.statusCode} (${e.statusMessage})`,{},e.request),this.name="HTTPError",this.code="ERR_NON_2XX_3XX_RESPONSE"}},WA=class extends Sr{constructor(e,n){super(e.message,e,n),this.name="CacheError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_CACHE_ACCESS":this.code}},Hm=class extends Sr{constructor(e,n){super(e.message,e,n),this.name="UploadError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_UPLOAD":this.code}},GA=class extends Sr{constructor(e,n,t){super(e.message,e,t),Object.defineProperty(this,"timings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"event",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="TimeoutError",this.event=e.event,this.timings=n}},Km=class extends Sr{constructor(e,n){super(e.message,e,n),this.name="ReadError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_READING_RESPONSE_STREAM":this.code}},QA=class extends Sr{constructor(e){super("Retrying",{},e),this.name="RetryError",this.code="ERR_RETRYING"}},YA=class extends Sr{constructor(e){super("This operation was aborted.",{},e),this.code="ERR_ABORTED",this.name="AbortError"}},hb=yt(require("node:process"),1),Id=require("node:buffer"),XA=require("node:stream"),Wm=require("node:url"),kd=yt(require("node:http"),1),JA=yt(require("node:events"),1),bc=yt(require("node:url"),1),ZA=yt(require("node:crypto"),1),fb=yt(require("node:stream"),1),e5=yt(Yc(),1),Bd=yt(dv(),1),_c=yt(pv(),1),t5=class extends Error{constructor(e){super(e.message),Object.assign(this,e)}},Ru=class extends Error{constructor(e){super(e.message),Object.assign(this,e)}},r5=class{constructor(e,n){this.hooks=new Map,this.request=()=>(t,r)=>{let i;if(typeof t=="string")i=Od(bc.default.parse(t)),t={};else if(t instanceof bc.default.URL)i=Od(bc.default.parse(t.toString())),t={};else{let[f,...y]=(t.path??"").split("?"),A=y.length>0?`?${y.join("?")}`:"";i=Od({...t,pathname:f,search:A})}t={headers:{},method:"GET",cache:!0,strictTtl:!1,automaticFailover:!1,...t,...o5(i)},t.headers=Object.fromEntries(n5(t.headers).map(([f,y])=>[f.toLowerCase(),y]));let s=new JA.default,u=Gv(bc.default.format(i),{stripWWW:!1,removeTrailingSlash:!1,stripAuthentication:!1}),h=`${t.method}:${u}`;t.body&&t.method!==void 0&&["POST","PATCH","PUT"].includes(t.method)&&(t.body instanceof fb.default.Readable?t.cache=!1:h+=`:${ZA.default.createHash("md5").update(t.body).digest("hex")}`);let c=!1,a=!1,d=f=>{a=!0;let y=!1,A=()=>{},T=new Promise(S=>{A=()=>{y||(y=!0,S())}}),m=async S=>{if(c){S.status=S.statusCode;let k=Bd.default.fromObject(c.cachePolicy).revalidatedPolicy(f,S);if(!k.modified){S.resume(),await new Promise(R=>{S.once("end",R)});let p=Gm(k.policy.responseHeaders());S=new Lc({statusCode:c.statusCode,headers:p,body:c.body,url:c.url}),S.cachePolicy=k.policy,S.fromCache=!0}}S.fromCache||(S.cachePolicy=new Bd.default(f,S,f),S.fromCache=!1);let B;f.cache&&S.cachePolicy.storable()?(B=i5(S),(async()=>{try{let k=e5.default.buffer(S);await Promise.race([T,new Promise(P=>S.once("end",P)),new Promise(P=>S.once("close",P))]);let p=await k,R={url:S.url,statusCode:S.fromCache?c.statusCode:S.statusCode,body:p,cachePolicy:S.cachePolicy.toObject()},E=f.strictTtl?S.cachePolicy.timeToLive():void 0;if(f.maxTtl&&(E=E?Math.min(E,f.maxTtl):f.maxTtl),this.hooks.size>0)for(let P of this.hooks.keys())R=await this.runHook(P,R,S);await this.cache.set(h,R,E)}catch(k){s.emit("error",new Ru(k))}})()):f.cache&&c&&(async()=>{try{await this.cache.delete(h)}catch(k){s.emit("error",new Ru(k))}})(),s.emit("response",B??S),typeof r=="function"&&r(B??S)};try{let S=this.cacheRequest(f,m);S.once("error",A),S.once("abort",A),S.once("destroy",A),s.emit("request",S)}catch(S){s.emit("error",new t5(S))}};return(async()=>{let f=async A=>{await Promise.resolve();let T=A.cache?await this.cache.get(h):void 0;if(typeof T>"u"&&!A.forceRefresh){d(A);return}let m=Bd.default.fromObject(T.cachePolicy);if(m.satisfiesWithoutRevalidation(A)&&!A.forceRefresh){let S=Gm(m.responseHeaders()),B=new Lc({statusCode:T.statusCode,headers:S,body:T.body,url:T.url});B.cachePolicy=m,B.fromCache=!0,s.emit("response",B),typeof r=="function"&&r(B)}else m.satisfiesWithoutRevalidation(A)&&Date.now()>=m.timeToLive()&&A.forceRefresh?(await this.cache.delete(h),A.headers=m.revalidationHeaders(A),d(A)):(c=T,A.headers=m.revalidationHeaders(A),d(A))},y=A=>s.emit("error",new Ru(A));if(this.cache instanceof _c.default){let A=this.cache;A.once("error",y),s.on("error",()=>A.removeListener("error",y)),s.on("response",()=>A.removeListener("error",y))}try{await f(t)}catch(A){t.automaticFailover&&!a&&d(t),s.emit("error",new Ru(A))}})(),s},this.addHook=(t,r)=>{this.hooks.has(t)||this.hooks.set(t,r)},this.removeHook=t=>this.hooks.delete(t),this.getHook=t=>this.hooks.get(t),this.runHook=async(t,...r)=>this.hooks.get(t)?.(...r),n instanceof _c.default?this.cache=n:typeof n=="string"?this.cache=new _c.default({uri:n,namespace:"cacheable-request"}):this.cache=new _c.default({store:n,namespace:"cacheable-request"}),this.request=this.request.bind(this),this.cacheRequest=e}},n5=Object.entries,i5=e=>{let n=new fb.PassThrough({autoDestroy:!1});return Qv(e,n),e.pipe(n)},o5=e=>{let n={...e};return n.path=`${e.pathname||"/"}${e.search||""}`,delete n.pathname,delete n.search,n},Od=e=>({protocol:e.protocol,auth:e.auth,hostname:e.hostname||e.host||"localhost",port:e.port,pathname:e.pathname,search:e.search}),Gm=e=>{let n=[];for(let t of Object.keys(e))n[t.toLowerCase()]=e[t];return n},a5=r5,s5=yt(yv(),1),u5=yt(Yc(),1),l5=require("node:buffer"),c5=require("node:util");function db(e){return W.nodeStream(e)&&W.function_(e.getBoundary)}async function h5(e,n){if(n&&"content-length"in n)return Number(n["content-length"]);if(!e)return 0;if(W.string(e))return l5.Buffer.byteLength(e);if(W.buffer(e))return e.length;if(db(e))return(0,c5.promisify)(e.getLength.bind(e))()}function pb(e,n,t){let r={};for(let i of t){let s=(...u)=>{n.emit(i,...u)};r[i]=s,e.on(i,s)}return()=>{for(let[i,s]of Object.entries(r))e.off(i,s)}}var f5=yt(require("node:net"),1);function d5(){let e=[];return{once(n,t,r){n.once(t,r),e.push({origin:n,event:t,fn:r})},unhandleAll(){for(let n of e){let{origin:t,event:r,fn:i}=n;t.removeListener(r,i)}e.length=0}}}var Qm=Symbol("reentry"),p5=()=>{},yb=class extends Error{constructor(e,n){super(`Timeout awaiting '${n}' for ${e}ms`),Object.defineProperty(this,"event",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="TimeoutError",this.code="ETIMEDOUT"}};function y5(e,n,t){if(Qm in e)return p5;e[Qm]=!0;let r=[],{once:i,unhandleAll:s}=d5(),u=(m,S,B)=>{let k=setTimeout(S,m,m,B);k.unref?.();let p=()=>{clearTimeout(k)};return r.push(p),p},{host:h,hostname:c}=t,a=(m,S)=>{e.destroy(new yb(m,S))},d=()=>{for(let m of r)m();s()};if(e.once("error",m=>{if(d(),e.listenerCount("error")===0)throw m}),typeof n.request<"u"){let m=u(n.request,a,"request");i(e,"response",S=>{i(S,"end",m)})}if(typeof n.socket<"u"){let{socket:m}=n,S=()=>{a(m,"socket")};e.setTimeout(m,S),r.push(()=>{e.removeListener("timeout",S)})}let f=typeof n.lookup<"u",y=typeof n.connect<"u",A=typeof n.secureConnect<"u",T=typeof n.send<"u";return(f||y||A||T)&&i(e,"socket",m=>{let{socketPath:S}=e;if(m.connecting){let B=!!(S??f5.default.isIP(c??h??"")!==0);if(f&&!B&&typeof m.address().address>"u"){let k=u(n.lookup,a,"lookup");i(m,"lookup",k)}if(y){let k=()=>u(n.connect,a,"connect");B?i(m,"connect",k()):i(m,"lookup",p=>{p===null&&i(m,"connect",k())})}A&&t.protocol==="https:"&&i(m,"connect",()=>{let k=u(n.secureConnect,a,"secureConnect");i(m,"secureConnect",k)})}if(T){let B=()=>u(n.send,a,"send");m.connecting?i(m,"connect",()=>{i(e,"upload-complete",B())}):i(e,"upload-complete",B())}}),typeof n.response<"u"&&i(e,"upload-complete",()=>{let m=u(n.response,a,"response");i(e,"response",m)}),typeof n.read<"u"&&i(e,"response",m=>{let S=u(n.read,a,"read");i(m,"end",S)}),d}function g5(e){e=e;let n={protocol:e.protocol,hostname:W.string(e.hostname)&&e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,host:e.host,hash:e.hash,search:e.search,pathname:e.pathname,href:e.href,path:`${e.pathname||""}${e.search||""}`};return W.string(e.port)&&e.port.length>0&&(n.port=Number(e.port)),(e.username||e.password)&&(n.auth=`${e.username||""}:${e.password||""}`),n}var m5=class{constructor(){Object.defineProperty(this,"weakMap",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"map",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.weakMap=new WeakMap,this.map=new Map}set(e,n){typeof e=="object"?this.weakMap.set(e,n):this.map.set(e,n)}get(e){return typeof e=="object"?this.weakMap.get(e):this.map.get(e)}has(e){return typeof e=="object"?this.weakMap.has(e):this.map.has(e)}},v5=({attemptCount:e,retryOptions:n,error:t,retryAfter:r,computedValue:i})=>{if(t.name==="RetryError")return 1;if(e>n.limit)return 0;let s=n.methods.includes(t.options.method),u=n.errorCodes.includes(t.code),h=t.response&&n.statusCodes.includes(t.response.statusCode);if(!s||!u&&!h)return 0;if(t.response){if(r)return r>i?0:r;if(t.response.statusCode===413)return 0}let c=Math.random()*n.noise;return Math.min(2**(e-1)*1e3,n.backoffLimit)+c},b5=v5,_5=yt(require("node:process"),1),Pd=require("node:util"),Aa=require("node:url"),w5=require("node:tls"),E5=yt(require("node:http"),1),S5=yt(require("node:https"),1),C5=yt(Rv(),1);function T5(e){let n=[],t=e.split(",");for(let r of t){let[i,...s]=r.split(";"),u=i.trim();if(u[0]!=="<"||u[u.length-1]!==">")throw new Error(`Invalid format of the Link header reference: ${u}`);let h=u.slice(1,-1),c={};if(s.length===0)throw new Error(`Unexpected end of Link header parameters: ${s.join(";")}`);for(let a of s){let d=a.trim(),f=d.indexOf("=");if(f===-1)throw new Error(`Failed to parse Link header: ${e}`);let y=d.slice(0,f).trim(),A=d.slice(f+1).trim();c[y]=A}n.push({reference:h,parameters:c})}return n}var[Ym,R5]=_5.default.versions.node.split(".").map(Number);function A5(e){for(let n in e){let t=e[n];le.any([W.string,W.number,W.boolean,W.null_,W.undefined],t)}}var I5=new Map,Ld,k5=()=>Ld||(Ld=new e1,Ld),B5={request:void 0,agent:{http:void 0,https:void 0,http2:void 0},h2session:void 0,decompress:!0,timeout:{connect:void 0,lookup:void 0,read:void 0,request:void 0,response:void 0,secureConnect:void 0,send:void 0,socket:void 0},prefixUrl:"",body:void 0,form:void 0,json:void 0,cookieJar:void 0,ignoreInvalidCookies:!1,searchParams:void 0,dnsLookup:void 0,dnsCache:void 0,context:{},hooks:{init:[],beforeRequest:[],beforeError:[],beforeRedirect:[],beforeRetry:[],afterResponse:[]},followRedirect:!0,maxRedirects:10,cache:void 0,throwHttpErrors:!0,username:"",password:"",http2:!1,allowGetBody:!1,headers:{"user-agent":"got (https://github.com/sindresorhus/got)"},methodRewriting:!1,dnsLookupIpVersion:void 0,parseJson:JSON.parse,stringifyJson:JSON.stringify,retry:{limit:2,methods:["GET","PUT","HEAD","DELETE","OPTIONS","TRACE"],statusCodes:[408,413,429,500,502,503,504,521,522,524],errorCodes:["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"],maxRetryAfter:void 0,calculateDelay:({computedValue:e})=>e,backoffLimit:Number.POSITIVE_INFINITY,noise:100},localAddress:void 0,method:"GET",createConnection:void 0,cacheOptions:{shared:void 0,cacheHeuristic:void 0,immutableMinTimeToLive:void 0,ignoreCargoCult:void 0},https:{alpnProtocols:void 0,rejectUnauthorized:void 0,checkServerIdentity:void 0,certificateAuthority:void 0,key:void 0,certificate:void 0,passphrase:void 0,pfx:void 0,ciphers:void 0,honorCipherOrder:void 0,minVersion:void 0,maxVersion:void 0,signatureAlgorithms:void 0,tlsSessionLifetime:void 0,dhparam:void 0,ecdhCurve:void 0,certificateRevocationLists:void 0},encoding:void 0,resolveBodyOnly:!1,isStream:!1,responseType:"text",url:void 0,pagination:{transform(e){return e.request.options.responseType==="json"?e.body:JSON.parse(e.body)},paginate({response:e}){let n=e.headers.link;if(typeof n!="string"||n.trim()==="")return!1;let t=T5(n).find(r=>r.parameters.rel==="next"||r.parameters.rel==='"next"');return t?{url:new Aa.URL(t.reference,e.url)}:!1},filter:()=>!0,shouldContinue:()=>!0,countLimit:Number.POSITIVE_INFINITY,backoff:0,requestLimit:1e4,stackAllItems:!1},setHost:!0,maxHeaderSize:void 0,signal:void 0,enableUnixSockets:!0},O5=e=>{let{hooks:n,retry:t}=e,r={...e,context:{...e.context},cacheOptions:{...e.cacheOptions},https:{...e.https},agent:{...e.agent},headers:{...e.headers},retry:{...t,errorCodes:[...t.errorCodes],methods:[...t.methods],statusCodes:[...t.statusCodes]},timeout:{...e.timeout},hooks:{init:[...n.init],beforeRequest:[...n.beforeRequest],beforeError:[...n.beforeError],beforeRedirect:[...n.beforeRedirect],beforeRetry:[...n.beforeRetry],afterResponse:[...n.afterResponse]},searchParams:e.searchParams?new Aa.URLSearchParams(e.searchParams):void 0,pagination:{...e.pagination}};return r.url!==void 0&&(r.prefixUrl=""),r},P5=e=>{let{hooks:n,retry:t}=e,r={...e};return W.object(e.context)&&(r.context={...e.context}),W.object(e.cacheOptions)&&(r.cacheOptions={...e.cacheOptions}),W.object(e.https)&&(r.https={...e.https}),W.object(e.cacheOptions)&&(r.cacheOptions={...r.cacheOptions}),W.object(e.agent)&&(r.agent={...e.agent}),W.object(e.headers)&&(r.headers={...e.headers}),W.object(t)&&(r.retry={...t},W.array(t.errorCodes)&&(r.retry.errorCodes=[...t.errorCodes]),W.array(t.methods)&&(r.retry.methods=[...t.methods]),W.array(t.statusCodes)&&(r.retry.statusCodes=[...t.statusCodes])),W.object(e.timeout)&&(r.timeout={...e.timeout}),W.object(n)&&(r.hooks={...n},W.array(n.init)&&(r.hooks.init=[...n.init]),W.array(n.beforeRequest)&&(r.hooks.beforeRequest=[...n.beforeRequest]),W.array(n.beforeError)&&(r.hooks.beforeError=[...n.beforeError]),W.array(n.beforeRedirect)&&(r.hooks.beforeRedirect=[...n.beforeRedirect]),W.array(n.beforeRetry)&&(r.hooks.beforeRetry=[...n.beforeRetry]),W.array(n.afterResponse)&&(r.hooks.afterResponse=[...n.afterResponse])),W.object(e.pagination)&&(r.pagination={...e.pagination}),r},L5=e=>{let n=[e.timeout.socket,e.timeout.connect,e.timeout.lookup,e.timeout.request,e.timeout.secureConnect].filter(t=>typeof t=="number");if(n.length>0)return Math.min(...n)},Xm=(e,n,t)=>{let r=e.hooks?.init;if(r)for(let i of r)i(n,t)},uo=class{constructor(e,n,t){if(Object.defineProperty(this,"_unixOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_internals",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_merging",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_init",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),le.any([W.string,W.urlInstance,W.object,W.undefined],e),le.any([W.object,W.undefined],n),le.any([W.object,W.undefined],t),e instanceof uo||n instanceof uo)throw new TypeError("The defaults must be passed as the third argument");this._internals=O5(t?._internals??t??B5),this._init=[...t?._init??[]],this._merging=!1,this._unixOptions=void 0;try{if(W.plainObject(e))try{this.merge(e),this.merge(n)}finally{this.url=e.url}else try{this.merge(n)}finally{if(n?.url!==void 0)if(e===void 0)this.url=n.url;else throw new TypeError("The `url` option is mutually exclusive with the `input` argument");else e!==void 0&&(this.url=e)}}catch(r){throw r.options=this,r}}merge(e){if(e){if(e instanceof uo){for(let n of e._init)this.merge(n);return}e=P5(e),Xm(this,e,this),Xm(e,e,this),this._merging=!0,"isStream"in e&&(this.isStream=e.isStream);try{let n=!1;for(let t in e)if(!(t==="mutableDefaults"||t==="handlers")&&t!=="url"){if(!(t in this))throw new Error(`Unexpected option: ${t}`);this[t]=e[t],n=!0}n&&this._init.push(e)}finally{this._merging=!1}}}get request(){return this._internals.request}set request(e){le.any([W.function_,W.undefined],e),this._internals.request=e}get agent(){return this._internals.agent}set agent(e){le.plainObject(e);for(let n in e){if(!(n in this._internals.agent))throw new TypeError(`Unexpected agent option: ${n}`);le.any([W.object,W.undefined],e[n])}this._merging?Object.assign(this._internals.agent,e):this._internals.agent={...e}}get h2session(){return this._internals.h2session}set h2session(e){this._internals.h2session=e}get decompress(){return this._internals.decompress}set decompress(e){le.boolean(e),this._internals.decompress=e}get timeout(){return this._internals.timeout}set timeout(e){le.plainObject(e);for(let n in e){if(!(n in this._internals.timeout))throw new Error(`Unexpected timeout option: ${n}`);le.any([W.number,W.undefined],e[n])}this._merging?Object.assign(this._internals.timeout,e):this._internals.timeout={...e}}get prefixUrl(){return this._internals.prefixUrl}set prefixUrl(e){if(le.any([W.string,W.urlInstance],e),e===""){this._internals.prefixUrl="";return}if(e=e.toString(),e.endsWith("/")||(e+="/"),this._internals.prefixUrl&&this._internals.url){let{href:n}=this._internals.url;this._internals.url.href=e+n.slice(this._internals.prefixUrl.length)}this._internals.prefixUrl=e}get body(){return this._internals.body}set body(e){le.any([W.string,W.buffer,W.nodeStream,W.generator,W.asyncGenerator,zu,W.undefined],e),W.nodeStream(e)&&le.truthy(e.readable),e!==void 0&&(le.undefined(this._internals.form),le.undefined(this._internals.json)),this._internals.body=e}get form(){return this._internals.form}set form(e){le.any([W.plainObject,W.undefined],e),e!==void 0&&(le.undefined(this._internals.body),le.undefined(this._internals.json)),this._internals.form=e}get json(){return this._internals.json}set json(e){e!==void 0&&(le.undefined(this._internals.body),le.undefined(this._internals.form)),this._internals.json=e}get url(){return this._internals.url}set url(e){if(le.any([W.string,W.urlInstance,W.undefined],e),e===void 0){this._internals.url=void 0;return}if(W.string(e)&&e.startsWith("/"))throw new Error("`url` must not start with a slash");let n=`${this.prefixUrl}${e.toString()}`,t=new Aa.URL(n);if(this._internals.url=t,t.protocol==="unix:"&&(t.href=`http://unix${t.pathname}${t.search}`),t.protocol!=="http:"&&t.protocol!=="https:"){let r=new Error(`Unsupported protocol: ${t.protocol}`);throw r.code="ERR_UNSUPPORTED_PROTOCOL",r}if(this._internals.username&&(t.username=this._internals.username,this._internals.username=""),this._internals.password&&(t.password=this._internals.password,this._internals.password=""),this._internals.searchParams&&(t.search=this._internals.searchParams.toString(),this._internals.searchParams=void 0),t.hostname==="unix"){if(!this._internals.enableUnixSockets)throw new Error("Using UNIX domain sockets but option `enableUnixSockets` is not enabled");let r=/(?<socketPath>.+?):(?<path>.+)/.exec(`${t.pathname}${t.search}`);if(r?.groups){let{socketPath:i,path:s}=r.groups;this._unixOptions={socketPath:i,path:s,host:""}}else this._unixOptions=void 0;return}this._unixOptions=void 0}get cookieJar(){return this._internals.cookieJar}set cookieJar(e){if(le.any([W.object,W.undefined],e),e===void 0){this._internals.cookieJar=void 0;return}let{setCookie:n,getCookieString:t}=e;le.function_(n),le.function_(t),n.length===4&&t.length===0?(n=(0,Pd.promisify)(n.bind(e)),t=(0,Pd.promisify)(t.bind(e)),this._internals.cookieJar={setCookie:n,getCookieString:t}):this._internals.cookieJar=e}get signal(){return this._internals.signal}set signal(e){le.object(e),this._internals.signal=e}get ignoreInvalidCookies(){return this._internals.ignoreInvalidCookies}set ignoreInvalidCookies(e){le.boolean(e),this._internals.ignoreInvalidCookies=e}get searchParams(){return this._internals.url?this._internals.url.searchParams:(this._internals.searchParams===void 0&&(this._internals.searchParams=new Aa.URLSearchParams),this._internals.searchParams)}set searchParams(e){le.any([W.string,W.object,W.undefined],e);let n=this._internals.url;if(e===void 0){this._internals.searchParams=void 0,n&&(n.search="");return}let t=this.searchParams,r;if(W.string(e))r=new Aa.URLSearchParams(e);else if(e instanceof Aa.URLSearchParams)r=e;else{A5(e),r=new Aa.URLSearchParams;for(let i in e){let s=e[i];s===null?r.append(i,""):s===void 0?t.delete(i):r.append(i,s)}}if(this._merging){for(let i of r.keys())t.delete(i);for(let[i,s]of r)t.append(i,s)}else n?n.search=t.toString():this._internals.searchParams=t}get searchParameters(){throw new Error("The `searchParameters` option does not exist. Use `searchParams` instead.")}set searchParameters(e){throw new Error("The `searchParameters` option does not exist. Use `searchParams` instead.")}get dnsLookup(){return this._internals.dnsLookup}set dnsLookup(e){le.any([W.function_,W.undefined],e),this._internals.dnsLookup=e}get dnsCache(){return this._internals.dnsCache}set dnsCache(e){le.any([W.object,W.boolean,W.undefined],e),e===!0?this._internals.dnsCache=k5():e===!1?this._internals.dnsCache=void 0:this._internals.dnsCache=e}get context(){return this._internals.context}set context(e){le.object(e),this._merging?Object.assign(this._internals.context,e):this._internals.context={...e}}get hooks(){return this._internals.hooks}set hooks(e){le.object(e);for(let n in e){if(!(n in this._internals.hooks))throw new Error(`Unexpected hook event: ${n}`);let t=n,r=e[t];if(le.any([W.array,W.undefined],r),r)for(let i of r)le.function_(i);if(this._merging)r&&this._internals.hooks[t].push(...r);else{if(!r)throw new Error(`Missing hook event: ${n}`);this._internals.hooks[n]=[...r]}}}get followRedirect(){return this._internals.followRedirect}set followRedirect(e){le.boolean(e),this._internals.followRedirect=e}get followRedirects(){throw new TypeError("The `followRedirects` option does not exist. Use `followRedirect` instead.")}set followRedirects(e){throw new TypeError("The `followRedirects` option does not exist. Use `followRedirect` instead.")}get maxRedirects(){return this._internals.maxRedirects}set maxRedirects(e){le.number(e),this._internals.maxRedirects=e}get cache(){return this._internals.cache}set cache(e){le.any([W.object,W.string,W.boolean,W.undefined],e),e===!0?this._internals.cache=I5:e===!1?this._internals.cache=void 0:this._internals.cache=e}get throwHttpErrors(){return this._internals.throwHttpErrors}set throwHttpErrors(e){le.boolean(e),this._internals.throwHttpErrors=e}get username(){let e=this._internals.url,n=e?e.username:this._internals.username;return decodeURIComponent(n)}set username(e){le.string(e);let n=this._internals.url,t=encodeURIComponent(e);n?n.username=t:this._internals.username=t}get password(){let e=this._internals.url,n=e?e.password:this._internals.password;return decodeURIComponent(n)}set password(e){le.string(e);let n=this._internals.url,t=encodeURIComponent(e);n?n.password=t:this._internals.password=t}get http2(){return this._internals.http2}set http2(e){le.boolean(e),this._internals.http2=e}get allowGetBody(){return this._internals.allowGetBody}set allowGetBody(e){le.boolean(e),this._internals.allowGetBody=e}get headers(){return this._internals.headers}set headers(e){le.plainObject(e),this._merging?Object.assign(this._internals.headers,Ou(e)):this._internals.headers=Ou(e)}get methodRewriting(){return this._internals.methodRewriting}set methodRewriting(e){le.boolean(e),this._internals.methodRewriting=e}get dnsLookupIpVersion(){return this._internals.dnsLookupIpVersion}set dnsLookupIpVersion(e){if(e!==void 0&&e!==4&&e!==6)throw new TypeError(`Invalid DNS lookup IP version: ${e}`);this._internals.dnsLookupIpVersion=e}get parseJson(){return this._internals.parseJson}set parseJson(e){le.function_(e),this._internals.parseJson=e}get stringifyJson(){return this._internals.stringifyJson}set stringifyJson(e){le.function_(e),this._internals.stringifyJson=e}get retry(){return this._internals.retry}set retry(e){if(le.plainObject(e),le.any([W.function_,W.undefined],e.calculateDelay),le.any([W.number,W.undefined],e.maxRetryAfter),le.any([W.number,W.undefined],e.limit),le.any([W.array,W.undefined],e.methods),le.any([W.array,W.undefined],e.statusCodes),le.any([W.array,W.undefined],e.errorCodes),le.any([W.number,W.undefined],e.noise),e.noise&&Math.abs(e.noise)>100)throw new Error(`The maximum acceptable retry noise is +/- 100ms, got ${e.noise}`);for(let t in e)if(!(t in this._internals.retry))throw new Error(`Unexpected retry option: ${t}`);this._merging?Object.assign(this._internals.retry,e):this._internals.retry={...e};let{retry:n}=this._internals;n.methods=[...new Set(n.methods.map(t=>t.toUpperCase()))],n.statusCodes=[...new Set(n.statusCodes)],n.errorCodes=[...new Set(n.errorCodes)]}get localAddress(){return this._internals.localAddress}set localAddress(e){le.any([W.string,W.undefined],e),this._internals.localAddress=e}get method(){return this._internals.method}set method(e){le.string(e),this._internals.method=e.toUpperCase()}get createConnection(){return this._internals.createConnection}set createConnection(e){le.any([W.function_,W.undefined],e),this._internals.createConnection=e}get cacheOptions(){return this._internals.cacheOptions}set cacheOptions(e){le.plainObject(e),le.any([W.boolean,W.undefined],e.shared),le.any([W.number,W.undefined],e.cacheHeuristic),le.any([W.number,W.undefined],e.immutableMinTimeToLive),le.any([W.boolean,W.undefined],e.ignoreCargoCult);for(let n in e)if(!(n in this._internals.cacheOptions))throw new Error(`Cache option \`${n}\` does not exist`);this._merging?Object.assign(this._internals.cacheOptions,e):this._internals.cacheOptions={...e}}get https(){return this._internals.https}set https(e){le.plainObject(e),le.any([W.boolean,W.undefined],e.rejectUnauthorized),le.any([W.function_,W.undefined],e.checkServerIdentity),le.any([W.string,W.object,W.array,W.undefined],e.certificateAuthority),le.any([W.string,W.object,W.array,W.undefined],e.key),le.any([W.string,W.object,W.array,W.undefined],e.certificate),le.any([W.string,W.undefined],e.passphrase),le.any([W.string,W.buffer,W.array,W.undefined],e.pfx),le.any([W.array,W.undefined],e.alpnProtocols),le.any([W.string,W.undefined],e.ciphers),le.any([W.string,W.buffer,W.undefined],e.dhparam),le.any([W.string,W.undefined],e.signatureAlgorithms),le.any([W.string,W.undefined],e.minVersion),le.any([W.string,W.undefined],e.maxVersion),le.any([W.boolean,W.undefined],e.honorCipherOrder),le.any([W.number,W.undefined],e.tlsSessionLifetime),le.any([W.string,W.undefined],e.ecdhCurve),le.any([W.string,W.buffer,W.array,W.undefined],e.certificateRevocationLists);for(let n in e)if(!(n in this._internals.https))throw new Error(`HTTPS option \`${n}\` does not exist`);this._merging?Object.assign(this._internals.https,e):this._internals.https={...e}}get encoding(){return this._internals.encoding}set encoding(e){if(e===null)throw new TypeError("To get a Buffer, set `options.responseType` to `buffer` instead");le.any([W.string,W.undefined],e),this._internals.encoding=e}get resolveBodyOnly(){return this._internals.resolveBodyOnly}set resolveBodyOnly(e){le.boolean(e),this._internals.resolveBodyOnly=e}get isStream(){return this._internals.isStream}set isStream(e){le.boolean(e),this._internals.isStream=e}get responseType(){return this._internals.responseType}set responseType(e){if(e===void 0){this._internals.responseType="text";return}if(e!=="text"&&e!=="buffer"&&e!=="json")throw new Error(`Invalid \`responseType\` option: ${e}`);this._internals.responseType=e}get pagination(){return this._internals.pagination}set pagination(e){le.object(e),this._merging?Object.assign(this._internals.pagination,e):this._internals.pagination=e}get auth(){throw new Error("Parameter `auth` is deprecated. Use `username` / `password` instead.")}set auth(e){throw new Error("Parameter `auth` is deprecated. Use `username` / `password` instead.")}get setHost(){return this._internals.setHost}set setHost(e){le.boolean(e),this._internals.setHost=e}get maxHeaderSize(){return this._internals.maxHeaderSize}set maxHeaderSize(e){le.any([W.number,W.undefined],e),this._internals.maxHeaderSize=e}get enableUnixSockets(){return this._internals.enableUnixSockets}set enableUnixSockets(e){le.boolean(e),this._internals.enableUnixSockets=e}toJSON(){return{...this._internals}}[Symbol.for("nodejs.util.inspect.custom")](e,n){return(0,Pd.inspect)(this._internals,n)}createNativeRequestOptions(){let e=this._internals,n=e.url,t;n.protocol==="https:"?t=e.http2?e.agent:e.agent.https:t=e.agent.http;let{https:r}=e,{pfx:i}=r;return W.array(i)&&W.plainObject(i[0])&&(i=i.map(s=>({buf:s.buffer,passphrase:s.passphrase}))),{...e.cacheOptions,...this._unixOptions,ALPNProtocols:r.alpnProtocols,ca:r.certificateAuthority,cert:r.certificate,key:r.key,passphrase:r.passphrase,pfx:r.pfx,rejectUnauthorized:r.rejectUnauthorized,checkServerIdentity:r.checkServerIdentity??w5.checkServerIdentity,ciphers:r.ciphers,honorCipherOrder:r.honorCipherOrder,minVersion:r.minVersion,maxVersion:r.maxVersion,sigalgs:r.signatureAlgorithms,sessionTimeout:r.tlsSessionLifetime,dhparam:r.dhparam,ecdhCurve:r.ecdhCurve,crl:r.certificateRevocationLists,lookup:e.dnsLookup??e.dnsCache?.lookup,family:e.dnsLookupIpVersion,agent:t,setHost:e.setHost,method:e.method,maxHeaderSize:e.maxHeaderSize,localAddress:e.localAddress,headers:e.headers,createConnection:e.createConnection,timeout:e.http2?L5(e):void 0,h2session:e.h2session}}getRequestFunction(){let e=this._internals.url,{request:n}=this._internals;return!n&&e?this.getFallbackRequestFunction():n}getFallbackRequestFunction(){let e=this._internals.url;if(e){if(e.protocol==="https:"){if(this._internals.http2){if(Ym<15||Ym===15&&R5<10){let n=new Error("To use the `http2` option, install Node.js 15.10.0 or above");throw n.code="EUNSUPPORTED",n}return C5.default.auto}return S5.default.request}return E5.default.request}}freeze(){let e=this._internals;Object.freeze(e),Object.freeze(e.hooks),Object.freeze(e.hooks.afterResponse),Object.freeze(e.hooks.beforeError),Object.freeze(e.hooks.beforeRedirect),Object.freeze(e.hooks.beforeRequest),Object.freeze(e.hooks.beforeRetry),Object.freeze(e.hooks.init),Object.freeze(e.https),Object.freeze(e.cacheOptions),Object.freeze(e.agent),Object.freeze(e.headers),Object.freeze(e.timeout),Object.freeze(e.retry),Object.freeze(e.retry.errorCodes),Object.freeze(e.retry.methods),Object.freeze(e.retry.statusCodes)}},Kc=e=>{let{statusCode:n}=e,t=e.request.options.followRedirect?299:399;return n>=200&&n<=t||n===304},Jm=class extends Sr{constructor(e,n){let{options:t}=n.request;super(`${e.message} in "${t.url.toString()}"`,e,n.request),this.name="ParseError",this.code="ERR_BODY_PARSE_FAILURE"}},Zm=(e,n,t,r)=>{let{rawBody:i}=e;try{if(n==="text")return i.toString(r);if(n==="json")return i.length===0?"":t(i.toString(r));if(n==="buffer")return i}catch(s){throw new Jm(s,e)}throw new Jm({message:`Unknown body type '${n}'`,name:"Error"},e)};function N5(e){return e.writable&&!e.writableEnded}var U5=N5;function ev(e){return e.protocol==="unix:"||e.hostname==="unix"}var x5=W.string(hb.default.versions.brotli),D5=new Set(["GET","HEAD"]),Nd=new m5,j5=new Set([300,301,302,303,304,307,308]),q5=["socket","connect","continue","information","upgrade"],wc=()=>{},Xp=class extends XA.Duplex{constructor(e,n,t){super({autoDestroy:!1,highWaterMark:0}),Object.defineProperty(this,"constructor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_noPipe",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"response",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"requestUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"redirectUrls",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"retryCount",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_stopRetry",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downloadedSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_uploadedSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_stopReading",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_pipedServerResponses",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_responseSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_bodySize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_unproxyEvents",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isFromCache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_cannotHaveBody",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_triggerRead",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_cancelTimeouts",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_removeListeners",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_nativeResponse",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_flushed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_aborted",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_requestInitialized",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._downloadedSize=0,this._uploadedSize=0,this._stopReading=!1,this._pipedServerResponses=new Set,this._cannotHaveBody=!1,this._unproxyEvents=wc,this._triggerRead=!1,this._cancelTimeouts=wc,this._removeListeners=wc,this._jobs=[],this._flushed=!1,this._requestInitialized=!1,this._aborted=!1,this.redirectUrls=[],this.retryCount=0,this._stopRetry=wc,this.on("pipe",i=>{i.headers&&Object.assign(this.options.headers,i.headers)}),this.on("newListener",i=>{if(i==="retry"&&this.listenerCount("retry")>0)throw new Error("A retry listener has been attached already.")});try{if(this.options=new uo(e,n,t),!this.options.url){if(this.options.prefixUrl==="")throw new TypeError("Missing `url` property");this.options.url=""}this.requestUrl=this.options.url}catch(i){let{options:s}=i;s&&(this.options=s),this.flush=async()=>{this.flush=async()=>{},this.destroy(i)};return}let{body:r}=this.options;if(W.nodeStream(r)&&r.once("error",i=>{this._flushed?this._beforeError(new Hm(i,this)):this.flush=async()=>{this.flush=async()=>{},this._beforeError(new Hm(i,this))}}),this.options.signal){let i=()=>{this.destroy(new YA(this))};this.options.signal.aborted?i():(this.options.signal.addEventListener("abort",i),this._removeListeners=()=>{this.options.signal.removeEventListener("abort",i)})}}async flush(){if(!this._flushed){this._flushed=!0;try{if(await this._finalizeBody(),this.destroyed)return;if(await this._makeRequest(),this.destroyed){this._request?.destroy();return}for(let e of this._jobs)e();this._jobs.length=0,this._requestInitialized=!0}catch(e){this._beforeError(e)}}}_beforeError(e){if(this._stopReading)return;let{response:n,options:t}=this,r=this.retryCount+(e.name==="RetryError"?0:1);this._stopReading=!0,e instanceof Sr||(e=new Sr(e.message,e,this));let i=e;(async()=>{if(n?.readable&&!n.rawBody&&!this._request?.socket?.destroyed&&(n.setEncoding(this.readableEncoding),await this._setRawBody(n)&&(n.body=n.rawBody.toString())),this.listenerCount("retry")!==0){let s;try{let u;n&&"retry-after"in n.headers&&(u=Number(n.headers["retry-after"]),Number.isNaN(u)?(u=Date.parse(n.headers["retry-after"])-Date.now(),u<=0&&(u=1)):u*=1e3);let h=t.retry;s=await h.calculateDelay({attemptCount:r,retryOptions:h,error:i,retryAfter:u,computedValue:b5({attemptCount:r,retryOptions:h,error:i,retryAfter:u,computedValue:h.maxRetryAfter??t.timeout.request??Number.POSITIVE_INFINITY})})}catch(u){this._error(new Sr(u.message,u,this));return}if(s){if(await new Promise(u=>{let h=setTimeout(u,s);this._stopRetry=()=>{clearTimeout(h),u()}}),this.destroyed)return;try{for(let u of this.options.hooks.beforeRetry)await u(i,this.retryCount+1)}catch(u){this._error(new Sr(u.message,e,this));return}if(this.destroyed)return;this.destroy(),this.emit("retry",this.retryCount+1,e,u=>{let h=new Xp(t.url,u,t);return h.retryCount=this.retryCount+1,hb.default.nextTick(()=>{h.flush()}),h});return}}this._error(i)})()}_read(){this._triggerRead=!0;let{response:e}=this;if(e&&!this._stopReading){e.readableLength&&(this._triggerRead=!1);let n;for(;(n=e.read())!==null;){this._downloadedSize+=n.length;let t=this.downloadProgress;t.percent<1&&this.emit("downloadProgress",t),this.push(n)}}}_write(e,n,t){let r=()=>{this._writeRequest(e,n,t)};this._requestInitialized?r():this._jobs.push(r)}_final(e){let n=()=>{if(!this._request||this._request.destroyed){e();return}this._request.end(t=>{this._request._writableState?.errored||(t||(this._bodySize=this._uploadedSize,this.emit("uploadProgress",this.uploadProgress),this._request.emit("upload-complete")),e(t))})};this._requestInitialized?n():this._jobs.push(n)}_destroy(e,n){if(this._stopReading=!0,this.flush=async()=>{},this._stopRetry(),this._cancelTimeouts(),this._removeListeners(),this.options){let{body:t}=this.options;W.nodeStream(t)&&t.destroy()}this._request&&this._request.destroy(),e!==null&&!W.undefined(e)&&!(e instanceof Sr)&&(e=new Sr(e.message,e,this)),n(e)}pipe(e,n){return e instanceof kd.ServerResponse&&this._pipedServerResponses.add(e),super.pipe(e,n)}unpipe(e){return e instanceof kd.ServerResponse&&this._pipedServerResponses.delete(e),super.unpipe(e),this}async _finalizeBody(){let{options:e}=this,{headers:n}=e,t=!W.undefined(e.form),r=!W.undefined(e.json),i=!W.undefined(e.body),s=D5.has(e.method)&&!(e.method==="GET"&&e.allowGetBody);if(this._cannotHaveBody=s,t||r||i){if(s)throw new TypeError(`The \`${e.method}\` method cannot be used with a body`);let u=!W.string(n["content-type"]);if(i){if(zu(e.body)){let c=new Yv(e.body);u&&(n["content-type"]=c.headers["Content-Type"]),"Content-Length"in c.headers&&(n["content-length"]=c.headers["Content-Length"]),e.body=c.encode()}db(e.body)&&u&&(n["content-type"]=`multipart/form-data; boundary=${e.body.getBoundary()}`)}else if(t){u&&(n["content-type"]="application/x-www-form-urlencoded");let{form:c}=e;e.form=void 0,e.body=new Wm.URLSearchParams(c).toString()}else{u&&(n["content-type"]="application/json");let{json:c}=e;e.json=void 0,e.body=e.stringifyJson(c)}let h=await h5(e.body,e.headers);W.undefined(n["content-length"])&&W.undefined(n["transfer-encoding"])&&!s&&!W.undefined(h)&&(n["content-length"]=String(h))}e.responseType==="json"&&!("accept"in e.headers)&&(e.headers.accept="application/json"),this._bodySize=Number(n["content-length"])||void 0}async _onResponseBase(e){if(this.isAborted)return;let{options:n}=this,{url:t}=n;this._nativeResponse=e,n.decompress&&(e=(0,s5.default)(e));let r=e.statusCode,i=e;i.statusMessage=i.statusMessage??kd.default.STATUS_CODES[r],i.url=n.url.toString(),i.requestUrl=this.requestUrl,i.redirectUrls=this.redirectUrls,i.request=this,i.isFromCache=this._nativeResponse.fromCache??!1,i.ip=this.ip,i.retryCount=this.retryCount,i.ok=Kc(i),this._isFromCache=i.isFromCache,this._responseSize=Number(e.headers["content-length"])||void 0,this.response=i,e.once("end",()=>{this._responseSize=this._downloadedSize,this.emit("downloadProgress",this.downloadProgress)}),e.once("error",u=>{this._aborted=!0,e.destroy(),this._beforeError(new Km(u,this))}),e.once("aborted",()=>{this._aborted=!0,this._beforeError(new Km({name:"Error",message:"The server aborted pending request",code:"ECONNRESET"},this))}),this.emit("downloadProgress",this.downloadProgress);let s=e.headers["set-cookie"];if(W.object(n.cookieJar)&&s){let u=s.map(async h=>n.cookieJar.setCookie(h,t.toString()));n.ignoreInvalidCookies&&(u=u.map(async h=>{try{await h}catch{}}));try{await Promise.all(u)}catch(h){this._beforeError(h);return}}if(!this.isAborted){if(n.followRedirect&&e.headers.location&&j5.has(r)){if(e.resume(),this._cancelTimeouts(),this._unproxyEvents(),this.redirectUrls.length>=n.maxRedirects){this._beforeError(new KA(this));return}this._request=void 0;let u=new uo(void 0,void 0,this.options),h=r===303&&u.method!=="GET"&&u.method!=="HEAD",c=r!==307&&r!==308,a=u.methodRewriting&&c;(h||a)&&(u.method="GET",u.body=void 0,u.json=void 0,u.form=void 0,delete u.headers["content-length"]);try{let d=Id.Buffer.from(e.headers.location,"binary").toString(),f=new Wm.URL(d,t);if(!ev(t)&&ev(f)){this._beforeError(new Sr("Cannot redirect to UNIX socket",{},this));return}f.hostname!==t.hostname||f.port!==t.port?("host"in u.headers&&delete u.headers.host,"cookie"in u.headers&&delete u.headers.cookie,"authorization"in u.headers&&delete u.headers.authorization,(u.username||u.password)&&(u.username="",u.password="")):(f.username=u.username,f.password=u.password),this.redirectUrls.push(f),u.prefixUrl="",u.url=f;for(let y of u.hooks.beforeRedirect)await y(u,i);this.emit("redirect",u,i),this.options=u,await this._makeRequest()}catch(d){this._beforeError(d);return}return}if(n.isStream&&n.throwHttpErrors&&!Kc(i)){this._beforeError(new Hc(i));return}if(e.on("readable",()=>{this._triggerRead&&this._read()}),this.on("resume",()=>{e.resume()}),this.on("pause",()=>{e.pause()}),e.once("end",()=>{this.push(null)}),this._noPipe){await this._setRawBody()&&this.emit("response",e);return}this.emit("response",e);for(let u of this._pipedServerResponses)if(!u.headersSent){for(let h in e.headers){let c=n.decompress?h!=="content-encoding":!0,a=e.headers[h];c&&u.setHeader(h,a)}u.statusCode=r}}}async _setRawBody(e=this){if(e.readableEnded)return!1;try{let n=await(0,u5.buffer)(e);if(!this.isAborted)return this.response.rawBody=n,!0}catch{}return!1}async _onResponse(e){try{await this._onResponseBase(e)}catch(n){this._beforeError(n)}}_onRequest(e){let{options:n}=this,{timeout:t,url:r}=n;Kv(e),this.options.http2&&e.setTimeout(0),this._cancelTimeouts=y5(e,t,r);let i=n.cache?"cacheableResponse":"response";e.once(i,s=>{this._onResponse(s)}),e.once("error",s=>{this._aborted=!0,e.destroy(),s=s instanceof yb?new GA(s,this.timings,this):new Sr(s.message,s,this),this._beforeError(s)}),this._unproxyEvents=pb(e,this,q5),this._request=e,this.emit("uploadProgress",this.uploadProgress),this._sendBody(),this.emit("request",e)}async _asyncWrite(e){return new Promise((n,t)=>{super.write(e,r=>{if(r){t(r);return}n()})})}_sendBody(){let{body:e}=this.options,n=this.redirectUrls.length===0?this:this._request??this;W.nodeStream(e)?e.pipe(n):W.generator(e)||W.asyncGenerator(e)?(async()=>{try{for await(let t of e)await this._asyncWrite(t);super.end()}catch(t){this._beforeError(t)}})():W.undefined(e)?(this._cannotHaveBody||this._noPipe)&&n.end():(this._writeRequest(e,void 0,()=>{}),n.end())}_prepareCache(e){if(!Nd.has(e)){let n=new a5((t,r)=>{let i=t._request(t,r);return W.promise(i)&&(i.once=(s,u)=>{if(s==="error")(async()=>{try{await i}catch(h){u(h)}})();else if(s==="abort")(async()=>{try{(await i).once("abort",u)}catch{}})();else throw new Error(`Unknown HTTP2 promise event: ${s}`);return i}),i},e);Nd.set(e,n.request())}}async _createCacheableRequest(e,n){return new Promise((t,r)=>{Object.assign(n,g5(e));let i,s=Nd.get(n.cache)(n,async u=>{if(u._readableState.autoDestroy=!1,i){let h=()=>{u.req&&(u.complete=u.req.res.complete)};u.prependOnceListener("end",h),h(),(await i).emit("cacheableResponse",u)}t(u)});s.once("error",r),s.once("request",async u=>{i=u,t(i)})})}async _makeRequest(){let{options:e}=this,{headers:n,username:t,password:r}=e,i=e.cookieJar;for(let c in n)if(W.undefined(n[c]))delete n[c];else if(W.null_(n[c]))throw new TypeError(`Use \`undefined\` instead of \`null\` to delete the \`${c}\` header`);if(e.decompress&&W.undefined(n["accept-encoding"])&&(n["accept-encoding"]=x5?"gzip, deflate, br":"gzip, deflate"),t||r){let c=Id.Buffer.from(`${t}:${r}`).toString("base64");n.authorization=`Basic ${c}`}if(i){let c=await i.getCookieString(e.url.toString());W.nonEmptyString(c)&&(n.cookie=c)}e.prefixUrl="";let s;for(let c of e.hooks.beforeRequest){let a=await c(e);if(!W.undefined(a)){s=()=>a;break}}s||(s=e.getRequestFunction());let u=e.url;this._requestOptions=e.createNativeRequestOptions(),e.cache&&(this._requestOptions._request=s,this._requestOptions.cache=e.cache,this._requestOptions.body=e.body,this._prepareCache(e.cache));let h=e.cache?this._createCacheableRequest:s;try{let c=h(u,this._requestOptions);W.promise(c)&&(c=await c),W.undefined(c)&&(c=e.getFallbackRequestFunction()(u,this._requestOptions),W.promise(c)&&(c=await c)),U5(c)?this._onRequest(c):this.writable?(this.once("finish",()=>{this._onResponse(c)}),this._sendBody()):this._onResponse(c)}catch(c){throw c instanceof Ru?new WA(c,this):c}}async _error(e){try{if(!(e instanceof Hc&&!this.options.throwHttpErrors))for(let n of this.options.hooks.beforeError)e=await n(e)}catch(n){e=new Sr(n.message,n,this)}this.destroy(e)}_writeRequest(e,n,t){!this._request||this._request.destroyed||this._request.write(e,n,r=>{if(!r&&!this._request.destroyed){this._uploadedSize+=Id.Buffer.byteLength(e,n);let i=this.uploadProgress;i.percent<1&&this.emit("uploadProgress",i)}t(r)})}get ip(){return this.socket?.remoteAddress}get isAborted(){return this._aborted}get socket(){return this._request?.socket??void 0}get downloadProgress(){let e;return this._responseSize?e=this._downloadedSize/this._responseSize:this._responseSize===this._downloadedSize?e=1:e=0,{percent:e,transferred:this._downloadedSize,total:this._responseSize}}get uploadProgress(){let e;return this._bodySize?e=this._uploadedSize/this._bodySize:this._bodySize===this._uploadedSize?e=1:e=0,{percent:e,transferred:this._uploadedSize,total:this._bodySize}}get timings(){return this._request?.timings}get isFromCache(){return this._isFromCache}get reusedSocket(){return this._request?.reusedSocket}},M5=class extends Sr{constructor(e){super("Promise was canceled",{},e),this.name="CancelError",this.code="ERR_CANCELED"}get isCanceled(){return!0}},F5=["request","response","redirect","uploadProgress","downloadProgress"];function tv(e){let n,t,r,i=new $A.EventEmitter,s=new oh((h,c,a)=>{a(()=>{n.destroy()}),a.shouldReject=!1,a(()=>{c(new M5(n))});let d=f=>{a(()=>{});let y=e??new Xp(void 0,void 0,r);y.retryCount=f,y._noPipe=!0,n=y,y.once("response",async m=>{let S=(m.headers["content-encoding"]??"").toLowerCase(),B=S==="gzip"||S==="deflate"||S==="br",{options:k}=y;if(B&&!k.decompress)m.body=m.rawBody;else try{m.body=Zm(m,k.responseType,k.parseJson,k.encoding)}catch(p){if(m.body=m.rawBody.toString(),Kc(m)){y._beforeError(p);return}}try{let p=k.hooks.afterResponse;for(let[R,E]of p.entries())if(m=await E(m,async P=>{throw k.merge(P),k.prefixUrl="",P.url&&(k.url=P.url),k.hooks.afterResponse=k.hooks.afterResponse.slice(0,R),new QA(y)}),!(W.object(m)&&W.number(m.statusCode)&&!W.nullOrUndefined(m.body)))throw new TypeError("The `afterResponse` hook returned an invalid value")}catch(p){y._beforeError(p);return}if(t=m,!Kc(m)){y._beforeError(new Hc(m));return}y.destroy(),h(y.options.resolveBodyOnly?m.body:m)});let A=m=>{if(s.isCanceled)return;let{options:S}=y;if(m instanceof Hc&&!S.throwHttpErrors){let{response:B}=m;y.destroy(),h(y.options.resolveBodyOnly?B.body:B);return}c(m)};y.once("error",A);let T=y.options?.body;y.once("retry",(m,S)=>{e=void 0;let B=y.options.body;if(T===B&&W.nodeStream(B)){S.message="Cannot retry with consumed body stream",A(S);return}r=y.options,d(m)}),pb(y,i,F5),W.undefined(e)&&y.flush()};d(0)});s.on=(h,c)=>(i.on(h,c),s),s.off=(h,c)=>(i.off(h,c),s);let u=h=>{let c=(async()=>{await s;let{options:a}=t.request;return Zm(t,h,a.parseJson,a.encoding)})();return Object.defineProperties(c,Object.getOwnPropertyDescriptors(s)),c};return s.json=()=>{if(n.options){let{headers:h}=n.options;!n.writableFinished&&!("accept"in h)&&(h.accept="application/json")}return u("json")},s.buffer=()=>u("buffer"),s.text=()=>u("text"),s}var V5=async e=>new Promise(n=>{setTimeout(n,e)}),z5=e=>W.function_(e),$5=["get","post","put","patch","head","delete"],gb=e=>{e={options:new uo(void 0,void 0,e.options),handlers:[...e.handlers],mutableDefaults:e.mutableDefaults},Object.defineProperty(e,"mutableDefaults",{enumerable:!0,configurable:!1,writable:!1});let n=(r,i,s=e.options)=>{let u=new Xp(r,i,s),h,c=f=>(u.options=f,u._noPipe=!f.isStream,u.flush(),f.isStream?u:(h||(h=tv(u)),h)),a=0,d=f=>{let y=(e.handlers[a++]??c)(f,d);if(W.promise(y)&&!u.options.isStream&&(h||(h=tv(u)),y!==h)){let A=Object.getOwnPropertyDescriptors(h);for(let T in A)T in y&&delete A[T];Object.defineProperties(y,A),y.cancel=h.cancel}return y};return d(u.options)};n.extend=(...r)=>{let i=new uo(void 0,void 0,e.options),s=[...e.handlers],u;for(let h of r)z5(h)?(i.merge(h.defaults.options),s.push(...h.defaults.handlers),u=h.defaults.mutableDefaults):(i.merge(h),h.handlers&&s.push(...h.handlers),u=h.mutableDefaults);return gb({options:i,handlers:s,mutableDefaults:!!u})};let t=async function*(r,i){let s=new uo(r,i,e.options);s.resolveBodyOnly=!1;let{pagination:u}=s;le.function_(u.transform),le.function_(u.shouldContinue),le.function_(u.filter),le.function_(u.paginate),le.number(u.countLimit),le.number(u.requestLimit),le.number(u.backoff);let h=[],{countLimit:c}=u,a=0;for(;a<u.requestLimit;){a!==0&&await V5(u.backoff);let d=await n(void 0,void 0,s),f=await u.transform(d),y=[];le.array(f);for(let T of f)if(u.filter({item:T,currentItems:y,allItems:h})&&(!u.shouldContinue({item:T,currentItems:y,allItems:h})||(yield T,u.stackAllItems&&h.push(T),y.push(T),--c<=0)))return;let A=u.paginate({response:d,currentItems:y,allItems:h});if(A===!1)return;A===d.request.options?s=d.request.options:(s.merge(A),le.any([W.urlInstance,W.undefined],A.url),A.url!==void 0&&(s.prefixUrl="",s.url=A.url)),a++}};n.paginate=t,n.paginate.all=async(r,i)=>{let s=[];for await(let u of t(r,i))s.push(u);return s},n.paginate.each=t,n.stream=(r,i)=>n(r,{...i,isStream:!0});for(let r of $5)n[r]=(i,s)=>n(i,{...s,method:r}),n.stream[r]=(i,s)=>n(i,{...s,method:r,isStream:!0});return e.mutableDefaults||(Object.freeze(e.handlers),e.options.freeze()),Object.defineProperty(n,"defaults",{value:e,writable:!1,configurable:!1,enumerable:!0}),n},H5=gb,K5={options:new uo,handlers:[],mutableDefaults:!1},W5=H5(K5),rp=W5,G5=require("module"),Wc=require("path"),mb=require("crypto"),Q5=Object.create,vb=Object.defineProperty,Y5=Object.getOwnPropertyDescriptor,X5=Object.getOwnPropertyNames,J5=Object.getPrototypeOf,Z5=Object.prototype.hasOwnProperty,bs=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(n,t)=>(typeof require<"u"?require:n)[t]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')}),Qe=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),eI=(e,n,t,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let i of X5(n))!Z5.call(e,i)&&i!==t&&vb(e,i,{get:()=>n[i],enumerable:!(r=Y5(n,i))||r.enumerable});return e},ks=(e,n,t)=>(t=e!=null?Q5(J5(e)):{},eI(n||!e||!e.__esModule?vb(t,"default",{value:e,enumerable:!0}):t,e)),tI=Qe((e,n)=>{(function(t,r){typeof e=="object"&&typeof n<"u"?r(e):typeof define=="function"&&define.amd?define(["exports"],r):(t=typeof globalThis<"u"?globalThis:t||self,r(t.WebStreamsPolyfill={}))})(e,function(t){"use strict";let r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:_=>`Symbol(${_})`;function i(){}function s(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}let u=s();function h(_){return typeof _=="object"&&_!==null||typeof _=="function"}let c=i,a=Promise,d=Promise.prototype.then,f=Promise.resolve.bind(a),y=Promise.reject.bind(a);function A(_){return new a(_)}function T(_){return f(_)}function m(_){return y(_)}function S(_,O,H){return d.call(_,O,H)}function B(_,O,H){S(S(_,O,H),void 0,c)}function k(_,O){B(_,O)}function p(_,O){B(_,void 0,O)}function R(_,O,H){return S(_,O,H)}function E(_){S(_,void 0,c)}let P=(()=>{let _=u&&u.queueMicrotask;if(typeof _=="function")return _;let O=T(void 0);return H=>S(O,H)})();function D(_,O,H){if(typeof _!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(_,O,H)}function C(_,O,H){try{return T(D(_,O,H))}catch(re){return m(re)}}let v=16384;class g{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(O){let H=this._back,re=H;H._elements.length===v-1&&(re={_elements:[],_next:void 0}),H._elements.push(O),re!==H&&(this._back=re,H._next=re),++this._size}shift(){let O=this._front,H=O,re=this._cursor,de=re+1,ve=O._elements,Ie=ve[re];return de===v&&(H=O._next,de=0),--this._size,this._cursor=de,O!==H&&(this._front=H),ve[re]=void 0,Ie}forEach(O){let H=this._cursor,re=this._front,de=re._elements;for(;(H!==de.length||re._next!==void 0)&&!(H===de.length&&(re=re._next,de=re._elements,H=0,de.length===0));)O(de[H]),++H}peek(){let O=this._front,H=this._cursor;return O._elements[H]}}function M(_,O){_._ownerReadableStream=O,O._reader=_,O._state==="readable"?U(_):O._state==="closed"?L(_):j(_,O._storedError)}function V(_,O){let H=_._ownerReadableStream;return He(H,O)}function q(_){_._ownerReadableStream._state==="readable"?F(_,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):ee(_,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),_._ownerReadableStream._reader=void 0,_._ownerReadableStream=void 0}function w(_){return new TypeError("Cannot "+_+" a stream using a released reader")}function U(_){_._closedPromise=A((O,H)=>{_._closedPromise_resolve=O,_._closedPromise_reject=H})}function j(_,O){U(_),F(_,O)}function L(_){U(_),ue(_)}function F(_,O){_._closedPromise_reject!==void 0&&(E(_._closedPromise),_._closedPromise_reject(O),_._closedPromise_resolve=void 0,_._closedPromise_reject=void 0)}function ee(_,O){j(_,O)}function ue(_){_._closedPromise_resolve!==void 0&&(_._closedPromise_resolve(void 0),_._closedPromise_resolve=void 0,_._closedPromise_reject=void 0)}let se=r("[[AbortSteps]]"),pe=r("[[ErrorSteps]]"),ke=r("[[CancelSteps]]"),Le=r("[[PullSteps]]"),qe=Number.isFinite||function(_){return typeof _=="number"&&isFinite(_)},Ce=Math.trunc||function(_){return _<0?Math.ceil(_):Math.floor(_)};function We(_){return typeof _=="object"||typeof _=="function"}function Te(_,O){if(_!==void 0&&!We(_))throw new TypeError(`${O} is not an object.`)}function et(_,O){if(typeof _!="function")throw new TypeError(`${O} is not a function.`)}function Je(_){return typeof _=="object"&&_!==null||typeof _=="function"}function N(_,O){if(!Je(_))throw new TypeError(`${O} is not an object.`)}function X(_,O,H){if(_===void 0)throw new TypeError(`Parameter ${O} is required in '${H}'.`)}function Q(_,O,H){if(_===void 0)throw new TypeError(`${O} is required in '${H}'.`)}function I(_){return Number(_)}function K(_){return _===0?0:_}function oe(_){return K(Ce(_))}function te(_,O){let H=Number.MAX_SAFE_INTEGER,re=Number(_);if(re=K(re),!qe(re))throw new TypeError(`${O} is not a finite number`);if(re=oe(re),re<0||re>H)throw new TypeError(`${O} is outside the accepted range of 0 to ${H}, inclusive`);return!qe(re)||re===0?0:re}function we(_,O){if(!ye(_))throw new TypeError(`${O} is not a ReadableStream.`)}function Ue(_){return new rt(_)}function je(_,O){_._reader._readRequests.push(O)}function ge(_,O,H){let re=_._reader._readRequests.shift();H?re._closeSteps():re._chunkSteps(O)}function Pe(_){return _._reader._readRequests.length}function Ke(_){let O=_._reader;return!(O===void 0||!$e(O))}class rt{constructor(O){if(X(O,1,"ReadableStreamDefaultReader"),we(O,"First parameter"),xe(O))throw new TypeError("This stream has already been locked for exclusive reading by another reader");M(this,O),this._readRequests=new g}get closed(){return $e(this)?this._closedPromise:m(Ct("closed"))}cancel(O=void 0){return $e(this)?this._ownerReadableStream===void 0?m(w("cancel")):V(this,O):m(Ct("cancel"))}read(){if(!$e(this))return m(Ct("read"));if(this._ownerReadableStream===void 0)return m(w("read from"));let O,H,re=A((de,ve)=>{O=de,H=ve});return Bt(this,{_chunkSteps:de=>O({value:de,done:!1}),_closeSteps:()=>O({value:void 0,done:!0}),_errorSteps:de=>H(de)}),re}releaseLock(){if(!$e(this))throw Ct("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");q(this)}}}Object.defineProperties(rt.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(rt.prototype,r.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});function $e(_){return!h(_)||!Object.prototype.hasOwnProperty.call(_,"_readRequests")?!1:_ instanceof rt}function Bt(_,O){let H=_._ownerReadableStream;H._disturbed=!0,H._state==="closed"?O._closeSteps():H._state==="errored"?O._errorSteps(H._storedError):H._readableStreamController[Le](O)}function Ct(_){return new TypeError(`ReadableStreamDefaultReader.prototype.${_} can only be used on a ReadableStreamDefaultReader`)}let Tt=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype);class Lt{constructor(O,H){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=O,this._preventCancel=H}next(){let O=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?R(this._ongoingPromise,O,O):O(),this._ongoingPromise}return(O){let H=()=>this._returnSteps(O);return this._ongoingPromise?R(this._ongoingPromise,H,H):H()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});let O=this._reader;if(O._ownerReadableStream===void 0)return m(w("iterate"));let H,re,de=A((ve,Ie)=>{H=ve,re=Ie});return Bt(O,{_chunkSteps:ve=>{this._ongoingPromise=void 0,P(()=>H({value:ve,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,q(O),H({value:void 0,done:!0})},_errorSteps:ve=>{this._ongoingPromise=void 0,this._isFinished=!0,q(O),re(ve)}}),de}_returnSteps(O){if(this._isFinished)return Promise.resolve({value:O,done:!0});this._isFinished=!0;let H=this._reader;if(H._ownerReadableStream===void 0)return m(w("finish iterating"));if(!this._preventCancel){let re=V(H,O);return q(H),R(re,()=>({value:O,done:!0}))}return q(H),T({value:O,done:!0})}}let Ot={next(){return $t(this)?this._asyncIteratorImpl.next():m(Xt("next"))},return(_){return $t(this)?this._asyncIteratorImpl.return(_):m(Xt("return"))}};Tt!==void 0&&Object.setPrototypeOf(Ot,Tt);function Nt(_,O){let H=Ue(_),re=new Lt(H,O),de=Object.create(Ot);return de._asyncIteratorImpl=re,de}function $t(_){if(!h(_)||!Object.prototype.hasOwnProperty.call(_,"_asyncIteratorImpl"))return!1;try{return _._asyncIteratorImpl instanceof Lt}catch{return!1}}function Xt(_){return new TypeError(`ReadableStreamAsyncIterator.${_} can only be used on a ReadableSteamAsyncIterator`)}let Ht=Number.isNaN||function(_){return _!==_};function Kt(_){return _.slice()}function lr(_,O,H,re,de){new Uint8Array(_).set(new Uint8Array(H,re,de),O)}function Cr(_){return _}function gr(_){return!1}function qr(_,O,H){if(_.slice)return _.slice(O,H);let re=H-O,de=new ArrayBuffer(re);return lr(de,0,_,O,re),de}function un(_){return!(typeof _!="number"||Ht(_)||_<0)}function Qr(_){let O=qr(_.buffer,_.byteOffset,_.byteOffset+_.byteLength);return new Uint8Array(O)}function Yr(_){let O=_._queue.shift();return _._queueTotalSize-=O.size,_._queueTotalSize<0&&(_._queueTotalSize=0),O.value}function _n(_,O,H){if(!un(H)||H===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");_._queue.push({value:O,size:H}),_._queueTotalSize+=H}function li(_){return _._queue.peek().value}function Mr(_){_._queue=new g,_._queueTotalSize=0}class Nn{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!Jt(this))throw vo("view");return this._view}respond(O){if(!Jt(this))throw vo("respond");if(X(O,1,"respond"),O=te(O,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");gr(this._view.buffer),go(this._associatedReadableByteStreamController,O)}respondWithNewView(O){if(!Jt(this))throw vo("respondWithNewView");if(X(O,1,"respondWithNewView"),!ArrayBuffer.isView(O))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");gr(O.buffer),mo(this._associatedReadableByteStreamController,O)}}Object.defineProperties(Nn.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Nn.prototype,r.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class xt{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!Dt(this))throw br("byobRequest");return Ko(this)}get desiredSize(){if(!Dt(this))throw br("desiredSize");return Oi(this)}close(){if(!Dt(this))throw br("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");let O=this._controlledReadableByteStream._state;if(O!=="readable")throw new TypeError(`The stream (in ${O} state) is not in the readable state and cannot be closed`);Bi(this)}enqueue(O){if(!Dt(this))throw br("enqueue");if(X(O,1,"enqueue"),!ArrayBuffer.isView(O))throw new TypeError("chunk must be an array buffer view");if(O.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(O.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");let H=this._controlledReadableByteStream._state;if(H!=="readable")throw new TypeError(`The stream (in ${H} state) is not in the readable state and cannot be enqueued to`);wn(this,O)}error(O=void 0){if(!Dt(this))throw br("error");Tr(this,O)}[ke](O){Wt(this),Mr(this);let H=this._cancelAlgorithm(O);return yo(this),H}[Le](O){let H=this._controlledReadableByteStream;if(this._queueTotalSize>0){let de=this._queue.shift();this._queueTotalSize-=de.byteLength,ir(this);let ve=new Uint8Array(de.buffer,de.byteOffset,de.byteLength);O._chunkSteps(ve);return}let re=this._autoAllocateChunkSize;if(re!==void 0){let de;try{de=new ArrayBuffer(re)}catch(Ie){O._errorSteps(Ie);return}let ve={buffer:de,bufferByteLength:re,byteOffset:0,byteLength:re,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(ve)}je(H,O),jt(this)}}Object.defineProperties(xt.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(xt.prototype,r.toStringTag,{value:"ReadableByteStreamController",configurable:!0});function Dt(_){return!h(_)||!Object.prototype.hasOwnProperty.call(_,"_controlledReadableByteStream")?!1:_ instanceof xt}function Jt(_){return!h(_)||!Object.prototype.hasOwnProperty.call(_,"_associatedReadableByteStreamController")?!1:_ instanceof Nn}function jt(_){if(!Os(_))return;if(_._pulling){_._pullAgain=!0;return}_._pulling=!0;let O=_._pullAlgorithm();B(O,()=>{_._pulling=!1,_._pullAgain&&(_._pullAgain=!1,jt(_))},H=>{Tr(_,H)})}function Wt(_){er(_),_._pendingPullIntos=new g}function Zt(_,O){let H=!1;_._state==="closed"&&(H=!0);let re=Gt(O);O.readerType==="default"?ge(_,re,H):Ps(_,re,H)}function Gt(_){let O=_.bytesFilled,H=_.elementSize;return new _.viewConstructor(_.buffer,_.byteOffset,O/H)}function Qt(_,O,H,re){_._queue.push({buffer:O,byteOffset:H,byteLength:re}),_._queueTotalSize+=re}function rr(_,O){let H=O.elementSize,re=O.bytesFilled-O.bytesFilled%H,de=Math.min(_._queueTotalSize,O.byteLength-O.bytesFilled),ve=O.bytesFilled+de,Ie=ve-ve%H,Me=de,nt=!1;Ie>re&&(Me=Ie-O.bytesFilled,nt=!0);let at=_._queue;for(;Me>0;){let ct=at.peek(),dt=Math.min(Me,ct.byteLength),Vt=O.byteOffset+O.bytesFilled;lr(O.buffer,Vt,ct.buffer,ct.byteOffset,dt),ct.byteLength===dt?at.shift():(ct.byteOffset+=dt,ct.byteLength-=dt),_._queueTotalSize-=dt,nr(_,dt,O),Me-=dt}return nt}function nr(_,O,H){H.bytesFilled+=O}function ir(_){_._queueTotalSize===0&&_._closeRequested?(yo(_),ht(_._controlledReadableByteStream)):jt(_)}function er(_){_._byobRequest!==null&&(_._byobRequest._associatedReadableByteStreamController=void 0,_._byobRequest._view=null,_._byobRequest=null)}function or(_){for(;_._pendingPullIntos.length>0;){if(_._queueTotalSize===0)return;let O=_._pendingPullIntos.peek();rr(_,O)&&(po(_),Zt(_._controlledReadableByteStream,O))}}function cr(_,O,H){let re=_._controlledReadableByteStream,de=1;O.constructor!==DataView&&(de=O.constructor.BYTES_PER_ELEMENT);let ve=O.constructor,Ie=O.buffer,Me={buffer:Ie,bufferByteLength:Ie.byteLength,byteOffset:O.byteOffset,byteLength:O.byteLength,bytesFilled:0,elementSize:de,viewConstructor:ve,readerType:"byob"};if(_._pendingPullIntos.length>0){_._pendingPullIntos.push(Me),qa(re,H);return}if(re._state==="closed"){let nt=new ve(Me.buffer,Me.byteOffset,0);H._closeSteps(nt);return}if(_._queueTotalSize>0){if(rr(_,Me)){let nt=Gt(Me);ir(_),H._chunkSteps(nt);return}if(_._closeRequested){let nt=new TypeError("Insufficient bytes to fill elements in the given buffer");Tr(_,nt),H._errorSteps(nt);return}}_._pendingPullIntos.push(Me),qa(re,H),jt(_)}function zt(_,O){let H=_._controlledReadableByteStream;if($(H))for(;Wo(H)>0;){let re=po(_);Zt(H,re)}}function tr(_,O,H){if(nr(_,O,H),H.bytesFilled<H.elementSize)return;po(_);let re=H.bytesFilled%H.elementSize;if(re>0){let de=H.byteOffset+H.bytesFilled,ve=qr(H.buffer,de-re,de);Qt(_,ve,0,ve.byteLength)}H.bytesFilled-=re,Zt(_._controlledReadableByteStream,H),or(_)}function Na(_,O){let H=_._pendingPullIntos.peek();er(_),_._controlledReadableByteStream._state==="closed"?zt(_):tr(_,O,H),jt(_)}function po(_){return _._pendingPullIntos.shift()}function Os(_){let O=_._controlledReadableByteStream;return O._state!=="readable"||_._closeRequested||!_._started?!1:!!(Ke(O)&&Pe(O)>0||$(O)&&Wo(O)>0||Oi(_)>0)}function yo(_){_._pullAlgorithm=void 0,_._cancelAlgorithm=void 0}function Bi(_){let O=_._controlledReadableByteStream;if(!(_._closeRequested||O._state!=="readable")){if(_._queueTotalSize>0){_._closeRequested=!0;return}if(_._pendingPullIntos.length>0&&_._pendingPullIntos.peek().bytesFilled>0){let H=new TypeError("Insufficient bytes to fill elements in the given buffer");throw Tr(_,H),H}yo(_),ht(O)}}function wn(_,O){let H=_._controlledReadableByteStream;if(_._closeRequested||H._state!=="readable")return;let re=O.buffer,de=O.byteOffset,ve=O.byteLength,Ie=re;if(_._pendingPullIntos.length>0){let Me=_._pendingPullIntos.peek();gr(Me.buffer),Me.buffer=Me.buffer}if(er(_),Ke(H))if(Pe(H)===0)Qt(_,Ie,de,ve);else{_._pendingPullIntos.length>0&&po(_);let Me=new Uint8Array(Ie,de,ve);ge(H,Me,!1)}else $(H)?(Qt(_,Ie,de,ve),or(_)):Qt(_,Ie,de,ve);jt(_)}function Tr(_,O){let H=_._controlledReadableByteStream;H._state==="readable"&&(Wt(_),Mr(_),yo(_),hr(H,O))}function Ko(_){if(_._byobRequest===null&&_._pendingPullIntos.length>0){let O=_._pendingPullIntos.peek(),H=new Uint8Array(O.buffer,O.byteOffset+O.bytesFilled,O.byteLength-O.bytesFilled),re=Object.create(Nn.prototype);Da(re,_,H),_._byobRequest=re}return _._byobRequest}function Oi(_){let O=_._controlledReadableByteStream._state;return O==="errored"?null:O==="closed"?0:_._strategyHWM-_._queueTotalSize}function go(_,O){let H=_._pendingPullIntos.peek();if(_._controlledReadableByteStream._state==="closed"){if(O!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(O===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(H.bytesFilled+O>H.byteLength)throw new RangeError("bytesWritten out of range")}H.buffer=H.buffer,Na(_,O)}function mo(_,O){let H=_._pendingPullIntos.peek();if(_._controlledReadableByteStream._state==="closed"){if(O.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(O.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(H.byteOffset+H.bytesFilled!==O.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(H.bufferByteLength!==O.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(H.bytesFilled+O.byteLength>H.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");let re=O.byteLength;H.buffer=O.buffer,Na(_,re)}function Ua(_,O,H,re,de,ve,Ie){O._controlledReadableByteStream=_,O._pullAgain=!1,O._pulling=!1,O._byobRequest=null,O._queue=O._queueTotalSize=void 0,Mr(O),O._closeRequested=!1,O._started=!1,O._strategyHWM=ve,O._pullAlgorithm=re,O._cancelAlgorithm=de,O._autoAllocateChunkSize=Ie,O._pendingPullIntos=new g,_._readableStreamController=O;let Me=H();B(T(Me),()=>{O._started=!0,jt(O)},nt=>{Tr(O,nt)})}function xa(_,O,H){let re=Object.create(xt.prototype),de=()=>{},ve=()=>T(void 0),Ie=()=>T(void 0);O.start!==void 0&&(de=()=>O.start(re)),O.pull!==void 0&&(ve=()=>O.pull(re)),O.cancel!==void 0&&(Ie=nt=>O.cancel(nt));let Me=O.autoAllocateChunkSize;if(Me===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");Ua(_,re,de,ve,Ie,H,Me)}function Da(_,O,H){_._associatedReadableByteStreamController=O,_._view=H}function vo(_){return new TypeError(`ReadableStreamBYOBRequest.prototype.${_} can only be used on a ReadableStreamBYOBRequest`)}function br(_){return new TypeError(`ReadableByteStreamController.prototype.${_} can only be used on a ReadableByteStreamController`)}function ja(_){return new G(_)}function qa(_,O){_._reader._readIntoRequests.push(O)}function Ps(_,O,H){let re=_._reader._readIntoRequests.shift();H?re._closeSteps(O):re._chunkSteps(O)}function Wo(_){return _._reader._readIntoRequests.length}function $(_){let O=_._reader;return!(O===void 0||!Z(O))}class G{constructor(O){if(X(O,1,"ReadableStreamBYOBReader"),we(O,"First parameter"),xe(O))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!Dt(O._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");M(this,O),this._readIntoRequests=new g}get closed(){return Z(this)?this._closedPromise:m(be("closed"))}cancel(O=void 0){return Z(this)?this._ownerReadableStream===void 0?m(w("cancel")):V(this,O):m(be("cancel"))}read(O){if(!Z(this))return m(be("read"));if(!ArrayBuffer.isView(O))return m(new TypeError("view must be an array buffer view"));if(O.byteLength===0)return m(new TypeError("view must have non-zero byteLength"));if(O.buffer.byteLength===0)return m(new TypeError("view's buffer must have non-zero byteLength"));if(gr(O.buffer),this._ownerReadableStream===void 0)return m(w("read from"));let H,re,de=A((ve,Ie)=>{H=ve,re=Ie});return ce(this,O,{_chunkSteps:ve=>H({value:ve,done:!1}),_closeSteps:ve=>H({value:ve,done:!0}),_errorSteps:ve=>re(ve)}),de}releaseLock(){if(!Z(this))throw be("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");q(this)}}}Object.defineProperties(G.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(G.prototype,r.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});function Z(_){return!h(_)||!Object.prototype.hasOwnProperty.call(_,"_readIntoRequests")?!1:_ instanceof G}function ce(_,O,H){let re=_._ownerReadableStream;re._disturbed=!0,re._state==="errored"?H._errorSteps(re._storedError):cr(re._readableStreamController,O,H)}function be(_){return new TypeError(`ReadableStreamBYOBReader.prototype.${_} can only be used on a ReadableStreamBYOBReader`)}function Se(_,O){let{highWaterMark:H}=_;if(H===void 0)return O;if(Ht(H)||H<0)throw new RangeError("Invalid highWaterMark");return H}function Ne(_){let{size:O}=_;return O||(()=>1)}function Oe(_,O){Te(_,O);let H=_?.highWaterMark,re=_?.size;return{highWaterMark:H===void 0?void 0:I(H),size:re===void 0?void 0:_t(re,`${O} has member 'size' that`)}}function _t(_,O){return et(_,O),H=>I(_(H))}function ar(_,O){Te(_,O);let H=_?.abort,re=_?.close,de=_?.start,ve=_?.type,Ie=_?.write;return{abort:H===void 0?void 0:Rr(H,_,`${O} has member 'abort' that`),close:re===void 0?void 0:Or(re,_,`${O} has member 'close' that`),start:de===void 0?void 0:ln(de,_,`${O} has member 'start' that`),write:Ie===void 0?void 0:ci(Ie,_,`${O} has member 'write' that`),type:ve}}function Rr(_,O,H){return et(_,H),re=>C(_,O,[re])}function Or(_,O,H){return et(_,H),()=>C(_,O,[])}function ln(_,O,H){return et(_,H),re=>D(_,O,[re])}function ci(_,O,H){return et(_,H),(re,de)=>C(_,O,[re,de])}function Ar(_,O){if(!Li(_))throw new TypeError(`${O} is not a WritableStream.`)}function mr(_){if(typeof _!="object"||_===null)return!1;try{return typeof _.aborted=="boolean"}catch{return!1}}let Pi=typeof AbortController=="function";function En(){if(Pi)return new AbortController}class Gn{constructor(O={},H={}){O===void 0?O=null:N(O,"First parameter");let re=Oe(H,"Second parameter"),de=ar(O,"First parameter");if(Ns(this),de.type!==void 0)throw new RangeError("Invalid type is specified");let ve=Ne(re),Ie=Se(re,1);il(this,de,Ie,ve)}get locked(){if(!Li(this))throw _o("locked");return bo(this)}abort(O=void 0){return Li(this)?bo(this)?m(new TypeError("Cannot abort a stream that already has a writer")):Ma(this,O):m(_o("abort"))}close(){return Li(this)?bo(this)?m(new TypeError("Cannot close a stream that already has a writer")):Un(this)?m(new TypeError("Cannot close an already-closing stream")):Zu(this):m(_o("close"))}getWriter(){if(!Li(this))throw _o("getWriter");return Ls(this)}}Object.defineProperties(Gn.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Gn.prototype,r.toStringTag,{value:"WritableStream",configurable:!0});function Ls(_){return new Go(_)}function Ju(_,O,H,re,de=1,ve=()=>1){let Ie=Object.create(Gn.prototype);Ns(Ie);let Me=Object.create(fi.prototype);return Fs(Ie,Me,_,O,H,re,de,ve),Ie}function Ns(_){_._state="writable",_._storedError=void 0,_._writer=void 0,_._writableStreamController=void 0,_._writeRequests=new g,_._inFlightWriteRequest=void 0,_._closeRequest=void 0,_._inFlightCloseRequest=void 0,_._pendingAbortRequest=void 0,_._backpressure=!1}function Li(_){return!h(_)||!Object.prototype.hasOwnProperty.call(_,"_writableStreamController")?!1:_ instanceof Gn}function bo(_){return _._writer!==void 0}function Ma(_,O){var H;if(_._state==="closed"||_._state==="errored")return T(void 0);_._writableStreamController._abortReason=O,(H=_._writableStreamController._abortController)===null||H===void 0||H.abort();let re=_._state;if(re==="closed"||re==="errored")return T(void 0);if(_._pendingAbortRequest!==void 0)return _._pendingAbortRequest._promise;let de=!1;re==="erroring"&&(de=!0,O=void 0);let ve=A((Ie,Me)=>{_._pendingAbortRequest={_promise:void 0,_resolve:Ie,_reject:Me,_reason:O,_wasAlreadyErroring:de}});return _._pendingAbortRequest._promise=ve,de||xs(_,O),ve}function Zu(_){let O=_._state;if(O==="closed"||O==="errored")return m(new TypeError(`The stream (in ${O} state) is not in the writable state and cannot be closed`));let H=A((de,ve)=>{let Ie={_resolve:de,_reject:ve};_._closeRequest=Ie}),re=_._writer;return re!==void 0&&_._backpressure&&O==="writable"&&Xo(re),ol(_._writableStreamController),H}function el(_){return A((O,H)=>{let re={_resolve:O,_reject:H};_._writeRequests.push(re)})}function Us(_,O){if(_._state==="writable"){xs(_,O);return}Ds(_)}function xs(_,O){let H=_._writableStreamController;_._state="erroring",_._storedError=O;let re=_._writer;re!==void 0&&nl(re,O),!Ch(_)&&H._started&&Ds(_)}function Ds(_){_._state="errored",_._writableStreamController[pe]();let O=_._storedError;if(_._writeRequests.forEach(de=>{de._reject(O)}),_._writeRequests=new g,_._pendingAbortRequest===void 0){Rt(_);return}let H=_._pendingAbortRequest;if(_._pendingAbortRequest=void 0,H._wasAlreadyErroring){H._reject(O),Rt(_);return}let re=_._writableStreamController[se](H._reason);B(re,()=>{H._resolve(),Rt(_)},de=>{H._reject(de),Rt(_)})}function wh(_){_._inFlightWriteRequest._resolve(void 0),_._inFlightWriteRequest=void 0}function js(_,O){_._inFlightWriteRequest._reject(O),_._inFlightWriteRequest=void 0,Us(_,O)}function Eh(_){_._inFlightCloseRequest._resolve(void 0),_._inFlightCloseRequest=void 0,_._state==="erroring"&&(_._storedError=void 0,_._pendingAbortRequest!==void 0&&(_._pendingAbortRequest._resolve(),_._pendingAbortRequest=void 0)),_._state="closed";let O=_._writer;O!==void 0&&$s(O)}function Sh(_,O){_._inFlightCloseRequest._reject(O),_._inFlightCloseRequest=void 0,_._pendingAbortRequest!==void 0&&(_._pendingAbortRequest._reject(O),_._pendingAbortRequest=void 0),Us(_,O)}function Un(_){return!(_._closeRequest===void 0&&_._inFlightCloseRequest===void 0)}function Ch(_){return!(_._inFlightWriteRequest===void 0&&_._inFlightCloseRequest===void 0)}function Th(_){_._inFlightCloseRequest=_._closeRequest,_._closeRequest=void 0}function Ft(_){_._inFlightWriteRequest=_._writeRequests.shift()}function Rt(_){_._closeRequest!==void 0&&(_._closeRequest._reject(_._storedError),_._closeRequest=void 0);let O=_._writer;O!==void 0&&zs(O,_._storedError)}function qs(_,O){let H=_._writer;H!==void 0&&O!==_._backpressure&&(O?ll(H):Xo(H)),_._backpressure=O}class Go{constructor(O){if(X(O,1,"WritableStreamDefaultWriter"),Ar(O,"First parameter"),bo(O))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=O,O._writer=this;let H=O._state;if(H==="writable")!Un(O)&&O._backpressure?xi(this):ul(this),za(this);else if(H==="erroring")di(this,O._storedError),za(this);else if(H==="closed")ul(this),kh(this);else{let re=O._storedError;di(this,re),$a(this,re)}}get closed(){return Ni(this)?this._closedPromise:m(zr("closed"))}get desiredSize(){if(!Ni(this))throw zr("desiredSize");if(this._ownerWritableStream===void 0)throw Ui("desiredSize");return vr(this)}get ready(){return Ni(this)?this._readyPromise:m(zr("ready"))}abort(O=void 0){return Ni(this)?this._ownerWritableStream===void 0?m(Ui("abort")):Rh(this,O):m(zr("abort"))}close(){if(!Ni(this))return m(zr("close"));let O=this._ownerWritableStream;return O===void 0?m(Ui("close")):Un(O)?m(new TypeError("Cannot close an already-closing stream")):tl(this)}releaseLock(){if(!Ni(this))throw zr("releaseLock");this._ownerWritableStream!==void 0&&Fa(this)}write(O=void 0){return Ni(this)?this._ownerWritableStream===void 0?m(Ui("write to")):hi(this,O):m(zr("write"))}}Object.defineProperties(Go.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Go.prototype,r.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});function Ni(_){return!h(_)||!Object.prototype.hasOwnProperty.call(_,"_ownerWritableStream")?!1:_ instanceof Go}function Rh(_,O){let H=_._ownerWritableStream;return Ma(H,O)}function tl(_){let O=_._ownerWritableStream;return Zu(O)}function Ah(_){let O=_._ownerWritableStream,H=O._state;return Un(O)||H==="closed"?T(void 0):H==="errored"?m(O._storedError):tl(_)}function rl(_,O){_._closedPromiseState==="pending"?zs(_,O):Bh(_,O)}function nl(_,O){_._readyPromiseState==="pending"?Hs(_,O):Ks(_,O)}function vr(_){let O=_._ownerWritableStream,H=O._state;return H==="errored"||H==="erroring"?null:H==="closed"?0:Vs(O._writableStreamController)}function Fa(_){let O=_._ownerWritableStream,H=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");nl(_,H),rl(_,H),O._writer=void 0,_._ownerWritableStream=void 0}function hi(_,O){let H=_._ownerWritableStream,re=H._writableStreamController,de=al(re,O);if(H!==_._ownerWritableStream)return m(Ui("write to"));let ve=H._state;if(ve==="errored")return m(H._storedError);if(Un(H)||ve==="closed")return m(new TypeError("The stream is closing or closed and cannot be written to"));if(ve==="erroring")return m(H._storedError);let Ie=el(H);return Xr(re,O,de),Ie}let Ms={};class fi{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!Fr(this))throw qt("abortReason");return this._abortReason}get signal(){if(!Fr(this))throw qt("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(O=void 0){if(!Fr(this))throw qt("error");this._controlledWritableStream._state==="writable"&&Yo(this,O)}[se](O){let H=this._abortAlgorithm(O);return Qo(this),H}[pe](){Mr(this)}}Object.defineProperties(fi.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(fi.prototype,r.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});function Fr(_){return!h(_)||!Object.prototype.hasOwnProperty.call(_,"_controlledWritableStream")?!1:_ instanceof fi}function Fs(_,O,H,re,de,ve,Ie,Me){O._controlledWritableStream=_,_._writableStreamController=O,O._queue=void 0,O._queueTotalSize=void 0,Mr(O),O._abortReason=void 0,O._abortController=En(),O._started=!1,O._strategySizeAlgorithm=Me,O._strategyHWM=Ie,O._writeAlgorithm=re,O._closeAlgorithm=de,O._abortAlgorithm=ve;let nt=xn(O);qs(_,nt);let at=H(),ct=T(at);B(ct,()=>{O._started=!0,Va(O)},dt=>{O._started=!0,Us(_,dt)})}function il(_,O,H,re){let de=Object.create(fi.prototype),ve=()=>{},Ie=()=>T(void 0),Me=()=>T(void 0),nt=()=>T(void 0);O.start!==void 0&&(ve=()=>O.start(de)),O.write!==void 0&&(Ie=at=>O.write(at,de)),O.close!==void 0&&(Me=()=>O.close()),O.abort!==void 0&&(nt=at=>O.abort(at)),Fs(_,de,ve,Ie,Me,nt,H,re)}function Qo(_){_._writeAlgorithm=void 0,_._closeAlgorithm=void 0,_._abortAlgorithm=void 0,_._strategySizeAlgorithm=void 0}function ol(_){_n(_,Ms,0),Va(_)}function al(_,O){try{return _._strategySizeAlgorithm(O)}catch(H){return Vr(_,H),1}}function Vs(_){return _._strategyHWM-_._queueTotalSize}function Xr(_,O,H){try{_n(_,O,H)}catch(de){Vr(_,de);return}let re=_._controlledWritableStream;if(!Un(re)&&re._state==="writable"){let de=xn(_);qs(re,de)}Va(_)}function Va(_){let O=_._controlledWritableStream;if(!_._started||O._inFlightWriteRequest!==void 0)return;if(O._state==="erroring"){Ds(O);return}if(_._queue.length===0)return;let H=li(_);H===Ms?Ih(_):sl(_,H)}function Vr(_,O){_._controlledWritableStream._state==="writable"&&Yo(_,O)}function Ih(_){let O=_._controlledWritableStream;Th(O),Yr(_);let H=_._closeAlgorithm();Qo(_),B(H,()=>{Eh(O)},re=>{Sh(O,re)})}function sl(_,O){let H=_._controlledWritableStream;Ft(H);let re=_._writeAlgorithm(O);B(re,()=>{wh(H);let de=H._state;if(Yr(_),!Un(H)&&de==="writable"){let ve=xn(_);qs(H,ve)}Va(_)},de=>{H._state==="writable"&&Qo(_),js(H,de)})}function xn(_){return Vs(_)<=0}function Yo(_,O){let H=_._controlledWritableStream;Qo(_),xs(H,O)}function _o(_){return new TypeError(`WritableStream.prototype.${_} can only be used on a WritableStream`)}function qt(_){return new TypeError(`WritableStreamDefaultController.prototype.${_} can only be used on a WritableStreamDefaultController`)}function zr(_){return new TypeError(`WritableStreamDefaultWriter.prototype.${_} can only be used on a WritableStreamDefaultWriter`)}function Ui(_){return new TypeError("Cannot "+_+" a stream using a released writer")}function za(_){_._closedPromise=A((O,H)=>{_._closedPromise_resolve=O,_._closedPromise_reject=H,_._closedPromiseState="pending"})}function $a(_,O){za(_),zs(_,O)}function kh(_){za(_),$s(_)}function zs(_,O){_._closedPromise_reject!==void 0&&(E(_._closedPromise),_._closedPromise_reject(O),_._closedPromise_resolve=void 0,_._closedPromise_reject=void 0,_._closedPromiseState="rejected")}function Bh(_,O){$a(_,O)}function $s(_){_._closedPromise_resolve!==void 0&&(_._closedPromise_resolve(void 0),_._closedPromise_resolve=void 0,_._closedPromise_reject=void 0,_._closedPromiseState="resolved")}function xi(_){_._readyPromise=A((O,H)=>{_._readyPromise_resolve=O,_._readyPromise_reject=H}),_._readyPromiseState="pending"}function di(_,O){xi(_),Hs(_,O)}function ul(_){xi(_),Xo(_)}function Hs(_,O){_._readyPromise_reject!==void 0&&(E(_._readyPromise),_._readyPromise_reject(O),_._readyPromise_resolve=void 0,_._readyPromise_reject=void 0,_._readyPromiseState="rejected")}function ll(_){xi(_)}function Ks(_,O){di(_,O)}function Xo(_){_._readyPromise_resolve!==void 0&&(_._readyPromise_resolve(void 0),_._readyPromise_resolve=void 0,_._readyPromise_reject=void 0,_._readyPromiseState="fulfilled")}let Ws=typeof DOMException<"u"?DOMException:void 0;function Oh(_){if(!(typeof _=="function"||typeof _=="object"))return!1;try{return new _,!0}catch{return!1}}function Gs(){let _=function(O,H){this.message=O||"",this.name=H||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return _.prototype=Object.create(Error.prototype),Object.defineProperty(_.prototype,"constructor",{value:_,writable:!0,configurable:!0}),_}let Qs=Oh(Ws)?Ws:Gs();function cl(_,O,H,re,de,ve){let Ie=Ue(_),Me=Ls(O);_._disturbed=!0;let nt=!1,at=T(void 0);return A((ct,dt)=>{let Vt;if(ve!==void 0){if(Vt=()=>{let ze=new Qs("Aborted","AbortError"),st=[];re||st.push(()=>O._state==="writable"?Ma(O,ze):T(void 0)),de||st.push(()=>_._state==="readable"?He(_,ze):T(void 0)),Jr(()=>Promise.all(st.map(bt=>bt())),!0,ze)},ve.aborted){Vt();return}ve.addEventListener("abort",Vt)}function Lr(){return A((ze,st)=>{function bt(Nr){Nr?ze():S(jn(),bt,st)}bt(!1)})}function jn(){return nt?T(!0):S(Me._readyPromise,()=>A((ze,st)=>{Bt(Ie,{_chunkSteps:bt=>{at=S(hi(Me,bt),void 0,i),ze(!1)},_closeSteps:()=>ze(!0),_errorSteps:st})}))}if($r(_,Ie._closedPromise,ze=>{re?cn(!0,ze):Jr(()=>Ma(O,ze),!0,ze)}),$r(O,Me._closedPromise,ze=>{de?cn(!0,ze):Jr(()=>He(_,ze),!0,ze)}),_r(_,Ie._closedPromise,()=>{H?cn():Jr(()=>Ah(Me))}),Un(O)||O._state==="closed"){let ze=new TypeError("the destination writable stream closed before all data could be piped to it");de?cn(!0,ze):Jr(()=>He(_,ze),!0,ze)}E(Lr());function Tn(){let ze=at;return S(at,()=>ze!==at?Tn():void 0)}function $r(ze,st,bt){ze._state==="errored"?bt(ze._storedError):p(st,bt)}function _r(ze,st,bt){ze._state==="closed"?bt():k(st,bt)}function Jr(ze,st,bt){if(nt)return;nt=!0,O._state==="writable"&&!Un(O)?k(Tn(),Nr):Nr();function Nr(){B(ze(),()=>$i(st,bt),Y=>$i(!0,Y))}}function cn(ze,st){nt||(nt=!0,O._state==="writable"&&!Un(O)?k(Tn(),()=>$i(ze,st)):$i(ze,st))}function $i(ze,st){Fa(Me),q(Ie),ve!==void 0&&ve.removeEventListener("abort",Vt),ze?dt(st):ct(void 0)}})}class Di{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Ir(this))throw Ka("desiredSize");return Ys(this)}close(){if(!Ir(this))throw Ka("close");if(!So(this))throw new TypeError("The stream is not in a state that permits close");Eo(this)}enqueue(O=void 0){if(!Ir(this))throw Ka("enqueue");if(!So(this))throw new TypeError("The stream is not in a state that permits enqueue");return Ha(this,O)}error(O=void 0){if(!Ir(this))throw Ka("error");pi(this,O)}[ke](O){Mr(this);let H=this._cancelAlgorithm(O);return Jo(this),H}[Le](O){let H=this._controlledReadableStream;if(this._queue.length>0){let re=Yr(this);this._closeRequested&&this._queue.length===0?(Jo(this),ht(H)):ji(this),O._chunkSteps(re)}else je(H,O),ji(this)}}Object.defineProperties(Di.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Di.prototype,r.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});function Ir(_){return!h(_)||!Object.prototype.hasOwnProperty.call(_,"_controlledReadableStream")?!1:_ instanceof Di}function ji(_){if(!wo(_))return;if(_._pulling){_._pullAgain=!0;return}_._pulling=!0;let O=_._pullAlgorithm();B(O,()=>{_._pulling=!1,_._pullAgain&&(_._pullAgain=!1,ji(_))},H=>{pi(_,H)})}function wo(_){let O=_._controlledReadableStream;return!So(_)||!_._started?!1:!!(xe(O)&&Pe(O)>0||Ys(_)>0)}function Jo(_){_._pullAlgorithm=void 0,_._cancelAlgorithm=void 0,_._strategySizeAlgorithm=void 0}function Eo(_){if(!So(_))return;let O=_._controlledReadableStream;_._closeRequested=!0,_._queue.length===0&&(Jo(_),ht(O))}function Ha(_,O){if(!So(_))return;let H=_._controlledReadableStream;if(xe(H)&&Pe(H)>0)ge(H,O,!1);else{let re;try{re=_._strategySizeAlgorithm(O)}catch(de){throw pi(_,de),de}try{_n(_,O,re)}catch(de){throw pi(_,de),de}}ji(_)}function pi(_,O){let H=_._controlledReadableStream;H._state==="readable"&&(Mr(_),Jo(_),hr(H,O))}function Ys(_){let O=_._controlledReadableStream._state;return O==="errored"?null:O==="closed"?0:_._strategyHWM-_._queueTotalSize}function Ph(_){return!wo(_)}function So(_){let O=_._controlledReadableStream._state;return!_._closeRequested&&O==="readable"}function qi(_,O,H,re,de,ve,Ie){O._controlledReadableStream=_,O._queue=void 0,O._queueTotalSize=void 0,Mr(O),O._started=!1,O._closeRequested=!1,O._pullAgain=!1,O._pulling=!1,O._strategySizeAlgorithm=Ie,O._strategyHWM=ve,O._pullAlgorithm=re,O._cancelAlgorithm=de,_._readableStreamController=O;let Me=H();B(T(Me),()=>{O._started=!0,ji(O)},nt=>{pi(O,nt)})}function Lh(_,O,H,re){let de=Object.create(Di.prototype),ve=()=>{},Ie=()=>T(void 0),Me=()=>T(void 0);O.start!==void 0&&(ve=()=>O.start(de)),O.pull!==void 0&&(Ie=()=>O.pull(de)),O.cancel!==void 0&&(Me=nt=>O.cancel(nt)),qi(_,de,ve,Ie,Me,H,re)}function Ka(_){return new TypeError(`ReadableStreamDefaultController.prototype.${_} can only be used on a ReadableStreamDefaultController`)}function Xs(_,O){return Dt(_._readableStreamController)?yi(_):hl(_)}function hl(_,O){let H=Ue(_),re=!1,de=!1,ve=!1,Ie=!1,Me,nt,at,ct,dt,Vt=A(_r=>{dt=_r});function Lr(){return re?(de=!0,T(void 0)):(re=!0,Bt(H,{_chunkSteps:_r=>{P(()=>{de=!1;let Jr=_r,cn=_r;ve||Ha(at._readableStreamController,Jr),Ie||Ha(ct._readableStreamController,cn),re=!1,de&&Lr()})},_closeSteps:()=>{re=!1,ve||Eo(at._readableStreamController),Ie||Eo(ct._readableStreamController),(!ve||!Ie)&&dt(void 0)},_errorSteps:()=>{re=!1}}),T(void 0))}function jn(_r){if(ve=!0,Me=_r,Ie){let Jr=Kt([Me,nt]),cn=He(_,Jr);dt(cn)}return Vt}function Tn(_r){if(Ie=!0,nt=_r,ve){let Jr=Kt([Me,nt]),cn=He(_,Jr);dt(cn)}return Vt}function $r(){}return at=Dn($r,Lr,jn),ct=Dn($r,Lr,Tn),p(H._closedPromise,_r=>{pi(at._readableStreamController,_r),pi(ct._readableStreamController,_r),(!ve||!Ie)&&dt(void 0)}),[at,ct]}function yi(_){let O=Ue(_),H=!1,re=!1,de=!1,ve=!1,Ie=!1,Me,nt,at,ct,dt,Vt=A(ze=>{dt=ze});function Lr(ze){p(ze._closedPromise,st=>{ze===O&&(Tr(at._readableStreamController,st),Tr(ct._readableStreamController,st),(!ve||!Ie)&&dt(void 0))})}function jn(){Z(O)&&(q(O),O=Ue(_),Lr(O)),Bt(O,{_chunkSteps:ze=>{P(()=>{re=!1,de=!1;let st=ze,bt=ze;if(!ve&&!Ie)try{bt=Qr(ze)}catch(Nr){Tr(at._readableStreamController,Nr),Tr(ct._readableStreamController,Nr),dt(He(_,Nr));return}ve||wn(at._readableStreamController,st),Ie||wn(ct._readableStreamController,bt),H=!1,re?$r():de&&_r()})},_closeSteps:()=>{H=!1,ve||Bi(at._readableStreamController),Ie||Bi(ct._readableStreamController),at._readableStreamController._pendingPullIntos.length>0&&go(at._readableStreamController,0),ct._readableStreamController._pendingPullIntos.length>0&&go(ct._readableStreamController,0),(!ve||!Ie)&&dt(void 0)},_errorSteps:()=>{H=!1}})}function Tn(ze,st){$e(O)&&(q(O),O=ja(_),Lr(O));let bt=st?ct:at,Nr=st?at:ct;ce(O,ze,{_chunkSteps:Y=>{P(()=>{re=!1,de=!1;let Rn=st?Ie:ve;if(st?ve:Ie)Rn||mo(bt._readableStreamController,Y);else{let Qn;try{Qn=Qr(Y)}catch(Hr){Tr(bt._readableStreamController,Hr),Tr(Nr._readableStreamController,Hr),dt(He(_,Hr));return}Rn||mo(bt._readableStreamController,Y),wn(Nr._readableStreamController,Qn)}H=!1,re?$r():de&&_r()})},_closeSteps:Y=>{H=!1;let Rn=st?Ie:ve,Qn=st?ve:Ie;Rn||Bi(bt._readableStreamController),Qn||Bi(Nr._readableStreamController),Y!==void 0&&(Rn||mo(bt._readableStreamController,Y),!Qn&&Nr._readableStreamController._pendingPullIntos.length>0&&go(Nr._readableStreamController,0)),(!Rn||!Qn)&&dt(void 0)},_errorSteps:()=>{H=!1}})}function $r(){if(H)return re=!0,T(void 0);H=!0;let ze=Ko(at._readableStreamController);return ze===null?jn():Tn(ze._view,!1),T(void 0)}function _r(){if(H)return de=!0,T(void 0);H=!0;let ze=Ko(ct._readableStreamController);return ze===null?jn():Tn(ze._view,!0),T(void 0)}function Jr(ze){if(ve=!0,Me=ze,Ie){let st=Kt([Me,nt]),bt=He(_,st);dt(bt)}return Vt}function cn(ze){if(Ie=!0,nt=ze,ve){let st=Kt([Me,nt]),bt=He(_,st);dt(bt)}return Vt}function $i(){}return at=he($i,$r,Jr),ct=he($i,_r,cn),Lr(O),[at,ct]}function Wa(_,O){Te(_,O);let H=_,re=H?.autoAllocateChunkSize,de=H?.cancel,ve=H?.pull,Ie=H?.start,Me=H?.type;return{autoAllocateChunkSize:re===void 0?void 0:te(re,`${O} has member 'autoAllocateChunkSize' that`),cancel:de===void 0?void 0:Nh(de,H,`${O} has member 'cancel' that`),pull:ve===void 0?void 0:Uh(ve,H,`${O} has member 'pull' that`),start:Ie===void 0?void 0:xh(Ie,H,`${O} has member 'start' that`),type:Me===void 0?void 0:Co(Me,`${O} has member 'type' that`)}}function Nh(_,O,H){return et(_,H),re=>C(_,O,[re])}function Uh(_,O,H){return et(_,H),re=>C(_,O,[re])}function xh(_,O,H){return et(_,H),re=>D(_,O,[re])}function Co(_,O){if(_=`${_}`,_!=="bytes")throw new TypeError(`${O} '${_}' is not a valid enumeration value for ReadableStreamType`);return _}function Sn(_,O){Te(_,O);let H=_?.mode;return{mode:H===void 0?void 0:fl(H,`${O} has member 'mode' that`)}}function fl(_,O){if(_=`${_}`,_!=="byob")throw new TypeError(`${O} '${_}' is not a valid enumeration value for ReadableStreamReaderMode`);return _}function Dh(_,O){return Te(_,O),{preventCancel:!!_?.preventCancel}}function dl(_,O){Te(_,O);let H=_?.preventAbort,re=_?.preventCancel,de=_?.preventClose,ve=_?.signal;return ve!==void 0&&jh(ve,`${O} has member 'signal' that`),{preventAbort:!!H,preventCancel:!!re,preventClose:!!de,signal:ve}}function jh(_,O){if(!mr(_))throw new TypeError(`${O} is not an AbortSignal.`)}function qh(_,O){Te(_,O);let H=_?.readable;Q(H,"readable","ReadableWritablePair"),we(H,`${O} has member 'readable' that`);let re=_?.writable;return Q(re,"writable","ReadableWritablePair"),Ar(re,`${O} has member 'writable' that`),{readable:H,writable:re}}class gi{constructor(O={},H={}){O===void 0?O=null:N(O,"First parameter");let re=Oe(H,"Second parameter"),de=Wa(O,"First parameter");if(me(this),de.type==="bytes"){if(re.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");let ve=Se(re,0);xa(this,de,ve)}else{let ve=Ne(re),Ie=Se(re,1);Lh(this,de,Ie,ve)}}get locked(){if(!ye(this))throw gt("locked");return xe(this)}cancel(O=void 0){return ye(this)?xe(this)?m(new TypeError("Cannot cancel a stream that already has a reader")):He(this,O):m(gt("cancel"))}getReader(O=void 0){if(!ye(this))throw gt("getReader");return Sn(O,"First parameter").mode===void 0?Ue(this):ja(this)}pipeThrough(O,H={}){if(!ye(this))throw gt("pipeThrough");X(O,1,"pipeThrough");let re=qh(O,"First parameter"),de=dl(H,"Second parameter");if(xe(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(bo(re.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");let ve=cl(this,re.writable,de.preventClose,de.preventAbort,de.preventCancel,de.signal);return E(ve),re.readable}pipeTo(O,H={}){if(!ye(this))return m(gt("pipeTo"));if(O===void 0)return m("Parameter 1 is required in 'pipeTo'.");if(!Li(O))return m(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let re;try{re=dl(H,"Second parameter")}catch(de){return m(de)}return xe(this)?m(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):bo(O)?m(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):cl(this,O,re.preventClose,re.preventAbort,re.preventCancel,re.signal)}tee(){if(!ye(this))throw gt("tee");let O=Xs(this);return Kt(O)}values(O=void 0){if(!ye(this))throw gt("values");let H=Dh(O,"First parameter");return Nt(this,H.preventCancel)}}Object.defineProperties(gi.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(gi.prototype,r.toStringTag,{value:"ReadableStream",configurable:!0}),typeof r.asyncIterator=="symbol"&&Object.defineProperty(gi.prototype,r.asyncIterator,{value:gi.prototype.values,writable:!0,configurable:!0});function Dn(_,O,H,re=1,de=()=>1){let ve=Object.create(gi.prototype);me(ve);let Ie=Object.create(Di.prototype);return qi(ve,Ie,_,O,H,re,de),ve}function he(_,O,H){let re=Object.create(gi.prototype);me(re);let de=Object.create(xt.prototype);return Ua(re,de,_,O,H,0,void 0),re}function me(_){_._state="readable",_._reader=void 0,_._storedError=void 0,_._disturbed=!1}function ye(_){return!h(_)||!Object.prototype.hasOwnProperty.call(_,"_readableStreamController")?!1:_ instanceof gi}function xe(_){return _._reader!==void 0}function He(_,O){if(_._disturbed=!0,_._state==="closed")return T(void 0);if(_._state==="errored")return m(_._storedError);ht(_);let H=_._reader;H!==void 0&&Z(H)&&(H._readIntoRequests.forEach(de=>{de._closeSteps(void 0)}),H._readIntoRequests=new g);let re=_._readableStreamController[ke](O);return R(re,i)}function ht(_){_._state="closed";let O=_._reader;O!==void 0&&(ue(O),$e(O)&&(O._readRequests.forEach(H=>{H._closeSteps()}),O._readRequests=new g))}function hr(_,O){_._state="errored",_._storedError=O;let H=_._reader;H!==void 0&&(F(H,O),$e(H)?(H._readRequests.forEach(re=>{re._errorSteps(O)}),H._readRequests=new g):(H._readIntoRequests.forEach(re=>{re._errorSteps(O)}),H._readIntoRequests=new g))}function gt(_){return new TypeError(`ReadableStream.prototype.${_} can only be used on a ReadableStream`)}function Ga(_,O){Te(_,O);let H=_?.highWaterMark;return Q(H,"highWaterMark","QueuingStrategyInit"),{highWaterMark:I(H)}}let pl=_=>_.byteLength;try{Object.defineProperty(pl,"name",{value:"size",configurable:!0})}catch{}class Pr{constructor(O){X(O,1,"ByteLengthQueuingStrategy"),O=Ga(O,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=O.highWaterMark}get highWaterMark(){if(!yl(this))throw Zo("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!yl(this))throw Zo("size");return pl}}Object.defineProperties(Pr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Pr.prototype,r.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});function Zo(_){return new TypeError(`ByteLengthQueuingStrategy.prototype.${_} can only be used on a ByteLengthQueuingStrategy`)}function yl(_){return!h(_)||!Object.prototype.hasOwnProperty.call(_,"_byteLengthQueuingStrategyHighWaterMark")?!1:_ instanceof Pr}let Mi=()=>1;try{Object.defineProperty(Mi,"name",{value:"size",configurable:!0})}catch{}class Fi{constructor(O){X(O,1,"CountQueuingStrategy"),O=Ga(O,"First parameter"),this._countQueuingStrategyHighWaterMark=O.highWaterMark}get highWaterMark(){if(!wt(this))throw ea("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!wt(this))throw ea("size");return Mi}}Object.defineProperties(Fi.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Fi.prototype,r.toStringTag,{value:"CountQueuingStrategy",configurable:!0});function ea(_){return new TypeError(`CountQueuingStrategy.prototype.${_} can only be used on a CountQueuingStrategy`)}function wt(_){return!h(_)||!Object.prototype.hasOwnProperty.call(_,"_countQueuingStrategyHighWaterMark")?!1:_ instanceof Fi}function Mh(_,O){Te(_,O);let H=_?.flush,re=_?.readableType,de=_?.start,ve=_?.transform,Ie=_?.writableType;return{flush:H===void 0?void 0:gl(H,_,`${O} has member 'flush' that`),readableType:re,start:de===void 0?void 0:Qa(de,_,`${O} has member 'start' that`),transform:ve===void 0?void 0:Fh(ve,_,`${O} has member 'transform' that`),writableType:Ie}}function gl(_,O,H){return et(_,H),re=>C(_,O,[re])}function Qa(_,O,H){return et(_,H),re=>D(_,O,[re])}function Fh(_,O,H){return et(_,H),(re,de)=>C(_,O,[re,de])}class Ya{constructor(O={},H={},re={}){O===void 0&&(O=null);let de=Oe(H,"Second parameter"),ve=Oe(re,"Third parameter"),Ie=Mh(O,"First parameter");if(Ie.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(Ie.writableType!==void 0)throw new RangeError("Invalid writableType specified");let Me=Se(ve,0),nt=Ne(ve),at=Se(de,1),ct=Ne(de),dt,Vt=A(Lr=>{dt=Lr});Vh(this,Vt,at,ct,Me,nt),Xa(this,Ie),Ie.start!==void 0?dt(Ie.start(this._transformStreamController)):dt(void 0)}get readable(){if(!ta(this))throw vl("readable");return this._readable}get writable(){if(!ta(this))throw vl("writable");return this._writable}}Object.defineProperties(Ya.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Ya.prototype,r.toStringTag,{value:"TransformStream",configurable:!0});function Vh(_,O,H,re,de,ve){function Ie(){return O}function Me(Vt){return $h(_,Vt)}function nt(Vt){return Hh(_,Vt)}function at(){return Ja(_)}_._writable=Ju(Ie,Me,at,nt,H,re);function ct(){return Za(_)}function dt(Vt){return Vi(_,Vt),T(void 0)}_._readable=Dn(Ie,ct,dt,de,ve),_._backpressure=void 0,_._backpressureChangePromise=void 0,_._backpressureChangePromise_resolve=void 0,ra(_,!0),_._transformStreamController=void 0}function ta(_){return!h(_)||!Object.prototype.hasOwnProperty.call(_,"_transformStreamController")?!1:_ instanceof Ya}function Cn(_,O){pi(_._readable._readableStreamController,O),Vi(_,O)}function Vi(_,O){Js(_._transformStreamController),Vr(_._writable._writableStreamController,O),_._backpressure&&ra(_,!1)}function ra(_,O){_._backpressureChangePromise!==void 0&&_._backpressureChangePromise_resolve(),_._backpressureChangePromise=A(H=>{_._backpressureChangePromise_resolve=H}),_._backpressure=O}class mi{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!na(this))throw Ro("desiredSize");let O=this._controlledTransformStream._readable._readableStreamController;return Ys(O)}enqueue(O=void 0){if(!na(this))throw Ro("enqueue");To(this,O)}error(O=void 0){if(!na(this))throw Ro("error");zi(this,O)}terminate(){if(!na(this))throw Ro("terminate");zh(this)}}Object.defineProperties(mi.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(mi.prototype,r.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});function na(_){return!h(_)||!Object.prototype.hasOwnProperty.call(_,"_controlledTransformStream")?!1:_ instanceof mi}function ml(_,O,H,re){O._controlledTransformStream=_,_._transformStreamController=O,O._transformAlgorithm=H,O._flushAlgorithm=re}function Xa(_,O){let H=Object.create(mi.prototype),re=ve=>{try{return To(H,ve),T(void 0)}catch(Ie){return m(Ie)}},de=()=>T(void 0);O.transform!==void 0&&(re=ve=>O.transform(ve,H)),O.flush!==void 0&&(de=()=>O.flush(H)),ml(_,H,re,de)}function Js(_){_._transformAlgorithm=void 0,_._flushAlgorithm=void 0}function To(_,O){let H=_._controlledTransformStream,re=H._readable._readableStreamController;if(!So(re))throw new TypeError("Readable side is not in a state that permits enqueue");try{Ha(re,O)}catch(de){throw Vi(H,de),H._readable._storedError}Ph(re)!==H._backpressure&&ra(H,!0)}function zi(_,O){Cn(_._controlledTransformStream,O)}function ia(_,O){let H=_._transformAlgorithm(O);return R(H,void 0,re=>{throw Cn(_._controlledTransformStream,re),re})}function zh(_){let O=_._controlledTransformStream,H=O._readable._readableStreamController;Eo(H);let re=new TypeError("TransformStream terminated");Vi(O,re)}function $h(_,O){let H=_._transformStreamController;if(_._backpressure){let re=_._backpressureChangePromise;return R(re,()=>{let de=_._writable;if(de._state==="erroring")throw de._storedError;return ia(H,O)})}return ia(H,O)}function Hh(_,O){return Cn(_,O),T(void 0)}function Ja(_){let O=_._readable,H=_._transformStreamController,re=H._flushAlgorithm();return Js(H),R(re,()=>{if(O._state==="errored")throw O._storedError;Eo(O._readableStreamController)},de=>{throw Cn(_,de),O._storedError})}function Za(_){return ra(_,!1),_._backpressureChangePromise}function Ro(_){return new TypeError(`TransformStreamDefaultController.prototype.${_} can only be used on a TransformStreamDefaultController`)}function vl(_){return new TypeError(`TransformStream.prototype.${_} can only be used on a TransformStream`)}t.ByteLengthQueuingStrategy=Pr,t.CountQueuingStrategy=Fi,t.ReadableByteStreamController=xt,t.ReadableStream=gi,t.ReadableStreamBYOBReader=G,t.ReadableStreamBYOBRequest=Nn,t.ReadableStreamDefaultController=Di,t.ReadableStreamDefaultReader=rt,t.TransformStream=Ya,t.TransformStreamDefaultController=mi,t.WritableStream=Gn,t.WritableStreamDefaultController=fi,t.WritableStreamDefaultWriter=Go,Object.defineProperty(t,"__esModule",{value:!0})})}),rI=Qe(()=>{if(!globalThis.ReadableStream)try{let e=bs("process"),{emitWarning:n}=e;try{e.emitWarning=()=>{},Object.assign(globalThis,bs("stream/web")),e.emitWarning=n}catch(t){throw e.emitWarning=n,t}}catch{Object.assign(globalThis,tI())}try{let{Blob:e}=bs("buffer");e&&!e.prototype.stream&&(e.prototype.stream=function(n){let t=0,r=this;return new ReadableStream({type:"bytes",async pull(i){let s=await r.slice(t,Math.min(r.size,t+65536)).arrayBuffer();t+=s.byteLength,i.enqueue(new Uint8Array(s)),t===r.size&&i.close()}})})}catch{}}),nI=Qe(e=>{e.read=function(n,t,r,i,s){var u,h,c=s*8-i-1,a=(1<<c)-1,d=a>>1,f=-7,y=r?s-1:0,A=r?-1:1,T=n[t+y];for(y+=A,u=T&(1<<-f)-1,T>>=-f,f+=c;f>0;u=u*256+n[t+y],y+=A,f-=8);for(h=u&(1<<-f)-1,u>>=-f,f+=i;f>0;h=h*256+n[t+y],y+=A,f-=8);if(u===0)u=1-d;else{if(u===a)return h?NaN:(T?-1:1)*(1/0);h=h+Math.pow(2,i),u=u-d}return(T?-1:1)*h*Math.pow(2,u-i)},e.write=function(n,t,r,i,s,u){var h,c,a,d=u*8-s-1,f=(1<<d)-1,y=f>>1,A=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,T=i?0:u-1,m=i?1:-1,S=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(c=isNaN(t)?1:0,h=f):(h=Math.floor(Math.log(t)/Math.LN2),t*(a=Math.pow(2,-h))<1&&(h--,a*=2),h+y>=1?t+=A/a:t+=A*Math.pow(2,1-y),t*a>=2&&(h++,a/=2),h+y>=f?(c=0,h=f):h+y>=1?(c=(t*a-1)*Math.pow(2,s),h=h+y):(c=t*Math.pow(2,y-1)*Math.pow(2,s),h=0));s>=8;n[r+T]=c&255,T+=m,c/=256,s-=8);for(h=h<<s|c,d+=s;d>0;n[r+T]=h&255,T+=m,h/=256,d-=8);n[r+T-m]|=S*128}}),iI=Qe((e,n)=>{"use strict";n.exports=r;var t=nI();function r(w){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(w)?w:new Uint8Array(w||0),this.pos=0,this.type=0,this.length=this.buf.length}r.Varint=0,r.Fixed64=1,r.Bytes=2,r.Fixed32=5;var i=65536*65536,s=1/i,u=12,h=typeof TextDecoder>"u"?null:new TextDecoder("utf8");r.prototype={destroy:function(){this.buf=null},readFields:function(w,U,j){for(j=j||this.length;this.pos<j;){var L=this.readVarint(),F=L>>3,ee=this.pos;this.type=L&7,w(F,U,this),this.pos===ee&&this.skip(L)}return U},readMessage:function(w,U){return this.readFields(w,U,this.readVarint()+this.pos)},readFixed32:function(){var w=C(this.buf,this.pos);return this.pos+=4,w},readSFixed32:function(){var w=g(this.buf,this.pos);return this.pos+=4,w},readFixed64:function(){var w=C(this.buf,this.pos)+C(this.buf,this.pos+4)*i;return this.pos+=8,w},readSFixed64:function(){var w=C(this.buf,this.pos)+g(this.buf,this.pos+4)*i;return this.pos+=8,w},readFloat:function(){var w=t.read(this.buf,this.pos,!0,23,4);return this.pos+=4,w},readDouble:function(){var w=t.read(this.buf,this.pos,!0,52,8);return this.pos+=8,w},readVarint:function(w){var U=this.buf,j,L;return L=U[this.pos++],j=L&127,L<128||(L=U[this.pos++],j|=(L&127)<<7,L<128)||(L=U[this.pos++],j|=(L&127)<<14,L<128)||(L=U[this.pos++],j|=(L&127)<<21,L<128)?j:(L=U[this.pos],j|=(L&15)<<28,c(j,w,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var w=this.readVarint();return w%2===1?(w+1)/-2:w/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var w=this.readVarint()+this.pos,U=this.pos;return this.pos=w,w-U>=u&&h?V(this.buf,U,w):M(this.buf,U,w)},readBytes:function(){var w=this.readVarint()+this.pos,U=this.buf.subarray(this.pos,w);return this.pos=w,U},readPackedVarint:function(w,U){if(this.type!==r.Bytes)return w.push(this.readVarint(U));var j=a(this);for(w=w||[];this.pos<j;)w.push(this.readVarint(U));return w},readPackedSVarint:function(w){if(this.type!==r.Bytes)return w.push(this.readSVarint());var U=a(this);for(w=w||[];this.pos<U;)w.push(this.readSVarint());return w},readPackedBoolean:function(w){if(this.type!==r.Bytes)return w.push(this.readBoolean());var U=a(this);for(w=w||[];this.pos<U;)w.push(this.readBoolean());return w},readPackedFloat:function(w){if(this.type!==r.Bytes)return w.push(this.readFloat());var U=a(this);for(w=w||[];this.pos<U;)w.push(this.readFloat());return w},readPackedDouble:function(w){if(this.type!==r.Bytes)return w.push(this.readDouble());var U=a(this);for(w=w||[];this.pos<U;)w.push(this.readDouble());return w},readPackedFixed32:function(w){if(this.type!==r.Bytes)return w.push(this.readFixed32());var U=a(this);for(w=w||[];this.pos<U;)w.push(this.readFixed32());return w},readPackedSFixed32:function(w){if(this.type!==r.Bytes)return w.push(this.readSFixed32());var U=a(this);for(w=w||[];this.pos<U;)w.push(this.readSFixed32());return w},readPackedFixed64:function(w){if(this.type!==r.Bytes)return w.push(this.readFixed64());var U=a(this);for(w=w||[];this.pos<U;)w.push(this.readFixed64());return w},readPackedSFixed64:function(w){if(this.type!==r.Bytes)return w.push(this.readSFixed64());var U=a(this);for(w=w||[];this.pos<U;)w.push(this.readSFixed64());return w},skip:function(w){var U=w&7;if(U===r.Varint)for(;this.buf[this.pos++]>127;);else if(U===r.Bytes)this.pos=this.readVarint()+this.pos;else if(U===r.Fixed32)this.pos+=4;else if(U===r.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+U)},writeTag:function(w,U){this.writeVarint(w<<3|U)},realloc:function(w){for(var U=this.length||16;U<this.pos+w;)U*=2;if(U!==this.length){var j=new Uint8Array(U);j.set(this.buf),this.buf=j,this.length=U}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(w){this.realloc(4),v(this.buf,w,this.pos),this.pos+=4},writeSFixed32:function(w){this.realloc(4),v(this.buf,w,this.pos),this.pos+=4},writeFixed64:function(w){this.realloc(8),v(this.buf,w&-1,this.pos),v(this.buf,Math.floor(w*s),this.pos+4),this.pos+=8},writeSFixed64:function(w){this.realloc(8),v(this.buf,w&-1,this.pos),v(this.buf,Math.floor(w*s),this.pos+4),this.pos+=8},writeVarint:function(w){if(w=+w||0,w>268435455||w<0){f(w,this);return}this.realloc(4),this.buf[this.pos++]=w&127|(w>127?128:0),!(w<=127)&&(this.buf[this.pos++]=(w>>>=7)&127|(w>127?128:0),!(w<=127)&&(this.buf[this.pos++]=(w>>>=7)&127|(w>127?128:0),!(w<=127)&&(this.buf[this.pos++]=w>>>7&127)))},writeSVarint:function(w){this.writeVarint(w<0?-w*2-1:w*2)},writeBoolean:function(w){this.writeVarint(!!w)},writeString:function(w){w=String(w),this.realloc(w.length*4),this.pos++;var U=this.pos;this.pos=q(this.buf,w,this.pos);var j=this.pos-U;j>=128&&T(U,j,this),this.pos=U-1,this.writeVarint(j),this.pos+=j},writeFloat:function(w){this.realloc(4),t.write(this.buf,w,this.pos,!0,23,4),this.pos+=4},writeDouble:function(w){this.realloc(8),t.write(this.buf,w,this.pos,!0,52,8),this.pos+=8},writeBytes:function(w){var U=w.length;this.writeVarint(U),this.realloc(U);for(var j=0;j<U;j++)this.buf[this.pos++]=w[j]},writeRawMessage:function(w,U){this.pos++;var j=this.pos;w(U,this);var L=this.pos-j;L>=128&&T(j,L,this),this.pos=j-1,this.writeVarint(L),this.pos+=L},writeMessage:function(w,U,j){this.writeTag(w,r.Bytes),this.writeRawMessage(U,j)},writePackedVarint:function(w,U){U.length&&this.writeMessage(w,m,U)},writePackedSVarint:function(w,U){U.length&&this.writeMessage(w,S,U)},writePackedBoolean:function(w,U){U.length&&this.writeMessage(w,p,U)},writePackedFloat:function(w,U){U.length&&this.writeMessage(w,B,U)},writePackedDouble:function(w,U){U.length&&this.writeMessage(w,k,U)},writePackedFixed32:function(w,U){U.length&&this.writeMessage(w,R,U)},writePackedSFixed32:function(w,U){U.length&&this.writeMessage(w,E,U)},writePackedFixed64:function(w,U){U.length&&this.writeMessage(w,P,U)},writePackedSFixed64:function(w,U){U.length&&this.writeMessage(w,D,U)},writeBytesField:function(w,U){this.writeTag(w,r.Bytes),this.writeBytes(U)},writeFixed32Field:function(w,U){this.writeTag(w,r.Fixed32),this.writeFixed32(U)},writeSFixed32Field:function(w,U){this.writeTag(w,r.Fixed32),this.writeSFixed32(U)},writeFixed64Field:function(w,U){this.writeTag(w,r.Fixed64),this.writeFixed64(U)},writeSFixed64Field:function(w,U){this.writeTag(w,r.Fixed64),this.writeSFixed64(U)},writeVarintField:function(w,U){this.writeTag(w,r.Varint),this.writeVarint(U)},writeSVarintField:function(w,U){this.writeTag(w,r.Varint),this.writeSVarint(U)},writeStringField:function(w,U){this.writeTag(w,r.Bytes),this.writeString(U)},writeFloatField:function(w,U){this.writeTag(w,r.Fixed32),this.writeFloat(U)},writeDoubleField:function(w,U){this.writeTag(w,r.Fixed64),this.writeDouble(U)},writeBooleanField:function(w,U){this.writeVarintField(w,!!U)}};function c(w,U,j){var L=j.buf,F,ee;if(ee=L[j.pos++],F=(ee&112)>>4,ee<128||(ee=L[j.pos++],F|=(ee&127)<<3,ee<128)||(ee=L[j.pos++],F|=(ee&127)<<10,ee<128)||(ee=L[j.pos++],F|=(ee&127)<<17,ee<128)||(ee=L[j.pos++],F|=(ee&127)<<24,ee<128)||(ee=L[j.pos++],F|=(ee&1)<<31,ee<128))return d(w,F,U);throw new Error("Expected varint not more than 10 bytes")}function a(w){return w.type===r.Bytes?w.readVarint()+w.pos:w.pos+1}function d(w,U,j){return j?U*4294967296+(w>>>0):(U>>>0)*4294967296+(w>>>0)}function f(w,U){var j,L;if(w>=0?(j=w%4294967296|0,L=w/4294967296|0):(j=~(-w%4294967296),L=~(-w/4294967296),j^4294967295?j=j+1|0:(j=0,L=L+1|0)),w>=18446744073709552e3||w<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");U.realloc(10),y(j,L,U),A(L,U)}function y(w,U,j){j.buf[j.pos++]=w&127|128,w>>>=7,j.buf[j.pos++]=w&127|128,w>>>=7,j.buf[j.pos++]=w&127|128,w>>>=7,j.buf[j.pos++]=w&127|128,w>>>=7,j.buf[j.pos]=w&127}function A(w,U){var j=(w&7)<<4;U.buf[U.pos++]|=j|((w>>>=3)?128:0),w&&(U.buf[U.pos++]=w&127|((w>>>=7)?128:0),w&&(U.buf[U.pos++]=w&127|((w>>>=7)?128:0),w&&(U.buf[U.pos++]=w&127|((w>>>=7)?128:0),w&&(U.buf[U.pos++]=w&127|((w>>>=7)?128:0),w&&(U.buf[U.pos++]=w&127)))))}function T(w,U,j){var L=U<=16383?1:U<=2097151?2:U<=268435455?3:Math.floor(Math.log(U)/(Math.LN2*7));j.realloc(L);for(var F=j.pos-1;F>=w;F--)j.buf[F+L]=j.buf[F]}function m(w,U){for(var j=0;j<w.length;j++)U.writeVarint(w[j])}function S(w,U){for(var j=0;j<w.length;j++)U.writeSVarint(w[j])}function B(w,U){for(var j=0;j<w.length;j++)U.writeFloat(w[j])}function k(w,U){for(var j=0;j<w.length;j++)U.writeDouble(w[j])}function p(w,U){for(var j=0;j<w.length;j++)U.writeBoolean(w[j])}function R(w,U){for(var j=0;j<w.length;j++)U.writeFixed32(w[j])}function E(w,U){for(var j=0;j<w.length;j++)U.writeSFixed32(w[j])}function P(w,U){for(var j=0;j<w.length;j++)U.writeFixed64(w[j])}function D(w,U){for(var j=0;j<w.length;j++)U.writeSFixed64(w[j])}function C(w,U){return(w[U]|w[U+1]<<8|w[U+2]<<16)+w[U+3]*16777216}function v(w,U,j){w[j]=U,w[j+1]=U>>>8,w[j+2]=U>>>16,w[j+3]=U>>>24}function g(w,U){return(w[U]|w[U+1]<<8|w[U+2]<<16)+(w[U+3]<<24)}function M(w,U,j){for(var L="",F=U;F<j;){var ee=w[F],ue=null,se=ee>239?4:ee>223?3:ee>191?2:1;if(F+se>j)break;var pe,ke,Le;se===1?ee<128&&(ue=ee):se===2?(pe=w[F+1],(pe&192)===128&&(ue=(ee&31)<<6|pe&63,ue<=127&&(ue=null))):se===3?(pe=w[F+1],ke=w[F+2],(pe&192)===128&&(ke&192)===128&&(ue=(ee&15)<<12|(pe&63)<<6|ke&63,(ue<=2047||ue>=55296&&ue<=57343)&&(ue=null))):se===4&&(pe=w[F+1],ke=w[F+2],Le=w[F+3],(pe&192)===128&&(ke&192)===128&&(Le&192)===128&&(ue=(ee&15)<<18|(pe&63)<<12|(ke&63)<<6|Le&63,(ue<=65535||ue>=1114112)&&(ue=null))),ue===null?(ue=65533,se=1):ue>65535&&(ue-=65536,L+=String.fromCharCode(ue>>>10&1023|55296),ue=56320|ue&1023),L+=String.fromCharCode(ue),F+=se}return L}function V(w,U,j){return h.decode(w.subarray(U,j))}function q(w,U,j){for(var L=0,F,ee;L<U.length;L++){if(F=U.charCodeAt(L),F>55295&&F<57344)if(ee)if(F<56320){w[j++]=239,w[j++]=191,w[j++]=189,ee=F;continue}else F=ee-55296<<10|F-56320|65536,ee=null;else{F>56319||L+1===U.length?(w[j++]=239,w[j++]=191,w[j++]=189):ee=F;continue}else ee&&(w[j++]=239,w[j++]=191,w[j++]=189,ee=null);F<128?w[j++]=F:(F<2048?w[j++]=F>>6|192:(F<65536?w[j++]=F>>12|224:(w[j++]=F>>18|240,w[j++]=F>>12&63|128),w[j++]=F>>6&63|128),w[j++]=F&63|128)}return j}}),oI=Qe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});function n(h){var c=h+48;return c+=9-h>>>8&-48+65-10,String.fromCharCode(c)}function t(h){var c=h+48;return c+=9-h>>>8&-48+97-10,String.fromCharCode(c)}var r=256;function i(h){var c=r;return c+=(47-h&h-58)>>8&-r+h-48,c+=(64-h&h-71)>>8&-r+h-65+10,c+=(96-h&h-103)>>8&-r+h-97+10,c}function s(h,c){c===void 0&&(c=!1);for(var a=c?t:n,d="",f=0;f<h.length;f++)d+=a(h[f]>>>4),d+=a(h[f]&15);return d}e.encode=s;function u(h){if(h.length===0)return new Uint8Array(0);if(h.length%2!==0)throw new Error("hex: input string must be divisible by two");for(var c=new Uint8Array(h.length/2),a=0,d=0;d<h.length;d+=2){var f=i(h.charCodeAt(d)),y=i(h.charCodeAt(d+1));c[d/2]=f<<4|y,a|=f&r,a|=y&r}if(a!==0)throw new Error("hex: incorrect characters for decoding");return c}e.decode=u}),aI=Qe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});function n(h,c){var a=h>>>16&65535,d=h&65535,f=c>>>16&65535,y=c&65535;return d*y+(a*y+d*f<<16>>>0)|0}e.mul=Math.imul||n;function t(h,c){return h+c|0}e.add=t;function r(h,c){return h-c|0}e.sub=r;function i(h,c){return h<<c|h>>>32-c}e.rotl=i;function s(h,c){return h<<32-c|h>>>c}e.rotr=s;function u(h){return typeof h=="number"&&isFinite(h)&&Math.floor(h)===h}e.isInteger=Number.isInteger||u,e.MAX_SAFE_INTEGER=9007199254740991,e.isSafeInteger=function(h){return e.isInteger(h)&&h>=-e.MAX_SAFE_INTEGER&&h<=e.MAX_SAFE_INTEGER}}),sI=Qe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=aI();function t(j,L){return L===void 0&&(L=0),(j[L+0]<<8|j[L+1])<<16>>16}e.readInt16BE=t;function r(j,L){return L===void 0&&(L=0),(j[L+0]<<8|j[L+1])>>>0}e.readUint16BE=r;function i(j,L){return L===void 0&&(L=0),(j[L+1]<<8|j[L])<<16>>16}e.readInt16LE=i;function s(j,L){return L===void 0&&(L=0),(j[L+1]<<8|j[L])>>>0}e.readUint16LE=s;function u(j,L,F){return L===void 0&&(L=new Uint8Array(2)),F===void 0&&(F=0),L[F+0]=j>>>8,L[F+1]=j>>>0,L}e.writeUint16BE=u,e.writeInt16BE=u;function h(j,L,F){return L===void 0&&(L=new Uint8Array(2)),F===void 0&&(F=0),L[F+0]=j>>>0,L[F+1]=j>>>8,L}e.writeUint16LE=h,e.writeInt16LE=h;function c(j,L){return L===void 0&&(L=0),j[L]<<24|j[L+1]<<16|j[L+2]<<8|j[L+3]}e.readInt32BE=c;function a(j,L){return L===void 0&&(L=0),(j[L]<<24|j[L+1]<<16|j[L+2]<<8|j[L+3])>>>0}e.readUint32BE=a;function d(j,L){return L===void 0&&(L=0),j[L+3]<<24|j[L+2]<<16|j[L+1]<<8|j[L]}e.readInt32LE=d;function f(j,L){return L===void 0&&(L=0),(j[L+3]<<24|j[L+2]<<16|j[L+1]<<8|j[L])>>>0}e.readUint32LE=f;function y(j,L,F){return L===void 0&&(L=new Uint8Array(4)),F===void 0&&(F=0),L[F+0]=j>>>24,L[F+1]=j>>>16,L[F+2]=j>>>8,L[F+3]=j>>>0,L}e.writeUint32BE=y,e.writeInt32BE=y;function A(j,L,F){return L===void 0&&(L=new Uint8Array(4)),F===void 0&&(F=0),L[F+0]=j>>>0,L[F+1]=j>>>8,L[F+2]=j>>>16,L[F+3]=j>>>24,L}e.writeUint32LE=A,e.writeInt32LE=A;function T(j,L){L===void 0&&(L=0);var F=c(j,L),ee=c(j,L+4);return F*4294967296+ee-(ee>>31)*4294967296}e.readInt64BE=T;function m(j,L){L===void 0&&(L=0);var F=a(j,L),ee=a(j,L+4);return F*4294967296+ee}e.readUint64BE=m;function S(j,L){L===void 0&&(L=0);var F=d(j,L),ee=d(j,L+4);return ee*4294967296+F-(F>>31)*4294967296}e.readInt64LE=S;function B(j,L){L===void 0&&(L=0);var F=f(j,L),ee=f(j,L+4);return ee*4294967296+F}e.readUint64LE=B;function k(j,L,F){return L===void 0&&(L=new Uint8Array(8)),F===void 0&&(F=0),y(j/4294967296>>>0,L,F),y(j>>>0,L,F+4),L}e.writeUint64BE=k,e.writeInt64BE=k;function p(j,L,F){return L===void 0&&(L=new Uint8Array(8)),F===void 0&&(F=0),A(j>>>0,L,F),A(j/4294967296>>>0,L,F+4),L}e.writeUint64LE=p,e.writeInt64LE=p;function R(j,L,F){if(F===void 0&&(F=0),j%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(j/8>L.length-F)throw new Error("readUintBE: array is too short for the given bitLength");for(var ee=0,ue=1,se=j/8+F-1;se>=F;se--)ee+=L[se]*ue,ue*=256;return ee}e.readUintBE=R;function E(j,L,F){if(F===void 0&&(F=0),j%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(j/8>L.length-F)throw new Error("readUintLE: array is too short for the given bitLength");for(var ee=0,ue=1,se=F;se<F+j/8;se++)ee+=L[se]*ue,ue*=256;return ee}e.readUintLE=E;function P(j,L,F,ee){if(F===void 0&&(F=new Uint8Array(j/8)),ee===void 0&&(ee=0),j%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!n.isSafeInteger(L))throw new Error("writeUintBE value must be an integer");for(var ue=1,se=j/8+ee-1;se>=ee;se--)F[se]=L/ue&255,ue*=256;return F}e.writeUintBE=P;function D(j,L,F,ee){if(F===void 0&&(F=new Uint8Array(j/8)),ee===void 0&&(ee=0),j%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!n.isSafeInteger(L))throw new Error("writeUintLE value must be an integer");for(var ue=1,se=ee;se<ee+j/8;se++)F[se]=L/ue&255,ue*=256;return F}e.writeUintLE=D;function C(j,L){L===void 0&&(L=0);var F=new DataView(j.buffer,j.byteOffset,j.byteLength);return F.getFloat32(L)}e.readFloat32BE=C;function v(j,L){L===void 0&&(L=0);var F=new DataView(j.buffer,j.byteOffset,j.byteLength);return F.getFloat32(L,!0)}e.readFloat32LE=v;function g(j,L){L===void 0&&(L=0);var F=new DataView(j.buffer,j.byteOffset,j.byteLength);return F.getFloat64(L)}e.readFloat64BE=g;function M(j,L){L===void 0&&(L=0);var F=new DataView(j.buffer,j.byteOffset,j.byteLength);return F.getFloat64(L,!0)}e.readFloat64LE=M;function V(j,L,F){L===void 0&&(L=new Uint8Array(4)),F===void 0&&(F=0);var ee=new DataView(L.buffer,L.byteOffset,L.byteLength);return ee.setFloat32(F,j),L}e.writeFloat32BE=V;function q(j,L,F){L===void 0&&(L=new Uint8Array(4)),F===void 0&&(F=0);var ee=new DataView(L.buffer,L.byteOffset,L.byteLength);return ee.setFloat32(F,j,!0),L}e.writeFloat32LE=q;function w(j,L,F){L===void 0&&(L=new Uint8Array(8)),F===void 0&&(F=0);var ee=new DataView(L.buffer,L.byteOffset,L.byteLength);return ee.setFloat64(F,j),L}e.writeFloat64BE=w;function U(j,L,F){L===void 0&&(L=new Uint8Array(8)),F===void 0&&(F=0);var ee=new DataView(L.buffer,L.byteOffset,L.byteLength);return ee.setFloat64(F,j,!0),L}e.writeFloat64LE=U}),uI=Qe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});function n(t){for(var r=0;r<t.length;r++)t[r]=0;return t}e.wipe=n}),lI=Qe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=sI(),t=uI();e.DIGEST_LENGTH=32,e.BLOCK_SIZE=64;var r=function(){function h(){this.digestLength=e.DIGEST_LENGTH,this.blockSize=e.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return h.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},h.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},h.prototype.clean=function(){t.wipe(this._buffer),t.wipe(this._temp),this.reset()},h.prototype.update=function(c,a){if(a===void 0&&(a=c.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var d=0;if(this._bytesHashed+=a,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&a>0;)this._buffer[this._bufferLength++]=c[d++],a--;this._bufferLength===this.blockSize&&(s(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(a>=this.blockSize&&(d=s(this._temp,this._state,c,d,a),a%=this.blockSize);a>0;)this._buffer[this._bufferLength++]=c[d++],a--;return this},h.prototype.finish=function(c){if(!this._finished){var a=this._bytesHashed,d=this._bufferLength,f=a/536870912|0,y=a<<3,A=a%64<56?64:128;this._buffer[d]=128;for(var T=d+1;T<A-8;T++)this._buffer[T]=0;n.writeUint32BE(f,this._buffer,A-8),n.writeUint32BE(y,this._buffer,A-4),s(this._temp,this._state,this._buffer,0,A),this._finished=!0}for(var T=0;T<this.digestLength/4;T++)n.writeUint32BE(this._state[T],c,T*4);return this},h.prototype.digest=function(){var c=new Uint8Array(this.digestLength);return this.finish(c),c},h.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},h.prototype.restoreState=function(c){return this._state.set(c.state),this._bufferLength=c.bufferLength,c.buffer&&this._buffer.set(c.buffer),this._bytesHashed=c.bytesHashed,this._finished=!1,this},h.prototype.cleanSavedState=function(c){t.wipe(c.state),c.buffer&&t.wipe(c.buffer),c.bufferLength=0,c.bytesHashed=0},h}();e.SHA256=r;var i=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function s(h,c,a,d,f){for(;f>=64;){for(var y=c[0],A=c[1],T=c[2],m=c[3],S=c[4],B=c[5],k=c[6],p=c[7],R=0;R<16;R++){var E=d+R*4;h[R]=n.readUint32BE(a,E)}for(var R=16;R<64;R++){var P=h[R-2],D=(P>>>17|P<<32-17)^(P>>>19|P<<32-19)^P>>>10;P=h[R-15];var C=(P>>>7|P<<32-7)^(P>>>18|P<<32-18)^P>>>3;h[R]=(D+h[R-7]|0)+(C+h[R-16]|0)}for(var R=0;R<64;R++){var D=(((S>>>6|S<<26)^(S>>>11|S<<21)^(S>>>25|S<<7))+(S&B^~S&k)|0)+(p+(i[R]+h[R]|0)|0)|0,C=((y>>>2|y<<32-2)^(y>>>13|y<<32-13)^(y>>>22|y<<32-22))+(y&A^y&T^A&T)|0;p=k,k=B,B=S,S=m+D|0,m=T,T=A,A=y,y=D+C|0}c[0]+=y,c[1]+=A,c[2]+=T,c[3]+=m,c[4]+=S,c[5]+=B,c[6]+=k,c[7]+=p,d+=64,f-=64}return d}function u(h){var c=new r;c.update(h);var a=c.digest();return c.clean(),a}e.hash=u}),lt=Qe((e,n)=>{n.exports={options:{usePureJavaScript:!1}}}),cI=Qe((e,n)=>{var t={};n.exports=t;var r={};t.encode=function(s,u,h){if(typeof u!="string")throw new TypeError('"alphabet" must be a string.');if(h!==void 0&&typeof h!="number")throw new TypeError('"maxline" must be a number.');var c="";if(!(s instanceof Uint8Array))c=i(s,u);else{var a=0,d=u.length,f=u.charAt(0),y=[0];for(a=0;a<s.length;++a){for(var A=0,T=s[a];A<y.length;++A)T+=y[A]<<8,y[A]=T%d,T=T/d|0;for(;T>0;)y.push(T%d),T=T/d|0}for(a=0;s[a]===0&&a<s.length-1;++a)c+=f;for(a=y.length-1;a>=0;--a)c+=u[y[a]]}if(h){var m=new RegExp(".{1,"+h+"}","g");c=c.match(m).join(`\r
`)}return c},t.decode=function(s,u){if(typeof s!="string")throw new TypeError('"input" must be a string.');if(typeof u!="string")throw new TypeError('"alphabet" must be a string.');var h=r[u];if(!h){h=r[u]=[];for(var c=0;c<u.length;++c)h[u.charCodeAt(c)]=c}s=s.replace(/\s/g,"");for(var a=u.length,d=u.charAt(0),f=[0],c=0;c<s.length;c++){var y=h[s.charCodeAt(c)];if(y===void 0)return;for(var A=0,T=y;A<f.length;++A)T+=f[A]*a,f[A]=T&255,T>>=8;for(;T>0;)f.push(T&255),T>>=8}for(var m=0;s[m]===d&&m<s.length-1;++m)f.push(0);return typeof Buffer<"u"?Buffer.from(f.reverse()):new Uint8Array(f.reverse())};function i(s,u){var h=0,c=u.length,a=u.charAt(0),d=[0];for(h=0;h<s.length();++h){for(var f=0,y=s.at(h);f<d.length;++f)y+=d[f]<<8,d[f]=y%c,y=y/c|0;for(;y>0;)d.push(y%c),y=y/c|0}var A="";for(h=0;s.at(h)===0&&h<s.length()-1;++h)A+=a;for(h=d.length-1;h>=0;--h)A+=u[d[h]];return A}}),St=Qe((e,n)=>{var t=lt(),r=cI(),i=n.exports=t.util=t.util||{};(function(){if(typeof process<"u"&&process.nextTick&&!process.browser){i.nextTick=process.nextTick,typeof setImmediate=="function"?i.setImmediate=setImmediate:i.setImmediate=i.nextTick;return}if(typeof setImmediate=="function"){i.setImmediate=function(){return setImmediate.apply(void 0,arguments)},i.nextTick=function(g){return setImmediate(g)};return}if(i.setImmediate=function(g){setTimeout(g,0)},typeof window<"u"&&typeof window.postMessage=="function"){let g=function(M){if(M.source===window&&M.data===R){M.stopPropagation();var V=E.slice();E.length=0,V.forEach(function(q){q()})}};var p=g,R="forge.setImmediate",E=[];i.setImmediate=function(M){E.push(M),E.length===1&&window.postMessage(R,"*")},window.addEventListener("message",g,!0)}if(typeof MutationObserver<"u"){var P=Date.now(),D=!0,C=document.createElement("div"),E=[];new MutationObserver(function(){var M=E.slice();E.length=0,M.forEach(function(V){V()})}).observe(C,{attributes:!0});var v=i.setImmediate;i.setImmediate=function(M){Date.now()-P>15?(P=Date.now(),v(M)):(E.push(M),E.length===1&&C.setAttribute("a",D=!D))}}i.nextTick=i.setImmediate})(),i.isNodejs=typeof process<"u"&&process.versions&&process.versions.node,i.globalScope=function(){return i.isNodejs?global:typeof self>"u"?window:self}(),i.isArray=Array.isArray||function(p){return Object.prototype.toString.call(p)==="[object Array]"},i.isArrayBuffer=function(p){return typeof ArrayBuffer<"u"&&p instanceof ArrayBuffer},i.isArrayBufferView=function(p){return p&&i.isArrayBuffer(p.buffer)&&p.byteLength!==void 0};function s(p){if(!(p===8||p===16||p===24||p===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+p)}i.ByteBuffer=u;function u(p){if(this.data="",this.read=0,typeof p=="string")this.data=p;else if(i.isArrayBuffer(p)||i.isArrayBufferView(p))if(typeof Buffer<"u"&&p instanceof Buffer)this.data=p.toString("binary");else{var R=new Uint8Array(p);try{this.data=String.fromCharCode.apply(null,R)}catch{for(var E=0;E<R.length;++E)this.putByte(R[E])}}else(p instanceof u||typeof p=="object"&&typeof p.data=="string"&&typeof p.read=="number")&&(this.data=p.data,this.read=p.read);this._constructedStringLength=0}i.ByteStringBuffer=u;var h=4096;i.ByteStringBuffer.prototype._optimizeConstructedString=function(p){this._constructedStringLength+=p,this._constructedStringLength>h&&(this.data.substr(0,1),this._constructedStringLength=0)},i.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},i.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},i.ByteStringBuffer.prototype.putByte=function(p){return this.putBytes(String.fromCharCode(p))},i.ByteStringBuffer.prototype.fillWithByte=function(p,R){p=String.fromCharCode(p);for(var E=this.data;R>0;)R&1&&(E+=p),R>>>=1,R>0&&(p+=p);return this.data=E,this._optimizeConstructedString(R),this},i.ByteStringBuffer.prototype.putBytes=function(p){return this.data+=p,this._optimizeConstructedString(p.length),this},i.ByteStringBuffer.prototype.putString=function(p){return this.putBytes(i.encodeUtf8(p))},i.ByteStringBuffer.prototype.putInt16=function(p){return this.putBytes(String.fromCharCode(p>>8&255)+String.fromCharCode(p&255))},i.ByteStringBuffer.prototype.putInt24=function(p){return this.putBytes(String.fromCharCode(p>>16&255)+String.fromCharCode(p>>8&255)+String.fromCharCode(p&255))},i.ByteStringBuffer.prototype.putInt32=function(p){return this.putBytes(String.fromCharCode(p>>24&255)+String.fromCharCode(p>>16&255)+String.fromCharCode(p>>8&255)+String.fromCharCode(p&255))},i.ByteStringBuffer.prototype.putInt16Le=function(p){return this.putBytes(String.fromCharCode(p&255)+String.fromCharCode(p>>8&255))},i.ByteStringBuffer.prototype.putInt24Le=function(p){return this.putBytes(String.fromCharCode(p&255)+String.fromCharCode(p>>8&255)+String.fromCharCode(p>>16&255))},i.ByteStringBuffer.prototype.putInt32Le=function(p){return this.putBytes(String.fromCharCode(p&255)+String.fromCharCode(p>>8&255)+String.fromCharCode(p>>16&255)+String.fromCharCode(p>>24&255))},i.ByteStringBuffer.prototype.putInt=function(p,R){s(R);var E="";do R-=8,E+=String.fromCharCode(p>>R&255);while(R>0);return this.putBytes(E)},i.ByteStringBuffer.prototype.putSignedInt=function(p,R){return p<0&&(p+=2<<R-1),this.putInt(p,R)},i.ByteStringBuffer.prototype.putBuffer=function(p){return this.putBytes(p.getBytes())},i.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},i.ByteStringBuffer.prototype.getInt16=function(){var p=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,p},i.ByteStringBuffer.prototype.getInt24=function(){var p=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,p},i.ByteStringBuffer.prototype.getInt32=function(){var p=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,p},i.ByteStringBuffer.prototype.getInt16Le=function(){var p=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,p},i.ByteStringBuffer.prototype.getInt24Le=function(){var p=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,p},i.ByteStringBuffer.prototype.getInt32Le=function(){var p=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,p},i.ByteStringBuffer.prototype.getInt=function(p){s(p);var R=0;do R=(R<<8)+this.data.charCodeAt(this.read++),p-=8;while(p>0);return R},i.ByteStringBuffer.prototype.getSignedInt=function(p){var R=this.getInt(p),E=2<<p-2;return R>=E&&(R-=E<<1),R},i.ByteStringBuffer.prototype.getBytes=function(p){var R;return p?(p=Math.min(this.length(),p),R=this.data.slice(this.read,this.read+p),this.read+=p):p===0?R="":(R=this.read===0?this.data:this.data.slice(this.read),this.clear()),R},i.ByteStringBuffer.prototype.bytes=function(p){return typeof p>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+p)},i.ByteStringBuffer.prototype.at=function(p){return this.data.charCodeAt(this.read+p)},i.ByteStringBuffer.prototype.setAt=function(p,R){return this.data=this.data.substr(0,this.read+p)+String.fromCharCode(R)+this.data.substr(this.read+p+1),this},i.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},i.ByteStringBuffer.prototype.copy=function(){var p=i.createBuffer(this.data);return p.read=this.read,p},i.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},i.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},i.ByteStringBuffer.prototype.truncate=function(p){var R=Math.max(0,this.length()-p);return this.data=this.data.substr(this.read,R),this.read=0,this},i.ByteStringBuffer.prototype.toHex=function(){for(var p="",R=this.read;R<this.data.length;++R){var E=this.data.charCodeAt(R);E<16&&(p+="0"),p+=E.toString(16)}return p},i.ByteStringBuffer.prototype.toString=function(){return i.decodeUtf8(this.bytes())};function c(p,R){R=R||{},this.read=R.readOffset||0,this.growSize=R.growSize||1024;var E=i.isArrayBuffer(p),P=i.isArrayBufferView(p);if(E||P){E?this.data=new DataView(p):this.data=new DataView(p.buffer,p.byteOffset,p.byteLength),this.write="writeOffset"in R?R.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,p!=null&&this.putBytes(p),"writeOffset"in R&&(this.write=R.writeOffset)}i.DataBuffer=c,i.DataBuffer.prototype.length=function(){return this.write-this.read},i.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},i.DataBuffer.prototype.accommodate=function(p,R){if(this.length()>=p)return this;R=Math.max(R||this.growSize,p);var E=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),P=new Uint8Array(this.length()+R);return P.set(E),this.data=new DataView(P.buffer),this},i.DataBuffer.prototype.putByte=function(p){return this.accommodate(1),this.data.setUint8(this.write++,p),this},i.DataBuffer.prototype.fillWithByte=function(p,R){this.accommodate(R);for(var E=0;E<R;++E)this.data.setUint8(p);return this},i.DataBuffer.prototype.putBytes=function(p,R){if(i.isArrayBufferView(p)){var E=new Uint8Array(p.buffer,p.byteOffset,p.byteLength),P=E.byteLength-E.byteOffset;this.accommodate(P);var D=new Uint8Array(this.data.buffer,this.write);return D.set(E),this.write+=P,this}if(i.isArrayBuffer(p)){var E=new Uint8Array(p);this.accommodate(E.byteLength);var D=new Uint8Array(this.data.buffer);return D.set(E,this.write),this.write+=E.byteLength,this}if(p instanceof i.DataBuffer||typeof p=="object"&&typeof p.read=="number"&&typeof p.write=="number"&&i.isArrayBufferView(p.data)){var E=new Uint8Array(p.data.byteLength,p.read,p.length());this.accommodate(E.byteLength);var D=new Uint8Array(p.data.byteLength,this.write);return D.set(E),this.write+=E.byteLength,this}if(p instanceof i.ByteStringBuffer&&(p=p.data,R="binary"),R=R||"binary",typeof p=="string"){var C;if(R==="hex")return this.accommodate(Math.ceil(p.length/2)),C=new Uint8Array(this.data.buffer,this.write),this.write+=i.binary.hex.decode(p,C,this.write),this;if(R==="base64")return this.accommodate(Math.ceil(p.length/4)*3),C=new Uint8Array(this.data.buffer,this.write),this.write+=i.binary.base64.decode(p,C,this.write),this;if(R==="utf8"&&(p=i.encodeUtf8(p),R="binary"),R==="binary"||R==="raw")return this.accommodate(p.length),C=new Uint8Array(this.data.buffer,this.write),this.write+=i.binary.raw.decode(C),this;if(R==="utf16")return this.accommodate(p.length*2),C=new Uint16Array(this.data.buffer,this.write),this.write+=i.text.utf16.encode(C),this;throw new Error("Invalid encoding: "+R)}throw Error("Invalid parameter: "+p)},i.DataBuffer.prototype.putBuffer=function(p){return this.putBytes(p),p.clear(),this},i.DataBuffer.prototype.putString=function(p){return this.putBytes(p,"utf16")},i.DataBuffer.prototype.putInt16=function(p){return this.accommodate(2),this.data.setInt16(this.write,p),this.write+=2,this},i.DataBuffer.prototype.putInt24=function(p){return this.accommodate(3),this.data.setInt16(this.write,p>>8&65535),this.data.setInt8(this.write,p>>16&255),this.write+=3,this},i.DataBuffer.prototype.putInt32=function(p){return this.accommodate(4),this.data.setInt32(this.write,p),this.write+=4,this},i.DataBuffer.prototype.putInt16Le=function(p){return this.accommodate(2),this.data.setInt16(this.write,p,!0),this.write+=2,this},i.DataBuffer.prototype.putInt24Le=function(p){return this.accommodate(3),this.data.setInt8(this.write,p>>16&255),this.data.setInt16(this.write,p>>8&65535,!0),this.write+=3,this},i.DataBuffer.prototype.putInt32Le=function(p){return this.accommodate(4),this.data.setInt32(this.write,p,!0),this.write+=4,this},i.DataBuffer.prototype.putInt=function(p,R){s(R),this.accommodate(R/8);do R-=8,this.data.setInt8(this.write++,p>>R&255);while(R>0);return this},i.DataBuffer.prototype.putSignedInt=function(p,R){return s(R),this.accommodate(R/8),p<0&&(p+=2<<R-1),this.putInt(p,R)},i.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},i.DataBuffer.prototype.getInt16=function(){var p=this.data.getInt16(this.read);return this.read+=2,p},i.DataBuffer.prototype.getInt24=function(){var p=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,p},i.DataBuffer.prototype.getInt32=function(){var p=this.data.getInt32(this.read);return this.read+=4,p},i.DataBuffer.prototype.getInt16Le=function(){var p=this.data.getInt16(this.read,!0);return this.read+=2,p},i.DataBuffer.prototype.getInt24Le=function(){var p=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,p},i.DataBuffer.prototype.getInt32Le=function(){var p=this.data.getInt32(this.read,!0);return this.read+=4,p},i.DataBuffer.prototype.getInt=function(p){s(p);var R=0;do R=(R<<8)+this.data.getInt8(this.read++),p-=8;while(p>0);return R},i.DataBuffer.prototype.getSignedInt=function(p){var R=this.getInt(p),E=2<<p-2;return R>=E&&(R-=E<<1),R},i.DataBuffer.prototype.getBytes=function(p){var R;return p?(p=Math.min(this.length(),p),R=this.data.slice(this.read,this.read+p),this.read+=p):p===0?R="":(R=this.read===0?this.data:this.data.slice(this.read),this.clear()),R},i.DataBuffer.prototype.bytes=function(p){return typeof p>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+p)},i.DataBuffer.prototype.at=function(p){return this.data.getUint8(this.read+p)},i.DataBuffer.prototype.setAt=function(p,R){return this.data.setUint8(p,R),this},i.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},i.DataBuffer.prototype.copy=function(){return new i.DataBuffer(this)},i.DataBuffer.prototype.compact=function(){if(this.read>0){var p=new Uint8Array(this.data.buffer,this.read),R=new Uint8Array(p.byteLength);R.set(p),this.data=new DataView(R),this.write-=this.read,this.read=0}return this},i.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},i.DataBuffer.prototype.truncate=function(p){return this.write=Math.max(0,this.length()-p),this.read=Math.min(this.read,this.write),this},i.DataBuffer.prototype.toHex=function(){for(var p="",R=this.read;R<this.data.byteLength;++R){var E=this.data.getUint8(R);E<16&&(p+="0"),p+=E.toString(16)}return p},i.DataBuffer.prototype.toString=function(p){var R=new Uint8Array(this.data,this.read,this.length());if(p=p||"utf8",p==="binary"||p==="raw")return i.binary.raw.encode(R);if(p==="hex")return i.binary.hex.encode(R);if(p==="base64")return i.binary.base64.encode(R);if(p==="utf8")return i.text.utf8.decode(R);if(p==="utf16")return i.text.utf16.decode(R);throw new Error("Invalid encoding: "+p)},i.createBuffer=function(p,R){return R=R||"raw",p!==void 0&&R==="utf8"&&(p=i.encodeUtf8(p)),new i.ByteBuffer(p)},i.fillString=function(p,R){for(var E="";R>0;)R&1&&(E+=p),R>>>=1,R>0&&(p+=p);return E},i.xorBytes=function(p,R,E){for(var P="",D="",C="",v=0,g=0;E>0;--E,++v)D=p.charCodeAt(v)^R.charCodeAt(v),g>=10&&(P+=C,C="",g=0),C+=String.fromCharCode(D),++g;return P+=C,P},i.hexToBytes=function(p){var R="",E=0;for(p.length&!0&&(E=1,R+=String.fromCharCode(parseInt(p[0],16)));E<p.length;E+=2)R+=String.fromCharCode(parseInt(p.substr(E,2),16));return R},i.bytesToHex=function(p){return i.createBuffer(p).toHex()},i.int32ToBytes=function(p){return String.fromCharCode(p>>24&255)+String.fromCharCode(p>>16&255)+String.fromCharCode(p>>8&255)+String.fromCharCode(p&255)};var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",d=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],f="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";i.encode64=function(p,R){for(var E="",P="",D,C,v,g=0;g<p.length;)D=p.charCodeAt(g++),C=p.charCodeAt(g++),v=p.charCodeAt(g++),E+=a.charAt(D>>2),E+=a.charAt((D&3)<<4|C>>4),isNaN(C)?E+="==":(E+=a.charAt((C&15)<<2|v>>6),E+=isNaN(v)?"=":a.charAt(v&63)),R&&E.length>R&&(P+=E.substr(0,R)+`\r
`,E=E.substr(R));return P+=E,P},i.decode64=function(p){p=p.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var R="",E,P,D,C,v=0;v<p.length;)E=d[p.charCodeAt(v++)-43],P=d[p.charCodeAt(v++)-43],D=d[p.charCodeAt(v++)-43],C=d[p.charCodeAt(v++)-43],R+=String.fromCharCode(E<<2|P>>4),D!==64&&(R+=String.fromCharCode((P&15)<<4|D>>2),C!==64&&(R+=String.fromCharCode((D&3)<<6|C)));return R},i.encodeUtf8=function(p){return unescape(encodeURIComponent(p))},i.decodeUtf8=function(p){return decodeURIComponent(escape(p))},i.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:r.encode,decode:r.decode}},i.binary.raw.encode=function(p){return String.fromCharCode.apply(null,p)},i.binary.raw.decode=function(p,R,E){var P=R;P||(P=new Uint8Array(p.length)),E=E||0;for(var D=E,C=0;C<p.length;++C)P[D++]=p.charCodeAt(C);return R?D-E:P},i.binary.hex.encode=i.bytesToHex,i.binary.hex.decode=function(p,R,E){var P=R;P||(P=new Uint8Array(Math.ceil(p.length/2))),E=E||0;var D=0,C=E;for(p.length&1&&(D=1,P[C++]=parseInt(p[0],16));D<p.length;D+=2)P[C++]=parseInt(p.substr(D,2),16);return R?C-E:P},i.binary.base64.encode=function(p,R){for(var E="",P="",D,C,v,g=0;g<p.byteLength;)D=p[g++],C=p[g++],v=p[g++],E+=a.charAt(D>>2),E+=a.charAt((D&3)<<4|C>>4),isNaN(C)?E+="==":(E+=a.charAt((C&15)<<2|v>>6),E+=isNaN(v)?"=":a.charAt(v&63)),R&&E.length>R&&(P+=E.substr(0,R)+`\r
`,E=E.substr(R));return P+=E,P},i.binary.base64.decode=function(p,R,E){var P=R;P||(P=new Uint8Array(Math.ceil(p.length/4)*3)),p=p.replace(/[^A-Za-z0-9\+\/\=]/g,""),E=E||0;for(var D,C,v,g,M=0,V=E;M<p.length;)D=d[p.charCodeAt(M++)-43],C=d[p.charCodeAt(M++)-43],v=d[p.charCodeAt(M++)-43],g=d[p.charCodeAt(M++)-43],P[V++]=D<<2|C>>4,v!==64&&(P[V++]=(C&15)<<4|v>>2,g!==64&&(P[V++]=(v&3)<<6|g));return R?V-E:P.subarray(0,V)},i.binary.base58.encode=function(p,R){return i.binary.baseN.encode(p,f,R)},i.binary.base58.decode=function(p,R){return i.binary.baseN.decode(p,f,R)},i.text={utf8:{},utf16:{}},i.text.utf8.encode=function(p,R,E){p=i.encodeUtf8(p);var P=R;P||(P=new Uint8Array(p.length)),E=E||0;for(var D=E,C=0;C<p.length;++C)P[D++]=p.charCodeAt(C);return R?D-E:P},i.text.utf8.decode=function(p){return i.decodeUtf8(String.fromCharCode.apply(null,p))},i.text.utf16.encode=function(p,R,E){var P=R;P||(P=new Uint8Array(p.length*2));var D=new Uint16Array(P.buffer);E=E||0;for(var C=E,v=E,g=0;g<p.length;++g)D[v++]=p.charCodeAt(g),C+=2;return R?C-E:P},i.text.utf16.decode=function(p){return String.fromCharCode.apply(null,new Uint16Array(p.buffer))},i.deflate=function(p,R,E){if(R=i.decode64(p.deflate(i.encode64(R)).rval),E){var P=2,D=R.charCodeAt(1);D&32&&(P=6),R=R.substring(P,R.length-4)}return R},i.inflate=function(p,R,E){var P=p.inflate(i.encode64(R)).rval;return P===null?null:i.decode64(P)};var y=function(p,R,E){if(!p)throw new Error("WebStorage not available.");var P;if(E===null?P=p.removeItem(R):(E=i.encode64(JSON.stringify(E)),P=p.setItem(R,E)),typeof P<"u"&&P.rval!==!0){var D=new Error(P.error.message);throw D.id=P.error.id,D.name=P.error.name,D}},A=function(p,R){if(!p)throw new Error("WebStorage not available.");var E=p.getItem(R);if(p.init)if(E.rval===null){if(E.error){var P=new Error(E.error.message);throw P.id=E.error.id,P.name=E.error.name,P}E=null}else E=E.rval;return E!==null&&(E=JSON.parse(i.decode64(E))),E},T=function(p,R,E,P){var D=A(p,R);D===null&&(D={}),D[E]=P,y(p,R,D)},m=function(p,R,E){var P=A(p,R);return P!==null&&(P=E in P?P[E]:null),P},S=function(p,R,E){var P=A(p,R);if(P!==null&&E in P){delete P[E];var D=!0;for(var C in P){D=!1;break}D&&(P=null),y(p,R,P)}},B=function(p,R){y(p,R,null)},k=function(p,R,E){var P=null;typeof E>"u"&&(E=["web","flash"]);var D,C=!1,v=null;for(var g in E){D=E[g];try{if(D==="flash"||D==="both"){if(R[0]===null)throw new Error("Flash local storage not available.");P=p.apply(this,R),C=D==="flash"}(D==="web"||D==="both")&&(R[0]=localStorage,P=p.apply(this,R),C=!0)}catch(M){v=M}if(C)break}if(!C)throw v;return P};i.setItem=function(p,R,E,P,D){k(T,arguments,D)},i.getItem=function(p,R,E,P){return k(m,arguments,P)},i.removeItem=function(p,R,E,P){k(S,arguments,P)},i.clearItems=function(p,R,E){k(B,arguments,E)},i.isEmpty=function(p){for(var R in p)if(p.hasOwnProperty(R))return!1;return!0},i.format=function(p){for(var R=/%./g,E,P,D=0,C=[],v=0;E=R.exec(p);){P=p.substring(v,R.lastIndex-2),P.length>0&&C.push(P),v=R.lastIndex;var g=E[0][1];switch(g){case"s":case"o":D<arguments.length?C.push(arguments[D+++1]):C.push("<?>");break;case"%":C.push("%");break;default:C.push("<%"+g+"?>")}}return C.push(p.substring(v)),C.join("")},i.formatNumber=function(p,R,E,P){var D=p,C=isNaN(R=Math.abs(R))?2:R,v=E===void 0?",":E,g=P===void 0?".":P,M=D<0?"-":"",V=parseInt(D=Math.abs(+D||0).toFixed(C),10)+"",q=V.length>3?V.length%3:0;return M+(q?V.substr(0,q)+g:"")+V.substr(q).replace(/(\d{3})(?=\d)/g,"$1"+g)+(C?v+Math.abs(D-V).toFixed(C).slice(2):"")},i.formatSize=function(p){return p>=1073741824?p=i.formatNumber(p/1073741824,2,".","")+" GiB":p>=1048576?p=i.formatNumber(p/1048576,2,".","")+" MiB":p>=1024?p=i.formatNumber(p/1024,0)+" KiB":p=i.formatNumber(p,0)+" bytes",p},i.bytesFromIP=function(p){return p.indexOf(".")!==-1?i.bytesFromIPv4(p):p.indexOf(":")!==-1?i.bytesFromIPv6(p):null},i.bytesFromIPv4=function(p){if(p=p.split("."),p.length!==4)return null;for(var R=i.createBuffer(),E=0;E<p.length;++E){var P=parseInt(p[E],10);if(isNaN(P))return null;R.putByte(P)}return R.getBytes()},i.bytesFromIPv6=function(p){var R=0;p=p.split(":").filter(function(v){return v.length===0&&++R,!0});for(var E=(8-p.length+R)*2,P=i.createBuffer(),D=0;D<8;++D){if(!p[D]||p[D].length===0){P.fillWithByte(0,E),E=0;continue}var C=i.hexToBytes(p[D]);C.length<2&&P.putByte(0),P.putBytes(C)}return P.getBytes()},i.bytesToIP=function(p){return p.length===4?i.bytesToIPv4(p):p.length===16?i.bytesToIPv6(p):null},i.bytesToIPv4=function(p){if(p.length!==4)return null;for(var R=[],E=0;E<p.length;++E)R.push(p.charCodeAt(E));return R.join(".")},i.bytesToIPv6=function(p){if(p.length!==16)return null;for(var R=[],E=[],P=0,D=0;D<p.length;D+=2){for(var C=i.bytesToHex(p[D]+p[D+1]);C[0]==="0"&&C!=="0";)C=C.substr(1);if(C==="0"){var v=E[E.length-1],g=R.length;!v||g!==v.end+1?E.push({start:g,end:g}):(v.end=g,v.end-v.start>E[P].end-E[P].start&&(P=E.length-1))}R.push(C)}if(E.length>0){var M=E[P];M.end-M.start>0&&(R.splice(M.start,M.end-M.start+1,""),M.start===0&&R.unshift(""),M.end===7&&R.push(""))}return R.join(":")},i.estimateCores=function(p,R){if(typeof p=="function"&&(R=p,p={}),p=p||{},"cores"in i&&!p.update)return R(null,i.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return i.cores=navigator.hardwareConcurrency,R(null,i.cores);if(typeof Worker>"u")return i.cores=1,R(null,i.cores);if(typeof Blob>"u")return i.cores=2,R(null,i.cores);var E=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(v){for(var g=Date.now(),M=g+4;Date.now()<M;);self.postMessage({st:g,et:M})})}.toString(),")()"],{type:"application/javascript"}));P([],5,16);function P(v,g,M){if(g===0){var V=Math.floor(v.reduce(function(q,w){return q+w},0)/v.length);return i.cores=Math.max(1,V),URL.revokeObjectURL(E),R(null,i.cores)}D(M,function(q,w){v.push(C(M,w)),P(v,g-1,M)})}function D(v,g){for(var M=[],V=[],q=0;q<v;++q){var w=new Worker(E);w.addEventListener("message",function(U){if(V.push(U.data),V.length===v){for(var j=0;j<v;++j)M[j].terminate();g(null,V)}}),M.push(w)}for(var q=0;q<v;++q)M[q].postMessage(q)}function C(v,g){for(var M=[],V=0;V<v;++V)for(var q=g[V],w=M[V]=[],U=0;U<v;++U)if(V!==U){var j=g[U];(q.st>j.st&&q.st<j.et||j.st>q.st&&j.st<q.et)&&w.push(U)}return M.reduce(function(L,F){return Math.max(L,F.length)},0)}}}),Jp=Qe((e,n)=>{var t=lt();St(),n.exports=t.cipher=t.cipher||{},t.cipher.algorithms=t.cipher.algorithms||{},t.cipher.createCipher=function(i,s){var u=i;if(typeof u=="string"&&(u=t.cipher.getAlgorithm(u),u&&(u=u())),!u)throw new Error("Unsupported algorithm: "+i);return new t.cipher.BlockCipher({algorithm:u,key:s,decrypt:!1})},t.cipher.createDecipher=function(i,s){var u=i;if(typeof u=="string"&&(u=t.cipher.getAlgorithm(u),u&&(u=u())),!u)throw new Error("Unsupported algorithm: "+i);return new t.cipher.BlockCipher({algorithm:u,key:s,decrypt:!0})},t.cipher.registerAlgorithm=function(i,s){i=i.toUpperCase(),t.cipher.algorithms[i]=s},t.cipher.getAlgorithm=function(i){return i=i.toUpperCase(),i in t.cipher.algorithms?t.cipher.algorithms[i]:null};var r=t.cipher.BlockCipher=function(i){this.algorithm=i.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=i.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=i.decrypt,this.algorithm.initialize(i)};r.prototype.start=function(i){i=i||{};var s={};for(var u in i)s[u]=i[u];s.decrypt=this._decrypt,this._finish=!1,this._input=t.util.createBuffer(),this.output=i.output||t.util.createBuffer(),this.mode.start(s)},r.prototype.update=function(i){for(i&&this._input.putBuffer(i);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},r.prototype.finish=function(i){i&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(u){return i(this.blockSize,u,!1)},this.mode.unpad=function(u){return i(this.blockSize,u,!0)});var s={};return s.decrypt=this._decrypt,s.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,s)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,s))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,s))}}),bb=Qe((e,n)=>{var t=lt();St(),t.cipher=t.cipher||{};var r=n.exports=t.cipher.modes=t.cipher.modes||{};r.ecb=function(h){h=h||{},this.name="ECB",this.cipher=h.cipher,this.blockSize=h.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},r.ecb.prototype.start=function(h){},r.ecb.prototype.encrypt=function(h,c,a){if(h.length()<this.blockSize&&!(a&&h.length()>0))return!0;for(var d=0;d<this._ints;++d)this._inBlock[d]=h.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var d=0;d<this._ints;++d)c.putInt32(this._outBlock[d])},r.ecb.prototype.decrypt=function(h,c,a){if(h.length()<this.blockSize&&!(a&&h.length()>0))return!0;for(var d=0;d<this._ints;++d)this._inBlock[d]=h.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var d=0;d<this._ints;++d)c.putInt32(this._outBlock[d])},r.ecb.prototype.pad=function(h,c){var a=h.length()===this.blockSize?this.blockSize:this.blockSize-h.length();return h.fillWithByte(a,a),!0},r.ecb.prototype.unpad=function(h,c){if(c.overflow>0)return!1;var a=h.length(),d=h.at(a-1);return d>this.blockSize<<2?!1:(h.truncate(d),!0)},r.cbc=function(h){h=h||{},this.name="CBC",this.cipher=h.cipher,this.blockSize=h.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},r.cbc.prototype.start=function(h){if(h.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in h)this._iv=i(h.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")},r.cbc.prototype.encrypt=function(h,c,a){if(h.length()<this.blockSize&&!(a&&h.length()>0))return!0;for(var d=0;d<this._ints;++d)this._inBlock[d]=this._prev[d]^h.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var d=0;d<this._ints;++d)c.putInt32(this._outBlock[d]);this._prev=this._outBlock},r.cbc.prototype.decrypt=function(h,c,a){if(h.length()<this.blockSize&&!(a&&h.length()>0))return!0;for(var d=0;d<this._ints;++d)this._inBlock[d]=h.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var d=0;d<this._ints;++d)c.putInt32(this._prev[d]^this._outBlock[d]);this._prev=this._inBlock.slice(0)},r.cbc.prototype.pad=function(h,c){var a=h.length()===this.blockSize?this.blockSize:this.blockSize-h.length();return h.fillWithByte(a,a),!0},r.cbc.prototype.unpad=function(h,c){if(c.overflow>0)return!1;var a=h.length(),d=h.at(a-1);return d>this.blockSize<<2?!1:(h.truncate(d),!0)},r.cfb=function(h){h=h||{},this.name="CFB",this.cipher=h.cipher,this.blockSize=h.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=t.util.createBuffer(),this._partialBytes=0},r.cfb.prototype.start=function(h){if(!("iv"in h))throw new Error("Invalid IV parameter.");this._iv=i(h.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},r.cfb.prototype.encrypt=function(h,c,a){var d=h.length();if(d===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&d>=this.blockSize){for(var f=0;f<this._ints;++f)this._inBlock[f]=h.getInt32()^this._outBlock[f],c.putInt32(this._inBlock[f]);return}var y=(this.blockSize-d)%this.blockSize;y>0&&(y=this.blockSize-y),this._partialOutput.clear();for(var f=0;f<this._ints;++f)this._partialBlock[f]=h.getInt32()^this._outBlock[f],this._partialOutput.putInt32(this._partialBlock[f]);if(y>0)h.read-=this.blockSize;else for(var f=0;f<this._ints;++f)this._inBlock[f]=this._partialBlock[f];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),y>0&&!a)return c.putBytes(this._partialOutput.getBytes(y-this._partialBytes)),this._partialBytes=y,!0;c.putBytes(this._partialOutput.getBytes(d-this._partialBytes)),this._partialBytes=0},r.cfb.prototype.decrypt=function(h,c,a){var d=h.length();if(d===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&d>=this.blockSize){for(var f=0;f<this._ints;++f)this._inBlock[f]=h.getInt32(),c.putInt32(this._inBlock[f]^this._outBlock[f]);return}var y=(this.blockSize-d)%this.blockSize;y>0&&(y=this.blockSize-y),this._partialOutput.clear();for(var f=0;f<this._ints;++f)this._partialBlock[f]=h.getInt32(),this._partialOutput.putInt32(this._partialBlock[f]^this._outBlock[f]);if(y>0)h.read-=this.blockSize;else for(var f=0;f<this._ints;++f)this._inBlock[f]=this._partialBlock[f];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),y>0&&!a)return c.putBytes(this._partialOutput.getBytes(y-this._partialBytes)),this._partialBytes=y,!0;c.putBytes(this._partialOutput.getBytes(d-this._partialBytes)),this._partialBytes=0},r.ofb=function(h){h=h||{},this.name="OFB",this.cipher=h.cipher,this.blockSize=h.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=t.util.createBuffer(),this._partialBytes=0},r.ofb.prototype.start=function(h){if(!("iv"in h))throw new Error("Invalid IV parameter.");this._iv=i(h.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},r.ofb.prototype.encrypt=function(h,c,a){var d=h.length();if(h.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&d>=this.blockSize){for(var f=0;f<this._ints;++f)c.putInt32(h.getInt32()^this._outBlock[f]),this._inBlock[f]=this._outBlock[f];return}var y=(this.blockSize-d)%this.blockSize;y>0&&(y=this.blockSize-y),this._partialOutput.clear();for(var f=0;f<this._ints;++f)this._partialOutput.putInt32(h.getInt32()^this._outBlock[f]);if(y>0)h.read-=this.blockSize;else for(var f=0;f<this._ints;++f)this._inBlock[f]=this._outBlock[f];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),y>0&&!a)return c.putBytes(this._partialOutput.getBytes(y-this._partialBytes)),this._partialBytes=y,!0;c.putBytes(this._partialOutput.getBytes(d-this._partialBytes)),this._partialBytes=0},r.ofb.prototype.decrypt=r.ofb.prototype.encrypt,r.ctr=function(h){h=h||{},this.name="CTR",this.cipher=h.cipher,this.blockSize=h.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=t.util.createBuffer(),this._partialBytes=0},r.ctr.prototype.start=function(h){if(!("iv"in h))throw new Error("Invalid IV parameter.");this._iv=i(h.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},r.ctr.prototype.encrypt=function(h,c,a){var d=h.length();if(d===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&d>=this.blockSize)for(var f=0;f<this._ints;++f)c.putInt32(h.getInt32()^this._outBlock[f]);else{var y=(this.blockSize-d)%this.blockSize;y>0&&(y=this.blockSize-y),this._partialOutput.clear();for(var f=0;f<this._ints;++f)this._partialOutput.putInt32(h.getInt32()^this._outBlock[f]);if(y>0&&(h.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),y>0&&!a)return c.putBytes(this._partialOutput.getBytes(y-this._partialBytes)),this._partialBytes=y,!0;c.putBytes(this._partialOutput.getBytes(d-this._partialBytes)),this._partialBytes=0}s(this._inBlock)},r.ctr.prototype.decrypt=r.ctr.prototype.encrypt,r.gcm=function(h){h=h||{},this.name="GCM",this.cipher=h.cipher,this.blockSize=h.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=t.util.createBuffer(),this._partialBytes=0,this._R=3774873600},r.gcm.prototype.start=function(h){if(!("iv"in h))throw new Error("Invalid IV parameter.");var c=t.util.createBuffer(h.iv);this._cipherLength=0;var a;if("additionalData"in h?a=t.util.createBuffer(h.additionalData):a=t.util.createBuffer(),"tagLength"in h?this._tagLength=h.tagLength:this._tagLength=128,this._tag=null,h.decrypt&&(this._tag=t.util.createBuffer(h.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var d=c.length();if(d===12)this._j0=[c.getInt32(),c.getInt32(),c.getInt32(),1];else{for(this._j0=[0,0,0,0];c.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[c.getInt32(),c.getInt32(),c.getInt32(),c.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(u(d*8)))}this._inBlock=this._j0.slice(0),s(this._inBlock),this._partialBytes=0,a=t.util.createBuffer(a),this._aDataLength=u(a.length()*8);var f=a.length()%this.blockSize;for(f&&a.fillWithByte(0,this.blockSize-f),this._s=[0,0,0,0];a.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[a.getInt32(),a.getInt32(),a.getInt32(),a.getInt32()])},r.gcm.prototype.encrypt=function(h,c,a){var d=h.length();if(d===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&d>=this.blockSize){for(var f=0;f<this._ints;++f)c.putInt32(this._outBlock[f]^=h.getInt32());this._cipherLength+=this.blockSize}else{var y=(this.blockSize-d)%this.blockSize;y>0&&(y=this.blockSize-y),this._partialOutput.clear();for(var f=0;f<this._ints;++f)this._partialOutput.putInt32(h.getInt32()^this._outBlock[f]);if(y<=0||a){if(a){var A=d%this.blockSize;this._cipherLength+=A,this._partialOutput.truncate(this.blockSize-A)}else this._cipherLength+=this.blockSize;for(var f=0;f<this._ints;++f)this._outBlock[f]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),y>0&&!a)return h.read-=this.blockSize,c.putBytes(this._partialOutput.getBytes(y-this._partialBytes)),this._partialBytes=y,!0;c.putBytes(this._partialOutput.getBytes(d-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),s(this._inBlock)},r.gcm.prototype.decrypt=function(h,c,a){var d=h.length();if(d<this.blockSize&&!(a&&d>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),s(this._inBlock),this._hashBlock[0]=h.getInt32(),this._hashBlock[1]=h.getInt32(),this._hashBlock[2]=h.getInt32(),this._hashBlock[3]=h.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var f=0;f<this._ints;++f)c.putInt32(this._outBlock[f]^this._hashBlock[f]);d<this.blockSize?this._cipherLength+=d%this.blockSize:this._cipherLength+=this.blockSize},r.gcm.prototype.afterFinish=function(h,c){var a=!0;c.decrypt&&c.overflow&&h.truncate(this.blockSize-c.overflow),this.tag=t.util.createBuffer();var d=this._aDataLength.concat(u(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,d);var f=[];this.cipher.encrypt(this._j0,f);for(var y=0;y<this._ints;++y)this.tag.putInt32(this._s[y]^f[y]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),c.decrypt&&this.tag.bytes()!==this._tag&&(a=!1),a},r.gcm.prototype.multiply=function(h,c){for(var a=[0,0,0,0],d=c.slice(0),f=0;f<128;++f){var y=h[f/32|0]&1<<31-f%32;y&&(a[0]^=d[0],a[1]^=d[1],a[2]^=d[2],a[3]^=d[3]),this.pow(d,d)}return a},r.gcm.prototype.pow=function(h,c){for(var a=h[3]&1,d=3;d>0;--d)c[d]=h[d]>>>1|(h[d-1]&1)<<31;c[0]=h[0]>>>1,a&&(c[0]^=this._R)},r.gcm.prototype.tableMultiply=function(h){for(var c=[0,0,0,0],a=0;a<32;++a){var d=a/8|0,f=h[d]>>>(7-a%8)*4&15,y=this._m[a][f];c[0]^=y[0],c[1]^=y[1],c[2]^=y[2],c[3]^=y[3]}return c},r.gcm.prototype.ghash=function(h,c,a){return c[0]^=a[0],c[1]^=a[1],c[2]^=a[2],c[3]^=a[3],this.tableMultiply(c)},r.gcm.prototype.generateHashTable=function(h,c){for(var a=8/c,d=4*a,f=16*a,y=new Array(f),A=0;A<f;++A){var T=[0,0,0,0],m=A/d|0,S=(d-1-A%d)*c;T[m]=1<<c-1<<S,y[A]=this.generateSubHashTable(this.multiply(T,h),c)}return y},r.gcm.prototype.generateSubHashTable=function(h,c){var a=1<<c,d=a>>>1,f=new Array(a);f[d]=h.slice(0);for(var y=d>>>1;y>0;)this.pow(f[2*y],f[y]=[]),y>>=1;for(y=2;y<d;){for(var A=1;A<y;++A){var T=f[y],m=f[A];f[y+A]=[T[0]^m[0],T[1]^m[1],T[2]^m[2],T[3]^m[3]]}y*=2}for(f[0]=[0,0,0,0],y=d+1;y<a;++y){var S=f[y^d];f[y]=[h[0]^S[0],h[1]^S[1],h[2]^S[2],h[3]^S[3]]}return f};function i(h,c){if(typeof h=="string"&&(h=t.util.createBuffer(h)),t.util.isArray(h)&&h.length>4){var a=h;h=t.util.createBuffer();for(var d=0;d<a.length;++d)h.putByte(a[d])}if(h.length()<c)throw new Error("Invalid IV length; got "+h.length()+" bytes and expected "+c+" bytes.");if(!t.util.isArray(h)){for(var f=[],y=c/4,d=0;d<y;++d)f.push(h.getInt32());h=f}return h}function s(h){h[h.length-1]=h[h.length-1]+1&4294967295}function u(h){return[h/4294967296|0,h&4294967295]}}),Pa=Qe((e,n)=>{var t=lt();Jp(),bb(),St(),n.exports=t.aes=t.aes||{},t.aes.startEncrypting=function(m,S,B,k){var p=T({key:m,output:B,decrypt:!1,mode:k});return p.start(S),p},t.aes.createEncryptionCipher=function(m,S){return T({key:m,output:null,decrypt:!1,mode:S})},t.aes.startDecrypting=function(m,S,B,k){var p=T({key:m,output:B,decrypt:!0,mode:k});return p.start(S),p},t.aes.createDecryptionCipher=function(m,S){return T({key:m,output:null,decrypt:!0,mode:S})},t.aes.Algorithm=function(m,S){i||f();var B=this;B.name=m,B.mode=new S({blockSize:16,cipher:{encrypt:function(k,p){return A(B._w,k,p,!1)},decrypt:function(k,p){return A(B._w,k,p,!0)}}}),B._init=!1},t.aes.Algorithm.prototype.initialize=function(m){if(!this._init){var S=m.key,B;if(typeof S=="string"&&(S.length===16||S.length===24||S.length===32))S=t.util.createBuffer(S);else if(t.util.isArray(S)&&(S.length===16||S.length===24||S.length===32)){B=S,S=t.util.createBuffer();for(var k=0;k<B.length;++k)S.putByte(B[k])}if(!t.util.isArray(S)){B=S,S=[];var p=B.length();if(p===16||p===24||p===32){p=p>>>2;for(var k=0;k<p;++k)S.push(B.getInt32())}}if(!t.util.isArray(S)||!(S.length===4||S.length===6||S.length===8))throw new Error("Invalid key parameter.");var R=this.mode.name,E=["CFB","OFB","CTR","GCM"].indexOf(R)!==-1;this._w=y(S,m.decrypt&&!E),this._init=!0}},t.aes._expandKey=function(m,S){return i||f(),y(m,S)},t.aes._updateBlock=A,r("AES-ECB",t.cipher.modes.ecb),r("AES-CBC",t.cipher.modes.cbc),r("AES-CFB",t.cipher.modes.cfb),r("AES-OFB",t.cipher.modes.ofb),r("AES-CTR",t.cipher.modes.ctr),r("AES-GCM",t.cipher.modes.gcm);function r(m,S){var B=function(){return new t.aes.Algorithm(m,S)};t.cipher.registerAlgorithm(m,B)}var i=!1,s=4,u,h,c,a,d;function f(){i=!0,c=[0,1,2,4,8,16,32,64,128,27,54];for(var m=new Array(256),S=0;S<128;++S)m[S]=S<<1,m[S+128]=S+128<<1^283;u=new Array(256),h=new Array(256),a=new Array(4),d=new Array(4);for(var S=0;S<4;++S)a[S]=new Array(256),d[S]=new Array(256);for(var B=0,k=0,p,R,E,P,D,C,v,S=0;S<256;++S){P=k^k<<1^k<<2^k<<3^k<<4,P=P>>8^P&255^99,u[B]=P,h[P]=B,D=m[P],p=m[B],R=m[p],E=m[R],C=D<<24^P<<16^P<<8^(P^D),v=(p^R^E)<<24^(B^E)<<16^(B^R^E)<<8^(B^p^E);for(var g=0;g<4;++g)a[g][B]=C,d[g][P]=v,C=C<<24|C>>>8,v=v<<24|v>>>8;B===0?B=k=1:(B=p^m[m[m[p^E]]],k^=m[m[k]])}}function y(m,S){for(var B=m.slice(0),k,p=1,R=B.length,E=R+6+1,P=s*E,D=R;D<P;++D)k=B[D-1],D%R===0?(k=u[k>>>16&255]<<24^u[k>>>8&255]<<16^u[k&255]<<8^u[k>>>24]^c[p]<<24,p++):R>6&&D%R===4&&(k=u[k>>>24]<<24^u[k>>>16&255]<<16^u[k>>>8&255]<<8^u[k&255]),B[D]=B[D-R]^k;if(S){var C,v=d[0],g=d[1],M=d[2],V=d[3],q=B.slice(0);P=B.length;for(var D=0,w=P-s;D<P;D+=s,w-=s)if(D===0||D===P-s)q[D]=B[w],q[D+1]=B[w+3],q[D+2]=B[w+2],q[D+3]=B[w+1];else for(var U=0;U<s;++U)C=B[w+U],q[D+(3&-U)]=v[u[C>>>24]]^g[u[C>>>16&255]]^M[u[C>>>8&255]]^V[u[C&255]];B=q}return B}function A(m,S,B,k){var p=m.length/4-1,R,E,P,D,C;k?(R=d[0],E=d[1],P=d[2],D=d[3],C=h):(R=a[0],E=a[1],P=a[2],D=a[3],C=u);var v,g,M,V,q,w,U;v=S[0]^m[0],g=S[k?3:1]^m[1],M=S[2]^m[2],V=S[k?1:3]^m[3];for(var j=3,L=1;L<p;++L)q=R[v>>>24]^E[g>>>16&255]^P[M>>>8&255]^D[V&255]^m[++j],w=R[g>>>24]^E[M>>>16&255]^P[V>>>8&255]^D[v&255]^m[++j],U=R[M>>>24]^E[V>>>16&255]^P[v>>>8&255]^D[g&255]^m[++j],V=R[V>>>24]^E[v>>>16&255]^P[g>>>8&255]^D[M&255]^m[++j],v=q,g=w,M=U;B[0]=C[v>>>24]<<24^C[g>>>16&255]<<16^C[M>>>8&255]<<8^C[V&255]^m[++j],B[k?3:1]=C[g>>>24]<<24^C[M>>>16&255]<<16^C[V>>>8&255]<<8^C[v&255]^m[++j],B[2]=C[M>>>24]<<24^C[V>>>16&255]<<16^C[v>>>8&255]<<8^C[g&255]^m[++j],B[k?1:3]=C[V>>>24]<<24^C[v>>>16&255]<<16^C[g>>>8&255]<<8^C[M&255]^m[++j]}function T(m){m=m||{};var S=(m.mode||"CBC").toUpperCase(),B="AES-"+S,k;m.decrypt?k=t.cipher.createDecipher(B,m.key):k=t.cipher.createCipher(B,m.key);var p=k.start;return k.start=function(R,E){var P=null;E instanceof t.util.ByteBuffer&&(P=E,E={}),E=E||{},E.output=P,E.iv=R,p.call(k,E)},k}}),La=Qe((e,n)=>{var t=lt();t.pki=t.pki||{};var r=n.exports=t.pki.oids=t.oids=t.oids||{};function i(u,h){r[u]=h,r[h]=u}function s(u,h){r[u]=h}i("1.2.840.113549.1.1.1","rsaEncryption"),i("1.2.840.113549.1.1.4","md5WithRSAEncryption"),i("1.2.840.113549.1.1.5","sha1WithRSAEncryption"),i("1.2.840.113549.1.1.7","RSAES-OAEP"),i("1.2.840.113549.1.1.8","mgf1"),i("1.2.840.113549.1.1.9","pSpecified"),i("1.2.840.113549.1.1.10","RSASSA-PSS"),i("1.2.840.113549.1.1.11","sha256WithRSAEncryption"),i("1.2.840.113549.1.1.12","sha384WithRSAEncryption"),i("1.2.840.113549.1.1.13","sha512WithRSAEncryption"),i("1.3.101.112","EdDSA25519"),i("1.2.840.10040.4.3","dsa-with-sha1"),i("1.3.14.3.2.7","desCBC"),i("1.3.14.3.2.26","sha1"),i("1.3.14.3.2.29","sha1WithRSASignature"),i("2.16.840.1.101.3.4.2.1","sha256"),i("2.16.840.1.101.3.4.2.2","sha384"),i("2.16.840.1.101.3.4.2.3","sha512"),i("2.16.840.1.101.3.4.2.4","sha224"),i("2.16.840.1.101.3.4.2.5","sha512-224"),i("2.16.840.1.101.3.4.2.6","sha512-256"),i("1.2.840.113549.2.2","md2"),i("1.2.840.113549.2.5","md5"),i("1.2.840.113549.1.7.1","data"),i("1.2.840.113549.1.7.2","signedData"),i("1.2.840.113549.1.7.3","envelopedData"),i("1.2.840.113549.1.7.4","signedAndEnvelopedData"),i("1.2.840.113549.1.7.5","digestedData"),i("1.2.840.113549.1.7.6","encryptedData"),i("1.2.840.113549.1.9.1","emailAddress"),i("1.2.840.113549.1.9.2","unstructuredName"),i("1.2.840.113549.1.9.3","contentType"),i("1.2.840.113549.1.9.4","messageDigest"),i("1.2.840.113549.1.9.5","signingTime"),i("1.2.840.113549.1.9.6","counterSignature"),i("1.2.840.113549.1.9.7","challengePassword"),i("1.2.840.113549.1.9.8","unstructuredAddress"),i("1.2.840.113549.1.9.14","extensionRequest"),i("1.2.840.113549.1.9.20","friendlyName"),i("1.2.840.113549.1.9.21","localKeyId"),i("1.2.840.113549.1.9.22.1","x509Certificate"),i("1.2.840.113549.1.12.10.1.1","keyBag"),i("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag"),i("1.2.840.113549.1.12.10.1.3","certBag"),i("1.2.840.113549.1.12.10.1.4","crlBag"),i("1.2.840.113549.1.12.10.1.5","secretBag"),i("1.2.840.113549.1.12.10.1.6","safeContentsBag"),i("1.2.840.113549.1.5.13","pkcs5PBES2"),i("1.2.840.113549.1.5.12","pkcs5PBKDF2"),i("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4"),i("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4"),i("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC"),i("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC"),i("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC"),i("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC"),i("1.2.840.113549.2.7","hmacWithSHA1"),i("1.2.840.113549.2.8","hmacWithSHA224"),i("1.2.840.113549.2.9","hmacWithSHA256"),i("1.2.840.113549.2.10","hmacWithSHA384"),i("1.2.840.113549.2.11","hmacWithSHA512"),i("1.2.840.113549.3.7","des-EDE3-CBC"),i("2.16.840.1.101.3.4.1.2","aes128-CBC"),i("2.16.840.1.101.3.4.1.22","aes192-CBC"),i("2.16.840.1.101.3.4.1.42","aes256-CBC"),i("2.5.4.3","commonName"),i("2.5.4.4","surname"),i("2.5.4.5","serialNumber"),i("2.5.4.6","countryName"),i("2.5.4.7","localityName"),i("2.5.4.8","stateOrProvinceName"),i("2.5.4.9","streetAddress"),i("2.5.4.10","organizationName"),i("2.5.4.11","organizationalUnitName"),i("2.5.4.12","title"),i("2.5.4.13","description"),i("2.5.4.15","businessCategory"),i("2.5.4.17","postalCode"),i("2.5.4.42","givenName"),i("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName"),i("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName"),i("2.16.840.1.113730.1.1","nsCertType"),i("2.16.840.1.113730.1.13","nsComment"),s("2.5.29.1","authorityKeyIdentifier"),s("2.5.29.2","keyAttributes"),s("2.5.29.3","certificatePolicies"),s("2.5.29.4","keyUsageRestriction"),s("2.5.29.5","policyMapping"),s("2.5.29.6","subtreesConstraint"),s("2.5.29.7","subjectAltName"),s("2.5.29.8","issuerAltName"),s("2.5.29.9","subjectDirectoryAttributes"),s("2.5.29.10","basicConstraints"),s("2.5.29.11","nameConstraints"),s("2.5.29.12","policyConstraints"),s("2.5.29.13","basicConstraints"),i("2.5.29.14","subjectKeyIdentifier"),i("2.5.29.15","keyUsage"),s("2.5.29.16","privateKeyUsagePeriod"),i("2.5.29.17","subjectAltName"),i("2.5.29.18","issuerAltName"),i("2.5.29.19","basicConstraints"),s("2.5.29.20","cRLNumber"),s("2.5.29.21","cRLReason"),s("2.5.29.22","expirationDate"),s("2.5.29.23","instructionCode"),s("2.5.29.24","invalidityDate"),s("2.5.29.25","cRLDistributionPoints"),s("2.5.29.26","issuingDistributionPoint"),s("2.5.29.27","deltaCRLIndicator"),s("2.5.29.28","issuingDistributionPoint"),s("2.5.29.29","certificateIssuer"),s("2.5.29.30","nameConstraints"),i("2.5.29.31","cRLDistributionPoints"),i("2.5.29.32","certificatePolicies"),s("2.5.29.33","policyMappings"),s("2.5.29.34","policyConstraints"),i("2.5.29.35","authorityKeyIdentifier"),s("2.5.29.36","policyConstraints"),i("2.5.29.37","extKeyUsage"),s("2.5.29.46","freshestCRL"),s("2.5.29.54","inhibitAnyPolicy"),i("1.3.6.1.4.1.11129.2.4.2","timestampList"),i("1.3.6.1.5.5.7.1.1","authorityInfoAccess"),i("1.3.6.1.5.5.7.3.1","serverAuth"),i("1.3.6.1.5.5.7.3.2","clientAuth"),i("1.3.6.1.5.5.7.3.3","codeSigning"),i("1.3.6.1.5.5.7.3.4","emailProtection"),i("1.3.6.1.5.5.7.3.8","timeStamping")}),ki=Qe((e,n)=>{var t=lt();St(),La();var r=n.exports=t.asn1=t.asn1||{};r.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192},r.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30},r.create=function(c,a,d,f,y){if(t.util.isArray(f)){for(var A=[],T=0;T<f.length;++T)f[T]!==void 0&&A.push(f[T]);f=A}var m={tagClass:c,type:a,constructed:d,composed:d||t.util.isArray(f),value:f};return y&&"bitStringContents"in y&&(m.bitStringContents=y.bitStringContents,m.original=r.copy(m)),m},r.copy=function(c,a){var d;if(t.util.isArray(c)){d=[];for(var f=0;f<c.length;++f)d.push(r.copy(c[f],a));return d}return typeof c=="string"?c:(d={tagClass:c.tagClass,type:c.type,constructed:c.constructed,composed:c.composed,value:r.copy(c.value,a)},a&&!a.excludeBitStringContents&&(d.bitStringContents=c.bitStringContents),d)},r.equals=function(c,a,d){if(t.util.isArray(c)){if(!t.util.isArray(a)||c.length!==a.length)return!1;for(var f=0;f<c.length;++f)if(!r.equals(c[f],a[f]))return!1;return!0}if(typeof c!=typeof a)return!1;if(typeof c=="string")return c===a;var y=c.tagClass===a.tagClass&&c.type===a.type&&c.constructed===a.constructed&&c.composed===a.composed&&r.equals(c.value,a.value);return d&&d.includeBitStringContents&&(y=y&&c.bitStringContents===a.bitStringContents),y},r.getBerValueLength=function(c){var a=c.getByte();if(a!==128){var d,f=a&128;return f?d=c.getInt((a&127)<<3):d=a,d}};function i(c,a,d){if(d>a){var f=new Error("Too few bytes to parse DER.");throw f.available=c.length(),f.remaining=a,f.requested=d,f}}var s=function(c,a){var d=c.getByte();if(a--,d!==128){var f,y=d&128;if(!y)f=d;else{var A=d&127;i(c,a,A),f=c.getInt(A<<3)}if(f<0)throw new Error("Negative length: "+f);return f}};r.fromDer=function(c,a){a===void 0&&(a={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),typeof a=="boolean"&&(a={strict:a,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in a||(a.strict=!0),"parseAllBytes"in a||(a.parseAllBytes=!0),"decodeBitStrings"in a||(a.decodeBitStrings=!0),typeof c=="string"&&(c=t.util.createBuffer(c));var d=c.length(),f=u(c,c.length(),0,a);if(a.parseAllBytes&&c.length()!==0){var y=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw y.byteCount=d,y.remaining=c.length(),y}return f};function u(c,a,d,f){var y;i(c,a,2);var A=c.getByte();a--;var T=A&192,m=A&31;y=c.length();var S=s(c,a);if(a-=y-c.length(),S!==void 0&&S>a){if(f.strict){var B=new Error("Too few bytes to read ASN.1 value.");throw B.available=c.length(),B.remaining=a,B.requested=S,B}S=a}var k,p,R=(A&32)===32;if(R)if(k=[],S===void 0)for(;;){if(i(c,a,2),c.bytes(2)===String.fromCharCode(0,0)){c.getBytes(2),a-=2;break}y=c.length(),k.push(u(c,a,d+1,f)),a-=y-c.length()}else for(;S>0;)y=c.length(),k.push(u(c,S,d+1,f)),a-=y-c.length(),S-=y-c.length();if(k===void 0&&T===r.Class.UNIVERSAL&&m===r.Type.BITSTRING&&(p=c.bytes(S)),k===void 0&&f.decodeBitStrings&&T===r.Class.UNIVERSAL&&m===r.Type.BITSTRING&&S>1){var E=c.read,P=a,D=0;if(m===r.Type.BITSTRING&&(i(c,a,1),D=c.getByte(),a--),D===0)try{y=c.length();var C={strict:!0,decodeBitStrings:!0},v=u(c,a,d+1,C),g=y-c.length();a-=g,m==r.Type.BITSTRING&&g++;var M=v.tagClass;g===S&&(M===r.Class.UNIVERSAL||M===r.Class.CONTEXT_SPECIFIC)&&(k=[v])}catch{}k===void 0&&(c.read=E,a=P)}if(k===void 0){if(S===void 0){if(f.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");S=a}if(m===r.Type.BMPSTRING)for(k="";S>0;S-=2)i(c,a,2),k+=String.fromCharCode(c.getInt16()),a-=2;else k=c.getBytes(S),a-=S}var V=p===void 0?null:{bitStringContents:p};return r.create(T,m,R,k,V)}r.toDer=function(c){var a=t.util.createBuffer(),d=c.tagClass|c.type,f=t.util.createBuffer(),y=!1;if("bitStringContents"in c&&(y=!0,c.original&&(y=r.equals(c,c.original))),y)f.putBytes(c.bitStringContents);else if(c.composed){c.constructed?d|=32:f.putByte(0);for(var A=0;A<c.value.length;++A)c.value[A]!==void 0&&f.putBuffer(r.toDer(c.value[A]))}else if(c.type===r.Type.BMPSTRING)for(var A=0;A<c.value.length;++A)f.putInt16(c.value.charCodeAt(A));else c.type===r.Type.INTEGER&&c.value.length>1&&(c.value.charCodeAt(0)===0&&!(c.value.charCodeAt(1)&128)||c.value.charCodeAt(0)===255&&(c.value.charCodeAt(1)&128)===128)?f.putBytes(c.value.substr(1)):f.putBytes(c.value);if(a.putByte(d),f.length()<=127)a.putByte(f.length()&127);else{var T=f.length(),m="";do m+=String.fromCharCode(T&255),T=T>>>8;while(T>0);a.putByte(m.length|128);for(var A=m.length-1;A>=0;--A)a.putByte(m.charCodeAt(A))}return a.putBuffer(f),a},r.oidToDer=function(c){var a=c.split("."),d=t.util.createBuffer();d.putByte(40*parseInt(a[0],10)+parseInt(a[1],10));for(var f,y,A,T,m=2;m<a.length;++m){f=!0,y=[],A=parseInt(a[m],10);do T=A&127,A=A>>>7,f||(T|=128),y.push(T),f=!1;while(A>0);for(var S=y.length-1;S>=0;--S)d.putByte(y[S])}return d},r.derToOid=function(c){var a;typeof c=="string"&&(c=t.util.createBuffer(c));var d=c.getByte();a=Math.floor(d/40)+"."+d%40;for(var f=0;c.length()>0;)d=c.getByte(),f=f<<7,d&128?f+=d&127:(a+="."+(f+d),f=0);return a},r.utcTimeToDate=function(c){var a=new Date,d=parseInt(c.substr(0,2),10);d=d>=50?1900+d:2e3+d;var f=parseInt(c.substr(2,2),10)-1,y=parseInt(c.substr(4,2),10),A=parseInt(c.substr(6,2),10),T=parseInt(c.substr(8,2),10),m=0;if(c.length>11){var S=c.charAt(10),B=10;S!=="+"&&S!=="-"&&(m=parseInt(c.substr(10,2),10),B+=2)}if(a.setUTCFullYear(d,f,y),a.setUTCHours(A,T,m,0),B&&(S=c.charAt(B),S==="+"||S==="-")){var k=parseInt(c.substr(B+1,2),10),p=parseInt(c.substr(B+4,2),10),R=k*60+p;R*=6e4,S==="+"?a.setTime(+a-R):a.setTime(+a+R)}return a},r.generalizedTimeToDate=function(c){var a=new Date,d=parseInt(c.substr(0,4),10),f=parseInt(c.substr(4,2),10)-1,y=parseInt(c.substr(6,2),10),A=parseInt(c.substr(8,2),10),T=parseInt(c.substr(10,2),10),m=parseInt(c.substr(12,2),10),S=0,B=0,k=!1;c.charAt(c.length-1)==="Z"&&(k=!0);var p=c.length-5,R=c.charAt(p);if(R==="+"||R==="-"){var E=parseInt(c.substr(p+1,2),10),P=parseInt(c.substr(p+4,2),10);B=E*60+P,B*=6e4,R==="+"&&(B*=-1),k=!0}return c.charAt(14)==="."&&(S=parseFloat(c.substr(14),10)*1e3),k?(a.setUTCFullYear(d,f,y),a.setUTCHours(A,T,m,S),a.setTime(+a+B)):(a.setFullYear(d,f,y),a.setHours(A,T,m,S)),a},r.dateToUtcTime=function(c){if(typeof c=="string")return c;var a="",d=[];d.push((""+c.getUTCFullYear()).substr(2)),d.push(""+(c.getUTCMonth()+1)),d.push(""+c.getUTCDate()),d.push(""+c.getUTCHours()),d.push(""+c.getUTCMinutes()),d.push(""+c.getUTCSeconds());for(var f=0;f<d.length;++f)d[f].length<2&&(a+="0"),a+=d[f];return a+="Z",a},r.dateToGeneralizedTime=function(c){if(typeof c=="string")return c;var a="",d=[];d.push(""+c.getUTCFullYear()),d.push(""+(c.getUTCMonth()+1)),d.push(""+c.getUTCDate()),d.push(""+c.getUTCHours()),d.push(""+c.getUTCMinutes()),d.push(""+c.getUTCSeconds());for(var f=0;f<d.length;++f)d[f].length<2&&(a+="0"),a+=d[f];return a+="Z",a},r.integerToDer=function(c){var a=t.util.createBuffer();if(c>=-128&&c<128)return a.putSignedInt(c,8);if(c>=-32768&&c<32768)return a.putSignedInt(c,16);if(c>=-8388608&&c<8388608)return a.putSignedInt(c,24);if(c>=-2147483648&&c<2147483648)return a.putSignedInt(c,32);var d=new Error("Integer too large; max is 32-bits.");throw d.integer=c,d},r.derToInteger=function(c){typeof c=="string"&&(c=t.util.createBuffer(c));var a=c.length()*8;if(a>32)throw new Error("Integer too large; max is 32-bits.");return c.getSignedInt(a)},r.validate=function(c,a,d,f){var y=!1;if((c.tagClass===a.tagClass||typeof a.tagClass>"u")&&(c.type===a.type||typeof a.type>"u"))if(c.constructed===a.constructed||typeof a.constructed>"u"){if(y=!0,a.value&&t.util.isArray(a.value))for(var A=0,T=0;y&&T<a.value.length;++T)y=a.value[T].optional||!1,c.value[A]&&(y=r.validate(c.value[A],a.value[T],d,f),y?++A:a.value[T].optional&&(y=!0)),!y&&f&&f.push("["+a.name+'] Tag class "'+a.tagClass+'", type "'+a.type+'" expected value length "'+a.value.length+'", got "'+c.value.length+'"');if(y&&d&&(a.capture&&(d[a.capture]=c.value),a.captureAsn1&&(d[a.captureAsn1]=c),a.captureBitStringContents&&"bitStringContents"in c&&(d[a.captureBitStringContents]=c.bitStringContents),a.captureBitStringValue&&"bitStringContents"in c)){var m;if(c.bitStringContents.length<2)d[a.captureBitStringValue]="";else{var S=c.bitStringContents.charCodeAt(0);if(S!==0)throw new Error("captureBitStringValue only supported for zero unused bits");d[a.captureBitStringValue]=c.bitStringContents.slice(1)}}}else f&&f.push("["+a.name+'] Expected constructed "'+a.constructed+'", got "'+c.constructed+'"');else f&&(c.tagClass!==a.tagClass&&f.push("["+a.name+'] Expected tag class "'+a.tagClass+'", got "'+c.tagClass+'"'),c.type!==a.type&&f.push("["+a.name+'] Expected type "'+a.type+'", got "'+c.type+'"'));return y};var h=/[^\\u0000-\\u00ff]/;r.prettyPrint=function(c,a,d){var f="";a=a||0,d=d||2,a>0&&(f+=`
`);for(var y="",A=0;A<a*d;++A)y+=" ";switch(f+=y+"Tag: ",c.tagClass){case r.Class.UNIVERSAL:f+="Universal:";break;case r.Class.APPLICATION:f+="Application:";break;case r.Class.CONTEXT_SPECIFIC:f+="Context-Specific:";break;case r.Class.PRIVATE:f+="Private:";break}if(c.tagClass===r.Class.UNIVERSAL)switch(f+=c.type,c.type){case r.Type.NONE:f+=" (None)";break;case r.Type.BOOLEAN:f+=" (Boolean)";break;case r.Type.INTEGER:f+=" (Integer)";break;case r.Type.BITSTRING:f+=" (Bit string)";break;case r.Type.OCTETSTRING:f+=" (Octet string)";break;case r.Type.NULL:f+=" (Null)";break;case r.Type.OID:f+=" (Object Identifier)";break;case r.Type.ODESC:f+=" (Object Descriptor)";break;case r.Type.EXTERNAL:f+=" (External or Instance of)";break;case r.Type.REAL:f+=" (Real)";break;case r.Type.ENUMERATED:f+=" (Enumerated)";break;case r.Type.EMBEDDED:f+=" (Embedded PDV)";break;case r.Type.UTF8:f+=" (UTF8)";break;case r.Type.ROID:f+=" (Relative Object Identifier)";break;case r.Type.SEQUENCE:f+=" (Sequence)";break;case r.Type.SET:f+=" (Set)";break;case r.Type.PRINTABLESTRING:f+=" (Printable String)";break;case r.Type.IA5String:f+=" (IA5String (ASCII))";break;case r.Type.UTCTIME:f+=" (UTC time)";break;case r.Type.GENERALIZEDTIME:f+=" (Generalized time)";break;case r.Type.BMPSTRING:f+=" (BMP String)";break}else f+=c.type;if(f+=`
`,f+=y+"Constructed: "+c.constructed+`
`,c.composed){for(var T=0,m="",A=0;A<c.value.length;++A)c.value[A]!==void 0&&(T+=1,m+=r.prettyPrint(c.value[A],a+1,d),A+1<c.value.length&&(m+=","));f+=y+"Sub values: "+T+m}else{if(f+=y+"Value: ",c.type===r.Type.OID){var S=r.derToOid(c.value);f+=S,t.pki&&t.pki.oids&&S in t.pki.oids&&(f+=" ("+t.pki.oids[S]+") ")}if(c.type===r.Type.INTEGER)try{f+=r.derToInteger(c.value)}catch{f+="0x"+t.util.bytesToHex(c.value)}else if(c.type===r.Type.BITSTRING){if(c.value.length>1?f+="0x"+t.util.bytesToHex(c.value.slice(1)):f+="(none)",c.value.length>0){var B=c.value.charCodeAt(0);B==1?f+=" (1 unused bit shown)":B>1&&(f+=" ("+B+" unused bits shown)")}}else if(c.type===r.Type.OCTETSTRING)h.test(c.value)||(f+="("+c.value+") "),f+="0x"+t.util.bytesToHex(c.value);else if(c.type===r.Type.UTF8)try{f+=t.util.decodeUtf8(c.value)}catch(k){if(k.message==="URI malformed")f+="0x"+t.util.bytesToHex(c.value)+" (malformed UTF8)";else throw k}else c.type===r.Type.PRINTABLESTRING||c.type===r.Type.IA5String?f+=c.value:h.test(c.value)?f+="0x"+t.util.bytesToHex(c.value):c.value.length===0?f+="[null]":f+=c.value}return f}}),fo=Qe((e,n)=>{var t=lt();n.exports=t.md=t.md||{},t.md.algorithms=t.md.algorithms||{}}),Gu=Qe((e,n)=>{var t=lt();fo(),St();var r=n.exports=t.hmac=t.hmac||{};r.create=function(){var i=null,s=null,u=null,h=null,c={};return c.start=function(a,d){if(a!==null)if(typeof a=="string")if(a=a.toLowerCase(),a in t.md.algorithms)s=t.md.algorithms[a].create();else throw new Error('Unknown hash algorithm "'+a+'"');else s=a;if(d===null)d=i;else{if(typeof d=="string")d=t.util.createBuffer(d);else if(t.util.isArray(d)){var f=d;d=t.util.createBuffer();for(var y=0;y<f.length;++y)d.putByte(f[y])}var A=d.length();A>s.blockLength&&(s.start(),s.update(d.bytes()),d=s.digest()),u=t.util.createBuffer(),h=t.util.createBuffer(),A=d.length();for(var y=0;y<A;++y){var f=d.at(y);u.putByte(54^f),h.putByte(92^f)}if(A<s.blockLength)for(var f=s.blockLength-A,y=0;y<f;++y)u.putByte(54),h.putByte(92);i=d,u=u.bytes(),h=h.bytes()}s.start(),s.update(u)},c.update=function(a){s.update(a)},c.getMac=function(){var a=s.digest().bytes();return s.start(),s.update(h),s.update(a),s.digest()},c.digest=c.getMac,c}}),Zp=Qe((e,n)=>{var t=lt();fo(),St();var r=n.exports=t.md5=t.md5||{};t.md.md5=t.md.algorithms.md5=r,r.create=function(){c||a();var f=null,y=t.util.createBuffer(),A=new Array(16),T={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8};return T.start=function(){T.messageLength=0,T.fullMessageLength=T.messageLength64=[];for(var m=T.messageLengthSize/4,S=0;S<m;++S)T.fullMessageLength.push(0);return y=t.util.createBuffer(),f={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},T},T.start(),T.update=function(m,S){S==="utf8"&&(m=t.util.encodeUtf8(m));var B=m.length;T.messageLength+=B,B=[B/4294967296>>>0,B>>>0];for(var k=T.fullMessageLength.length-1;k>=0;--k)T.fullMessageLength[k]+=B[1],B[1]=B[0]+(T.fullMessageLength[k]/4294967296>>>0),T.fullMessageLength[k]=T.fullMessageLength[k]>>>0,B[0]=B[1]/4294967296>>>0;return y.putBytes(m),d(f,A,y),(y.read>2048||y.length()===0)&&y.compact(),T},T.digest=function(){var m=t.util.createBuffer();m.putBytes(y.bytes());var S=T.fullMessageLength[T.fullMessageLength.length-1]+T.messageLengthSize,B=S&T.blockLength-1;m.putBytes(i.substr(0,T.blockLength-B));for(var k,p=0,R=T.fullMessageLength.length-1;R>=0;--R)k=T.fullMessageLength[R]*8+p,p=k/4294967296>>>0,m.putInt32Le(k>>>0);var E={h0:f.h0,h1:f.h1,h2:f.h2,h3:f.h3};d(E,A,m);var P=t.util.createBuffer();return P.putInt32Le(E.h0),P.putInt32Le(E.h1),P.putInt32Le(E.h2),P.putInt32Le(E.h3),P},T};var i=null,s=null,u=null,h=null,c=!1;function a(){i=String.fromCharCode(128),i+=t.util.fillString(String.fromCharCode(0),64),s=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],u=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],h=new Array(64);for(var f=0;f<64;++f)h[f]=Math.floor(Math.abs(Math.sin(f+1))*4294967296);c=!0}function d(f,y,A){for(var T,m,S,B,k,p,R,E,P=A.length();P>=64;){for(m=f.h0,S=f.h1,B=f.h2,k=f.h3,E=0;E<16;++E)y[E]=A.getInt32Le(),p=k^S&(B^k),T=m+p+h[E]+y[E],R=u[E],m=k,k=B,B=S,S+=T<<R|T>>>32-R;for(;E<32;++E)p=B^k&(S^B),T=m+p+h[E]+y[s[E]],R=u[E],m=k,k=B,B=S,S+=T<<R|T>>>32-R;for(;E<48;++E)p=S^B^k,T=m+p+h[E]+y[s[E]],R=u[E],m=k,k=B,B=S,S+=T<<R|T>>>32-R;for(;E<64;++E)p=B^(S|~k),T=m+p+h[E]+y[s[E]],R=u[E],m=k,k=B,B=S,S+=T<<R|T>>>32-R;f.h0=f.h0+m|0,f.h1=f.h1+S|0,f.h2=f.h2+B|0,f.h3=f.h3+k|0,P-=64}}}),Bs=Qe((e,n)=>{var t=lt();St();var r=n.exports=t.pem=t.pem||{};r.encode=function(u,h){h=h||{};var c="-----BEGIN "+u.type+`-----\r
`,a;if(u.procType&&(a={name:"Proc-Type",values:[String(u.procType.version),u.procType.type]},c+=i(a)),u.contentDomain&&(a={name:"Content-Domain",values:[u.contentDomain]},c+=i(a)),u.dekInfo&&(a={name:"DEK-Info",values:[u.dekInfo.algorithm]},u.dekInfo.parameters&&a.values.push(u.dekInfo.parameters),c+=i(a)),u.headers)for(var d=0;d<u.headers.length;++d)c+=i(u.headers[d]);return u.procType&&(c+=`\r
`),c+=t.util.encode64(u.body,h.maxline||64)+`\r
`,c+="-----END "+u.type+`-----\r
`,c},r.decode=function(u){for(var h=[],c=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,a=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,d=/\r?\n/,f;f=c.exec(u),!!f;){var y=f[1];y==="NEW CERTIFICATE REQUEST"&&(y="CERTIFICATE REQUEST");var A={type:y,procType:null,contentDomain:null,dekInfo:null,headers:[],body:t.util.decode64(f[3])};if(h.push(A),!!f[2]){for(var T=f[2].split(d),m=0;f&&m<T.length;){for(var S=T[m].replace(/\s+$/,""),B=m+1;B<T.length;++B){var k=T[B];if(!/\s/.test(k[0]))break;S+=k,m=B}if(f=S.match(a),f){for(var p={name:f[1],values:[]},R=f[2].split(","),E=0;E<R.length;++E)p.values.push(s(R[E]));if(A.procType)if(!A.contentDomain&&p.name==="Content-Domain")A.contentDomain=R[0]||"";else if(!A.dekInfo&&p.name==="DEK-Info"){if(p.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');A.dekInfo={algorithm:R[0],parameters:R[1]||null}}else A.headers.push(p);else{if(p.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(p.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');A.procType={version:R[0],type:R[1]}}}++m}if(A.procType==="ENCRYPTED"&&!A.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(h.length===0)throw new Error("Invalid PEM formatted message.");return h};function i(u){for(var h=u.name+": ",c=[],a=function(T,m){return" "+m},d=0;d<u.values.length;++d)c.push(u.values[d].replace(/^(\S+\r\n)/,a));h+=c.join(",")+`\r
`;for(var f=0,y=-1,d=0;d<h.length;++d,++f)if(f>65&&y!==-1){var A=h[y];A===","?(++y,h=h.substr(0,y)+`\r
 `+h.substr(y)):h=h.substr(0,y)+`\r
`+A+h.substr(y+1),f=d-y-1,y=-1,++d}else(h[d]===" "||h[d]==="	"||h[d]===",")&&(y=d);return h}function s(u){return u.replace(/^\s+/,"")}}),yh=Qe((e,n)=>{var t=lt();Jp(),bb(),St(),n.exports=t.des=t.des||{},t.des.startEncrypting=function(m,S,B,k){var p=T({key:m,output:B,decrypt:!1,mode:k||(S===null?"ECB":"CBC")});return p.start(S),p},t.des.createEncryptionCipher=function(m,S){return T({key:m,output:null,decrypt:!1,mode:S})},t.des.startDecrypting=function(m,S,B,k){var p=T({key:m,output:B,decrypt:!0,mode:k||(S===null?"ECB":"CBC")});return p.start(S),p},t.des.createDecryptionCipher=function(m,S){return T({key:m,output:null,decrypt:!0,mode:S})},t.des.Algorithm=function(m,S){var B=this;B.name=m,B.mode=new S({blockSize:8,cipher:{encrypt:function(k,p){return A(B._keys,k,p,!1)},decrypt:function(k,p){return A(B._keys,k,p,!0)}}}),B._init=!1},t.des.Algorithm.prototype.initialize=function(m){if(!this._init){var S=t.util.createBuffer(m.key);if(this.name.indexOf("3DES")===0&&S.length()!==24)throw new Error("Invalid Triple-DES key size: "+S.length()*8);this._keys=y(S),this._init=!0}},r("DES-ECB",t.cipher.modes.ecb),r("DES-CBC",t.cipher.modes.cbc),r("DES-CFB",t.cipher.modes.cfb),r("DES-OFB",t.cipher.modes.ofb),r("DES-CTR",t.cipher.modes.ctr),r("3DES-ECB",t.cipher.modes.ecb),r("3DES-CBC",t.cipher.modes.cbc),r("3DES-CFB",t.cipher.modes.cfb),r("3DES-OFB",t.cipher.modes.ofb),r("3DES-CTR",t.cipher.modes.ctr);function r(m,S){var B=function(){return new t.des.Algorithm(m,S)};t.cipher.registerAlgorithm(m,B)}var i=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],s=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],u=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],h=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],c=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],a=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],d=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],f=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function y(m){for(var S=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],B=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],k=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],p=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],R=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],E=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],P=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],D=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],C=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],v=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],g=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],M=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],V=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],q=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],w=m.length()>8?3:1,U=[],j=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],L=0,F,ee=0;ee<w;ee++){var ue=m.getInt32(),se=m.getInt32();F=(ue>>>4^se)&252645135,se^=F,ue^=F<<4,F=(se>>>-16^ue)&65535,ue^=F,se^=F<<-16,F=(ue>>>2^se)&858993459,se^=F,ue^=F<<2,F=(se>>>-16^ue)&65535,ue^=F,se^=F<<-16,F=(ue>>>1^se)&1431655765,se^=F,ue^=F<<1,F=(se>>>8^ue)&16711935,ue^=F,se^=F<<8,F=(ue>>>1^se)&1431655765,se^=F,ue^=F<<1,F=ue<<8|se>>>20&240,ue=se<<24|se<<8&16711680|se>>>8&65280|se>>>24&240,se=F;for(var pe=0;pe<j.length;++pe){j[pe]?(ue=ue<<2|ue>>>26,se=se<<2|se>>>26):(ue=ue<<1|ue>>>27,se=se<<1|se>>>27),ue&=-15,se&=-15;var ke=S[ue>>>28]|B[ue>>>24&15]|k[ue>>>20&15]|p[ue>>>16&15]|R[ue>>>12&15]|E[ue>>>8&15]|P[ue>>>4&15],Le=D[se>>>28]|C[se>>>24&15]|v[se>>>20&15]|g[se>>>16&15]|M[se>>>12&15]|V[se>>>8&15]|q[se>>>4&15];F=(Le>>>16^ke)&65535,U[L++]=ke^F,U[L++]=Le^F<<16}}return U}function A(m,S,B,k){var p=m.length===32?3:9,R;p===3?R=k?[30,-2,-2]:[0,32,2]:R=k?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var E,P=S[0],D=S[1];E=(P>>>4^D)&252645135,D^=E,P^=E<<4,E=(P>>>16^D)&65535,D^=E,P^=E<<16,E=(D>>>2^P)&858993459,P^=E,D^=E<<2,E=(D>>>8^P)&16711935,P^=E,D^=E<<8,E=(P>>>1^D)&1431655765,D^=E,P^=E<<1,P=P<<1|P>>>31,D=D<<1|D>>>31;for(var C=0;C<p;C+=3){for(var v=R[C+1],g=R[C+2],M=R[C];M!=v;M+=g){var V=D^m[M],q=(D>>>4|D<<28)^m[M+1];E=P,P=D,D=E^(s[V>>>24&63]|h[V>>>16&63]|a[V>>>8&63]|f[V&63]|i[q>>>24&63]|u[q>>>16&63]|c[q>>>8&63]|d[q&63])}E=P,P=D,D=E}P=P>>>1|P<<31,D=D>>>1|D<<31,E=(P>>>1^D)&1431655765,D^=E,P^=E<<1,E=(D>>>8^P)&16711935,P^=E,D^=E<<8,E=(D>>>2^P)&858993459,P^=E,D^=E<<2,E=(P>>>16^D)&65535,D^=E,P^=E<<16,E=(P>>>4^D)&252645135,D^=E,P^=E<<4,B[0]=P,B[1]=D}function T(m){m=m||{};var S=(m.mode||"CBC").toUpperCase(),B="DES-"+S,k;m.decrypt?k=t.cipher.createDecipher(B,m.key):k=t.cipher.createCipher(B,m.key);var p=k.start;return k.start=function(R,E){var P=null;E instanceof t.util.ByteBuffer&&(P=E,E={}),E=E||{},E.output=P,E.iv=R,p.call(k,E)},k}}),e0=Qe((e,n)=>{var t=lt();Gu(),fo(),St();var r=t.pkcs5=t.pkcs5||{},i;t.util.isNodejs&&!t.options.usePureJavaScript&&(i=bs("crypto")),n.exports=t.pbkdf2=r.pbkdf2=function(s,u,h,c,a,d){if(typeof a=="function"&&(d=a,a=null),t.util.isNodejs&&!t.options.usePureJavaScript&&i.pbkdf2&&(a===null||typeof a!="object")&&(i.pbkdf2Sync.length>4||!a||a==="sha1"))return typeof a!="string"&&(a="sha1"),s=Buffer.from(s,"binary"),u=Buffer.from(u,"binary"),d?i.pbkdf2Sync.length===4?i.pbkdf2(s,u,h,c,function(C,v){if(C)return d(C);d(null,v.toString("binary"))}):i.pbkdf2(s,u,h,c,a,function(C,v){if(C)return d(C);d(null,v.toString("binary"))}):i.pbkdf2Sync.length===4?i.pbkdf2Sync(s,u,h,c).toString("binary"):i.pbkdf2Sync(s,u,h,c,a).toString("binary");if((typeof a>"u"||a===null)&&(a="sha1"),typeof a=="string"){if(!(a in t.md.algorithms))throw new Error("Unknown hash algorithm: "+a);a=t.md[a].create()}var f=a.digestLength;if(c>4294967295*f){var y=new Error("Derived key is too long.");if(d)return d(y);throw y}var A=Math.ceil(c/f),T=c-(A-1)*f,m=t.hmac.create();m.start(a,s);var S="",B,k,p;if(!d){for(var R=1;R<=A;++R){m.start(null,null),m.update(u),m.update(t.util.int32ToBytes(R)),B=p=m.digest().getBytes();for(var E=2;E<=h;++E)m.start(null,null),m.update(p),k=m.digest().getBytes(),B=t.util.xorBytes(B,k,f),p=k;S+=R<A?B:B.substr(0,T)}return S}var R=1,E;function P(){if(R>A)return d(null,S);m.start(null,null),m.update(u),m.update(t.util.int32ToBytes(R)),B=p=m.digest().getBytes(),E=2,D()}function D(){if(E<=h)return m.start(null,null),m.update(p),k=m.digest().getBytes(),B=t.util.xorBytes(B,k,f),p=k,++E,t.util.setImmediate(D);S+=R<A?B:B.substr(0,T),++R,P()}P()}}),_b=Qe((e,n)=>{var t=lt();fo(),St();var r=n.exports=t.sha256=t.sha256||{};t.md.sha256=t.md.algorithms.sha256=r,r.create=function(){s||h();var a=null,d=t.util.createBuffer(),f=new Array(64),y={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return y.start=function(){y.messageLength=0,y.fullMessageLength=y.messageLength64=[];for(var A=y.messageLengthSize/4,T=0;T<A;++T)y.fullMessageLength.push(0);return d=t.util.createBuffer(),a={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},y},y.start(),y.update=function(A,T){T==="utf8"&&(A=t.util.encodeUtf8(A));var m=A.length;y.messageLength+=m,m=[m/4294967296>>>0,m>>>0];for(var S=y.fullMessageLength.length-1;S>=0;--S)y.fullMessageLength[S]+=m[1],m[1]=m[0]+(y.fullMessageLength[S]/4294967296>>>0),y.fullMessageLength[S]=y.fullMessageLength[S]>>>0,m[0]=m[1]/4294967296>>>0;return d.putBytes(A),c(a,f,d),(d.read>2048||d.length()===0)&&d.compact(),y},y.digest=function(){var A=t.util.createBuffer();A.putBytes(d.bytes());var T=y.fullMessageLength[y.fullMessageLength.length-1]+y.messageLengthSize,m=T&y.blockLength-1;A.putBytes(i.substr(0,y.blockLength-m));for(var S,B,k=y.fullMessageLength[0]*8,p=0;p<y.fullMessageLength.length-1;++p)S=y.fullMessageLength[p+1]*8,B=S/4294967296>>>0,k+=B,A.putInt32(k>>>0),k=S>>>0;A.putInt32(k);var R={h0:a.h0,h1:a.h1,h2:a.h2,h3:a.h3,h4:a.h4,h5:a.h5,h6:a.h6,h7:a.h7};c(R,f,A);var E=t.util.createBuffer();return E.putInt32(R.h0),E.putInt32(R.h1),E.putInt32(R.h2),E.putInt32(R.h3),E.putInt32(R.h4),E.putInt32(R.h5),E.putInt32(R.h6),E.putInt32(R.h7),E},y};var i=null,s=!1,u=null;function h(){i=String.fromCharCode(128),i+=t.util.fillString(String.fromCharCode(0),64),u=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],s=!0}function c(a,d,f){for(var y,A,T,m,S,B,k,p,R,E,P,D,C,v,g,M=f.length();M>=64;){for(k=0;k<16;++k)d[k]=f.getInt32();for(;k<64;++k)y=d[k-2],y=(y>>>17|y<<15)^(y>>>19|y<<13)^y>>>10,A=d[k-15],A=(A>>>7|A<<25)^(A>>>18|A<<14)^A>>>3,d[k]=y+d[k-7]+A+d[k-16]|0;for(p=a.h0,R=a.h1,E=a.h2,P=a.h3,D=a.h4,C=a.h5,v=a.h6,g=a.h7,k=0;k<64;++k)m=(D>>>6|D<<26)^(D>>>11|D<<21)^(D>>>25|D<<7),S=v^D&(C^v),T=(p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10),B=p&R|E&(p^R),y=g+m+S+u[k]+d[k],A=T+B,g=v,v=C,C=D,D=P+y>>>0,P=E,E=R,R=p,p=y+A>>>0;a.h0=a.h0+p|0,a.h1=a.h1+R|0,a.h2=a.h2+E|0,a.h3=a.h3+P|0,a.h4=a.h4+D|0,a.h5=a.h5+C|0,a.h6=a.h6+v|0,a.h7=a.h7+g|0,M-=64}}}),wb=Qe((e,n)=>{var t=lt();St();var r=null;t.util.isNodejs&&!t.options.usePureJavaScript&&!process.versions["node-webkit"]&&(r=bs("crypto"));var i=n.exports=t.prng=t.prng||{};i.create=function(s){for(var u={plugin:s,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},h=s.md,c=new Array(32),a=0;a<32;++a)c[a]=h.create();u.pools=c,u.pool=0,u.generate=function(T,m){if(!m)return u.generateSync(T);var S=u.plugin.cipher,B=u.plugin.increment,k=u.plugin.formatKey,p=u.plugin.formatSeed,R=t.util.createBuffer();u.key=null,E();function E(P){if(P)return m(P);if(R.length()>=T)return m(null,R.getBytes(T));if(u.generated>1048575&&(u.key=null),u.key===null)return t.util.nextTick(function(){d(E)});var D=S(u.key,u.seed);u.generated+=D.length,R.putBytes(D),u.key=k(S(u.key,B(u.seed))),u.seed=p(S(u.key,u.seed)),t.util.setImmediate(E)}},u.generateSync=function(T){var m=u.plugin.cipher,S=u.plugin.increment,B=u.plugin.formatKey,k=u.plugin.formatSeed;u.key=null;for(var p=t.util.createBuffer();p.length()<T;){u.generated>1048575&&(u.key=null),u.key===null&&f();var R=m(u.key,u.seed);u.generated+=R.length,p.putBytes(R),u.key=B(m(u.key,S(u.seed))),u.seed=k(m(u.key,u.seed))}return p.getBytes(T)};function d(T){if(u.pools[0].messageLength>=32)return y(),T();var m=32-u.pools[0].messageLength<<5;u.seedFile(m,function(S,B){if(S)return T(S);u.collect(B),y(),T()})}function f(){if(u.pools[0].messageLength>=32)return y();var T=32-u.pools[0].messageLength<<5;u.collect(u.seedFileSync(T)),y()}function y(){u.reseeds=u.reseeds===4294967295?0:u.reseeds+1;var T=u.plugin.md.create();T.update(u.keyBytes);for(var m=1,S=0;S<32;++S)u.reseeds%m===0&&(T.update(u.pools[S].digest().getBytes()),u.pools[S].start()),m=m<<1;u.keyBytes=T.digest().getBytes(),T.start(),T.update(u.keyBytes);var B=T.digest().getBytes();u.key=u.plugin.formatKey(u.keyBytes),u.seed=u.plugin.formatSeed(B),u.generated=0}function A(T){var m=null,S=t.util.globalScope,B=S.crypto||S.msCrypto;B&&B.getRandomValues&&(m=function(g){return B.getRandomValues(g)});var k=t.util.createBuffer();if(m)for(;k.length()<T;){var p=Math.max(1,Math.min(T-k.length(),65536)/4),R=new Uint32Array(Math.floor(p));try{m(R);for(var E=0;E<R.length;++E)k.putInt32(R[E])}catch(g){if(!(typeof QuotaExceededError<"u"&&g instanceof QuotaExceededError))throw g}}if(k.length()<T)for(var P,D,C,v=Math.floor(Math.random()*65536);k.length()<T;){D=16807*(v&65535),P=16807*(v>>16),D+=(P&32767)<<16,D+=P>>15,D=(D&2147483647)+(D>>31),v=D&4294967295;for(var E=0;E<3;++E)C=v>>>(E<<3),C^=Math.floor(Math.random()*256),k.putByte(C&255)}return k.getBytes(T)}return r?(u.seedFile=function(T,m){r.randomBytes(T,function(S,B){if(S)return m(S);m(null,B.toString())})},u.seedFileSync=function(T){return r.randomBytes(T).toString()}):(u.seedFile=function(T,m){try{m(null,A(T))}catch(S){m(S)}},u.seedFileSync=A),u.collect=function(T){for(var m=T.length,S=0;S<m;++S)u.pools[u.pool].update(T.substr(S,1)),u.pool=u.pool===31?0:u.pool+1},u.collectInt=function(T,m){for(var S="",B=0;B<m;B+=8)S+=String.fromCharCode(T>>B&255);u.collect(S)},u.registerWorker=function(T){if(T===self)u.seedFile=function(S,B){function k(p){var R=p.data;R.forge&&R.forge.prng&&(self.removeEventListener("message",k),B(R.forge.prng.err,R.forge.prng.bytes))}self.addEventListener("message",k),self.postMessage({forge:{prng:{needed:S}}})};else{var m=function(S){var B=S.data;B.forge&&B.forge.prng&&u.seedFile(B.forge.prng.needed,function(k,p){T.postMessage({forge:{prng:{err:k,bytes:p}}})})};T.addEventListener("message",m)}},u}}),ui=Qe((e,n)=>{var t=lt();Pa(),_b(),wb(),St(),function(){if(t.random&&t.random.getBytes){n.exports=t.random;return}(function(r){var i={},s=new Array(4),u=t.util.createBuffer();i.formatKey=function(T){var m=t.util.createBuffer(T);return T=new Array(4),T[0]=m.getInt32(),T[1]=m.getInt32(),T[2]=m.getInt32(),T[3]=m.getInt32(),t.aes._expandKey(T,!1)},i.formatSeed=function(T){var m=t.util.createBuffer(T);return T=new Array(4),T[0]=m.getInt32(),T[1]=m.getInt32(),T[2]=m.getInt32(),T[3]=m.getInt32(),T},i.cipher=function(T,m){return t.aes._updateBlock(T,m,s,!1),u.putInt32(s[0]),u.putInt32(s[1]),u.putInt32(s[2]),u.putInt32(s[3]),u.getBytes()},i.increment=function(T){return++T[3],T},i.md=t.md.sha256;function h(){var T=t.prng.create(i);return T.getBytes=function(m,S){return T.generate(m,S)},T.getBytesSync=function(m){return T.generate(m)},T}var c=h(),a=null,d=t.util.globalScope,f=d.crypto||d.msCrypto;if(f&&f.getRandomValues&&(a=function(T){return f.getRandomValues(T)}),t.options.usePureJavaScript||!t.util.isNodejs&&!a){if(typeof window>"u"||window.document,c.collectInt(+new Date,32),typeof navigator<"u"){var y="";for(var A in navigator)try{typeof navigator[A]=="string"&&(y+=navigator[A])}catch{}c.collect(y),y=null}r&&(r().mousemove(function(T){c.collectInt(T.clientX,16),c.collectInt(T.clientY,16)}),r().keypress(function(T){c.collectInt(T.charCode,8)}))}if(!t.random)t.random=c;else for(var A in c)t.random[A]=c[A];t.random.createInstance=h,n.exports=t.random})(typeof jQuery<"u"?jQuery:null)}()}),Eb=Qe((e,n)=>{var t=lt();St();var r=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],i=[1,2,3,5],s=function(c,a){return c<<a&65535|(c&65535)>>16-a},u=function(c,a){return(c&65535)>>a|c<<16-a&65535};n.exports=t.rc2=t.rc2||{},t.rc2.expandKey=function(c,a){typeof c=="string"&&(c=t.util.createBuffer(c)),a=a||128;var d=c,f=c.length(),y=a,A=Math.ceil(y/8),T=255>>(y&7),m;for(m=f;m<128;m++)d.putByte(r[d.at(m-1)+d.at(m-f)&255]);for(d.setAt(128-A,r[d.at(128-A)&T]),m=127-A;m>=0;m--)d.setAt(m,r[d.at(m+1)^d.at(m+A)]);return d};var h=function(c,a,d){var f=!1,y=null,A=null,T=null,m,S,B,k,p=[];for(c=t.rc2.expandKey(c,a),B=0;B<64;B++)p.push(c.getInt16Le());d?(m=function(P){for(B=0;B<4;B++)P[B]+=p[k]+(P[(B+3)%4]&P[(B+2)%4])+(~P[(B+3)%4]&P[(B+1)%4]),P[B]=s(P[B],i[B]),k++},S=function(P){for(B=0;B<4;B++)P[B]+=p[P[(B+3)%4]&63]}):(m=function(P){for(B=3;B>=0;B--)P[B]=u(P[B],i[B]),P[B]-=p[k]+(P[(B+3)%4]&P[(B+2)%4])+(~P[(B+3)%4]&P[(B+1)%4]),k--},S=function(P){for(B=3;B>=0;B--)P[B]-=p[P[(B+3)%4]&63]});var R=function(P){var D=[];for(B=0;B<4;B++){var C=y.getInt16Le();T!==null&&(d?C^=T.getInt16Le():T.putInt16Le(C)),D.push(C&65535)}k=d?0:63;for(var v=0;v<P.length;v++)for(var g=0;g<P[v][0];g++)P[v][1](D);for(B=0;B<4;B++)T!==null&&(d?T.putInt16Le(D[B]):D[B]^=T.getInt16Le()),A.putInt16Le(D[B])},E=null;return E={start:function(P,D){P&&typeof P=="string"&&(P=t.util.createBuffer(P)),f=!1,y=t.util.createBuffer(),A=D||new t.util.createBuffer,T=P,E.output=A},update:function(P){for(f||y.putBuffer(P);y.length()>=8;)R([[5,m],[1,S],[6,m],[1,S],[5,m]])},finish:function(P){var D=!0;if(d)if(P)D=P(8,y,!d);else{var C=y.length()===8?8:8-y.length();y.fillWithByte(C,C)}if(D&&(f=!0,E.update()),!d&&(D=y.length()===0,D))if(P)D=P(8,A,!d);else{var v=A.length(),g=A.at(v-1);g>v?D=!1:A.truncate(g)}return D}},E};t.rc2.startEncrypting=function(c,a,d){var f=t.rc2.createEncryptionCipher(c,128);return f.start(a,d),f},t.rc2.createEncryptionCipher=function(c,a){return h(c,a,!0)},t.rc2.startDecrypting=function(c,a,d){var f=t.rc2.createDecryptionCipher(c,128);return f.start(a,d),f},t.rc2.createDecryptionCipher=function(c,a){return h(c,a,!1)}}),gh=Qe((e,n)=>{var t=lt();n.exports=t.jsbn=t.jsbn||{};var r,i=0xdeadbeefcafe,s=(i&16777215)==15715070;function u($,G,Z){this.data=[],$!=null&&(typeof $=="number"?this.fromNumber($,G,Z):G==null&&typeof $!="string"?this.fromString($,256):this.fromString($,G))}t.jsbn.BigInteger=u;function h(){return new u(null)}function c($,G,Z,ce,be,Se){for(;--Se>=0;){var Ne=G*this.data[$++]+Z.data[ce]+be;be=Math.floor(Ne/67108864),Z.data[ce++]=Ne&67108863}return be}function a($,G,Z,ce,be,Se){for(var Ne=G&32767,Oe=G>>15;--Se>=0;){var _t=this.data[$]&32767,ar=this.data[$++]>>15,Rr=Oe*_t+ar*Ne;_t=Ne*_t+((Rr&32767)<<15)+Z.data[ce]+(be&1073741823),be=(_t>>>30)+(Rr>>>15)+Oe*ar+(be>>>30),Z.data[ce++]=_t&1073741823}return be}function d($,G,Z,ce,be,Se){for(var Ne=G&16383,Oe=G>>14;--Se>=0;){var _t=this.data[$]&16383,ar=this.data[$++]>>14,Rr=Oe*_t+ar*Ne;_t=Ne*_t+((Rr&16383)<<14)+Z.data[ce]+be,be=(_t>>28)+(Rr>>14)+Oe*ar,Z.data[ce++]=_t&268435455}return be}typeof navigator>"u"?(u.prototype.am=d,r=28):s&&navigator.appName=="Microsoft Internet Explorer"?(u.prototype.am=a,r=30):s&&navigator.appName!="Netscape"?(u.prototype.am=c,r=26):(u.prototype.am=d,r=28),u.prototype.DB=r,u.prototype.DM=(1<<r)-1,u.prototype.DV=1<<r;var f=52;u.prototype.FV=Math.pow(2,f),u.prototype.F1=f-r,u.prototype.F2=2*r-f;var y="0123456789abcdefghijklmnopqrstuvwxyz",A=new Array,T,m;for(T="0".charCodeAt(0),m=0;m<=9;++m)A[T++]=m;for(T="a".charCodeAt(0),m=10;m<36;++m)A[T++]=m;for(T="A".charCodeAt(0),m=10;m<36;++m)A[T++]=m;function S($){return y.charAt($)}function B($,G){var Z=A[$.charCodeAt(G)];return Z??-1}function k($){for(var G=this.t-1;G>=0;--G)$.data[G]=this.data[G];$.t=this.t,$.s=this.s}function p($){this.t=1,this.s=$<0?-1:0,$>0?this.data[0]=$:$<-1?this.data[0]=$+this.DV:this.t=0}function R($){var G=h();return G.fromInt($),G}function E($,G){var Z;if(G==16)Z=4;else if(G==8)Z=3;else if(G==256)Z=8;else if(G==2)Z=1;else if(G==32)Z=5;else if(G==4)Z=2;else{this.fromRadix($,G);return}this.t=0,this.s=0;for(var ce=$.length,be=!1,Se=0;--ce>=0;){var Ne=Z==8?$[ce]&255:B($,ce);if(Ne<0){$.charAt(ce)=="-"&&(be=!0);continue}be=!1,Se==0?this.data[this.t++]=Ne:Se+Z>this.DB?(this.data[this.t-1]|=(Ne&(1<<this.DB-Se)-1)<<Se,this.data[this.t++]=Ne>>this.DB-Se):this.data[this.t-1]|=Ne<<Se,Se+=Z,Se>=this.DB&&(Se-=this.DB)}Z==8&&$[0]&128&&(this.s=-1,Se>0&&(this.data[this.t-1]|=(1<<this.DB-Se)-1<<Se)),this.clamp(),be&&u.ZERO.subTo(this,this)}function P(){for(var $=this.s&this.DM;this.t>0&&this.data[this.t-1]==$;)--this.t}function D($){if(this.s<0)return"-"+this.negate().toString($);var G;if($==16)G=4;else if($==8)G=3;else if($==2)G=1;else if($==32)G=5;else if($==4)G=2;else return this.toRadix($);var Z=(1<<G)-1,ce,be=!1,Se="",Ne=this.t,Oe=this.DB-Ne*this.DB%G;if(Ne-- >0)for(Oe<this.DB&&(ce=this.data[Ne]>>Oe)>0&&(be=!0,Se=S(ce));Ne>=0;)Oe<G?(ce=(this.data[Ne]&(1<<Oe)-1)<<G-Oe,ce|=this.data[--Ne]>>(Oe+=this.DB-G)):(ce=this.data[Ne]>>(Oe-=G)&Z,Oe<=0&&(Oe+=this.DB,--Ne)),ce>0&&(be=!0),be&&(Se+=S(ce));return be?Se:"0"}function C(){var $=h();return u.ZERO.subTo(this,$),$}function v(){return this.s<0?this.negate():this}function g($){var G=this.s-$.s;if(G!=0)return G;var Z=this.t;if(G=Z-$.t,G!=0)return this.s<0?-G:G;for(;--Z>=0;)if((G=this.data[Z]-$.data[Z])!=0)return G;return 0}function M($){var G=1,Z;return(Z=$>>>16)!=0&&($=Z,G+=16),(Z=$>>8)!=0&&($=Z,G+=8),(Z=$>>4)!=0&&($=Z,G+=4),(Z=$>>2)!=0&&($=Z,G+=2),(Z=$>>1)!=0&&($=Z,G+=1),G}function V(){return this.t<=0?0:this.DB*(this.t-1)+M(this.data[this.t-1]^this.s&this.DM)}function q($,G){var Z;for(Z=this.t-1;Z>=0;--Z)G.data[Z+$]=this.data[Z];for(Z=$-1;Z>=0;--Z)G.data[Z]=0;G.t=this.t+$,G.s=this.s}function w($,G){for(var Z=$;Z<this.t;++Z)G.data[Z-$]=this.data[Z];G.t=Math.max(this.t-$,0),G.s=this.s}function U($,G){var Z=$%this.DB,ce=this.DB-Z,be=(1<<ce)-1,Se=Math.floor($/this.DB),Ne=this.s<<Z&this.DM,Oe;for(Oe=this.t-1;Oe>=0;--Oe)G.data[Oe+Se+1]=this.data[Oe]>>ce|Ne,Ne=(this.data[Oe]&be)<<Z;for(Oe=Se-1;Oe>=0;--Oe)G.data[Oe]=0;G.data[Se]=Ne,G.t=this.t+Se+1,G.s=this.s,G.clamp()}function j($,G){G.s=this.s;var Z=Math.floor($/this.DB);if(Z>=this.t){G.t=0;return}var ce=$%this.DB,be=this.DB-ce,Se=(1<<ce)-1;G.data[0]=this.data[Z]>>ce;for(var Ne=Z+1;Ne<this.t;++Ne)G.data[Ne-Z-1]|=(this.data[Ne]&Se)<<be,G.data[Ne-Z]=this.data[Ne]>>ce;ce>0&&(G.data[this.t-Z-1]|=(this.s&Se)<<be),G.t=this.t-Z,G.clamp()}function L($,G){for(var Z=0,ce=0,be=Math.min($.t,this.t);Z<be;)ce+=this.data[Z]-$.data[Z],G.data[Z++]=ce&this.DM,ce>>=this.DB;if($.t<this.t){for(ce-=$.s;Z<this.t;)ce+=this.data[Z],G.data[Z++]=ce&this.DM,ce>>=this.DB;ce+=this.s}else{for(ce+=this.s;Z<$.t;)ce-=$.data[Z],G.data[Z++]=ce&this.DM,ce>>=this.DB;ce-=$.s}G.s=ce<0?-1:0,ce<-1?G.data[Z++]=this.DV+ce:ce>0&&(G.data[Z++]=ce),G.t=Z,G.clamp()}function F($,G){var Z=this.abs(),ce=$.abs(),be=Z.t;for(G.t=be+ce.t;--be>=0;)G.data[be]=0;for(be=0;be<ce.t;++be)G.data[be+Z.t]=Z.am(0,ce.data[be],G,be,0,Z.t);G.s=0,G.clamp(),this.s!=$.s&&u.ZERO.subTo(G,G)}function ee($){for(var G=this.abs(),Z=$.t=2*G.t;--Z>=0;)$.data[Z]=0;for(Z=0;Z<G.t-1;++Z){var ce=G.am(Z,G.data[Z],$,2*Z,0,1);($.data[Z+G.t]+=G.am(Z+1,2*G.data[Z],$,2*Z+1,ce,G.t-Z-1))>=G.DV&&($.data[Z+G.t]-=G.DV,$.data[Z+G.t+1]=1)}$.t>0&&($.data[$.t-1]+=G.am(Z,G.data[Z],$,2*Z,0,1)),$.s=0,$.clamp()}function ue($,G,Z){var ce=$.abs();if(!(ce.t<=0)){var be=this.abs();if(be.t<ce.t){G?.fromInt(0),Z!=null&&this.copyTo(Z);return}Z==null&&(Z=h());var Se=h(),Ne=this.s,Oe=$.s,_t=this.DB-M(ce.data[ce.t-1]);_t>0?(ce.lShiftTo(_t,Se),be.lShiftTo(_t,Z)):(ce.copyTo(Se),be.copyTo(Z));var ar=Se.t,Rr=Se.data[ar-1];if(Rr!=0){var Or=Rr*(1<<this.F1)+(ar>1?Se.data[ar-2]>>this.F2:0),ln=this.FV/Or,ci=(1<<this.F1)/Or,Ar=1<<this.F2,mr=Z.t,Pi=mr-ar,En=G??h();for(Se.dlShiftTo(Pi,En),Z.compareTo(En)>=0&&(Z.data[Z.t++]=1,Z.subTo(En,Z)),u.ONE.dlShiftTo(ar,En),En.subTo(Se,Se);Se.t<ar;)Se.data[Se.t++]=0;for(;--Pi>=0;){var Gn=Z.data[--mr]==Rr?this.DM:Math.floor(Z.data[mr]*ln+(Z.data[mr-1]+Ar)*ci);if((Z.data[mr]+=Se.am(0,Gn,Z,Pi,0,ar))<Gn)for(Se.dlShiftTo(Pi,En),Z.subTo(En,Z);Z.data[mr]<--Gn;)Z.subTo(En,Z)}G!=null&&(Z.drShiftTo(ar,G),Ne!=Oe&&u.ZERO.subTo(G,G)),Z.t=ar,Z.clamp(),_t>0&&Z.rShiftTo(_t,Z),Ne<0&&u.ZERO.subTo(Z,Z)}}}function se($){var G=h();return this.abs().divRemTo($,null,G),this.s<0&&G.compareTo(u.ZERO)>0&&$.subTo(G,G),G}function pe($){this.m=$}function ke($){return $.s<0||$.compareTo(this.m)>=0?$.mod(this.m):$}function Le($){return $}function qe($){$.divRemTo(this.m,null,$)}function Ce($,G,Z){$.multiplyTo(G,Z),this.reduce(Z)}function We($,G){$.squareTo(G),this.reduce(G)}pe.prototype.convert=ke,pe.prototype.revert=Le,pe.prototype.reduce=qe,pe.prototype.mulTo=Ce,pe.prototype.sqrTo=We;function Te(){if(this.t<1)return 0;var $=this.data[0];if(!($&1))return 0;var G=$&3;return G=G*(2-($&15)*G)&15,G=G*(2-($&255)*G)&255,G=G*(2-(($&65535)*G&65535))&65535,G=G*(2-$*G%this.DV)%this.DV,G>0?this.DV-G:-G}function et($){this.m=$,this.mp=$.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<$.DB-15)-1,this.mt2=2*$.t}function Je($){var G=h();return $.abs().dlShiftTo(this.m.t,G),G.divRemTo(this.m,null,G),$.s<0&&G.compareTo(u.ZERO)>0&&this.m.subTo(G,G),G}function N($){var G=h();return $.copyTo(G),this.reduce(G),G}function X($){for(;$.t<=this.mt2;)$.data[$.t++]=0;for(var G=0;G<this.m.t;++G){var Z=$.data[G]&32767,ce=Z*this.mpl+((Z*this.mph+($.data[G]>>15)*this.mpl&this.um)<<15)&$.DM;for(Z=G+this.m.t,$.data[Z]+=this.m.am(0,ce,$,G,0,this.m.t);$.data[Z]>=$.DV;)$.data[Z]-=$.DV,$.data[++Z]++}$.clamp(),$.drShiftTo(this.m.t,$),$.compareTo(this.m)>=0&&$.subTo(this.m,$)}function Q($,G){$.squareTo(G),this.reduce(G)}function I($,G,Z){$.multiplyTo(G,Z),this.reduce(Z)}et.prototype.convert=Je,et.prototype.revert=N,et.prototype.reduce=X,et.prototype.mulTo=I,et.prototype.sqrTo=Q;function K(){return(this.t>0?this.data[0]&1:this.s)==0}function oe($,G){if($>4294967295||$<1)return u.ONE;var Z=h(),ce=h(),be=G.convert(this),Se=M($)-1;for(be.copyTo(Z);--Se>=0;)if(G.sqrTo(Z,ce),($&1<<Se)>0)G.mulTo(ce,be,Z);else{var Ne=Z;Z=ce,ce=Ne}return G.revert(Z)}function te($,G){var Z;return $<256||G.isEven()?Z=new pe(G):Z=new et(G),this.exp($,Z)}u.prototype.copyTo=k,u.prototype.fromInt=p,u.prototype.fromString=E,u.prototype.clamp=P,u.prototype.dlShiftTo=q,u.prototype.drShiftTo=w,u.prototype.lShiftTo=U,u.prototype.rShiftTo=j,u.prototype.subTo=L,u.prototype.multiplyTo=F,u.prototype.squareTo=ee,u.prototype.divRemTo=ue,u.prototype.invDigit=Te,u.prototype.isEven=K,u.prototype.exp=oe,u.prototype.toString=D,u.prototype.negate=C,u.prototype.abs=v,u.prototype.compareTo=g,u.prototype.bitLength=V,u.prototype.mod=se,u.prototype.modPowInt=te,u.ZERO=R(0),u.ONE=R(1);function we(){var $=h();return this.copyTo($),$}function Ue(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}function je(){return this.t==0?this.s:this.data[0]<<24>>24}function ge(){return this.t==0?this.s:this.data[0]<<16>>16}function Pe($){return Math.floor(Math.LN2*this.DB/Math.log($))}function Ke(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}function rt($){if($==null&&($=10),this.signum()==0||$<2||$>36)return"0";var G=this.chunkSize($),Z=Math.pow($,G),ce=R(Z),be=h(),Se=h(),Ne="";for(this.divRemTo(ce,be,Se);be.signum()>0;)Ne=(Z+Se.intValue()).toString($).substr(1)+Ne,be.divRemTo(ce,be,Se);return Se.intValue().toString($)+Ne}function $e($,G){this.fromInt(0),G==null&&(G=10);for(var Z=this.chunkSize(G),ce=Math.pow(G,Z),be=!1,Se=0,Ne=0,Oe=0;Oe<$.length;++Oe){var _t=B($,Oe);if(_t<0){$.charAt(Oe)=="-"&&this.signum()==0&&(be=!0);continue}Ne=G*Ne+_t,++Se>=Z&&(this.dMultiply(ce),this.dAddOffset(Ne,0),Se=0,Ne=0)}Se>0&&(this.dMultiply(Math.pow(G,Se)),this.dAddOffset(Ne,0)),be&&u.ZERO.subTo(this,this)}function Bt($,G,Z){if(typeof G=="number")if($<2)this.fromInt(1);else for(this.fromNumber($,Z),this.testBit($-1)||this.bitwiseTo(u.ONE.shiftLeft($-1),Ht,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(G);)this.dAddOffset(2,0),this.bitLength()>$&&this.subTo(u.ONE.shiftLeft($-1),this);else{var ce=new Array,be=$&7;ce.length=($>>3)+1,G.nextBytes(ce),be>0?ce[0]&=(1<<be)-1:ce[0]=0,this.fromString(ce,256)}}function Ct(){var $=this.t,G=new Array;G[0]=this.s;var Z=this.DB-$*this.DB%8,ce,be=0;if($-- >0)for(Z<this.DB&&(ce=this.data[$]>>Z)!=(this.s&this.DM)>>Z&&(G[be++]=ce|this.s<<this.DB-Z);$>=0;)Z<8?(ce=(this.data[$]&(1<<Z)-1)<<8-Z,ce|=this.data[--$]>>(Z+=this.DB-8)):(ce=this.data[$]>>(Z-=8)&255,Z<=0&&(Z+=this.DB,--$)),ce&128&&(ce|=-256),be==0&&(this.s&128)!=(ce&128)&&++be,(be>0||ce!=this.s)&&(G[be++]=ce);return G}function Tt($){return this.compareTo($)==0}function Lt($){return this.compareTo($)<0?this:$}function Ot($){return this.compareTo($)>0?this:$}function Nt($,G,Z){var ce,be,Se=Math.min($.t,this.t);for(ce=0;ce<Se;++ce)Z.data[ce]=G(this.data[ce],$.data[ce]);if($.t<this.t){for(be=$.s&this.DM,ce=Se;ce<this.t;++ce)Z.data[ce]=G(this.data[ce],be);Z.t=this.t}else{for(be=this.s&this.DM,ce=Se;ce<$.t;++ce)Z.data[ce]=G(be,$.data[ce]);Z.t=$.t}Z.s=G(this.s,$.s),Z.clamp()}function $t($,G){return $&G}function Xt($){var G=h();return this.bitwiseTo($,$t,G),G}function Ht($,G){return $|G}function Kt($){var G=h();return this.bitwiseTo($,Ht,G),G}function lr($,G){return $^G}function Cr($){var G=h();return this.bitwiseTo($,lr,G),G}function gr($,G){return $&~G}function qr($){var G=h();return this.bitwiseTo($,gr,G),G}function un(){for(var $=h(),G=0;G<this.t;++G)$.data[G]=this.DM&~this.data[G];return $.t=this.t,$.s=~this.s,$}function Qr($){var G=h();return $<0?this.rShiftTo(-$,G):this.lShiftTo($,G),G}function Yr($){var G=h();return $<0?this.lShiftTo(-$,G):this.rShiftTo($,G),G}function _n($){if($==0)return-1;var G=0;return $&65535||($>>=16,G+=16),$&255||($>>=8,G+=8),$&15||($>>=4,G+=4),$&3||($>>=2,G+=2),$&1||++G,G}function li(){for(var $=0;$<this.t;++$)if(this.data[$]!=0)return $*this.DB+_n(this.data[$]);return this.s<0?this.t*this.DB:-1}function Mr($){for(var G=0;$!=0;)$&=$-1,++G;return G}function Nn(){for(var $=0,G=this.s&this.DM,Z=0;Z<this.t;++Z)$+=Mr(this.data[Z]^G);return $}function xt($){var G=Math.floor($/this.DB);return G>=this.t?this.s!=0:(this.data[G]&1<<$%this.DB)!=0}function Dt($,G){var Z=u.ONE.shiftLeft($);return this.bitwiseTo(Z,G,Z),Z}function Jt($){return this.changeBit($,Ht)}function jt($){return this.changeBit($,gr)}function Wt($){return this.changeBit($,lr)}function Zt($,G){for(var Z=0,ce=0,be=Math.min($.t,this.t);Z<be;)ce+=this.data[Z]+$.data[Z],G.data[Z++]=ce&this.DM,ce>>=this.DB;if($.t<this.t){for(ce+=$.s;Z<this.t;)ce+=this.data[Z],G.data[Z++]=ce&this.DM,ce>>=this.DB;ce+=this.s}else{for(ce+=this.s;Z<$.t;)ce+=$.data[Z],G.data[Z++]=ce&this.DM,ce>>=this.DB;ce+=$.s}G.s=ce<0?-1:0,ce>0?G.data[Z++]=ce:ce<-1&&(G.data[Z++]=this.DV+ce),G.t=Z,G.clamp()}function Gt($){var G=h();return this.addTo($,G),G}function Qt($){var G=h();return this.subTo($,G),G}function rr($){var G=h();return this.multiplyTo($,G),G}function nr($){var G=h();return this.divRemTo($,G,null),G}function ir($){var G=h();return this.divRemTo($,null,G),G}function er($){var G=h(),Z=h();return this.divRemTo($,G,Z),new Array(G,Z)}function or($){this.data[this.t]=this.am(0,$-1,this,0,0,this.t),++this.t,this.clamp()}function cr($,G){if($!=0){for(;this.t<=G;)this.data[this.t++]=0;for(this.data[G]+=$;this.data[G]>=this.DV;)this.data[G]-=this.DV,++G>=this.t&&(this.data[this.t++]=0),++this.data[G]}}function zt(){}function tr($){return $}function Na($,G,Z){$.multiplyTo(G,Z)}function po($,G){$.squareTo(G)}zt.prototype.convert=tr,zt.prototype.revert=tr,zt.prototype.mulTo=Na,zt.prototype.sqrTo=po;function Os($){return this.exp($,new zt)}function yo($,G,Z){var ce=Math.min(this.t+$.t,G);for(Z.s=0,Z.t=ce;ce>0;)Z.data[--ce]=0;var be;for(be=Z.t-this.t;ce<be;++ce)Z.data[ce+this.t]=this.am(0,$.data[ce],Z,ce,0,this.t);for(be=Math.min($.t,G);ce<be;++ce)this.am(0,$.data[ce],Z,ce,0,G-ce);Z.clamp()}function Bi($,G,Z){--G;var ce=Z.t=this.t+$.t-G;for(Z.s=0;--ce>=0;)Z.data[ce]=0;for(ce=Math.max(G-this.t,0);ce<$.t;++ce)Z.data[this.t+ce-G]=this.am(G-ce,$.data[ce],Z,0,0,this.t+ce-G);Z.clamp(),Z.drShiftTo(1,Z)}function wn($){this.r2=h(),this.q3=h(),u.ONE.dlShiftTo(2*$.t,this.r2),this.mu=this.r2.divide($),this.m=$}function Tr($){if($.s<0||$.t>2*this.m.t)return $.mod(this.m);if($.compareTo(this.m)<0)return $;var G=h();return $.copyTo(G),this.reduce(G),G}function Ko($){return $}function Oi($){for($.drShiftTo(this.m.t-1,this.r2),$.t>this.m.t+1&&($.t=this.m.t+1,$.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);$.compareTo(this.r2)<0;)$.dAddOffset(1,this.m.t+1);for($.subTo(this.r2,$);$.compareTo(this.m)>=0;)$.subTo(this.m,$)}function go($,G){$.squareTo(G),this.reduce(G)}function mo($,G,Z){$.multiplyTo(G,Z),this.reduce(Z)}wn.prototype.convert=Tr,wn.prototype.revert=Ko,wn.prototype.reduce=Oi,wn.prototype.mulTo=mo,wn.prototype.sqrTo=go;function Ua($,G){var Z=$.bitLength(),ce,be=R(1),Se;if(Z<=0)return be;Z<18?ce=1:Z<48?ce=3:Z<144?ce=4:Z<768?ce=5:ce=6,Z<8?Se=new pe(G):G.isEven()?Se=new wn(G):Se=new et(G);var Ne=new Array,Oe=3,_t=ce-1,ar=(1<<ce)-1;if(Ne[1]=Se.convert(this),ce>1){var Rr=h();for(Se.sqrTo(Ne[1],Rr);Oe<=ar;)Ne[Oe]=h(),Se.mulTo(Rr,Ne[Oe-2],Ne[Oe]),Oe+=2}var Or=$.t-1,ln,ci=!0,Ar=h(),mr;for(Z=M($.data[Or])-1;Or>=0;){for(Z>=_t?ln=$.data[Or]>>Z-_t&ar:(ln=($.data[Or]&(1<<Z+1)-1)<<_t-Z,Or>0&&(ln|=$.data[Or-1]>>this.DB+Z-_t)),Oe=ce;!(ln&1);)ln>>=1,--Oe;if((Z-=Oe)<0&&(Z+=this.DB,--Or),ci)Ne[ln].copyTo(be),ci=!1;else{for(;Oe>1;)Se.sqrTo(be,Ar),Se.sqrTo(Ar,be),Oe-=2;Oe>0?Se.sqrTo(be,Ar):(mr=be,be=Ar,Ar=mr),Se.mulTo(Ar,Ne[ln],be)}for(;Or>=0&&!($.data[Or]&1<<Z);)Se.sqrTo(be,Ar),mr=be,be=Ar,Ar=mr,--Z<0&&(Z=this.DB-1,--Or)}return Se.revert(be)}function xa($){var G=this.s<0?this.negate():this.clone(),Z=$.s<0?$.negate():$.clone();if(G.compareTo(Z)<0){var ce=G;G=Z,Z=ce}var be=G.getLowestSetBit(),Se=Z.getLowestSetBit();if(Se<0)return G;for(be<Se&&(Se=be),Se>0&&(G.rShiftTo(Se,G),Z.rShiftTo(Se,Z));G.signum()>0;)(be=G.getLowestSetBit())>0&&G.rShiftTo(be,G),(be=Z.getLowestSetBit())>0&&Z.rShiftTo(be,Z),G.compareTo(Z)>=0?(G.subTo(Z,G),G.rShiftTo(1,G)):(Z.subTo(G,Z),Z.rShiftTo(1,Z));return Se>0&&Z.lShiftTo(Se,Z),Z}function Da($){if($<=0)return 0;var G=this.DV%$,Z=this.s<0?$-1:0;if(this.t>0)if(G==0)Z=this.data[0]%$;else for(var ce=this.t-1;ce>=0;--ce)Z=(G*Z+this.data[ce])%$;return Z}function vo($){var G=$.isEven();if(this.isEven()&&G||$.signum()==0)return u.ZERO;for(var Z=$.clone(),ce=this.clone(),be=R(1),Se=R(0),Ne=R(0),Oe=R(1);Z.signum()!=0;){for(;Z.isEven();)Z.rShiftTo(1,Z),G?((!be.isEven()||!Se.isEven())&&(be.addTo(this,be),Se.subTo($,Se)),be.rShiftTo(1,be)):Se.isEven()||Se.subTo($,Se),Se.rShiftTo(1,Se);for(;ce.isEven();)ce.rShiftTo(1,ce),G?((!Ne.isEven()||!Oe.isEven())&&(Ne.addTo(this,Ne),Oe.subTo($,Oe)),Ne.rShiftTo(1,Ne)):Oe.isEven()||Oe.subTo($,Oe),Oe.rShiftTo(1,Oe);Z.compareTo(ce)>=0?(Z.subTo(ce,Z),G&&be.subTo(Ne,be),Se.subTo(Oe,Se)):(ce.subTo(Z,ce),G&&Ne.subTo(be,Ne),Oe.subTo(Se,Oe))}if(ce.compareTo(u.ONE)!=0)return u.ZERO;if(Oe.compareTo($)>=0)return Oe.subtract($);if(Oe.signum()<0)Oe.addTo($,Oe);else return Oe;return Oe.signum()<0?Oe.add($):Oe}var br=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],ja=(1<<26)/br[br.length-1];function qa($){var G,Z=this.abs();if(Z.t==1&&Z.data[0]<=br[br.length-1]){for(G=0;G<br.length;++G)if(Z.data[0]==br[G])return!0;return!1}if(Z.isEven())return!1;for(G=1;G<br.length;){for(var ce=br[G],be=G+1;be<br.length&&ce<ja;)ce*=br[be++];for(ce=Z.modInt(ce);G<be;)if(ce%br[G++]==0)return!1}return Z.millerRabin($)}function Ps($){var G=this.subtract(u.ONE),Z=G.getLowestSetBit();if(Z<=0)return!1;for(var ce=G.shiftRight(Z),be=Wo(),Se,Ne=0;Ne<$;++Ne){do Se=new u(this.bitLength(),be);while(Se.compareTo(u.ONE)<=0||Se.compareTo(G)>=0);var Oe=Se.modPow(ce,this);if(Oe.compareTo(u.ONE)!=0&&Oe.compareTo(G)!=0){for(var _t=1;_t++<Z&&Oe.compareTo(G)!=0;)if(Oe=Oe.modPowInt(2,this),Oe.compareTo(u.ONE)==0)return!1;if(Oe.compareTo(G)!=0)return!1}}return!0}function Wo(){return{nextBytes:function($){for(var G=0;G<$.length;++G)$[G]=Math.floor(Math.random()*256)}}}u.prototype.chunkSize=Pe,u.prototype.toRadix=rt,u.prototype.fromRadix=$e,u.prototype.fromNumber=Bt,u.prototype.bitwiseTo=Nt,u.prototype.changeBit=Dt,u.prototype.addTo=Zt,u.prototype.dMultiply=or,u.prototype.dAddOffset=cr,u.prototype.multiplyLowerTo=yo,u.prototype.multiplyUpperTo=Bi,u.prototype.modInt=Da,u.prototype.millerRabin=Ps,u.prototype.clone=we,u.prototype.intValue=Ue,u.prototype.byteValue=je,u.prototype.shortValue=ge,u.prototype.signum=Ke,u.prototype.toByteArray=Ct,u.prototype.equals=Tt,u.prototype.min=Lt,u.prototype.max=Ot,u.prototype.and=Xt,u.prototype.or=Kt,u.prototype.xor=Cr,u.prototype.andNot=qr,u.prototype.not=un,u.prototype.shiftLeft=Qr,u.prototype.shiftRight=Yr,u.prototype.getLowestSetBit=li,u.prototype.bitCount=Nn,u.prototype.testBit=xt,u.prototype.setBit=Jt,u.prototype.clearBit=jt,u.prototype.flipBit=Wt,u.prototype.add=Gt,u.prototype.subtract=Qt,u.prototype.multiply=rr,u.prototype.divide=nr,u.prototype.remainder=ir,u.prototype.divideAndRemainder=er,u.prototype.modPow=Ua,u.prototype.modInverse=vo,u.prototype.pow=Os,u.prototype.gcd=xa,u.prototype.isProbablePrime=qa}),Qu=Qe((e,n)=>{var t=lt();fo(),St();var r=n.exports=t.sha1=t.sha1||{};t.md.sha1=t.md.algorithms.sha1=r,r.create=function(){s||u();var c=null,a=t.util.createBuffer(),d=new Array(80),f={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return f.start=function(){f.messageLength=0,f.fullMessageLength=f.messageLength64=[];for(var y=f.messageLengthSize/4,A=0;A<y;++A)f.fullMessageLength.push(0);return a=t.util.createBuffer(),c={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},f},f.start(),f.update=function(y,A){A==="utf8"&&(y=t.util.encodeUtf8(y));var T=y.length;f.messageLength+=T,T=[T/4294967296>>>0,T>>>0];for(var m=f.fullMessageLength.length-1;m>=0;--m)f.fullMessageLength[m]+=T[1],T[1]=T[0]+(f.fullMessageLength[m]/4294967296>>>0),f.fullMessageLength[m]=f.fullMessageLength[m]>>>0,T[0]=T[1]/4294967296>>>0;return a.putBytes(y),h(c,d,a),(a.read>2048||a.length()===0)&&a.compact(),f},f.digest=function(){var y=t.util.createBuffer();y.putBytes(a.bytes());var A=f.fullMessageLength[f.fullMessageLength.length-1]+f.messageLengthSize,T=A&f.blockLength-1;y.putBytes(i.substr(0,f.blockLength-T));for(var m,S,B=f.fullMessageLength[0]*8,k=0;k<f.fullMessageLength.length-1;++k)m=f.fullMessageLength[k+1]*8,S=m/4294967296>>>0,B+=S,y.putInt32(B>>>0),B=m>>>0;y.putInt32(B);var p={h0:c.h0,h1:c.h1,h2:c.h2,h3:c.h3,h4:c.h4};h(p,d,y);var R=t.util.createBuffer();return R.putInt32(p.h0),R.putInt32(p.h1),R.putInt32(p.h2),R.putInt32(p.h3),R.putInt32(p.h4),R},f};var i=null,s=!1;function u(){i=String.fromCharCode(128),i+=t.util.fillString(String.fromCharCode(0),64),s=!0}function h(c,a,d){for(var f,y,A,T,m,S,B,k,p=d.length();p>=64;){for(y=c.h0,A=c.h1,T=c.h2,m=c.h3,S=c.h4,k=0;k<16;++k)f=d.getInt32(),a[k]=f,B=m^A&(T^m),f=(y<<5|y>>>27)+B+S+1518500249+f,S=m,m=T,T=(A<<30|A>>>2)>>>0,A=y,y=f;for(;k<20;++k)f=a[k-3]^a[k-8]^a[k-14]^a[k-16],f=f<<1|f>>>31,a[k]=f,B=m^A&(T^m),f=(y<<5|y>>>27)+B+S+1518500249+f,S=m,m=T,T=(A<<30|A>>>2)>>>0,A=y,y=f;for(;k<32;++k)f=a[k-3]^a[k-8]^a[k-14]^a[k-16],f=f<<1|f>>>31,a[k]=f,B=A^T^m,f=(y<<5|y>>>27)+B+S+1859775393+f,S=m,m=T,T=(A<<30|A>>>2)>>>0,A=y,y=f;for(;k<40;++k)f=a[k-6]^a[k-16]^a[k-28]^a[k-32],f=f<<2|f>>>30,a[k]=f,B=A^T^m,f=(y<<5|y>>>27)+B+S+1859775393+f,S=m,m=T,T=(A<<30|A>>>2)>>>0,A=y,y=f;for(;k<60;++k)f=a[k-6]^a[k-16]^a[k-28]^a[k-32],f=f<<2|f>>>30,a[k]=f,B=A&T|m&(A^T),f=(y<<5|y>>>27)+B+S+2400959708+f,S=m,m=T,T=(A<<30|A>>>2)>>>0,A=y,y=f;for(;k<80;++k)f=a[k-6]^a[k-16]^a[k-28]^a[k-32],f=f<<2|f>>>30,a[k]=f,B=A^T^m,f=(y<<5|y>>>27)+B+S+3395469782+f,S=m,m=T,T=(A<<30|A>>>2)>>>0,A=y,y=f;c.h0=c.h0+y|0,c.h1=c.h1+A|0,c.h2=c.h2+T|0,c.h3=c.h3+m|0,c.h4=c.h4+S|0,p-=64}}}),Sb=Qe((e,n)=>{var t=lt();St(),ui(),Qu();var r=n.exports=t.pkcs1=t.pkcs1||{};r.encode_rsa_oaep=function(s,u,h){var c,a,d,f;typeof h=="string"?(c=h,a=arguments[3]||void 0,d=arguments[4]||void 0):h&&(c=h.label||void 0,a=h.seed||void 0,d=h.md||void 0,h.mgf1&&h.mgf1.md&&(f=h.mgf1.md)),d?d.start():d=t.md.sha1.create(),f||(f=d);var y=Math.ceil(s.n.bitLength()/8),A=y-2*d.digestLength-2;if(u.length>A){var T=new Error("RSAES-OAEP input message length is too long.");throw T.length=u.length,T.maxLength=A,T}c||(c=""),d.update(c,"raw");for(var m=d.digest(),S="",B=A-u.length,k=0;k<B;k++)S+="\0";var p=m.getBytes()+S+""+u;if(!a)a=t.random.getBytes(d.digestLength);else if(a.length!==d.digestLength){var T=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw T.seedLength=a.length,T.digestLength=d.digestLength,T}var R=i(a,y-d.digestLength-1,f),E=t.util.xorBytes(p,R,p.length),P=i(E,d.digestLength,f),D=t.util.xorBytes(a,P,a.length);return"\0"+D+E},r.decode_rsa_oaep=function(s,u,h){var c,a,d;typeof h=="string"?(c=h,a=arguments[3]||void 0):h&&(c=h.label||void 0,a=h.md||void 0,h.mgf1&&h.mgf1.md&&(d=h.mgf1.md));var f=Math.ceil(s.n.bitLength()/8);if(u.length!==f){var y=new Error("RSAES-OAEP encoded message length is invalid.");throw y.length=u.length,y.expectedLength=f,y}if(a===void 0?a=t.md.sha1.create():a.start(),d||(d=a),f<2*a.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");c||(c=""),a.update(c,"raw");for(var A=a.digest().getBytes(),T=u.charAt(0),m=u.substring(1,a.digestLength+1),S=u.substring(1+a.digestLength),B=i(S,a.digestLength,d),k=t.util.xorBytes(m,B,m.length),p=i(k,f-a.digestLength-1,d),R=t.util.xorBytes(S,p,S.length),E=R.substring(0,a.digestLength),y=T!=="\0",P=0;P<a.digestLength;++P)y|=A.charAt(P)!==E.charAt(P);for(var D=1,C=a.digestLength,v=a.digestLength;v<R.length;v++){var g=R.charCodeAt(v),M=g&1^1,V=D?65534:0;y|=g&V,D=D&M,C+=D}if(y||R.charCodeAt(C)!==1)throw new Error("Invalid RSAES-OAEP padding.");return R.substring(C+1)};function i(s,u,h){h||(h=t.md.sha1.create());for(var c="",a=Math.ceil(u/h.digestLength),d=0;d<a;++d){var f=String.fromCharCode(d>>24&255,d>>16&255,d>>8&255,d&255);h.start(),h.update(s+f),c+=h.digest().getBytes()}return c.substring(0,u)}}),Cb=Qe((e,n)=>{var t=lt();St(),gh(),ui(),function(){if(t.prime){n.exports=t.prime;return}var r=n.exports=t.prime=t.prime||{},i=t.jsbn.BigInteger,s=[6,4,2,4,2,4,6,2],u=new i(null);u.fromInt(30);var h=function(T,m){return T|m};r.generateProbablePrime=function(T,m,S){typeof m=="function"&&(S=m,m={}),m=m||{};var B=m.algorithm||"PRIMEINC";typeof B=="string"&&(B={name:B}),B.options=B.options||{};var k=m.prng||t.random,p={nextBytes:function(R){for(var E=k.getBytesSync(R.length),P=0;P<R.length;++P)R[P]=E.charCodeAt(P)}};if(B.name==="PRIMEINC")return c(T,p,B.options,S);throw new Error("Invalid prime generation algorithm: "+B.name)};function c(T,m,S,B){return"workers"in S?f(T,m,S,B):a(T,m,S,B)}function a(T,m,S,B){var k=y(T,m),p=0,R=A(k.bitLength());"millerRabinTests"in S&&(R=S.millerRabinTests);var E=10;"maxBlockTime"in S&&(E=S.maxBlockTime),d(k,T,m,p,R,E,B)}function d(T,m,S,B,k,p,R){var E=+new Date;do{if(T.bitLength()>m&&(T=y(m,S)),T.isProbablePrime(k))return R(null,T);T.dAddOffset(s[B++%8],0)}while(p<0||+new Date-E<p);t.util.setImmediate(function(){d(T,m,S,B,k,p,R)})}function f(T,m,S,B){if(typeof Worker>"u")return a(T,m,S,B);var k=y(T,m),p=S.workers,R=S.workLoad||100,E=R*30/8,P=S.workerScript||"forge/prime.worker.js";if(p===-1)return t.util.estimateCores(function(C,v){C&&(v=2),p=v-1,D()});D();function D(){p=Math.max(1,p);for(var C=[],v=0;v<p;++v)C[v]=new Worker(P);for(var g=p,v=0;v<p;++v)C[v].addEventListener("message",V);var M=!1;function V(q){if(!M){--g;var w=q.data;if(w.found){for(var U=0;U<C.length;++U)C[U].terminate();return M=!0,B(null,new i(w.prime,16))}k.bitLength()>T&&(k=y(T,m));var j=k.toString(16);q.target.postMessage({hex:j,workLoad:R}),k.dAddOffset(E,0)}}}}function y(T,m){var S=new i(T,m),B=T-1;return S.testBit(B)||S.bitwiseTo(i.ONE.shiftLeft(B),h,S),S.dAddOffset(31-S.mod(u).byteValue(),0),S}function A(T){return T<=100?27:T<=150?18:T<=200?15:T<=250?12:T<=300?9:T<=350?8:T<=400?7:T<=500?6:T<=600?5:T<=800?4:T<=1250?3:2}}()}),mh=Qe((e,n)=>{var t=lt();ki(),gh(),La(),Sb(),Cb(),ui(),St(),typeof r>"u"&&(r=t.jsbn.BigInteger);var r,i=t.util.isNodejs?bs("crypto"):null,s=t.asn1,u=t.util;t.pki=t.pki||{},n.exports=t.pki.rsa=t.rsa=t.rsa||{};var h=t.pki,c=[6,4,2,4,2,4,6,2],a={name:"PrivateKeyInfo",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:s.Class.UNIVERSAL,type:s.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},d={name:"RSAPrivateKey",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},f={name:"RSAPublicKey",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:s.Class.UNIVERSAL,type:s.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},y=t.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:s.Class.UNIVERSAL,type:s.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},A={name:"DigestInfo",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:s.Class.UNIVERSAL,type:s.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:s.Class.UNIVERSAL,type:s.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:s.Class.UNIVERSAL,type:s.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:s.Class.UNIVERSAL,type:s.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},T=function(v){var g;if(v.algorithm in h.oids)g=h.oids[v.algorithm];else{var M=new Error("Unknown message digest algorithm.");throw M.algorithm=v.algorithm,M}var V=s.oidToDer(g).getBytes(),q=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[]),w=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[]);w.value.push(s.create(s.Class.UNIVERSAL,s.Type.OID,!1,V)),w.value.push(s.create(s.Class.UNIVERSAL,s.Type.NULL,!1,""));var U=s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,v.digest().getBytes());return q.value.push(w),q.value.push(U),s.toDer(q).getBytes()},m=function(v,g,M){if(M)return v.modPow(g.e,g.n);if(!g.p||!g.q)return v.modPow(g.d,g.n);g.dP||(g.dP=g.d.mod(g.p.subtract(r.ONE))),g.dQ||(g.dQ=g.d.mod(g.q.subtract(r.ONE))),g.qInv||(g.qInv=g.q.modInverse(g.p));var V;do V=new r(t.util.bytesToHex(t.random.getBytes(g.n.bitLength()/8)),16);while(V.compareTo(g.n)>=0||!V.gcd(g.n).equals(r.ONE));v=v.multiply(V.modPow(g.e,g.n)).mod(g.n);for(var q=v.mod(g.p).modPow(g.dP,g.p),w=v.mod(g.q).modPow(g.dQ,g.q);q.compareTo(w)<0;)q=q.add(g.p);var U=q.subtract(w).multiply(g.qInv).mod(g.p).multiply(g.q).add(w);return U=U.multiply(V.modInverse(g.n)).mod(g.n),U};h.rsa.encrypt=function(v,g,M){var V=M,q,w=Math.ceil(g.n.bitLength()/8);M!==!1&&M!==!0?(V=M===2,q=S(v,g,M)):(q=t.util.createBuffer(),q.putBytes(v));for(var U=new r(q.toHex(),16),j=m(U,g,V),L=j.toString(16),F=t.util.createBuffer(),ee=w-Math.ceil(L.length/2);ee>0;)F.putByte(0),--ee;return F.putBytes(t.util.hexToBytes(L)),F.getBytes()},h.rsa.decrypt=function(v,g,M,V){var q=Math.ceil(g.n.bitLength()/8);if(v.length!==q){var w=new Error("Encrypted message length is invalid.");throw w.length=v.length,w.expected=q,w}var U=new r(t.util.createBuffer(v).toHex(),16);if(U.compareTo(g.n)>=0)throw new Error("Encrypted message is invalid.");for(var j=m(U,g,M),L=j.toString(16),F=t.util.createBuffer(),ee=q-Math.ceil(L.length/2);ee>0;)F.putByte(0),--ee;return F.putBytes(t.util.hexToBytes(L)),V!==!1?B(F.getBytes(),g,M):F.getBytes()},h.rsa.createKeyPairGenerationState=function(v,g,M){typeof v=="string"&&(v=parseInt(v,10)),v=v||2048,M=M||{};var V=M.prng||t.random,q={nextBytes:function(j){for(var L=V.getBytesSync(j.length),F=0;F<j.length;++F)j[F]=L.charCodeAt(F)}},w=M.algorithm||"PRIMEINC",U;if(w==="PRIMEINC")U={algorithm:w,state:0,bits:v,rng:q,eInt:g||65537,e:new r(null),p:null,q:null,qBits:v>>1,pBits:v-(v>>1),pqState:0,num:null,keys:null},U.e.fromInt(U.eInt);else throw new Error("Invalid key generation algorithm: "+w);return U},h.rsa.stepKeyPairGenerationState=function(v,g){"algorithm"in v||(v.algorithm="PRIMEINC");var M=new r(null);M.fromInt(30);for(var V=0,q=function(ue,se){return ue|se},w=+new Date,U,j=0;v.keys===null&&(g<=0||j<g);){if(v.state===0){var L=v.p===null?v.pBits:v.qBits,F=L-1;v.pqState===0?(v.num=new r(L,v.rng),v.num.testBit(F)||v.num.bitwiseTo(r.ONE.shiftLeft(F),q,v.num),v.num.dAddOffset(31-v.num.mod(M).byteValue(),0),V=0,++v.pqState):v.pqState===1?v.num.bitLength()>L?v.pqState=0:v.num.isProbablePrime(R(v.num.bitLength()))?++v.pqState:v.num.dAddOffset(c[V++%8],0):v.pqState===2?v.pqState=v.num.subtract(r.ONE).gcd(v.e).compareTo(r.ONE)===0?3:0:v.pqState===3&&(v.pqState=0,v.p===null?v.p=v.num:v.q=v.num,v.p!==null&&v.q!==null&&++v.state,v.num=null)}else if(v.state===1)v.p.compareTo(v.q)<0&&(v.num=v.p,v.p=v.q,v.q=v.num),++v.state;else if(v.state===2)v.p1=v.p.subtract(r.ONE),v.q1=v.q.subtract(r.ONE),v.phi=v.p1.multiply(v.q1),++v.state;else if(v.state===3)v.phi.gcd(v.e).compareTo(r.ONE)===0?++v.state:(v.p=null,v.q=null,v.state=0);else if(v.state===4)v.n=v.p.multiply(v.q),v.n.bitLength()===v.bits?++v.state:(v.q=null,v.state=0);else if(v.state===5){var ee=v.e.modInverse(v.phi);v.keys={privateKey:h.rsa.setPrivateKey(v.n,v.e,ee,v.p,v.q,ee.mod(v.p1),ee.mod(v.q1),v.q.modInverse(v.p)),publicKey:h.rsa.setPublicKey(v.n,v.e)}}U=+new Date,j+=U-w,w=U}return v.keys!==null},h.rsa.generateKeyPair=function(v,g,M,V){if(arguments.length===1?typeof v=="object"?(M=v,v=void 0):typeof v=="function"&&(V=v,v=void 0):arguments.length===2?typeof v=="number"?typeof g=="function"?(V=g,g=void 0):typeof g!="number"&&(M=g,g=void 0):(M=v,V=g,v=void 0,g=void 0):arguments.length===3&&(typeof g=="number"?typeof M=="function"&&(V=M,M=void 0):(V=M,M=g,g=void 0)),M=M||{},v===void 0&&(v=M.bits||2048),g===void 0&&(g=M.e||65537),!t.options.usePureJavaScript&&!M.prng&&v>=256&&v<=16384&&(g===65537||g===3)){if(V){if(E("generateKeyPair"))return i.generateKeyPair("rsa",{modulusLength:v,publicExponent:g,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(j,L,F){if(j)return V(j);V(null,{privateKey:h.privateKeyFromPem(F),publicKey:h.publicKeyFromPem(L)})});if(P("generateKey")&&P("exportKey"))return u.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:v,publicExponent:C(g),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(j){return u.globalScope.crypto.subtle.exportKey("pkcs8",j.privateKey)}).then(void 0,function(j){V(j)}).then(function(j){if(j){var L=h.privateKeyFromAsn1(s.fromDer(t.util.createBuffer(j)));V(null,{privateKey:L,publicKey:h.setRsaPublicKey(L.n,L.e)})}});if(D("generateKey")&&D("exportKey")){var q=u.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:v,publicExponent:C(g),hash:{name:"SHA-256"}},!0,["sign","verify"]);q.oncomplete=function(j){var L=j.target.result,F=u.globalScope.msCrypto.subtle.exportKey("pkcs8",L.privateKey);F.oncomplete=function(ee){var ue=ee.target.result,se=h.privateKeyFromAsn1(s.fromDer(t.util.createBuffer(ue)));V(null,{privateKey:se,publicKey:h.setRsaPublicKey(se.n,se.e)})},F.onerror=function(ee){V(ee)}},q.onerror=function(j){V(j)};return}}else if(E("generateKeyPairSync")){var w=i.generateKeyPairSync("rsa",{modulusLength:v,publicExponent:g,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:h.privateKeyFromPem(w.privateKey),publicKey:h.publicKeyFromPem(w.publicKey)}}}var U=h.rsa.createKeyPairGenerationState(v,g,M);if(!V)return h.rsa.stepKeyPairGenerationState(U,0),U.keys;k(U,M,V)},h.setRsaPublicKey=h.rsa.setPublicKey=function(v,g){var M={n:v,e:g};return M.encrypt=function(V,q,w){if(typeof q=="string"?q=q.toUpperCase():q===void 0&&(q="RSAES-PKCS1-V1_5"),q==="RSAES-PKCS1-V1_5")q={encode:function(j,L,F){return S(j,L,2).getBytes()}};else if(q==="RSA-OAEP"||q==="RSAES-OAEP")q={encode:function(j,L){return t.pkcs1.encode_rsa_oaep(L,j,w)}};else if(["RAW","NONE","NULL",null].indexOf(q)!==-1)q={encode:function(j){return j}};else if(typeof q=="string")throw new Error('Unsupported encryption scheme: "'+q+'".');var U=q.encode(V,M,!0);return h.rsa.encrypt(U,M,!0)},M.verify=function(V,q,w,U){typeof w=="string"?w=w.toUpperCase():w===void 0&&(w="RSASSA-PKCS1-V1_5"),U===void 0&&(U={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in U||(U._parseAllDigestBytes=!0),w==="RSASSA-PKCS1-V1_5"?w={verify:function(L,F){F=B(F,M,!0);var ee=s.fromDer(F,{parseAllBytes:U._parseAllDigestBytes}),ue={},se=[];if(!s.validate(ee,A,ue,se)){var pe=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.");throw pe.errors=se,pe}var ke=s.derToOid(ue.algorithmIdentifier);if(!(ke===t.oids.md2||ke===t.oids.md5||ke===t.oids.sha1||ke===t.oids.sha224||ke===t.oids.sha256||ke===t.oids.sha384||ke===t.oids.sha512||ke===t.oids["sha512-224"]||ke===t.oids["sha512-256"])){var pe=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.");throw pe.oid=ke,pe}if((ke===t.oids.md2||ke===t.oids.md5)&&!("parameters"in ue))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return L===ue.digest}}:(w==="NONE"||w==="NULL"||w===null)&&(w={verify:function(L,F){return F=B(F,M,!0),L===F}});var j=h.rsa.decrypt(q,M,!0,!1);return w.verify(V,j,M.n.bitLength())},M},h.setRsaPrivateKey=h.rsa.setPrivateKey=function(v,g,M,V,q,w,U,j){var L={n:v,e:g,d:M,p:V,q,dP:w,dQ:U,qInv:j};return L.decrypt=function(F,ee,ue){typeof ee=="string"?ee=ee.toUpperCase():ee===void 0&&(ee="RSAES-PKCS1-V1_5");var se=h.rsa.decrypt(F,L,!1,!1);if(ee==="RSAES-PKCS1-V1_5")ee={decode:B};else if(ee==="RSA-OAEP"||ee==="RSAES-OAEP")ee={decode:function(pe,ke){return t.pkcs1.decode_rsa_oaep(ke,pe,ue)}};else if(["RAW","NONE","NULL",null].indexOf(ee)!==-1)ee={decode:function(pe){return pe}};else throw new Error('Unsupported encryption scheme: "'+ee+'".');return ee.decode(se,L,!1)},L.sign=function(F,ee){var ue=!1;typeof ee=="string"&&(ee=ee.toUpperCase()),ee===void 0||ee==="RSASSA-PKCS1-V1_5"?(ee={encode:T},ue=1):(ee==="NONE"||ee==="NULL"||ee===null)&&(ee={encode:function(){return F}},ue=1);var se=ee.encode(F,L.n.bitLength());return h.rsa.encrypt(se,L,ue)},L},h.wrapRsaPrivateKey=function(v){return s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,s.integerToDer(0).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(h.oids.rsaEncryption).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.NULL,!1,"")]),s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,s.toDer(v).getBytes())])},h.privateKeyFromAsn1=function(v){var g={},M=[];if(s.validate(v,a,g,M)&&(v=s.fromDer(t.util.createBuffer(g.privateKey))),g={},M=[],!s.validate(v,d,g,M)){var V=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw V.errors=M,V}var q,w,U,j,L,F,ee,ue;return q=t.util.createBuffer(g.privateKeyModulus).toHex(),w=t.util.createBuffer(g.privateKeyPublicExponent).toHex(),U=t.util.createBuffer(g.privateKeyPrivateExponent).toHex(),j=t.util.createBuffer(g.privateKeyPrime1).toHex(),L=t.util.createBuffer(g.privateKeyPrime2).toHex(),F=t.util.createBuffer(g.privateKeyExponent1).toHex(),ee=t.util.createBuffer(g.privateKeyExponent2).toHex(),ue=t.util.createBuffer(g.privateKeyCoefficient).toHex(),h.setRsaPrivateKey(new r(q,16),new r(w,16),new r(U,16),new r(j,16),new r(L,16),new r(F,16),new r(ee,16),new r(ue,16))},h.privateKeyToAsn1=h.privateKeyToRSAPrivateKey=function(v){return s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,s.integerToDer(0).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,p(v.n)),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,p(v.e)),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,p(v.d)),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,p(v.p)),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,p(v.q)),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,p(v.dP)),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,p(v.dQ)),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,p(v.qInv))])},h.publicKeyFromAsn1=function(v){var g={},M=[];if(s.validate(v,y,g,M)){var V=s.derToOid(g.publicKeyOid);if(V!==h.oids.rsaEncryption){var q=new Error("Cannot read public key. Unknown OID.");throw q.oid=V,q}v=g.rsaPublicKey}if(M=[],!s.validate(v,f,g,M)){var q=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw q.errors=M,q}var w=t.util.createBuffer(g.publicKeyModulus).toHex(),U=t.util.createBuffer(g.publicKeyExponent).toHex();return h.setRsaPublicKey(new r(w,16),new r(U,16))},h.publicKeyToAsn1=h.publicKeyToSubjectPublicKeyInfo=function(v){return s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(h.oids.rsaEncryption).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.NULL,!1,"")]),s.create(s.Class.UNIVERSAL,s.Type.BITSTRING,!1,[h.publicKeyToRSAPublicKey(v)])])},h.publicKeyToRSAPublicKey=function(v){return s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,p(v.n)),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,p(v.e))])};function S(v,g,M){var V=t.util.createBuffer(),q=Math.ceil(g.n.bitLength()/8);if(v.length>q-11){var w=new Error("Message is too long for PKCS#1 v1.5 padding.");throw w.length=v.length,w.max=q-11,w}V.putByte(0),V.putByte(M);var U=q-3-v.length,j;if(M===0||M===1){j=M===0?0:255;for(var L=0;L<U;++L)V.putByte(j)}else for(;U>0;){for(var F=0,ee=t.random.getBytes(U),L=0;L<U;++L)j=ee.charCodeAt(L),j===0?++F:V.putByte(j);U=F}return V.putByte(0),V.putBytes(v),V}function B(v,g,M,V){var q=Math.ceil(g.n.bitLength()/8),w=t.util.createBuffer(v),U=w.getByte(),j=w.getByte();if(U!==0||M&&j!==0&&j!==1||!M&&j!=2||M&&j===0&&typeof V>"u")throw new Error("Encryption block is invalid.");var L=0;if(j===0){L=q-3-V;for(var F=0;F<L;++F)if(w.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(j===1)for(L=0;w.length()>1;){if(w.getByte()!==255){--w.read;break}++L}else if(j===2)for(L=0;w.length()>1;){if(w.getByte()===0){--w.read;break}++L}var ee=w.getByte();if(ee!==0||L!==q-3-w.length())throw new Error("Encryption block is invalid.");return w.getBytes()}function k(v,g,M){typeof g=="function"&&(M=g,g={}),g=g||{};var V={algorithm:{name:g.algorithm||"PRIMEINC",options:{workers:g.workers||2,workLoad:g.workLoad||100,workerScript:g.workerScript}}};"prng"in g&&(V.prng=g.prng),q();function q(){w(v.pBits,function(j,L){if(j)return M(j);if(v.p=L,v.q!==null)return U(j,v.q);w(v.qBits,U)})}function w(j,L){t.prime.generateProbablePrime(j,V,L)}function U(j,L){if(j)return M(j);if(v.q=L,v.p.compareTo(v.q)<0){var F=v.p;v.p=v.q,v.q=F}if(v.p.subtract(r.ONE).gcd(v.e).compareTo(r.ONE)!==0){v.p=null,q();return}if(v.q.subtract(r.ONE).gcd(v.e).compareTo(r.ONE)!==0){v.q=null,w(v.qBits,U);return}if(v.p1=v.p.subtract(r.ONE),v.q1=v.q.subtract(r.ONE),v.phi=v.p1.multiply(v.q1),v.phi.gcd(v.e).compareTo(r.ONE)!==0){v.p=v.q=null,q();return}if(v.n=v.p.multiply(v.q),v.n.bitLength()!==v.bits){v.q=null,w(v.qBits,U);return}var ee=v.e.modInverse(v.phi);v.keys={privateKey:h.rsa.setPrivateKey(v.n,v.e,ee,v.p,v.q,ee.mod(v.p1),ee.mod(v.q1),v.q.modInverse(v.p)),publicKey:h.rsa.setPublicKey(v.n,v.e)},M(null,v.keys)}}function p(v){var g=v.toString(16);g[0]>="8"&&(g="00"+g);var M=t.util.hexToBytes(g);return M.length>1&&(M.charCodeAt(0)===0&&!(M.charCodeAt(1)&128)||M.charCodeAt(0)===255&&(M.charCodeAt(1)&128)===128)?M.substr(1):M}function R(v){return v<=100?27:v<=150?18:v<=200?15:v<=250?12:v<=300?9:v<=350?8:v<=400?7:v<=500?6:v<=600?5:v<=800?4:v<=1250?3:2}function E(v){return t.util.isNodejs&&typeof i[v]=="function"}function P(v){return typeof u.globalScope<"u"&&typeof u.globalScope.crypto=="object"&&typeof u.globalScope.crypto.subtle=="object"&&typeof u.globalScope.crypto.subtle[v]=="function"}function D(v){return typeof u.globalScope<"u"&&typeof u.globalScope.msCrypto=="object"&&typeof u.globalScope.msCrypto.subtle=="object"&&typeof u.globalScope.msCrypto.subtle[v]=="function"}function C(v){for(var g=t.util.hexToBytes(v.toString(16)),M=new Uint8Array(g.length),V=0;V<g.length;++V)M[V]=g.charCodeAt(V);return M}}),Tb=Qe((e,n)=>{var t=lt();Pa(),ki(),yh(),fo(),La(),e0(),Bs(),ui(),Eb(),mh(),St(),typeof r>"u"&&(r=t.jsbn.BigInteger);var r,i=t.asn1,s=t.pki=t.pki||{};n.exports=s.pbe=t.pbe=t.pbe||{};var u=s.oids,h={name:"EncryptedPrivateKeyInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},c={name:"PBES2Algorithms",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},a={name:"pkcs-12PbeParams",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"iterations"}]};s.encryptPrivateKeyInfo=function(T,m,S){S=S||{},S.saltSize=S.saltSize||8,S.count=S.count||2048,S.algorithm=S.algorithm||"aes128",S.prfAlgorithm=S.prfAlgorithm||"sha1";var B=t.random.getBytesSync(S.saltSize),k=S.count,p=i.integerToDer(k),R,E,P;if(S.algorithm.indexOf("aes")===0||S.algorithm==="des"){var D,C,v;switch(S.algorithm){case"aes128":R=16,D=16,C=u["aes128-CBC"],v=t.aes.createEncryptionCipher;break;case"aes192":R=24,D=16,C=u["aes192-CBC"],v=t.aes.createEncryptionCipher;break;case"aes256":R=32,D=16,C=u["aes256-CBC"],v=t.aes.createEncryptionCipher;break;case"des":R=8,D=8,C=u.desCBC,v=t.des.createEncryptionCipher;break;default:var g=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw g.algorithm=S.algorithm,g}var M="hmacWith"+S.prfAlgorithm.toUpperCase(),V=y(M),q=t.pkcs5.pbkdf2(m,B,k,R,V),w=t.random.getBytesSync(D),U=v(q);U.start(w),U.update(i.toDer(T)),U.finish(),P=U.output.getBytes();var j=A(B,p,R,M);E=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(u.pkcs5PBES2).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(u.pkcs5PBKDF2).getBytes()),j]),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(C).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,w)])])])}else if(S.algorithm==="3des"){R=24;var L=new t.util.ByteBuffer(B),q=s.pbe.generatePkcs12Key(m,L,1,k,R),w=s.pbe.generatePkcs12Key(m,L,2,k,R),U=t.des.createEncryptionCipher(q);U.start(w),U.update(i.toDer(T)),U.finish(),P=U.output.getBytes(),E=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(u["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,B),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,p.getBytes())])])}else{var g=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw g.algorithm=S.algorithm,g}var F=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[E,i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,P)]);return F},s.decryptPrivateKeyInfo=function(T,m){var S=null,B={},k=[];if(!i.validate(T,h,B,k)){var p=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw p.errors=k,p}var R=i.derToOid(B.encryptionOid),E=s.pbe.getCipher(R,B.encryptionParams,m),P=t.util.createBuffer(B.encryptedData);return E.update(P),E.finish()&&(S=i.fromDer(E.output)),S},s.encryptedPrivateKeyToPem=function(T,m){var S={type:"ENCRYPTED PRIVATE KEY",body:i.toDer(T).getBytes()};return t.pem.encode(S,{maxline:m})},s.encryptedPrivateKeyFromPem=function(T){var m=t.pem.decode(T)[0];if(m.type!=="ENCRYPTED PRIVATE KEY"){var S=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw S.headerType=m.type,S}if(m.procType&&m.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return i.fromDer(m.body)},s.encryptRsaPrivateKey=function(T,m,S){if(S=S||{},!S.legacy){var B=s.wrapRsaPrivateKey(s.privateKeyToAsn1(T));return B=s.encryptPrivateKeyInfo(B,m,S),s.encryptedPrivateKeyToPem(B)}var k,p,R,E;switch(S.algorithm){case"aes128":k="AES-128-CBC",R=16,p=t.random.getBytesSync(16),E=t.aes.createEncryptionCipher;break;case"aes192":k="AES-192-CBC",R=24,p=t.random.getBytesSync(16),E=t.aes.createEncryptionCipher;break;case"aes256":k="AES-256-CBC",R=32,p=t.random.getBytesSync(16),E=t.aes.createEncryptionCipher;break;case"3des":k="DES-EDE3-CBC",R=24,p=t.random.getBytesSync(8),E=t.des.createEncryptionCipher;break;case"des":k="DES-CBC",R=8,p=t.random.getBytesSync(8),E=t.des.createEncryptionCipher;break;default:var P=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+S.algorithm+'".');throw P.algorithm=S.algorithm,P}var D=t.pbe.opensslDeriveBytes(m,p.substr(0,8),R),C=E(D);C.start(p),C.update(i.toDer(s.privateKeyToAsn1(T))),C.finish();var v={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:k,parameters:t.util.bytesToHex(p).toUpperCase()},body:C.output.getBytes()};return t.pem.encode(v)},s.decryptRsaPrivateKey=function(T,m){var S=null,B=t.pem.decode(T)[0];if(B.type!=="ENCRYPTED PRIVATE KEY"&&B.type!=="PRIVATE KEY"&&B.type!=="RSA PRIVATE KEY"){var k=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw k.headerType=k,k}if(B.procType&&B.procType.type==="ENCRYPTED"){var p,R;switch(B.dekInfo.algorithm){case"DES-CBC":p=8,R=t.des.createDecryptionCipher;break;case"DES-EDE3-CBC":p=24,R=t.des.createDecryptionCipher;break;case"AES-128-CBC":p=16,R=t.aes.createDecryptionCipher;break;case"AES-192-CBC":p=24,R=t.aes.createDecryptionCipher;break;case"AES-256-CBC":p=32,R=t.aes.createDecryptionCipher;break;case"RC2-40-CBC":p=5,R=function(v){return t.rc2.createDecryptionCipher(v,40)};break;case"RC2-64-CBC":p=8,R=function(v){return t.rc2.createDecryptionCipher(v,64)};break;case"RC2-128-CBC":p=16,R=function(v){return t.rc2.createDecryptionCipher(v,128)};break;default:var k=new Error('Could not decrypt private key; unsupported encryption algorithm "'+B.dekInfo.algorithm+'".');throw k.algorithm=B.dekInfo.algorithm,k}var E=t.util.hexToBytes(B.dekInfo.parameters),P=t.pbe.opensslDeriveBytes(m,E.substr(0,8),p),D=R(P);if(D.start(E),D.update(t.util.createBuffer(B.body)),D.finish())S=D.output.getBytes();else return S}else S=B.body;return B.type==="ENCRYPTED PRIVATE KEY"?S=s.decryptPrivateKeyInfo(i.fromDer(S),m):S=i.fromDer(S),S!==null&&(S=s.privateKeyFromAsn1(S)),S},s.pbe.generatePkcs12Key=function(T,m,S,B,k,p){var R,E;if(typeof p>"u"||p===null){if(!("sha1"in t.md))throw new Error('"sha1" hash algorithm unavailable.');p=t.md.sha1.create()}var P=p.digestLength,D=p.blockLength,C=new t.util.ByteBuffer,v=new t.util.ByteBuffer;if(T!=null){for(E=0;E<T.length;E++)v.putInt16(T.charCodeAt(E));v.putInt16(0)}var g=v.length(),M=m.length(),V=new t.util.ByteBuffer;V.fillWithByte(S,D);var q=D*Math.ceil(M/D),w=new t.util.ByteBuffer;for(E=0;E<q;E++)w.putByte(m.at(E%M));var U=D*Math.ceil(g/D),j=new t.util.ByteBuffer;for(E=0;E<U;E++)j.putByte(v.at(E%g));var L=w;L.putBuffer(j);for(var F=Math.ceil(k/P),ee=1;ee<=F;ee++){var ue=new t.util.ByteBuffer;ue.putBytes(V.bytes()),ue.putBytes(L.bytes());for(var se=0;se<B;se++)p.start(),p.update(ue.getBytes()),ue=p.digest();var pe=new t.util.ByteBuffer;for(E=0;E<D;E++)pe.putByte(ue.at(E%P));var ke=Math.ceil(M/D)+Math.ceil(g/D),Le=new t.util.ByteBuffer;for(R=0;R<ke;R++){var qe=new t.util.ByteBuffer(L.getBytes(D)),Ce=511;for(E=pe.length()-1;E>=0;E--)Ce=Ce>>8,Ce+=pe.at(E)+qe.at(E),qe.setAt(E,Ce&255);Le.putBuffer(qe)}L=Le,C.putBuffer(ue)}return C.truncate(C.length()-k),C},s.pbe.getCipher=function(T,m,S){switch(T){case s.oids.pkcs5PBES2:return s.pbe.getCipherForPBES2(T,m,S);case s.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case s.oids["pbewithSHAAnd40BitRC2-CBC"]:return s.pbe.getCipherForPKCS12PBE(T,m,S);default:var B=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw B.oid=T,B.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],B}},s.pbe.getCipherForPBES2=function(T,m,S){var B={},k=[];if(!i.validate(m,c,B,k)){var p=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw p.errors=k,p}if(T=i.derToOid(B.kdfOid),T!==s.oids.pkcs5PBKDF2){var p=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw p.oid=T,p.supportedOids=["pkcs5PBKDF2"],p}if(T=i.derToOid(B.encOid),T!==s.oids["aes128-CBC"]&&T!==s.oids["aes192-CBC"]&&T!==s.oids["aes256-CBC"]&&T!==s.oids["des-EDE3-CBC"]&&T!==s.oids.desCBC){var p=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw p.oid=T,p.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],p}var R=B.kdfSalt,E=t.util.createBuffer(B.kdfIterationCount);E=E.getInt(E.length()<<3);var P,D;switch(s.oids[T]){case"aes128-CBC":P=16,D=t.aes.createDecryptionCipher;break;case"aes192-CBC":P=24,D=t.aes.createDecryptionCipher;break;case"aes256-CBC":P=32,D=t.aes.createDecryptionCipher;break;case"des-EDE3-CBC":P=24,D=t.des.createDecryptionCipher;break;case"desCBC":P=8,D=t.des.createDecryptionCipher;break}var C=f(B.prfOid),v=t.pkcs5.pbkdf2(S,R,E,P,C),g=B.encIv,M=D(v);return M.start(g),M},s.pbe.getCipherForPKCS12PBE=function(T,m,S){var B={},k=[];if(!i.validate(m,a,B,k)){var p=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw p.errors=k,p}var R=t.util.createBuffer(B.salt),E=t.util.createBuffer(B.iterations);E=E.getInt(E.length()<<3);var P,D,C;switch(T){case s.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:P=24,D=8,C=t.des.startDecrypting;break;case s.oids["pbewithSHAAnd40BitRC2-CBC"]:P=5,D=8,C=function(q,w){var U=t.rc2.createDecryptionCipher(q,40);return U.start(w,null),U};break;default:var p=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw p.oid=T,p}var v=f(B.prfOid),g=s.pbe.generatePkcs12Key(S,R,1,E,P,v);v.start();var M=s.pbe.generatePkcs12Key(S,R,2,E,D,v);return C(g,M)},s.pbe.opensslDeriveBytes=function(T,m,S,B){if(typeof B>"u"||B===null){if(!("md5"in t.md))throw new Error('"md5" hash algorithm unavailable.');B=t.md.md5.create()}m===null&&(m="");for(var k=[d(B,T+m)],p=16,R=1;p<S;++R,p+=16)k.push(d(B,k[R-1]+T+m));return k.join("").substr(0,S)};function d(T,m){return T.start().update(m).digest().getBytes()}function f(T){var m;if(!T)m="hmacWithSHA1";else if(m=s.oids[i.derToOid(T)],!m){var S=new Error("Unsupported PRF OID.");throw S.oid=T,S.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],S}return y(m)}function y(T){var m=t.md;switch(T){case"hmacWithSHA224":m=t.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":T=T.substr(8).toLowerCase();break;default:var S=new Error("Unsupported PRF algorithm.");throw S.algorithm=T,S.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],S}if(!m||!(T in m))throw new Error("Unknown hash algorithm: "+T);return m[T].create()}function A(T,m,S,B){var k=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,T),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,m.getBytes())]);return B!=="hmacWithSHA1"&&k.value.push(i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,t.util.hexToBytes(S.toString(16))),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(s.oids[B]).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")])),k}}),Rb=Qe((e,n)=>{var t=lt();ki(),St();var r=t.asn1,i=n.exports=t.pkcs7asn1=t.pkcs7asn1||{};t.pkcs7=t.pkcs7||{},t.pkcs7.asn1=i;var s={name:"ContentInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:r.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};i.contentInfoValidator=s;var u={name:"EncryptedContentInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:r.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:r.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};i.envelopedDataValidator={name:"EnvelopedData",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:r.Class.UNIVERSAL,type:r.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(u)},i.encryptedDataValidator={name:"EncryptedData",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"version"}].concat(u)};var h={name:"SignerInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:r.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:r.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:r.Class.UNIVERSAL,type:r.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:r.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};i.signedDataValidator={name:"SignedData",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:r.Class.UNIVERSAL,type:r.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},s,{name:"SignedData.Certificates",tagClass:r.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:r.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:r.Class.UNIVERSAL,type:r.Type.SET,capture:"signerInfos",optional:!0,value:[h]}]},i.recipientInfoValidator={name:"RecipientInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:r.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:r.Class.UNIVERSAL,type:r.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}}),Ab=Qe((e,n)=>{var t=lt();St(),t.mgf=t.mgf||{};var r=n.exports=t.mgf.mgf1=t.mgf1=t.mgf1||{};r.create=function(i){var s={generate:function(u,h){for(var c=new t.util.ByteBuffer,a=Math.ceil(h/i.digestLength),d=0;d<a;d++){var f=new t.util.ByteBuffer;f.putInt32(d),i.start(),i.update(u+f.getBytes()),c.putBuffer(i.digest())}return c.truncate(c.length()-h),c.getBytes()}};return s}}),hI=Qe((e,n)=>{var t=lt();Ab(),n.exports=t.mgf=t.mgf||{},t.mgf.mgf1=t.mgf1}),t0=Qe((e,n)=>{var t=lt();ui(),St();var r=n.exports=t.pss=t.pss||{};r.create=function(i){arguments.length===3&&(i={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var s=i.md,u=i.mgf,h=s.digestLength,c=i.salt||null;typeof c=="string"&&(c=t.util.createBuffer(c));var a;if("saltLength"in i)a=i.saltLength;else if(c!==null)a=c.length();else throw new Error("Salt length not specified or specific salt not given.");if(c!==null&&c.length()!==a)throw new Error("Given salt length does not match length of given salt.");var d=i.prng||t.random,f={};return f.encode=function(y,A){var T,m=A-1,S=Math.ceil(m/8),B=y.digest().getBytes();if(S<h+a+2)throw new Error("Message is too long to encrypt.");var k;c===null?k=d.getBytesSync(a):k=c.bytes();var p=new t.util.ByteBuffer;p.fillWithByte(0,8),p.putBytes(B),p.putBytes(k),s.start(),s.update(p.getBytes());var R=s.digest().getBytes(),E=new t.util.ByteBuffer;E.fillWithByte(0,S-a-h-2),E.putByte(1),E.putBytes(k);var P=E.getBytes(),D=S-h-1,C=u.generate(R,D),v="";for(T=0;T<D;T++)v+=String.fromCharCode(P.charCodeAt(T)^C.charCodeAt(T));var g=65280>>8*S-m&255;return v=String.fromCharCode(v.charCodeAt(0)&~g)+v.substr(1),v+R+String.fromCharCode(188)},f.verify=function(y,A,T){var m,S=T-1,B=Math.ceil(S/8);if(A=A.substr(-B),B<h+a+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(A.charCodeAt(B-1)!==188)throw new Error("Encoded message does not end in 0xBC.");var k=B-h-1,p=A.substr(0,k),R=A.substr(k,h),E=65280>>8*B-S&255;if(p.charCodeAt(0)&E)throw new Error("Bits beyond keysize not zero as expected.");var P=u.generate(R,k),D="";for(m=0;m<k;m++)D+=String.fromCharCode(p.charCodeAt(m)^P.charCodeAt(m));D=String.fromCharCode(D.charCodeAt(0)&~E)+D.substr(1);var C=B-h-a-2;for(m=0;m<C;m++)if(D.charCodeAt(m)!==0)throw new Error("Leftmost octets not zero as expected");if(D.charCodeAt(C)!==1)throw new Error("Inconsistent PSS signature, 0x01 marker not found");var v=D.substr(-a),g=new t.util.ByteBuffer;g.fillWithByte(0,8),g.putBytes(y),g.putBytes(v),s.start(),s.update(g.getBytes());var M=s.digest().getBytes();return R===M},f}}),r0=Qe((e,n)=>{var t=lt();Pa(),ki(),yh(),fo(),hI(),La(),Bs(),t0(),mh(),St();var r=t.asn1,i=n.exports=t.pki=t.pki||{},s=i.oids,u={};u.CN=s.commonName,u.commonName="CN",u.C=s.countryName,u.countryName="C",u.L=s.localityName,u.localityName="L",u.ST=s.stateOrProvinceName,u.stateOrProvinceName="ST",u.O=s.organizationName,u.organizationName="O",u.OU=s.organizationalUnitName,u.organizationalUnitName="OU",u.E=s.emailAddress,u.emailAddress="E";var h=t.pki.rsa.publicKeyValidator,c={name:"Certificate",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:r.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:r.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:r.Class.UNIVERSAL,type:r.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:r.Class.UNIVERSAL,type:r.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:r.Class.UNIVERSAL,type:r.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:r.Class.UNIVERSAL,type:r.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},h,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:r.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:r.Class.UNIVERSAL,type:r.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:r.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:r.Class.UNIVERSAL,type:r.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:r.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:r.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:r.Class.UNIVERSAL,type:r.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},a={name:"rsapss",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:r.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:r.Class.UNIVERSAL,type:r.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:r.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:r.Class.UNIVERSAL,type:r.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:r.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:r.Class.UNIVERSAL,type:r.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:r.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:r.Class.UNIVERSAL,type:r.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},d={name:"CertificationRequestInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},h,{name:"CertificationRequestInfo.attributes",tagClass:r.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:r.Class.UNIVERSAL,type:r.Type.SET,constructed:!0}]}]}]},f={name:"CertificationRequest",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[d,{name:"CertificationRequest.signatureAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:r.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:r.Class.UNIVERSAL,type:r.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};i.RDNAttributesAsArray=function(C,v){for(var g=[],M,V,q,w=0;w<C.value.length;++w){M=C.value[w];for(var U=0;U<M.value.length;++U)q={},V=M.value[U],q.type=r.derToOid(V.value[0].value),q.value=V.value[1].value,q.valueTagClass=V.value[1].type,q.type in s&&(q.name=s[q.type],q.name in u&&(q.shortName=u[q.name])),v&&(v.update(q.type),v.update(q.value)),g.push(q)}return g},i.CRIAttributesAsArray=function(C){for(var v=[],g=0;g<C.length;++g)for(var M=C[g],V=r.derToOid(M.value[0].value),q=M.value[1].value,w=0;w<q.length;++w){var U={};if(U.type=V,U.value=q[w].value,U.valueTagClass=q[w].type,U.type in s&&(U.name=s[U.type],U.name in u&&(U.shortName=u[U.name])),U.type===s.extensionRequest){U.extensions=[];for(var j=0;j<U.value.length;++j)U.extensions.push(i.certificateExtensionFromAsn1(U.value[j]))}v.push(U)}return v};function y(C,v){typeof v=="string"&&(v={shortName:v});for(var g=null,M,V=0;g===null&&V<C.attributes.length;++V)M=C.attributes[V],(v.type&&v.type===M.type||v.name&&v.name===M.name||v.shortName&&v.shortName===M.shortName)&&(g=M);return g}var A=function(C,v,g){var M={};if(C!==s["RSASSA-PSS"])return M;g&&(M={hash:{algorithmOid:s.sha1},mgf:{algorithmOid:s.mgf1,hash:{algorithmOid:s.sha1}},saltLength:20});var V={},q=[];if(!r.validate(v,a,V,q)){var w=new Error("Cannot read RSASSA-PSS parameter block.");throw w.errors=q,w}return V.hashOid!==void 0&&(M.hash=M.hash||{},M.hash.algorithmOid=r.derToOid(V.hashOid)),V.maskGenOid!==void 0&&(M.mgf=M.mgf||{},M.mgf.algorithmOid=r.derToOid(V.maskGenOid),M.mgf.hash=M.mgf.hash||{},M.mgf.hash.algorithmOid=r.derToOid(V.maskGenHashOid)),V.saltLength!==void 0&&(M.saltLength=V.saltLength.charCodeAt(0)),M},T=function(C){switch(s[C.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return t.md.sha1.create();case"md5WithRSAEncryption":return t.md.md5.create();case"sha256WithRSAEncryption":return t.md.sha256.create();case"sha384WithRSAEncryption":return t.md.sha384.create();case"sha512WithRSAEncryption":return t.md.sha512.create();case"RSASSA-PSS":return t.md.sha256.create();default:var v=new Error("Could not compute "+C.type+" digest. Unknown signature OID.");throw v.signatureOid=C.signatureOid,v}},m=function(C){var v=C.certificate,g;switch(v.signatureOid){case s.sha1WithRSAEncryption:case s.sha1WithRSASignature:break;case s["RSASSA-PSS"]:var M,V;if(M=s[v.signatureParameters.mgf.hash.algorithmOid],M===void 0||t.md[M]===void 0){var q=new Error("Unsupported MGF hash function.");throw q.oid=v.signatureParameters.mgf.hash.algorithmOid,q.name=M,q}if(V=s[v.signatureParameters.mgf.algorithmOid],V===void 0||t.mgf[V]===void 0){var q=new Error("Unsupported MGF function.");throw q.oid=v.signatureParameters.mgf.algorithmOid,q.name=V,q}if(V=t.mgf[V].create(t.md[M].create()),M=s[v.signatureParameters.hash.algorithmOid],M===void 0||t.md[M]===void 0){var q=new Error("Unsupported RSASSA-PSS hash function.");throw q.oid=v.signatureParameters.hash.algorithmOid,q.name=M,q}g=t.pss.create(t.md[M].create(),V,v.signatureParameters.saltLength);break}return v.publicKey.verify(C.md.digest().getBytes(),C.signature,g)};i.certificateFromPem=function(C,v,g){var M=t.pem.decode(C)[0];if(M.type!=="CERTIFICATE"&&M.type!=="X509 CERTIFICATE"&&M.type!=="TRUSTED CERTIFICATE"){var V=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw V.headerType=M.type,V}if(M.procType&&M.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var q=r.fromDer(M.body,g);return i.certificateFromAsn1(q,v)},i.certificateToPem=function(C,v){var g={type:"CERTIFICATE",body:r.toDer(i.certificateToAsn1(C)).getBytes()};return t.pem.encode(g,{maxline:v})},i.publicKeyFromPem=function(C){var v=t.pem.decode(C)[0];if(v.type!=="PUBLIC KEY"&&v.type!=="RSA PUBLIC KEY"){var g=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw g.headerType=v.type,g}if(v.procType&&v.procType.type==="ENCRYPTED")throw new Error("Could not convert public key from PEM; PEM is encrypted.");var M=r.fromDer(v.body);return i.publicKeyFromAsn1(M)},i.publicKeyToPem=function(C,v){var g={type:"PUBLIC KEY",body:r.toDer(i.publicKeyToAsn1(C)).getBytes()};return t.pem.encode(g,{maxline:v})},i.publicKeyToRSAPublicKeyPem=function(C,v){var g={type:"RSA PUBLIC KEY",body:r.toDer(i.publicKeyToRSAPublicKey(C)).getBytes()};return t.pem.encode(g,{maxline:v})},i.getPublicKeyFingerprint=function(C,v){v=v||{};var g=v.md||t.md.sha1.create(),M=v.type||"RSAPublicKey",V;switch(M){case"RSAPublicKey":V=r.toDer(i.publicKeyToRSAPublicKey(C)).getBytes();break;case"SubjectPublicKeyInfo":V=r.toDer(i.publicKeyToAsn1(C)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+v.type+'".')}g.start(),g.update(V);var q=g.digest();if(v.encoding==="hex"){var w=q.toHex();return v.delimiter?w.match(/.{2}/g).join(v.delimiter):w}else{if(v.encoding==="binary")return q.getBytes();if(v.encoding)throw new Error('Unknown encoding "'+v.encoding+'".')}return q},i.certificationRequestFromPem=function(C,v,g){var M=t.pem.decode(C)[0];if(M.type!=="CERTIFICATE REQUEST"){var V=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw V.headerType=M.type,V}if(M.procType&&M.procType.type==="ENCRYPTED")throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var q=r.fromDer(M.body,g);return i.certificationRequestFromAsn1(q,v)},i.certificationRequestToPem=function(C,v){var g={type:"CERTIFICATE REQUEST",body:r.toDer(i.certificationRequestToAsn1(C)).getBytes()};return t.pem.encode(g,{maxline:v})},i.createCertificate=function(){var C={};return C.version=2,C.serialNumber="00",C.signatureOid=null,C.signature=null,C.siginfo={},C.siginfo.algorithmOid=null,C.validity={},C.validity.notBefore=new Date,C.validity.notAfter=new Date,C.issuer={},C.issuer.getField=function(v){return y(C.issuer,v)},C.issuer.addField=function(v){B([v]),C.issuer.attributes.push(v)},C.issuer.attributes=[],C.issuer.hash=null,C.subject={},C.subject.getField=function(v){return y(C.subject,v)},C.subject.addField=function(v){B([v]),C.subject.attributes.push(v)},C.subject.attributes=[],C.subject.hash=null,C.extensions=[],C.publicKey=null,C.md=null,C.setSubject=function(v,g){B(v),C.subject.attributes=v,delete C.subject.uniqueId,g&&(C.subject.uniqueId=g),C.subject.hash=null},C.setIssuer=function(v,g){B(v),C.issuer.attributes=v,delete C.issuer.uniqueId,g&&(C.issuer.uniqueId=g),C.issuer.hash=null},C.setExtensions=function(v){for(var g=0;g<v.length;++g)k(v[g],{cert:C});C.extensions=v},C.getExtension=function(v){typeof v=="string"&&(v={name:v});for(var g=null,M,V=0;g===null&&V<C.extensions.length;++V)M=C.extensions[V],(v.id&&M.id===v.id||v.name&&M.name===v.name)&&(g=M);return g},C.sign=function(v,g){C.md=g||t.md.sha1.create();var M=s[C.md.algorithm+"WithRSAEncryption"];if(!M){var V=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw V.algorithm=C.md.algorithm,V}C.signatureOid=C.siginfo.algorithmOid=M,C.tbsCertificate=i.getTBSCertificate(C);var q=r.toDer(C.tbsCertificate);C.md.update(q.getBytes()),C.signature=v.sign(C.md)},C.verify=function(v){var g=!1;if(!C.issued(v)){var M=v.issuer,V=C.subject,q=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw q.expectedIssuer=V.attributes,q.actualIssuer=M.attributes,q}var w=v.md;if(w===null){w=T({signatureOid:v.signatureOid,type:"certificate"});var U=v.tbsCertificate||i.getTBSCertificate(v),j=r.toDer(U);w.update(j.getBytes())}return w!==null&&(g=m({certificate:C,md:w,signature:v.signature})),g},C.isIssuer=function(v){var g=!1,M=C.issuer,V=v.subject;if(M.hash&&V.hash)g=M.hash===V.hash;else if(M.attributes.length===V.attributes.length){g=!0;for(var q,w,U=0;g&&U<M.attributes.length;++U)q=M.attributes[U],w=V.attributes[U],(q.type!==w.type||q.value!==w.value)&&(g=!1)}return g},C.issued=function(v){return v.isIssuer(C)},C.generateSubjectKeyIdentifier=function(){return i.getPublicKeyFingerprint(C.publicKey,{type:"RSAPublicKey"})},C.verifySubjectKeyIdentifier=function(){for(var v=s.subjectKeyIdentifier,g=0;g<C.extensions.length;++g){var M=C.extensions[g];if(M.id===v){var V=C.generateSubjectKeyIdentifier().getBytes();return t.util.hexToBytes(M.subjectKeyIdentifier)===V}}return!1},C},i.certificateFromAsn1=function(C,v){var g={},M=[];if(!r.validate(C,c,g,M)){var V=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw V.errors=M,V}var q=r.derToOid(g.publicKeyOid);if(q!==i.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var w=i.createCertificate();w.version=g.certVersion?g.certVersion.charCodeAt(0):0;var U=t.util.createBuffer(g.certSerialNumber);w.serialNumber=U.toHex(),w.signatureOid=t.asn1.derToOid(g.certSignatureOid),w.signatureParameters=A(w.signatureOid,g.certSignatureParams,!0),w.siginfo.algorithmOid=t.asn1.derToOid(g.certinfoSignatureOid),w.siginfo.parameters=A(w.siginfo.algorithmOid,g.certinfoSignatureParams,!1),w.signature=g.certSignature;var j=[];if(g.certValidity1UTCTime!==void 0&&j.push(r.utcTimeToDate(g.certValidity1UTCTime)),g.certValidity2GeneralizedTime!==void 0&&j.push(r.generalizedTimeToDate(g.certValidity2GeneralizedTime)),g.certValidity3UTCTime!==void 0&&j.push(r.utcTimeToDate(g.certValidity3UTCTime)),g.certValidity4GeneralizedTime!==void 0&&j.push(r.generalizedTimeToDate(g.certValidity4GeneralizedTime)),j.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(j.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(w.validity.notBefore=j[0],w.validity.notAfter=j[1],w.tbsCertificate=g.tbsCertificate,v){w.md=T({signatureOid:w.signatureOid,type:"certificate"});var L=r.toDer(w.tbsCertificate);w.md.update(L.getBytes())}var F=t.md.sha1.create(),ee=r.toDer(g.certIssuer);F.update(ee.getBytes()),w.issuer.getField=function(pe){return y(w.issuer,pe)},w.issuer.addField=function(pe){B([pe]),w.issuer.attributes.push(pe)},w.issuer.attributes=i.RDNAttributesAsArray(g.certIssuer),g.certIssuerUniqueId&&(w.issuer.uniqueId=g.certIssuerUniqueId),w.issuer.hash=F.digest().toHex();var ue=t.md.sha1.create(),se=r.toDer(g.certSubject);return ue.update(se.getBytes()),w.subject.getField=function(pe){return y(w.subject,pe)},w.subject.addField=function(pe){B([pe]),w.subject.attributes.push(pe)},w.subject.attributes=i.RDNAttributesAsArray(g.certSubject),g.certSubjectUniqueId&&(w.subject.uniqueId=g.certSubjectUniqueId),w.subject.hash=ue.digest().toHex(),g.certExtensions?w.extensions=i.certificateExtensionsFromAsn1(g.certExtensions):w.extensions=[],w.publicKey=i.publicKeyFromAsn1(g.subjectPublicKeyInfo),w},i.certificateExtensionsFromAsn1=function(C){for(var v=[],g=0;g<C.value.length;++g)for(var M=C.value[g],V=0;V<M.value.length;++V)v.push(i.certificateExtensionFromAsn1(M.value[V]));return v},i.certificateExtensionFromAsn1=function(C){var v={};if(v.id=r.derToOid(C.value[0].value),v.critical=!1,C.value[1].type===r.Type.BOOLEAN?(v.critical=C.value[1].value.charCodeAt(0)!==0,v.value=C.value[2].value):v.value=C.value[1].value,v.id in s){if(v.name=s[v.id],v.name==="keyUsage"){var g=r.fromDer(v.value),M=0,V=0;g.value.length>1&&(M=g.value.charCodeAt(1),V=g.value.length>2?g.value.charCodeAt(2):0),v.digitalSignature=(M&128)===128,v.nonRepudiation=(M&64)===64,v.keyEncipherment=(M&32)===32,v.dataEncipherment=(M&16)===16,v.keyAgreement=(M&8)===8,v.keyCertSign=(M&4)===4,v.cRLSign=(M&2)===2,v.encipherOnly=(M&1)===1,v.decipherOnly=(V&128)===128}else if(v.name==="basicConstraints"){var g=r.fromDer(v.value);g.value.length>0&&g.value[0].type===r.Type.BOOLEAN?v.cA=g.value[0].value.charCodeAt(0)!==0:v.cA=!1;var q=null;g.value.length>0&&g.value[0].type===r.Type.INTEGER?q=g.value[0].value:g.value.length>1&&(q=g.value[1].value),q!==null&&(v.pathLenConstraint=r.derToInteger(q))}else if(v.name==="extKeyUsage")for(var g=r.fromDer(v.value),w=0;w<g.value.length;++w){var U=r.derToOid(g.value[w].value);U in s?v[s[U]]=!0:v[U]=!0}else if(v.name==="nsCertType"){var g=r.fromDer(v.value),M=0;g.value.length>1&&(M=g.value.charCodeAt(1)),v.client=(M&128)===128,v.server=(M&64)===64,v.email=(M&32)===32,v.objsign=(M&16)===16,v.reserved=(M&8)===8,v.sslCA=(M&4)===4,v.emailCA=(M&2)===2,v.objCA=(M&1)===1}else if(v.name==="subjectAltName"||v.name==="issuerAltName"){v.altNames=[];for(var j,g=r.fromDer(v.value),L=0;L<g.value.length;++L){j=g.value[L];var F={type:j.type,value:j.value};switch(v.altNames.push(F),j.type){case 1:case 2:case 6:break;case 7:F.ip=t.util.bytesToIP(j.value);break;case 8:F.oid=r.derToOid(j.value);break;default:}}}else if(v.name==="subjectKeyIdentifier"){var g=r.fromDer(v.value);v.subjectKeyIdentifier=t.util.bytesToHex(g.value)}}return v},i.certificationRequestFromAsn1=function(C,v){var g={},M=[];if(!r.validate(C,f,g,M)){var V=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw V.errors=M,V}var q=r.derToOid(g.publicKeyOid);if(q!==i.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var w=i.createCertificationRequest();if(w.version=g.csrVersion?g.csrVersion.charCodeAt(0):0,w.signatureOid=t.asn1.derToOid(g.csrSignatureOid),w.signatureParameters=A(w.signatureOid,g.csrSignatureParams,!0),w.siginfo.algorithmOid=t.asn1.derToOid(g.csrSignatureOid),w.siginfo.parameters=A(w.siginfo.algorithmOid,g.csrSignatureParams,!1),w.signature=g.csrSignature,w.certificationRequestInfo=g.certificationRequestInfo,v){w.md=T({signatureOid:w.signatureOid,type:"certification request"});var U=r.toDer(w.certificationRequestInfo);w.md.update(U.getBytes())}var j=t.md.sha1.create();return w.subject.getField=function(L){return y(w.subject,L)},w.subject.addField=function(L){B([L]),w.subject.attributes.push(L)},w.subject.attributes=i.RDNAttributesAsArray(g.certificationRequestInfoSubject,j),w.subject.hash=j.digest().toHex(),w.publicKey=i.publicKeyFromAsn1(g.subjectPublicKeyInfo),w.getAttribute=function(L){return y(w,L)},w.addAttribute=function(L){B([L]),w.attributes.push(L)},w.attributes=i.CRIAttributesAsArray(g.certificationRequestInfoAttributes||[]),w},i.createCertificationRequest=function(){var C={};return C.version=0,C.signatureOid=null,C.signature=null,C.siginfo={},C.siginfo.algorithmOid=null,C.subject={},C.subject.getField=function(v){return y(C.subject,v)},C.subject.addField=function(v){B([v]),C.subject.attributes.push(v)},C.subject.attributes=[],C.subject.hash=null,C.publicKey=null,C.attributes=[],C.getAttribute=function(v){return y(C,v)},C.addAttribute=function(v){B([v]),C.attributes.push(v)},C.md=null,C.setSubject=function(v){B(v),C.subject.attributes=v,C.subject.hash=null},C.setAttributes=function(v){B(v),C.attributes=v},C.sign=function(v,g){C.md=g||t.md.sha1.create();var M=s[C.md.algorithm+"WithRSAEncryption"];if(!M){var V=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw V.algorithm=C.md.algorithm,V}C.signatureOid=C.siginfo.algorithmOid=M,C.certificationRequestInfo=i.getCertificationRequestInfo(C);var q=r.toDer(C.certificationRequestInfo);C.md.update(q.getBytes()),C.signature=v.sign(C.md)},C.verify=function(){var v=!1,g=C.md;if(g===null){g=T({signatureOid:C.signatureOid,type:"certification request"});var M=C.certificationRequestInfo||i.getCertificationRequestInfo(C),V=r.toDer(M);g.update(V.getBytes())}return g!==null&&(v=m({certificate:C,md:g,signature:C.signature})),v},C};function S(C){for(var v=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]),g,M,V=C.attributes,q=0;q<V.length;++q){g=V[q];var w=g.value,U=r.Type.PRINTABLESTRING;"valueTagClass"in g&&(U=g.valueTagClass,U===r.Type.UTF8&&(w=t.util.encodeUtf8(w))),M=r.create(r.Class.UNIVERSAL,r.Type.SET,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(g.type).getBytes()),r.create(r.Class.UNIVERSAL,U,!1,w)])]),v.value.push(M)}return v}function B(C){for(var v,g=0;g<C.length;++g){if(v=C[g],typeof v.name>"u"&&(v.type&&v.type in i.oids?v.name=i.oids[v.type]:v.shortName&&v.shortName in u&&(v.name=i.oids[u[v.shortName]])),typeof v.type>"u")if(v.name&&v.name in i.oids)v.type=i.oids[v.name];else{var M=new Error("Attribute type not specified.");throw M.attribute=v,M}if(typeof v.shortName>"u"&&v.name&&v.name in u&&(v.shortName=u[v.name]),v.type===s.extensionRequest&&(v.valueConstructed=!0,v.valueTagClass=r.Type.SEQUENCE,!v.value&&v.extensions)){v.value=[];for(var V=0;V<v.extensions.length;++V)v.value.push(i.certificateExtensionToAsn1(k(v.extensions[V])))}if(typeof v.value>"u"){var M=new Error("Attribute value not specified.");throw M.attribute=v,M}}}function k(C,v){if(v=v||{},typeof C.name>"u"&&C.id&&C.id in i.oids&&(C.name=i.oids[C.id]),typeof C.id>"u")if(C.name&&C.name in i.oids)C.id=i.oids[C.name];else{var g=new Error("Extension ID not specified.");throw g.extension=C,g}if(typeof C.value<"u")return C;if(C.name==="keyUsage"){var M=0,V=0,q=0;C.digitalSignature&&(V|=128,M=7),C.nonRepudiation&&(V|=64,M=6),C.keyEncipherment&&(V|=32,M=5),C.dataEncipherment&&(V|=16,M=4),C.keyAgreement&&(V|=8,M=3),C.keyCertSign&&(V|=4,M=2),C.cRLSign&&(V|=2,M=1),C.encipherOnly&&(V|=1,M=0),C.decipherOnly&&(q|=128,M=7);var w=String.fromCharCode(M);q!==0?w+=String.fromCharCode(V)+String.fromCharCode(q):V!==0&&(w+=String.fromCharCode(V)),C.value=r.create(r.Class.UNIVERSAL,r.Type.BITSTRING,!1,w)}else if(C.name==="basicConstraints")C.value=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]),C.cA&&C.value.value.push(r.create(r.Class.UNIVERSAL,r.Type.BOOLEAN,!1,String.fromCharCode(255))),"pathLenConstraint"in C&&C.value.value.push(r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(C.pathLenConstraint).getBytes()));else if(C.name==="extKeyUsage"){C.value=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]);var U=C.value.value;for(var j in C)C[j]===!0&&(j in s?U.push(r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(s[j]).getBytes())):j.indexOf(".")!==-1&&U.push(r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(j).getBytes())))}else if(C.name==="nsCertType"){var M=0,V=0;C.client&&(V|=128,M=7),C.server&&(V|=64,M=6),C.email&&(V|=32,M=5),C.objsign&&(V|=16,M=4),C.reserved&&(V|=8,M=3),C.sslCA&&(V|=4,M=2),C.emailCA&&(V|=2,M=1),C.objCA&&(V|=1,M=0);var w=String.fromCharCode(M);V!==0&&(w+=String.fromCharCode(V)),C.value=r.create(r.Class.UNIVERSAL,r.Type.BITSTRING,!1,w)}else if(C.name==="subjectAltName"||C.name==="issuerAltName"){C.value=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]);for(var L,F=0;F<C.altNames.length;++F){L=C.altNames[F];var w=L.value;if(L.type===7&&L.ip){if(w=t.util.bytesFromIP(L.ip),w===null){var g=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw g.extension=C,g}}else L.type===8&&(L.oid?w=r.oidToDer(r.oidToDer(L.oid)):w=r.oidToDer(w));C.value.value.push(r.create(r.Class.CONTEXT_SPECIFIC,L.type,!1,w))}}else if(C.name==="nsComment"&&v.cert){if(!/^[\x00-\x7F]*$/.test(C.comment)||C.comment.length<1||C.comment.length>128)throw new Error('Invalid "nsComment" content.');C.value=r.create(r.Class.UNIVERSAL,r.Type.IA5STRING,!1,C.comment)}else if(C.name==="subjectKeyIdentifier"&&v.cert){var ee=v.cert.generateSubjectKeyIdentifier();C.subjectKeyIdentifier=ee.toHex(),C.value=r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,ee.getBytes())}else if(C.name==="authorityKeyIdentifier"&&v.cert){C.value=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]);var U=C.value.value;if(C.keyIdentifier){var ue=C.keyIdentifier===!0?v.cert.generateSubjectKeyIdentifier().getBytes():C.keyIdentifier;U.push(r.create(r.Class.CONTEXT_SPECIFIC,0,!1,ue))}if(C.authorityCertIssuer){var se=[r.create(r.Class.CONTEXT_SPECIFIC,4,!0,[S(C.authorityCertIssuer===!0?v.cert.issuer:C.authorityCertIssuer)])];U.push(r.create(r.Class.CONTEXT_SPECIFIC,1,!0,se))}if(C.serialNumber){var pe=t.util.hexToBytes(C.serialNumber===!0?v.cert.serialNumber:C.serialNumber);U.push(r.create(r.Class.CONTEXT_SPECIFIC,2,!1,pe))}}else if(C.name==="cRLDistributionPoints"){C.value=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]);for(var U=C.value.value,ke=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]),Le=r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[]),L,F=0;F<C.altNames.length;++F){L=C.altNames[F];var w=L.value;if(L.type===7&&L.ip){if(w=t.util.bytesFromIP(L.ip),w===null){var g=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw g.extension=C,g}}else L.type===8&&(L.oid?w=r.oidToDer(r.oidToDer(L.oid)):w=r.oidToDer(w));Le.value.push(r.create(r.Class.CONTEXT_SPECIFIC,L.type,!1,w))}ke.value.push(r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[Le])),U.push(ke)}if(typeof C.value>"u"){var g=new Error("Extension value not specified.");throw g.extension=C,g}return C}function p(C,v){switch(C){case s["RSASSA-PSS"]:var g=[];return v.hash.algorithmOid!==void 0&&g.push(r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(v.hash.algorithmOid).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")])])),v.mgf.algorithmOid!==void 0&&g.push(r.create(r.Class.CONTEXT_SPECIFIC,1,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(v.mgf.algorithmOid).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(v.mgf.hash.algorithmOid).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")])])])),v.saltLength!==void 0&&g.push(r.create(r.Class.CONTEXT_SPECIFIC,2,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(v.saltLength).getBytes())])),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,g);default:return r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")}}function R(C){var v=r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[]);if(C.attributes.length===0)return v;for(var g=C.attributes,M=0;M<g.length;++M){var V=g[M],q=V.value,w=r.Type.UTF8;"valueTagClass"in V&&(w=V.valueTagClass),w===r.Type.UTF8&&(q=t.util.encodeUtf8(q));var U=!1;"valueConstructed"in V&&(U=V.valueConstructed);var j=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(V.type).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SET,!0,[r.create(r.Class.UNIVERSAL,w,U,q)])]);v.value.push(j)}return v}var E=new Date("1950-01-01T00:00:00Z"),P=new Date("2050-01-01T00:00:00Z");function D(C){return C>=E&&C<P?r.create(r.Class.UNIVERSAL,r.Type.UTCTIME,!1,r.dateToUtcTime(C)):r.create(r.Class.UNIVERSAL,r.Type.GENERALIZEDTIME,!1,r.dateToGeneralizedTime(C))}i.getTBSCertificate=function(C){var v=D(C.validity.notBefore),g=D(C.validity.notAfter),M=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(C.version).getBytes())]),r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,t.util.hexToBytes(C.serialNumber)),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(C.siginfo.algorithmOid).getBytes()),p(C.siginfo.algorithmOid,C.siginfo.parameters)]),S(C.issuer),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[v,g]),S(C.subject),i.publicKeyToAsn1(C.publicKey)]);return C.issuer.uniqueId&&M.value.push(r.create(r.Class.CONTEXT_SPECIFIC,1,!0,[r.create(r.Class.UNIVERSAL,r.Type.BITSTRING,!1,String.fromCharCode(0)+C.issuer.uniqueId)])),C.subject.uniqueId&&M.value.push(r.create(r.Class.CONTEXT_SPECIFIC,2,!0,[r.create(r.Class.UNIVERSAL,r.Type.BITSTRING,!1,String.fromCharCode(0)+C.subject.uniqueId)])),C.extensions.length>0&&M.value.push(i.certificateExtensionsToAsn1(C.extensions)),M},i.getCertificationRequestInfo=function(C){var v=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(C.version).getBytes()),S(C.subject),i.publicKeyToAsn1(C.publicKey),R(C)]);return v},i.distinguishedNameToAsn1=function(C){return S(C)},i.certificateToAsn1=function(C){var v=C.tbsCertificate||i.getTBSCertificate(C);return r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[v,r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(C.signatureOid).getBytes()),p(C.signatureOid,C.signatureParameters)]),r.create(r.Class.UNIVERSAL,r.Type.BITSTRING,!1,String.fromCharCode(0)+C.signature)])},i.certificateExtensionsToAsn1=function(C){var v=r.create(r.Class.CONTEXT_SPECIFIC,3,!0,[]),g=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]);v.value.push(g);for(var M=0;M<C.length;++M)g.value.push(i.certificateExtensionToAsn1(C[M]));return v},i.certificateExtensionToAsn1=function(C){var v=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]);v.value.push(r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(C.id).getBytes())),C.critical&&v.value.push(r.create(r.Class.UNIVERSAL,r.Type.BOOLEAN,!1,String.fromCharCode(255)));var g=C.value;return typeof C.value!="string"&&(g=r.toDer(g).getBytes()),v.value.push(r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,g)),v},i.certificationRequestToAsn1=function(C){var v=C.certificationRequestInfo||i.getCertificationRequestInfo(C);return r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[v,r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(C.signatureOid).getBytes()),p(C.signatureOid,C.signatureParameters)]),r.create(r.Class.UNIVERSAL,r.Type.BITSTRING,!1,String.fromCharCode(0)+C.signature)])},i.createCaStore=function(C){var v={certs:{}};v.getIssuer=function(w){var U=g(w.issuer);return U},v.addCertificate=function(w){if(typeof w=="string"&&(w=t.pki.certificateFromPem(w)),M(w.subject),!v.hasCertificate(w))if(w.subject.hash in v.certs){var U=v.certs[w.subject.hash];t.util.isArray(U)||(U=[U]),U.push(w),v.certs[w.subject.hash]=U}else v.certs[w.subject.hash]=w},v.hasCertificate=function(w){typeof w=="string"&&(w=t.pki.certificateFromPem(w));var U=g(w.subject);if(!U)return!1;t.util.isArray(U)||(U=[U]);for(var j=r.toDer(i.certificateToAsn1(w)).getBytes(),L=0;L<U.length;++L){var F=r.toDer(i.certificateToAsn1(U[L])).getBytes();if(j===F)return!0}return!1},v.listAllCertificates=function(){var w=[];for(var U in v.certs)if(v.certs.hasOwnProperty(U)){var j=v.certs[U];if(!t.util.isArray(j))w.push(j);else for(var L=0;L<j.length;++L)w.push(j[L])}return w},v.removeCertificate=function(w){var U;if(typeof w=="string"&&(w=t.pki.certificateFromPem(w)),M(w.subject),!v.hasCertificate(w))return null;var j=g(w.subject);if(!t.util.isArray(j))return U=v.certs[w.subject.hash],delete v.certs[w.subject.hash],U;for(var L=r.toDer(i.certificateToAsn1(w)).getBytes(),F=0;F<j.length;++F){var ee=r.toDer(i.certificateToAsn1(j[F])).getBytes();L===ee&&(U=j[F],j.splice(F,1))}return j.length===0&&delete v.certs[w.subject.hash],U};function g(w){return M(w),v.certs[w.hash]||null}function M(w){if(!w.hash){var U=t.md.sha1.create();w.attributes=i.RDNAttributesAsArray(S(w),U),w.hash=U.digest().toHex()}}if(C)for(var V=0;V<C.length;++V){var q=C[V];v.addCertificate(q)}return v},i.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"},i.verifyCertificateChain=function(C,v,g){typeof g=="function"&&(g={verify:g}),g=g||{},v=v.slice(0);var M=v.slice(0),V=g.validityCheckDate;typeof V>"u"&&(V=new Date);var q=!0,w=null,U=0;do{var j=v.shift(),L=null,F=!1;if(V&&(V<j.validity.notBefore||V>j.validity.notAfter)&&(w={message:"Certificate is not valid yet or has expired.",error:i.certificateError.certificate_expired,notBefore:j.validity.notBefore,notAfter:j.validity.notAfter,now:V}),w===null){if(L=v[0]||C.getIssuer(j),L===null&&j.isIssuer(j)&&(F=!0,L=j),L){var ee=L;t.util.isArray(ee)||(ee=[ee]);for(var ue=!1;!ue&&ee.length>0;){L=ee.shift();try{ue=L.verify(j)}catch{}}ue||(w={message:"Certificate signature is invalid.",error:i.certificateError.bad_certificate})}w===null&&(!L||F)&&!C.hasCertificate(j)&&(w={message:"Certificate is not trusted.",error:i.certificateError.unknown_ca})}if(w===null&&L&&!j.isIssuer(L)&&(w={message:"Certificate issuer is invalid.",error:i.certificateError.bad_certificate}),w===null)for(var se={keyUsage:!0,basicConstraints:!0},pe=0;w===null&&pe<j.extensions.length;++pe){var ke=j.extensions[pe];ke.critical&&!(ke.name in se)&&(w={message:"Certificate has an unsupported critical extension.",error:i.certificateError.unsupported_certificate})}if(w===null&&(!q||v.length===0&&(!L||F))){var Le=j.getExtension("basicConstraints"),qe=j.getExtension("keyUsage");if(qe!==null&&(!qe.keyCertSign||Le===null)&&(w={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:i.certificateError.bad_certificate}),w===null&&Le!==null&&!Le.cA&&(w={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:i.certificateError.bad_certificate}),w===null&&qe!==null&&"pathLenConstraint"in Le){var Ce=U-1;Ce>Le.pathLenConstraint&&(w={message:"Certificate basicConstraints pathLenConstraint violated.",error:i.certificateError.bad_certificate})}}var We=w===null?!0:w.error,Te=g.verify?g.verify(We,U,M):We;if(Te===!0)w=null;else throw We===!0&&(w={message:"The application rejected the certificate.",error:i.certificateError.bad_certificate}),(Te||Te===0)&&(typeof Te=="object"&&!t.util.isArray(Te)?(Te.message&&(w.message=Te.message),Te.error&&(w.error=Te.error)):typeof Te=="string"&&(w.error=Te)),w;q=!1,++U}while(v.length>0);return!0}}),Ib=Qe((e,n)=>{var t=lt();ki(),Gu(),La(),Rb(),Tb(),ui(),mh(),Qu(),St(),r0();var r=t.asn1,i=t.pki,s=n.exports=t.pkcs12=t.pkcs12||{},u={name:"ContentInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:r.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},h={name:"PFX",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"version"},u,{name:"PFX.macData",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:r.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:r.Class.UNIVERSAL,type:r.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:r.Class.UNIVERSAL,type:r.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},c={name:"SafeBag",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:r.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:r.Class.UNIVERSAL,type:r.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},a={name:"Attribute",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:r.Class.UNIVERSAL,type:r.Type.SET,constructed:!0,capture:"values"}]},d={name:"CertBag",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:r.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:r.Class.UNIVERSAL,type:r.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function f(B,k,p,R){for(var E=[],P=0;P<B.length;P++)for(var D=0;D<B[P].safeBags.length;D++){var C=B[P].safeBags[D];if(!(R!==void 0&&C.type!==R)){if(k===null){E.push(C);continue}C.attributes[k]!==void 0&&C.attributes[k].indexOf(p)>=0&&E.push(C)}}return E}s.pkcs12FromAsn1=function(B,k,p){typeof k=="string"?(p=k,k=!0):k===void 0&&(k=!0);var R={},E=[];if(!r.validate(B,h,R,E)){var P=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.");throw P.errors=P,P}var D={version:R.version.charCodeAt(0),safeContents:[],getBags:function(L){var F={},ee;return"localKeyId"in L?ee=L.localKeyId:"localKeyIdHex"in L&&(ee=t.util.hexToBytes(L.localKeyIdHex)),ee===void 0&&!("friendlyName"in L)&&"bagType"in L&&(F[L.bagType]=f(D.safeContents,null,null,L.bagType)),ee!==void 0&&(F.localKeyId=f(D.safeContents,"localKeyId",ee,L.bagType)),"friendlyName"in L&&(F.friendlyName=f(D.safeContents,"friendlyName",L.friendlyName,L.bagType)),F},getBagsByFriendlyName:function(L,F){return f(D.safeContents,"friendlyName",L,F)},getBagsByLocalKeyId:function(L,F){return f(D.safeContents,"localKeyId",L,F)}};if(R.version.charCodeAt(0)!==3){var P=new Error("PKCS#12 PFX of version other than 3 not supported.");throw P.version=R.version.charCodeAt(0),P}if(r.derToOid(R.contentType)!==i.oids.data){var P=new Error("Only PKCS#12 PFX in password integrity mode supported.");throw P.oid=r.derToOid(R.contentType),P}var C=R.content.value[0];if(C.tagClass!==r.Class.UNIVERSAL||C.type!==r.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(C=y(C),R.mac){var v=null,g=0,M=r.derToOid(R.macAlgorithm);switch(M){case i.oids.sha1:v=t.md.sha1.create(),g=20;break;case i.oids.sha256:v=t.md.sha256.create(),g=32;break;case i.oids.sha384:v=t.md.sha384.create(),g=48;break;case i.oids.sha512:v=t.md.sha512.create(),g=64;break;case i.oids.md5:v=t.md.md5.create(),g=16;break}if(v===null)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+M);var V=new t.util.ByteBuffer(R.macSalt),q="macIterations"in R?parseInt(t.util.bytesToHex(R.macIterations),16):1,w=s.generateKey(p,V,3,q,g,v),U=t.hmac.create();U.start(v,w),U.update(C.value);var j=U.getMac();if(j.getBytes()!==R.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return A(D,C.value,k,p),D};function y(B){if(B.composed||B.constructed){for(var k=t.util.createBuffer(),p=0;p<B.value.length;++p)k.putBytes(B.value[p].value);B.composed=B.constructed=!1,B.value=k.getBytes()}return B}function A(B,k,p,R){if(k=r.fromDer(k,p),k.tagClass!==r.Class.UNIVERSAL||k.type!==r.Type.SEQUENCE||k.constructed!==!0)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var E=0;E<k.value.length;E++){var P=k.value[E],D={},C=[];if(!r.validate(P,u,D,C)){var v=new Error("Cannot read ContentInfo.");throw v.errors=C,v}var g={encrypted:!1},M=null,V=D.content.value[0];switch(r.derToOid(D.contentType)){case i.oids.data:if(V.tagClass!==r.Class.UNIVERSAL||V.type!==r.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");M=y(V).value;break;case i.oids.encryptedData:M=T(V,R),g.encrypted=!0;break;default:var v=new Error("Unsupported PKCS#12 contentType.");throw v.contentType=r.derToOid(D.contentType),v}g.safeBags=m(M,p,R),B.safeContents.push(g)}}function T(B,k){var p={},R=[];if(!r.validate(B,t.pkcs7.asn1.encryptedDataValidator,p,R)){var E=new Error("Cannot read EncryptedContentInfo.");throw E.errors=R,E}var P=r.derToOid(p.contentType);if(P!==i.oids.data){var E=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.");throw E.oid=P,E}P=r.derToOid(p.encAlgorithm);var D=i.pbe.getCipher(P,p.encParameter,k),C=y(p.encryptedContentAsn1),v=t.util.createBuffer(C.value);if(D.update(v),!D.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return D.output.getBytes()}function m(B,k,p){if(!k&&B.length===0)return[];if(B=r.fromDer(B,k),B.tagClass!==r.Class.UNIVERSAL||B.type!==r.Type.SEQUENCE||B.constructed!==!0)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var R=[],E=0;E<B.value.length;E++){var P=B.value[E],D={},C=[];if(!r.validate(P,c,D,C)){var v=new Error("Cannot read SafeBag.");throw v.errors=C,v}var g={type:r.derToOid(D.bagId),attributes:S(D.bagAttributes)};R.push(g);var M,V,q=D.bagValue.value[0];switch(g.type){case i.oids.pkcs8ShroudedKeyBag:if(q=i.decryptPrivateKeyInfo(q,p),q===null)throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case i.oids.keyBag:try{g.key=i.privateKeyFromAsn1(q)}catch{g.key=null,g.asn1=q}continue;case i.oids.certBag:M=d,V=function(){if(r.derToOid(D.certId)!==i.oids.x509Certificate){var U=new Error("Unsupported certificate type, only X.509 supported.");throw U.oid=r.derToOid(D.certId),U}var j=r.fromDer(D.cert,k);try{g.cert=i.certificateFromAsn1(j,!0)}catch{g.cert=null,g.asn1=j}};break;default:var v=new Error("Unsupported PKCS#12 SafeBag type.");throw v.oid=g.type,v}if(M!==void 0&&!r.validate(q,M,D,C)){var v=new Error("Cannot read PKCS#12 "+M.name);throw v.errors=C,v}V()}return R}function S(B){var k={};if(B!==void 0)for(var p=0;p<B.length;++p){var R={},E=[];if(!r.validate(B[p],a,R,E)){var P=new Error("Cannot read PKCS#12 BagAttribute.");throw P.errors=E,P}var D=r.derToOid(R.oid);if(i.oids[D]!==void 0){k[i.oids[D]]=[];for(var C=0;C<R.values.length;++C)k[i.oids[D]].push(R.values[C].value)}}return k}s.toPkcs12Asn1=function(B,k,p,R){R=R||{},R.saltSize=R.saltSize||8,R.count=R.count||2048,R.algorithm=R.algorithm||R.encAlgorithm||"aes128","useMac"in R||(R.useMac=!0),"localKeyId"in R||(R.localKeyId=null),"generateLocalKeyId"in R||(R.generateLocalKeyId=!0);var E=R.localKeyId,P;if(E!==null)E=t.util.hexToBytes(E);else if(R.generateLocalKeyId)if(k){var D=t.util.isArray(k)?k[0]:k;typeof D=="string"&&(D=i.certificateFromPem(D));var C=t.md.sha1.create();C.update(r.toDer(i.certificateToAsn1(D)).getBytes()),E=C.digest().getBytes()}else E=t.random.getBytes(20);var v=[];E!==null&&v.push(r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(i.oids.localKeyId).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SET,!0,[r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,E)])])),"friendlyName"in R&&v.push(r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(i.oids.friendlyName).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SET,!0,[r.create(r.Class.UNIVERSAL,r.Type.BMPSTRING,!1,R.friendlyName)])])),v.length>0&&(P=r.create(r.Class.UNIVERSAL,r.Type.SET,!0,v));var g=[],M=[];k!==null&&(t.util.isArray(k)?M=k:M=[k]);for(var V=[],q=0;q<M.length;++q){k=M[q],typeof k=="string"&&(k=i.certificateFromPem(k));var w=q===0?P:void 0,U=i.certificateToAsn1(k),j=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(i.oids.certBag).getBytes()),r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(i.oids.x509Certificate).getBytes()),r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,r.toDer(U).getBytes())])])]),w]);V.push(j)}if(V.length>0){var L=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,V),F=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(i.oids.data).getBytes()),r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,r.toDer(L).getBytes())])]);g.push(F)}var ee=null;if(B!==null){var ue=i.wrapRsaPrivateKey(i.privateKeyToAsn1(B));p===null?ee=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(i.oids.keyBag).getBytes()),r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[ue]),P]):ee=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(i.oids.pkcs8ShroudedKeyBag).getBytes()),r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[i.encryptPrivateKeyInfo(ue,p,R)]),P]);var se=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[ee]),pe=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(i.oids.data).getBytes()),r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,r.toDer(se).getBytes())])]);g.push(pe)}var ke=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,g),Le;if(R.useMac){var C=t.md.sha1.create(),qe=new t.util.ByteBuffer(t.random.getBytes(R.saltSize)),Ce=R.count,B=s.generateKey(p,qe,3,Ce,20),We=t.hmac.create();We.start(C,B),We.update(r.toDer(ke).getBytes());var Te=We.getMac();Le=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(i.oids.sha1).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")]),r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,Te.getBytes())]),r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,qe.getBytes()),r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(Ce).getBytes())])}return r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(3).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(i.oids.data).getBytes()),r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,r.toDer(ke).getBytes())])]),Le])},s.generateKey=t.pbe.generatePkcs12Key}),kb=Qe((e,n)=>{var t=lt();ki(),La(),Tb(),Bs(),e0(),Ib(),t0(),mh(),St(),r0();var r=t.asn1,i=n.exports=t.pki=t.pki||{};i.pemToDer=function(s){var u=t.pem.decode(s)[0];if(u.procType&&u.procType.type==="ENCRYPTED")throw new Error("Could not convert PEM to DER; PEM is encrypted.");return t.util.createBuffer(u.body)},i.privateKeyFromPem=function(s){var u=t.pem.decode(s)[0];if(u.type!=="PRIVATE KEY"&&u.type!=="RSA PRIVATE KEY"){var h=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw h.headerType=u.type,h}if(u.procType&&u.procType.type==="ENCRYPTED")throw new Error("Could not convert private key from PEM; PEM is encrypted.");var c=r.fromDer(u.body);return i.privateKeyFromAsn1(c)},i.privateKeyToPem=function(s,u){var h={type:"RSA PRIVATE KEY",body:r.toDer(i.privateKeyToAsn1(s)).getBytes()};return t.pem.encode(h,{maxline:u})},i.privateKeyInfoToPem=function(s,u){var h={type:"PRIVATE KEY",body:r.toDer(s).getBytes()};return t.pem.encode(h,{maxline:u})}}),Bb=Qe((e,n)=>{var t=lt();ki(),Gu(),Zp(),Bs(),kb(),ui(),Qu(),St();var r=function(N,X,Q,I){var K=t.util.createBuffer(),oe=N.length>>1,te=oe+(N.length&1),we=N.substr(0,te),Ue=N.substr(oe,te),je=t.util.createBuffer(),ge=t.hmac.create();Q=X+Q;var Pe=Math.ceil(I/16),Ke=Math.ceil(I/20);ge.start("MD5",we);var rt=t.util.createBuffer();je.putBytes(Q);for(var $e=0;$e<Pe;++$e)ge.start(null,null),ge.update(je.getBytes()),je.putBuffer(ge.digest()),ge.start(null,null),ge.update(je.bytes()+Q),rt.putBuffer(ge.digest());ge.start("SHA1",Ue);var Bt=t.util.createBuffer();je.clear(),je.putBytes(Q);for(var $e=0;$e<Ke;++$e)ge.start(null,null),ge.update(je.getBytes()),je.putBuffer(ge.digest()),ge.start(null,null),ge.update(je.bytes()+Q),Bt.putBuffer(ge.digest());return K.putBytes(t.util.xorBytes(rt.getBytes(),Bt.getBytes(),I)),K},i=function(N,X,Q){var I=t.hmac.create();I.start("SHA1",N);var K=t.util.createBuffer();return K.putInt32(X[0]),K.putInt32(X[1]),K.putByte(Q.type),K.putByte(Q.version.major),K.putByte(Q.version.minor),K.putInt16(Q.length),K.putBytes(Q.fragment.bytes()),I.update(K.getBytes()),I.digest().getBytes()},s=function(N,X,Q){var I=!1;try{var K=N.deflate(X.fragment.getBytes());X.fragment=t.util.createBuffer(K),X.length=K.length,I=!0}catch{}return I},u=function(N,X,Q){var I=!1;try{var K=N.inflate(X.fragment.getBytes());X.fragment=t.util.createBuffer(K),X.length=K.length,I=!0}catch{}return I},h=function(N,X){var Q=0;switch(X){case 1:Q=N.getByte();break;case 2:Q=N.getInt16();break;case 3:Q=N.getInt24();break;case 4:Q=N.getInt32();break}return t.util.createBuffer(N.getBytes(Q))},c=function(N,X,Q){N.putInt(Q.length(),X<<3),N.putBuffer(Q)},a={};a.Versions={TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}},a.SupportedVersions=[a.Versions.TLS_1_1,a.Versions.TLS_1_0],a.Version=a.SupportedVersions[0],a.MaxFragment=16384-1024,a.ConnectionEnd={server:0,client:1},a.PRFAlgorithm={tls_prf_sha256:0},a.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2},a.CipherType={stream:0,block:1,aead:2},a.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4},a.CompressionMethod={none:0,deflate:1},a.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24},a.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20},a.Alert={},a.Alert.Level={warning:1,fatal:2},a.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100},a.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2},a.CipherSuites={},a.getCipherSuite=function(N){var X=null;for(var Q in a.CipherSuites){var I=a.CipherSuites[Q];if(I.id[0]===N.charCodeAt(0)&&I.id[1]===N.charCodeAt(1)){X=I;break}}return X},a.handleUnexpected=function(N,X){var Q=!N.open&&N.entity===a.ConnectionEnd.client;Q||N.error(N,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.unexpected_message}})},a.handleHelloRequest=function(N,X,Q){!N.handshaking&&N.handshakes>0&&(a.queue(N,a.createAlert(N,{level:a.Alert.Level.warning,description:a.Alert.Description.no_renegotiation})),a.flush(N)),N.process()},a.parseHelloMessage=function(N,X,Q){var I=null,K=N.entity===a.ConnectionEnd.client;if(Q<38)N.error(N,{message:K?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.illegal_parameter}});else{var oe=X.fragment,te=oe.length();if(I={version:{major:oe.getByte(),minor:oe.getByte()},random:t.util.createBuffer(oe.getBytes(32)),session_id:h(oe,1),extensions:[]},K?(I.cipher_suite=oe.getBytes(2),I.compression_method=oe.getByte()):(I.cipher_suites=h(oe,2),I.compression_methods=h(oe,1)),te=Q-(te-oe.length()),te>0){for(var we=h(oe,2);we.length()>0;)I.extensions.push({type:[we.getByte(),we.getByte()],data:h(we,2)});if(!K)for(var Ue=0;Ue<I.extensions.length;++Ue){var je=I.extensions[Ue];if(je.type[0]===0&&je.type[1]===0)for(var ge=h(je.data,2);ge.length()>0;){var Pe=ge.getByte();if(Pe!==0)break;N.session.extensions.server_name.serverNameList.push(h(ge,2).getBytes())}}}if(N.session.version&&(I.version.major!==N.session.version.major||I.version.minor!==N.session.version.minor))return N.error(N,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.protocol_version}});if(K)N.session.cipherSuite=a.getCipherSuite(I.cipher_suite);else for(var Ke=t.util.createBuffer(I.cipher_suites.bytes());Ke.length()>0&&(N.session.cipherSuite=a.getCipherSuite(Ke.getBytes(2)),N.session.cipherSuite===null););if(N.session.cipherSuite===null)return N.error(N,{message:"No cipher suites in common.",send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.handshake_failure},cipherSuite:t.util.bytesToHex(I.cipher_suite)});K?N.session.compressionMethod=I.compression_method:N.session.compressionMethod=a.CompressionMethod.none}return I},a.createSecurityParameters=function(N,X){var Q=N.entity===a.ConnectionEnd.client,I=X.random.bytes(),K=Q?N.session.sp.client_random:I,oe=Q?I:a.createRandom().getBytes();N.session.sp={entity:N.entity,prf_algorithm:a.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:N.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:K,server_random:oe}},a.handleServerHello=function(N,X,Q){var I=a.parseHelloMessage(N,X,Q);if(!N.fail){if(I.version.minor<=N.version.minor)N.version.minor=I.version.minor;else return N.error(N,{message:"Incompatible TLS version.",send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.protocol_version}});N.session.version=N.version;var K=I.session_id.bytes();K.length>0&&K===N.session.id?(N.expect=m,N.session.resuming=!0,N.session.sp.server_random=I.random.bytes()):(N.expect=f,N.session.resuming=!1,a.createSecurityParameters(N,I)),N.session.id=K,N.process()}},a.handleClientHello=function(N,X,Q){var I=a.parseHelloMessage(N,X,Q);if(!N.fail){var K=I.session_id.bytes(),oe=null;if(N.sessionCache&&(oe=N.sessionCache.getSession(K),oe===null?K="":(oe.version.major!==I.version.major||oe.version.minor>I.version.minor)&&(oe=null,K="")),K.length===0&&(K=t.random.getBytes(32)),N.session.id=K,N.session.clientHelloVersion=I.version,N.session.sp={},oe)N.version=N.session.version=oe.version,N.session.sp=oe.sp;else{for(var te,we=1;we<a.SupportedVersions.length&&(te=a.SupportedVersions[we],!(te.minor<=I.version.minor));++we);N.version={major:te.major,minor:te.minor},N.session.version=N.version}oe!==null?(N.expect=D,N.session.resuming=!0,N.session.sp.client_random=I.random.bytes()):(N.expect=N.verifyClient!==!1?R:E,N.session.resuming=!1,a.createSecurityParameters(N,I)),N.open=!0,a.queue(N,a.createRecord(N,{type:a.ContentType.handshake,data:a.createServerHello(N)})),N.session.resuming?(a.queue(N,a.createRecord(N,{type:a.ContentType.change_cipher_spec,data:a.createChangeCipherSpec()})),N.state.pending=a.createConnectionState(N),N.state.current.write=N.state.pending.write,a.queue(N,a.createRecord(N,{type:a.ContentType.handshake,data:a.createFinished(N)}))):(a.queue(N,a.createRecord(N,{type:a.ContentType.handshake,data:a.createCertificate(N)})),N.fail||(a.queue(N,a.createRecord(N,{type:a.ContentType.handshake,data:a.createServerKeyExchange(N)})),N.verifyClient!==!1&&a.queue(N,a.createRecord(N,{type:a.ContentType.handshake,data:a.createCertificateRequest(N)})),a.queue(N,a.createRecord(N,{type:a.ContentType.handshake,data:a.createServerHelloDone(N)})))),a.flush(N),N.process()}},a.handleCertificate=function(N,X,Q){if(Q<3)return N.error(N,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.illegal_parameter}});var I=X.fragment,K={certificate_list:h(I,3)},oe,te,we=[];try{for(;K.certificate_list.length()>0;)oe=h(K.certificate_list,3),te=t.asn1.fromDer(oe),oe=t.pki.certificateFromAsn1(te,!0),we.push(oe)}catch(je){return N.error(N,{message:"Could not parse certificate list.",cause:je,send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.bad_certificate}})}var Ue=N.entity===a.ConnectionEnd.client;(Ue||N.verifyClient===!0)&&we.length===0?N.error(N,{message:Ue?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.illegal_parameter}}):we.length===0?N.expect=Ue?y:E:(Ue?N.session.serverCertificate=we[0]:N.session.clientCertificate=we[0],a.verifyCertificateChain(N,we)&&(N.expect=Ue?y:E)),N.process()},a.handleServerKeyExchange=function(N,X,Q){if(Q>0)return N.error(N,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.unsupported_certificate}});N.expect=A,N.process()},a.handleClientKeyExchange=function(N,X,Q){if(Q<48)return N.error(N,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.unsupported_certificate}});var I=X.fragment,K={enc_pre_master_secret:h(I,2).getBytes()},oe=null;if(N.getPrivateKey)try{oe=N.getPrivateKey(N,N.session.serverCertificate),oe=t.pki.privateKeyFromPem(oe)}catch(Ue){N.error(N,{message:"Could not get private key.",cause:Ue,send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.internal_error}})}if(oe===null)return N.error(N,{message:"No private key set.",send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.internal_error}});try{var te=N.session.sp;te.pre_master_secret=oe.decrypt(K.enc_pre_master_secret);var we=N.session.clientHelloVersion;if(we.major!==te.pre_master_secret.charCodeAt(0)||we.minor!==te.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch{te.pre_master_secret=t.random.getBytes(48)}N.expect=D,N.session.clientCertificate!==null&&(N.expect=P),N.process()},a.handleCertificateRequest=function(N,X,Q){if(Q<3)return N.error(N,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.illegal_parameter}});var I=X.fragment,K={certificate_types:h(I,1),certificate_authorities:h(I,2)};N.session.certificateRequest=K,N.expect=T,N.process()},a.handleCertificateVerify=function(N,X,Q){if(Q<2)return N.error(N,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.illegal_parameter}});var I=X.fragment;I.read-=4;var K=I.bytes();I.read+=4;var oe={signature:h(I,2).getBytes()},te=t.util.createBuffer();te.putBuffer(N.session.md5.digest()),te.putBuffer(N.session.sha1.digest()),te=te.getBytes();try{var we=N.session.clientCertificate;if(!we.publicKey.verify(te,oe.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");N.session.md5.update(K),N.session.sha1.update(K)}catch{return N.error(N,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.handshake_failure}})}N.expect=D,N.process()},a.handleServerHelloDone=function(N,X,Q){if(Q>0)return N.error(N,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.record_overflow}});if(N.serverCertificate===null){var I={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.insufficient_security}},K=0,oe=N.verify(N,I.alert.description,K,[]);if(oe!==!0)return(oe||oe===0)&&(typeof oe=="object"&&!t.util.isArray(oe)?(oe.message&&(I.message=oe.message),oe.alert&&(I.alert.description=oe.alert)):typeof oe=="number"&&(I.alert.description=oe)),N.error(N,I)}N.session.certificateRequest!==null&&(X=a.createRecord(N,{type:a.ContentType.handshake,data:a.createCertificate(N)}),a.queue(N,X)),X=a.createRecord(N,{type:a.ContentType.handshake,data:a.createClientKeyExchange(N)}),a.queue(N,X),N.expect=k;var te=function(we,Ue){we.session.certificateRequest!==null&&we.session.clientCertificate!==null&&a.queue(we,a.createRecord(we,{type:a.ContentType.handshake,data:a.createCertificateVerify(we,Ue)})),a.queue(we,a.createRecord(we,{type:a.ContentType.change_cipher_spec,data:a.createChangeCipherSpec()})),we.state.pending=a.createConnectionState(we),we.state.current.write=we.state.pending.write,a.queue(we,a.createRecord(we,{type:a.ContentType.handshake,data:a.createFinished(we)})),we.expect=m,a.flush(we),we.process()};if(N.session.certificateRequest===null||N.session.clientCertificate===null)return te(N,null);a.getClientSignature(N,te)},a.handleChangeCipherSpec=function(N,X){if(X.fragment.getByte()!==1)return N.error(N,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.illegal_parameter}});var Q=N.entity===a.ConnectionEnd.client;(N.session.resuming&&Q||!N.session.resuming&&!Q)&&(N.state.pending=a.createConnectionState(N)),N.state.current.read=N.state.pending.read,(!N.session.resuming&&Q||N.session.resuming&&!Q)&&(N.state.pending=null),N.expect=Q?S:C,N.process()},a.handleFinished=function(N,X,Q){var I=X.fragment;I.read-=4;var K=I.bytes();I.read+=4;var oe=X.fragment.getBytes();I=t.util.createBuffer(),I.putBuffer(N.session.md5.digest()),I.putBuffer(N.session.sha1.digest());var te=N.entity===a.ConnectionEnd.client,we=te?"server finished":"client finished",Ue=N.session.sp,je=12,ge=r;if(I=ge(Ue.master_secret,we,I.getBytes(),je),I.getBytes()!==oe)return N.error(N,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.decrypt_error}});N.session.md5.update(K),N.session.sha1.update(K),(N.session.resuming&&te||!N.session.resuming&&!te)&&(a.queue(N,a.createRecord(N,{type:a.ContentType.change_cipher_spec,data:a.createChangeCipherSpec()})),N.state.current.write=N.state.pending.write,N.state.pending=null,a.queue(N,a.createRecord(N,{type:a.ContentType.handshake,data:a.createFinished(N)}))),N.expect=te?B:v,N.handshaking=!1,++N.handshakes,N.peerCertificate=te?N.session.serverCertificate:N.session.clientCertificate,a.flush(N),N.isConnected=!0,N.connected(N),N.process()},a.handleAlert=function(N,X){var Q=X.fragment,I={level:Q.getByte(),description:Q.getByte()},K;switch(I.description){case a.Alert.Description.close_notify:K="Connection closed.";break;case a.Alert.Description.unexpected_message:K="Unexpected message.";break;case a.Alert.Description.bad_record_mac:K="Bad record MAC.";break;case a.Alert.Description.decryption_failed:K="Decryption failed.";break;case a.Alert.Description.record_overflow:K="Record overflow.";break;case a.Alert.Description.decompression_failure:K="Decompression failed.";break;case a.Alert.Description.handshake_failure:K="Handshake failure.";break;case a.Alert.Description.bad_certificate:K="Bad certificate.";break;case a.Alert.Description.unsupported_certificate:K="Unsupported certificate.";break;case a.Alert.Description.certificate_revoked:K="Certificate revoked.";break;case a.Alert.Description.certificate_expired:K="Certificate expired.";break;case a.Alert.Description.certificate_unknown:K="Certificate unknown.";break;case a.Alert.Description.illegal_parameter:K="Illegal parameter.";break;case a.Alert.Description.unknown_ca:K="Unknown certificate authority.";break;case a.Alert.Description.access_denied:K="Access denied.";break;case a.Alert.Description.decode_error:K="Decode error.";break;case a.Alert.Description.decrypt_error:K="Decrypt error.";break;case a.Alert.Description.export_restriction:K="Export restriction.";break;case a.Alert.Description.protocol_version:K="Unsupported protocol version.";break;case a.Alert.Description.insufficient_security:K="Insufficient security.";break;case a.Alert.Description.internal_error:K="Internal error.";break;case a.Alert.Description.user_canceled:K="User canceled.";break;case a.Alert.Description.no_renegotiation:K="Renegotiation not supported.";break;default:K="Unknown error.";break}if(I.description===a.Alert.Description.close_notify)return N.close();N.error(N,{message:K,send:!1,origin:N.entity===a.ConnectionEnd.client?"server":"client",alert:I}),N.process()},a.handleHandshake=function(N,X){var Q=X.fragment,I=Q.getByte(),K=Q.getInt24();if(K>Q.length())return N.fragmented=X,X.fragment=t.util.createBuffer(),Q.read-=4,N.process();N.fragmented=null,Q.read-=4;var oe=Q.bytes(K+4);Q.read+=4,I in Le[N.entity][N.expect]?(N.entity===a.ConnectionEnd.server&&!N.open&&!N.fail&&(N.handshaking=!0,N.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:t.md.md5.create(),sha1:t.md.sha1.create()}),I!==a.HandshakeType.hello_request&&I!==a.HandshakeType.certificate_verify&&I!==a.HandshakeType.finished&&(N.session.md5.update(oe),N.session.sha1.update(oe)),Le[N.entity][N.expect][I](N,X,K)):a.handleUnexpected(N,X)},a.handleApplicationData=function(N,X){N.data.putBuffer(X.fragment),N.dataReady(N),N.process()},a.handleHeartbeat=function(N,X){var Q=X.fragment,I=Q.getByte(),K=Q.getInt16(),oe=Q.getBytes(K);if(I===a.HeartbeatMessageType.heartbeat_request){if(N.handshaking||K>oe.length)return N.process();a.queue(N,a.createRecord(N,{type:a.ContentType.heartbeat,data:a.createHeartbeat(a.HeartbeatMessageType.heartbeat_response,oe)})),a.flush(N)}else if(I===a.HeartbeatMessageType.heartbeat_response){if(oe!==N.expectedHeartbeatPayload)return N.process();N.heartbeatReceived&&N.heartbeatReceived(N,t.util.createBuffer(oe))}N.process()};var d=0,f=1,y=2,A=3,T=4,m=5,S=6,B=7,k=8,p=0,R=1,E=2,P=3,D=4,C=5,v=6,g=a.handleUnexpected,M=a.handleChangeCipherSpec,V=a.handleAlert,q=a.handleHandshake,w=a.handleApplicationData,U=a.handleHeartbeat,j=[];j[a.ConnectionEnd.client]=[[g,V,q,g,U],[g,V,q,g,U],[g,V,q,g,U],[g,V,q,g,U],[g,V,q,g,U],[M,V,g,g,U],[g,V,q,g,U],[g,V,q,w,U],[g,V,q,g,U]],j[a.ConnectionEnd.server]=[[g,V,q,g,U],[g,V,q,g,U],[g,V,q,g,U],[g,V,q,g,U],[M,V,g,g,U],[g,V,q,g,U],[g,V,q,w,U],[g,V,q,g,U]];var L=a.handleHelloRequest,F=a.handleServerHello,ee=a.handleCertificate,ue=a.handleServerKeyExchange,se=a.handleCertificateRequest,pe=a.handleServerHelloDone,ke=a.handleFinished,Le=[];Le[a.ConnectionEnd.client]=[[g,g,F,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g],[L,g,g,g,g,g,g,g,g,g,g,ee,ue,se,pe,g,g,g,g,g,g],[L,g,g,g,g,g,g,g,g,g,g,g,ue,se,pe,g,g,g,g,g,g],[L,g,g,g,g,g,g,g,g,g,g,g,g,se,pe,g,g,g,g,g,g],[L,g,g,g,g,g,g,g,g,g,g,g,g,g,pe,g,g,g,g,g,g],[L,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g],[L,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,ke],[L,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g],[L,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g]];var qe=a.handleClientHello,Ce=a.handleClientKeyExchange,We=a.handleCertificateVerify;Le[a.ConnectionEnd.server]=[[g,qe,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g],[g,g,g,g,g,g,g,g,g,g,g,ee,g,g,g,g,g,g,g,g,g],[g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,Ce,g,g,g,g],[g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,We,g,g,g,g,g],[g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g],[g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,ke],[g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g],[g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g]],a.generateKeys=function(N,X){var Q=r,I=X.client_random+X.server_random;N.session.resuming||(X.master_secret=Q(X.pre_master_secret,"master secret",I,48).bytes(),X.pre_master_secret=null),I=X.server_random+X.client_random;var K=2*X.mac_key_length+2*X.enc_key_length,oe=N.version.major===a.Versions.TLS_1_0.major&&N.version.minor===a.Versions.TLS_1_0.minor;oe&&(K+=2*X.fixed_iv_length);var te=Q(X.master_secret,"key expansion",I,K),we={client_write_MAC_key:te.getBytes(X.mac_key_length),server_write_MAC_key:te.getBytes(X.mac_key_length),client_write_key:te.getBytes(X.enc_key_length),server_write_key:te.getBytes(X.enc_key_length)};return oe&&(we.client_write_IV=te.getBytes(X.fixed_iv_length),we.server_write_IV=te.getBytes(X.fixed_iv_length)),we},a.createConnectionState=function(N){var X=N.entity===a.ConnectionEnd.client,Q=function(){var oe={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(te){return!0},compressionState:null,compressFunction:function(te){return!0},updateSequenceNumber:function(){oe.sequenceNumber[1]===4294967295?(oe.sequenceNumber[1]=0,++oe.sequenceNumber[0]):++oe.sequenceNumber[1]}};return oe},I={read:Q(),write:Q()};if(I.read.update=function(oe,te){return I.read.cipherFunction(te,I.read)?I.read.compressFunction(oe,te,I.read)||oe.error(oe,{message:"Could not decompress record.",send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.decompression_failure}}):oe.error(oe,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.bad_record_mac}}),!oe.fail},I.write.update=function(oe,te){return I.write.compressFunction(oe,te,I.write)?I.write.cipherFunction(te,I.write)||oe.error(oe,{message:"Could not encrypt record.",send:!1,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.internal_error}}):oe.error(oe,{message:"Could not compress record.",send:!1,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.internal_error}}),!oe.fail},N.session){var K=N.session.sp;switch(N.session.cipherSuite.initSecurityParameters(K),K.keys=a.generateKeys(N,K),I.read.macKey=X?K.keys.server_write_MAC_key:K.keys.client_write_MAC_key,I.write.macKey=X?K.keys.client_write_MAC_key:K.keys.server_write_MAC_key,N.session.cipherSuite.initConnectionState(I,N,K),K.compression_algorithm){case a.CompressionMethod.none:break;case a.CompressionMethod.deflate:I.read.compressFunction=u,I.write.compressFunction=s;break;default:throw new Error("Unsupported compression algorithm.")}}return I},a.createRandom=function(){var N=new Date,X=+N+N.getTimezoneOffset()*6e4,Q=t.util.createBuffer();return Q.putInt32(X),Q.putBytes(t.random.getBytes(28)),Q},a.createRecord=function(N,X){if(!X.data)return null;var Q={type:X.type,version:{major:N.version.major,minor:N.version.minor},length:X.data.length(),fragment:X.data};return Q},a.createAlert=function(N,X){var Q=t.util.createBuffer();return Q.putByte(X.level),Q.putByte(X.description),a.createRecord(N,{type:a.ContentType.alert,data:Q})},a.createClientHello=function(N){N.session.clientHelloVersion={major:N.version.major,minor:N.version.minor};for(var X=t.util.createBuffer(),Q=0;Q<N.cipherSuites.length;++Q){var I=N.cipherSuites[Q];X.putByte(I.id[0]),X.putByte(I.id[1])}var K=X.length(),oe=t.util.createBuffer();oe.putByte(a.CompressionMethod.none);var te=oe.length(),we=t.util.createBuffer();if(N.virtualHost){var Ue=t.util.createBuffer();Ue.putByte(0),Ue.putByte(0);var je=t.util.createBuffer();je.putByte(0),c(je,2,t.util.createBuffer(N.virtualHost));var ge=t.util.createBuffer();c(ge,2,je),c(Ue,2,ge),we.putBuffer(Ue)}var Pe=we.length();Pe>0&&(Pe+=2);var Ke=N.session.id,rt=Ke.length+1+2+4+28+2+K+1+te+Pe,$e=t.util.createBuffer();return $e.putByte(a.HandshakeType.client_hello),$e.putInt24(rt),$e.putByte(N.version.major),$e.putByte(N.version.minor),$e.putBytes(N.session.sp.client_random),c($e,1,t.util.createBuffer(Ke)),c($e,2,X),c($e,1,oe),Pe>0&&c($e,2,we),$e},a.createServerHello=function(N){var X=N.session.id,Q=X.length+1+2+4+28+2+1,I=t.util.createBuffer();return I.putByte(a.HandshakeType.server_hello),I.putInt24(Q),I.putByte(N.version.major),I.putByte(N.version.minor),I.putBytes(N.session.sp.server_random),c(I,1,t.util.createBuffer(X)),I.putByte(N.session.cipherSuite.id[0]),I.putByte(N.session.cipherSuite.id[1]),I.putByte(N.session.compressionMethod),I},a.createCertificate=function(N){var X=N.entity===a.ConnectionEnd.client,Q=null;if(N.getCertificate){var I;X?I=N.session.certificateRequest:I=N.session.extensions.server_name.serverNameList,Q=N.getCertificate(N,I)}var K=t.util.createBuffer();if(Q!==null)try{t.util.isArray(Q)||(Q=[Q]);for(var oe=null,te=0;te<Q.length;++te){var we=t.pem.decode(Q[te])[0];if(we.type!=="CERTIFICATE"&&we.type!=="X509 CERTIFICATE"&&we.type!=="TRUSTED CERTIFICATE"){var Ue=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw Ue.headerType=we.type,Ue}if(we.procType&&we.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var je=t.util.createBuffer(we.body);oe===null&&(oe=t.asn1.fromDer(je.bytes(),!1));var ge=t.util.createBuffer();c(ge,3,je),K.putBuffer(ge)}Q=t.pki.certificateFromAsn1(oe),X?N.session.clientCertificate=Q:N.session.serverCertificate=Q}catch(rt){return N.error(N,{message:"Could not send certificate list.",cause:rt,send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.bad_certificate}})}var Pe=3+K.length(),Ke=t.util.createBuffer();return Ke.putByte(a.HandshakeType.certificate),Ke.putInt24(Pe),c(Ke,3,K),Ke},a.createClientKeyExchange=function(N){var X=t.util.createBuffer();X.putByte(N.session.clientHelloVersion.major),X.putByte(N.session.clientHelloVersion.minor),X.putBytes(t.random.getBytes(46));var Q=N.session.sp;Q.pre_master_secret=X.getBytes();var I=N.session.serverCertificate.publicKey;X=I.encrypt(Q.pre_master_secret);var K=X.length+2,oe=t.util.createBuffer();return oe.putByte(a.HandshakeType.client_key_exchange),oe.putInt24(K),oe.putInt16(X.length),oe.putBytes(X),oe},a.createServerKeyExchange=function(N){var X=0,Q=t.util.createBuffer();return X>0&&(Q.putByte(a.HandshakeType.server_key_exchange),Q.putInt24(X)),Q},a.getClientSignature=function(N,X){var Q=t.util.createBuffer();Q.putBuffer(N.session.md5.digest()),Q.putBuffer(N.session.sha1.digest()),Q=Q.getBytes(),N.getSignature=N.getSignature||function(I,K,oe){var te=null;if(I.getPrivateKey)try{te=I.getPrivateKey(I,I.session.clientCertificate),te=t.pki.privateKeyFromPem(te)}catch(we){I.error(I,{message:"Could not get private key.",cause:we,send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.internal_error}})}te===null?I.error(I,{message:"No private key set.",send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.internal_error}}):K=te.sign(K,null),oe(I,K)},N.getSignature(N,Q,X)},a.createCertificateVerify=function(N,X){var Q=X.length+2,I=t.util.createBuffer();return I.putByte(a.HandshakeType.certificate_verify),I.putInt24(Q),I.putInt16(X.length),I.putBytes(X),I},a.createCertificateRequest=function(N){var X=t.util.createBuffer();X.putByte(1);var Q=t.util.createBuffer();for(var I in N.caStore.certs){var K=N.caStore.certs[I],oe=t.pki.distinguishedNameToAsn1(K.subject),te=t.asn1.toDer(oe);Q.putInt16(te.length()),Q.putBuffer(te)}var we=1+X.length()+2+Q.length(),Ue=t.util.createBuffer();return Ue.putByte(a.HandshakeType.certificate_request),Ue.putInt24(we),c(Ue,1,X),c(Ue,2,Q),Ue},a.createServerHelloDone=function(N){var X=t.util.createBuffer();return X.putByte(a.HandshakeType.server_hello_done),X.putInt24(0),X},a.createChangeCipherSpec=function(){var N=t.util.createBuffer();return N.putByte(1),N},a.createFinished=function(N){var X=t.util.createBuffer();X.putBuffer(N.session.md5.digest()),X.putBuffer(N.session.sha1.digest());var Q=N.entity===a.ConnectionEnd.client,I=N.session.sp,K=12,oe=r,te=Q?"client finished":"server finished";X=oe(I.master_secret,te,X.getBytes(),K);var we=t.util.createBuffer();return we.putByte(a.HandshakeType.finished),we.putInt24(X.length()),we.putBuffer(X),we},a.createHeartbeat=function(N,X,Q){typeof Q>"u"&&(Q=X.length);var I=t.util.createBuffer();I.putByte(N),I.putInt16(Q),I.putBytes(X);var K=I.length(),oe=Math.max(16,K-Q-3);return I.putBytes(t.random.getBytes(oe)),I},a.queue=function(N,X){if(X&&!(X.fragment.length()===0&&(X.type===a.ContentType.handshake||X.type===a.ContentType.alert||X.type===a.ContentType.change_cipher_spec))){if(X.type===a.ContentType.handshake){var Q=X.fragment.bytes();N.session.md5.update(Q),N.session.sha1.update(Q),Q=null}var I;if(X.fragment.length()<=a.MaxFragment)I=[X];else{I=[];for(var K=X.fragment.bytes();K.length>a.MaxFragment;)I.push(a.createRecord(N,{type:X.type,data:t.util.createBuffer(K.slice(0,a.MaxFragment))})),K=K.slice(a.MaxFragment);K.length>0&&I.push(a.createRecord(N,{type:X.type,data:t.util.createBuffer(K)}))}for(var oe=0;oe<I.length&&!N.fail;++oe){var te=I[oe],we=N.state.current.write;we.update(N,te)&&N.records.push(te)}}},a.flush=function(N){for(var X=0;X<N.records.length;++X){var Q=N.records[X];N.tlsData.putByte(Q.type),N.tlsData.putByte(Q.version.major),N.tlsData.putByte(Q.version.minor),N.tlsData.putInt16(Q.fragment.length()),N.tlsData.putBuffer(N.records[X].fragment)}return N.records=[],N.tlsDataReady(N)};var Te=function(N){switch(N){case!0:return!0;case t.pki.certificateError.bad_certificate:return a.Alert.Description.bad_certificate;case t.pki.certificateError.unsupported_certificate:return a.Alert.Description.unsupported_certificate;case t.pki.certificateError.certificate_revoked:return a.Alert.Description.certificate_revoked;case t.pki.certificateError.certificate_expired:return a.Alert.Description.certificate_expired;case t.pki.certificateError.certificate_unknown:return a.Alert.Description.certificate_unknown;case t.pki.certificateError.unknown_ca:return a.Alert.Description.unknown_ca;default:return a.Alert.Description.bad_certificate}},et=function(N){switch(N){case!0:return!0;case a.Alert.Description.bad_certificate:return t.pki.certificateError.bad_certificate;case a.Alert.Description.unsupported_certificate:return t.pki.certificateError.unsupported_certificate;case a.Alert.Description.certificate_revoked:return t.pki.certificateError.certificate_revoked;case a.Alert.Description.certificate_expired:return t.pki.certificateError.certificate_expired;case a.Alert.Description.certificate_unknown:return t.pki.certificateError.certificate_unknown;case a.Alert.Description.unknown_ca:return t.pki.certificateError.unknown_ca;default:return t.pki.certificateError.bad_certificate}};a.verifyCertificateChain=function(N,X){try{var Q={};for(var I in N.verifyOptions)Q[I]=N.verifyOptions[I];Q.verify=function(oe,te,we){var Ue=Te(oe),je=N.verify(N,oe,te,we);if(je!==!0){if(typeof je=="object"&&!t.util.isArray(je)){var ge=new Error("The application rejected the certificate.");throw ge.send=!0,ge.alert={level:a.Alert.Level.fatal,description:a.Alert.Description.bad_certificate},je.message&&(ge.message=je.message),je.alert&&(ge.alert.description=je.alert),ge}je!==oe&&(je=et(je))}return je},t.pki.verifyCertificateChain(N.caStore,X,Q)}catch(oe){var K=oe;(typeof K!="object"||t.util.isArray(K))&&(K={send:!0,alert:{level:a.Alert.Level.fatal,description:Te(oe)}}),"send"in K||(K.send=!0),"alert"in K||(K.alert={level:a.Alert.Level.fatal,description:Te(K.error)}),N.error(N,K)}return!N.fail},a.createSessionCache=function(N,X){var Q=null;if(N&&N.getSession&&N.setSession&&N.order)Q=N;else{Q={},Q.cache=N||{},Q.capacity=Math.max(X||100,1),Q.order=[];for(var I in N)Q.order.length<=X?Q.order.push(I):delete N[I];Q.getSession=function(K){var oe=null,te=null;if(K?te=t.util.bytesToHex(K):Q.order.length>0&&(te=Q.order[0]),te!==null&&te in Q.cache){oe=Q.cache[te],delete Q.cache[te];for(var we in Q.order)if(Q.order[we]===te){Q.order.splice(we,1);break}}return oe},Q.setSession=function(K,oe){if(Q.order.length===Q.capacity){var te=Q.order.shift();delete Q.cache[te]}var te=t.util.bytesToHex(K);Q.order.push(te),Q.cache[te]=oe}}return Q},a.createConnection=function(N){var X=null;N.caStore?t.util.isArray(N.caStore)?X=t.pki.createCaStore(N.caStore):X=N.caStore:X=t.pki.createCaStore();var Q=N.cipherSuites||null;if(Q===null){Q=[];for(var I in a.CipherSuites)Q.push(a.CipherSuites[I])}var K=N.server?a.ConnectionEnd.server:a.ConnectionEnd.client,oe=N.sessionCache?a.createSessionCache(N.sessionCache):null,te={version:{major:a.Version.major,minor:a.Version.minor},entity:K,sessionId:N.sessionId,caStore:X,sessionCache:oe,cipherSuites:Q,connected:N.connected,virtualHost:N.virtualHost||null,verifyClient:N.verifyClient||!1,verify:N.verify||function(ge,Pe,Ke,rt){return Pe},verifyOptions:N.verifyOptions||{},getCertificate:N.getCertificate||null,getPrivateKey:N.getPrivateKey||null,getSignature:N.getSignature||null,input:t.util.createBuffer(),tlsData:t.util.createBuffer(),data:t.util.createBuffer(),tlsDataReady:N.tlsDataReady,dataReady:N.dataReady,heartbeatReceived:N.heartbeatReceived,closed:N.closed,error:function(ge,Pe){Pe.origin=Pe.origin||(ge.entity===a.ConnectionEnd.client?"client":"server"),Pe.send&&(a.queue(ge,a.createAlert(ge,Pe.alert)),a.flush(ge));var Ke=Pe.fatal!==!1;Ke&&(ge.fail=!0),N.error(ge,Pe),Ke&&ge.close(!1)},deflate:N.deflate||null,inflate:N.inflate||null};te.reset=function(ge){te.version={major:a.Version.major,minor:a.Version.minor},te.record=null,te.session=null,te.peerCertificate=null,te.state={pending:null,current:null},te.expect=te.entity===a.ConnectionEnd.client?d:p,te.fragmented=null,te.records=[],te.open=!1,te.handshakes=0,te.handshaking=!1,te.isConnected=!1,te.fail=!(ge||typeof ge>"u"),te.input.clear(),te.tlsData.clear(),te.data.clear(),te.state.current=a.createConnectionState(te)},te.reset();var we=function(ge,Pe){var Ke=Pe.type-a.ContentType.change_cipher_spec,rt=j[ge.entity][ge.expect];Ke in rt?rt[Ke](ge,Pe):a.handleUnexpected(ge,Pe)},Ue=function(ge){var Pe=0,Ke=ge.input,rt=Ke.length();if(rt<5)Pe=5-rt;else{ge.record={type:Ke.getByte(),version:{major:Ke.getByte(),minor:Ke.getByte()},length:Ke.getInt16(),fragment:t.util.createBuffer(),ready:!1};var $e=ge.record.version.major===ge.version.major;$e&&ge.session&&ge.session.version&&($e=ge.record.version.minor===ge.version.minor),$e||ge.error(ge,{message:"Incompatible TLS version.",send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.protocol_version}})}return Pe},je=function(ge){var Pe=0,Ke=ge.input,rt=Ke.length();if(rt<ge.record.length)Pe=ge.record.length-rt;else{ge.record.fragment.putBytes(Ke.getBytes(ge.record.length)),Ke.compact();var $e=ge.state.current.read;$e.update(ge,ge.record)&&(ge.fragmented!==null&&(ge.fragmented.type===ge.record.type?(ge.fragmented.fragment.putBuffer(ge.record.fragment),ge.record=ge.fragmented):ge.error(ge,{message:"Invalid fragmented record.",send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.unexpected_message}})),ge.record.ready=!0)}return Pe};return te.handshake=function(ge){if(te.entity!==a.ConnectionEnd.client)te.error(te,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(te.handshaking)te.error(te,{message:"Handshake already in progress.",fatal:!1});else{te.fail&&!te.open&&te.handshakes===0&&(te.fail=!1),te.handshaking=!0,ge=ge||"";var Pe=null;ge.length>0&&(te.sessionCache&&(Pe=te.sessionCache.getSession(ge)),Pe===null&&(ge="")),ge.length===0&&te.sessionCache&&(Pe=te.sessionCache.getSession(),Pe!==null&&(ge=Pe.id)),te.session={id:ge,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:t.md.md5.create(),sha1:t.md.sha1.create()},Pe&&(te.version=Pe.version,te.session.sp=Pe.sp),te.session.sp.client_random=a.createRandom().getBytes(),te.open=!0,a.queue(te,a.createRecord(te,{type:a.ContentType.handshake,data:a.createClientHello(te)})),a.flush(te)}},te.process=function(ge){var Pe=0;return ge&&te.input.putBytes(ge),te.fail||(te.record!==null&&te.record.ready&&te.record.fragment.isEmpty()&&(te.record=null),te.record===null&&(Pe=Ue(te)),!te.fail&&te.record!==null&&!te.record.ready&&(Pe=je(te)),!te.fail&&te.record!==null&&te.record.ready&&we(te,te.record)),Pe},te.prepare=function(ge){return a.queue(te,a.createRecord(te,{type:a.ContentType.application_data,data:t.util.createBuffer(ge)})),a.flush(te)},te.prepareHeartbeatRequest=function(ge,Pe){return ge instanceof t.util.ByteBuffer&&(ge=ge.bytes()),typeof Pe>"u"&&(Pe=ge.length),te.expectedHeartbeatPayload=ge,a.queue(te,a.createRecord(te,{type:a.ContentType.heartbeat,data:a.createHeartbeat(a.HeartbeatMessageType.heartbeat_request,ge,Pe)})),a.flush(te)},te.close=function(ge){if(!te.fail&&te.sessionCache&&te.session){var Pe={id:te.session.id,version:te.session.version,sp:te.session.sp};Pe.sp.keys=null,te.sessionCache.setSession(Pe.id,Pe)}te.open&&(te.open=!1,te.input.clear(),(te.isConnected||te.handshaking)&&(te.isConnected=te.handshaking=!1,a.queue(te,a.createAlert(te,{level:a.Alert.Level.warning,description:a.Alert.Description.close_notify})),a.flush(te)),te.closed(te)),te.reset(ge)},te},n.exports=t.tls=t.tls||{};for(Je in a)typeof a[Je]!="function"&&(t.tls[Je]=a[Je]);var Je;t.tls.prf_tls1=r,t.tls.hmac_sha1=i,t.tls.createSessionCache=a.createSessionCache,t.tls.createConnection=a.createConnection}),fI=Qe((e,n)=>{var t=lt();Pa(),Bb();var r=n.exports=t.tls;r.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(d){d.bulk_cipher_algorithm=r.BulkCipherAlgorithm.aes,d.cipher_type=r.CipherType.block,d.enc_key_length=16,d.block_length=16,d.fixed_iv_length=16,d.record_iv_length=16,d.mac_algorithm=r.MACAlgorithm.hmac_sha1,d.mac_length=20,d.mac_key_length=20},initConnectionState:i},r.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(d){d.bulk_cipher_algorithm=r.BulkCipherAlgorithm.aes,d.cipher_type=r.CipherType.block,d.enc_key_length=32,d.block_length=16,d.fixed_iv_length=16,d.record_iv_length=16,d.mac_algorithm=r.MACAlgorithm.hmac_sha1,d.mac_length=20,d.mac_key_length=20},initConnectionState:i};function i(d,f,y){var A=f.entity===t.tls.ConnectionEnd.client;d.read.cipherState={init:!1,cipher:t.cipher.createDecipher("AES-CBC",A?y.keys.server_write_key:y.keys.client_write_key),iv:A?y.keys.server_write_IV:y.keys.client_write_IV},d.write.cipherState={init:!1,cipher:t.cipher.createCipher("AES-CBC",A?y.keys.client_write_key:y.keys.server_write_key),iv:A?y.keys.client_write_IV:y.keys.server_write_IV},d.read.cipherFunction=c,d.write.cipherFunction=s,d.read.macLength=d.write.macLength=y.mac_length,d.read.macFunction=d.write.macFunction=r.hmac_sha1}function s(d,f){var y=!1,A=f.macFunction(f.macKey,f.sequenceNumber,d);d.fragment.putBytes(A),f.updateSequenceNumber();var T;d.version.minor===r.Versions.TLS_1_0.minor?T=f.cipherState.init?null:f.cipherState.iv:T=t.random.getBytesSync(16),f.cipherState.init=!0;var m=f.cipherState.cipher;return m.start({iv:T}),d.version.minor>=r.Versions.TLS_1_1.minor&&m.output.putBytes(T),m.update(d.fragment),m.finish(u)&&(d.fragment=m.output,d.length=d.fragment.length(),y=!0),y}function u(d,f,y){if(!y){var A=d-f.length()%d;f.fillWithByte(A-1,A)}return!0}function h(d,f,y){var A=!0;if(y){for(var T=f.length(),m=f.last(),S=T-1-m;S<T-1;++S)A=A&&f.at(S)==m;A&&f.truncate(m+1)}return A}function c(d,f){var y=!1,A;d.version.minor===r.Versions.TLS_1_0.minor?A=f.cipherState.init?null:f.cipherState.iv:A=d.fragment.getBytes(16),f.cipherState.init=!0;var T=f.cipherState.cipher;T.start({iv:A}),T.update(d.fragment),y=T.finish(h);var m=f.macLength,S=t.random.getBytesSync(m),B=T.output.length();B>=m?(d.fragment=T.output.getBytes(B-m),S=T.output.getBytes(m)):d.fragment=T.output.getBytes(),d.fragment=t.util.createBuffer(d.fragment),d.length=d.fragment.length();var k=f.macFunction(f.macKey,f.sequenceNumber,d);return f.updateSequenceNumber(),y=a(f.macKey,S,k)&&y,y}function a(d,f,y){var A=t.hmac.create();return A.start("SHA1",d),A.update(f),f=A.digest().getBytes(),A.start(null,null),A.update(y),y=A.digest().getBytes(),f===y}}),Ob=Qe((e,n)=>{var t=lt();fo(),St();var r=n.exports=t.sha512=t.sha512||{};t.md.sha512=t.md.algorithms.sha512=r;var i=t.sha384=t.sha512.sha384=t.sha512.sha384||{};i.create=function(){return r.create("SHA-384")},t.md.sha384=t.md.algorithms.sha384=i,t.sha512.sha256=t.sha512.sha256||{create:function(){return r.create("SHA-512/256")}},t.md["sha512/256"]=t.md.algorithms["sha512/256"]=t.sha512.sha256,t.sha512.sha224=t.sha512.sha224||{create:function(){return r.create("SHA-512/224")}},t.md["sha512/224"]=t.md.algorithms["sha512/224"]=t.sha512.sha224,r.create=function(f){if(u||a(),typeof f>"u"&&(f="SHA-512"),!(f in c))throw new Error("Invalid SHA-512 algorithm: "+f);for(var y=c[f],A=null,T=t.util.createBuffer(),m=new Array(80),S=0;S<80;++S)m[S]=new Array(2);var B=64;switch(f){case"SHA-384":B=48;break;case"SHA-512/256":B=32;break;case"SHA-512/224":B=28;break}var k={algorithm:f.replace("-","").toLowerCase(),blockLength:128,digestLength:B,messageLength:0,fullMessageLength:null,messageLengthSize:16};return k.start=function(){k.messageLength=0,k.fullMessageLength=k.messageLength128=[];for(var p=k.messageLengthSize/4,R=0;R<p;++R)k.fullMessageLength.push(0);T=t.util.createBuffer(),A=new Array(y.length);for(var R=0;R<y.length;++R)A[R]=y[R].slice(0);return k},k.start(),k.update=function(p,R){R==="utf8"&&(p=t.util.encodeUtf8(p));var E=p.length;k.messageLength+=E,E=[E/4294967296>>>0,E>>>0];for(var P=k.fullMessageLength.length-1;P>=0;--P)k.fullMessageLength[P]+=E[1],E[1]=E[0]+(k.fullMessageLength[P]/4294967296>>>0),k.fullMessageLength[P]=k.fullMessageLength[P]>>>0,E[0]=E[1]/4294967296>>>0;return T.putBytes(p),d(A,m,T),(T.read>2048||T.length()===0)&&T.compact(),k},k.digest=function(){var p=t.util.createBuffer();p.putBytes(T.bytes());var R=k.fullMessageLength[k.fullMessageLength.length-1]+k.messageLengthSize,E=R&k.blockLength-1;p.putBytes(s.substr(0,k.blockLength-E));for(var P,D,C=k.fullMessageLength[0]*8,v=0;v<k.fullMessageLength.length-1;++v)P=k.fullMessageLength[v+1]*8,D=P/4294967296>>>0,C+=D,p.putInt32(C>>>0),C=P>>>0;p.putInt32(C);for(var g=new Array(A.length),v=0;v<A.length;++v)g[v]=A[v].slice(0);d(g,m,p);var M=t.util.createBuffer(),V;f==="SHA-512"?V=g.length:f==="SHA-384"?V=g.length-2:V=g.length-4;for(var v=0;v<V;++v)M.putInt32(g[v][0]),(v!==V-1||f!=="SHA-512/224")&&M.putInt32(g[v][1]);return M},k};var s=null,u=!1,h=null,c=null;function a(){s=String.fromCharCode(128),s+=t.util.fillString(String.fromCharCode(0),128),h=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],c={},c["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],c["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],c["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],c["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],u=!0}function d(f,y,A){for(var T,m,S,B,k,p,R,E,P,D,C,v,g,M,V,q,w,U,j,L,F,ee,ue,se,pe,ke,Le,qe,Ce,We,Te,et,Je,N,X,Q=A.length();Q>=128;){for(Ce=0;Ce<16;++Ce)y[Ce][0]=A.getInt32()>>>0,y[Ce][1]=A.getInt32()>>>0;for(;Ce<80;++Ce)et=y[Ce-2],We=et[0],Te=et[1],T=((We>>>19|Te<<13)^(Te>>>29|We<<3)^We>>>6)>>>0,m=((We<<13|Te>>>19)^(Te<<3|We>>>29)^(We<<26|Te>>>6))>>>0,N=y[Ce-15],We=N[0],Te=N[1],S=((We>>>1|Te<<31)^(We>>>8|Te<<24)^We>>>7)>>>0,B=((We<<31|Te>>>1)^(We<<24|Te>>>8)^(We<<25|Te>>>7))>>>0,Je=y[Ce-7],X=y[Ce-16],Te=m+Je[1]+B+X[1],y[Ce][0]=T+Je[0]+S+X[0]+(Te/4294967296>>>0)>>>0,y[Ce][1]=Te>>>0;for(g=f[0][0],M=f[0][1],V=f[1][0],q=f[1][1],w=f[2][0],U=f[2][1],j=f[3][0],L=f[3][1],F=f[4][0],ee=f[4][1],ue=f[5][0],se=f[5][1],pe=f[6][0],ke=f[6][1],Le=f[7][0],qe=f[7][1],Ce=0;Ce<80;++Ce)R=((F>>>14|ee<<18)^(F>>>18|ee<<14)^(ee>>>9|F<<23))>>>0,E=((F<<18|ee>>>14)^(F<<14|ee>>>18)^(ee<<23|F>>>9))>>>0,P=(pe^F&(ue^pe))>>>0,D=(ke^ee&(se^ke))>>>0,k=((g>>>28|M<<4)^(M>>>2|g<<30)^(M>>>7|g<<25))>>>0,p=((g<<4|M>>>28)^(M<<30|g>>>2)^(M<<25|g>>>7))>>>0,C=(g&V|w&(g^V))>>>0,v=(M&q|U&(M^q))>>>0,Te=qe+E+D+h[Ce][1]+y[Ce][1],T=Le+R+P+h[Ce][0]+y[Ce][0]+(Te/4294967296>>>0)>>>0,m=Te>>>0,Te=p+v,S=k+C+(Te/4294967296>>>0)>>>0,B=Te>>>0,Le=pe,qe=ke,pe=ue,ke=se,ue=F,se=ee,Te=L+m,F=j+T+(Te/4294967296>>>0)>>>0,ee=Te>>>0,j=w,L=U,w=V,U=q,V=g,q=M,Te=m+B,g=T+S+(Te/4294967296>>>0)>>>0,M=Te>>>0;Te=f[0][1]+M,f[0][0]=f[0][0]+g+(Te/4294967296>>>0)>>>0,f[0][1]=Te>>>0,Te=f[1][1]+q,f[1][0]=f[1][0]+V+(Te/4294967296>>>0)>>>0,f[1][1]=Te>>>0,Te=f[2][1]+U,f[2][0]=f[2][0]+w+(Te/4294967296>>>0)>>>0,f[2][1]=Te>>>0,Te=f[3][1]+L,f[3][0]=f[3][0]+j+(Te/4294967296>>>0)>>>0,f[3][1]=Te>>>0,Te=f[4][1]+ee,f[4][0]=f[4][0]+F+(Te/4294967296>>>0)>>>0,f[4][1]=Te>>>0,Te=f[5][1]+se,f[5][0]=f[5][0]+ue+(Te/4294967296>>>0)>>>0,f[5][1]=Te>>>0,Te=f[6][1]+ke,f[6][0]=f[6][0]+pe+(Te/4294967296>>>0)>>>0,f[6][1]=Te>>>0,Te=f[7][1]+qe,f[7][0]=f[7][0]+Le+(Te/4294967296>>>0)>>>0,f[7][1]=Te>>>0,Q-=128}}}),dI=Qe(e=>{var n=lt();ki();var t=n.asn1;e.privateKeyValidator={name:"PrivateKeyInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},e.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:t.Class.UNIVERSAL,type:t.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}}),pI=Qe((e,n)=>{var t=lt();gh(),ui(),Ob(),St();var r=dI(),i=r.publicKeyValidator,s=r.privateKeyValidator;typeof u>"u"&&(u=t.jsbn.BigInteger);var u,h=t.util.ByteBuffer,c=typeof Buffer>"u"?Uint8Array:Buffer;t.pki=t.pki||{},n.exports=t.pki.ed25519=t.ed25519=t.ed25519||{};var a=t.ed25519;a.constants={},a.constants.PUBLIC_KEY_BYTE_LENGTH=32,a.constants.PRIVATE_KEY_BYTE_LENGTH=64,a.constants.SEED_BYTE_LENGTH=32,a.constants.SIGN_BYTE_LENGTH=64,a.constants.HASH_BYTE_LENGTH=64,a.generateKeyPair=function(N){N=N||{};var X=N.seed;if(X===void 0)X=t.random.getBytesSync(a.constants.SEED_BYTE_LENGTH);else if(typeof X=="string"){if(X.length!==a.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+a.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(X instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');X=d({message:X,encoding:"binary"});for(var Q=new c(a.constants.PUBLIC_KEY_BYTE_LENGTH),I=new c(a.constants.PRIVATE_KEY_BYTE_LENGTH),K=0;K<32;++K)I[K]=X[K];return R(Q,I),{publicKey:Q,privateKey:I}},a.privateKeyFromAsn1=function(N){var X={},Q=[],I=t.asn1.validate(N,s,X,Q);if(!I){var K=new Error("Invalid Key.");throw K.errors=Q,K}var oe=t.asn1.derToOid(X.privateKeyOid),te=t.oids.EdDSA25519;if(oe!==te)throw new Error('Invalid OID "'+oe+'"; OID must be "'+te+'".');var we=X.privateKey,Ue=d({message:t.asn1.fromDer(we).value,encoding:"binary"});return{privateKeyBytes:Ue}},a.publicKeyFromAsn1=function(N){var X={},Q=[],I=t.asn1.validate(N,i,X,Q);if(!I){var K=new Error("Invalid Key.");throw K.errors=Q,K}var oe=t.asn1.derToOid(X.publicKeyOid),te=t.oids.EdDSA25519;if(oe!==te)throw new Error('Invalid OID "'+oe+'"; OID must be "'+te+'".');var we=X.ed25519PublicKey;if(we.length!==a.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return d({message:we,encoding:"binary"})},a.publicKeyFromPrivateKey=function(N){N=N||{};var X=d({message:N.privateKey,encoding:"binary"});if(X.length!==a.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+a.constants.PRIVATE_KEY_BYTE_LENGTH);for(var Q=new c(a.constants.PUBLIC_KEY_BYTE_LENGTH),I=0;I<Q.length;++I)Q[I]=X[32+I];return Q},a.sign=function(N){N=N||{};var X=d(N),Q=d({message:N.privateKey,encoding:"binary"});if(Q.length===a.constants.SEED_BYTE_LENGTH){var I=a.generateKeyPair({seed:Q});Q=I.privateKey}else if(Q.length!==a.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+a.constants.SEED_BYTE_LENGTH+" or "+a.constants.PRIVATE_KEY_BYTE_LENGTH);var K=new c(a.constants.SIGN_BYTE_LENGTH+X.length);E(K,X,X.length,Q);for(var oe=new c(a.constants.SIGN_BYTE_LENGTH),te=0;te<oe.length;++te)oe[te]=K[te];return oe},a.verify=function(N){N=N||{};var X=d(N);if(N.signature===void 0)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var Q=d({message:N.signature,encoding:"binary"});if(Q.length!==a.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+a.constants.SIGN_BYTE_LENGTH);var I=d({message:N.publicKey,encoding:"binary"});if(I.length!==a.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+a.constants.PUBLIC_KEY_BYTE_LENGTH);var K=new c(a.constants.SIGN_BYTE_LENGTH+X.length),oe=new c(a.constants.SIGN_BYTE_LENGTH+X.length),te;for(te=0;te<a.constants.SIGN_BYTE_LENGTH;++te)K[te]=Q[te];for(te=0;te<X.length;++te)K[te+a.constants.SIGN_BYTE_LENGTH]=X[te];return P(oe,K,K.length,I)>=0};function d(N){var X=N.message;if(X instanceof Uint8Array||X instanceof c)return X;var Q=N.encoding;if(X===void 0)if(N.md)X=N.md.digest().getBytes(),Q="binary";else throw new TypeError('"options.message" or "options.md" not specified.');if(typeof X=="string"&&!Q)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if(typeof X=="string"){if(typeof Buffer<"u")return Buffer.from(X,Q);X=new h(X,Q)}else if(!(X instanceof h))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var I=new c(X.length()),K=0;K<I.length;++K)I[K]=X.at(K);return I}var f=Ce(),y=Ce([1]),A=Ce([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),T=Ce([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),m=Ce([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),S=Ce([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),B=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),k=Ce([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function p(N,X){var Q=t.md.sha512.create(),I=new h(N);Q.update(I.getBytes(X),"binary");var K=Q.digest().getBytes();if(typeof Buffer<"u")return Buffer.from(K,"binary");for(var oe=new c(a.constants.HASH_BYTE_LENGTH),te=0;te<64;++te)oe[te]=K.charCodeAt(te);return oe}function R(N,X){var Q=[Ce(),Ce(),Ce(),Ce()],I,K=p(X,32);for(K[0]&=248,K[31]&=127,K[31]|=64,se(Q,K),M(N,Q),I=0;I<32;++I)X[I+32]=N[I];return 0}function E(N,X,Q,I){var K,oe,te=new Float64Array(64),we=[Ce(),Ce(),Ce(),Ce()],Ue=p(I,32);Ue[0]&=248,Ue[31]&=127,Ue[31]|=64;var je=Q+64;for(K=0;K<Q;++K)N[64+K]=X[K];for(K=0;K<32;++K)N[32+K]=Ue[32+K];var ge=p(N.subarray(32),Q+32);for(C(ge),se(we,ge),M(N,we),K=32;K<64;++K)N[K]=I[K];var Pe=p(N,Q+64);for(C(Pe),K=32;K<64;++K)te[K]=0;for(K=0;K<32;++K)te[K]=ge[K];for(K=0;K<32;++K)for(oe=0;oe<32;oe++)te[K+oe]+=Pe[K]*Ue[oe];return D(N.subarray(32),te),je}function P(N,X,Q,I){var K,oe,te=new c(32),we=[Ce(),Ce(),Ce(),Ce()],Ue=[Ce(),Ce(),Ce(),Ce()];if(oe=-1,Q<64||q(Ue,I))return-1;for(K=0;K<Q;++K)N[K]=X[K];for(K=0;K<32;++K)N[K+32]=I[K];var je=p(N,Q);if(C(je),ue(we,Ue,je),se(Ue,X.subarray(32)),v(we,Ue),M(te,we),Q-=64,L(X,0,te,0)){for(K=0;K<Q;++K)N[K]=0;return-1}for(K=0;K<Q;++K)N[K]=X[K+64];return oe=Q,oe}function D(N,X){var Q,I,K,oe;for(I=63;I>=32;--I){for(Q=0,K=I-32,oe=I-12;K<oe;++K)X[K]+=Q-16*X[I]*B[K-(I-32)],Q=X[K]+128>>8,X[K]-=Q*256;X[K]+=Q,X[I]=0}for(Q=0,K=0;K<32;++K)X[K]+=Q-(X[31]>>4)*B[K],Q=X[K]>>8,X[K]&=255;for(K=0;K<32;++K)X[K]-=Q*B[K];for(I=0;I<32;++I)X[I+1]+=X[I]>>8,N[I]=X[I]&255}function C(N){for(var X=new Float64Array(64),Q=0;Q<64;++Q)X[Q]=N[Q],N[Q]=0;D(N,X)}function v(N,X){var Q=Ce(),I=Ce(),K=Ce(),oe=Ce(),te=Ce(),we=Ce(),Ue=Ce(),je=Ce(),ge=Ce();Te(Q,N[1],N[0]),Te(ge,X[1],X[0]),Je(Q,Q,ge),We(I,N[0],N[1]),We(ge,X[0],X[1]),Je(I,I,ge),Je(K,N[3],X[3]),Je(K,K,T),Je(oe,N[2],X[2]),We(oe,oe,oe),Te(te,I,Q),Te(we,oe,K),We(Ue,oe,K),We(je,I,Q),Je(N[0],te,we),Je(N[1],je,Ue),Je(N[2],Ue,we),Je(N[3],te,je)}function g(N,X,Q){for(var I=0;I<4;++I)qe(N[I],X[I],Q)}function M(N,X){var Q=Ce(),I=Ce(),K=Ce();ke(K,X[2]),Je(Q,X[0],K),Je(I,X[1],K),V(N,I),N[31]^=ee(Q)<<7}function V(N,X){var Q,I,K,oe=Ce(),te=Ce();for(Q=0;Q<16;++Q)te[Q]=X[Q];for(Le(te),Le(te),Le(te),I=0;I<2;++I){for(oe[0]=te[0]-65517,Q=1;Q<15;++Q)oe[Q]=te[Q]-65535-(oe[Q-1]>>16&1),oe[Q-1]&=65535;oe[15]=te[15]-32767-(oe[14]>>16&1),K=oe[15]>>16&1,oe[14]&=65535,qe(te,oe,1-K)}for(Q=0;Q<16;Q++)N[2*Q]=te[Q]&255,N[2*Q+1]=te[Q]>>8}function q(N,X){var Q=Ce(),I=Ce(),K=Ce(),oe=Ce(),te=Ce(),we=Ce(),Ue=Ce();return pe(N[2],y),w(N[1],X),et(K,N[1]),Je(oe,K,A),Te(K,K,N[2]),We(oe,N[2],oe),et(te,oe),et(we,te),Je(Ue,we,te),Je(Q,Ue,K),Je(Q,Q,oe),U(Q,Q),Je(Q,Q,K),Je(Q,Q,oe),Je(Q,Q,oe),Je(N[0],Q,oe),et(I,N[0]),Je(I,I,oe),j(I,K)&&Je(N[0],N[0],k),et(I,N[0]),Je(I,I,oe),j(I,K)?-1:(ee(N[0])===X[31]>>7&&Te(N[0],f,N[0]),Je(N[3],N[0],N[1]),0)}function w(N,X){var Q;for(Q=0;Q<16;++Q)N[Q]=X[2*Q]+(X[2*Q+1]<<8);N[15]&=32767}function U(N,X){var Q=Ce(),I;for(I=0;I<16;++I)Q[I]=X[I];for(I=250;I>=0;--I)et(Q,Q),I!==1&&Je(Q,Q,X);for(I=0;I<16;++I)N[I]=Q[I]}function j(N,X){var Q=new c(32),I=new c(32);return V(Q,N),V(I,X),L(Q,0,I,0)}function L(N,X,Q,I){return F(N,X,Q,I,32)}function F(N,X,Q,I,K){var oe,te=0;for(oe=0;oe<K;++oe)te|=N[X+oe]^Q[I+oe];return(1&te-1>>>8)-1}function ee(N){var X=new c(32);return V(X,N),X[0]&1}function ue(N,X,Q){var I,K;for(pe(N[0],f),pe(N[1],y),pe(N[2],y),pe(N[3],f),K=255;K>=0;--K)I=Q[K/8|0]>>(K&7)&1,g(N,X,I),v(X,N),v(N,N),g(N,X,I)}function se(N,X){var Q=[Ce(),Ce(),Ce(),Ce()];pe(Q[0],m),pe(Q[1],S),pe(Q[2],y),Je(Q[3],m,S),ue(N,Q,X)}function pe(N,X){var Q;for(Q=0;Q<16;Q++)N[Q]=X[Q]|0}function ke(N,X){var Q=Ce(),I;for(I=0;I<16;++I)Q[I]=X[I];for(I=253;I>=0;--I)et(Q,Q),I!==2&&I!==4&&Je(Q,Q,X);for(I=0;I<16;++I)N[I]=Q[I]}function Le(N){var X,Q,I=1;for(X=0;X<16;++X)Q=N[X]+I+65535,I=Math.floor(Q/65536),N[X]=Q-I*65536;N[0]+=I-1+37*(I-1)}function qe(N,X,Q){for(var I,K=~(Q-1),oe=0;oe<16;++oe)I=K&(N[oe]^X[oe]),N[oe]^=I,X[oe]^=I}function Ce(N){var X,Q=new Float64Array(16);if(N)for(X=0;X<N.length;++X)Q[X]=N[X];return Q}function We(N,X,Q){for(var I=0;I<16;++I)N[I]=X[I]+Q[I]}function Te(N,X,Q){for(var I=0;I<16;++I)N[I]=X[I]-Q[I]}function et(N,X){Je(N,X,X)}function Je(N,X,Q){var I,K,oe=0,te=0,we=0,Ue=0,je=0,ge=0,Pe=0,Ke=0,rt=0,$e=0,Bt=0,Ct=0,Tt=0,Lt=0,Ot=0,Nt=0,$t=0,Xt=0,Ht=0,Kt=0,lr=0,Cr=0,gr=0,qr=0,un=0,Qr=0,Yr=0,_n=0,li=0,Mr=0,Nn=0,xt=Q[0],Dt=Q[1],Jt=Q[2],jt=Q[3],Wt=Q[4],Zt=Q[5],Gt=Q[6],Qt=Q[7],rr=Q[8],nr=Q[9],ir=Q[10],er=Q[11],or=Q[12],cr=Q[13],zt=Q[14],tr=Q[15];I=X[0],oe+=I*xt,te+=I*Dt,we+=I*Jt,Ue+=I*jt,je+=I*Wt,ge+=I*Zt,Pe+=I*Gt,Ke+=I*Qt,rt+=I*rr,$e+=I*nr,Bt+=I*ir,Ct+=I*er,Tt+=I*or,Lt+=I*cr,Ot+=I*zt,Nt+=I*tr,I=X[1],te+=I*xt,we+=I*Dt,Ue+=I*Jt,je+=I*jt,ge+=I*Wt,Pe+=I*Zt,Ke+=I*Gt,rt+=I*Qt,$e+=I*rr,Bt+=I*nr,Ct+=I*ir,Tt+=I*er,Lt+=I*or,Ot+=I*cr,Nt+=I*zt,$t+=I*tr,I=X[2],we+=I*xt,Ue+=I*Dt,je+=I*Jt,ge+=I*jt,Pe+=I*Wt,Ke+=I*Zt,rt+=I*Gt,$e+=I*Qt,Bt+=I*rr,Ct+=I*nr,Tt+=I*ir,Lt+=I*er,Ot+=I*or,Nt+=I*cr,$t+=I*zt,Xt+=I*tr,I=X[3],Ue+=I*xt,je+=I*Dt,ge+=I*Jt,Pe+=I*jt,Ke+=I*Wt,rt+=I*Zt,$e+=I*Gt,Bt+=I*Qt,Ct+=I*rr,Tt+=I*nr,Lt+=I*ir,Ot+=I*er,Nt+=I*or,$t+=I*cr,Xt+=I*zt,Ht+=I*tr,I=X[4],je+=I*xt,ge+=I*Dt,Pe+=I*Jt,Ke+=I*jt,rt+=I*Wt,$e+=I*Zt,Bt+=I*Gt,Ct+=I*Qt,Tt+=I*rr,Lt+=I*nr,Ot+=I*ir,Nt+=I*er,$t+=I*or,Xt+=I*cr,Ht+=I*zt,Kt+=I*tr,I=X[5],ge+=I*xt,Pe+=I*Dt,Ke+=I*Jt,rt+=I*jt,$e+=I*Wt,Bt+=I*Zt,Ct+=I*Gt,Tt+=I*Qt,Lt+=I*rr,Ot+=I*nr,Nt+=I*ir,$t+=I*er,Xt+=I*or,Ht+=I*cr,Kt+=I*zt,lr+=I*tr,I=X[6],Pe+=I*xt,Ke+=I*Dt,rt+=I*Jt,$e+=I*jt,Bt+=I*Wt,Ct+=I*Zt,Tt+=I*Gt,Lt+=I*Qt,Ot+=I*rr,Nt+=I*nr,$t+=I*ir,Xt+=I*er,Ht+=I*or,Kt+=I*cr,lr+=I*zt,Cr+=I*tr,I=X[7],Ke+=I*xt,rt+=I*Dt,$e+=I*Jt,Bt+=I*jt,Ct+=I*Wt,Tt+=I*Zt,Lt+=I*Gt,Ot+=I*Qt,Nt+=I*rr,$t+=I*nr,Xt+=I*ir,Ht+=I*er,Kt+=I*or,lr+=I*cr,Cr+=I*zt,gr+=I*tr,I=X[8],rt+=I*xt,$e+=I*Dt,Bt+=I*Jt,Ct+=I*jt,Tt+=I*Wt,Lt+=I*Zt,Ot+=I*Gt,Nt+=I*Qt,$t+=I*rr,Xt+=I*nr,Ht+=I*ir,Kt+=I*er,lr+=I*or,Cr+=I*cr,gr+=I*zt,qr+=I*tr,I=X[9],$e+=I*xt,Bt+=I*Dt,Ct+=I*Jt,Tt+=I*jt,Lt+=I*Wt,Ot+=I*Zt,Nt+=I*Gt,$t+=I*Qt,Xt+=I*rr,Ht+=I*nr,Kt+=I*ir,lr+=I*er,Cr+=I*or,gr+=I*cr,qr+=I*zt,un+=I*tr,I=X[10],Bt+=I*xt,Ct+=I*Dt,Tt+=I*Jt,Lt+=I*jt,Ot+=I*Wt,Nt+=I*Zt,$t+=I*Gt,Xt+=I*Qt,Ht+=I*rr,Kt+=I*nr,lr+=I*ir,Cr+=I*er,gr+=I*or,qr+=I*cr,un+=I*zt,Qr+=I*tr,I=X[11],Ct+=I*xt,Tt+=I*Dt,Lt+=I*Jt,Ot+=I*jt,Nt+=I*Wt,$t+=I*Zt,Xt+=I*Gt,Ht+=I*Qt,Kt+=I*rr,lr+=I*nr,Cr+=I*ir,gr+=I*er,qr+=I*or,un+=I*cr,Qr+=I*zt,Yr+=I*tr,I=X[12],Tt+=I*xt,Lt+=I*Dt,Ot+=I*Jt,Nt+=I*jt,$t+=I*Wt,Xt+=I*Zt,Ht+=I*Gt,Kt+=I*Qt,lr+=I*rr,Cr+=I*nr,gr+=I*ir,qr+=I*er,un+=I*or,Qr+=I*cr,Yr+=I*zt,_n+=I*tr,I=X[13],Lt+=I*xt,Ot+=I*Dt,Nt+=I*Jt,$t+=I*jt,Xt+=I*Wt,Ht+=I*Zt,Kt+=I*Gt,lr+=I*Qt,Cr+=I*rr,gr+=I*nr,qr+=I*ir,un+=I*er,Qr+=I*or,Yr+=I*cr,_n+=I*zt,li+=I*tr,I=X[14],Ot+=I*xt,Nt+=I*Dt,$t+=I*Jt,Xt+=I*jt,Ht+=I*Wt,Kt+=I*Zt,lr+=I*Gt,Cr+=I*Qt,gr+=I*rr,qr+=I*nr,un+=I*ir,Qr+=I*er,Yr+=I*or,_n+=I*cr,li+=I*zt,Mr+=I*tr,I=X[15],Nt+=I*xt,$t+=I*Dt,Xt+=I*Jt,Ht+=I*jt,Kt+=I*Wt,lr+=I*Zt,Cr+=I*Gt,gr+=I*Qt,qr+=I*rr,un+=I*nr,Qr+=I*ir,Yr+=I*er,_n+=I*or,li+=I*cr,Mr+=I*zt,Nn+=I*tr,oe+=38*$t,te+=38*Xt,we+=38*Ht,Ue+=38*Kt,je+=38*lr,ge+=38*Cr,Pe+=38*gr,Ke+=38*qr,rt+=38*un,$e+=38*Qr,Bt+=38*Yr,Ct+=38*_n,Tt+=38*li,Lt+=38*Mr,Ot+=38*Nn,K=1,I=oe+K+65535,K=Math.floor(I/65536),oe=I-K*65536,I=te+K+65535,K=Math.floor(I/65536),te=I-K*65536,I=we+K+65535,K=Math.floor(I/65536),we=I-K*65536,I=Ue+K+65535,K=Math.floor(I/65536),Ue=I-K*65536,I=je+K+65535,K=Math.floor(I/65536),je=I-K*65536,I=ge+K+65535,K=Math.floor(I/65536),ge=I-K*65536,I=Pe+K+65535,K=Math.floor(I/65536),Pe=I-K*65536,I=Ke+K+65535,K=Math.floor(I/65536),Ke=I-K*65536,I=rt+K+65535,K=Math.floor(I/65536),rt=I-K*65536,I=$e+K+65535,K=Math.floor(I/65536),$e=I-K*65536,I=Bt+K+65535,K=Math.floor(I/65536),Bt=I-K*65536,I=Ct+K+65535,K=Math.floor(I/65536),Ct=I-K*65536,I=Tt+K+65535,K=Math.floor(I/65536),Tt=I-K*65536,I=Lt+K+65535,K=Math.floor(I/65536),Lt=I-K*65536,I=Ot+K+65535,K=Math.floor(I/65536),Ot=I-K*65536,I=Nt+K+65535,K=Math.floor(I/65536),Nt=I-K*65536,oe+=K-1+37*(K-1),K=1,I=oe+K+65535,K=Math.floor(I/65536),oe=I-K*65536,I=te+K+65535,K=Math.floor(I/65536),te=I-K*65536,I=we+K+65535,K=Math.floor(I/65536),we=I-K*65536,I=Ue+K+65535,K=Math.floor(I/65536),Ue=I-K*65536,I=je+K+65535,K=Math.floor(I/65536),je=I-K*65536,I=ge+K+65535,K=Math.floor(I/65536),ge=I-K*65536,I=Pe+K+65535,K=Math.floor(I/65536),Pe=I-K*65536,I=Ke+K+65535,K=Math.floor(I/65536),Ke=I-K*65536,I=rt+K+65535,K=Math.floor(I/65536),rt=I-K*65536,I=$e+K+65535,K=Math.floor(I/65536),$e=I-K*65536,I=Bt+K+65535,K=Math.floor(I/65536),Bt=I-K*65536,I=Ct+K+65535,K=Math.floor(I/65536),Ct=I-K*65536,I=Tt+K+65535,K=Math.floor(I/65536),Tt=I-K*65536,I=Lt+K+65535,K=Math.floor(I/65536),Lt=I-K*65536,I=Ot+K+65535,K=Math.floor(I/65536),Ot=I-K*65536,I=Nt+K+65535,K=Math.floor(I/65536),Nt=I-K*65536,oe+=K-1+37*(K-1),N[0]=oe,N[1]=te,N[2]=we,N[3]=Ue,N[4]=je,N[5]=ge,N[6]=Pe,N[7]=Ke,N[8]=rt,N[9]=$e,N[10]=Bt,N[11]=Ct,N[12]=Tt,N[13]=Lt,N[14]=Ot,N[15]=Nt}}),yI=Qe((e,n)=>{var t=lt();St(),ui(),gh(),n.exports=t.kem=t.kem||{};var r=t.jsbn.BigInteger;t.kem.rsa={},t.kem.rsa.create=function(s,u){u=u||{};var h=u.prng||t.random,c={};return c.encrypt=function(a,d){var f=Math.ceil(a.n.bitLength()/8),y;do y=new r(t.util.bytesToHex(h.getBytesSync(f)),16).mod(a.n);while(y.compareTo(r.ONE)<=0);y=t.util.hexToBytes(y.toString(16));var A=f-y.length;A>0&&(y=t.util.fillString(String.fromCharCode(0),A)+y);var T=a.encrypt(y,"NONE"),m=s.generate(y,d);return{encapsulation:T,key:m}},c.decrypt=function(a,d,f){var y=a.decrypt(d,"NONE");return s.generate(y,f)},c},t.kem.kdf1=function(s,u){i(this,s,0,u||s.digestLength)},t.kem.kdf2=function(s,u){i(this,s,1,u||s.digestLength)};function i(s,u,h,c){s.generate=function(a,d){for(var f=new t.util.ByteBuffer,y=Math.ceil(d/c)+h,A=new t.util.ByteBuffer,T=h;T<y;++T){A.putInt32(T),u.start(),u.update(a+A.getBytes());var m=u.digest();f.putBytes(m.getBytes(c))}return f.truncate(f.length()-d),f.getBytes()}}}),gI=Qe((e,n)=>{var t=lt();St(),n.exports=t.log=t.log||{},t.log.levels=["none","error","warning","info","debug","verbose","max"];var r={},i=[],s=null;for(t.log.LEVEL_LOCKED=2,t.log.NO_LEVEL_CHECK=4,t.log.INTERPOLATE=8,c=0;c<t.log.levels.length;++c)u=t.log.levels[c],r[u]={index:c,name:u.toUpperCase()};var u,c;for(t.log.logMessage=function(T){for(var m=r[T.level].index,S=0;S<i.length;++S){var B=i[S];if(B.flags&t.log.NO_LEVEL_CHECK)B.f(T);else{var k=r[B.level].index;m<=k&&B.f(B,T)}}},t.log.prepareStandard=function(T){"standard"in T||(T.standard=r[T.level].name+" ["+T.category+"] "+T.message)},t.log.prepareFull=function(T){if(!("full"in T)){var m=[T.message];m=m.concat([]),T.full=t.util.format.apply(this,m)}},t.log.prepareStandardFull=function(T){"standardFull"in T||(t.log.prepareStandard(T),T.standardFull=T.standard)},h=["error","warning","info","debug","verbose"],c=0;c<h.length;++c)(function(T){t.log[T]=function(m,S){var B=Array.prototype.slice.call(arguments).slice(2),k={timestamp:new Date,level:T,category:m,message:S,arguments:B};t.log.logMessage(k)}})(h[c]);var h,c;t.log.makeLogger=function(T){var m={flags:0,f:T};return t.log.setLevel(m,"none"),m},t.log.setLevel=function(T,m){var S=!1;if(T&&!(T.flags&t.log.LEVEL_LOCKED))for(var B=0;B<t.log.levels.length;++B){var k=t.log.levels[B];if(m==k){T.level=m,S=!0;break}}return S},t.log.lock=function(T,m){typeof m>"u"||m?T.flags|=t.log.LEVEL_LOCKED:T.flags&=~t.log.LEVEL_LOCKED},t.log.addLogger=function(T){i.push(T)},typeof console<"u"&&"log"in console?(console.error&&console.warn&&console.info&&console.debug?(d={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},f=function(T,m){t.log.prepareStandard(m);var S=d[m.level],B=[m.standard];B=B.concat(m.arguments.slice()),S.apply(console,B)},a=t.log.makeLogger(f)):(f=function(T,m){t.log.prepareStandardFull(m),console.log(m.standardFull)},a=t.log.makeLogger(f)),t.log.setLevel(a,"debug"),t.log.addLogger(a),s=a):console={log:function(){}};var a,d,f;s!==null&&typeof window<"u"&&window.location&&(y=new URL(window.location.href).searchParams,y.has("console.level")&&t.log.setLevel(s,y.get("console.level").slice(-1)[0]),y.has("console.lock")&&(A=y.get("console.lock").slice(-1)[0],A=="true"&&t.log.lock(s)));var y,A;t.log.consoleLogger=s}),mI=Qe((e,n)=>{n.exports=fo(),Zp(),Qu(),_b(),Ob()}),vI=Qe((e,n)=>{var t=lt();Pa(),ki(),yh(),La(),Bs(),Rb(),ui(),St(),r0();var r=t.asn1,i=n.exports=t.pkcs7=t.pkcs7||{};i.messageFromPem=function(m){var S=t.pem.decode(m)[0];if(S.type!=="PKCS7"){var B=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw B.headerType=S.type,B}if(S.procType&&S.procType.type==="ENCRYPTED")throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var k=r.fromDer(S.body);return i.messageFromAsn1(k)},i.messageToPem=function(m,S){var B={type:"PKCS7",body:r.toDer(m.toAsn1()).getBytes()};return t.pem.encode(B,{maxline:S})},i.messageFromAsn1=function(m){var S={},B=[];if(!r.validate(m,i.asn1.contentInfoValidator,S,B)){var k=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw k.errors=B,k}var p=r.derToOid(S.contentType),R;switch(p){case t.pki.oids.envelopedData:R=i.createEnvelopedData();break;case t.pki.oids.encryptedData:R=i.createEncryptedData();break;case t.pki.oids.signedData:R=i.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+p+" is not (yet) supported.")}return R.fromAsn1(S.content.value[0]),R},i.createSignedData=function(){var m=null;return m={type:t.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(k){if(A(m,k,i.asn1.signedDataValidator),m.certificates=[],m.crls=[],m.digestAlgorithmIdentifiers=[],m.contentInfo=null,m.signerInfos=[],m.rawCapture.certificates)for(var p=m.rawCapture.certificates.value,R=0;R<p.length;++R)m.certificates.push(t.pki.certificateFromAsn1(p[R]))},toAsn1:function(){m.contentInfo||m.sign();for(var k=[],p=0;p<m.certificates.length;++p)k.push(t.pki.certificateToAsn1(m.certificates[p]));var R=[],E=r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(m.version).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SET,!0,m.digestAlgorithmIdentifiers),m.contentInfo])]);return k.length>0&&E.value[0].value.push(r.create(r.Class.CONTEXT_SPECIFIC,0,!0,k)),R.length>0&&E.value[0].value.push(r.create(r.Class.CONTEXT_SPECIFIC,1,!0,R)),E.value[0].value.push(r.create(r.Class.UNIVERSAL,r.Type.SET,!0,m.signerInfos)),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(m.type).getBytes()),E])},addSigner:function(k){var p=k.issuer,R=k.serialNumber;if(k.certificate){var E=k.certificate;typeof E=="string"&&(E=t.pki.certificateFromPem(E)),p=E.issuer.attributes,R=E.serialNumber}var P=k.key;if(!P)throw new Error("Could not add PKCS#7 signer; no private key specified.");typeof P=="string"&&(P=t.pki.privateKeyFromPem(P));var D=k.digestAlgorithm||t.pki.oids.sha1;switch(D){case t.pki.oids.sha1:case t.pki.oids.sha256:case t.pki.oids.sha384:case t.pki.oids.sha512:case t.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+D)}var C=k.authenticatedAttributes||[];if(C.length>0){for(var v=!1,g=!1,M=0;M<C.length;++M){var V=C[M];if(!v&&V.type===t.pki.oids.contentType){if(v=!0,g)break;continue}if(!g&&V.type===t.pki.oids.messageDigest){if(g=!0,v)break;continue}}if(!v||!g)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}m.signers.push({key:P,version:1,issuer:p,serialNumber:R,digestAlgorithm:D,signatureAlgorithm:t.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:C,unauthenticatedAttributes:[]})},sign:function(k){if(k=k||{},(typeof m.content!="object"||m.contentInfo===null)&&(m.contentInfo=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(t.pki.oids.data).getBytes())]),"content"in m)){var p;m.content instanceof t.util.ByteBuffer?p=m.content.bytes():typeof m.content=="string"&&(p=t.util.encodeUtf8(m.content)),k.detached?m.detachedContent=r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,p):m.contentInfo.value.push(r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,p)]))}if(m.signers.length!==0){var R=S();B(R)}},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(k){typeof k=="string"&&(k=t.pki.certificateFromPem(k)),m.certificates.push(k)},addCertificateRevokationList:function(k){throw new Error("PKCS#7 CRL support not yet implemented.")}},m;function S(){for(var k={},p=0;p<m.signers.length;++p){var R=m.signers[p],E=R.digestAlgorithm;E in k||(k[E]=t.md[t.pki.oids[E]].create()),R.authenticatedAttributes.length===0?R.md=k[E]:R.md=t.md[t.pki.oids[E]].create()}m.digestAlgorithmIdentifiers=[];for(var E in k)m.digestAlgorithmIdentifiers.push(r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(E).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")]));return k}function B(k){var p;if(m.detachedContent?p=m.detachedContent:(p=m.contentInfo.value[1],p=p.value[0]),!p)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var R=r.derToOid(m.contentInfo.value[0].value),E=r.toDer(p);E.getByte(),r.getBerValueLength(E),E=E.getBytes();for(var P in k)k[P].start().update(E);for(var D=new Date,C=0;C<m.signers.length;++C){var v=m.signers[C];if(v.authenticatedAttributes.length===0){if(R!==t.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{v.authenticatedAttributesAsn1=r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var g=r.create(r.Class.UNIVERSAL,r.Type.SET,!0,[]),M=0;M<v.authenticatedAttributes.length;++M){var V=v.authenticatedAttributes[M];V.type===t.pki.oids.messageDigest?V.value=k[v.digestAlgorithm].digest():V.type===t.pki.oids.signingTime&&(V.value||(V.value=D)),g.value.push(f(V)),v.authenticatedAttributesAsn1.value.push(f(V))}E=r.toDer(g).getBytes(),v.md.start().update(E)}v.signature=v.key.sign(v.md,"RSASSA-PKCS1-V1_5")}m.signerInfos=d(m.signers)}},i.createEncryptedData=function(){var m=null;return m={type:t.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:t.pki.oids["aes256-CBC"]},fromAsn1:function(S){A(m,S,i.asn1.encryptedDataValidator)},decrypt:function(S){S!==void 0&&(m.encryptedContent.key=S),T(m)}},m},i.createEnvelopedData=function(){var m=null;return m={type:t.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:t.pki.oids["aes256-CBC"]},fromAsn1:function(S){var B=A(m,S,i.asn1.envelopedDataValidator);m.recipients=h(B.recipientInfos.value)},toAsn1:function(){return r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(m.type).getBytes()),r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(m.version).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SET,!0,c(m.recipients)),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,y(m.encryptedContent))])])])},findRecipient:function(S){for(var B=S.issuer.attributes,k=0;k<m.recipients.length;++k){var p=m.recipients[k],R=p.issuer;if(p.serialNumber===S.serialNumber&&R.length===B.length){for(var E=!0,P=0;P<B.length;++P)if(R[P].type!==B[P].type||R[P].value!==B[P].value){E=!1;break}if(E)return p}}return null},decrypt:function(S,B){if(m.encryptedContent.key===void 0&&S!==void 0&&B!==void 0)switch(S.encryptedContent.algorithm){case t.pki.oids.rsaEncryption:case t.pki.oids.desCBC:var k=B.decrypt(S.encryptedContent.content);m.encryptedContent.key=t.util.createBuffer(k);break;default:throw new Error("Unsupported asymmetric cipher, OID "+S.encryptedContent.algorithm)}T(m)},addRecipient:function(S){m.recipients.push({version:0,issuer:S.issuer.attributes,serialNumber:S.serialNumber,encryptedContent:{algorithm:t.pki.oids.rsaEncryption,key:S.publicKey}})},encrypt:function(S,B){if(m.encryptedContent.content===void 0){B=B||m.encryptedContent.algorithm,S=S||m.encryptedContent.key;var k,p,R;switch(B){case t.pki.oids["aes128-CBC"]:k=16,p=16,R=t.aes.createEncryptionCipher;break;case t.pki.oids["aes192-CBC"]:k=24,p=16,R=t.aes.createEncryptionCipher;break;case t.pki.oids["aes256-CBC"]:k=32,p=16,R=t.aes.createEncryptionCipher;break;case t.pki.oids["des-EDE3-CBC"]:k=24,p=8,R=t.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+B)}if(S===void 0)S=t.util.createBuffer(t.random.getBytes(k));else if(S.length()!=k)throw new Error("Symmetric key has wrong length; got "+S.length()+" bytes, expected "+k+".");m.encryptedContent.algorithm=B,m.encryptedContent.key=S,m.encryptedContent.parameter=t.util.createBuffer(t.random.getBytes(p));var E=R(S);if(E.start(m.encryptedContent.parameter.copy()),E.update(m.content),!E.finish())throw new Error("Symmetric encryption failed.");m.encryptedContent.content=E.output}for(var P=0;P<m.recipients.length;++P){var D=m.recipients[P];if(D.encryptedContent.content===void 0)switch(D.encryptedContent.algorithm){case t.pki.oids.rsaEncryption:D.encryptedContent.content=D.encryptedContent.key.encrypt(m.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+D.encryptedContent.algorithm)}}}},m};function s(m){var S={},B=[];if(!r.validate(m,i.asn1.recipientInfoValidator,S,B)){var k=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw k.errors=B,k}return{version:S.version.charCodeAt(0),issuer:t.pki.RDNAttributesAsArray(S.issuer),serialNumber:t.util.createBuffer(S.serial).toHex(),encryptedContent:{algorithm:r.derToOid(S.encAlgorithm),parameter:S.encParameter?S.encParameter.value:void 0,content:S.encKey}}}function u(m){return r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(m.version).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[t.pki.distinguishedNameToAsn1({attributes:m.issuer}),r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,t.util.hexToBytes(m.serialNumber))]),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(m.encryptedContent.algorithm).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")]),r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,m.encryptedContent.content)])}function h(m){for(var S=[],B=0;B<m.length;++B)S.push(s(m[B]));return S}function c(m){for(var S=[],B=0;B<m.length;++B)S.push(u(m[B]));return S}function a(m){var S=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(m.version).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[t.pki.distinguishedNameToAsn1({attributes:m.issuer}),r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,t.util.hexToBytes(m.serialNumber))]),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(m.digestAlgorithm).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")])]);if(m.authenticatedAttributesAsn1&&S.value.push(m.authenticatedAttributesAsn1),S.value.push(r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(m.signatureAlgorithm).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")])),S.value.push(r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,m.signature)),m.unauthenticatedAttributes.length>0){for(var B=r.create(r.Class.CONTEXT_SPECIFIC,1,!0,[]),k=0;k<m.unauthenticatedAttributes.length;++k){var p=m.unauthenticatedAttributes[k];B.values.push(f(p))}S.value.push(B)}return S}function d(m){for(var S=[],B=0;B<m.length;++B)S.push(a(m[B]));return S}function f(m){var S;if(m.type===t.pki.oids.contentType)S=r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(m.value).getBytes());else if(m.type===t.pki.oids.messageDigest)S=r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,m.value.bytes());else if(m.type===t.pki.oids.signingTime){var B=new Date("1950-01-01T00:00:00Z"),k=new Date("2050-01-01T00:00:00Z"),p=m.value;if(typeof p=="string"){var R=Date.parse(p);isNaN(R)?p.length===13?p=r.utcTimeToDate(p):p=r.generalizedTimeToDate(p):p=new Date(R)}p>=B&&p<k?S=r.create(r.Class.UNIVERSAL,r.Type.UTCTIME,!1,r.dateToUtcTime(p)):S=r.create(r.Class.UNIVERSAL,r.Type.GENERALIZEDTIME,!1,r.dateToGeneralizedTime(p))}return r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(m.type).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SET,!0,[S])])}function y(m){return[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(t.pki.oids.data).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(m.algorithm).getBytes()),m.parameter?r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,m.parameter.getBytes()):void 0]),r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,m.content.getBytes())])]}function A(m,S,B){var k={},p=[];if(!r.validate(S,B,k,p)){var R=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw R.errors=R,R}var E=r.derToOid(k.contentType);if(E!==t.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(k.encryptedContent){var P="";if(t.util.isArray(k.encryptedContent))for(var D=0;D<k.encryptedContent.length;++D){if(k.encryptedContent[D].type!==r.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");P+=k.encryptedContent[D].value}else P=k.encryptedContent;m.encryptedContent={algorithm:r.derToOid(k.encAlgorithm),parameter:t.util.createBuffer(k.encParameter.value),content:t.util.createBuffer(P)}}if(k.content){var P="";if(t.util.isArray(k.content))for(var D=0;D<k.content.length;++D){if(k.content[D].type!==r.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");P+=k.content[D].value}else P=k.content;m.content=t.util.createBuffer(P)}return m.version=k.version.charCodeAt(0),m.rawCapture=k,k}function T(m){if(m.encryptedContent.key===void 0)throw new Error("Symmetric key not available.");if(m.content===void 0){var S;switch(m.encryptedContent.algorithm){case t.pki.oids["aes128-CBC"]:case t.pki.oids["aes192-CBC"]:case t.pki.oids["aes256-CBC"]:S=t.aes.createDecryptionCipher(m.encryptedContent.key);break;case t.pki.oids.desCBC:case t.pki.oids["des-EDE3-CBC"]:S=t.des.createDecryptionCipher(m.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+m.encryptedContent.algorithm)}if(S.start(m.encryptedContent.parameter),S.update(m.encryptedContent.content),!S.finish())throw new Error("Symmetric decryption failed.");m.content=S.output}}}),bI=Qe((e,n)=>{var t=lt();Pa(),Gu(),Zp(),Qu(),St();var r=n.exports=t.ssh=t.ssh||{};r.privateKeyToPutty=function(h,c,a){a=a||"",c=c||"";var d="ssh-rsa",f=c===""?"none":"aes256-cbc",y="PuTTY-User-Key-File-2: "+d+`\r
`;y+="Encryption: "+f+`\r
`,y+="Comment: "+a+`\r
`;var A=t.util.createBuffer();s(A,d),i(A,h.e),i(A,h.n);var T=t.util.encode64(A.bytes(),64),m=Math.floor(T.length/66)+1;y+="Public-Lines: "+m+`\r
`,y+=T;var S=t.util.createBuffer();i(S,h.d),i(S,h.p),i(S,h.q),i(S,h.qInv);var B;if(!c)B=t.util.encode64(S.bytes(),64);else{var k=S.length()+16-1;k-=k%16;var p=u(S.bytes());p.truncate(p.length()-k+S.length()),S.putBuffer(p);var R=t.util.createBuffer();R.putBuffer(u("\0\0\0\0",c)),R.putBuffer(u("\0\0\0",c));var E=t.aes.createEncryptionCipher(R.truncate(8),"CBC");E.start(t.util.createBuffer().fillWithByte(0,16)),E.update(S.copy()),E.finish();var P=E.output;P.truncate(16),B=t.util.encode64(P.bytes(),64)}m=Math.floor(B.length/66)+1,y+=`\r
Private-Lines: `+m+`\r
`,y+=B;var D=u("putty-private-key-file-mac-key",c),C=t.util.createBuffer();s(C,d),s(C,f),s(C,a),C.putInt32(A.length()),C.putBuffer(A),C.putInt32(S.length()),C.putBuffer(S);var v=t.hmac.create();return v.start("sha1",D),v.update(C.bytes()),y+=`\r
Private-MAC: `+v.digest().toHex()+`\r
`,y},r.publicKeyToOpenSSH=function(h,c){var a="ssh-rsa";c=c||"";var d=t.util.createBuffer();return s(d,a),i(d,h.e),i(d,h.n),a+" "+t.util.encode64(d.bytes())+" "+c},r.privateKeyToOpenSSH=function(h,c){return c?t.pki.encryptRsaPrivateKey(h,c,{legacy:!0,algorithm:"aes128"}):t.pki.privateKeyToPem(h)},r.getPublicKeyFingerprint=function(h,c){c=c||{};var a=c.md||t.md.md5.create(),d="ssh-rsa",f=t.util.createBuffer();s(f,d),i(f,h.e),i(f,h.n),a.start(),a.update(f.getBytes());var y=a.digest();if(c.encoding==="hex"){var A=y.toHex();return c.delimiter?A.match(/.{2}/g).join(c.delimiter):A}else{if(c.encoding==="binary")return y.getBytes();if(c.encoding)throw new Error('Unknown encoding "'+c.encoding+'".')}return y};function i(h,c){var a=c.toString(16);a[0]>="8"&&(a="00"+a);var d=t.util.hexToBytes(a);h.putInt32(d.length),h.putBytes(d)}function s(h,c){h.putInt32(c.length),h.putString(c)}function u(){for(var h=t.md.sha1.create(),c=arguments.length,a=0;a<c;++a)h.update(arguments[a]);return h.digest()}}),Pb=Qe((e,n)=>{n.exports=lt(),Pa(),fI(),ki(),Jp(),yh(),pI(),Gu(),yI(),gI(),mI(),Ab(),e0(),Bs(),Sb(),Ib(),vI(),kb(),Cb(),wb(),t0(),ui(),Eb(),bI(),Bb(),St()});function _I(e,n){return Lb(n,(t,r)=>`${e}/${r}`)}function Lb(e,n=(t,r)=>`${t}: ${r}`){return Object.entries(e).reduce((t,[r,i])=>(t[r]=n(r,i),t),{})}var Du={Itero:"https://itero.plasmo.com"},wI={Base:"/api/chrome-policy",Hash:"/api/chrome-policy/hash"},qk=_I(Du.Itero,wI),Mk=ks(rI(),1),rv=65536;async function*Ud(e,n=!0){for(let t of e)if("stream"in t)yield*t.stream();else if(ArrayBuffer.isView(t))if(n){let r=t.byteOffset,i=t.byteOffset+t.byteLength;for(;r!==i;){let s=Math.min(i-r,rv),u=t.buffer.slice(r,r+s);r+=u.byteLength,yield new Uint8Array(u)}}else yield t;else{let r=0,i=t;for(;r!==i.size;){let s=await i.slice(r,Math.min(i.size,r+rv)).arrayBuffer();r+=s.byteLength,yield new Uint8Array(s)}}}var Nb=class np{#e=[];#r="";#t=0;#n="transparent";constructor(n=[],t={}){if(typeof n!="object"||n===null)throw new TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if(typeof n[Symbol.iterator]!="function")throw new TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if(typeof t!="object"&&typeof t!="function")throw new TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");t===null&&(t={});let r=new TextEncoder;for(let s of n){let u;ArrayBuffer.isView(s)?u=new Uint8Array(s.buffer.slice(s.byteOffset,s.byteOffset+s.byteLength)):s instanceof ArrayBuffer?u=new Uint8Array(s.slice(0)):s instanceof np?u=s:u=r.encode(`${s}`),this.#t+=ArrayBuffer.isView(u)?u.byteLength:u.size,this.#e.push(u)}this.#n=`${t.endings===void 0?"transparent":t.endings}`;let i=t.type===void 0?"":String(t.type);this.#r=/^[\x20-\x7E]*$/.test(i)?i:""}get size(){return this.#t}get type(){return this.#r}async text(){let n=new TextDecoder,t="";for await(let r of Ud(this.#e,!1))t+=n.decode(r,{stream:!0});return t+=n.decode(),t}async arrayBuffer(){let n=new Uint8Array(this.size),t=0;for await(let r of Ud(this.#e,!1))n.set(r,t),t+=r.length;return n.buffer}stream(){let n=Ud(this.#e,!0);return new globalThis.ReadableStream({type:"bytes",async pull(t){let r=await n.next();r.done?t.close():t.enqueue(r.value)},async cancel(){await n.return()}})}slice(n=0,t=this.size,r=""){let{size:i}=this,s=n<0?Math.max(i+n,0):Math.min(n,i),u=t<0?Math.max(i+t,0):Math.min(t,i),h=Math.max(u-s,0),c=this.#e,a=[],d=0;for(let y of c){if(d>=h)break;let A=ArrayBuffer.isView(y)?y.byteLength:y.size;if(s&&A<=s)s-=A,u-=A;else{let T;ArrayBuffer.isView(y)?(T=y.subarray(s,Math.min(A,u)),d+=T.byteLength):(T=y.slice(s,Math.min(A,u)),d+=T.size),u-=A,a.push(T),s=0}}let f=new np([],{type:String(r).toLowerCase()});return f.#t=h,f.#e=a,f}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](n){return n&&typeof n=="object"&&typeof n.constructor=="function"&&(typeof n.stream=="function"||typeof n.arrayBuffer=="function")&&/^(Blob|File)$/.test(n[Symbol.toStringTag])}};Object.defineProperties(Nb.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});var EI=Nb,Ic=EI,SI=(0,G5.createRequire)("/"),CI;try{CI=SI("worker_threads").Worker}catch{}var dr=Uint8Array,bn=Uint16Array,vh=Uint32Array,bh=new dr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),_h=new dr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),ip=new dr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ub=function(e,n){for(var t=new bn(31),r=0;r<31;++r)t[r]=n+=1<<e[r-1];for(var i=new vh(t[30]),r=1;r<30;++r)for(var s=t[r];s<t[r+1];++s)i[s]=s-t[r]<<5|r;return[t,i]},xb=Ub(bh,2),Db=xb[0],op=xb[1];Db[28]=258,op[258]=28;var jb=Ub(_h,0),TI=jb[0],nv=jb[1],ap=new bn(32768);for(kt=0;kt<32768;++kt)ro=(kt&43690)>>>1|(kt&21845)<<1,ro=(ro&52428)>>>2|(ro&13107)<<2,ro=(ro&61680)>>>4|(ro&3855)<<4,ap[kt]=((ro&65280)>>>8|(ro&255)<<8)>>>1;var ro,kt,Ai=function(e,n,t){for(var r=e.length,i=0,s=new bn(n);i<r;++i)e[i]&&++s[e[i]-1];var u=new bn(n);for(i=0;i<n;++i)u[i]=u[i-1]+s[i-1]<<1;var h;if(t){h=new bn(1<<n);var c=15-n;for(i=0;i<r;++i)if(e[i])for(var a=i<<4|e[i],d=n-e[i],f=u[e[i]-1]++<<d,y=f|(1<<d)-1;f<=y;++f)h[ap[f]>>>c]=a}else for(h=new bn(r),i=0;i<r;++i)e[i]&&(h[i]=ap[u[e[i]-1]++]>>>15-e[i]);return h},$o=new dr(288);for(kt=0;kt<144;++kt)$o[kt]=8;var kt;for(kt=144;kt<256;++kt)$o[kt]=9;var kt;for(kt=256;kt<280;++kt)$o[kt]=7;var kt;for(kt=280;kt<288;++kt)$o[kt]=8;var kt,ju=new dr(32);for(kt=0;kt<32;++kt)ju[kt]=5;var kt,RI=Ai($o,9,0),AI=Ai($o,9,1),II=Ai(ju,5,0),kI=Ai(ju,5,1),xd=function(e){for(var n=e[0],t=1;t<e.length;++t)e[t]>n&&(n=e[t]);return n},ti=function(e,n,t){var r=n/8|0;return(e[r]|e[r+1]<<8)>>(n&7)&t},Dd=function(e,n){var t=n/8|0;return(e[t]|e[t+1]<<8|e[t+2]<<16)>>(n&7)},n0=function(e){return(e+7)/8|0},Yu=function(e,n,t){(n==null||n<0)&&(n=0),(t==null||t>e.length)&&(t=e.length);var r=new(e.BYTES_PER_ELEMENT==2?bn:e.BYTES_PER_ELEMENT==4?vh:dr)(t-n);return r.set(e.subarray(n,t)),r},BI=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],mn=function(e,n,t){var r=new Error(n||BI[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,mn),!t)throw r;return r},OI=function(e,n,t){var r=e.length;if(!r||t&&t.f&&!t.l)return n||new dr(0);var i=!n||t,s=!t||t.i;t||(t={}),n||(n=new dr(r*3));var u=function(Ce){var We=n.length;if(Ce>We){var Te=new dr(Math.max(We*2,Ce));Te.set(n),n=Te}},h=t.f||0,c=t.p||0,a=t.b||0,d=t.l,f=t.d,y=t.m,A=t.n,T=r*8;do{if(!d){h=ti(e,c,1);var m=ti(e,c+1,3);if(c+=3,m)if(m==1)d=AI,f=kI,y=9,A=5;else if(m==2){var S=ti(e,c,31)+257,B=ti(e,c+10,15)+4,k=S+ti(e,c+5,31)+1;c+=14;for(var p=new dr(k),R=new dr(19),E=0;E<B;++E)R[ip[E]]=ti(e,c+E*3,7);c+=B*3;for(var P=xd(R),D=(1<<P)-1,C=Ai(R,P,1),E=0;E<k;){var v=C[ti(e,c,D)];c+=v&15;var g=v>>>4;if(g<16)p[E++]=g;else{var M=0,V=0;for(g==16?(V=3+ti(e,c,3),c+=2,M=p[E-1]):g==17?(V=3+ti(e,c,7),c+=3):g==18&&(V=11+ti(e,c,127),c+=7);V--;)p[E++]=M}}var q=p.subarray(0,S),w=p.subarray(S);y=xd(q),A=xd(w),d=Ai(q,y,1),f=Ai(w,A,1)}else mn(1);else{var g=n0(c)+4,U=e[g-4]|e[g-3]<<8,j=g+U;if(j>r){s&&mn(0);break}i&&u(a+U),n.set(e.subarray(g,j),a),t.b=a+=U,t.p=c=j*8,t.f=h;continue}if(c>T){s&&mn(0);break}}i&&u(a+131072);for(var L=(1<<y)-1,F=(1<<A)-1,ee=c;;ee=c){var M=d[Dd(e,c)&L],ue=M>>>4;if(c+=M&15,c>T){s&&mn(0);break}if(M||mn(2),ue<256)n[a++]=ue;else if(ue==256){ee=c,d=null;break}else{var se=ue-254;if(ue>264){var E=ue-257,pe=bh[E];se=ti(e,c,(1<<pe)-1)+Db[E],c+=pe}var ke=f[Dd(e,c)&F],Le=ke>>>4;ke||mn(3),c+=ke&15;var w=TI[Le];if(Le>3){var pe=_h[Le];w+=Dd(e,c)&(1<<pe)-1,c+=pe}if(c>T){s&&mn(0);break}i&&u(a+131072);for(var qe=a+se;a<qe;a+=4)n[a]=n[a-w],n[a+1]=n[a+1-w],n[a+2]=n[a+2-w],n[a+3]=n[a+3-w];a=qe}}t.l=d,t.p=ee,t.b=a,t.f=h,d&&(h=1,t.m=y,t.d=f,t.n=A)}while(!h);return a==n.length?n:Yu(n,0,a)},no=function(e,n,t){t<<=n&7;var r=n/8|0;e[r]|=t,e[r+1]|=t>>>8},wu=function(e,n,t){t<<=n&7;var r=n/8|0;e[r]|=t,e[r+1]|=t>>>8,e[r+2]|=t>>>16},jd=function(e,n){for(var t=[],r=0;r<e.length;++r)e[r]&&t.push({s:r,f:e[r]});var i=t.length,s=t.slice();if(!i)return[i0,0];if(i==1){var u=new dr(t[0].s+1);return u[t[0].s]=1,[u,1]}t.sort(function(E,P){return E.f-P.f}),t.push({s:-1,f:25001});var h=t[0],c=t[1],a=0,d=1,f=2;for(t[0]={s:-1,f:h.f+c.f,l:h,r:c};d!=i-1;)h=t[t[a].f<t[f].f?a++:f++],c=t[a!=d&&t[a].f<t[f].f?a++:f++],t[d++]={s:-1,f:h.f+c.f,l:h,r:c};for(var y=s[0].s,r=1;r<i;++r)s[r].s>y&&(y=s[r].s);var A=new bn(y+1),T=sp(t[d-1],A,0);if(T>n){var r=0,m=0,S=T-n,B=1<<S;for(s.sort(function(P,D){return A[D.s]-A[P.s]||P.f-D.f});r<i;++r){var k=s[r].s;if(A[k]>n)m+=B-(1<<T-A[k]),A[k]=n;else break}for(m>>>=S;m>0;){var p=s[r].s;A[p]<n?m-=1<<n-A[p]++-1:++r}for(;r>=0&&m;--r){var R=s[r].s;A[R]==n&&(--A[R],++m)}T=n}return[new dr(A),T]},sp=function(e,n,t){return e.s==-1?Math.max(sp(e.l,n,t+1),sp(e.r,n,t+1)):n[e.s]=t},iv=function(e){for(var n=e.length;n&&!e[--n];);for(var t=new bn(++n),r=0,i=e[0],s=1,u=function(c){t[r++]=c},h=1;h<=n;++h)if(e[h]==i&&h!=n)++s;else{if(!i&&s>2){for(;s>138;s-=138)u(32754);s>2&&(u(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(u(i),--s;s>6;s-=6)u(8304);s>2&&(u(s-3<<5|8208),s=0)}for(;s--;)u(i);s=1,i=e[h]}return[t.subarray(0,r),n]},Eu=function(e,n){for(var t=0,r=0;r<n.length;++r)t+=e[r]*n[r];return t},up=function(e,n,t){var r=t.length,i=n0(n+2);e[i]=r&255,e[i+1]=r>>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var s=0;s<r;++s)e[i+s+4]=t[s];return(i+4+r)*8},ov=function(e,n,t,r,i,s,u,h,c,a,d){no(n,d++,t),++i[256];for(var f=jd(i,15),y=f[0],A=f[1],T=jd(s,15),m=T[0],S=T[1],B=iv(y),k=B[0],p=B[1],R=iv(m),E=R[0],P=R[1],D=new bn(19),C=0;C<k.length;++C)D[k[C]&31]++;for(var C=0;C<E.length;++C)D[E[C]&31]++;for(var v=jd(D,7),g=v[0],M=v[1],V=19;V>4&&!g[ip[V-1]];--V);var q=a+5<<3,w=Eu(i,$o)+Eu(s,ju)+u,U=Eu(i,y)+Eu(s,m)+u+14+3*V+Eu(D,g)+(2*D[16]+3*D[17]+7*D[18]);if(q<=w&&q<=U)return up(n,d,e.subarray(c,c+a));var j,L,F,ee;if(no(n,d,1+(U<w)),d+=2,U<w){j=Ai(y,A,0),L=y,F=Ai(m,S,0),ee=m;var ue=Ai(g,M,0);no(n,d,p-257),no(n,d+5,P-1),no(n,d+10,V-4),d+=14;for(var C=0;C<V;++C)no(n,d+3*C,g[ip[C]]);d+=3*V;for(var se=[k,E],pe=0;pe<2;++pe)for(var ke=se[pe],C=0;C<ke.length;++C){var Le=ke[C]&31;no(n,d,ue[Le]),d+=g[Le],Le>15&&(no(n,d,ke[C]>>>5&127),d+=ke[C]>>>12)}}else j=RI,L=$o,F=II,ee=ju;for(var C=0;C<h;++C)if(r[C]>255){var Le=r[C]>>>18&31;wu(n,d,j[Le+257]),d+=L[Le+257],Le>7&&(no(n,d,r[C]>>>23&31),d+=bh[Le]);var qe=r[C]&31;wu(n,d,F[qe]),d+=ee[qe],qe>3&&(wu(n,d,r[C]>>>5&8191),d+=_h[qe])}else wu(n,d,j[r[C]]),d+=L[r[C]];return wu(n,d,j[256]),d+L[256]},PI=new vh([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),i0=new dr(0),LI=function(e,n,t,r,i,s){var u=e.length,h=new dr(r+u+5*(1+Math.ceil(u/7e3))+i),c=h.subarray(r,h.length-i),a=0;if(!n||u<8)for(var d=0;d<=u;d+=65535){var f=d+65535;f>=u&&(c[a>>3]=s),a=up(c,a+1,e.subarray(d,f))}else{for(var y=PI[n-1],A=y>>>13,T=y&8191,m=(1<<t)-1,S=new bn(32768),B=new bn(m+1),k=Math.ceil(t/3),p=2*k,R=function(I){return(e[I]^e[I+1]<<k^e[I+2]<<p)&m},E=new vh(25e3),P=new bn(288),D=new bn(32),C=0,v=0,d=0,g=0,M=0,V=0;d<u;++d){var q=R(d),w=d&32767,U=B[q];if(S[w]=U,B[q]=w,M<=d){var j=u-d;if((C>7e3||g>24576)&&j>423){a=ov(e,c,0,E,P,D,v,g,V,d-V,a),g=C=v=0,V=d;for(var L=0;L<286;++L)P[L]=0;for(var L=0;L<30;++L)D[L]=0}var F=2,ee=0,ue=T,se=w-U&32767;if(j>2&&q==R(d-se))for(var pe=Math.min(A,j)-1,ke=Math.min(32767,d),Le=Math.min(258,j);se<=ke&&--ue&&w!=U;){if(e[d+F]==e[d+F-se]){for(var qe=0;qe<Le&&e[d+qe]==e[d+qe-se];++qe);if(qe>F){if(F=qe,ee=se,qe>pe)break;for(var Ce=Math.min(se,qe-2),We=0,L=0;L<Ce;++L){var Te=d-se+L+32768&32767,et=S[Te],Je=Te-et+32768&32767;Je>We&&(We=Je,U=Te)}}}w=U,U=S[w],se+=w-U+32768&32767}if(ee){E[g++]=268435456|op[F]<<18|nv[ee];var N=op[F]&31,X=nv[ee]&31;v+=bh[N]+_h[X],++P[257+N],++D[X],M=d+F,++C}else E[g++]=e[d],++P[e[d]]}}a=ov(e,c,s,E,P,D,v,g,V,d-V,a),!s&&a&7&&(a=up(c,a+1,i0))}return Yu(h,0,r+n0(a)+i)},NI=function(){for(var e=new Int32Array(256),n=0;n<256;++n){for(var t=n,r=9;--r;)t=(t&1&&-306674912)^t>>>1;e[n]=t}return e}(),UI=function(){var e=-1;return{p:function(n){for(var t=e,r=0;r<n.length;++r)t=NI[t&255^n[r]]^t>>>8;e=t},d:function(){return~e}}},xI=function(e,n,t,r,i){return LI(e,n.level==null?6:n.level,n.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):12+n.mem,t,r,!i)},qb=function(e,n){var t={};for(var r in e)t[r]=e[r];for(var r in n)t[r]=n[r];return t},Ti=function(e,n){return e[n]|e[n+1]<<8},ni=function(e,n){return(e[n]|e[n+1]<<8|e[n+2]<<16|e[n+3]<<24)>>>0},qd=function(e,n){return ni(e,n)+ni(e,n+4)*4294967296},Dr=function(e,n,t){for(;t;++n)e[n]=t,t>>>=8};function DI(e,n){return xI(e,n||{},0,0)}function jI(e,n){return OI(e,n)}var Mb=function(e,n,t,r){for(var i in e){var s=e[i],u=n+i,h=r;Array.isArray(s)&&(h=qb(r,s[1]),s=s[0]),s instanceof dr?t[u]=[s,h]:(t[u+="/"]=[new dr(0),h],Mb(s,u,t,r))}},av=typeof TextEncoder<"u"&&new TextEncoder,lp=typeof TextDecoder<"u"&&new TextDecoder,qI=0;try{lp.decode(i0,{stream:!0}),qI=1}catch{}var MI=function(e){for(var n="",t=0;;){var r=e[t++],i=(r>127)+(r>223)+(r>239);if(t+i>e.length)return[n,Yu(e,t-1)];i?i==3?(r=((r&15)<<18|(e[t++]&63)<<12|(e[t++]&63)<<6|e[t++]&63)-65536,n+=String.fromCharCode(55296|r>>10,56320|r&1023)):i&1?n+=String.fromCharCode((r&31)<<6|e[t++]&63):n+=String.fromCharCode((r&15)<<12|(e[t++]&63)<<6|e[t++]&63):n+=String.fromCharCode(r)}};function cp(e,n){if(n){for(var t=new dr(e.length),r=0;r<e.length;++r)t[r]=e.charCodeAt(r);return t}if(av)return av.encode(e);for(var i=e.length,s=new dr(e.length+(e.length>>1)),u=0,h=function(f){s[u++]=f},r=0;r<i;++r){if(u+5>s.length){var c=new dr(u+8+(i-r<<1));c.set(s),s=c}var a=e.charCodeAt(r);a<128||n?h(a):a<2048?(h(192|a>>6),h(128|a&63)):a>55295&&a<57344?(a=65536+(a&1047552)|e.charCodeAt(++r)&1023,h(240|a>>18),h(128|a>>12&63),h(128|a>>6&63),h(128|a&63)):(h(224|a>>12),h(128|a>>6&63),h(128|a&63))}return Yu(s,0,u)}function o0(e,n){if(n){for(var t="",r=0;r<e.length;r+=16384)t+=String.fromCharCode.apply(null,e.subarray(r,r+16384));return t}else{if(lp)return lp.decode(e);var i=MI(e),s=i[0],u=i[1];return u.length&&mn(8),s}}var FI=function(e,n){return n+30+Ti(e,n+26)+Ti(e,n+28)},VI=function(e,n,t){var r=Ti(e,n+28),i=o0(e.subarray(n+46,n+46+r),!(Ti(e,n+8)&2048)),s=n+46+r,u=ni(e,n+20),h=t&&u==4294967295?zI(e,s):[u,ni(e,n+24),ni(e,n+42)],c=h[0],a=h[1],d=h[2];return[Ti(e,n+10),c,a,i,s+Ti(e,n+30)+Ti(e,n+32),d]},zI=function(e,n){for(;Ti(e,n)!=1;n+=4+Ti(e,n+2));return[qd(e,n+12),qd(e,n+4),qd(e,n+20)]},hp=function(e){var n=0;if(e)for(var t in e){var r=e[t].length;r>65535&&mn(9),n+=r+4}return n},sv=function(e,n,t,r,i,s,u,h){var c=r.length,a=t.extra,d=h&&h.length,f=hp(a);Dr(e,n,u!=null?33639248:67324752),n+=4,u!=null&&(e[n++]=20,e[n++]=t.os),e[n]=20,n+=2,e[n++]=t.flag<<1|(s<0&&8),e[n++]=i&&8,e[n++]=t.compression&255,e[n++]=t.compression>>8;var y=new Date(t.mtime==null?Date.now():t.mtime),A=y.getFullYear()-1980;if((A<0||A>119)&&mn(10),Dr(e,n,A<<25|y.getMonth()+1<<21|y.getDate()<<16|y.getHours()<<11|y.getMinutes()<<5|y.getSeconds()>>>1),n+=4,s!=-1&&(Dr(e,n,t.crc),Dr(e,n+4,s<0?-s-2:s),Dr(e,n+8,t.size)),Dr(e,n+12,c),Dr(e,n+14,f),n+=16,u!=null&&(Dr(e,n,d),Dr(e,n+6,t.attrs),Dr(e,n+10,u),n+=14),e.set(r,n),n+=c,f)for(var T in a){var m=a[T],S=m.length;Dr(e,n,+T),Dr(e,n+2,S),e.set(m,n+4),n+=4+S}return d&&(e.set(h,n),n+=d),n},$I=function(e,n,t,r,i){Dr(e,n,101010256),Dr(e,n+8,t),Dr(e,n+10,t),Dr(e,n+12,r),Dr(e,n+16,i)};function HI(e,n){n||(n={});var t={},r=[];Mb(e,"",t,n);var i=0,s=0;for(var u in t){var h=t[u],c=h[0],a=h[1],d=a.level==0?0:8,f=cp(u),y=f.length,A=a.comment,T=A&&cp(A),m=T&&T.length,S=hp(a.extra);y>65535&&mn(11);var B=d?DI(c,a):c,k=B.length,p=UI();p.p(c),r.push(qb(a,{size:c.length,crc:p.d(),c:B,f,m:T,u:y!=u.length||T&&A.length!=m,o:i,compression:d})),i+=30+y+S+k,s+=76+2*(y+S)+(m||0)+k}for(var R=new dr(s+22),E=i,P=s-i,D=0;D<r.length;++D){var f=r[D];sv(R,f.o,f,f.f,f.u,f.c.length);var C=30+f.f.length+hp(f.extra);R.set(f.c,f.o+C),sv(R,i,f,f.f,f.u,f.c.length,f.o,f.m),i+=16+C+(f.m?f.m.length:0)}return $I(R,i,r.length,P,E),R}function KI(e,n){for(var t={},r=e.length-22;ni(e,r)!=101010256;--r)(!r||e.length-r>65558)&&mn(13);var i=Ti(e,r+8);if(!i)return{};var s=ni(e,r+16),u=s==4294967295||i==65535;if(u){var h=ni(e,r-12);u=ni(e,h)==101075792,u&&(i=ni(e,h+32),s=ni(e,h+48))}for(var c=n&&n.filter,a=0;a<i;++a){var d=VI(e,s,u),f=d[0],y=d[1],A=d[2],T=d[3],m=d[4],S=d[5],B=FI(e,S);s=m,(!c||c({name:T,size:y,originalSize:A,compression:f}))&&(f?f==8?t[T]=jI(e.subarray(B,B+y),new dr(A)):mn(14,"unknown compression type "+f):t[T]=Yu(e,B,B+y))}return t}var a0={bmp:"image/bmp",gif:"image/gif",jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png"},WI=Object.keys(a0),uv=new Set(WI),GI=Object.values(a0),Fk=new Set(GI);function QI(e){throw new Error("Statement should be unreachable")}var fp="en",dp=!1,pp=!1,kc=!1,YI=!1,XI=!1,Fb=!1,JI=!1,ZI=!1,e8=!1,Md,yp=fp,Mo,zo=typeof self=="object"?self:typeof global=="object"?global:{},Pn;typeof zo.vscode<"u"&&typeof zo.vscode.process<"u"?Pn=zo.vscode.process:typeof process<"u"&&(Pn=process);var Vb=typeof Pn?.versions?.electron=="string",zb=Vb&&Pn?.type==="renderer",Vk=zb&&Pn?.sandboxed;typeof navigator=="object"&&!zb?(Mo=navigator.userAgent,dp=Mo.indexOf("Windows")>=0,pp=Mo.indexOf("Macintosh")>=0,ZI=(Mo.indexOf("Macintosh")>=0||Mo.indexOf("iPad")>=0||Mo.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,kc=Mo.indexOf("Linux")>=0,Fb=!0,Md=navigator.language,yp=Md):typeof Pn=="object"?(dp=Pn.platform==="win32",pp=Pn.platform==="darwin",kc=Pn.platform==="linux",YI=kc&&!!Pn.env.SNAP&&!!Pn.env.SNAP_REVISION,JI=Vb,e8=!!Pn.env.CI||!!Pn.env.BUILD_ARTIFACTSTAGINGDIRECTORY,Md=fp,yp=fp,XI=!0):console.error("Unable to resolve platform.");var $b={[1]:"Mac",[2]:"Linux",[3]:"Windows"};function t8(e){switch(e){case 0:return"Web";case 1:case 2:case 3:return $b[e];default:QI(e)}}var Bc=0;pp?Bc=1:dp?Bc=3:kc&&(Bc=2);var zk=Object.values($b),$k=t8(Bc),Hk=Fb&&typeof zo.importScripts=="function",Ii=Mo,qo=yp,r8;(e=>{function n(){return qo}e.value=n;function t(){return qo.length===2?qo==="en":qo.length>=3?qo[0]==="e"&&qo[1]==="n"&&qo[2]==="-":!1}e.isDefaultVariant=t;function r(){return qo==="en"}e.isDefault=r})(r8||={});var Kk=(()=>{if(typeof zo.postMessage=="function"&&!zo.importScripts){let e=[];zo.addEventListener("message",t=>{if(t.data&&t.data.vscodeScheduleAsyncWork)for(let r=0,i=e.length;r<i;r++){let s=e[r];if(s.id===t.data.vscodeScheduleAsyncWork){e.splice(r,1),s.callback();return}}});let n=0;return t=>{let r=++n;e.push({id:r,callback:t}),zo.postMessage({vscodeScheduleAsyncWork:r},"*")}}return e=>setTimeout(e)})(),n8=!!(Ii&&Ii.indexOf("Chrome")>=0),Wk=!!(Ii&&Ii.indexOf("Firefox")>=0),Gk=!!(!n8&&Ii&&Ii.indexOf("Safari")>=0),Qk=!!(Ii&&Ii.indexOf("Edg/")>=0),Yk=!!(Ii&&Ii.indexOf("Android")>=0),lv=ks(iI()),Hb=class{static read(e,n){return e.readFields(Hb._readField,{sha256_with_rsa:[],sha256_with_ecdsa:[],signed_header_data:null},n)}static _readField(e,n,t){!n||!t||(e===2?n.sha256_with_rsa?.push(Au.read(t,t.readVarint()+t.pos)):e===3?n.sha256_with_ecdsa?.push(Au.read(t,t.readVarint()+t.pos)):e===1e4&&(n.signed_header_data=t.readBytes()))}static write(e,n){if(!(!e||!n)){if(e.sha256_with_rsa)for(var t=0;t<e.sha256_with_rsa.length;t++)n.writeMessage(2,Au.write,e.sha256_with_rsa[t]);if(e.sha256_with_ecdsa)for(t=0;t<e.sha256_with_ecdsa.length;t++)n.writeMessage(3,Au.write,e.sha256_with_ecdsa[t]);e.signed_header_data&&n.writeBytesField(1e4,e.signed_header_data)}}},Au=class{static read(e,n){return e.readFields(Au._readField,{public_key:null,signature:null},n)}static _readField(e,n,t){!n||!t||(e===1?n.public_key=t.readBytes():e===2&&(n.signature=t.readBytes()))}static write(e,n){!e||!n||(e.public_key&&n.writeBytesField(1,e.public_key),e.signature&&n.writeBytesField(2,e.signature))}},Kb=class{static read(e,n){return e.readFields(Kb._readField,{crx_id:null},n)}static _readField(e,n,t){!n||!t||e===1&&(n.crx_id=t.readBytes())}static write(e,n){!e||!n||e.crx_id&&n.writeBytesField(1,e.crx_id)}},i8=16,gp=4,Fd=Buffer.from("Cr24","utf8"),Vd=Buffer.from([3,0,0,0]),o8=Buffer.from("CRX3 SignedData\0","utf8");function a8(e,n){let t=e.binary.public(),r=new lv.default;Kb.write({crx_id:s8(t)},r);let i=Buffer.from(r.finish());r=new lv.default,Hb.write({sha256_with_rsa:[{public_key:t,signature:u8(e.text.private(),i,n)}],signed_header_data:i},r);let s=Buffer.from(r.finish()),u=Fd.length+Vd.length+gp+s.length+n.length,h=Buffer.allocUnsafe(u),c=0;return Fd.copy(h,c),Vd.copy(h,c+=Fd.length),h.writeUInt32LE(s.length,c+=Vd.length),s.copy(h,c+=gp),n.copy(h,c+=s.length),h}function s8(e){return(0,mb.createHash)("sha256").update(e).digest().subarray(0,i8)}function u8(e,n,t){let r=(0,mb.createSign)("RSA-SHA256");r.update(o8);let i=Buffer.allocUnsafe(gp);return i.writeUInt32LE(n.length,0),r.update(i),r.update(n),r.update(t),r.sign(e)}var l8=(e,n)=>a8(e,n),c8=ks(oI()),h8=ks(lI()),f8=ks(Pb()),d8={0:"a",1:"b",2:"c",3:"d",4:"e",5:"f",6:"g",7:"h",8:"i",9:"j",a:"k",b:"l",c:"m",d:"n",e:"o",f:"p",g:"q",h:"r",i:"s",j:"t",k:"u",l:"v",m:"w",n:"x",o:"y",p:"z"},p8=e=>e.replace(/[0-9a-f]/gi,n=>d8[n]),y8=e=>p8(c8.encode(h8.hash(f8.default.util.binary.base64.decode(e)),!0).slice(0,32)),g8=(e,n,t)=>`<?xml version='1.0' encoding='UTF-8'?>
<gupdate xmlns='http://www.google.com/update2/response' protocol='2.0'>
  <app appid='${e}'>
    <updatecheck codebase='${n}' version='${t}' />
  </app>
</gupdate>`,m8=e=>`${Du.Itero}/api/ext/update/${e}`,v8=e=>`${Du.Itero}/api/ext/install/${e}`,b8=ks(Pb()),{pki:lo,asn1:cv}=b8.default,_8=(e="")=>new Promise((n,t)=>{try{if(e){let r=lo.privateKeyFromPem(e),i=lo.rsa.setPublicKey(r.n,r.e);n({privateKey:r,publicKey:i})}else lo.rsa.generateKeyPair({bits:2048,workers:2},(r,i)=>{n(i)})}catch(r){t(r)}}),w8=e=>{let n=lo.privateKeyToAsn1(e),t=lo.wrapRsaPrivateKey(n);return lo.privateKeyInfoToPem(t)},E8=async(e="")=>{let{publicKey:n,privateKey:t}=await _8(e);return{text:{public:()=>{let r=lo.publicKeyToPem(n),i=S8(r);return console.log({publicKey:n,untrimmedKey:r,trimmedKey:i}),i},private:()=>w8(t)},binary:{public:()=>Buffer.from(cv.toDer(lo.publicKeyToAsn1(n)).getBytes(),"binary"),private:()=>Buffer.from(cv.toDer(lo.privateKeyToAsn1(t)).getBytes(),"binary")}}},S8=(e,n=!1)=>{let t=n?"PRIVATE":"PUBLIC";return e.replace(`-----BEGIN ${t} KEY-----`,"").replace(`-----END ${t} KEY-----`,"").replace(/\n|\r/g,"").trim()},C8=(e,n)=>{if(!e.icons)throw new Error("No icons found in manifest");let t=Object.keys(e.icons).reduce((c,a)=>Math.max(c,parseInt(a)),0);if(!t)throw new Error("Invalid icon sizes, must be a number");let r=(0,Wc.normalize)(e.icons[t]),i=(0,Wc.extname)(r).slice(1);if(!uv.has(i))throw new Error("Invalid icon type. Valid types are: "+[...uv].join(", "));let s=a0[i];if(!n[r])throw new Error("Could not find extension icon. Please ensure the icon paths are correct in your manifest.json");let u=Buffer.from(n[r]),h=new Ic([u],{type:s});return{path:r,type:s,blob:h}},zd=/__MSG_(?<tag>.*)__/gm,T8=e=>new Promise((n,t)=>{let r,i=KI(e);if(i["manifest.json"])r=i;else{let u=Object.keys(i),h=u.find(a=>a.endsWith("manifest.json"));if(!h){t(new Error("Cannot locate manifest.json"));return}let c=(0,Wc.dirname)(h);r=u.reduce((a,d)=>{if(d.startsWith(c)){let f=(0,Wc.relative)(c,d);f&&(a[f+(d.endsWith("/")?"/":"")]=i[d])}return a},{})}let s=JSON.parse(o0(r["manifest.json"]));n({unzip:r,manifestData:s})}),R8=class{manifest;displayManifest;iconData;#e;get submitManifest(){return{...this.manifest,...this.displayManifest}}loadManifest=async e=>{let{unzip:n,manifestData:t}=await T8(e);this.#e=n,this.manifest=t,this.displayManifest=this.getDisplayManifest(),this.iconData=C8(this.manifest,n)};getDisplayManifest(){let e={name:this.manifest.name,version:this.manifest.version,description:this.manifest.description||"",version_name:this.manifest.version_name||""};try{if(this.manifest.default_locale){let n=this.manifest.default_locale,t=JSON.parse(o0(this.#e[`_locales/${n}/messages.json`]));e.name=e.name.replace(zd,(r,i)=>t[i].message),e.description=e.description.replace(zd,(r,i)=>t[i].message),e.version_name=e.version_name.replace(zd,(r,i)=>t[i].message)}}catch{throw new Error("default_locale is defined, but no locale data is found")}return e}#r;#t;loadKey=async e=>{if(!e)throw new Error("Missing private key?!");this.#r=await E8(e);let n=this.#r.text.public();this.manifest.key=n,this.#t=y8(this.manifest.key),this.manifest.update_url=m8(this.#t)};generateResources=async()=>{if(!this.#r||!this.#t||!this.manifest.key)throw new Error("Key not loaded");this.#e["manifest.json"]=cp(JSON.stringify(this.manifest));let e=Buffer.from(HI(this.#e)),n=l8(this.#r,Buffer.from(e));return{icon:this.iconData.blob,crx:new Ic([n],{type:"application/x-chrome-extension"}),zip:new Ic([e],{type:"application/zip"}),xml:new Ic([g8(this.#t,v8(this.#t),this.manifest.version)],{type:"text/xml"})}}},Wb=typeof globalThis.process<"u"?globalThis.process.argv:[],A8=()=>typeof globalThis.process<"u"?globalThis.process.env:{},I8=new Set(Wb),Gb=e=>I8.has(e),Xk=Wb.filter(e=>e.startsWith("--")&&e.includes("=")).map(e=>e.split("=")).reduce((e,[n,t])=>(e[n]=t,e),{}),Jk=Gb("--dry-run"),Qb=()=>Gb("--verbose")||A8().VERBOSE==="true",Zk=Qb(),k8=(e="",...n)=>console.log(e.padEnd(9),"|",...n),B8=0,O8=(...e)=>Qb()&&k8(`\u{1F7E1} ${B8++}`,...e),P8=async(e,n)=>{let t=Buffer.from(await n.arrayBuffer());return rp.put(e,{headers:{"Content-Type":n.type},body:t})},L8={privateKey:"",token:"",entityId:"",extensionId:""},s0=Lb(L8,e=>`Missing ${e}`),N8=Object.keys(s0),U8=class{options={};constructor(e){for(let n of N8){if(!e[n])throw new Error(s0[n]);this.options[n]=e[n]}}async submit({filePath:e=""}){let n=await(0,zA.readFile)(e),t=new R8;await t.loadManifest(n),await t.loadKey(this.options.privateKey);let{version:r,...i}=await rp.post(`${Du.Itero}/api/submit`,{json:{token:this.options.token,entityId:this.options.entityId,manifest:t.submitManifest,iconContentType:t.iconData.type}}).json();O8(`New version: ${r}`),t.manifest.version=r;let s=await t.generateResources(),u={xml:i.uploadXmlUrl,crx:i.crxFileUrl,zip:i.zipUrl,icon:i.iconUrl};await Promise.all(Object.entries(u).map(([h,c])=>P8(c,s[h]))),await rp.put(`${Du.Itero}/api/submit`,{json:{token:this.options.token,entityId:this.options.entityId,extensionId:this.options.extensionId}})}},qu="itero",x8=uh(qu);function D8(e){return ho(this,null,function*(){var n=e,{zip:t,dryRun:r}=n,i=Qc(n,["zip","dryRun"]);let s=new U8(Gc({},i));if(x8("Updating extension to Itero TestBed"),r)return!0;try{return yield s.submit({filePath:t}),sh({market:qu,zip:t}),!0}catch(u){throw lh(u,qu)}})}function j8(e){return ho(this,null,function*(){return e.zip=Hu(e),e.verbose&&Ku(qu),Wu({market:qu,options:e,errorMap:s0}),D8(e)})}});var ur=uu(Zf()),sn=uu(Xb());var Xu=e=>`${e.padEnd(9)} |`,Zb=e=>e.zip||e.file,Jb=e=>!!Zb(e);function q8(){return $y(this,null,function*(){try{(0,ur.info)("\u{1F7E3} Plasmo Browser Platform Publish v3");let e=JSON.parse((0,ur.getInput)("keys",{required:!0})),n=(0,ur.getInput)("file")||(0,ur.getInput)("zip")||(0,ur.getInput)("artifact"),t=(0,ur.getInput)("version-file"),r=(0,ur.getInput)("notes")||(0,ur.getInput)("edge-notes"),i=!!(0,ur.getInput)("verbose");i&&(console.log=ur.info);let s=Object.keys(e).filter(a=>sn.supportedBrowserSet.has(a));if(s.length===0)throw new Error("No supported browser found");for(let a of s){let d=(0,ur.getInput)(`${a}-file`),f=Zb(e[a]);d?e[a].zip=d:f?e[a].zip=f:n?e[a].zip=n:(0,ur.warning)(`${Xu("\u{1F7E1} SKIP")} No artifact available to submit for ${a}`),i&&(e[a].verbose=i),t&&(e[a].versionFile=t)}if(!s.some(a=>Jb(e[a])))throw new Error("No artifact found for deployment");if(e.edge&&r&&(e.edge.notes=r),process.env.NODE_ENV==="test"){(0,ur.debug)(JSON.stringify({artifact:n,versionFile:t,verbose:i})),(0,ur.debug)(s.join(","));return}let h=s.map(a=>{if(!Jb(e[a]))return!1;switch((0,ur.info)(`${Xu("\u{1F7E1} QUEUE")} Prepare for ${a} submission`),a){case sn.BrowserName.Chrome:return(0,sn.submitChrome)(e[a]);case sn.BrowserName.Firefox:return(0,sn.submitFirefox)(e[a]);case sn.BrowserName.Edge:return(0,sn.submitEdge)(e[a]);case sn.BrowserName.Itero:return(0,sn.submitItero)(e[a])}});(yield Promise.allSettled(h)).forEach((a,d)=>{a.status==="rejected"?(0,ur.setFailed)(`${Xu("\u{1F534} ERROR")} ${a.reason}`):a.value&&(0,ur.info)(`${Xu("\u{1F7E2} DONE")} ${s[d]} submission successful`)})}catch(e){e instanceof Error&&(0,ur.setFailed)(`${Xu("\u{1F534} ERROR")} ${e.message}`)}})}q8();
/*! Bundled license information:

node-domexception/index.js:
  (*! node-domexception. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

lodash/lodash.js:
  (**
   * @license
   * Lodash <https://lodash.com/>
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)

web-streams-polyfill/dist/ponyfill.mjs:
  (**
   * @license
   * web-streams-polyfill v4.0.0-beta.3
   * Copyright 2021 Mattias Buelens, Diwank Singh Tomer and other contributors.
   * This code is released under the MIT license.
   * SPDX-License-Identifier: MIT
   *)

formdata-node/lib/blobHelpers.js:
  (*! Based on fetch-blob. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> & David Frank *)

formdata-node/lib/Blob.js:
  (*! Based on fetch-blob. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> & David Frank *)

@plasmohq/itero-testbed-api/dist/index.js:
  (*! Bundled license information:
  
  ieee754/index.js:
    (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)
  
  fetch-blob/index.js:
    (*! fetch-blob. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> *)
  *)
*/
