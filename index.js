"use strict";var JE=Object.create;var Ul=Object.defineProperty;var eC=Object.getOwnPropertyDescriptor;var tC=Object.getOwnPropertyNames;var rC=Object.getPrototypeOf,nC=Object.prototype.hasOwnProperty;var rn=(e,n)=>()=>(e&&(n=e(e=0)),n);var Pn=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),iC=(e,n)=>{for(var t in n)Ul(e,t,{get:n[t],enumerable:!0})},Cy=(e,n,t,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let a of tC(n))!nC.call(e,a)&&a!==t&&Ul(e,a,{get:()=>n[a],enumerable:!(r=eC(n,a))||r.enumerable});return e};var su=(e,n,t)=>(t=e!=null?JE(rC(e)):{},Cy(n||!e||!e.__esModule?Ul(t,"default",{value:e,enumerable:!0}):t,e)),aC=e=>Cy(Ul({},"__esModule",{value:!0}),e);var Ty=(e,n,t)=>new Promise((r,a)=>{var u=l=>{try{h(t.next(l))}catch(s){a(s)}},c=l=>{try{h(t.throw(l))}catch(s){a(s)}},h=l=>l.done?r(l.value):Promise.resolve(l.value).then(u,c);h((t=t.apply(e,n)).next())});var Dl=Pn(ro=>{"use strict";Object.defineProperty(ro,"__esModule",{value:!0});ro.toCommandProperties=ro.toCommandValue=void 0;function sC(e){return e==null?"":typeof e=="string"||e instanceof String?e:JSON.stringify(e)}ro.toCommandValue=sC;function oC(e){return Object.keys(e).length?{title:e.title,file:e.file,line:e.startLine,endLine:e.endLine,col:e.startColumn,endColumn:e.endColumn}:{}}ro.toCommandProperties=oC});var ky=Pn(Mn=>{"use strict";var uC=Mn&&Mn.__createBinding||(Object.create?function(e,n,t,r){r===void 0&&(r=t),Object.defineProperty(e,r,{enumerable:!0,get:function(){return n[t]}})}:function(e,n,t,r){r===void 0&&(r=t),e[r]=n[t]}),lC=Mn&&Mn.__setModuleDefault||(Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n}),cC=Mn&&Mn.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(e!=null)for(var t in e)t!=="default"&&Object.hasOwnProperty.call(e,t)&&uC(n,e,t);return lC(n,e),n};Object.defineProperty(Mn,"__esModule",{value:!0});Mn.issue=Mn.issueCommand=void 0;var hC=cC(require("os")),Iy=Dl();function Ry(e,n,t){let r=new Cf(e,n,t);process.stdout.write(r.toString()+hC.EOL)}Mn.issueCommand=Ry;function fC(e,n=""){Ry(e,{},n)}Mn.issue=fC;var Ay="::",Cf=class{constructor(n,t,r){n||(n="missing.command"),this.command=n,this.properties=t,this.message=r}toString(){let n=Ay+this.command;if(this.properties&&Object.keys(this.properties).length>0){n+=" ";let t=!0;for(let r in this.properties)if(this.properties.hasOwnProperty(r)){let a=this.properties[r];a&&(t?t=!1:n+=",",n+=`${r}=${pC(a)}`)}}return n+=`${Ay}${dC(this.message)}`,n}};function dC(e){return Iy.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function pC(e){return Iy.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}});function ou(){return jl>Vl.length-16&&(Py.default.randomFillSync(Vl),jl=0),Vl.slice(jl,jl+=16)}var Py,Vl,jl,Tf=rn(()=>{Py=su(require("crypto")),Vl=new Uint8Array(256),jl=Vl.length});var By,Ny=rn(()=>{By=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function yC(e){return typeof e=="string"&&By.test(e)}var ka,uu=rn(()=>{Ny();ka=yC});function gC(e,n=0){let t=(Lr[e[n+0]]+Lr[e[n+1]]+Lr[e[n+2]]+Lr[e[n+3]]+"-"+Lr[e[n+4]]+Lr[e[n+5]]+"-"+Lr[e[n+6]]+Lr[e[n+7]]+"-"+Lr[e[n+8]]+Lr[e[n+9]]+"-"+Lr[e[n+10]]+Lr[e[n+11]]+Lr[e[n+12]]+Lr[e[n+13]]+Lr[e[n+14]]+Lr[e[n+15]]).toLowerCase();if(!ka(t))throw TypeError("Stringified UUID is invalid");return t}var Lr,Pa,lu=rn(()=>{uu();Lr=[];for(let e=0;e<256;++e)Lr.push((e+256).toString(16).substr(1));Pa=gC});function mC(e,n,t){let r=n&&t||0,a=n||new Array(16);e=e||{};let u=e.node||Oy,c=e.clockseq!==void 0?e.clockseq:Af;if(u==null||c==null){let g=e.random||(e.rng||ou)();u==null&&(u=Oy=[g[0]|1,g[1],g[2],g[3],g[4],g[5]]),c==null&&(c=Af=(g[6]<<8|g[7])&16383)}let h=e.msecs!==void 0?e.msecs:Date.now(),l=e.nsecs!==void 0?e.nsecs:Rf+1,s=h-If+(l-Rf)/1e4;if(s<0&&e.clockseq===void 0&&(c=c+1&16383),(s<0||h>If)&&e.nsecs===void 0&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");If=h,Rf=l,Af=c,h+=122192928e5;let d=((h&268435455)*1e4+l)%4294967296;a[r++]=d>>>24&255,a[r++]=d>>>16&255,a[r++]=d>>>8&255,a[r++]=d&255;let f=h/4294967296*1e4&268435455;a[r++]=f>>>8&255,a[r++]=f&255,a[r++]=f>>>24&15|16,a[r++]=f>>>16&255,a[r++]=c>>>8|128,a[r++]=c&255;for(let g=0;g<6;++g)a[r+g]=u[g];return n||Pa(a)}var Oy,Af,If,Rf,xy,Ly=rn(()=>{Tf();lu();If=0,Rf=0;xy=mC});function vC(e){if(!ka(e))throw TypeError("Invalid UUID");let n,t=new Uint8Array(16);return t[0]=(n=parseInt(e.slice(0,8),16))>>>24,t[1]=n>>>16&255,t[2]=n>>>8&255,t[3]=n&255,t[4]=(n=parseInt(e.slice(9,13),16))>>>8,t[5]=n&255,t[6]=(n=parseInt(e.slice(14,18),16))>>>8,t[7]=n&255,t[8]=(n=parseInt(e.slice(19,23),16))>>>8,t[9]=n&255,t[10]=(n=parseInt(e.slice(24,36),16))/1099511627776&255,t[11]=n/4294967296&255,t[12]=n>>>24&255,t[13]=n>>>16&255,t[14]=n>>>8&255,t[15]=n&255,t}var ql,kf=rn(()=>{uu();ql=vC});function bC(e){e=unescape(encodeURIComponent(e));let n=[];for(let t=0;t<e.length;++t)n.push(e.charCodeAt(t));return n}function Fl(e,n,t){function r(a,u,c,h){if(typeof a=="string"&&(a=bC(a)),typeof u=="string"&&(u=ql(u)),u.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let l=new Uint8Array(16+a.length);if(l.set(u),l.set(a,u.length),l=t(l),l[6]=l[6]&15|n,l[8]=l[8]&63|128,c){h=h||0;for(let s=0;s<16;++s)c[h+s]=l[s];return c}return Pa(l)}try{r.name=e}catch{}return r.DNS=_C,r.URL=wC,r}var _C,wC,Pf=rn(()=>{lu();kf();_C="6ba7b810-9dad-11d1-80b4-00c04fd430c8",wC="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function SC(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),Uy.default.createHash("md5").update(e).digest()}var Uy,Dy,jy=rn(()=>{Uy=su(require("crypto"));Dy=SC});var EC,Vy,qy=rn(()=>{Pf();jy();EC=Fl("v3",48,Dy),Vy=EC});function CC(e,n,t){e=e||{};let r=e.random||(e.rng||ou)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,n){t=t||0;for(let a=0;a<16;++a)n[t+a]=r[a];return n}return Pa(r)}var Fy,My=rn(()=>{Tf();lu();Fy=CC});function TC(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),zy.default.createHash("sha1").update(e).digest()}var zy,$y,Ky=rn(()=>{zy=su(require("crypto"));$y=TC});var AC,Hy,Wy=rn(()=>{Pf();Ky();AC=Fl("v5",80,$y),Hy=AC});var Gy,Qy=rn(()=>{Gy="00000000-0000-0000-0000-000000000000"});function IC(e){if(!ka(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}var Yy,Zy=rn(()=>{uu();Yy=IC});var Xy={};iC(Xy,{NIL:()=>Gy,parse:()=>ql,stringify:()=>Pa,v1:()=>xy,v3:()=>Vy,v4:()=>Fy,v5:()=>Hy,validate:()=>ka,version:()=>Yy});var Jy=rn(()=>{Ly();qy();My();Wy();Qy();Zy();uu();lu();kf()});var ng=Pn(zn=>{"use strict";var RC=zn&&zn.__createBinding||(Object.create?function(e,n,t,r){r===void 0&&(r=t),Object.defineProperty(e,r,{enumerable:!0,get:function(){return n[t]}})}:function(e,n,t,r){r===void 0&&(r=t),e[r]=n[t]}),kC=zn&&zn.__setModuleDefault||(Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n}),tg=zn&&zn.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(e!=null)for(var t in e)t!=="default"&&Object.hasOwnProperty.call(e,t)&&RC(n,e,t);return kC(n,e),n};Object.defineProperty(zn,"__esModule",{value:!0});zn.prepareKeyValueMessage=zn.issueFileCommand=void 0;var eg=tg(require("fs")),Bf=tg(require("os")),PC=(Jy(),aC(Xy)),rg=Dl();function BC(e,n){let t=process.env[`GITHUB_${e}`];if(!t)throw new Error(`Unable to find environment variable for file command ${e}`);if(!eg.existsSync(t))throw new Error(`Missing file at path: ${t}`);eg.appendFileSync(t,`${rg.toCommandValue(n)}${Bf.EOL}`,{encoding:"utf8"})}zn.issueFileCommand=BC;function NC(e,n){let t=`ghadelimiter_${PC.v4()}`,r=rg.toCommandValue(n);if(e.includes(t))throw new Error(`Unexpected input: name should not contain the delimiter "${t}"`);if(r.includes(t))throw new Error(`Unexpected input: value should not contain the delimiter "${t}"`);return`${e}<<${t}${Bf.EOL}${r}${Bf.EOL}${t}`}zn.prepareKeyValueMessage=NC});var ag=Pn(no=>{"use strict";Object.defineProperty(no,"__esModule",{value:!0});no.checkBypass=no.getProxyUrl=void 0;function OC(e){let n=e.protocol==="https:";if(ig(e))return;let t=(()=>n?process.env.https_proxy||process.env.HTTPS_PROXY:process.env.http_proxy||process.env.HTTP_PROXY)();if(t)return new URL(t)}no.getProxyUrl=OC;function ig(e){if(!e.hostname)return!1;let n=process.env.no_proxy||process.env.NO_PROXY||"";if(!n)return!1;let t;e.port?t=Number(e.port):e.protocol==="http:"?t=80:e.protocol==="https:"&&(t=443);let r=[e.hostname.toUpperCase()];typeof t=="number"&&r.push(`${r[0]}:${t}`);for(let a of n.split(",").map(u=>u.trim().toUpperCase()).filter(u=>u))if(r.some(u=>u===a))return!0;return!1}no.checkBypass=ig});var lg=Pn(io=>{"use strict";var $R=require("net"),xC=require("tls"),Nf=require("http"),sg=require("https"),LC=require("events"),KR=require("assert"),UC=require("util");io.httpOverHttp=DC;io.httpsOverHttp=jC;io.httpOverHttps=VC;io.httpsOverHttps=qC;function DC(e){var n=new Ji(e);return n.request=Nf.request,n}function jC(e){var n=new Ji(e);return n.request=Nf.request,n.createSocket=og,n.defaultPort=443,n}function VC(e){var n=new Ji(e);return n.request=sg.request,n}function qC(e){var n=new Ji(e);return n.request=sg.request,n.createSocket=og,n.defaultPort=443,n}function Ji(e){var n=this;n.options=e||{},n.proxyOptions=n.options.proxy||{},n.maxSockets=n.options.maxSockets||Nf.Agent.defaultMaxSockets,n.requests=[],n.sockets=[],n.on("free",function(r,a,u,c){for(var h=ug(a,u,c),l=0,s=n.requests.length;l<s;++l){var d=n.requests[l];if(d.host===h.host&&d.port===h.port){n.requests.splice(l,1),d.request.onSocket(r);return}}r.destroy(),n.removeSocket(r)})}UC.inherits(Ji,LC.EventEmitter);Ji.prototype.addRequest=function(n,t,r,a){var u=this,c=Of({request:n},u.options,ug(t,r,a));if(u.sockets.length>=this.maxSockets){u.requests.push(c);return}u.createSocket(c,function(h){h.on("free",l),h.on("close",s),h.on("agentRemove",s),n.onSocket(h);function l(){u.emit("free",h,c)}function s(d){u.removeSocket(h),h.removeListener("free",l),h.removeListener("close",s),h.removeListener("agentRemove",s)}})};Ji.prototype.createSocket=function(n,t){var r=this,a={};r.sockets.push(a);var u=Of({},r.proxyOptions,{method:"CONNECT",path:n.host+":"+n.port,agent:!1,headers:{host:n.host+":"+n.port}});n.localAddress&&(u.localAddress=n.localAddress),u.proxyAuth&&(u.headers=u.headers||{},u.headers["Proxy-Authorization"]="Basic "+new Buffer(u.proxyAuth).toString("base64")),Ba("making CONNECT request");var c=r.request(u);c.useChunkedEncodingByDefault=!1,c.once("response",h),c.once("upgrade",l),c.once("connect",s),c.once("error",d),c.end();function h(f){f.upgrade=!0}function l(f,g,I){process.nextTick(function(){s(f,g,I)})}function s(f,g,I){if(c.removeAllListeners(),g.removeAllListeners(),f.statusCode!==200){Ba("tunneling socket could not be established, statusCode=%d",f.statusCode),g.destroy();var C=new Error("tunneling socket could not be established, statusCode="+f.statusCode);C.code="ECONNRESET",n.request.emit("error",C),r.removeSocket(a);return}if(I.length>0){Ba("got illegal response body from proxy"),g.destroy();var C=new Error("got illegal response body from proxy");C.code="ECONNRESET",n.request.emit("error",C),r.removeSocket(a);return}return Ba("tunneling connection has established"),r.sockets[r.sockets.indexOf(a)]=g,t(g)}function d(f){c.removeAllListeners(),Ba(`tunneling socket could not be established, cause=%s
`,f.message,f.stack);var g=new Error("tunneling socket could not be established, cause="+f.message);g.code="ECONNRESET",n.request.emit("error",g),r.removeSocket(a)}};Ji.prototype.removeSocket=function(n){var t=this.sockets.indexOf(n);if(t!==-1){this.sockets.splice(t,1);var r=this.requests.shift();r&&this.createSocket(r,function(a){r.request.onSocket(a)})}};function og(e,n){var t=this;Ji.prototype.createSocket.call(t,e,function(r){var a=e.request.getHeader("host"),u=Of({},t.options,{socket:r,servername:a?a.replace(/:.*$/,""):e.host}),c=xC.connect(0,u);t.sockets[t.sockets.indexOf(r)]=c,n(c)})}function ug(e,n,t){return typeof e=="string"?{host:e,port:n,localAddress:t}:e}function Of(e){for(var n=1,t=arguments.length;n<t;++n){var r=arguments[n];if(typeof r=="object")for(var a=Object.keys(r),u=0,c=a.length;u<c;++u){var h=a[u];r[h]!==void 0&&(e[h]=r[h])}}return e}var Ba;process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)?Ba=function(){var e=Array.prototype.slice.call(arguments);typeof e[0]=="string"?e[0]="TUNNEL: "+e[0]:e.unshift("TUNNEL:"),console.error.apply(console,e)}:Ba=function(){};io.debug=Ba});var hg=Pn((WR,cg)=>{cg.exports=lg()});var dg=Pn(xt=>{"use strict";var FC=xt&&xt.__createBinding||(Object.create?function(e,n,t,r){r===void 0&&(r=t),Object.defineProperty(e,r,{enumerable:!0,get:function(){return n[t]}})}:function(e,n,t,r){r===void 0&&(r=t),e[r]=n[t]}),MC=xt&&xt.__setModuleDefault||(Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n}),Hl=xt&&xt.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(e!=null)for(var t in e)t!=="default"&&Object.hasOwnProperty.call(e,t)&&FC(n,e,t);return MC(n,e),n},wr=xt&&xt.__awaiter||function(e,n,t,r){function a(u){return u instanceof t?u:new t(function(c){c(u)})}return new(t||(t=Promise))(function(u,c){function h(d){try{s(r.next(d))}catch(f){c(f)}}function l(d){try{s(r.throw(d))}catch(f){c(f)}}function s(d){d.done?u(d.value):a(d.value).then(h,l)}s((r=r.apply(e,n||[])).next())})};Object.defineProperty(xt,"__esModule",{value:!0});xt.HttpClient=xt.isHttps=xt.HttpClientResponse=xt.HttpClientError=xt.getProxyUrl=xt.MediaTypes=xt.Headers=xt.HttpCodes=void 0;var Ml=Hl(require("http")),xf=Hl(require("https")),fg=Hl(ag()),zl=Hl(hg()),Xn;(function(e){e[e.OK=200]="OK",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.ResourceMoved=302]="ResourceMoved",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.SwitchProxy=306]="SwitchProxy",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.TooManyRequests=429]="TooManyRequests",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout"})(Xn=xt.HttpCodes||(xt.HttpCodes={}));var nn;(function(e){e.Accept="accept",e.ContentType="content-type"})(nn=xt.Headers||(xt.Headers={}));var Na;(function(e){e.ApplicationJson="application/json"})(Na=xt.MediaTypes||(xt.MediaTypes={}));function zC(e){let n=fg.getProxyUrl(new URL(e));return n?n.href:""}xt.getProxyUrl=zC;var $C=[Xn.MovedPermanently,Xn.ResourceMoved,Xn.SeeOther,Xn.TemporaryRedirect,Xn.PermanentRedirect],KC=[Xn.BadGateway,Xn.ServiceUnavailable,Xn.GatewayTimeout],HC=["OPTIONS","GET","DELETE","HEAD"],WC=10,GC=5,ao=class extends Error{constructor(n,t){super(n),this.name="HttpClientError",this.statusCode=t,Object.setPrototypeOf(this,ao.prototype)}};xt.HttpClientError=ao;var Kl=class{constructor(n){this.message=n}readBody(){return wr(this,void 0,void 0,function*(){return new Promise(n=>wr(this,void 0,void 0,function*(){let t=Buffer.alloc(0);this.message.on("data",r=>{t=Buffer.concat([t,r])}),this.message.on("end",()=>{n(t.toString())})}))})}};xt.HttpClientResponse=Kl;function QC(e){return new URL(e).protocol==="https:"}xt.isHttps=QC;var Lf=class{constructor(n,t,r){this._ignoreSslError=!1,this._allowRedirects=!0,this._allowRedirectDowngrade=!1,this._maxRedirects=50,this._allowRetries=!1,this._maxRetries=1,this._keepAlive=!1,this._disposed=!1,this.userAgent=n,this.handlers=t||[],this.requestOptions=r,r&&(r.ignoreSslError!=null&&(this._ignoreSslError=r.ignoreSslError),this._socketTimeout=r.socketTimeout,r.allowRedirects!=null&&(this._allowRedirects=r.allowRedirects),r.allowRedirectDowngrade!=null&&(this._allowRedirectDowngrade=r.allowRedirectDowngrade),r.maxRedirects!=null&&(this._maxRedirects=Math.max(r.maxRedirects,0)),r.keepAlive!=null&&(this._keepAlive=r.keepAlive),r.allowRetries!=null&&(this._allowRetries=r.allowRetries),r.maxRetries!=null&&(this._maxRetries=r.maxRetries))}options(n,t){return wr(this,void 0,void 0,function*(){return this.request("OPTIONS",n,null,t||{})})}get(n,t){return wr(this,void 0,void 0,function*(){return this.request("GET",n,null,t||{})})}del(n,t){return wr(this,void 0,void 0,function*(){return this.request("DELETE",n,null,t||{})})}post(n,t,r){return wr(this,void 0,void 0,function*(){return this.request("POST",n,t,r||{})})}patch(n,t,r){return wr(this,void 0,void 0,function*(){return this.request("PATCH",n,t,r||{})})}put(n,t,r){return wr(this,void 0,void 0,function*(){return this.request("PUT",n,t,r||{})})}head(n,t){return wr(this,void 0,void 0,function*(){return this.request("HEAD",n,null,t||{})})}sendStream(n,t,r,a){return wr(this,void 0,void 0,function*(){return this.request(n,t,r,a)})}getJson(n,t={}){return wr(this,void 0,void 0,function*(){t[nn.Accept]=this._getExistingOrDefaultHeader(t,nn.Accept,Na.ApplicationJson);let r=yield this.get(n,t);return this._processResponse(r,this.requestOptions)})}postJson(n,t,r={}){return wr(this,void 0,void 0,function*(){let a=JSON.stringify(t,null,2);r[nn.Accept]=this._getExistingOrDefaultHeader(r,nn.Accept,Na.ApplicationJson),r[nn.ContentType]=this._getExistingOrDefaultHeader(r,nn.ContentType,Na.ApplicationJson);let u=yield this.post(n,a,r);return this._processResponse(u,this.requestOptions)})}putJson(n,t,r={}){return wr(this,void 0,void 0,function*(){let a=JSON.stringify(t,null,2);r[nn.Accept]=this._getExistingOrDefaultHeader(r,nn.Accept,Na.ApplicationJson),r[nn.ContentType]=this._getExistingOrDefaultHeader(r,nn.ContentType,Na.ApplicationJson);let u=yield this.put(n,a,r);return this._processResponse(u,this.requestOptions)})}patchJson(n,t,r={}){return wr(this,void 0,void 0,function*(){let a=JSON.stringify(t,null,2);r[nn.Accept]=this._getExistingOrDefaultHeader(r,nn.Accept,Na.ApplicationJson),r[nn.ContentType]=this._getExistingOrDefaultHeader(r,nn.ContentType,Na.ApplicationJson);let u=yield this.patch(n,a,r);return this._processResponse(u,this.requestOptions)})}request(n,t,r,a){return wr(this,void 0,void 0,function*(){if(this._disposed)throw new Error("Client has already been disposed.");let u=new URL(t),c=this._prepareRequest(n,u,a),h=this._allowRetries&&HC.includes(n)?this._maxRetries+1:1,l=0,s;do{if(s=yield this.requestRaw(c,r),s&&s.message&&s.message.statusCode===Xn.Unauthorized){let f;for(let g of this.handlers)if(g.canHandleAuthentication(s)){f=g;break}return f?f.handleAuthentication(this,c,r):s}let d=this._maxRedirects;for(;s.message.statusCode&&$C.includes(s.message.statusCode)&&this._allowRedirects&&d>0;){let f=s.message.headers.location;if(!f)break;let g=new URL(f);if(u.protocol==="https:"&&u.protocol!==g.protocol&&!this._allowRedirectDowngrade)throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.");if(yield s.readBody(),g.hostname!==u.hostname)for(let I in a)I.toLowerCase()==="authorization"&&delete a[I];c=this._prepareRequest(n,g,a),s=yield this.requestRaw(c,r),d--}if(!s.message.statusCode||!KC.includes(s.message.statusCode))return s;l+=1,l<h&&(yield s.readBody(),yield this._performExponentialBackoff(l))}while(l<h);return s})}dispose(){this._agent&&this._agent.destroy(),this._disposed=!0}requestRaw(n,t){return wr(this,void 0,void 0,function*(){return new Promise((r,a)=>{function u(c,h){c?a(c):h?r(h):a(new Error("Unknown error"))}this.requestRawWithCallback(n,t,u)})})}requestRawWithCallback(n,t,r){typeof t=="string"&&(n.options.headers||(n.options.headers={}),n.options.headers["Content-Length"]=Buffer.byteLength(t,"utf8"));let a=!1;function u(l,s){a||(a=!0,r(l,s))}let c=n.httpModule.request(n.options,l=>{let s=new Kl(l);u(void 0,s)}),h;c.on("socket",l=>{h=l}),c.setTimeout(this._socketTimeout||3*6e4,()=>{h&&h.end(),u(new Error(`Request timeout: ${n.options.path}`))}),c.on("error",function(l){u(l)}),t&&typeof t=="string"&&c.write(t,"utf8"),t&&typeof t!="string"?(t.on("close",function(){c.end()}),t.pipe(c)):c.end()}getAgent(n){let t=new URL(n);return this._getAgent(t)}_prepareRequest(n,t,r){let a={};a.parsedUrl=t;let u=a.parsedUrl.protocol==="https:";a.httpModule=u?xf:Ml;let c=u?443:80;if(a.options={},a.options.host=a.parsedUrl.hostname,a.options.port=a.parsedUrl.port?parseInt(a.parsedUrl.port):c,a.options.path=(a.parsedUrl.pathname||"")+(a.parsedUrl.search||""),a.options.method=n,a.options.headers=this._mergeHeaders(r),this.userAgent!=null&&(a.options.headers["user-agent"]=this.userAgent),a.options.agent=this._getAgent(a.parsedUrl),this.handlers)for(let h of this.handlers)h.prepareRequest(a.options);return a}_mergeHeaders(n){return this.requestOptions&&this.requestOptions.headers?Object.assign({},$l(this.requestOptions.headers),$l(n||{})):$l(n||{})}_getExistingOrDefaultHeader(n,t,r){let a;return this.requestOptions&&this.requestOptions.headers&&(a=$l(this.requestOptions.headers)[t]),n[t]||a||r}_getAgent(n){let t,r=fg.getProxyUrl(n),a=r&&r.hostname;if(this._keepAlive&&a&&(t=this._proxyAgent),this._keepAlive&&!a&&(t=this._agent),t)return t;let u=n.protocol==="https:",c=100;if(this.requestOptions&&(c=this.requestOptions.maxSockets||Ml.globalAgent.maxSockets),r&&r.hostname){let h={maxSockets:c,keepAlive:this._keepAlive,proxy:Object.assign(Object.assign({},(r.username||r.password)&&{proxyAuth:`${r.username}:${r.password}`}),{host:r.hostname,port:r.port})},l,s=r.protocol==="https:";u?l=s?zl.httpsOverHttps:zl.httpsOverHttp:l=s?zl.httpOverHttps:zl.httpOverHttp,t=l(h),this._proxyAgent=t}if(this._keepAlive&&!t){let h={keepAlive:this._keepAlive,maxSockets:c};t=u?new xf.Agent(h):new Ml.Agent(h),this._agent=t}return t||(t=u?xf.globalAgent:Ml.globalAgent),u&&this._ignoreSslError&&(t.options=Object.assign(t.options||{},{rejectUnauthorized:!1})),t}_performExponentialBackoff(n){return wr(this,void 0,void 0,function*(){n=Math.min(WC,n);let t=GC*Math.pow(2,n);return new Promise(r=>setTimeout(()=>r(),t))})}_processResponse(n,t){return wr(this,void 0,void 0,function*(){return new Promise((r,a)=>wr(this,void 0,void 0,function*(){let u=n.message.statusCode||0,c={statusCode:u,result:null,headers:{}};u===Xn.NotFound&&r(c);function h(d,f){if(typeof f=="string"){let g=new Date(f);if(!isNaN(g.valueOf()))return g}return f}let l,s;try{s=yield n.readBody(),s&&s.length>0&&(t&&t.deserializeDates?l=JSON.parse(s,h):l=JSON.parse(s),c.result=l),c.headers=n.message.headers}catch{}if(u>299){let d;l&&l.message?d=l.message:s&&s.length>0?d=s:d=`Failed request: (${u})`;let f=new ao(d,u);f.result=c.result,a(f)}else r(c)}))})}};xt.HttpClient=Lf;var $l=e=>Object.keys(e).reduce((n,t)=>(n[t.toLowerCase()]=e[t],n),{})});var pg=Pn(_i=>{"use strict";var Vf=_i&&_i.__awaiter||function(e,n,t,r){function a(u){return u instanceof t?u:new t(function(c){c(u)})}return new(t||(t=Promise))(function(u,c){function h(d){try{s(r.next(d))}catch(f){c(f)}}function l(d){try{s(r.throw(d))}catch(f){c(f)}}function s(d){d.done?u(d.value):a(d.value).then(h,l)}s((r=r.apply(e,n||[])).next())})};Object.defineProperty(_i,"__esModule",{value:!0});_i.PersonalAccessTokenCredentialHandler=_i.BearerCredentialHandler=_i.BasicCredentialHandler=void 0;var Uf=class{constructor(n,t){this.username=n,this.password=t}prepareRequest(n){if(!n.headers)throw Error("The request has no headers");n.headers.Authorization=`Basic ${Buffer.from(`${this.username}:${this.password}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return Vf(this,void 0,void 0,function*(){throw new Error("not implemented")})}};_i.BasicCredentialHandler=Uf;var Df=class{constructor(n){this.token=n}prepareRequest(n){if(!n.headers)throw Error("The request has no headers");n.headers.Authorization=`Bearer ${this.token}`}canHandleAuthentication(){return!1}handleAuthentication(){return Vf(this,void 0,void 0,function*(){throw new Error("not implemented")})}};_i.BearerCredentialHandler=Df;var jf=class{constructor(n){this.token=n}prepareRequest(n){if(!n.headers)throw Error("The request has no headers");n.headers.Authorization=`Basic ${Buffer.from(`PAT:${this.token}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return Vf(this,void 0,void 0,function*(){throw new Error("not implemented")})}};_i.PersonalAccessTokenCredentialHandler=jf});var mg=Pn(so=>{"use strict";var yg=so&&so.__awaiter||function(e,n,t,r){function a(u){return u instanceof t?u:new t(function(c){c(u)})}return new(t||(t=Promise))(function(u,c){function h(d){try{s(r.next(d))}catch(f){c(f)}}function l(d){try{s(r.throw(d))}catch(f){c(f)}}function s(d){d.done?u(d.value):a(d.value).then(h,l)}s((r=r.apply(e,n||[])).next())})};Object.defineProperty(so,"__esModule",{value:!0});so.OidcClient=void 0;var YC=dg(),ZC=pg(),gg=qf(),Oa=class{static createHttpClient(n=!0,t=10){let r={allowRetries:n,maxRetries:t};return new YC.HttpClient("actions/oidc-client",[new ZC.BearerCredentialHandler(Oa.getRequestToken())],r)}static getRequestToken(){let n=process.env.ACTIONS_ID_TOKEN_REQUEST_TOKEN;if(!n)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable");return n}static getIDTokenUrl(){let n=process.env.ACTIONS_ID_TOKEN_REQUEST_URL;if(!n)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable");return n}static getCall(n){var t;return yg(this,void 0,void 0,function*(){let u=(t=(yield Oa.createHttpClient().getJson(n).catch(c=>{throw new Error(`Failed to get ID Token. 
 
        Error Code : ${c.statusCode}
 
        Error Message: ${c.result.message}`)})).result)===null||t===void 0?void 0:t.value;if(!u)throw new Error("Response json body do not have ID Token field");return u})}static getIDToken(n){return yg(this,void 0,void 0,function*(){try{let t=Oa.getIDTokenUrl();if(n){let a=encodeURIComponent(n);t=`${t}&audience=${a}`}gg.debug(`ID token url is ${t}`);let r=yield Oa.getCall(t);return gg.setSecret(r),r}catch(t){throw new Error(`Error message: ${t.message}`)}})}};so.OidcClient=Oa});var $f=Pn(yn=>{"use strict";var Ff=yn&&yn.__awaiter||function(e,n,t,r){function a(u){return u instanceof t?u:new t(function(c){c(u)})}return new(t||(t=Promise))(function(u,c){function h(d){try{s(r.next(d))}catch(f){c(f)}}function l(d){try{s(r.throw(d))}catch(f){c(f)}}function s(d){d.done?u(d.value):a(d.value).then(h,l)}s((r=r.apply(e,n||[])).next())})};Object.defineProperty(yn,"__esModule",{value:!0});yn.summary=yn.markdownSummary=yn.SUMMARY_DOCS_URL=yn.SUMMARY_ENV_VAR=void 0;var XC=require("os"),Mf=require("fs"),{access:JC,appendFile:eT,writeFile:tT}=Mf.promises;yn.SUMMARY_ENV_VAR="GITHUB_STEP_SUMMARY";yn.SUMMARY_DOCS_URL="https://docs.github.com/actions/using-workflows/workflow-commands-for-github-actions#adding-a-job-summary";var zf=class{constructor(){this._buffer=""}filePath(){return Ff(this,void 0,void 0,function*(){if(this._filePath)return this._filePath;let n=process.env[yn.SUMMARY_ENV_VAR];if(!n)throw new Error(`Unable to find environment variable for $${yn.SUMMARY_ENV_VAR}. Check if your runtime environment supports job summaries.`);try{yield JC(n,Mf.constants.R_OK|Mf.constants.W_OK)}catch{throw new Error(`Unable to access summary file: '${n}'. Check if the file has correct read/write permissions.`)}return this._filePath=n,this._filePath})}wrap(n,t,r={}){let a=Object.entries(r).map(([u,c])=>` ${u}="${c}"`).join("");return t?`<${n}${a}>${t}</${n}>`:`<${n}${a}>`}write(n){return Ff(this,void 0,void 0,function*(){let t=!!n?.overwrite,r=yield this.filePath();return yield(t?tT:eT)(r,this._buffer,{encoding:"utf8"}),this.emptyBuffer()})}clear(){return Ff(this,void 0,void 0,function*(){return this.emptyBuffer().write({overwrite:!0})})}stringify(){return this._buffer}isEmptyBuffer(){return this._buffer.length===0}emptyBuffer(){return this._buffer="",this}addRaw(n,t=!1){return this._buffer+=n,t?this.addEOL():this}addEOL(){return this.addRaw(XC.EOL)}addCodeBlock(n,t){let r=Object.assign({},t&&{lang:t}),a=this.wrap("pre",this.wrap("code",n),r);return this.addRaw(a).addEOL()}addList(n,t=!1){let r=t?"ol":"ul",a=n.map(c=>this.wrap("li",c)).join(""),u=this.wrap(r,a);return this.addRaw(u).addEOL()}addTable(n){let t=n.map(a=>{let u=a.map(c=>{if(typeof c=="string")return this.wrap("td",c);let{header:h,data:l,colspan:s,rowspan:d}=c,f=h?"th":"td",g=Object.assign(Object.assign({},s&&{colspan:s}),d&&{rowspan:d});return this.wrap(f,l,g)}).join("");return this.wrap("tr",u)}).join(""),r=this.wrap("table",t);return this.addRaw(r).addEOL()}addDetails(n,t){let r=this.wrap("details",this.wrap("summary",n)+t);return this.addRaw(r).addEOL()}addImage(n,t,r){let{width:a,height:u}=r||{},c=Object.assign(Object.assign({},a&&{width:a}),u&&{height:u}),h=this.wrap("img",null,Object.assign({src:n,alt:t},c));return this.addRaw(h).addEOL()}addHeading(n,t){let r=`h${t}`,a=["h1","h2","h3","h4","h5","h6"].includes(r)?r:"h1",u=this.wrap(a,n);return this.addRaw(u).addEOL()}addSeparator(){let n=this.wrap("hr",null);return this.addRaw(n).addEOL()}addBreak(){let n=this.wrap("br",null);return this.addRaw(n).addEOL()}addQuote(n,t){let r=Object.assign({},t&&{cite:t}),a=this.wrap("blockquote",n,r);return this.addRaw(a).addEOL()}addLink(n,t){let r=this.wrap("a",n,{href:t});return this.addRaw(r).addEOL()}},vg=new zf;yn.markdownSummary=vg;yn.summary=vg});var bg=Pn(gn=>{"use strict";var rT=gn&&gn.__createBinding||(Object.create?function(e,n,t,r){r===void 0&&(r=t),Object.defineProperty(e,r,{enumerable:!0,get:function(){return n[t]}})}:function(e,n,t,r){r===void 0&&(r=t),e[r]=n[t]}),nT=gn&&gn.__setModuleDefault||(Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n}),iT=gn&&gn.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(e!=null)for(var t in e)t!=="default"&&Object.hasOwnProperty.call(e,t)&&rT(n,e,t);return nT(n,e),n};Object.defineProperty(gn,"__esModule",{value:!0});gn.toPlatformPath=gn.toWin32Path=gn.toPosixPath=void 0;var aT=iT(require("path"));function sT(e){return e.replace(/[\\]/g,"/")}gn.toPosixPath=sT;function oT(e){return e.replace(/[/]/g,"\\")}gn.toWin32Path=oT;function uT(e){return e.replace(/[/\\]/g,aT.sep)}gn.toPlatformPath=uT});var qf=Pn(Me=>{"use strict";var lT=Me&&Me.__createBinding||(Object.create?function(e,n,t,r){r===void 0&&(r=t),Object.defineProperty(e,r,{enumerable:!0,get:function(){return n[t]}})}:function(e,n,t,r){r===void 0&&(r=t),e[r]=n[t]}),cT=Me&&Me.__setModuleDefault||(Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n}),_g=Me&&Me.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(e!=null)for(var t in e)t!=="default"&&Object.hasOwnProperty.call(e,t)&&lT(n,e,t);return cT(n,e),n},wg=Me&&Me.__awaiter||function(e,n,t,r){function a(u){return u instanceof t?u:new t(function(c){c(u)})}return new(t||(t=Promise))(function(u,c){function h(d){try{s(r.next(d))}catch(f){c(f)}}function l(d){try{s(r.throw(d))}catch(f){c(f)}}function s(d){d.done?u(d.value):a(d.value).then(h,l)}s((r=r.apply(e,n||[])).next())})};Object.defineProperty(Me,"__esModule",{value:!0});Me.getIDToken=Me.getState=Me.saveState=Me.group=Me.endGroup=Me.startGroup=Me.info=Me.notice=Me.warning=Me.error=Me.debug=Me.isDebug=Me.setFailed=Me.setCommandEcho=Me.setOutput=Me.getBooleanInput=Me.getMultilineInput=Me.getInput=Me.addPath=Me.setSecret=Me.exportVariable=Me.ExitCode=void 0;var $n=ky(),ls=ng(),oo=Dl(),Sg=_g(require("os")),hT=_g(require("path")),fT=mg(),Eg;(function(e){e[e.Success=0]="Success",e[e.Failure=1]="Failure"})(Eg=Me.ExitCode||(Me.ExitCode={}));function dT(e,n){let t=oo.toCommandValue(n);if(process.env[e]=t,process.env.GITHUB_ENV||"")return ls.issueFileCommand("ENV",ls.prepareKeyValueMessage(e,n));$n.issueCommand("set-env",{name:e},t)}Me.exportVariable=dT;function pT(e){$n.issueCommand("add-mask",{},e)}Me.setSecret=pT;function yT(e){process.env.GITHUB_PATH||""?ls.issueFileCommand("PATH",e):$n.issueCommand("add-path",{},e),process.env.PATH=`${e}${hT.delimiter}${process.env.PATH}`}Me.addPath=yT;function Kf(e,n){let t=process.env[`INPUT_${e.replace(/ /g,"_").toUpperCase()}`]||"";if(n&&n.required&&!t)throw new Error(`Input required and not supplied: ${e}`);return n&&n.trimWhitespace===!1?t:t.trim()}Me.getInput=Kf;function gT(e,n){let t=Kf(e,n).split(`
`).filter(r=>r!=="");return n&&n.trimWhitespace===!1?t:t.map(r=>r.trim())}Me.getMultilineInput=gT;function mT(e,n){let t=["true","True","TRUE"],r=["false","False","FALSE"],a=Kf(e,n);if(t.includes(a))return!0;if(r.includes(a))return!1;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${e}
Support boolean input list: \`true | True | TRUE | false | False | FALSE\``)}Me.getBooleanInput=mT;function vT(e,n){if(process.env.GITHUB_OUTPUT||"")return ls.issueFileCommand("OUTPUT",ls.prepareKeyValueMessage(e,n));process.stdout.write(Sg.EOL),$n.issueCommand("set-output",{name:e},oo.toCommandValue(n))}Me.setOutput=vT;function bT(e){$n.issue("echo",e?"on":"off")}Me.setCommandEcho=bT;function _T(e){process.exitCode=Eg.Failure,Cg(e)}Me.setFailed=_T;function wT(){return process.env.RUNNER_DEBUG==="1"}Me.isDebug=wT;function ST(e){$n.issueCommand("debug",{},e)}Me.debug=ST;function Cg(e,n={}){$n.issueCommand("error",oo.toCommandProperties(n),e instanceof Error?e.toString():e)}Me.error=Cg;function ET(e,n={}){$n.issueCommand("warning",oo.toCommandProperties(n),e instanceof Error?e.toString():e)}Me.warning=ET;function CT(e,n={}){$n.issueCommand("notice",oo.toCommandProperties(n),e instanceof Error?e.toString():e)}Me.notice=CT;function TT(e){process.stdout.write(e+Sg.EOL)}Me.info=TT;function Tg(e){$n.issue("group",e)}Me.startGroup=Tg;function Ag(){$n.issue("endgroup")}Me.endGroup=Ag;function AT(e,n){return wg(this,void 0,void 0,function*(){Tg(e);let t;try{t=yield n()}finally{Ag()}return t})}Me.group=AT;function IT(e,n){if(process.env.GITHUB_STATE||"")return ls.issueFileCommand("STATE",ls.prepareKeyValueMessage(e,n));$n.issueCommand("save-state",{name:e},oo.toCommandValue(n))}Me.saveState=IT;function RT(e){return process.env[`STATE_${e}`]||""}Me.getState=RT;function kT(e){return wg(this,void 0,void 0,function*(){return yield fT.OidcClient.getIDToken(e)})}Me.getIDToken=kT;var PT=$f();Object.defineProperty(Me,"summary",{enumerable:!0,get:function(){return PT.summary}});var BT=$f();Object.defineProperty(Me,"markdownSummary",{enumerable:!0,get:function(){return BT.markdownSummary}});var Hf=bg();Object.defineProperty(Me,"toPosixPath",{enumerable:!0,get:function(){return Hf.toPosixPath}});Object.defineProperty(Me,"toWin32Path",{enumerable:!0,get:function(){return Hf.toWin32Path}});Object.defineProperty(Me,"toPlatformPath",{enumerable:!0,get:function(){return Hf.toPlatformPath}})});var lb=Pn((g8,ub)=>{var NT=Object.create,Uu=Object.defineProperty,OT=Object.getOwnPropertyDescriptor,xT=Object.getOwnPropertyNames,Ec=Object.getOwnPropertySymbols,LT=Object.getPrototypeOf,Zd=Object.prototype.hasOwnProperty,Dm=Object.prototype.propertyIsEnumerable,Ig=(e,n,t)=>n in e?Uu(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,Dc=(e,n)=>{for(var t in n||={})Zd.call(n,t)&&Ig(e,t,n[t]);if(Ec)for(var t of Ec(n))Dm.call(n,t)&&Ig(e,t,n[t]);return e},jc=(e,n)=>{var t={};for(var r in e)Zd.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&Ec)for(var r of Ec(e))n.indexOf(r)<0&&Dm.call(e,r)&&(t[r]=e[r]);return t},Te=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),UT=(e,n)=>{for(var t in n)Uu(e,t,{get:n[t],enumerable:!0})},jm=(e,n,t,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let a of xT(n))!Zd.call(e,a)&&a!==t&&Uu(e,a,{get:()=>n[a],enumerable:!(r=OT(n,a))||r.enumerable});return e},vr=(e,n,t)=>(t=e!=null?NT(LT(e)):{},jm(n||!e||!e.__esModule?Uu(t,"default",{value:e,enumerable:!0}):t,e)),DT=e=>jm(Uu({},"__esModule",{value:!0}),e),la=(e,n,t)=>new Promise((r,a)=>{var u=l=>{try{h(t.next(l))}catch(s){a(s)}},c=l=>{try{h(t.throw(l))}catch(s){a(s)}},h=l=>l.done?r(l.value):Promise.resolve(l.value).then(u,c);h((t=t.apply(e,n)).next())}),jT=Te((e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});function t(a){return a.encrypted}var r=(a,u)=>{let c;typeof u=="function"?c={connect:u}:c=u;let h=typeof c.connect=="function",l=typeof c.secureConnect=="function",s=typeof c.close=="function",d=()=>{h&&c.connect(),t(a)&&l&&(a.authorized?c.secureConnect():a.authorizationError||a.once("secureConnect",c.secureConnect)),s&&a.once("close",c.close)};a.writable&&!a.connecting?d():a.connecting?a.once("connect",d):a.destroyed&&s&&c.close(a._hadError)};e.default=r,n.exports=r,n.exports.default=r}),VT=Te((e,n)=>{"use strict";var{PassThrough:t}=require("stream");n.exports=r=>{r={...r};let{array:a}=r,{encoding:u}=r,c=u==="buffer",h=!1;a?h=!(u||c):u=u||"utf8",c&&(u=null);let l=new t({objectMode:h});u&&l.setEncoding(u);let s=0,d=[];return l.on("data",f=>{d.push(f),h?s=d.length:s+=f.length}),l.getBufferedValue=()=>a?d:c?Buffer.concat(d,s):d.join(""),l.getBufferedLength=()=>s,l}}),Vm=Te((e,n)=>{"use strict";var{constants:t}=require("buffer"),r=require("stream"),{promisify:a}=require("util"),u=VT(),c=a(r.pipeline),h=class extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}};async function l(s,d){if(!s)throw new Error("Expected a stream");d={maxBuffer:1/0,...d};let{maxBuffer:f}=d,g=u(d);return await new Promise((I,C)=>{let _=T=>{T&&g.getBufferedLength()<=t.MAX_LENGTH&&(T.bufferedData=g.getBufferedValue()),C(T)};(async()=>{try{await c(s,g),I()}catch(T){_(T)}})(),g.on("data",()=>{g.getBufferedLength()>f&&_(new h)})}),g.getBufferedValue()}n.exports=l,n.exports.buffer=(s,d)=>l(s,{...d,encoding:"buffer"}),n.exports.array=(s,d)=>l(s,{...d,array:!0}),n.exports.MaxBufferError=h}),qT=Te((e,n)=>{"use strict";var t=new Set([200,203,204,206,300,301,308,404,405,410,414,501]),r=new Set([200,203,204,300,301,302,303,307,308,404,405,410,414,501]),a=new Set([500,502,503,504]),u={date:!0,connection:!0,"keep-alive":!0,"proxy-authenticate":!0,"proxy-authorization":!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0},c={"content-length":!0,"content-encoding":!0,"transfer-encoding":!0,"content-range":!0};function h(f){let g=parseInt(f,10);return isFinite(g)?g:0}function l(f){return f?a.has(f.status):!0}function s(f){let g={};if(!f)return g;let I=f.trim().split(/,/);for(let C of I){let[_,T]=C.split(/=/,2);g[_.trim()]=T===void 0?!0:T.trim().replace(/^"|"$/g,"")}return g}function d(f){let g=[];for(let I in f){let C=f[I];g.push(C===!0?I:I+"="+C)}if(g.length)return g.join(", ")}n.exports=class{constructor(f,g,{shared:I,cacheHeuristic:C,immutableMinTimeToLive:_,ignoreCargoCult:T,_fromObject:B}={}){if(B){this._fromObject(B);return}if(!g||!g.headers)throw Error("Response headers missing");this._assertRequestHasHeaders(f),this._responseTime=this.now(),this._isShared=I!==!1,this._cacheHeuristic=C!==void 0?C:.1,this._immutableMinTtl=_!==void 0?_:24*3600*1e3,this._status="status"in g?g.status:200,this._resHeaders=g.headers,this._rescc=s(g.headers["cache-control"]),this._method="method"in f?f.method:"GET",this._url=f.url,this._host=f.headers.host,this._noAuthorization=!f.headers.authorization,this._reqHeaders=g.headers.vary?f.headers:null,this._reqcc=s(f.headers["cache-control"]),T&&"pre-check"in this._rescc&&"post-check"in this._rescc&&(delete this._rescc["pre-check"],delete this._rescc["post-check"],delete this._rescc["no-cache"],delete this._rescc["no-store"],delete this._rescc["must-revalidate"],this._resHeaders=Object.assign({},this._resHeaders,{"cache-control":d(this._rescc)}),delete this._resHeaders.expires,delete this._resHeaders.pragma),g.headers["cache-control"]==null&&/no-cache/.test(g.headers.pragma)&&(this._rescc["no-cache"]=!0)}now(){return Date.now()}storable(){return!!(!this._reqcc["no-store"]&&(this._method==="GET"||this._method==="HEAD"||this._method==="POST"&&this._hasExplicitExpiration())&&r.has(this._status)&&!this._rescc["no-store"]&&(!this._isShared||!this._rescc.private)&&(!this._isShared||this._noAuthorization||this._allowsStoringAuthenticated())&&(this._resHeaders.expires||this._rescc["max-age"]||this._isShared&&this._rescc["s-maxage"]||this._rescc.public||t.has(this._status)))}_hasExplicitExpiration(){return this._isShared&&this._rescc["s-maxage"]||this._rescc["max-age"]||this._resHeaders.expires}_assertRequestHasHeaders(f){if(!f||!f.headers)throw Error("Request headers missing")}satisfiesWithoutRevalidation(f){this._assertRequestHasHeaders(f);let g=s(f.headers["cache-control"]);return g["no-cache"]||/no-cache/.test(f.headers.pragma)||g["max-age"]&&this.age()>g["max-age"]||g["min-fresh"]&&this.timeToLive()<1e3*g["min-fresh"]||this.stale()&&!(g["max-stale"]&&!this._rescc["must-revalidate"]&&(g["max-stale"]===!0||g["max-stale"]>this.age()-this.maxAge()))?!1:this._requestMatches(f,!1)}_requestMatches(f,g){return(!this._url||this._url===f.url)&&this._host===f.headers.host&&(!f.method||this._method===f.method||g&&f.method==="HEAD")&&this._varyMatches(f)}_allowsStoringAuthenticated(){return this._rescc["must-revalidate"]||this._rescc.public||this._rescc["s-maxage"]}_varyMatches(f){if(!this._resHeaders.vary)return!0;if(this._resHeaders.vary==="*")return!1;let g=this._resHeaders.vary.trim().toLowerCase().split(/\s*,\s*/);for(let I of g)if(f.headers[I]!==this._reqHeaders[I])return!1;return!0}_copyWithoutHopByHopHeaders(f){let g={};for(let I in f)u[I]||(g[I]=f[I]);if(f.connection){let I=f.connection.trim().split(/\s*,\s*/);for(let C of I)delete g[C]}if(g.warning){let I=g.warning.split(/,/).filter(C=>!/^\s*1[0-9][0-9]/.test(C));I.length?g.warning=I.join(",").trim():delete g.warning}return g}responseHeaders(){let f=this._copyWithoutHopByHopHeaders(this._resHeaders),g=this.age();return g>3600*24&&!this._hasExplicitExpiration()&&this.maxAge()>3600*24&&(f.warning=(f.warning?`${f.warning}, `:"")+'113 - "rfc7234 5.5.4"'),f.age=`${Math.round(g)}`,f.date=new Date(this.now()).toUTCString(),f}date(){let f=Date.parse(this._resHeaders.date);return isFinite(f)?f:this._responseTime}age(){let f=this._ageValue(),g=(this.now()-this._responseTime)/1e3;return f+g}_ageValue(){return h(this._resHeaders.age)}maxAge(){if(!this.storable()||this._rescc["no-cache"]||this._isShared&&this._resHeaders["set-cookie"]&&!this._rescc.public&&!this._rescc.immutable||this._resHeaders.vary==="*")return 0;if(this._isShared){if(this._rescc["proxy-revalidate"])return 0;if(this._rescc["s-maxage"])return h(this._rescc["s-maxage"])}if(this._rescc["max-age"])return h(this._rescc["max-age"]);let f=this._rescc.immutable?this._immutableMinTtl:0,g=this.date();if(this._resHeaders.expires){let I=Date.parse(this._resHeaders.expires);return Number.isNaN(I)||I<g?0:Math.max(f,(I-g)/1e3)}if(this._resHeaders["last-modified"]){let I=Date.parse(this._resHeaders["last-modified"]);if(isFinite(I)&&g>I)return Math.max(f,(g-I)/1e3*this._cacheHeuristic)}return f}timeToLive(){let f=this.maxAge()-this.age(),g=f+h(this._rescc["stale-if-error"]),I=f+h(this._rescc["stale-while-revalidate"]);return Math.max(0,f,g,I)*1e3}stale(){return this.maxAge()<=this.age()}_useStaleIfError(){return this.maxAge()+h(this._rescc["stale-if-error"])>this.age()}useStaleWhileRevalidate(){return this.maxAge()+h(this._rescc["stale-while-revalidate"])>this.age()}static fromObject(f){return new this(void 0,void 0,{_fromObject:f})}_fromObject(f){if(this._responseTime)throw Error("Reinitialized");if(!f||f.v!==1)throw Error("Invalid serialization");this._responseTime=f.t,this._isShared=f.sh,this._cacheHeuristic=f.ch,this._immutableMinTtl=f.imm!==void 0?f.imm:24*3600*1e3,this._status=f.st,this._resHeaders=f.resh,this._rescc=f.rescc,this._method=f.m,this._url=f.u,this._host=f.h,this._noAuthorization=f.a,this._reqHeaders=f.reqh,this._reqcc=f.reqcc}toObject(){return{v:1,t:this._responseTime,sh:this._isShared,ch:this._cacheHeuristic,imm:this._immutableMinTtl,st:this._status,resh:this._resHeaders,rescc:this._rescc,m:this._method,u:this._url,h:this._host,a:this._noAuthorization,reqh:this._reqHeaders,reqcc:this._reqcc}}revalidationHeaders(f){this._assertRequestHasHeaders(f);let g=this._copyWithoutHopByHopHeaders(f.headers);if(delete g["if-range"],!this._requestMatches(f,!0)||!this.storable())return delete g["if-none-match"],delete g["if-modified-since"],g;if(this._resHeaders.etag&&(g["if-none-match"]=g["if-none-match"]?`${g["if-none-match"]}, ${this._resHeaders.etag}`:this._resHeaders.etag),g["accept-ranges"]||g["if-match"]||g["if-unmodified-since"]||this._method&&this._method!="GET"){if(delete g["if-modified-since"],g["if-none-match"]){let I=g["if-none-match"].split(/,/).filter(C=>!/^\s*W\//.test(C));I.length?g["if-none-match"]=I.join(",").trim():delete g["if-none-match"]}}else this._resHeaders["last-modified"]&&!g["if-modified-since"]&&(g["if-modified-since"]=this._resHeaders["last-modified"]);return g}revalidatedPolicy(f,g){if(this._assertRequestHasHeaders(f),this._useStaleIfError()&&l(g))return{modified:!1,matches:!1,policy:this};if(!g||!g.headers)throw Error("Response headers missing");let I=!1;if(g.status!==void 0&&g.status!=304?I=!1:g.headers.etag&&!/^\s*W\//.test(g.headers.etag)?I=this._resHeaders.etag&&this._resHeaders.etag.replace(/^\s*W\//,"")===g.headers.etag:this._resHeaders.etag&&g.headers.etag?I=this._resHeaders.etag.replace(/^\s*W\//,"")===g.headers.etag.replace(/^\s*W\//,""):this._resHeaders["last-modified"]?I=this._resHeaders["last-modified"]===g.headers["last-modified"]:!this._resHeaders.etag&&!this._resHeaders["last-modified"]&&!g.headers.etag&&!g.headers["last-modified"]&&(I=!0),!I)return{policy:new this.constructor(f,g),modified:g.status!=304,matches:!1};let C={};for(let T in this._resHeaders)C[T]=T in g.headers&&!c[T]?g.headers[T]:this._resHeaders[T];let _=Object.assign({},g,{status:this._status,method:this._method,headers:C});return{policy:new this.constructor(f,_,{shared:this._isShared,cacheHeuristic:this._cacheHeuristic,immutableMinTimeToLive:this._immutableMinTtl}),modified:!1,matches:!0}}}}),FT=Te(e=>{e.stringify=function n(t){if(typeof t>"u")return t;if(t&&Buffer.isBuffer(t))return JSON.stringify(":base64:"+t.toString("base64"));if(t&&t.toJSON&&(t=t.toJSON()),t&&typeof t=="object"){var r="",a=Array.isArray(t);r=a?"[":"{";var u=!0;for(var c in t){var h=typeof t[c]=="function"||!a&&typeof t[c]>"u";Object.hasOwnProperty.call(t,c)&&!h&&(u||(r+=","),u=!1,a?t[c]==null?r+="null":r+=n(t[c]):t[c]!==void 0&&(r+=n(c)+":"+n(t[c])))}return r+=a?"]":"}",r}else return typeof t=="string"?JSON.stringify(/^:/.test(t)?":"+t:t):typeof t>"u"?"null":JSON.stringify(t)},e.parse=function(n){return JSON.parse(n,function(t,r){return typeof r=="string"?/^:base64:/.test(r)?Buffer.from(r.substring(8),"base64"):/^:/.test(r)?r.substring(1):r:r})}}),MT=Te((e,n)=>{"use strict";var t=require("events"),r=FT(),a=h=>{let l={redis:"@keyv/redis",rediss:"@keyv/redis",mongodb:"@keyv/mongo",mongo:"@keyv/mongo",sqlite:"@keyv/sqlite",postgresql:"@keyv/postgres",postgres:"@keyv/postgres",mysql:"@keyv/mysql",etcd:"@keyv/etcd",offline:"@keyv/offline",tiered:"@keyv/tiered"};if(h.adapter||h.uri){let s=h.adapter||/^[^:+]*/.exec(h.uri)[0];return new(require(l[s]))(h)}return new Map},u=["sqlite","postgres","mysql","mongo","redis","tiered"],c=class extends t{constructor(h,{emitErrors:l=!0,...s}={}){if(super(),this.opts={namespace:"keyv",serialize:r.stringify,deserialize:r.parse,...typeof h=="string"?{uri:h}:h,...s},!this.opts.store){let f={...this.opts};this.opts.store=a(f)}if(this.opts.compression){let f=this.opts.compression;this.opts.serialize=f.serialize.bind(f),this.opts.deserialize=f.deserialize.bind(f)}typeof this.opts.store.on=="function"&&l&&this.opts.store.on("error",f=>this.emit("error",f)),this.opts.store.namespace=this.opts.namespace;let d=f=>async function*(){for await(let[g,I]of typeof f=="function"?f(this.opts.store.namespace):f){let C=this.opts.deserialize(I);if(!(this.opts.store.namespace&&!g.includes(this.opts.store.namespace))){if(typeof C.expires=="number"&&Date.now()>C.expires){this.delete(g);continue}yield[this._getKeyUnprefix(g),C.value]}}};typeof this.opts.store[Symbol.iterator]=="function"&&this.opts.store instanceof Map?this.iterator=d(this.opts.store):typeof this.opts.store.iterator=="function"&&this.opts.store.opts&&this._checkIterableAdaptar()&&(this.iterator=d(this.opts.store.iterator.bind(this.opts.store)))}_checkIterableAdaptar(){return u.includes(this.opts.store.opts.dialect)||u.findIndex(h=>this.opts.store.opts.url.includes(h))>=0}_getKeyPrefix(h){return`${this.opts.namespace}:${h}`}_getKeyPrefixArray(h){return h.map(l=>`${this.opts.namespace}:${l}`)}_getKeyUnprefix(h){return h.split(":").splice(1).join(":")}get(h,l){let{store:s}=this.opts,d=Array.isArray(h),f=d?this._getKeyPrefixArray(h):this._getKeyPrefix(h);if(d&&s.getMany===void 0){let g=[];for(let I of f)g.push(Promise.resolve().then(()=>s.get(I)).then(C=>typeof C=="string"?this.opts.deserialize(C):this.opts.compression?this.opts.deserialize(C):C).then(C=>{if(C!=null)return typeof C.expires=="number"&&Date.now()>C.expires?this.delete(I).then(()=>{}):l&&l.raw?C:C.value}));return Promise.allSettled(g).then(I=>{let C=[];for(let _ of I)C.push(_.value);return C})}return Promise.resolve().then(()=>d?s.getMany(f):s.get(f)).then(g=>typeof g=="string"?this.opts.deserialize(g):this.opts.compression?this.opts.deserialize(g):g).then(g=>{if(g!=null){if(d){let I=[];for(let C of g){if(typeof C=="string"&&(C=this.opts.deserialize(C)),C==null){I.push(void 0);continue}typeof C.expires=="number"&&Date.now()>C.expires?(this.delete(h).then(()=>{}),I.push(void 0)):I.push(l&&l.raw?C:C.value)}return I}return typeof g.expires=="number"&&Date.now()>g.expires?this.delete(h).then(()=>{}):l&&l.raw?g:g.value}})}set(h,l,s){let d=this._getKeyPrefix(h);typeof s>"u"&&(s=this.opts.ttl),s===0&&(s=void 0);let{store:f}=this.opts;return Promise.resolve().then(()=>{let g=typeof s=="number"?Date.now()+s:null;return typeof l=="symbol"&&this.emit("error","symbol cannot be serialized"),l={value:l,expires:g},this.opts.serialize(l)}).then(g=>f.set(d,g,s)).then(()=>!0)}delete(h){let{store:l}=this.opts;if(Array.isArray(h)){let d=this._getKeyPrefixArray(h);if(l.deleteMany===void 0){let f=[];for(let g of d)f.push(l.delete(g));return Promise.allSettled(f).then(g=>g.every(I=>I.value===!0))}return Promise.resolve().then(()=>l.deleteMany(d))}let s=this._getKeyPrefix(h);return Promise.resolve().then(()=>l.delete(s))}clear(){let{store:h}=this.opts;return Promise.resolve().then(()=>h.clear())}has(h){let l=this._getKeyPrefix(h),{store:s}=this.opts;return Promise.resolve().then(async()=>typeof s.has=="function"?s.has(l):await s.get(l)!==void 0)}disconnect(){let{store:h}=this.opts;if(typeof h.disconnect=="function")return h.disconnect()}};n.exports=c}),zT=Te((e,n)=>{"use strict";var t=["aborted","complete","headers","httpVersion","httpVersionMinor","httpVersionMajor","method","rawHeaders","rawTrailers","setTimeout","socket","statusCode","statusMessage","trailers","url"];n.exports=(r,a)=>{if(a._readableState.autoDestroy)throw new Error("The second stream must have the `autoDestroy` option set to `false`");let u=new Set(Object.keys(r).concat(t)),c={};for(let h of u)h in a||(c[h]={get(){let l=r[h];return typeof l=="function"?l.bind(r):l},set(l){r[h]=l},enumerable:!0,configurable:!1});return Object.defineProperties(a,c),r.once("aborted",()=>{a.destroy(),a.emit("aborted")}),r.once("close",()=>{r.complete&&a.readable?a.once("end",()=>{a.emit("close")}):a.emit("close")}),a}}),$T=Te((e,n)=>{"use strict";var{Transform:t,PassThrough:r}=require("stream"),a=require("zlib"),u=zT();n.exports=c=>{let h=(c.headers["content-encoding"]||"").toLowerCase();if(!["gzip","deflate","br"].includes(h))return c;let l=h==="br";if(l&&typeof a.createBrotliDecompress!="function")return c.destroy(new Error("Brotli is not supported on Node.js < 12")),c;let s=!0,d=new t({transform(I,C,_){s=!1,_(null,I)},flush(I){I()}}),f=new r({autoDestroy:!1,destroy(I,C){c.destroy(),C(I)}}),g=l?a.createBrotliDecompress():a.createUnzip();return g.once("error",I=>{if(s&&!c.readable){f.end();return}f.destroy(I)}),u(c,f),c.pipe(d).pipe(g).pipe(f),f}}),qm=Te((e,n)=>{"use strict";var t=class{constructor(r={}){if(!(r.maxSize&&r.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=r.maxSize,this.onEviction=r.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(r,a){if(this.cache.set(r,a),this._size++,this._size>=this.maxSize){if(this._size=0,typeof this.onEviction=="function")for(let[u,c]of this.oldCache.entries())this.onEviction(u,c);this.oldCache=this.cache,this.cache=new Map}}get(r){if(this.cache.has(r))return this.cache.get(r);if(this.oldCache.has(r)){let a=this.oldCache.get(r);return this.oldCache.delete(r),this._set(r,a),a}}set(r,a){return this.cache.has(r)?this.cache.set(r,a):this._set(r,a),this}has(r){return this.cache.has(r)||this.oldCache.has(r)}peek(r){if(this.cache.has(r))return this.cache.get(r);if(this.oldCache.has(r))return this.oldCache.get(r)}delete(r){let a=this.cache.delete(r);return a&&this._size--,this.oldCache.delete(r)||a}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(let[r]of this)yield r}*values(){for(let[,r]of this)yield r}*[Symbol.iterator](){for(let r of this.cache)yield r;for(let r of this.oldCache){let[a]=r;this.cache.has(a)||(yield r)}}get size(){let r=0;for(let a of this.oldCache.keys())this.cache.has(a)||r++;return Math.min(this._size+r,this.maxSize)}};n.exports=t}),Fm=Te((e,n)=>{"use strict";n.exports=t=>{if(t.listenerCount("error")!==0)return t;t.__destroy=t._destroy,t._destroy=(...a)=>{let u=a.pop();t.__destroy(...a,async c=>{await Promise.resolve(),u(c)})};let r=a=>{Promise.resolve().then(()=>{t.emit("error",a)})};return t.once("error",r),Promise.resolve().then(()=>{t.off("error",r)}),t}}),Eo=Te((e,n)=>{"use strict";var{URL:t}=require("url"),r=require("events"),a=require("tls"),u=require("http2"),c=qm(),h=Fm(),l=Symbol("currentStreamCount"),s=Symbol("request"),d=Symbol("cachedOriginSet"),f=Symbol("gracefullyClosing"),g=Symbol("length"),I=["createConnection","maxDeflateDynamicTableSize","maxSettings","maxSessionMemory","maxHeaderListPairs","maxOutstandingPings","maxReservedRemoteStreams","maxSendHeaderBlockLength","paddingStrategy","peerMaxConcurrentStreams","settings","family","localAddress","rejectUnauthorized","pskCallback","minDHSize","path","socket","ca","cert","sigalgs","ciphers","clientCertEngine","crl","dhparam","ecdhCurve","honorCipherOrder","key","privateKeyEngine","privateKeyIdentifier","maxVersion","minVersion","pfx","secureOptions","secureProtocol","sessionIdContext","ticketKeys"],C=(A,S,N)=>{let D=0,E=A.length;for(;D<E;){let m=D+E>>>1;N(A[m],S)?D=m+1:E=m}return D},_=(A,S)=>A.remoteSettings.maxConcurrentStreams>S.remoteSettings.maxConcurrentStreams,T=(A,S)=>{for(let N=0;N<A.length;N++){let D=A[N];D[d].length>0&&D[d].length<S[d].length&&D[d].every(E=>S[d].includes(E))&&D[l]+S[l]<=S.remoteSettings.maxConcurrentStreams&&P(D)}},B=(A,S)=>{for(let N=0;N<A.length;N++){let D=A[N];if(S[d].length>0&&S[d].length<D[d].length&&S[d].every(E=>D[d].includes(E))&&S[l]+D[l]<=D.remoteSettings.maxConcurrentStreams)return P(S),!0}return!1},P=A=>{A[f]=!0,A[l]===0&&A.close()},p=class extends r{constructor({timeout:A=0,maxSessions:S=Number.POSITIVE_INFINITY,maxEmptySessions:N=10,maxCachedTlsSessions:D=100}={}){super(),this.sessions={},this.queue={},this.timeout=A,this.maxSessions=S,this.maxEmptySessions=N,this._emptySessionCount=0,this._sessionCount=0,this.settings={enablePush:!1,initialWindowSize:1024*1024*32},this.tlsSessionCache=new c({maxSize:D})}get protocol(){return"https:"}normalizeOptions(A){let S="";for(let N=0;N<I.length;N++){let D=I[N];S+=":",A&&A[D]!==void 0&&(S+=A[D])}return S}_processQueue(){if(this._sessionCount>=this.maxSessions){this.closeEmptySessions(this.maxSessions-this._sessionCount+1);return}for(let A in this.queue)for(let S in this.queue[A]){let N=this.queue[A][S];N.completed||(N.completed=!0,N())}}_isBetterSession(A,S){return A>S}_accept(A,S,N,D){let E=0;for(;E<S.length&&A[l]<A.remoteSettings.maxConcurrentStreams;)S[E].resolve(A),E++;S.splice(0,E),S.length>0&&(this.getSession(N,D,S),S.length=0)}getSession(A,S,N){return new Promise((D,E)=>{Array.isArray(N)&&N.length>0?(N=[...N],D()):N=[{resolve:D,reject:E}];try{if(typeof A=="string")A=new t(A);else if(!(A instanceof t))throw new TypeError("The `origin` argument needs to be a string or an URL object");if(S){let{servername:V}=S,{hostname:w}=A;if(V&&w!==V)throw new Error(`Origin ${w} differs from servername ${V}`)}}catch(V){for(let w=0;w<N.length;w++)N[w].reject(V);return}let m=this.normalizeOptions(S),y=A.origin;if(m in this.sessions){let V=this.sessions[m],w=-1,L=-1,j;for(let O=0;O<V.length;O++){let F=V[O],J=F.remoteSettings.maxConcurrentStreams;if(J<w)break;if(!F[d].includes(y))continue;let oe=F[l];oe>=J||F[f]||F.destroyed||(j||(w=J),this._isBetterSession(oe,L)&&(j=F,L=oe))}if(j){this._accept(j,N,y,S);return}}if(m in this.queue){if(y in this.queue[m]){this.queue[m][y].listeners.push(...N);return}}else this.queue[m]={[g]:0};let q=()=>{m in this.queue&&this.queue[m][y]===M&&(delete this.queue[m][y],--this.queue[m][g]===0&&delete this.queue[m])},M=async()=>{this._sessionCount++;let V=`${y}:${m}`,w=!1,L;try{let j={...S};j.settings===void 0&&(j.settings=this.settings),j.session===void 0&&(j.session=this.tlsSessionCache.get(V)),L=await(j.createConnection||this.createConnection).call(this,A,j),j.createConnection=()=>L;let O=u.connect(A,j);O[l]=0,O[f]=!1;let F=()=>{let{socket:se}=O,de;return se.servername===!1?(se.servername=se.remoteAddress,de=O.originSet,se.servername=!1):de=O.originSet,de},J=()=>O[l]<O.remoteSettings.maxConcurrentStreams;O.socket.once("session",se=>{this.tlsSessionCache.set(V,se)}),O.once("error",se=>{for(let de=0;de<N.length;de++)N[de].reject(se);this.tlsSessionCache.delete(V)}),O.setTimeout(this.timeout,()=>{O.destroy()}),O.once("close",()=>{if(this._sessionCount--,w){this._emptySessionCount--;let se=this.sessions[m];se.length===1?delete this.sessions[m]:se.splice(se.indexOf(O),1)}else{q();let se=new Error("Session closed without receiving a SETTINGS frame");se.code="HTTP2WRAPPER_NOSETTINGS";for(let de=0;de<N.length;de++)N[de].reject(se)}this._processQueue()});let oe=()=>{let se=this.queue[m];if(!se)return;let de=O[d];for(let ke=0;ke<de.length;ke++){let Oe=de[ke];if(Oe in se){let{listeners:Ve,completed:Ee}=se[Oe],We=0;for(;We<Ve.length&&J();)Ve[We].resolve(O),We++;if(se[Oe].listeners.splice(0,We),se[Oe].listeners.length===0&&!Ee&&(delete se[Oe],--se[g]===0)){delete this.queue[m];break}if(!J())break}}};O.on("origin",()=>{O[d]=F()||[],O[f]=!1,B(this.sessions[m],O),!(O[f]||!J())&&(oe(),J()&&T(this.sessions[m],O))}),O.once("remoteSettings",()=>{if(M.destroyed){let se=new Error("Agent has been destroyed");for(let de=0;de<N.length;de++)N[de].reject(se);O.destroy();return}if(O.setLocalWindowSize&&O.setLocalWindowSize(1024*1024*4),O[d]=F()||[],O.socket.encrypted){let se=O[d][0];if(se!==y){let de=new Error(`Requested origin ${y} does not match server ${se}`);for(let ke=0;ke<N.length;ke++)N[ke].reject(de);O.destroy();return}}q();{let se=this.sessions;if(m in se){let de=se[m];de.splice(C(de,O,_),0,O)}else se[m]=[O]}w=!0,this._emptySessionCount++,this.emit("session",O),this._accept(O,N,y,S),O[l]===0&&this._emptySessionCount>this.maxEmptySessions&&this.closeEmptySessions(this._emptySessionCount-this.maxEmptySessions),O.on("remoteSettings",()=>{J()&&(oe(),J()&&T(this.sessions[m],O))})}),O[s]=O.request,O.request=(se,de)=>{if(O[f])throw new Error("The session is gracefully closing. No new streams are allowed.");let ke=O[s](se,de);return O.ref(),O[l]++===0&&this._emptySessionCount--,ke.once("close",()=>{if(--O[l]===0&&(this._emptySessionCount++,O.unref(),this._emptySessionCount>this.maxEmptySessions||O[f])){O.close();return}O.destroyed||O.closed||J()&&!B(this.sessions[m],O)&&(T(this.sessions[m],O),oe(),O[l]===0&&this._processQueue())}),ke}}catch(j){q(),this._sessionCount--;for(let O=0;O<N.length;O++)N[O].reject(j)}};M.listeners=N,M.completed=!1,M.destroyed=!1,this.queue[m][y]=M,this.queue[m][g]++,this._processQueue()})}request(A,S,N,D){return new Promise((E,m)=>{this.getSession(A,S,[{reject:m,resolve:y=>{try{let q=y.request(N,D);h(q),E(q)}catch(q){m(q)}}}])})}async createConnection(A,S){return p.connect(A,S)}static connect(A,S){S.ALPNProtocols=["h2"];let N=A.port||443,D=A.hostname;typeof S.servername>"u"&&(S.servername=D);let E=a.connect(N,D,S);return S.socket&&(E._peername={family:void 0,address:void 0,port:N}),E}closeEmptySessions(A=Number.POSITIVE_INFINITY){let S=0,{sessions:N}=this;for(let D in N){let E=N[D];for(let m=0;m<E.length;m++){let y=E[m];if(y[l]===0&&(S++,y.close(),S>=A))return S}}return S}destroy(A){let{sessions:S,queue:N}=this;for(let D in S){let E=S[D];for(let m=0;m<E.length;m++)E[m].destroy(A)}for(let D in N){let E=N[D];for(let m in E)E[m].destroyed=!0}this.queue={},this.tlsSessionCache.clear()}get emptySessionCount(){return this._emptySessionCount}get pendingSessionCount(){return this._sessionCount-this._emptySessionCount}get sessionCount(){return this._sessionCount}};p.kCurrentStreamCount=l,p.kGracefullyClosing=f,n.exports={Agent:p,globalAgent:new p}}),Mm=Te((e,n)=>{"use strict";var{Readable:t}=require("stream"),r=class extends t{constructor(a,u){super({emitClose:!1,autoDestroy:!0,highWaterMark:u}),this.statusCode=null,this.statusMessage="",this.httpVersion="2.0",this.httpVersionMajor=2,this.httpVersionMinor=0,this.headers={},this.trailers={},this.req=null,this.aborted=!1,this.complete=!1,this.upgrade=null,this.rawHeaders=[],this.rawTrailers=[],this.socket=a,this._dumped=!1}get connection(){return this.socket}set connection(a){this.socket=a}_destroy(a,u){this.readableEnded||(this.aborted=!0),u(),this.req._request.destroy(a)}setTimeout(a,u){return this.req.setTimeout(a,u),this}_dump(){this._dumped||(this._dumped=!0,this.removeAllListeners("data"),this.resume())}_read(){this.req&&this.req._request.resume()}};n.exports=r}),KT=Te((e,n)=>{"use strict";n.exports=(t,r,a)=>{for(let u of a)t.on(u,(...c)=>r.emit(u,...c))}}),Vc=Te((e,n)=>{"use strict";var t=(r,a,u)=>{n.exports[a]=class extends r{constructor(...c){super(typeof u=="string"?u:u(c)),this.name=`${super.name} [${a}]`,this.code=a}}};t(TypeError,"ERR_INVALID_ARG_TYPE",r=>{let a=r[0].includes(".")?"property":"argument",u=r[1],c=Array.isArray(u);return c&&(u=`${u.slice(0,-1).join(", ")} or ${u.slice(-1)}`),`The "${r[0]}" ${a} must be ${c?"one of":"of"} type ${u}. Received ${typeof r[2]}`}),t(TypeError,"ERR_INVALID_PROTOCOL",r=>`Protocol "${r[0]}" not supported. Expected "${r[1]}"`),t(Error,"ERR_HTTP_HEADERS_SENT",r=>`Cannot ${r[0]} headers after they are sent to the client`),t(TypeError,"ERR_INVALID_HTTP_TOKEN",r=>`${r[0]} must be a valid HTTP token [${r[1]}]`),t(TypeError,"ERR_HTTP_INVALID_HEADER_VALUE",r=>`Invalid value "${r[0]} for header "${r[1]}"`),t(TypeError,"ERR_INVALID_CHAR",r=>`Invalid character in ${r[0]} [${r[1]}]`),t(Error,"ERR_HTTP2_NO_SOCKET_MANIPULATION","HTTP/2 sockets should not be directly manipulated (e.g. read and written)")}),HT=Te((e,n)=>{"use strict";n.exports=t=>{switch(t){case":method":case":scheme":case":authority":case":path":return!0;default:return!1}}}),zm=Te((e,n)=>{"use strict";var{ERR_INVALID_HTTP_TOKEN:t}=Vc(),r=HT(),a=/^[\^`\-\w!#$%&*+.|~]+$/;n.exports=u=>{if(typeof u!="string"||!a.test(u)&&!r(u))throw new t("Header name",u)}}),$m=Te((e,n)=>{"use strict";var{ERR_HTTP_INVALID_HEADER_VALUE:t,ERR_INVALID_CHAR:r}=Vc(),a=/[^\t\u0020-\u007E\u0080-\u00FF]/;n.exports=(u,c)=>{if(typeof c>"u")throw new t(c,u);if(a.test(c))throw new r("header content",u)}}),WT=Te((e,n)=>{"use strict";var{ERR_HTTP2_NO_SOCKET_MANIPULATION:t}=Vc(),r={has(a,u){let c=a.session===void 0?a:a.session.socket;return u in a||u in c},get(a,u){switch(u){case"on":case"once":case"end":case"emit":case"destroy":return a[u].bind(a);case"writable":case"destroyed":return a[u];case"readable":return a.destroyed?!1:a.readable;case"setTimeout":{let{session:c}=a;return c!==void 0?c.setTimeout.bind(c):a.setTimeout.bind(a)}case"write":case"read":case"pause":case"resume":throw new t;default:{let c=a.session===void 0?a:a.session.socket,h=c[u];return typeof h=="function"?h.bind(c):h}}},getPrototypeOf(a){return a.session!==void 0?Reflect.getPrototypeOf(a.session.socket):Reflect.getPrototypeOf(a)},set(a,u,c){switch(u){case"writable":case"readable":case"destroyed":case"on":case"once":case"end":case"emit":case"destroy":return a[u]=c,!0;case"setTimeout":{let{session:h}=a;return h===void 0?a.setTimeout=c:h.setTimeout=c,!0}case"write":case"read":case"pause":case"resume":throw new t;default:{let h=a.session===void 0?a:a.session.socket;return h[u]=c,!0}}}};n.exports=r}),Km=Te((e,n)=>{"use strict";var{URL:t,urlToHttpOptions:r}=require("url"),a=require("http2"),{Writable:u}=require("stream"),{Agent:c,globalAgent:h}=Eo(),l=Mm(),s=KT(),{ERR_INVALID_ARG_TYPE:d,ERR_INVALID_PROTOCOL:f,ERR_HTTP_HEADERS_SENT:g}=Vc(),I=zm(),C=$m(),_=WT(),{HTTP2_HEADER_STATUS:T,HTTP2_HEADER_METHOD:B,HTTP2_HEADER_PATH:P,HTTP2_HEADER_AUTHORITY:p,HTTP2_METHOD_CONNECT:A}=a.constants,S=Symbol("headers"),N=Symbol("origin"),D=Symbol("session"),E=Symbol("options"),m=Symbol("flushedHeaders"),y=Symbol("jobs"),q=Symbol("pendingAgentPromise"),M=class extends u{constructor(V,w,L){if(super({autoDestroy:!1,emitClose:!1}),typeof V=="string"?V=r(new t(V)):V instanceof t?V=r(V):V={...V},typeof w=="function"||w===void 0?(L=w,w=V):w=Object.assign(V,w),w.h2session){if(this[D]=w.h2session,this[D].destroyed)throw new Error("The session has been closed already");this.protocol=this[D].socket.encrypted?"https:":"http:"}else if(w.agent===!1)this.agent=new c({maxEmptySessions:0});else if(typeof w.agent>"u"||w.agent===null)this.agent=h;else if(typeof w.agent.request=="function")this.agent=w.agent;else throw new d("options.agent",["http2wrapper.Agent-like Object","undefined","false"],w.agent);if(this.agent&&(this.protocol=this.agent.protocol),w.protocol&&w.protocol!==this.protocol)throw new f(w.protocol,this.protocol);w.port||(w.port=w.defaultPort||this.agent&&this.agent.defaultPort||443),w.host=w.hostname||w.host||"localhost",delete w.hostname;let{timeout:j}=w;w.timeout=void 0,this[S]=Object.create(null),this[y]=[],this[q]=void 0,this.socket=null,this.connection=null,this.method=w.method||"GET",this.method==="CONNECT"&&(w.path==="/"||w.path===void 0)||(this.path=w.path),this.res=null,this.aborted=!1,this.reusedSocket=!1;let{headers:O}=w;if(O)for(let J in O)this.setHeader(J,O[J]);w.auth&&!("authorization"in this[S])&&(this[S].authorization="Basic "+Buffer.from(w.auth).toString("base64")),w.session=w.tlsSession,w.path=w.socketPath,this[E]=w,this[N]=new t(`${this.protocol}//${w.servername||w.host}:${w.port}`);let F=w._reuseSocket;F&&(w.createConnection=(...J)=>F.destroyed?this.agent.createConnection(...J):F,this.agent.getSession(this[N],this[E]).catch(()=>{})),j&&this.setTimeout(j),L&&this.once("response",L),this[m]=!1}get method(){return this[S][B]}set method(V){V&&(this[S][B]=V.toUpperCase())}get path(){let V=this.method==="CONNECT"?p:P;return this[S][V]}set path(V){if(V){let w=this.method==="CONNECT"?p:P;this[S][w]=V}}get host(){return this[N].hostname}set host(V){}get _mustNotHaveABody(){return this.method==="GET"||this.method==="HEAD"||this.method==="DELETE"}_write(V,w,L){if(this._mustNotHaveABody){L(new Error("The GET, HEAD and DELETE methods must NOT have a body"));return}this.flushHeaders();let j=()=>this._request.write(V,w,L);this._request?j():this[y].push(j)}_final(V){this.flushHeaders();let w=()=>{if(this._mustNotHaveABody||this.method==="CONNECT"){V();return}this._request.end(V)};this._request?w():this[y].push(w)}abort(){this.res&&this.res.complete||(this.aborted||process.nextTick(()=>this.emit("abort")),this.aborted=!0,this.destroy())}async _destroy(V,w){this.res&&this.res._dump(),this._request?this._request.destroy():process.nextTick(()=>{this.emit("close")});try{await this[q]}catch(L){this.aborted&&(V=L)}w(V)}async flushHeaders(){if(this[m]||this.destroyed)return;this[m]=!0;let V=this.method===A,w=L=>{if(this._request=L,this.destroyed){L.destroy();return}V||s(L,this,["timeout","continue"]),L.once("error",O=>{this.destroy(O)}),L.once("aborted",()=>{let{res:O}=this;O?(O.aborted=!0,O.emit("aborted"),O.destroy()):this.destroy(new Error("The server aborted the HTTP/2 stream"))});let j=(O,F,J)=>{let oe=new l(this.socket,L.readableHighWaterMark);this.res=oe,oe.url=`${this[N].origin}${this.path}`,oe.req=this,oe.statusCode=O[T],oe.headers=O,oe.rawHeaders=J,oe.once("end",()=>{oe.complete=!0,oe.socket=null,oe.connection=null}),V?(oe.upgrade=!0,this.emit("connect",oe,L,Buffer.alloc(0))?this.emit("close"):L.destroy()):(L.on("data",se=>{!oe._dumped&&!oe.push(se)&&L.pause()}),L.once("end",()=>{this.aborted||oe.push(null)}),this.emit("response",oe)||oe._dump())};L.once("response",j),L.once("headers",O=>this.emit("information",{statusCode:O[T]})),L.once("trailers",(O,F,J)=>{let{res:oe}=this;if(oe===null){j(O,F,J);return}oe.trailers=O,oe.rawTrailers=J}),L.once("close",()=>{let{aborted:O,res:F}=this;if(F){O&&(F.aborted=!0,F.emit("aborted"),F.destroy());let J=()=>{F.emit("close"),this.destroy(),this.emit("close")};F.readable?F.once("end",J):J();return}if(!this.destroyed){this.destroy(new Error("The HTTP/2 stream has been early terminated")),this.emit("close");return}this.destroy(),this.emit("close")}),this.socket=new Proxy(L,_);for(let O of this[y])O();this[y].length=0,this.emit("socket",this.socket)};if(!(p in this[S])&&!V&&(this[S][p]=this[N].host),this[D])try{w(this[D].request(this[S]))}catch(L){this.destroy(L)}else{this.reusedSocket=!0;try{let L=this.agent.request(this[N],this[E],this[S]);this[q]=L,w(await L),this[q]=!1}catch(L){this[q]=!1,this.destroy(L)}}}get connection(){return this.socket}set connection(V){this.socket=V}getHeaderNames(){return Object.keys(this[S])}hasHeader(V){if(typeof V!="string")throw new d("name","string",V);return!!this[S][V.toLowerCase()]}getHeader(V){if(typeof V!="string")throw new d("name","string",V);return this[S][V.toLowerCase()]}get headersSent(){return this[m]}removeHeader(V){if(typeof V!="string")throw new d("name","string",V);if(this.headersSent)throw new g("remove");delete this[S][V.toLowerCase()]}setHeader(V,w){if(this.headersSent)throw new g("set");I(V),C(V,w);let L=V.toLowerCase();if(L==="connection"){if(w.toLowerCase()==="keep-alive")return;throw new Error(`Invalid 'connection' header: ${w}`)}L==="host"&&this.method==="CONNECT"?this[S][p]=w:this[S][L]=w}setNoDelay(){}setSocketKeepAlive(){}setTimeout(V,w){let L=()=>this._request.setTimeout(V,w);return this._request?L():this[y].push(L),this}get maxHeadersCount(){if(!this.destroyed&&this._request)return this._request.session.localSettings.maxHeaderListSize}set maxHeadersCount(V){}};n.exports=M}),GT=Te((e,n)=>{"use strict";var t=require("tls");n.exports=(r={},a=t.connect)=>new Promise((u,c)=>{let h=!1,l,s=async()=>{await f,l.off("timeout",d),l.off("error",c),r.resolveSocket?(u({alpnProtocol:l.alpnProtocol,socket:l,timeout:h}),h&&(await Promise.resolve(),l.emit("timeout"))):(l.destroy(),u({alpnProtocol:l.alpnProtocol,timeout:h}))},d=async()=>{h=!0,s()},f=(async()=>{try{l=await a(r,s),l.on("error",c),l.once("timeout",d)}catch(g){c(g)}})()})}),QT=Te((e,n)=>{"use strict";var{isIP:t}=require("net"),r=require("assert"),a=u=>{if(u[0]==="["){let h=u.indexOf("]");return r(h!==-1),u.slice(1,h)}let c=u.indexOf(":");return c===-1?u:u.slice(0,c)};n.exports=u=>{let c=a(u);return t(c)?"":c}}),YT=Te((e,n)=>{"use strict";var{URL:t,urlToHttpOptions:r}=require("url"),a=require("http"),u=require("https"),c=GT(),h=qm(),{Agent:l,globalAgent:s}=Eo(),d=Km(),f=QT(),g=Fm(),I=new h({maxSize:100}),C=new Map,_=(P,p,A)=>{p._httpMessage={shouldKeepAlive:!0};let S=()=>{P.emit("free",p,A)};p.on("free",S);let N=()=>{P.removeSocket(p,A)};p.on("close",N);let D=()=>{let{freeSockets:m}=P;for(let y of Object.values(m))if(y.includes(p)){p.destroy();return}};p.on("timeout",D);let E=()=>{P.removeSocket(p,A),p.off("close",N),p.off("free",S),p.off("timeout",D),p.off("agentRemove",E)};p.on("agentRemove",E),P.emit("free",p,A)},T=(P,p=new Map,A=void 0)=>async S=>{let N=`${S.host}:${S.port}:${S.ALPNProtocols.sort()}`;if(!P.has(N)){if(p.has(N))return{alpnProtocol:(await p.get(N)).alpnProtocol};let{path:D}=S;S.path=S.socketPath;let E=c(S,A);p.set(N,E);try{let m=await E;return P.set(N,m.alpnProtocol),p.delete(N),S.path=D,m}catch(m){throw p.delete(N),S.path=D,m}}return{alpnProtocol:P.get(N)}},B=T(I,C);n.exports=async(P,p,A)=>{if(typeof P=="string"?P=r(new t(P)):P instanceof t?P=r(P):P={...P},typeof p=="function"||p===void 0?(A=p,p=P):p=Object.assign(P,p),p.ALPNProtocols=p.ALPNProtocols||["h2","http/1.1"],!Array.isArray(p.ALPNProtocols)||p.ALPNProtocols.length===0)throw new Error("The `ALPNProtocols` option must be an Array with at least one entry");p.protocol=p.protocol||"https:";let S=p.protocol==="https:";p.host=p.hostname||p.host||"localhost",p.session=p.tlsSession,p.servername=p.servername||f(p.headers&&p.headers.host||p.host),p.port=p.port||(S?443:80),p._defaultAgent=S?u.globalAgent:a.globalAgent;let N=p.resolveProtocol||B,{agent:D}=p;if(D!==void 0&&D!==!1&&D.constructor.name!=="Object")throw new Error("The `options.agent` can be only an object `http`, `https` or `http2` properties");if(S){p.resolveSocket=!0;let{socket:E,alpnProtocol:m,timeout:y}=await N(p);if(y){E&&E.destroy();let M=new Error(`Timed out resolving ALPN: ${p.timeout} ms`);throw M.code="ETIMEDOUT",M.ms=p.timeout,M}E&&p.createConnection&&(E.destroy(),E=void 0),delete p.resolveSocket;let q=m==="h2";if(D&&(D=q?D.http2:D.https,p.agent=D),D===void 0&&(D=q?s:u.globalAgent),E)if(D===!1)E.destroy();else{let M=(q?l:u.Agent).prototype.createConnection;D.createConnection===M?q?p._reuseSocket=E:_(D,E,p):E.destroy()}if(q)return g(new d(p,A))}else D&&(p.agent=D.http);return g(a.request(p,A))},n.exports.protocolCache=I,n.exports.resolveProtocol=B,n.exports.createResolveProtocol=T}),Hm=Te((e,n)=>{"use strict";var t=require("stream"),r=require("tls"),a=new r.TLSSocket(new t.PassThrough)._handle._parentWrap.constructor;n.exports=a}),Wm=Te((e,n)=>{"use strict";var t=class extends Error{constructor(r,a=""){super(`The proxy server rejected the request with status code ${r} (${a||"empty status message"})`),this.statusCode=r,this.statusMessage=a}};n.exports=t}),ZT=Te((e,n)=>{"use strict";var t=(r,a,u)=>{if(!u.some(c=>typeof c=="string"?typeof a===c:a instanceof c)){let c=u.map(h=>typeof h=="string"?h:h.name);throw new TypeError(`Expected '${r}' to be a type of ${c.join(" or ")}, got ${typeof a}`)}};n.exports=t}),Gm=Te((e,n)=>{"use strict";var{URL:t}=require("url"),r=ZT();n.exports=(a,u)=>{r("proxyOptions",u,["object"]),r("proxyOptions.headers",u.headers,["object","undefined"]),r("proxyOptions.raw",u.raw,["boolean","undefined"]),r("proxyOptions.url",u.url,[t,"string"]);let c=new t(u.url);a.proxyOptions={raw:!0,...u,headers:{...u.headers},url:c}}}),Xd=Te((e,n)=>{"use strict";n.exports=t=>{let{username:r,password:a}=t.proxyOptions.url;if(r||a){let u=`${r}:${a}`,c=`Basic ${Buffer.from(u).toString("base64")}`;return{"proxy-authorization":c,authorization:c}}return{}}}),XT=Te((e,n)=>{"use strict";var t=require("tls"),r=require("http"),a=require("https"),u=Hm(),{globalAgent:c}=Eo(),h=Wm(),l=Gm(),s=Xd(),d=(I,C,_)=>{(async()=>{try{let{proxyOptions:T}=I,{url:B,headers:P,raw:p}=T,A=await c.request(B,T,{...s(I),...P,":method":"CONNECT",":authority":`${C.host}:${C.port}`});A.once("error",_),A.once("response",S=>{let N=S[":status"];if(N!==200){_(new h(N,""));return}let D=I instanceof a.Agent;if(p&&D){C.socket=A;let m=t.connect(C);m.once("close",()=>{A.destroy()}),_(null,m);return}let E=new u(A);E.encrypted=!1,E._handle.getpeername=m=>{m.family=void 0,m.address=void 0,m.port=void 0},_(null,E)})}catch(T){_(T)}})()},f=class extends r.Agent{constructor(I){super(I),l(this,I.proxyOptions)}createConnection(I,C){d(this,I,C)}},g=class extends a.Agent{constructor(I){super(I),l(this,I.proxyOptions)}createConnection(I,C){d(this,I,C)}};n.exports={HttpOverHttp2:f,HttpsOverHttp2:g}}),Qm=Te((e,n)=>{"use strict";var{Agent:t}=Eo(),r=Hm(),a=Wm(),u=Gm(),c=class extends t{constructor(h){super(h),u(this,h.proxyOptions)}async createConnection(h,l){let s=`${h.hostname}:${h.port||443}`,[d,f,g]=await this._getProxyStream(s);if(f!==200)throw new a(f,g);if(this.proxyOptions.raw)l.socket=d;else{let I=new r(d);return I.encrypted=!1,I._handle.getpeername=C=>{C.family=void 0,C.address=void 0,C.port=void 0},I}return super.createConnection(h,l)}};n.exports=c}),JT=Te((e,n)=>{"use strict";var{globalAgent:t}=Eo(),r=Qm(),a=Xd(),u=h=>new Promise((l,s)=>{h.once("error",s),h.once("response",d=>{h.off("error",s),l(d[":status"])})}),c=class extends r{async _getProxyStream(h){let{proxyOptions:l}=this,s={...a(this),...l.headers,":method":"CONNECT",":authority":h},d=await t.request(l.url,l,s),f=await u(d);return[d,f,""]}};n.exports=c}),e3=Te((e,n)=>{"use strict";var t=require("http"),r=require("https"),a=Qm(),u=Xd(),c=l=>new Promise((s,d)=>{let f=(g,I,C)=>{I.unshift(C),l.off("error",d),s([I,g.statusCode,g.statusMessage])};l.once("error",d),l.once("connect",f)}),h=class extends a{async _getProxyStream(l){let{proxyOptions:s}=this,{url:d,headers:f}=this.proxyOptions,g=(d.protocol==="https:"?r:t).request({...s,hostname:d.hostname,port:d.port,path:l,headers:{...u(this),...f,host:l},method:"CONNECT"}).end();return c(g)}};n.exports={Http2OverHttp:h,Http2OverHttps:h}}),t3=Te((e,n)=>{"use strict";var t=require("http2"),{Agent:r,globalAgent:a}=Eo(),u=Km(),c=Mm(),h=YT(),{HttpOverHttp2:l,HttpsOverHttp2:s}=XT(),d=JT(),{Http2OverHttp:f,Http2OverHttps:g}=e3(),I=zm(),C=$m(),_=(B,P,p)=>new u(B,P,p),T=(B,P,p)=>{let A=new u(B,P,p);return A.end(),A};n.exports={...t,ClientRequest:u,IncomingMessage:c,Agent:r,globalAgent:a,request:_,get:T,auto:h,proxies:{HttpOverHttp2:l,HttpsOverHttp2:s,Http2OverHttp2:d,Http2OverHttp:f,Http2OverHttps:g},validateHeaderName:I,validateHeaderValue:C}}),r3=Te((e,n)=>{if(!globalThis.DOMException)try{let{MessageChannel:t}=require("worker_threads"),r=new t().port1,a=new ArrayBuffer;r.postMessage(a,[a,a])}catch(t){t.constructor.name==="DOMException"&&(globalThis.DOMException=t.constructor)}n.exports=globalThis.DOMException}),qc=Te((e,n)=>{var t=function(r,a){Error.call(this,r),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="JsonWebTokenError",this.message=r,a&&(this.inner=a)};t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,n.exports=t}),Ym=Te((e,n)=>{var t=qc(),r=function(a,u){t.call(this,a),this.name="NotBeforeError",this.date=u};r.prototype=Object.create(t.prototype),r.prototype.constructor=r,n.exports=r}),Zm=Te((e,n)=>{var t=qc(),r=function(a,u){t.call(this,a),this.name="TokenExpiredError",this.expiredAt=u};r.prototype=Object.create(t.prototype),r.prototype.constructor=r,n.exports=r}),Du=Te((e,n)=>{var t=require("buffer"),r=t.Buffer;function a(c,h){for(var l in c)h[l]=c[l]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?n.exports=t:(a(t,e),e.Buffer=u);function u(c,h,l){return r(c,h,l)}u.prototype=Object.create(r.prototype),a(r,u),u.from=function(c,h,l){if(typeof c=="number")throw new TypeError("Argument must not be a number");return r(c,h,l)},u.alloc=function(c,h,l){if(typeof c!="number")throw new TypeError("Argument must be a number");var s=r(c);return h!==void 0?typeof l=="string"?s.fill(h,l):s.fill(h):s.fill(0),s},u.allocUnsafe=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return r(c)},u.allocUnsafeSlow=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(c)}}),Xm=Te((e,n)=>{var t=Du().Buffer,r=require("stream"),a=require("util");function u(c){if(this.buffer=null,this.writable=!0,this.readable=!0,!c)return this.buffer=t.alloc(0),this;if(typeof c.pipe=="function")return this.buffer=t.alloc(0),c.pipe(this),this;if(c.length||typeof c=="object")return this.buffer=c,this.writable=!1,process.nextTick(function(){this.emit("end",c),this.readable=!1,this.emit("close")}.bind(this)),this;throw new TypeError("Unexpected data type ("+typeof c+")")}a.inherits(u,r),u.prototype.write=function(c){this.buffer=t.concat([this.buffer,t.from(c)]),this.emit("data",c)},u.prototype.end=function(c){c&&this.write(c),this.emit("end",c),this.emit("close"),this.writable=!1,this.readable=!1},n.exports=u}),n3=Te((e,n)=>{"use strict";var t=require("buffer").Buffer,r=require("buffer").SlowBuffer;n.exports=a;function a(h,l){if(!t.isBuffer(h)||!t.isBuffer(l)||h.length!==l.length)return!1;for(var s=0,d=0;d<h.length;d++)s|=h[d]^l[d];return s===0}a.install=function(){t.prototype.equal=r.prototype.equal=function(h){return a(this,h)}};var u=t.prototype.equal,c=r.prototype.equal;a.restore=function(){t.prototype.equal=u,r.prototype.equal=c}}),i3=Te((e,n)=>{"use strict";function t(u){var c=(u/8|0)+(u%8===0?0:1);return c}var r={ES256:t(256),ES384:t(384),ES512:t(521)};function a(u){var c=r[u];if(c)return c;throw new Error('Unknown algorithm "'+u+'"')}n.exports=a}),a3=Te((e,n)=>{"use strict";var t=Du().Buffer,r=i3(),a=128,u=0,c=32,h=16,l=2,s=h|c|u<<6,d=l|u<<6;function f(T){return T.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function g(T){if(t.isBuffer(T))return T;if(typeof T=="string")return t.from(T,"base64");throw new TypeError("ECDSA signature must be a Base64 string or a Buffer")}function I(T,B){T=g(T);var P=r(B),p=P+1,A=T.length,S=0;if(T[S++]!==s)throw new Error('Could not find expected "seq"');var N=T[S++];if(N===(a|1)&&(N=T[S++]),A-S<N)throw new Error('"seq" specified length of "'+N+'", only "'+(A-S)+'" remaining');if(T[S++]!==d)throw new Error('Could not find expected "int" for "r"');var D=T[S++];if(A-S-2<D)throw new Error('"r" specified length of "'+D+'", only "'+(A-S-2)+'" available');if(p<D)throw new Error('"r" specified length of "'+D+'", max of "'+p+'" is acceptable');var E=S;if(S+=D,T[S++]!==d)throw new Error('Could not find expected "int" for "s"');var m=T[S++];if(A-S!==m)throw new Error('"s" specified length of "'+m+'", expected "'+(A-S)+'"');if(p<m)throw new Error('"s" specified length of "'+m+'", max of "'+p+'" is acceptable');var y=S;if(S+=m,S!==A)throw new Error('Expected to consume entire buffer, but "'+(A-S)+'" bytes remain');var q=P-D,M=P-m,V=t.allocUnsafe(q+D+M+m);for(S=0;S<q;++S)V[S]=0;T.copy(V,S,E+Math.max(-q,0),E+D),S=P;for(var w=S;S<w+M;++S)V[S]=0;return T.copy(V,S,y+Math.max(-M,0),y+m),V=V.toString("base64"),V=f(V),V}function C(T,B,P){for(var p=0;B+p<P&&T[B+p]===0;)++p;var A=T[B+p]>=a;return A&&--p,p}function _(T,B){T=g(T);var P=r(B),p=T.length;if(p!==P*2)throw new TypeError('"'+B+'" signatures must be "'+P*2+'" bytes, saw "'+p+'"');var A=C(T,0,P),S=C(T,P,T.length),N=P-A,D=P-S,E=1+1+N+1+1+D,m=E<a,y=t.allocUnsafe((m?2:3)+E),q=0;return y[q++]=s,m?y[q++]=E:(y[q++]=a|1,y[q++]=E&255),y[q++]=d,y[q++]=N,A<0?(y[q++]=0,q+=T.copy(y,q,0,P)):q+=T.copy(y,q,A,P),y[q++]=d,y[q++]=D,S<0?(y[q++]=0,T.copy(y,q,P)):T.copy(y,q,P+S),y}n.exports={derToJose:I,joseToDer:_}}),Jm=Te((e,n)=>{var t=n3(),r=Du().Buffer,a=require("crypto"),u=a3(),c=require("util"),h=`"%s" is not a valid algorithm.
  Supported algorithms are:
  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".`,l="secret must be a string or buffer",s="key must be a string or a buffer",d="key must be a string, a buffer or an object",f=typeof a.createPublicKey=="function";f&&(s+=" or a KeyObject",l+="or a KeyObject");function g(w){if(!r.isBuffer(w)&&typeof w!="string"&&(!f||typeof w!="object"||typeof w.type!="string"||typeof w.asymmetricKeyType!="string"||typeof w.export!="function"))throw B(s)}function I(w){if(!r.isBuffer(w)&&typeof w!="string"&&typeof w!="object")throw B(d)}function C(w){if(!r.isBuffer(w)){if(typeof w=="string")return w;if(!f||typeof w!="object"||w.type!=="secret"||typeof w.export!="function")throw B(l)}}function _(w){return w.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function T(w){w=w.toString();var L=4-w.length%4;if(L!==4)for(var j=0;j<L;++j)w+="=";return w.replace(/\-/g,"+").replace(/_/g,"/")}function B(w){var L=[].slice.call(arguments,1),j=c.format.bind(c,w).apply(null,L);return new TypeError(j)}function P(w){return r.isBuffer(w)||typeof w=="string"}function p(w){return P(w)||(w=JSON.stringify(w)),w}function A(w){return function(L,j){C(j),L=p(L);var O=a.createHmac("sha"+w,j),F=(O.update(L),O.digest("base64"));return _(F)}}function S(w){return function(L,j,O){var F=A(w)(L,O);return t(r.from(j),r.from(F))}}function N(w){return function(L,j){I(j),L=p(L);var O=a.createSign("RSA-SHA"+w),F=(O.update(L),O.sign(j,"base64"));return _(F)}}function D(w){return function(L,j,O){g(O),L=p(L),j=T(j);var F=a.createVerify("RSA-SHA"+w);return F.update(L),F.verify(O,j,"base64")}}function E(w){return function(L,j){I(j),L=p(L);var O=a.createSign("RSA-SHA"+w),F=(O.update(L),O.sign({key:j,padding:a.constants.RSA_PKCS1_PSS_PADDING,saltLength:a.constants.RSA_PSS_SALTLEN_DIGEST},"base64"));return _(F)}}function m(w){return function(L,j,O){g(O),L=p(L),j=T(j);var F=a.createVerify("RSA-SHA"+w);return F.update(L),F.verify({key:O,padding:a.constants.RSA_PKCS1_PSS_PADDING,saltLength:a.constants.RSA_PSS_SALTLEN_DIGEST},j,"base64")}}function y(w){var L=N(w);return function(){var j=L.apply(null,arguments);return j=u.derToJose(j,"ES"+w),j}}function q(w){var L=D(w);return function(j,O,F){O=u.joseToDer(O,"ES"+w).toString("base64");var J=L(j,O,F);return J}}function M(){return function(){return""}}function V(){return function(w,L){return L===""}}n.exports=function(w){var L={hs:A,rs:N,ps:E,es:y,none:M},j={hs:S,rs:D,ps:m,es:q,none:V},O=w.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i);if(!O)throw B(h,w);var F=(O[1]||O[3]).toLowerCase(),J=O[2];return{sign:L[F](J),verify:j[F](J)}}}),ev=Te((e,n)=>{var t=require("buffer").Buffer;n.exports=function(r){return typeof r=="string"?r:typeof r=="number"||t.isBuffer(r)?r.toString():JSON.stringify(r)}}),s3=Te((e,n)=>{var t=Du().Buffer,r=Xm(),a=Jm(),u=require("stream"),c=ev(),h=require("util");function l(g,I){return t.from(g,I).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function s(g,I,C){C=C||"utf8";var _=l(c(g),"binary"),T=l(c(I),C);return h.format("%s.%s",_,T)}function d(g){var I=g.header,C=g.payload,_=g.secret||g.privateKey,T=g.encoding,B=a(I.alg),P=s(I,C,T),p=B.sign(P,_);return h.format("%s.%s",P,p)}function f(g){var I=g.secret||g.privateKey||g.key,C=new r(I);this.readable=!0,this.header=g.header,this.encoding=g.encoding,this.secret=this.privateKey=this.key=C,this.payload=new r(g.payload),this.secret.once("close",function(){!this.payload.writable&&this.readable&&this.sign()}.bind(this)),this.payload.once("close",function(){!this.secret.writable&&this.readable&&this.sign()}.bind(this))}h.inherits(f,u),f.prototype.sign=function(){try{var g=d({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",g),this.emit("data",g),this.emit("end"),this.readable=!1,g}catch(I){this.readable=!1,this.emit("error",I),this.emit("close")}},f.sign=d,n.exports=f}),o3=Te((e,n)=>{var t=Du().Buffer,r=Xm(),a=Jm(),u=require("stream"),c=ev(),h=require("util"),l=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function s(p){return Object.prototype.toString.call(p)==="[object Object]"}function d(p){if(s(p))return p;try{return JSON.parse(p)}catch{return}}function f(p){var A=p.split(".",1)[0];return d(t.from(A,"base64").toString("binary"))}function g(p){return p.split(".",2).join(".")}function I(p){return p.split(".")[2]}function C(p,A){A=A||"utf8";var S=p.split(".")[1];return t.from(S,"base64").toString(A)}function _(p){return l.test(p)&&!!f(p)}function T(p,A,S){if(!A){var N=new Error("Missing algorithm parameter for jws.verify");throw N.code="MISSING_ALGORITHM",N}p=c(p);var D=I(p),E=g(p),m=a(A);return m.verify(E,D,S)}function B(p,A){if(A=A||{},p=c(p),!_(p))return null;var S=f(p);if(!S)return null;var N=C(p);return(S.typ==="JWT"||A.json)&&(N=JSON.parse(N,A.encoding)),{header:S,payload:N,signature:I(p)}}function P(p){p=p||{};var A=p.secret||p.publicKey||p.key,S=new r(A);this.readable=!0,this.algorithm=p.algorithm,this.encoding=p.encoding,this.secret=this.publicKey=this.key=S,this.signature=new r(p.signature),this.secret.once("close",function(){!this.signature.writable&&this.readable&&this.verify()}.bind(this)),this.signature.once("close",function(){!this.secret.writable&&this.readable&&this.verify()}.bind(this))}h.inherits(P,u),P.prototype.verify=function(){try{var p=T(this.signature.buffer,this.algorithm,this.key.buffer),A=B(this.signature.buffer,this.encoding);return this.emit("done",p,A),this.emit("data",p),this.emit("end"),this.readable=!1,p}catch(S){this.readable=!1,this.emit("error",S),this.emit("close")}},P.decode=B,P.isValid=_,P.verify=T,n.exports=P}),Jd=Te(e=>{var n=s3(),t=o3(),r=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"];e.ALGORITHMS=r,e.sign=n.sign,e.verify=t.verify,e.decode=t.decode,e.isValid=t.isValid,e.createSign=function(a){return new n(a)},e.createVerify=function(a){return new t(a)}}),tv=Te((e,n)=>{var t=Jd();n.exports=function(r,a){a=a||{};var u=t.decode(r,a);if(!u)return null;var c=u.payload;if(typeof c=="string")try{var h=JSON.parse(c);h!==null&&typeof h=="object"&&(c=h)}catch{}return a.complete===!0?{header:u.header,payload:c,signature:u.signature}:c}}),u3=Te((e,n)=>{var t=1e3,r=t*60,a=r*60,u=a*24,c=u*7,h=u*365.25;n.exports=function(g,I){I=I||{};var C=typeof g;if(C==="string"&&g.length>0)return l(g);if(C==="number"&&isFinite(g))return I.long?d(g):s(g);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(g))};function l(g){if(g=String(g),!(g.length>100)){var I=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(g);if(I){var C=parseFloat(I[1]),_=(I[2]||"ms").toLowerCase();switch(_){case"years":case"year":case"yrs":case"yr":case"y":return C*h;case"weeks":case"week":case"w":return C*c;case"days":case"day":case"d":return C*u;case"hours":case"hour":case"hrs":case"hr":case"h":return C*a;case"minutes":case"minute":case"mins":case"min":case"m":return C*r;case"seconds":case"second":case"secs":case"sec":case"s":return C*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return C;default:return}}}}function s(g){var I=Math.abs(g);return I>=u?Math.round(g/u)+"d":I>=a?Math.round(g/a)+"h":I>=r?Math.round(g/r)+"m":I>=t?Math.round(g/t)+"s":g+"ms"}function d(g){var I=Math.abs(g);return I>=u?f(g,I,u,"day"):I>=a?f(g,I,a,"hour"):I>=r?f(g,I,r,"minute"):I>=t?f(g,I,t,"second"):g+" ms"}function f(g,I,C,_){var T=I>=C*1.5;return Math.round(g/C)+" "+_+(T?"s":"")}}),rv=Te((e,n)=>{var t=u3();n.exports=function(r,a){var u=a||Math.floor(Date.now()/1e3);if(typeof r=="string"){var c=t(r);return typeof c>"u"?void 0:Math.floor(u+c/1e3)}else return typeof r=="number"?u+r:void 0}}),Fc=Te((e,n)=>{var t="2.0.0",r=Number.MAX_SAFE_INTEGER||9007199254740991,a=16;n.exports={SEMVER_SPEC_VERSION:t,MAX_LENGTH:256,MAX_SAFE_INTEGER:r,MAX_SAFE_COMPONENT_LENGTH:a}}),Mc=Te((e,n)=>{var t=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...r)=>console.error("SEMVER",...r):()=>{};n.exports=t}),Co=Te((e,n)=>{var{MAX_SAFE_COMPONENT_LENGTH:t}=Fc(),r=Mc();e=n.exports={};var a=e.re=[],u=e.src=[],c=e.t={},h=0,l=(s,d,f)=>{let g=h++;r(s,g,d),c[s]=g,u[g]=d,a[g]=new RegExp(d,f?"g":void 0)};l("NUMERICIDENTIFIER","0|[1-9]\\d*"),l("NUMERICIDENTIFIERLOOSE","[0-9]+"),l("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),l("MAINVERSION",`(${u[c.NUMERICIDENTIFIER]})\\.(${u[c.NUMERICIDENTIFIER]})\\.(${u[c.NUMERICIDENTIFIER]})`),l("MAINVERSIONLOOSE",`(${u[c.NUMERICIDENTIFIERLOOSE]})\\.(${u[c.NUMERICIDENTIFIERLOOSE]})\\.(${u[c.NUMERICIDENTIFIERLOOSE]})`),l("PRERELEASEIDENTIFIER",`(?:${u[c.NUMERICIDENTIFIER]}|${u[c.NONNUMERICIDENTIFIER]})`),l("PRERELEASEIDENTIFIERLOOSE",`(?:${u[c.NUMERICIDENTIFIERLOOSE]}|${u[c.NONNUMERICIDENTIFIER]})`),l("PRERELEASE",`(?:-(${u[c.PRERELEASEIDENTIFIER]}(?:\\.${u[c.PRERELEASEIDENTIFIER]})*))`),l("PRERELEASELOOSE",`(?:-?(${u[c.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${u[c.PRERELEASEIDENTIFIERLOOSE]})*))`),l("BUILDIDENTIFIER","[0-9A-Za-z-]+"),l("BUILD",`(?:\\+(${u[c.BUILDIDENTIFIER]}(?:\\.${u[c.BUILDIDENTIFIER]})*))`),l("FULLPLAIN",`v?${u[c.MAINVERSION]}${u[c.PRERELEASE]}?${u[c.BUILD]}?`),l("FULL",`^${u[c.FULLPLAIN]}$`),l("LOOSEPLAIN",`[v=\\s]*${u[c.MAINVERSIONLOOSE]}${u[c.PRERELEASELOOSE]}?${u[c.BUILD]}?`),l("LOOSE",`^${u[c.LOOSEPLAIN]}$`),l("GTLT","((?:<|>)?=?)"),l("XRANGEIDENTIFIERLOOSE",`${u[c.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),l("XRANGEIDENTIFIER",`${u[c.NUMERICIDENTIFIER]}|x|X|\\*`),l("XRANGEPLAIN",`[v=\\s]*(${u[c.XRANGEIDENTIFIER]})(?:\\.(${u[c.XRANGEIDENTIFIER]})(?:\\.(${u[c.XRANGEIDENTIFIER]})(?:${u[c.PRERELEASE]})?${u[c.BUILD]}?)?)?`),l("XRANGEPLAINLOOSE",`[v=\\s]*(${u[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[c.XRANGEIDENTIFIERLOOSE]})(?:${u[c.PRERELEASELOOSE]})?${u[c.BUILD]}?)?)?`),l("XRANGE",`^${u[c.GTLT]}\\s*${u[c.XRANGEPLAIN]}$`),l("XRANGELOOSE",`^${u[c.GTLT]}\\s*${u[c.XRANGEPLAINLOOSE]}$`),l("COERCE",`(^|[^\\d])(\\d{1,${t}})(?:\\.(\\d{1,${t}}))?(?:\\.(\\d{1,${t}}))?(?:$|[^\\d])`),l("COERCERTL",u[c.COERCE],!0),l("LONETILDE","(?:~>?)"),l("TILDETRIM",`(\\s*)${u[c.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",l("TILDE",`^${u[c.LONETILDE]}${u[c.XRANGEPLAIN]}$`),l("TILDELOOSE",`^${u[c.LONETILDE]}${u[c.XRANGEPLAINLOOSE]}$`),l("LONECARET","(?:\\^)"),l("CARETTRIM",`(\\s*)${u[c.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",l("CARET",`^${u[c.LONECARET]}${u[c.XRANGEPLAIN]}$`),l("CARETLOOSE",`^${u[c.LONECARET]}${u[c.XRANGEPLAINLOOSE]}$`),l("COMPARATORLOOSE",`^${u[c.GTLT]}\\s*(${u[c.LOOSEPLAIN]})$|^$`),l("COMPARATOR",`^${u[c.GTLT]}\\s*(${u[c.FULLPLAIN]})$|^$`),l("COMPARATORTRIM",`(\\s*)${u[c.GTLT]}\\s*(${u[c.LOOSEPLAIN]}|${u[c.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",l("HYPHENRANGE",`^\\s*(${u[c.XRANGEPLAIN]})\\s+-\\s+(${u[c.XRANGEPLAIN]})\\s*$`),l("HYPHENRANGELOOSE",`^\\s*(${u[c.XRANGEPLAINLOOSE]})\\s+-\\s+(${u[c.XRANGEPLAINLOOSE]})\\s*$`),l("STAR","(<|>)?=?\\s*\\*"),l("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),l("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}),zc=Te((e,n)=>{var t=["includePrerelease","loose","rtl"],r=a=>a?typeof a!="object"?{loose:!0}:t.filter(u=>a[u]).reduce((u,c)=>(u[c]=!0,u),{}):{};n.exports=r}),nv=Te((e,n)=>{var t=/^[0-9]+$/,r=(u,c)=>{let h=t.test(u),l=t.test(c);return h&&l&&(u=+u,c=+c),u===c?0:h&&!l?-1:l&&!h?1:u<c?-1:1},a=(u,c)=>r(c,u);n.exports={compareIdentifiers:r,rcompareIdentifiers:a}}),sn=Te((e,n)=>{var t=Mc(),{MAX_LENGTH:r,MAX_SAFE_INTEGER:a}=Fc(),{re:u,t:c}=Co(),h=zc(),{compareIdentifiers:l}=nv(),s=class{constructor(d,f){if(f=h(f),d instanceof s){if(d.loose===!!f.loose&&d.includePrerelease===!!f.includePrerelease)return d;d=d.version}else if(typeof d!="string")throw new TypeError(`Invalid Version: ${d}`);if(d.length>r)throw new TypeError(`version is longer than ${r} characters`);t("SemVer",d,f),this.options=f,this.loose=!!f.loose,this.includePrerelease=!!f.includePrerelease;let g=d.trim().match(f.loose?u[c.LOOSE]:u[c.FULL]);if(!g)throw new TypeError(`Invalid Version: ${d}`);if(this.raw=d,this.major=+g[1],this.minor=+g[2],this.patch=+g[3],this.major>a||this.major<0)throw new TypeError("Invalid major version");if(this.minor>a||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>a||this.patch<0)throw new TypeError("Invalid patch version");g[4]?this.prerelease=g[4].split(".").map(I=>{if(/^[0-9]+$/.test(I)){let C=+I;if(C>=0&&C<a)return C}return I}):this.prerelease=[],this.build=g[5]?g[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(d){if(t("SemVer.compare",this.version,this.options,d),!(d instanceof s)){if(typeof d=="string"&&d===this.version)return 0;d=new s(d,this.options)}return d.version===this.version?0:this.compareMain(d)||this.comparePre(d)}compareMain(d){return d instanceof s||(d=new s(d,this.options)),l(this.major,d.major)||l(this.minor,d.minor)||l(this.patch,d.patch)}comparePre(d){if(d instanceof s||(d=new s(d,this.options)),this.prerelease.length&&!d.prerelease.length)return-1;if(!this.prerelease.length&&d.prerelease.length)return 1;if(!this.prerelease.length&&!d.prerelease.length)return 0;let f=0;do{let g=this.prerelease[f],I=d.prerelease[f];if(t("prerelease compare",f,g,I),g===void 0&&I===void 0)return 0;if(I===void 0)return 1;if(g===void 0)return-1;if(g!==I)return l(g,I)}while(++f)}compareBuild(d){d instanceof s||(d=new s(d,this.options));let f=0;do{let g=this.build[f],I=d.build[f];if(t("prerelease compare",f,g,I),g===void 0&&I===void 0)return 0;if(I===void 0)return 1;if(g===void 0)return-1;if(g!==I)return l(g,I)}while(++f)}inc(d,f){switch(d){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",f);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",f);break;case"prepatch":this.prerelease.length=0,this.inc("patch",f),this.inc("pre",f);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",f),this.inc("pre",f);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let g=this.prerelease.length;for(;--g>=0;)typeof this.prerelease[g]=="number"&&(this.prerelease[g]++,g=-2);g===-1&&this.prerelease.push(0)}f&&(l(this.prerelease[0],f)===0?isNaN(this.prerelease[1])&&(this.prerelease=[f,0]):this.prerelease=[f,0]);break;default:throw new Error(`invalid increment argument: ${d}`)}return this.format(),this.raw=this.version,this}};n.exports=s}),To=Te((e,n)=>{var{MAX_LENGTH:t}=Fc(),{re:r,t:a}=Co(),u=sn(),c=zc(),h=(l,s)=>{if(s=c(s),l instanceof u)return l;if(typeof l!="string"||l.length>t||!(s.loose?r[a.LOOSE]:r[a.FULL]).test(l))return null;try{return new u(l,s)}catch{return null}};n.exports=h}),l3=Te((e,n)=>{var t=To(),r=(a,u)=>{let c=t(a,u);return c?c.version:null};n.exports=r}),c3=Te((e,n)=>{var t=To(),r=(a,u)=>{let c=t(a.trim().replace(/^[=v]+/,""),u);return c?c.version:null};n.exports=r}),h3=Te((e,n)=>{var t=sn(),r=(a,u,c,h)=>{typeof c=="string"&&(h=c,c=void 0);try{return new t(a instanceof t?a.version:a,c).inc(u,h).version}catch{return null}};n.exports=r}),ii=Te((e,n)=>{var t=sn(),r=(a,u,c)=>new t(a,c).compare(new t(u,c));n.exports=r}),ep=Te((e,n)=>{var t=ii(),r=(a,u,c)=>t(a,u,c)===0;n.exports=r}),f3=Te((e,n)=>{var t=To(),r=ep(),a=(u,c)=>{if(r(u,c))return null;{let h=t(u),l=t(c),s=h.prerelease.length||l.prerelease.length,d=s?"pre":"",f=s?"prerelease":"";for(let g in h)if((g==="major"||g==="minor"||g==="patch")&&h[g]!==l[g])return d+g;return f}};n.exports=a}),d3=Te((e,n)=>{var t=sn(),r=(a,u)=>new t(a,u).major;n.exports=r}),p3=Te((e,n)=>{var t=sn(),r=(a,u)=>new t(a,u).minor;n.exports=r}),y3=Te((e,n)=>{var t=sn(),r=(a,u)=>new t(a,u).patch;n.exports=r}),g3=Te((e,n)=>{var t=To(),r=(a,u)=>{let c=t(a,u);return c&&c.prerelease.length?c.prerelease:null};n.exports=r}),m3=Te((e,n)=>{var t=ii(),r=(a,u,c)=>t(u,a,c);n.exports=r}),v3=Te((e,n)=>{var t=ii(),r=(a,u)=>t(a,u,!0);n.exports=r}),tp=Te((e,n)=>{var t=sn(),r=(a,u,c)=>{let h=new t(a,c),l=new t(u,c);return h.compare(l)||h.compareBuild(l)};n.exports=r}),b3=Te((e,n)=>{var t=tp(),r=(a,u)=>a.sort((c,h)=>t(c,h,u));n.exports=r}),_3=Te((e,n)=>{var t=tp(),r=(a,u)=>a.sort((c,h)=>t(h,c,u));n.exports=r}),$c=Te((e,n)=>{var t=ii(),r=(a,u,c)=>t(a,u,c)>0;n.exports=r}),rp=Te((e,n)=>{var t=ii(),r=(a,u,c)=>t(a,u,c)<0;n.exports=r}),iv=Te((e,n)=>{var t=ii(),r=(a,u,c)=>t(a,u,c)!==0;n.exports=r}),np=Te((e,n)=>{var t=ii(),r=(a,u,c)=>t(a,u,c)>=0;n.exports=r}),ip=Te((e,n)=>{var t=ii(),r=(a,u,c)=>t(a,u,c)<=0;n.exports=r}),av=Te((e,n)=>{var t=ep(),r=iv(),a=$c(),u=np(),c=rp(),h=ip(),l=(s,d,f,g)=>{switch(d){case"===":return typeof s=="object"&&(s=s.version),typeof f=="object"&&(f=f.version),s===f;case"!==":return typeof s=="object"&&(s=s.version),typeof f=="object"&&(f=f.version),s!==f;case"":case"=":case"==":return t(s,f,g);case"!=":return r(s,f,g);case">":return a(s,f,g);case">=":return u(s,f,g);case"<":return c(s,f,g);case"<=":return h(s,f,g);default:throw new TypeError(`Invalid operator: ${d}`)}};n.exports=l}),w3=Te((e,n)=>{var t=sn(),r=To(),{re:a,t:u}=Co(),c=(h,l)=>{if(h instanceof t)return h;if(typeof h=="number"&&(h=String(h)),typeof h!="string")return null;l=l||{};let s=null;if(!l.rtl)s=h.match(a[u.COERCE]);else{let d;for(;(d=a[u.COERCERTL].exec(h))&&(!s||s.index+s[0].length!==h.length);)(!s||d.index+d[0].length!==s.index+s[0].length)&&(s=d),a[u.COERCERTL].lastIndex=d.index+d[1].length+d[2].length;a[u.COERCERTL].lastIndex=-1}return s===null?null:r(`${s[2]}.${s[3]||"0"}.${s[4]||"0"}`,l)};n.exports=c}),S3=Te((e,n)=>{"use strict";n.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let r=this.head;r;r=r.next)yield r.value}}}),E3=Te((e,n)=>{"use strict";n.exports=t,t.Node=c,t.create=t;function t(h){var l=this;if(l instanceof t||(l=new t),l.tail=null,l.head=null,l.length=0,h&&typeof h.forEach=="function")h.forEach(function(f){l.push(f)});else if(arguments.length>0)for(var s=0,d=arguments.length;s<d;s++)l.push(arguments[s]);return l}t.prototype.removeNode=function(h){if(h.list!==this)throw new Error("removing node which does not belong to this list");var l=h.next,s=h.prev;return l&&(l.prev=s),s&&(s.next=l),h===this.head&&(this.head=l),h===this.tail&&(this.tail=s),h.list.length--,h.next=null,h.prev=null,h.list=null,l},t.prototype.unshiftNode=function(h){if(h!==this.head){h.list&&h.list.removeNode(h);var l=this.head;h.list=this,h.next=l,l&&(l.prev=h),this.head=h,this.tail||(this.tail=h),this.length++}},t.prototype.pushNode=function(h){if(h!==this.tail){h.list&&h.list.removeNode(h);var l=this.tail;h.list=this,h.prev=l,l&&(l.next=h),this.tail=h,this.head||(this.head=h),this.length++}},t.prototype.push=function(){for(var h=0,l=arguments.length;h<l;h++)a(this,arguments[h]);return this.length},t.prototype.unshift=function(){for(var h=0,l=arguments.length;h<l;h++)u(this,arguments[h]);return this.length},t.prototype.pop=function(){if(this.tail){var h=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,h}},t.prototype.shift=function(){if(this.head){var h=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,h}},t.prototype.forEach=function(h,l){l=l||this;for(var s=this.head,d=0;s!==null;d++)h.call(l,s.value,d,this),s=s.next},t.prototype.forEachReverse=function(h,l){l=l||this;for(var s=this.tail,d=this.length-1;s!==null;d--)h.call(l,s.value,d,this),s=s.prev},t.prototype.get=function(h){for(var l=0,s=this.head;s!==null&&l<h;l++)s=s.next;if(l===h&&s!==null)return s.value},t.prototype.getReverse=function(h){for(var l=0,s=this.tail;s!==null&&l<h;l++)s=s.prev;if(l===h&&s!==null)return s.value},t.prototype.map=function(h,l){l=l||this;for(var s=new t,d=this.head;d!==null;)s.push(h.call(l,d.value,this)),d=d.next;return s},t.prototype.mapReverse=function(h,l){l=l||this;for(var s=new t,d=this.tail;d!==null;)s.push(h.call(l,d.value,this)),d=d.prev;return s},t.prototype.reduce=function(h,l){var s,d=this.head;if(arguments.length>1)s=l;else if(this.head)d=this.head.next,s=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var f=0;d!==null;f++)s=h(s,d.value,f),d=d.next;return s},t.prototype.reduceReverse=function(h,l){var s,d=this.tail;if(arguments.length>1)s=l;else if(this.tail)d=this.tail.prev,s=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var f=this.length-1;d!==null;f--)s=h(s,d.value,f),d=d.prev;return s},t.prototype.toArray=function(){for(var h=new Array(this.length),l=0,s=this.head;s!==null;l++)h[l]=s.value,s=s.next;return h},t.prototype.toArrayReverse=function(){for(var h=new Array(this.length),l=0,s=this.tail;s!==null;l++)h[l]=s.value,s=s.prev;return h},t.prototype.slice=function(h,l){l=l||this.length,l<0&&(l+=this.length),h=h||0,h<0&&(h+=this.length);var s=new t;if(l<h||l<0)return s;h<0&&(h=0),l>this.length&&(l=this.length);for(var d=0,f=this.head;f!==null&&d<h;d++)f=f.next;for(;f!==null&&d<l;d++,f=f.next)s.push(f.value);return s},t.prototype.sliceReverse=function(h,l){l=l||this.length,l<0&&(l+=this.length),h=h||0,h<0&&(h+=this.length);var s=new t;if(l<h||l<0)return s;h<0&&(h=0),l>this.length&&(l=this.length);for(var d=this.length,f=this.tail;f!==null&&d>l;d--)f=f.prev;for(;f!==null&&d>h;d--,f=f.prev)s.push(f.value);return s},t.prototype.splice=function(h,l,...s){h>this.length&&(h=this.length-1),h<0&&(h=this.length+h);for(var d=0,f=this.head;f!==null&&d<h;d++)f=f.next;for(var g=[],d=0;f&&d<l;d++)g.push(f.value),f=this.removeNode(f);f===null&&(f=this.tail),f!==this.head&&f!==this.tail&&(f=f.prev);for(var d=0;d<s.length;d++)f=r(this,f,s[d]);return g},t.prototype.reverse=function(){for(var h=this.head,l=this.tail,s=h;s!==null;s=s.prev){var d=s.prev;s.prev=s.next,s.next=d}return this.head=l,this.tail=h,this};function r(h,l,s){var d=l===h.head?new c(s,null,l,h):new c(s,l,l.next,h);return d.next===null&&(h.tail=d),d.prev===null&&(h.head=d),h.length++,d}function a(h,l){h.tail=new c(l,h.tail,null,h),h.head||(h.head=h.tail),h.length++}function u(h,l){h.head=new c(l,null,h.head,h),h.tail||(h.tail=h.head),h.length++}function c(h,l,s,d){if(!(this instanceof c))return new c(h,l,s,d);this.list=d,this.value=h,l?(l.next=this,this.prev=l):this.prev=null,s?(s.prev=this,this.next=s):this.next=null}try{S3()(t)}catch{}}),C3=Te((e,n)=>{"use strict";var t=E3(),r=Symbol("max"),a=Symbol("length"),u=Symbol("lengthCalculator"),c=Symbol("allowStale"),h=Symbol("maxAge"),l=Symbol("dispose"),s=Symbol("noDisposeOnSet"),d=Symbol("lruList"),f=Symbol("cache"),g=Symbol("updateAgeOnGet"),I=()=>1,C=class{constructor(S){if(typeof S=="number"&&(S={max:S}),S||(S={}),S.max&&(typeof S.max!="number"||S.max<0))throw new TypeError("max must be a non-negative number");let N=this[r]=S.max||1/0,D=S.length||I;if(this[u]=typeof D!="function"?I:D,this[c]=S.stale||!1,S.maxAge&&typeof S.maxAge!="number")throw new TypeError("maxAge must be a number");this[h]=S.maxAge||0,this[l]=S.dispose,this[s]=S.noDisposeOnSet||!1,this[g]=S.updateAgeOnGet||!1,this.reset()}set max(S){if(typeof S!="number"||S<0)throw new TypeError("max must be a non-negative number");this[r]=S||1/0,B(this)}get max(){return this[r]}set allowStale(S){this[c]=!!S}get allowStale(){return this[c]}set maxAge(S){if(typeof S!="number")throw new TypeError("maxAge must be a non-negative number");this[h]=S,B(this)}get maxAge(){return this[h]}set lengthCalculator(S){typeof S!="function"&&(S=I),S!==this[u]&&(this[u]=S,this[a]=0,this[d].forEach(N=>{N.length=this[u](N.value,N.key),this[a]+=N.length})),B(this)}get lengthCalculator(){return this[u]}get length(){return this[a]}get itemCount(){return this[d].length}rforEach(S,N){N=N||this;for(let D=this[d].tail;D!==null;){let E=D.prev;A(this,S,D,N),D=E}}forEach(S,N){N=N||this;for(let D=this[d].head;D!==null;){let E=D.next;A(this,S,D,N),D=E}}keys(){return this[d].toArray().map(S=>S.key)}values(){return this[d].toArray().map(S=>S.value)}reset(){this[l]&&this[d]&&this[d].length&&this[d].forEach(S=>this[l](S.key,S.value)),this[f]=new Map,this[d]=new t,this[a]=0}dump(){return this[d].map(S=>T(this,S)?!1:{k:S.key,v:S.value,e:S.now+(S.maxAge||0)}).toArray().filter(S=>S)}dumpLru(){return this[d]}set(S,N,D){if(D=D||this[h],D&&typeof D!="number")throw new TypeError("maxAge must be a number");let E=D?Date.now():0,m=this[u](N,S);if(this[f].has(S)){if(m>this[r])return P(this,this[f].get(S)),!1;let q=this[f].get(S).value;return this[l]&&(this[s]||this[l](S,q.value)),q.now=E,q.maxAge=D,q.value=N,this[a]+=m-q.length,q.length=m,this.get(S),B(this),!0}let y=new p(S,N,m,E,D);return y.length>this[r]?(this[l]&&this[l](S,N),!1):(this[a]+=y.length,this[d].unshift(y),this[f].set(S,this[d].head),B(this),!0)}has(S){if(!this[f].has(S))return!1;let N=this[f].get(S).value;return!T(this,N)}get(S){return _(this,S,!0)}peek(S){return _(this,S,!1)}pop(){let S=this[d].tail;return S?(P(this,S),S.value):null}del(S){P(this,this[f].get(S))}load(S){this.reset();let N=Date.now();for(let D=S.length-1;D>=0;D--){let E=S[D],m=E.e||0;if(m===0)this.set(E.k,E.v);else{let y=m-N;y>0&&this.set(E.k,E.v,y)}}}prune(){this[f].forEach((S,N)=>_(this,N,!1))}},_=(S,N,D)=>{let E=S[f].get(N);if(E){let m=E.value;if(T(S,m)){if(P(S,E),!S[c])return}else D&&(S[g]&&(E.value.now=Date.now()),S[d].unshiftNode(E));return m.value}},T=(S,N)=>{if(!N||!N.maxAge&&!S[h])return!1;let D=Date.now()-N.now;return N.maxAge?D>N.maxAge:S[h]&&D>S[h]},B=S=>{if(S[a]>S[r])for(let N=S[d].tail;S[a]>S[r]&&N!==null;){let D=N.prev;P(S,N),N=D}},P=(S,N)=>{if(N){let D=N.value;S[l]&&S[l](D.key,D.value),S[a]-=D.length,S[f].delete(D.key),S[d].removeNode(N)}},p=class{constructor(S,N,D,E,m){this.key=S,this.value=N,this.length=D,this.now=E,this.maxAge=m||0}},A=(S,N,D,E)=>{let m=D.value;T(S,m)&&(P(S,D),S[c]||(m=void 0)),m&&N.call(E,m.value,m.key,S)};n.exports=C}),ai=Te((e,n)=>{var t=class{constructor(V,w){if(w=u(w),V instanceof t)return V.loose===!!w.loose&&V.includePrerelease===!!w.includePrerelease?V:new t(V.raw,w);if(V instanceof c)return this.raw=V.value,this.set=[[V]],this.format(),this;if(this.options=w,this.loose=!!w.loose,this.includePrerelease=!!w.includePrerelease,this.raw=V,this.set=V.split("||").map(L=>this.parseRange(L.trim())).filter(L=>L.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${V}`);if(this.set.length>1){let L=this.set[0];if(this.set=this.set.filter(j=>!C(j[0])),this.set.length===0)this.set=[L];else if(this.set.length>1){for(let j of this.set)if(j.length===1&&_(j[0])){this.set=[j];break}}}this.format()}format(){return this.range=this.set.map(V=>V.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(V){V=V.trim();let w=`parseRange:${Object.keys(this.options).join(",")}:${V}`,L=a.get(w);if(L)return L;let j=this.options.loose,O=j?s[d.HYPHENRANGELOOSE]:s[d.HYPHENRANGE];V=V.replace(O,q(this.options.includePrerelease)),h("hyphen replace",V),V=V.replace(s[d.COMPARATORTRIM],f),h("comparator trim",V),V=V.replace(s[d.TILDETRIM],g),V=V.replace(s[d.CARETTRIM],I),V=V.split(/\s+/).join(" ");let F=V.split(" ").map(de=>B(de,this.options)).join(" ").split(/\s+/).map(de=>y(de,this.options));j&&(F=F.filter(de=>(h("loose invalid filter",de,this.options),!!de.match(s[d.COMPARATORLOOSE])))),h("range list",F);let J=new Map,oe=F.map(de=>new c(de,this.options));for(let de of oe){if(C(de))return[de];J.set(de.value,de)}J.size>1&&J.has("")&&J.delete("");let se=[...J.values()];return a.set(w,se),se}intersects(V,w){if(!(V instanceof t))throw new TypeError("a Range is required");return this.set.some(L=>T(L,w)&&V.set.some(j=>T(j,w)&&L.every(O=>j.every(F=>O.intersects(F,w)))))}test(V){if(!V)return!1;if(typeof V=="string")try{V=new l(V,this.options)}catch{return!1}for(let w=0;w<this.set.length;w++)if(M(this.set[w],V,this.options))return!0;return!1}};n.exports=t;var r=C3(),a=new r({max:1e3}),u=zc(),c=Kc(),h=Mc(),l=sn(),{re:s,t:d,comparatorTrimReplace:f,tildeTrimReplace:g,caretTrimReplace:I}=Co(),C=V=>V.value==="<0.0.0-0",_=V=>V.value==="",T=(V,w)=>{let L=!0,j=V.slice(),O=j.pop();for(;L&&j.length;)L=j.every(F=>O.intersects(F,w)),O=j.pop();return L},B=(V,w)=>(h("comp",V,w),V=S(V,w),h("caret",V),V=p(V,w),h("tildes",V),V=D(V,w),h("xrange",V),V=m(V,w),h("stars",V),V),P=V=>!V||V.toLowerCase()==="x"||V==="*",p=(V,w)=>V.trim().split(/\s+/).map(L=>A(L,w)).join(" "),A=(V,w)=>{let L=w.loose?s[d.TILDELOOSE]:s[d.TILDE];return V.replace(L,(j,O,F,J,oe)=>{h("tilde",V,j,O,F,J,oe);let se;return P(O)?se="":P(F)?se=`>=${O}.0.0 <${+O+1}.0.0-0`:P(J)?se=`>=${O}.${F}.0 <${O}.${+F+1}.0-0`:oe?(h("replaceTilde pr",oe),se=`>=${O}.${F}.${J}-${oe} <${O}.${+F+1}.0-0`):se=`>=${O}.${F}.${J} <${O}.${+F+1}.0-0`,h("tilde return",se),se})},S=(V,w)=>V.trim().split(/\s+/).map(L=>N(L,w)).join(" "),N=(V,w)=>{h("caret",V,w);let L=w.loose?s[d.CARETLOOSE]:s[d.CARET],j=w.includePrerelease?"-0":"";return V.replace(L,(O,F,J,oe,se)=>{h("caret",V,O,F,J,oe,se);let de;return P(F)?de="":P(J)?de=`>=${F}.0.0${j} <${+F+1}.0.0-0`:P(oe)?F==="0"?de=`>=${F}.${J}.0${j} <${F}.${+J+1}.0-0`:de=`>=${F}.${J}.0${j} <${+F+1}.0.0-0`:se?(h("replaceCaret pr",se),F==="0"?J==="0"?de=`>=${F}.${J}.${oe}-${se} <${F}.${J}.${+oe+1}-0`:de=`>=${F}.${J}.${oe}-${se} <${F}.${+J+1}.0-0`:de=`>=${F}.${J}.${oe}-${se} <${+F+1}.0.0-0`):(h("no pr"),F==="0"?J==="0"?de=`>=${F}.${J}.${oe}${j} <${F}.${J}.${+oe+1}-0`:de=`>=${F}.${J}.${oe}${j} <${F}.${+J+1}.0-0`:de=`>=${F}.${J}.${oe} <${+F+1}.0.0-0`),h("caret return",de),de})},D=(V,w)=>(h("replaceXRanges",V,w),V.split(/\s+/).map(L=>E(L,w)).join(" ")),E=(V,w)=>{V=V.trim();let L=w.loose?s[d.XRANGELOOSE]:s[d.XRANGE];return V.replace(L,(j,O,F,J,oe,se)=>{h("xRange",V,j,O,F,J,oe,se);let de=P(F),ke=de||P(J),Oe=ke||P(oe),Ve=Oe;return O==="="&&Ve&&(O=""),se=w.includePrerelease?"-0":"",de?O===">"||O==="<"?j="<0.0.0-0":j="*":O&&Ve?(ke&&(J=0),oe=0,O===">"?(O=">=",ke?(F=+F+1,J=0,oe=0):(J=+J+1,oe=0)):O==="<="&&(O="<",ke?F=+F+1:J=+J+1),O==="<"&&(se="-0"),j=`${O+F}.${J}.${oe}${se}`):ke?j=`>=${F}.0.0${se} <${+F+1}.0.0-0`:Oe&&(j=`>=${F}.${J}.0${se} <${F}.${+J+1}.0-0`),h("xRange return",j),j})},m=(V,w)=>(h("replaceStars",V,w),V.trim().replace(s[d.STAR],"")),y=(V,w)=>(h("replaceGTE0",V,w),V.trim().replace(s[w.includePrerelease?d.GTE0PRE:d.GTE0],"")),q=V=>(w,L,j,O,F,J,oe,se,de,ke,Oe,Ve,Ee)=>(P(j)?L="":P(O)?L=`>=${j}.0.0${V?"-0":""}`:P(F)?L=`>=${j}.${O}.0${V?"-0":""}`:J?L=`>=${L}`:L=`>=${L}${V?"-0":""}`,P(de)?se="":P(ke)?se=`<${+de+1}.0.0-0`:P(Oe)?se=`<${de}.${+ke+1}.0-0`:Ve?se=`<=${de}.${ke}.${Oe}-${Ve}`:V?se=`<${de}.${ke}.${+Oe+1}-0`:se=`<=${se}`,`${L} ${se}`.trim()),M=(V,w,L)=>{for(let j=0;j<V.length;j++)if(!V[j].test(w))return!1;if(w.prerelease.length&&!L.includePrerelease){for(let j=0;j<V.length;j++)if(h(V[j].semver),V[j].semver!==c.ANY&&V[j].semver.prerelease.length>0){let O=V[j].semver;if(O.major===w.major&&O.minor===w.minor&&O.patch===w.patch)return!0}return!1}return!0}}),Kc=Te((e,n)=>{var t=Symbol("SemVer ANY"),r=class{static get ANY(){return t}constructor(f,g){if(g=a(g),f instanceof r){if(f.loose===!!g.loose)return f;f=f.value}l("comparator",f,g),this.options=g,this.loose=!!g.loose,this.parse(f),this.semver===t?this.value="":this.value=this.operator+this.semver.version,l("comp",this)}parse(f){let g=this.options.loose?u[c.COMPARATORLOOSE]:u[c.COMPARATOR],I=f.match(g);if(!I)throw new TypeError(`Invalid comparator: ${f}`);this.operator=I[1]!==void 0?I[1]:"",this.operator==="="&&(this.operator=""),I[2]?this.semver=new s(I[2],this.options.loose):this.semver=t}toString(){return this.value}test(f){if(l("Comparator.test",f,this.options.loose),this.semver===t||f===t)return!0;if(typeof f=="string")try{f=new s(f,this.options)}catch{return!1}return h(f,this.operator,this.semver,this.options)}intersects(f,g){if(!(f instanceof r))throw new TypeError("a Comparator is required");if((!g||typeof g!="object")&&(g={loose:!!g,includePrerelease:!1}),this.operator==="")return this.value===""?!0:new d(f.value,g).test(this.value);if(f.operator==="")return f.value===""?!0:new d(this.value,g).test(f.semver);let I=(this.operator===">="||this.operator===">")&&(f.operator===">="||f.operator===">"),C=(this.operator==="<="||this.operator==="<")&&(f.operator==="<="||f.operator==="<"),_=this.semver.version===f.semver.version,T=(this.operator===">="||this.operator==="<=")&&(f.operator===">="||f.operator==="<="),B=h(this.semver,"<",f.semver,g)&&(this.operator===">="||this.operator===">")&&(f.operator==="<="||f.operator==="<"),P=h(this.semver,">",f.semver,g)&&(this.operator==="<="||this.operator==="<")&&(f.operator===">="||f.operator===">");return I||C||_&&T||B||P}};n.exports=r;var a=zc(),{re:u,t:c}=Co(),h=av(),l=Mc(),s=sn(),d=ai()}),Hc=Te((e,n)=>{var t=ai(),r=(a,u,c)=>{try{u=new t(u,c)}catch{return!1}return u.test(a)};n.exports=r}),T3=Te((e,n)=>{var t=ai(),r=(a,u)=>new t(a,u).set.map(c=>c.map(h=>h.value).join(" ").trim().split(" "));n.exports=r}),A3=Te((e,n)=>{var t=sn(),r=ai(),a=(u,c,h)=>{let l=null,s=null,d=null;try{d=new r(c,h)}catch{return null}return u.forEach(f=>{d.test(f)&&(!l||s.compare(f)===-1)&&(l=f,s=new t(l,h))}),l};n.exports=a}),I3=Te((e,n)=>{var t=sn(),r=ai(),a=(u,c,h)=>{let l=null,s=null,d=null;try{d=new r(c,h)}catch{return null}return u.forEach(f=>{d.test(f)&&(!l||s.compare(f)===1)&&(l=f,s=new t(l,h))}),l};n.exports=a}),R3=Te((e,n)=>{var t=sn(),r=ai(),a=$c(),u=(c,h)=>{c=new r(c,h);let l=new t("0.0.0");if(c.test(l)||(l=new t("0.0.0-0"),c.test(l)))return l;l=null;for(let s=0;s<c.set.length;++s){let d=c.set[s],f=null;d.forEach(g=>{let I=new t(g.semver.version);switch(g.operator){case">":I.prerelease.length===0?I.patch++:I.prerelease.push(0),I.raw=I.format();case"":case">=":(!f||a(I,f))&&(f=I);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${g.operator}`)}}),f&&(!l||a(l,f))&&(l=f)}return l&&c.test(l)?l:null};n.exports=u}),k3=Te((e,n)=>{var t=ai(),r=(a,u)=>{try{return new t(a,u).range||"*"}catch{return null}};n.exports=r}),ap=Te((e,n)=>{var t=sn(),r=Kc(),{ANY:a}=r,u=ai(),c=Hc(),h=$c(),l=rp(),s=ip(),d=np(),f=(g,I,C,_)=>{g=new t(g,_),I=new u(I,_);let T,B,P,p,A;switch(C){case">":T=h,B=s,P=l,p=">",A=">=";break;case"<":T=l,B=d,P=h,p="<",A="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(c(g,I,_))return!1;for(let S=0;S<I.set.length;++S){let N=I.set[S],D=null,E=null;if(N.forEach(m=>{m.semver===a&&(m=new r(">=0.0.0")),D=D||m,E=E||m,T(m.semver,D.semver,_)?D=m:P(m.semver,E.semver,_)&&(E=m)}),D.operator===p||D.operator===A||(!E.operator||E.operator===p)&&B(g,E.semver)||E.operator===A&&P(g,E.semver))return!1}return!0};n.exports=f}),P3=Te((e,n)=>{var t=ap(),r=(a,u,c)=>t(a,u,">",c);n.exports=r}),B3=Te((e,n)=>{var t=ap(),r=(a,u,c)=>t(a,u,"<",c);n.exports=r}),N3=Te((e,n)=>{var t=ai(),r=(a,u,c)=>(a=new t(a,c),u=new t(u,c),a.intersects(u));n.exports=r}),O3=Te((e,n)=>{var t=Hc(),r=ii();n.exports=(a,u,c)=>{let h=[],l=null,s=null,d=a.sort((C,_)=>r(C,_,c));for(let C of d)t(C,u,c)?(s=C,l||(l=C)):(s&&h.push([l,s]),s=null,l=null);l&&h.push([l,null]);let f=[];for(let[C,_]of h)C===_?f.push(C):!_&&C===d[0]?f.push("*"):_?C===d[0]?f.push(`<=${_}`):f.push(`${C} - ${_}`):f.push(`>=${C}`);let g=f.join(" || "),I=typeof u.raw=="string"?u.raw:String(u);return g.length<I.length?g:u}}),x3=Te((e,n)=>{var t=ai(),r=Kc(),{ANY:a}=r,u=Hc(),c=ii(),h=(f,g,I={})=>{if(f===g)return!0;f=new t(f,I),g=new t(g,I);let C=!1;e:for(let _ of f.set){for(let T of g.set){let B=l(_,T,I);if(C=C||B!==null,B)continue e}if(C)return!1}return!0},l=(f,g,I)=>{if(f===g)return!0;if(f.length===1&&f[0].semver===a){if(g.length===1&&g[0].semver===a)return!0;I.includePrerelease?f=[new r(">=0.0.0-0")]:f=[new r(">=0.0.0")]}if(g.length===1&&g[0].semver===a){if(I.includePrerelease)return!0;g=[new r(">=0.0.0")]}let C=new Set,_,T;for(let E of f)E.operator===">"||E.operator===">="?_=s(_,E,I):E.operator==="<"||E.operator==="<="?T=d(T,E,I):C.add(E.semver);if(C.size>1)return null;let B;if(_&&T&&(B=c(_.semver,T.semver,I),B>0||B===0&&(_.operator!==">="||T.operator!=="<=")))return null;for(let E of C){if(_&&!u(E,String(_),I)||T&&!u(E,String(T),I))return null;for(let m of g)if(!u(E,String(m),I))return!1;return!0}let P,p,A,S,N=T&&!I.includePrerelease&&T.semver.prerelease.length?T.semver:!1,D=_&&!I.includePrerelease&&_.semver.prerelease.length?_.semver:!1;N&&N.prerelease.length===1&&T.operator==="<"&&N.prerelease[0]===0&&(N=!1);for(let E of g){if(S=S||E.operator===">"||E.operator===">=",A=A||E.operator==="<"||E.operator==="<=",_){if(D&&E.semver.prerelease&&E.semver.prerelease.length&&E.semver.major===D.major&&E.semver.minor===D.minor&&E.semver.patch===D.patch&&(D=!1),E.operator===">"||E.operator===">="){if(P=s(_,E,I),P===E&&P!==_)return!1}else if(_.operator===">="&&!u(_.semver,String(E),I))return!1}if(T){if(N&&E.semver.prerelease&&E.semver.prerelease.length&&E.semver.major===N.major&&E.semver.minor===N.minor&&E.semver.patch===N.patch&&(N=!1),E.operator==="<"||E.operator==="<="){if(p=d(T,E,I),p===E&&p!==T)return!1}else if(T.operator==="<="&&!u(T.semver,String(E),I))return!1}if(!E.operator&&(T||_)&&B!==0)return!1}return!(_&&A&&!T&&B!==0||T&&S&&!_&&B!==0||D||N)},s=(f,g,I)=>{if(!f)return g;let C=c(f.semver,g.semver,I);return C>0?f:C<0||g.operator===">"&&f.operator===">="?g:f},d=(f,g,I)=>{if(!f)return g;let C=c(f.semver,g.semver,I);return C<0?f:C>0||g.operator==="<"&&f.operator==="<="?g:f};n.exports=h}),sp=Te((e,n)=>{var t=Co(),r=Fc(),a=sn(),u=nv(),c=To(),h=l3(),l=c3(),s=h3(),d=f3(),f=d3(),g=p3(),I=y3(),C=g3(),_=ii(),T=m3(),B=v3(),P=tp(),p=b3(),A=_3(),S=$c(),N=rp(),D=ep(),E=iv(),m=np(),y=ip(),q=av(),M=w3(),V=Kc(),w=ai(),L=Hc(),j=T3(),O=A3(),F=I3(),J=R3(),oe=k3(),se=ap(),de=P3(),ke=B3(),Oe=N3(),Ve=O3(),Ee=x3();n.exports={parse:c,valid:h,clean:l,inc:s,diff:d,major:f,minor:g,patch:I,prerelease:C,compare:_,rcompare:T,compareLoose:B,compareBuild:P,sort:p,rsort:A,gt:S,lt:N,eq:D,neq:E,gte:m,lte:y,cmp:q,coerce:M,Comparator:V,Range:w,satisfies:L,toComparators:j,maxSatisfying:O,minSatisfying:F,minVersion:J,validRange:oe,outside:se,gtr:de,ltr:ke,intersects:Oe,simplifyRange:Ve,subset:Ee,SemVer:a,re:t.re,src:t.src,tokens:t.t,SEMVER_SPEC_VERSION:r.SEMVER_SPEC_VERSION,compareIdentifiers:u.compareIdentifiers,rcompareIdentifiers:u.rcompareIdentifiers}}),L3=Te((e,n)=>{var t=sp();n.exports=t.satisfies(process.version,">=15.7.0")}),U3=Te((e,n)=>{var t=sp();n.exports=t.satisfies(process.version,">=16.9.0")}),sv=Te((e,n)=>{var t=L3(),r=U3(),a={ec:["ES256","ES384","ES512"],rsa:["RS256","PS256","RS384","PS384","RS512","PS512"],"rsa-pss":["PS256","PS384","PS512"]},u={ES256:"prime256v1",ES384:"secp384r1",ES512:"secp521r1"};n.exports=function(c,h){if(!c||!h)return;let l=h.asymmetricKeyType;if(!l)return;let s=a[l];if(!s)throw new Error(`Unknown key type "${l}".`);if(!s.includes(c))throw new Error(`"alg" parameter for "${l}" key type must be one of: ${s.join(", ")}.`);if(t)switch(l){case"ec":let d=h.asymmetricKeyDetails.namedCurve,f=u[c];if(d!==f)throw new Error(`"alg" parameter "${c}" requires curve "${f}".`);break;case"rsa-pss":if(r){let g=parseInt(c.slice(-3),10),{hashAlgorithm:I,mgf1HashAlgorithm:C,saltLength:_}=h.asymmetricKeyDetails;if(I!==`sha${g}`||C!==I)throw new Error(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${c}.`);if(_!==void 0&&_>g>>3)throw new Error(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${c}.`)}break}}}),ov=Te((e,n)=>{var t=sp();n.exports=t.satisfies(process.version,"^6.12.0 || >=8.0.0")}),D3=Te((e,n)=>{var t=qc(),r=Ym(),a=Zm(),u=tv(),c=rv(),h=sv(),l=ov(),s=Jd(),{KeyObject:d,createSecretKey:f,createPublicKey:g}=require("crypto"),I=["RS256","RS384","RS512"],C=["ES256","ES384","ES512"],_=["RS256","RS384","RS512"],T=["HS256","HS384","HS512"];l&&(I.splice(I.length,0,"PS256","PS384","PS512"),_.splice(_.length,0,"PS256","PS384","PS512")),n.exports=function(B,P,p,A){typeof p=="function"&&!A&&(A=p,p={}),p||(p={}),p=Object.assign({},p);let S;if(A?S=A:S=function(q,M){if(q)throw q;return M},p.clockTimestamp&&typeof p.clockTimestamp!="number")return S(new t("clockTimestamp must be a number"));if(p.nonce!==void 0&&(typeof p.nonce!="string"||p.nonce.trim()===""))return S(new t("nonce must be a non-empty string"));if(p.allowInvalidAsymmetricKeyTypes!==void 0&&typeof p.allowInvalidAsymmetricKeyTypes!="boolean")return S(new t("allowInvalidAsymmetricKeyTypes must be a boolean"));let N=p.clockTimestamp||Math.floor(Date.now()/1e3);if(!B)return S(new t("jwt must be provided"));if(typeof B!="string")return S(new t("jwt must be a string"));let D=B.split(".");if(D.length!==3)return S(new t("jwt malformed"));let E;try{E=u(B,{complete:!0})}catch(q){return S(q)}if(!E)return S(new t("invalid token"));let m=E.header,y;if(typeof P=="function"){if(!A)return S(new t("verify must be called asynchronous if secret or public key is provided as a callback"));y=P}else y=function(q,M){return M(null,P)};return y(m,function(q,M){if(q)return S(new t("error in secret or public key callback: "+q.message));let V=D[2].trim()!=="";if(!V&&M)return S(new t("jwt signature is required"));if(V&&!M)return S(new t("secret or public key must be provided"));if(!V&&!p.algorithms)return S(new t('please specify "none" in "algorithms" to verify unsigned tokens'));if(M!=null&&!(M instanceof d))try{M=g(M)}catch{try{M=f(typeof M=="string"?Buffer.from(M):M)}catch{return S(new t("secretOrPublicKey is not valid key material"))}}if(p.algorithms||(M.type==="secret"?p.algorithms=T:["rsa","rsa-pss"].includes(M.asymmetricKeyType)?p.algorithms=_:M.asymmetricKeyType==="ec"?p.algorithms=C:p.algorithms=I),p.algorithms.indexOf(E.header.alg)===-1)return S(new t("invalid algorithm"));if(m.alg.startsWith("HS")&&M.type!=="secret")return S(new t(`secretOrPublicKey must be a symmetric key when using ${m.alg}`));if(/^(?:RS|PS|ES)/.test(m.alg)&&M.type!=="public")return S(new t(`secretOrPublicKey must be an asymmetric key when using ${m.alg}`));if(!p.allowInvalidAsymmetricKeyTypes)try{h(m.alg,M)}catch(j){return S(j)}let w;try{w=s.verify(B,E.header.alg,M)}catch(j){return S(j)}if(!w)return S(new t("invalid signature"));let L=E.payload;if(typeof L.nbf<"u"&&!p.ignoreNotBefore){if(typeof L.nbf!="number")return S(new t("invalid nbf value"));if(L.nbf>N+(p.clockTolerance||0))return S(new r("jwt not active",new Date(L.nbf*1e3)))}if(typeof L.exp<"u"&&!p.ignoreExpiration){if(typeof L.exp!="number")return S(new t("invalid exp value"));if(N>=L.exp+(p.clockTolerance||0))return S(new a("jwt expired",new Date(L.exp*1e3)))}if(p.audience){let j=Array.isArray(p.audience)?p.audience:[p.audience];if(!(Array.isArray(L.aud)?L.aud:[L.aud]).some(function(O){return j.some(function(F){return F instanceof RegExp?F.test(O):F===O})}))return S(new t("jwt audience invalid. expected: "+j.join(" or ")))}if(p.issuer&&(typeof p.issuer=="string"&&L.iss!==p.issuer||Array.isArray(p.issuer)&&p.issuer.indexOf(L.iss)===-1))return S(new t("jwt issuer invalid. expected: "+p.issuer));if(p.subject&&L.sub!==p.subject)return S(new t("jwt subject invalid. expected: "+p.subject));if(p.jwtid&&L.jti!==p.jwtid)return S(new t("jwt jwtid invalid. expected: "+p.jwtid));if(p.nonce&&L.nonce!==p.nonce)return S(new t("jwt nonce invalid. expected: "+p.nonce));if(p.maxAge){if(typeof L.iat!="number")return S(new t("iat required when maxAge is specified"));let j=c(p.maxAge,L.iat);if(typeof j>"u")return S(new t('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'));if(N>=j+(p.clockTolerance||0))return S(new a("maxAge exceeded",new Date(j*1e3)))}if(p.complete===!0){let j=E.signature;return S(null,{header:m,payload:L,signature:j})}return S(null,L)})}}),j3=Te((e,n)=>{(function(){var t,r="4.17.21",a=200,u="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",h="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",s=500,d="__lodash_placeholder__",f=1,g=2,I=4,C=1,_=2,T=1,B=2,P=4,p=8,A=16,S=32,N=64,D=128,E=256,m=512,y=30,q="...",M=800,V=16,w=1,L=2,j=3,O=1/0,F=9007199254740991,J=17976931348623157e292,oe=0/0,se=4294967295,de=se-1,ke=se>>>1,Oe=[["ary",D],["bind",T],["bindKey",B],["curry",p],["curryRight",A],["flip",m],["partial",S],["partialRight",N],["rearg",E]],Ve="[object Arguments]",Ee="[object Array]",We="[object AsyncFunction]",Ce="[object Boolean]",et="[object Date]",Xe="[object DOMException]",x="[object Error]",Y="[object Function]",G="[object GeneratorFunction]",R="[object Map]",H="[object Number]",ie="[object Null]",ee="[object Object]",_e="[object Promise]",Le="[object Proxy]",je="[object RegExp]",ye="[object Set]",Ne="[object String]",He="[object Symbol]",rt="[object Undefined]",$e="[object WeakMap]",kt="[object WeakSet]",Et="[object ArrayBuffer]",Ct="[object DataView]",Nt="[object Float32Array]",Pt="[object Float64Array]",Ot="[object Int8Array]",zt="[object Int16Array]",Yt="[object Int32Array]",$t="[object Uint8Array]",Kt="[object Uint8ClampedArray]",ur="[object Uint16Array]",Er="[object Uint32Array]",yr=/\b__p \+= '';/g,Vr=/\b(__p \+=) '' \+/g,un=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Qr=/&(?:amp|lt|gt|quot|#39);/g,Yr=/[&<>"']/g,bn=RegExp(Qr.source),ui=RegExp(Yr.source),qr=/<%-([\s\S]+?)%>/g,On=/<%([\s\S]+?)%>/g,Lt=/<%=([\s\S]+?)%>/g,Ut=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Zt=/^\w*$/,Dt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ht=/[\\^$.*+?()[\]{}|]/g,Xt=RegExp(Ht.source),Wt=/^\s+/,Gt=/\s/,tr=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,rr=/\{\n\/\* \[wrapped with (.+)\] \*/,nr=/,? & /,Jt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ir=/[()=,{}\[\]\/\s]/,lr=/\\(\\)?/g,Mt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,er=/\w*$/,Bs=/^[-+]0x[0-9a-f]+$/i,ha=/^0b[01]+$/i,ko=/^\[object .+?Constructor\]$/,fa=/^0o[0-7]+$/i,ki=/^(?:0|[1-9]\d*)$/,_n=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Cr=/($^)/,za=/['\n\r\u2028\u2029\\]/g,Pi="\\ud800-\\udfff",da="\\u0300-\\u036f",pa="\\ufe20-\\ufe2f",Ns="\\u20d0-\\u20ff",Os=da+pa+Ns,xs="\\u2700-\\u27bf",ya="a-z\\xdf-\\xf6\\xf8-\\xff",br="\\xac\\xb1\\xd7\\xf7",Ls="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Us="\\u2000-\\u206f",Po=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",$a="A-Z\\xc0-\\xd6\\xd8-\\xde",$="\\ufe0e\\ufe0f",W=br+Ls+Us+Po,X="['\u2019]",le="["+Pi+"]",ve="["+W+"]",Se="["+Os+"]",xe="\\d+",Be="["+xs+"]",bt="["+ya+"]",ar="[^"+Pi+W+xe+xs+ya+$a+"]",Tr="\\ud83c[\\udffb-\\udfff]",Pr="(?:"+Se+"|"+Tr+")",ln="[^"+Pi+"]",li="(?:\\ud83c[\\udde6-\\uddff]){2}",Ar="[\\ud800-\\udbff][\\udc00-\\udfff]",gr="["+$a+"]",Bi="\\u200d",wn="(?:"+bt+"|"+ar+")",Wn="(?:"+gr+"|"+ar+")",Bo="(?:"+X+"(?:d|ll|m|re|s|t|ve))?",Wu="(?:"+X+"(?:D|LL|M|RE|S|T|VE))?",No=Pr+"?",Ni="["+$+"]?",ga="(?:"+Bi+"(?:"+[ln,li,Ar].join("|")+")"+Ni+No+")*",Ds="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Gu="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Qu=Ni+No+ga,Oo="(?:"+[Be,li,Ar].join("|")+")"+Qu,xo="(?:"+[ln+Se+"?",Se,li,Ar,le].join("|")+")",Lo=RegExp(X,"g"),uh=RegExp(Se,"g"),Uo=RegExp(Tr+"(?="+Tr+")|"+xo+Qu,"g"),lh=RegExp([gr+"?"+bt+"+"+Bo+"(?="+[ve,gr,"$"].join("|")+")",Wn+"+"+Wu+"(?="+[ve,gr+wn,"$"].join("|")+")",gr+"?"+wn+"+"+Bo,gr+"+"+Wu,Gu,Ds,xe,Oo].join("|"),"g"),ch=RegExp("["+Bi+Pi+Os+$+"]"),xn=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,hh=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],fh=-1,qt={};qt[Nt]=qt[Pt]=qt[Ot]=qt[zt]=qt[Yt]=qt[$t]=qt[Kt]=qt[ur]=qt[Er]=!0,qt[Ve]=qt[Ee]=qt[Et]=qt[Ce]=qt[Ct]=qt[et]=qt[x]=qt[Y]=qt[R]=qt[H]=qt[ee]=qt[je]=qt[ye]=qt[Ne]=qt[$e]=!1;var Tt={};Tt[Ve]=Tt[Ee]=Tt[Et]=Tt[Ct]=Tt[Ce]=Tt[et]=Tt[Nt]=Tt[Pt]=Tt[Ot]=Tt[zt]=Tt[Yt]=Tt[R]=Tt[H]=Tt[ee]=Tt[je]=Tt[ye]=Tt[Ne]=Tt[He]=Tt[$t]=Tt[Kt]=Tt[ur]=Tt[Er]=!0,Tt[x]=Tt[Y]=Tt[$e]=!1;var Do={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Ka={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Oi={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},dh={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Yu=parseFloat,ph=parseInt,Zu=typeof global=="object"&&global&&global.Object===Object&&global,Xu=typeof self=="object"&&self&&self.Object===Object&&self,mr=Zu||Xu||Function("return this")(),js=typeof e=="object"&&e&&!e.nodeType&&e,ci=js&&typeof n=="object"&&n&&!n.nodeType&&n,jo=ci&&ci.exports===js,hi=jo&&Zu.process,Fr=function(){try{var ce=ci&&ci.require&&ci.require("util").types;return ce||hi&&hi.binding&&hi.binding("util")}catch{}}(),Vo=Fr&&Fr.isArrayBuffer,Ju=Fr&&Fr.isDate,Ha=Fr&&Fr.isMap,el=Fr&&Fr.isRegExp,tl=Fr&&Fr.isSet,qo=Fr&&Fr.isTypedArray;function Zr(ce,ge,pe){switch(pe.length){case 0:return ce.call(ge);case 1:return ce.call(ge,pe[0]);case 2:return ce.call(ge,pe[0],pe[1]);case 3:return ce.call(ge,pe[0],pe[1],pe[2])}return ce.apply(ge,pe)}function Vs(ce,ge,pe,Ue){for(var Ke=-1,ht=ce==null?0:ce.length;++Ke<ht;){var cr=ce[Ke];ge(Ue,cr,pe(cr),ce)}return Ue}function Mr(ce,ge){for(var pe=-1,Ue=ce==null?0:ce.length;++pe<Ue&&ge(ce[pe],pe,ce)!==!1;);return ce}function yh(ce,ge){for(var pe=ce==null?0:ce.length;pe--&&ge(ce[pe],pe,ce)!==!1;);return ce}function rl(ce,ge){for(var pe=-1,Ue=ce==null?0:ce.length;++pe<Ue;)if(!ge(ce[pe],pe,ce))return!1;return!0}function Ln(ce,ge){for(var pe=-1,Ue=ce==null?0:ce.length,Ke=0,ht=[];++pe<Ue;){var cr=ce[pe];ge(cr,pe,ce)&&(ht[Ke++]=cr)}return ht}function Wa(ce,ge){var pe=ce==null?0:ce.length;return!!pe&&fi(ce,ge,0)>-1}function ma(ce,ge,pe){for(var Ue=-1,Ke=ce==null?0:ce.length;++Ue<Ke;)if(pe(ge,ce[Ue]))return!0;return!1}function jt(ce,ge){for(var pe=-1,Ue=ce==null?0:ce.length,Ke=Array(Ue);++pe<Ue;)Ke[pe]=ge(ce[pe],pe,ce);return Ke}function zr(ce,ge){for(var pe=-1,Ue=ge.length,Ke=ce.length;++pe<Ue;)ce[Ke+pe]=ge[pe];return ce}function xi(ce,ge,pe,Ue){var Ke=-1,ht=ce==null?0:ce.length;for(Ue&&ht&&(pe=ce[++Ke]);++Ke<ht;)pe=ge(pe,ce[Ke],Ke,ce);return pe}function qs(ce,ge,pe,Ue){var Ke=ce==null?0:ce.length;for(Ue&&Ke&&(pe=ce[--Ke]);Ke--;)pe=ge(pe,ce[Ke],Ke,ce);return pe}function Fs(ce,ge){for(var pe=-1,Ue=ce==null?0:ce.length;++pe<Ue;)if(ge(ce[pe],pe,ce))return!0;return!1}var gh=$o("length");function Fo(ce){return ce.split("")}function mh(ce){return ce.match(Jt)||[]}function Mo(ce,ge,pe){var Ue;return pe(ce,function(Ke,ht,cr){if(ge(Ke,ht,cr))return Ue=ht,!1}),Ue}function Li(ce,ge,pe,Ue){for(var Ke=ce.length,ht=pe+(Ue?1:-1);Ue?ht--:++ht<Ke;)if(ge(ce[ht],ht,ce))return ht;return-1}function fi(ce,ge,pe){return ge===ge?Sh(ce,ge,pe):Li(ce,zo,pe)}function nl(ce,ge,pe,Ue){for(var Ke=pe-1,ht=ce.length;++Ke<ht;)if(Ue(ce[Ke],ge))return Ke;return-1}function zo(ce){return ce!==ce}function il(ce,ge){var pe=ce==null?0:ce.length;return pe?Ho(ce,ge)/pe:oe}function $o(ce){return function(ge){return ge==null?t:ge[ce]}}function Ga(ce){return function(ge){return ce==null?t:ce[ge]}}function Ko(ce,ge,pe,Ue,Ke){return Ke(ce,function(ht,cr,yt){pe=Ue?(Ue=!1,ht):ge(pe,ht,cr,yt)}),pe}function vh(ce,ge){var pe=ce.length;for(ce.sort(ge);pe--;)ce[pe]=ce[pe].value;return ce}function Ho(ce,ge){for(var pe,Ue=-1,Ke=ce.length;++Ue<Ke;){var ht=ge(ce[Ue]);ht!==t&&(pe=pe===t?ht:pe+ht)}return pe}function Wo(ce,ge){for(var pe=-1,Ue=Array(ce);++pe<ce;)Ue[pe]=ge(pe);return Ue}function al(ce,ge){return jt(ge,function(pe){return[pe,ce[pe]]})}function Ui(ce){return ce&&ce.slice(0,ol(ce)+1).replace(Wt,"")}function Ir(ce){return function(ge){return ce(ge)}}function Di(ce,ge){return jt(ge,function(pe){return ce[pe]})}function va(ce,ge){return ce.has(ge)}function Qa(ce,ge){for(var pe=-1,Ue=ce.length;++pe<Ue&&fi(ge,ce[pe],0)>-1;);return pe}function ba(ce,ge){for(var pe=ce.length;pe--&&fi(ge,ce[pe],0)>-1;);return pe}function Ms(ce,ge){for(var pe=ce.length,Ue=0;pe--;)ce[pe]===ge&&++Ue;return Ue}var di=Ga(Do),Go=Ga(Ka);function bh(ce){return"\\"+dh[ce]}function _a(ce,ge){return ce==null?t:ce[ge]}function ji(ce){return ch.test(ce)}function _h(ce){return xn.test(ce)}function zs(ce){for(var ge,pe=[];!(ge=ce.next()).done;)pe.push(ge.value);return pe}function Qo(ce){var ge=-1,pe=Array(ce.size);return ce.forEach(function(Ue,Ke){pe[++ge]=[Ke,Ue]}),pe}function sl(ce,ge){return function(pe){return ce(ge(pe))}}function pi(ce,ge){for(var pe=-1,Ue=ce.length,Ke=0,ht=[];++pe<Ue;){var cr=ce[pe];(cr===ge||cr===d)&&(ce[pe]=d,ht[Ke++]=pe)}return ht}function $s(ce){var ge=-1,pe=Array(ce.size);return ce.forEach(function(Ue){pe[++ge]=Ue}),pe}function wh(ce){var ge=-1,pe=Array(ce.size);return ce.forEach(function(Ue){pe[++ge]=[Ue,Ue]}),pe}function Sh(ce,ge,pe){for(var Ue=pe-1,Ke=ce.length;++Ue<Ke;)if(ce[Ue]===ge)return Ue;return-1}function Eh(ce,ge,pe){for(var Ue=pe+1;Ue--;)if(ce[Ue]===ge)return Ue;return Ue}function wa(ce){return ji(ce)?ul(ce):gh(ce)}function Sn(ce){return ji(ce)?Th(ce):Fo(ce)}function ol(ce){for(var ge=ce.length;ge--&&Gt.test(ce.charAt(ge)););return ge}var Ch=Ga(Oi);function ul(ce){for(var ge=Uo.lastIndex=0;Uo.test(ce);)++ge;return ge}function Th(ce){return ce.match(Uo)||[]}function Ah(ce){return ce.match(lh)||[]}var yi=function ce(ge){ge=ge==null?mr:Un.defaults(mr.Object(),ge,Un.pick(mr,hh));var pe=ge.Array,Ue=ge.Date,Ke=ge.Error,ht=ge.Function,cr=ge.Math,yt=ge.Object,Ks=ge.RegExp,ll=ge.String,Br=ge.TypeError,Ya=pe.prototype,cl=ht.prototype,Vi=yt.prototype,qi=ge["__core-js_shared__"],Za=cl.toString,_t=Vi.hasOwnProperty,Ih=0,hl=function(){var i=/[^.]+$/.exec(qi&&qi.keys&&qi.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),Hs=Vi.toString,Rh=Za.call(yt),Ws=mr._,kh=Ks("^"+Za.call(_t).replace(Ht,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Xa=jo?ge.Buffer:t,En=ge.Symbol,Fi=ge.Uint8Array,Ja=Xa?Xa.allocUnsafe:t,gi=sl(yt.getPrototypeOf,yt),es=yt.create,fl=Vi.propertyIsEnumerable,Gs=Ya.splice,Yo=En?En.isConcatSpreadable:t,Sa=En?En.iterator:t,Mi=En?En.toStringTag:t,ts=function(){try{var i=ss(yt,"defineProperty");return i({},"",{}),i}catch{}}(),Ph=ge.clearTimeout!==mr.clearTimeout&&ge.clearTimeout,Bh=Ue&&Ue.now!==mr.Date.now&&Ue.now,Nh=ge.setTimeout!==mr.setTimeout&&ge.setTimeout,Qs=cr.ceil,Ys=cr.floor,Ea=yt.getOwnPropertySymbols,dl=Xa?Xa.isBuffer:t,b=ge.isFinite,k=Ya.join,K=sl(yt.keys,yt),te=cr.max,fe=cr.min,me=Ue.now,Re=ge.parseInt,qe=cr.random,nt=Ya.reverse,st=ss(ge,"DataView"),ct=ss(ge,"Map"),dt=ss(ge,"Promise"),Ft=ss(ge,"Set"),Nr=ss(ge,"WeakMap"),Dn=ss(yt,"create"),Cn=Nr&&new Nr,$r={},_r=os(st),Xr=os(ct),cn=os(dt),zi=os(Ft),ze=os(Nr),ot=En?En.prototype:t,vt=ot?ot.valueOf:t,Or=ot?ot.toString:t;function Q(i){if(hr(i)&&!tt(i)&&!(i instanceof pt)){if(i instanceof Kr)return i;if(_t.call(i,"__wrapped__"))return z0(i)}return new Kr(i)}var Tn=function(){function i(){}return function(o){if(!sr(o))return{};if(es)return es(o);i.prototype=o;var v=new i;return i.prototype=t,v}}();function Gn(){}function Kr(i,o){this.__wrapped__=i,this.__actions__=[],this.__chain__=!!o,this.__index__=0,this.__values__=t}Q.templateSettings={escape:qr,evaluate:On,interpolate:Lt,variable:"",imports:{_:Q}},Q.prototype=Gn.prototype,Q.prototype.constructor=Q,Kr.prototype=Tn(Gn.prototype),Kr.prototype.constructor=Kr;function pt(i){this.__wrapped__=i,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=se,this.__views__=[]}function fb(){var i=new pt(this.__wrapped__);return i.__actions__=hn(this.__actions__),i.__dir__=this.__dir__,i.__filtered__=this.__filtered__,i.__iteratees__=hn(this.__iteratees__),i.__takeCount__=this.__takeCount__,i.__views__=hn(this.__views__),i}function db(){if(this.__filtered__){var i=new pt(this);i.__dir__=-1,i.__filtered__=!0}else i=this.clone(),i.__dir__*=-1;return i}function pb(){var i=this.__wrapped__.value(),o=this.__dir__,v=tt(i),U=o<0,z=v?i.length:0,Z=A_(0,z,this.__views__),re=Z.start,ae=Z.end,he=ae-re,be=U?ae:re-1,we=this.__iteratees__,Ae=we.length,De=0,Fe=fe(he,this.__takeCount__);if(!v||!U&&z==he&&Fe==he)return f0(i,this.__actions__);var Ye=[];e:for(;he--&&De<Fe;){be+=o;for(var at=-1,Ze=i[be];++at<Ae;){var ft=we[at],gt=ft.iteratee,Rn=ft.type,tn=gt(Ze);if(Rn==L)Ze=tn;else if(!tn){if(Rn==w)continue e;break e}}Ye[De++]=Ze}return Ye}pt.prototype=Tn(Gn.prototype),pt.prototype.constructor=pt;function rs(i){var o=-1,v=i==null?0:i.length;for(this.clear();++o<v;){var U=i[o];this.set(U[0],U[1])}}function yb(){this.__data__=Dn?Dn(null):{},this.size=0}function gb(i){var o=this.has(i)&&delete this.__data__[i];return this.size-=o?1:0,o}function mb(i){var o=this.__data__;if(Dn){var v=o[i];return v===l?t:v}return _t.call(o,i)?o[i]:t}function vb(i){var o=this.__data__;return Dn?o[i]!==t:_t.call(o,i)}function bb(i,o){var v=this.__data__;return this.size+=this.has(i)?0:1,v[i]=Dn&&o===t?l:o,this}rs.prototype.clear=yb,rs.prototype.delete=gb,rs.prototype.get=mb,rs.prototype.has=vb,rs.prototype.set=bb;function $i(i){var o=-1,v=i==null?0:i.length;for(this.clear();++o<v;){var U=i[o];this.set(U[0],U[1])}}function _b(){this.__data__=[],this.size=0}function wb(i){var o=this.__data__,v=pl(o,i);if(v<0)return!1;var U=o.length-1;return v==U?o.pop():Gs.call(o,v,1),--this.size,!0}function Sb(i){var o=this.__data__,v=pl(o,i);return v<0?t:o[v][1]}function Eb(i){return pl(this.__data__,i)>-1}function Cb(i,o){var v=this.__data__,U=pl(v,i);return U<0?(++this.size,v.push([i,o])):v[U][1]=o,this}$i.prototype.clear=_b,$i.prototype.delete=wb,$i.prototype.get=Sb,$i.prototype.has=Eb,$i.prototype.set=Cb;function Ki(i){var o=-1,v=i==null?0:i.length;for(this.clear();++o<v;){var U=i[o];this.set(U[0],U[1])}}function Tb(){this.size=0,this.__data__={hash:new rs,map:new(ct||$i),string:new rs}}function Ab(i){var o=Al(this,i).delete(i);return this.size-=o?1:0,o}function Ib(i){return Al(this,i).get(i)}function Rb(i){return Al(this,i).has(i)}function kb(i,o){var v=Al(this,i),U=v.size;return v.set(i,o),this.size+=v.size==U?0:1,this}Ki.prototype.clear=Tb,Ki.prototype.delete=Ab,Ki.prototype.get=Ib,Ki.prototype.has=Rb,Ki.prototype.set=kb;function ns(i){var o=-1,v=i==null?0:i.length;for(this.__data__=new Ki;++o<v;)this.add(i[o])}function Pb(i){return this.__data__.set(i,l),this}function Bb(i){return this.__data__.has(i)}ns.prototype.add=ns.prototype.push=Pb,ns.prototype.has=Bb;function Qn(i){var o=this.__data__=new $i(i);this.size=o.size}function Nb(){this.__data__=new $i,this.size=0}function Ob(i){var o=this.__data__,v=o.delete(i);return this.size=o.size,v}function xb(i){return this.__data__.get(i)}function Lb(i){return this.__data__.has(i)}function Ub(i,o){var v=this.__data__;if(v instanceof $i){var U=v.__data__;if(!ct||U.length<a-1)return U.push([i,o]),this.size=++v.size,this;v=this.__data__=new Ki(U)}return v.set(i,o),this.size=v.size,this}Qn.prototype.clear=Nb,Qn.prototype.delete=Ob,Qn.prototype.get=xb,Qn.prototype.has=Lb,Qn.prototype.set=Ub;function zp(i,o){var v=tt(i),U=!v&&us(i),z=!v&&!U&&Ra(i),Z=!v&&!U&&!z&&eo(i),re=v||U||z||Z,ae=re?Wo(i.length,ll):[],he=ae.length;for(var be in i)(o||_t.call(i,be))&&!(re&&(be=="length"||z&&(be=="offset"||be=="parent")||Z&&(be=="buffer"||be=="byteLength"||be=="byteOffset")||Qi(be,he)))&&ae.push(be);return ae}function $p(i){var o=i.length;return o?i[zh(0,o-1)]:t}function Db(i,o){return Il(hn(i),is(o,0,i.length))}function jb(i){return Il(hn(i))}function Oh(i,o,v){(v!==t&&!Yn(i[o],v)||v===t&&!(o in i))&&Hi(i,o,v)}function Zo(i,o,v){var U=i[o];(!(_t.call(i,o)&&Yn(U,v))||v===t&&!(o in i))&&Hi(i,o,v)}function pl(i,o){for(var v=i.length;v--;)if(Yn(i[v][0],o))return v;return-1}function Vb(i,o,v,U){return Ca(i,function(z,Z,re){o(U,z,v(z),re)}),U}function Kp(i,o){return i&&vi(o,Rr(o),i)}function qb(i,o){return i&&vi(o,dn(o),i)}function Hi(i,o,v){o=="__proto__"&&ts?ts(i,o,{configurable:!0,enumerable:!0,value:v,writable:!0}):i[o]=v}function xh(i,o){for(var v=-1,U=o.length,z=pe(U),Z=i==null;++v<U;)z[v]=Z?t:yf(i,o[v]);return z}function is(i,o,v){return i===i&&(v!==t&&(i=i<=v?i:v),o!==t&&(i=i>=o?i:o)),i}function jn(i,o,v,U,z,Z){var re,ae=o&f,he=o&g,be=o&I;if(v&&(re=z?v(i,U,z,Z):v(i)),re!==t)return re;if(!sr(i))return i;var we=tt(i);if(we){if(re=R_(i),!ae)return hn(i,re)}else{var Ae=Hr(i),De=Ae==Y||Ae==G;if(Ra(i))return y0(i,ae);if(Ae==ee||Ae==Ve||De&&!z){if(re=he||De?{}:x0(i),!ae)return he?m_(i,qb(re,i)):g_(i,Kp(re,i))}else{if(!Tt[Ae])return z?i:{};re=k_(i,Ae,ae)}}Z||(Z=new Qn);var Fe=Z.get(i);if(Fe)return Fe;Z.set(i,re),ly(i)?i.forEach(function(Ze){re.add(jn(Ze,o,v,Ze,i,Z))}):oy(i)&&i.forEach(function(Ze,ft){re.set(ft,jn(Ze,o,v,ft,i,Z))});var Ye=be?he?ef:Jh:he?dn:Rr,at=we?t:Ye(i);return Mr(at||i,function(Ze,ft){at&&(ft=Ze,Ze=i[ft]),Zo(re,ft,jn(Ze,o,v,ft,i,Z))}),re}function Fb(i){var o=Rr(i);return function(v){return Hp(v,i,o)}}function Hp(i,o,v){var U=v.length;if(i==null)return!U;for(i=yt(i);U--;){var z=v[U],Z=o[z],re=i[z];if(re===t&&!(z in i)||!Z(re))return!1}return!0}function Wp(i,o,v){if(typeof i!="function")throw new Br(c);return iu(function(){i.apply(t,v)},o)}function Xo(i,o,v,U){var z=-1,Z=Wa,re=!0,ae=i.length,he=[],be=o.length;if(!ae)return he;v&&(o=jt(o,Ir(v))),U?(Z=ma,re=!1):o.length>=a&&(Z=va,re=!1,o=new ns(o));e:for(;++z<ae;){var we=i[z],Ae=v==null?we:v(we);if(we=U||we!==0?we:0,re&&Ae===Ae){for(var De=be;De--;)if(o[De]===Ae)continue e;he.push(we)}else Z(o,Ae,U)||he.push(we)}return he}var Ca=_0(mi),Gp=_0(Uh,!0);function Mb(i,o){var v=!0;return Ca(i,function(U,z,Z){return v=!!o(U,z,Z),v}),v}function yl(i,o,v){for(var U=-1,z=i.length;++U<z;){var Z=i[U],re=o(Z);if(re!=null&&(ae===t?re===re&&!In(re):v(re,ae)))var ae=re,he=Z}return he}function zb(i,o,v,U){var z=i.length;for(v=it(v),v<0&&(v=-v>z?0:z+v),U=U===t||U>z?z:it(U),U<0&&(U+=z),U=v>U?0:hy(U);v<U;)i[v++]=o;return i}function Qp(i,o){var v=[];return Ca(i,function(U,z,Z){o(U,z,Z)&&v.push(U)}),v}function xr(i,o,v,U,z){var Z=-1,re=i.length;for(v||(v=B_),z||(z=[]);++Z<re;){var ae=i[Z];o>0&&v(ae)?o>1?xr(ae,o-1,v,U,z):zr(z,ae):U||(z[z.length]=ae)}return z}var Lh=w0(),Yp=w0(!0);function mi(i,o){return i&&Lh(i,o,Rr)}function Uh(i,o){return i&&Yp(i,o,Rr)}function gl(i,o){return Ln(o,function(v){return Yi(i[v])})}function as(i,o){o=Aa(o,i);for(var v=0,U=o.length;i!=null&&v<U;)i=i[bi(o[v++])];return v&&v==U?i:t}function Zp(i,o,v){var U=o(i);return tt(i)?U:zr(U,v(i))}function Jr(i){return i==null?i===t?rt:ie:Mi&&Mi in yt(i)?T_(i):j_(i)}function Dh(i,o){return i>o}function $b(i,o){return i!=null&&_t.call(i,o)}function Kb(i,o){return i!=null&&o in yt(i)}function Hb(i,o,v){return i>=fe(o,v)&&i<te(o,v)}function jh(i,o,v){for(var U=v?ma:Wa,z=i[0].length,Z=i.length,re=Z,ae=pe(Z),he=1/0,be=[];re--;){var we=i[re];re&&o&&(we=jt(we,Ir(o))),he=fe(we.length,he),ae[re]=!v&&(o||z>=120&&we.length>=120)?new ns(re&&we):t}we=i[0];var Ae=-1,De=ae[0];e:for(;++Ae<z&&be.length<he;){var Fe=we[Ae],Ye=o?o(Fe):Fe;if(Fe=v||Fe!==0?Fe:0,!(De?va(De,Ye):U(be,Ye,v))){for(re=Z;--re;){var at=ae[re];if(!(at?va(at,Ye):U(i[re],Ye,v)))continue e}De&&De.push(Ye),be.push(Fe)}}return be}function Wb(i,o,v,U){return mi(i,function(z,Z,re){o(U,v(z),Z,re)}),U}function Jo(i,o,v){o=Aa(o,i),i=j0(i,o);var U=i==null?i:i[bi(qn(o))];return U==null?t:Zr(U,i,v)}function Xp(i){return hr(i)&&Jr(i)==Ve}function Gb(i){return hr(i)&&Jr(i)==Et}function Qb(i){return hr(i)&&Jr(i)==et}function eu(i,o,v,U,z){return i===o?!0:i==null||o==null||!hr(i)&&!hr(o)?i!==i&&o!==o:Yb(i,o,v,U,eu,z)}function Yb(i,o,v,U,z,Z){var re=tt(i),ae=tt(o),he=re?Ee:Hr(i),be=ae?Ee:Hr(o);he=he==Ve?ee:he,be=be==Ve?ee:be;var we=he==ee,Ae=be==ee,De=he==be;if(De&&Ra(i)){if(!Ra(o))return!1;re=!0,we=!1}if(De&&!we)return Z||(Z=new Qn),re||eo(i)?B0(i,o,v,U,z,Z):E_(i,o,he,v,U,z,Z);if(!(v&C)){var Fe=we&&_t.call(i,"__wrapped__"),Ye=Ae&&_t.call(o,"__wrapped__");if(Fe||Ye){var at=Fe?i.value():i,Ze=Ye?o.value():o;return Z||(Z=new Qn),z(at,Ze,v,U,Z)}}return De?(Z||(Z=new Qn),C_(i,o,v,U,z,Z)):!1}function Zb(i){return hr(i)&&Hr(i)==R}function Vh(i,o,v,U){var z=v.length,Z=z,re=!U;if(i==null)return!Z;for(i=yt(i);z--;){var ae=v[z];if(re&&ae[2]?ae[1]!==i[ae[0]]:!(ae[0]in i))return!1}for(;++z<Z;){ae=v[z];var he=ae[0],be=i[he],we=ae[1];if(re&&ae[2]){if(be===t&&!(he in i))return!1}else{var Ae=new Qn;if(U)var De=U(be,we,he,i,o,Ae);if(!(De===t?eu(we,be,C|_,U,Ae):De))return!1}}return!0}function Jp(i){if(!sr(i)||O_(i))return!1;var o=Yi(i)?kh:ko;return o.test(os(i))}function Xb(i){return hr(i)&&Jr(i)==je}function Jb(i){return hr(i)&&Hr(i)==ye}function e_(i){return hr(i)&&Ol(i.length)&&!!qt[Jr(i)]}function e0(i){return typeof i=="function"?i:i==null?pn:typeof i=="object"?tt(i)?n0(i[0],i[1]):r0(i):Sy(i)}function qh(i){if(!nu(i))return K(i);var o=[];for(var v in yt(i))_t.call(i,v)&&v!="constructor"&&o.push(v);return o}function t_(i){if(!sr(i))return D_(i);var o=nu(i),v=[];for(var U in i)U=="constructor"&&(o||!_t.call(i,U))||v.push(U);return v}function Fh(i,o){return i<o}function t0(i,o){var v=-1,U=fn(i)?pe(i.length):[];return Ca(i,function(z,Z,re){U[++v]=o(z,Z,re)}),U}function r0(i){var o=rf(i);return o.length==1&&o[0][2]?U0(o[0][0],o[0][1]):function(v){return v===i||Vh(v,i,o)}}function n0(i,o){return af(i)&&L0(o)?U0(bi(i),o):function(v){var U=yf(v,i);return U===t&&U===o?gf(v,i):eu(o,U,C|_)}}function ml(i,o,v,U,z){i!==o&&Lh(o,function(Z,re){if(z||(z=new Qn),sr(Z))r_(i,o,re,v,ml,U,z);else{var ae=U?U(of(i,re),Z,re+"",i,o,z):t;ae===t&&(ae=Z),Oh(i,re,ae)}},dn)}function r_(i,o,v,U,z,Z,re){var ae=of(i,v),he=of(o,v),be=re.get(he);if(be){Oh(i,v,be);return}var we=Z?Z(ae,he,v+"",i,o,re):t,Ae=we===t;if(Ae){var De=tt(he),Fe=!De&&Ra(he),Ye=!De&&!Fe&&eo(he);we=he,De||Fe||Ye?tt(ae)?we=ae:dr(ae)?we=hn(ae):Fe?(Ae=!1,we=y0(he,!0)):Ye?(Ae=!1,we=g0(he,!0)):we=[]:au(he)||us(he)?(we=ae,us(ae)?we=fy(ae):(!sr(ae)||Yi(ae))&&(we=x0(he))):Ae=!1}Ae&&(re.set(he,we),z(we,he,U,Z,re),re.delete(he)),Oh(i,v,we)}function i0(i,o){var v=i.length;if(v)return o+=o<0?v:0,Qi(o,v)?i[o]:t}function a0(i,o,v){o.length?o=jt(o,function(Z){return tt(Z)?function(re){return as(re,Z.length===1?Z[0]:Z)}:Z}):o=[pn];var U=-1;o=jt(o,Ir(Ge()));var z=t0(i,function(Z,re,ae){var he=jt(o,function(be){return be(Z)});return{criteria:he,index:++U,value:Z}});return vh(z,function(Z,re){return y_(Z,re,v)})}function n_(i,o){return s0(i,o,function(v,U){return gf(i,U)})}function s0(i,o,v){for(var U=-1,z=o.length,Z={};++U<z;){var re=o[U],ae=as(i,re);v(ae,re)&&tu(Z,Aa(re,i),ae)}return Z}function i_(i){return function(o){return as(o,i)}}function Mh(i,o,v,U){var z=U?nl:fi,Z=-1,re=o.length,ae=i;for(i===o&&(o=hn(o)),v&&(ae=jt(i,Ir(v)));++Z<re;)for(var he=0,be=o[Z],we=v?v(be):be;(he=z(ae,we,he,U))>-1;)ae!==i&&Gs.call(ae,he,1),Gs.call(i,he,1);return i}function o0(i,o){for(var v=i?o.length:0,U=v-1;v--;){var z=o[v];if(v==U||z!==Z){var Z=z;Qi(z)?Gs.call(i,z,1):Hh(i,z)}}return i}function zh(i,o){return i+Ys(qe()*(o-i+1))}function a_(i,o,v,U){for(var z=-1,Z=te(Qs((o-i)/(v||1)),0),re=pe(Z);Z--;)re[U?Z:++z]=i,i+=v;return re}function $h(i,o){var v="";if(!i||o<1||o>F)return v;do o%2&&(v+=i),o=Ys(o/2),o&&(i+=i);while(o);return v}function ut(i,o){return uf(D0(i,o,pn),i+"")}function s_(i){return $p(to(i))}function o_(i,o){var v=to(i);return Il(v,is(o,0,v.length))}function tu(i,o,v,U){if(!sr(i))return i;o=Aa(o,i);for(var z=-1,Z=o.length,re=Z-1,ae=i;ae!=null&&++z<Z;){var he=bi(o[z]),be=v;if(he==="__proto__"||he==="constructor"||he==="prototype")return i;if(z!=re){var we=ae[he];be=U?U(we,he,ae):t,be===t&&(be=sr(we)?we:Qi(o[z+1])?[]:{})}Zo(ae,he,be),ae=ae[he]}return i}var u0=Cn?function(i,o){return Cn.set(i,o),i}:pn,u_=ts?function(i,o){return ts(i,"toString",{configurable:!0,enumerable:!1,value:vf(o),writable:!0})}:pn;function l_(i){return Il(to(i))}function Vn(i,o,v){var U=-1,z=i.length;o<0&&(o=-o>z?0:z+o),v=v>z?z:v,v<0&&(v+=z),z=o>v?0:v-o>>>0,o>>>=0;for(var Z=pe(z);++U<z;)Z[U]=i[U+o];return Z}function c_(i,o){var v;return Ca(i,function(U,z,Z){return v=o(U,z,Z),!v}),!!v}function vl(i,o,v){var U=0,z=i==null?U:i.length;if(typeof o=="number"&&o===o&&z<=ke){for(;U<z;){var Z=U+z>>>1,re=i[Z];re!==null&&!In(re)&&(v?re<=o:re<o)?U=Z+1:z=Z}return z}return Kh(i,o,pn,v)}function Kh(i,o,v,U){var z=0,Z=i==null?0:i.length;if(Z===0)return 0;o=v(o);for(var re=o!==o,ae=o===null,he=In(o),be=o===t;z<Z;){var we=Ys((z+Z)/2),Ae=v(i[we]),De=Ae!==t,Fe=Ae===null,Ye=Ae===Ae,at=In(Ae);if(re)var Ze=U||Ye;else be?Ze=Ye&&(U||De):ae?Ze=Ye&&De&&(U||!Fe):he?Ze=Ye&&De&&!Fe&&(U||!at):Fe||at?Ze=!1:Ze=U?Ae<=o:Ae<o;Ze?z=we+1:Z=we}return fe(Z,de)}function l0(i,o){for(var v=-1,U=i.length,z=0,Z=[];++v<U;){var re=i[v],ae=o?o(re):re;if(!v||!Yn(ae,he)){var he=ae;Z[z++]=re===0?0:re}}return Z}function c0(i){return typeof i=="number"?i:In(i)?oe:+i}function An(i){if(typeof i=="string")return i;if(tt(i))return jt(i,An)+"";if(In(i))return Or?Or.call(i):"";var o=i+"";return o=="0"&&1/i==-O?"-0":o}function Ta(i,o,v){var U=-1,z=Wa,Z=i.length,re=!0,ae=[],he=ae;if(v)re=!1,z=ma;else if(Z>=a){var be=o?null:w_(i);if(be)return $s(be);re=!1,z=va,he=new ns}else he=o?[]:ae;e:for(;++U<Z;){var we=i[U],Ae=o?o(we):we;if(we=v||we!==0?we:0,re&&Ae===Ae){for(var De=he.length;De--;)if(he[De]===Ae)continue e;o&&he.push(Ae),ae.push(we)}else z(he,Ae,v)||(he!==ae&&he.push(Ae),ae.push(we))}return ae}function Hh(i,o){return o=Aa(o,i),i=j0(i,o),i==null||delete i[bi(qn(o))]}function h0(i,o,v,U){return tu(i,o,v(as(i,o)),U)}function bl(i,o,v,U){for(var z=i.length,Z=U?z:-1;(U?Z--:++Z<z)&&o(i[Z],Z,i););return v?Vn(i,U?0:Z,U?Z+1:z):Vn(i,U?Z+1:0,U?z:Z)}function f0(i,o){var v=i;return v instanceof pt&&(v=v.value()),xi(o,function(U,z){return z.func.apply(z.thisArg,zr([U],z.args))},v)}function Wh(i,o,v){var U=i.length;if(U<2)return U?Ta(i[0]):[];for(var z=-1,Z=pe(U);++z<U;)for(var re=i[z],ae=-1;++ae<U;)ae!=z&&(Z[z]=Xo(Z[z]||re,i[ae],o,v));return Ta(xr(Z,1),o,v)}function d0(i,o,v){for(var U=-1,z=i.length,Z=o.length,re={};++U<z;){var ae=U<Z?o[U]:t;v(re,i[U],ae)}return re}function Gh(i){return dr(i)?i:[]}function Qh(i){return typeof i=="function"?i:pn}function Aa(i,o){return tt(i)?i:af(i,o)?[i]:M0(Bt(i))}var h_=ut;function Ia(i,o,v){var U=i.length;return v=v===t?U:v,!o&&v>=U?i:Vn(i,o,v)}var p0=Ph||function(i){return mr.clearTimeout(i)};function y0(i,o){if(o)return i.slice();var v=i.length,U=Ja?Ja(v):new i.constructor(v);return i.copy(U),U}function Yh(i){var o=new i.constructor(i.byteLength);return new Fi(o).set(new Fi(i)),o}function f_(i,o){var v=o?Yh(i.buffer):i.buffer;return new i.constructor(v,i.byteOffset,i.byteLength)}function d_(i){var o=new i.constructor(i.source,er.exec(i));return o.lastIndex=i.lastIndex,o}function p_(i){return vt?yt(vt.call(i)):{}}function g0(i,o){var v=o?Yh(i.buffer):i.buffer;return new i.constructor(v,i.byteOffset,i.length)}function m0(i,o){if(i!==o){var v=i!==t,U=i===null,z=i===i,Z=In(i),re=o!==t,ae=o===null,he=o===o,be=In(o);if(!ae&&!be&&!Z&&i>o||Z&&re&&he&&!ae&&!be||U&&re&&he||!v&&he||!z)return 1;if(!U&&!Z&&!be&&i<o||be&&v&&z&&!U&&!Z||ae&&v&&z||!re&&z||!he)return-1}return 0}function y_(i,o,v){for(var U=-1,z=i.criteria,Z=o.criteria,re=z.length,ae=v.length;++U<re;){var he=m0(z[U],Z[U]);if(he){if(U>=ae)return he;var be=v[U];return he*(be=="desc"?-1:1)}}return i.index-o.index}function v0(i,o,v,U){for(var z=-1,Z=i.length,re=v.length,ae=-1,he=o.length,be=te(Z-re,0),we=pe(he+be),Ae=!U;++ae<he;)we[ae]=o[ae];for(;++z<re;)(Ae||z<Z)&&(we[v[z]]=i[z]);for(;be--;)we[ae++]=i[z++];return we}function b0(i,o,v,U){for(var z=-1,Z=i.length,re=-1,ae=v.length,he=-1,be=o.length,we=te(Z-ae,0),Ae=pe(we+be),De=!U;++z<we;)Ae[z]=i[z];for(var Fe=z;++he<be;)Ae[Fe+he]=o[he];for(;++re<ae;)(De||z<Z)&&(Ae[Fe+v[re]]=i[z++]);return Ae}function hn(i,o){var v=-1,U=i.length;for(o||(o=pe(U));++v<U;)o[v]=i[v];return o}function vi(i,o,v,U){var z=!v;v||(v={});for(var Z=-1,re=o.length;++Z<re;){var ae=o[Z],he=U?U(v[ae],i[ae],ae,v,i):t;he===t&&(he=i[ae]),z?Hi(v,ae,he):Zo(v,ae,he)}return v}function g_(i,o){return vi(i,nf(i),o)}function m_(i,o){return vi(i,N0(i),o)}function _l(i,o){return function(v,U){var z=tt(v)?Vs:Vb,Z=o?o():{};return z(v,i,Ge(U,2),Z)}}function Zs(i){return ut(function(o,v){var U=-1,z=v.length,Z=z>1?v[z-1]:t,re=z>2?v[2]:t;for(Z=i.length>3&&typeof Z=="function"?(z--,Z):t,re&&en(v[0],v[1],re)&&(Z=z<3?t:Z,z=1),o=yt(o);++U<z;){var ae=v[U];ae&&i(o,ae,U,Z)}return o})}function _0(i,o){return function(v,U){if(v==null)return v;if(!fn(v))return i(v,U);for(var z=v.length,Z=o?z:-1,re=yt(v);(o?Z--:++Z<z)&&U(re[Z],Z,re)!==!1;);return v}}function w0(i){return function(o,v,U){for(var z=-1,Z=yt(o),re=U(o),ae=re.length;ae--;){var he=re[i?ae:++z];if(v(Z[he],he,Z)===!1)break}return o}}function v_(i,o,v){var U=o&T,z=ru(i);function Z(){var re=this&&this!==mr&&this instanceof Z?z:i;return re.apply(U?v:this,arguments)}return Z}function S0(i){return function(o){o=Bt(o);var v=ji(o)?Sn(o):t,U=v?v[0]:o.charAt(0),z=v?Ia(v,1).join(""):o.slice(1);return U[i]()+z}}function Xs(i){return function(o){return xi(_y(by(o).replace(Lo,"")),i,"")}}function ru(i){return function(){var o=arguments;switch(o.length){case 0:return new i;case 1:return new i(o[0]);case 2:return new i(o[0],o[1]);case 3:return new i(o[0],o[1],o[2]);case 4:return new i(o[0],o[1],o[2],o[3]);case 5:return new i(o[0],o[1],o[2],o[3],o[4]);case 6:return new i(o[0],o[1],o[2],o[3],o[4],o[5]);case 7:return new i(o[0],o[1],o[2],o[3],o[4],o[5],o[6])}var v=Tn(i.prototype),U=i.apply(v,o);return sr(U)?U:v}}function b_(i,o,v){var U=ru(i);function z(){for(var Z=arguments.length,re=pe(Z),ae=Z,he=Js(z);ae--;)re[ae]=arguments[ae];var be=Z<3&&re[0]!==he&&re[Z-1]!==he?[]:pi(re,he);if(Z-=be.length,Z<v)return I0(i,o,wl,z.placeholder,t,re,be,t,t,v-Z);var we=this&&this!==mr&&this instanceof z?U:i;return Zr(we,this,re)}return z}function E0(i){return function(o,v,U){var z=yt(o);if(!fn(o)){var Z=Ge(v,3);o=Rr(o),v=function(ae){return Z(z[ae],ae,z)}}var re=i(o,v,U);return re>-1?z[Z?o[re]:re]:t}}function C0(i){return Gi(function(o){var v=o.length,U=v,z=Kr.prototype.thru;for(i&&o.reverse();U--;){var Z=o[U];if(typeof Z!="function")throw new Br(c);if(z&&!re&&Tl(Z)=="wrapper")var re=new Kr([],!0)}for(U=re?U:v;++U<v;){Z=o[U];var ae=Tl(Z),he=ae=="wrapper"?tf(Z):t;he&&sf(he[0])&&he[1]==(D|p|S|E)&&!he[4].length&&he[9]==1?re=re[Tl(he[0])].apply(re,he[3]):re=Z.length==1&&sf(Z)?re[ae]():re.thru(Z)}return function(){var be=arguments,we=be[0];if(re&&be.length==1&&tt(we))return re.plant(we).value();for(var Ae=0,De=v?o[Ae].apply(this,be):we;++Ae<v;)De=o[Ae].call(this,De);return De}})}function wl(i,o,v,U,z,Z,re,ae,he,be){var we=o&D,Ae=o&T,De=o&B,Fe=o&(p|A),Ye=o&m,at=De?t:ru(i);function Ze(){for(var ft=arguments.length,gt=pe(ft),Rn=ft;Rn--;)gt[Rn]=arguments[Rn];if(Fe)var tn=Js(Ze),kn=Ms(gt,tn);if(U&&(gt=v0(gt,U,z,Fe)),Z&&(gt=b0(gt,Z,re,Fe)),ft-=kn,Fe&&ft<be){var pr=pi(gt,tn);return I0(i,o,wl,Ze.placeholder,v,gt,pr,ae,he,be-ft)}var Zn=Ae?v:this,Xi=De?Zn[i]:i;return ft=gt.length,ae?gt=V_(gt,ae):Ye&&ft>1&&gt.reverse(),we&&he<ft&&(gt.length=he),this&&this!==mr&&this instanceof Ze&&(Xi=at||ru(Xi)),Xi.apply(Zn,gt)}return Ze}function T0(i,o){return function(v,U){return Wb(v,i,o(U),{})}}function Sl(i,o){return function(v,U){var z;if(v===t&&U===t)return o;if(v!==t&&(z=v),U!==t){if(z===t)return U;typeof v=="string"||typeof U=="string"?(v=An(v),U=An(U)):(v=c0(v),U=c0(U)),z=i(v,U)}return z}}function Zh(i){return Gi(function(o){return o=jt(o,Ir(Ge())),ut(function(v){var U=this;return i(o,function(z){return Zr(z,U,v)})})})}function El(i,o){o=o===t?" ":An(o);var v=o.length;if(v<2)return v?$h(o,i):o;var U=$h(o,Qs(i/wa(o)));return ji(o)?Ia(Sn(U),0,i).join(""):U.slice(0,i)}function __(i,o,v,U){var z=o&T,Z=ru(i);function re(){for(var ae=-1,he=arguments.length,be=-1,we=U.length,Ae=pe(we+he),De=this&&this!==mr&&this instanceof re?Z:i;++be<we;)Ae[be]=U[be];for(;he--;)Ae[be++]=arguments[++ae];return Zr(De,z?v:this,Ae)}return re}function A0(i){return function(o,v,U){return U&&typeof U!="number"&&en(o,v,U)&&(v=U=t),o=Zi(o),v===t?(v=o,o=0):v=Zi(v),U=U===t?o<v?1:-1:Zi(U),a_(o,v,U,i)}}function Cl(i){return function(o,v){return typeof o=="string"&&typeof v=="string"||(o=Fn(o),v=Fn(v)),i(o,v)}}function I0(i,o,v,U,z,Z,re,ae,he,be){var we=o&p,Ae=we?re:t,De=we?t:re,Fe=we?Z:t,Ye=we?t:Z;o|=we?S:N,o&=~(we?N:S),o&P||(o&=~(T|B));var at=[i,o,z,Fe,Ae,Ye,De,ae,he,be],Ze=v.apply(t,at);return sf(i)&&V0(Ze,at),Ze.placeholder=U,q0(Ze,i,o)}function Xh(i){var o=cr[i];return function(v,U){if(v=Fn(v),U=U==null?0:fe(it(U),292),U&&b(v)){var z=(Bt(v)+"e").split("e"),Z=o(z[0]+"e"+(+z[1]+U));return z=(Bt(Z)+"e").split("e"),+(z[0]+"e"+(+z[1]-U))}return o(v)}}var w_=Ft&&1/$s(new Ft([,-0]))[1]==O?function(i){return new Ft(i)}:wf;function R0(i){return function(o){var v=Hr(o);return v==R?Qo(o):v==ye?wh(o):al(o,i(o))}}function Wi(i,o,v,U,z,Z,re,ae){var he=o&B;if(!he&&typeof i!="function")throw new Br(c);var be=U?U.length:0;if(be||(o&=~(S|N),U=z=t),re=re===t?re:te(it(re),0),ae=ae===t?ae:it(ae),be-=z?z.length:0,o&N){var we=U,Ae=z;U=z=t}var De=he?t:tf(i),Fe=[i,o,v,U,z,we,Ae,Z,re,ae];if(De&&U_(Fe,De),i=Fe[0],o=Fe[1],v=Fe[2],U=Fe[3],z=Fe[4],ae=Fe[9]=Fe[9]===t?he?0:i.length:te(Fe[9]-be,0),!ae&&o&(p|A)&&(o&=~(p|A)),!o||o==T)var Ye=v_(i,o,v);else o==p||o==A?Ye=b_(i,o,ae):(o==S||o==(T|S))&&!z.length?Ye=__(i,o,v,U):Ye=wl.apply(t,Fe);var at=De?u0:V0;return q0(at(Ye,Fe),i,o)}function k0(i,o,v,U){return i===t||Yn(i,Vi[v])&&!_t.call(U,v)?o:i}function P0(i,o,v,U,z,Z){return sr(i)&&sr(o)&&(Z.set(o,i),ml(i,o,t,P0,Z),Z.delete(o)),i}function S_(i){return au(i)?t:i}function B0(i,o,v,U,z,Z){var re=v&C,ae=i.length,he=o.length;if(ae!=he&&!(re&&he>ae))return!1;var be=Z.get(i),we=Z.get(o);if(be&&we)return be==o&&we==i;var Ae=-1,De=!0,Fe=v&_?new ns:t;for(Z.set(i,o),Z.set(o,i);++Ae<ae;){var Ye=i[Ae],at=o[Ae];if(U)var Ze=re?U(at,Ye,Ae,o,i,Z):U(Ye,at,Ae,i,o,Z);if(Ze!==t){if(Ze)continue;De=!1;break}if(Fe){if(!Fs(o,function(ft,gt){if(!va(Fe,gt)&&(Ye===ft||z(Ye,ft,v,U,Z)))return Fe.push(gt)})){De=!1;break}}else if(!(Ye===at||z(Ye,at,v,U,Z))){De=!1;break}}return Z.delete(i),Z.delete(o),De}function E_(i,o,v,U,z,Z,re){switch(v){case Ct:if(i.byteLength!=o.byteLength||i.byteOffset!=o.byteOffset)return!1;i=i.buffer,o=o.buffer;case Et:return!(i.byteLength!=o.byteLength||!Z(new Fi(i),new Fi(o)));case Ce:case et:case H:return Yn(+i,+o);case x:return i.name==o.name&&i.message==o.message;case je:case Ne:return i==o+"";case R:var ae=Qo;case ye:var he=U&C;if(ae||(ae=$s),i.size!=o.size&&!he)return!1;var be=re.get(i);if(be)return be==o;U|=_,re.set(i,o);var we=B0(ae(i),ae(o),U,z,Z,re);return re.delete(i),we;case He:if(vt)return vt.call(i)==vt.call(o)}return!1}function C_(i,o,v,U,z,Z){var re=v&C,ae=Jh(i),he=ae.length,be=Jh(o),we=be.length;if(he!=we&&!re)return!1;for(var Ae=he;Ae--;){var De=ae[Ae];if(!(re?De in o:_t.call(o,De)))return!1}var Fe=Z.get(i),Ye=Z.get(o);if(Fe&&Ye)return Fe==o&&Ye==i;var at=!0;Z.set(i,o),Z.set(o,i);for(var Ze=re;++Ae<he;){De=ae[Ae];var ft=i[De],gt=o[De];if(U)var Rn=re?U(gt,ft,De,o,i,Z):U(ft,gt,De,i,o,Z);if(!(Rn===t?ft===gt||z(ft,gt,v,U,Z):Rn)){at=!1;break}Ze||(Ze=De=="constructor")}if(at&&!Ze){var tn=i.constructor,kn=o.constructor;tn!=kn&&"constructor"in i&&"constructor"in o&&!(typeof tn=="function"&&tn instanceof tn&&typeof kn=="function"&&kn instanceof kn)&&(at=!1)}return Z.delete(i),Z.delete(o),at}function Gi(i){return uf(D0(i,t,H0),i+"")}function Jh(i){return Zp(i,Rr,nf)}function ef(i){return Zp(i,dn,N0)}var tf=Cn?function(i){return Cn.get(i)}:wf;function Tl(i){for(var o=i.name+"",v=$r[o],U=_t.call($r,o)?v.length:0;U--;){var z=v[U],Z=z.func;if(Z==null||Z==i)return z.name}return o}function Js(i){var o=_t.call(Q,"placeholder")?Q:i;return o.placeholder}function Ge(){var i=Q.iteratee||bf;return i=i===bf?e0:i,arguments.length?i(arguments[0],arguments[1]):i}function Al(i,o){var v=i.__data__;return N_(o)?v[typeof o=="string"?"string":"hash"]:v.map}function rf(i){for(var o=Rr(i),v=o.length;v--;){var U=o[v],z=i[U];o[v]=[U,z,L0(z)]}return o}function ss(i,o){var v=_a(i,o);return Jp(v)?v:t}function T_(i){var o=_t.call(i,Mi),v=i[Mi];try{i[Mi]=t;var U=!0}catch{}var z=Hs.call(i);return U&&(o?i[Mi]=v:delete i[Mi]),z}var nf=Ea?function(i){return i==null?[]:(i=yt(i),Ln(Ea(i),function(o){return fl.call(i,o)}))}:Sf,N0=Ea?function(i){for(var o=[];i;)zr(o,nf(i)),i=gi(i);return o}:Sf,Hr=Jr;(st&&Hr(new st(new ArrayBuffer(1)))!=Ct||ct&&Hr(new ct)!=R||dt&&Hr(dt.resolve())!=_e||Ft&&Hr(new Ft)!=ye||Nr&&Hr(new Nr)!=$e)&&(Hr=function(i){var o=Jr(i),v=o==ee?i.constructor:t,U=v?os(v):"";if(U)switch(U){case _r:return Ct;case Xr:return R;case cn:return _e;case zi:return ye;case ze:return $e}return o});function A_(i,o,v){for(var U=-1,z=v.length;++U<z;){var Z=v[U],re=Z.size;switch(Z.type){case"drop":i+=re;break;case"dropRight":o-=re;break;case"take":o=fe(o,i+re);break;case"takeRight":i=te(i,o-re);break}}return{start:i,end:o}}function I_(i){var o=i.match(rr);return o?o[1].split(nr):[]}function O0(i,o,v){o=Aa(o,i);for(var U=-1,z=o.length,Z=!1;++U<z;){var re=bi(o[U]);if(!(Z=i!=null&&v(i,re)))break;i=i[re]}return Z||++U!=z?Z:(z=i==null?0:i.length,!!z&&Ol(z)&&Qi(re,z)&&(tt(i)||us(i)))}function R_(i){var o=i.length,v=new i.constructor(o);return o&&typeof i[0]=="string"&&_t.call(i,"index")&&(v.index=i.index,v.input=i.input),v}function x0(i){return typeof i.constructor=="function"&&!nu(i)?Tn(gi(i)):{}}function k_(i,o,v){var U=i.constructor;switch(o){case Et:return Yh(i);case Ce:case et:return new U(+i);case Ct:return f_(i,v);case Nt:case Pt:case Ot:case zt:case Yt:case $t:case Kt:case ur:case Er:return g0(i,v);case R:return new U;case H:case Ne:return new U(i);case je:return d_(i);case ye:return new U;case He:return p_(i)}}function P_(i,o){var v=o.length;if(!v)return i;var U=v-1;return o[U]=(v>1?"& ":"")+o[U],o=o.join(v>2?", ":" "),i.replace(tr,`{
/* [wrapped with `+o+`] */
`)}function B_(i){return tt(i)||us(i)||!!(Yo&&i&&i[Yo])}function Qi(i,o){var v=typeof i;return o=o??F,!!o&&(v=="number"||v!="symbol"&&ki.test(i))&&i>-1&&i%1==0&&i<o}function en(i,o,v){if(!sr(v))return!1;var U=typeof o;return(U=="number"?fn(v)&&Qi(o,v.length):U=="string"&&o in v)?Yn(v[o],i):!1}function af(i,o){if(tt(i))return!1;var v=typeof i;return v=="number"||v=="symbol"||v=="boolean"||i==null||In(i)?!0:Zt.test(i)||!Ut.test(i)||o!=null&&i in yt(o)}function N_(i){var o=typeof i;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?i!=="__proto__":i===null}function sf(i){var o=Tl(i),v=Q[o];if(typeof v!="function"||!(o in pt.prototype))return!1;if(i===v)return!0;var U=tf(v);return!!U&&i===U[0]}function O_(i){return!!hl&&hl in i}var x_=qi?Yi:Ef;function nu(i){var o=i&&i.constructor,v=typeof o=="function"&&o.prototype||Vi;return i===v}function L0(i){return i===i&&!sr(i)}function U0(i,o){return function(v){return v==null?!1:v[i]===o&&(o!==t||i in yt(v))}}function L_(i){var o=Bl(i,function(U){return v.size===s&&v.clear(),U}),v=o.cache;return o}function U_(i,o){var v=i[1],U=o[1],z=v|U,Z=z<(T|B|D),re=U==D&&v==p||U==D&&v==E&&i[7].length<=o[8]||U==(D|E)&&o[7].length<=o[8]&&v==p;if(!(Z||re))return i;U&T&&(i[2]=o[2],z|=v&T?0:P);var ae=o[3];if(ae){var he=i[3];i[3]=he?v0(he,ae,o[4]):ae,i[4]=he?pi(i[3],d):o[4]}return ae=o[5],ae&&(he=i[5],i[5]=he?b0(he,ae,o[6]):ae,i[6]=he?pi(i[5],d):o[6]),ae=o[7],ae&&(i[7]=ae),U&D&&(i[8]=i[8]==null?o[8]:fe(i[8],o[8])),i[9]==null&&(i[9]=o[9]),i[0]=o[0],i[1]=z,i}function D_(i){var o=[];if(i!=null)for(var v in yt(i))o.push(v);return o}function j_(i){return Hs.call(i)}function D0(i,o,v){return o=te(o===t?i.length-1:o,0),function(){for(var U=arguments,z=-1,Z=te(U.length-o,0),re=pe(Z);++z<Z;)re[z]=U[o+z];z=-1;for(var ae=pe(o+1);++z<o;)ae[z]=U[z];return ae[o]=v(re),Zr(i,this,ae)}}function j0(i,o){return o.length<2?i:as(i,Vn(o,0,-1))}function V_(i,o){for(var v=i.length,U=fe(o.length,v),z=hn(i);U--;){var Z=o[U];i[U]=Qi(Z,v)?z[Z]:t}return i}function of(i,o){if(!(o==="constructor"&&typeof i[o]=="function")&&o!="__proto__")return i[o]}var V0=F0(u0),iu=Nh||function(i,o){return mr.setTimeout(i,o)},uf=F0(u_);function q0(i,o,v){var U=o+"";return uf(i,P_(U,q_(I_(U),v)))}function F0(i){var o=0,v=0;return function(){var U=me(),z=V-(U-v);if(v=U,z>0){if(++o>=M)return arguments[0]}else o=0;return i.apply(t,arguments)}}function Il(i,o){var v=-1,U=i.length,z=U-1;for(o=o===t?U:o;++v<o;){var Z=zh(v,z),re=i[Z];i[Z]=i[v],i[v]=re}return i.length=o,i}var M0=L_(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(Dt,function(v,U,z,Z){o.push(z?Z.replace(lr,"$1"):U||v)}),o});function bi(i){if(typeof i=="string"||In(i))return i;var o=i+"";return o=="0"&&1/i==-O?"-0":o}function os(i){if(i!=null){try{return Za.call(i)}catch{}try{return i+""}catch{}}return""}function q_(i,o){return Mr(Oe,function(v){var U="_."+v[0];o&v[1]&&!Wa(i,U)&&i.push(U)}),i.sort()}function z0(i){if(i instanceof pt)return i.clone();var o=new Kr(i.__wrapped__,i.__chain__);return o.__actions__=hn(i.__actions__),o.__index__=i.__index__,o.__values__=i.__values__,o}function F_(i,o,v){(v?en(i,o,v):o===t)?o=1:o=te(it(o),0);var U=i==null?0:i.length;if(!U||o<1)return[];for(var z=0,Z=0,re=pe(Qs(U/o));z<U;)re[Z++]=Vn(i,z,z+=o);return re}function M_(i){for(var o=-1,v=i==null?0:i.length,U=0,z=[];++o<v;){var Z=i[o];Z&&(z[U++]=Z)}return z}function z_(){var i=arguments.length;if(!i)return[];for(var o=pe(i-1),v=arguments[0],U=i;U--;)o[U-1]=arguments[U];return zr(tt(v)?hn(v):[v],xr(o,1))}var $_=ut(function(i,o){return dr(i)?Xo(i,xr(o,1,dr,!0)):[]}),K_=ut(function(i,o){var v=qn(o);return dr(v)&&(v=t),dr(i)?Xo(i,xr(o,1,dr,!0),Ge(v,2)):[]}),H_=ut(function(i,o){var v=qn(o);return dr(v)&&(v=t),dr(i)?Xo(i,xr(o,1,dr,!0),t,v):[]});function W_(i,o,v){var U=i==null?0:i.length;return U?(o=v||o===t?1:it(o),Vn(i,o<0?0:o,U)):[]}function G_(i,o,v){var U=i==null?0:i.length;return U?(o=v||o===t?1:it(o),o=U-o,Vn(i,0,o<0?0:o)):[]}function Q_(i,o){return i&&i.length?bl(i,Ge(o,3),!0,!0):[]}function Y_(i,o){return i&&i.length?bl(i,Ge(o,3),!0):[]}function Z_(i,o,v,U){var z=i==null?0:i.length;return z?(v&&typeof v!="number"&&en(i,o,v)&&(v=0,U=z),zb(i,o,v,U)):[]}function $0(i,o,v){var U=i==null?0:i.length;if(!U)return-1;var z=v==null?0:it(v);return z<0&&(z=te(U+z,0)),Li(i,Ge(o,3),z)}function K0(i,o,v){var U=i==null?0:i.length;if(!U)return-1;var z=U-1;return v!==t&&(z=it(v),z=v<0?te(U+z,0):fe(z,U-1)),Li(i,Ge(o,3),z,!0)}function H0(i){var o=i==null?0:i.length;return o?xr(i,1):[]}function X_(i){var o=i==null?0:i.length;return o?xr(i,O):[]}function J_(i,o){var v=i==null?0:i.length;return v?(o=o===t?1:it(o),xr(i,o)):[]}function e2(i){for(var o=-1,v=i==null?0:i.length,U={};++o<v;){var z=i[o];U[z[0]]=z[1]}return U}function W0(i){return i&&i.length?i[0]:t}function t2(i,o,v){var U=i==null?0:i.length;if(!U)return-1;var z=v==null?0:it(v);return z<0&&(z=te(U+z,0)),fi(i,o,z)}function r2(i){var o=i==null?0:i.length;return o?Vn(i,0,-1):[]}var n2=ut(function(i){var o=jt(i,Gh);return o.length&&o[0]===i[0]?jh(o):[]}),i2=ut(function(i){var o=qn(i),v=jt(i,Gh);return o===qn(v)?o=t:v.pop(),v.length&&v[0]===i[0]?jh(v,Ge(o,2)):[]}),a2=ut(function(i){var o=qn(i),v=jt(i,Gh);return o=typeof o=="function"?o:t,o&&v.pop(),v.length&&v[0]===i[0]?jh(v,t,o):[]});function s2(i,o){return i==null?"":k.call(i,o)}function qn(i){var o=i==null?0:i.length;return o?i[o-1]:t}function o2(i,o,v){var U=i==null?0:i.length;if(!U)return-1;var z=U;return v!==t&&(z=it(v),z=z<0?te(U+z,0):fe(z,U-1)),o===o?Eh(i,o,z):Li(i,zo,z,!0)}function u2(i,o){return i&&i.length?i0(i,it(o)):t}var l2=ut(G0);function G0(i,o){return i&&i.length&&o&&o.length?Mh(i,o):i}function c2(i,o,v){return i&&i.length&&o&&o.length?Mh(i,o,Ge(v,2)):i}function h2(i,o,v){return i&&i.length&&o&&o.length?Mh(i,o,t,v):i}var f2=Gi(function(i,o){var v=i==null?0:i.length,U=xh(i,o);return o0(i,jt(o,function(z){return Qi(z,v)?+z:z}).sort(m0)),U});function d2(i,o){var v=[];if(!(i&&i.length))return v;var U=-1,z=[],Z=i.length;for(o=Ge(o,3);++U<Z;){var re=i[U];o(re,U,i)&&(v.push(re),z.push(U))}return o0(i,z),v}function lf(i){return i==null?i:nt.call(i)}function p2(i,o,v){var U=i==null?0:i.length;return U?(v&&typeof v!="number"&&en(i,o,v)?(o=0,v=U):(o=o==null?0:it(o),v=v===t?U:it(v)),Vn(i,o,v)):[]}function y2(i,o){return vl(i,o)}function g2(i,o,v){return Kh(i,o,Ge(v,2))}function m2(i,o){var v=i==null?0:i.length;if(v){var U=vl(i,o);if(U<v&&Yn(i[U],o))return U}return-1}function v2(i,o){return vl(i,o,!0)}function b2(i,o,v){return Kh(i,o,Ge(v,2),!0)}function _2(i,o){var v=i==null?0:i.length;if(v){var U=vl(i,o,!0)-1;if(Yn(i[U],o))return U}return-1}function w2(i){return i&&i.length?l0(i):[]}function S2(i,o){return i&&i.length?l0(i,Ge(o,2)):[]}function E2(i){var o=i==null?0:i.length;return o?Vn(i,1,o):[]}function C2(i,o,v){return i&&i.length?(o=v||o===t?1:it(o),Vn(i,0,o<0?0:o)):[]}function T2(i,o,v){var U=i==null?0:i.length;return U?(o=v||o===t?1:it(o),o=U-o,Vn(i,o<0?0:o,U)):[]}function A2(i,o){return i&&i.length?bl(i,Ge(o,3),!1,!0):[]}function I2(i,o){return i&&i.length?bl(i,Ge(o,3)):[]}var R2=ut(function(i){return Ta(xr(i,1,dr,!0))}),k2=ut(function(i){var o=qn(i);return dr(o)&&(o=t),Ta(xr(i,1,dr,!0),Ge(o,2))}),P2=ut(function(i){var o=qn(i);return o=typeof o=="function"?o:t,Ta(xr(i,1,dr,!0),t,o)});function B2(i){return i&&i.length?Ta(i):[]}function N2(i,o){return i&&i.length?Ta(i,Ge(o,2)):[]}function O2(i,o){return o=typeof o=="function"?o:t,i&&i.length?Ta(i,t,o):[]}function cf(i){if(!(i&&i.length))return[];var o=0;return i=Ln(i,function(v){if(dr(v))return o=te(v.length,o),!0}),Wo(o,function(v){return jt(i,$o(v))})}function Q0(i,o){if(!(i&&i.length))return[];var v=cf(i);return o==null?v:jt(v,function(U){return Zr(o,t,U)})}var x2=ut(function(i,o){return dr(i)?Xo(i,o):[]}),L2=ut(function(i){return Wh(Ln(i,dr))}),U2=ut(function(i){var o=qn(i);return dr(o)&&(o=t),Wh(Ln(i,dr),Ge(o,2))}),D2=ut(function(i){var o=qn(i);return o=typeof o=="function"?o:t,Wh(Ln(i,dr),t,o)}),j2=ut(cf);function V2(i,o){return d0(i||[],o||[],Zo)}function q2(i,o){return d0(i||[],o||[],tu)}var F2=ut(function(i){var o=i.length,v=o>1?i[o-1]:t;return v=typeof v=="function"?(i.pop(),v):t,Q0(i,v)});function Y0(i){var o=Q(i);return o.__chain__=!0,o}function M2(i,o){return o(i),i}function Rl(i,o){return o(i)}var z2=Gi(function(i){var o=i.length,v=o?i[0]:0,U=this.__wrapped__,z=function(Z){return xh(Z,i)};return o>1||this.__actions__.length||!(U instanceof pt)||!Qi(v)?this.thru(z):(U=U.slice(v,+v+(o?1:0)),U.__actions__.push({func:Rl,args:[z],thisArg:t}),new Kr(U,this.__chain__).thru(function(Z){return o&&!Z.length&&Z.push(t),Z}))});function $2(){return Y0(this)}function K2(){return new Kr(this.value(),this.__chain__)}function H2(){this.__values__===t&&(this.__values__=cy(this.value()));var i=this.__index__>=this.__values__.length,o=i?t:this.__values__[this.__index__++];return{done:i,value:o}}function W2(){return this}function G2(i){for(var o,v=this;v instanceof Gn;){var U=z0(v);U.__index__=0,U.__values__=t,o?z.__wrapped__=U:o=U;var z=U;v=v.__wrapped__}return z.__wrapped__=i,o}function Q2(){var i=this.__wrapped__;if(i instanceof pt){var o=i;return this.__actions__.length&&(o=new pt(this)),o=o.reverse(),o.__actions__.push({func:Rl,args:[lf],thisArg:t}),new Kr(o,this.__chain__)}return this.thru(lf)}function Y2(){return f0(this.__wrapped__,this.__actions__)}var Z2=_l(function(i,o,v){_t.call(i,v)?++i[v]:Hi(i,v,1)});function X2(i,o,v){var U=tt(i)?rl:Mb;return v&&en(i,o,v)&&(o=t),U(i,Ge(o,3))}function J2(i,o){var v=tt(i)?Ln:Qp;return v(i,Ge(o,3))}var ew=E0($0),tw=E0(K0);function rw(i,o){return xr(kl(i,o),1)}function nw(i,o){return xr(kl(i,o),O)}function iw(i,o,v){return v=v===t?1:it(v),xr(kl(i,o),v)}function Z0(i,o){var v=tt(i)?Mr:Ca;return v(i,Ge(o,3))}function X0(i,o){var v=tt(i)?yh:Gp;return v(i,Ge(o,3))}var aw=_l(function(i,o,v){_t.call(i,v)?i[v].push(o):Hi(i,v,[o])});function sw(i,o,v,U){i=fn(i)?i:to(i),v=v&&!U?it(v):0;var z=i.length;return v<0&&(v=te(z+v,0)),xl(i)?v<=z&&i.indexOf(o,v)>-1:!!z&&fi(i,o,v)>-1}var ow=ut(function(i,o,v){var U=-1,z=typeof o=="function",Z=fn(i)?pe(i.length):[];return Ca(i,function(re){Z[++U]=z?Zr(o,re,v):Jo(re,o,v)}),Z}),uw=_l(function(i,o,v){Hi(i,v,o)});function kl(i,o){var v=tt(i)?jt:t0;return v(i,Ge(o,3))}function lw(i,o,v,U){return i==null?[]:(tt(o)||(o=o==null?[]:[o]),v=U?t:v,tt(v)||(v=v==null?[]:[v]),a0(i,o,v))}var cw=_l(function(i,o,v){i[v?0:1].push(o)},function(){return[[],[]]});function hw(i,o,v){var U=tt(i)?xi:Ko,z=arguments.length<3;return U(i,Ge(o,4),v,z,Ca)}function fw(i,o,v){var U=tt(i)?qs:Ko,z=arguments.length<3;return U(i,Ge(o,4),v,z,Gp)}function dw(i,o){var v=tt(i)?Ln:Qp;return v(i,Nl(Ge(o,3)))}function pw(i){var o=tt(i)?$p:s_;return o(i)}function yw(i,o,v){(v?en(i,o,v):o===t)?o=1:o=it(o);var U=tt(i)?Db:o_;return U(i,o)}function gw(i){var o=tt(i)?jb:l_;return o(i)}function mw(i){if(i==null)return 0;if(fn(i))return xl(i)?wa(i):i.length;var o=Hr(i);return o==R||o==ye?i.size:qh(i).length}function vw(i,o,v){var U=tt(i)?Fs:c_;return v&&en(i,o,v)&&(o=t),U(i,Ge(o,3))}var bw=ut(function(i,o){if(i==null)return[];var v=o.length;return v>1&&en(i,o[0],o[1])?o=[]:v>2&&en(o[0],o[1],o[2])&&(o=[o[0]]),a0(i,xr(o,1),[])}),Pl=Bh||function(){return mr.Date.now()};function _w(i,o){if(typeof o!="function")throw new Br(c);return i=it(i),function(){if(--i<1)return o.apply(this,arguments)}}function J0(i,o,v){return o=v?t:o,o=i&&o==null?i.length:o,Wi(i,D,t,t,t,t,o)}function ey(i,o){var v;if(typeof o!="function")throw new Br(c);return i=it(i),function(){return--i>0&&(v=o.apply(this,arguments)),i<=1&&(o=t),v}}var hf=ut(function(i,o,v){var U=T;if(v.length){var z=pi(v,Js(hf));U|=S}return Wi(i,U,o,v,z)}),ty=ut(function(i,o,v){var U=T|B;if(v.length){var z=pi(v,Js(ty));U|=S}return Wi(o,U,i,v,z)});function ry(i,o,v){o=v?t:o;var U=Wi(i,p,t,t,t,t,t,o);return U.placeholder=ry.placeholder,U}function ny(i,o,v){o=v?t:o;var U=Wi(i,A,t,t,t,t,t,o);return U.placeholder=ny.placeholder,U}function iy(i,o,v){var U,z,Z,re,ae,he,be=0,we=!1,Ae=!1,De=!0;if(typeof i!="function")throw new Br(c);o=Fn(o)||0,sr(v)&&(we=!!v.leading,Ae="maxWait"in v,Z=Ae?te(Fn(v.maxWait)||0,o):Z,De="trailing"in v?!!v.trailing:De);function Fe(pr){var Zn=U,Xi=z;return U=z=t,be=pr,re=i.apply(Xi,Zn),re}function Ye(pr){return be=pr,ae=iu(ft,o),we?Fe(pr):re}function at(pr){var Zn=pr-he,Xi=pr-be,Ey=o-Zn;return Ae?fe(Ey,Z-Xi):Ey}function Ze(pr){var Zn=pr-he,Xi=pr-be;return he===t||Zn>=o||Zn<0||Ae&&Xi>=Z}function ft(){var pr=Pl();if(Ze(pr))return gt(pr);ae=iu(ft,at(pr))}function gt(pr){return ae=t,De&&U?Fe(pr):(U=z=t,re)}function Rn(){ae!==t&&p0(ae),be=0,U=he=z=ae=t}function tn(){return ae===t?re:gt(Pl())}function kn(){var pr=Pl(),Zn=Ze(pr);if(U=arguments,z=this,he=pr,Zn){if(ae===t)return Ye(he);if(Ae)return p0(ae),ae=iu(ft,o),Fe(he)}return ae===t&&(ae=iu(ft,o)),re}return kn.cancel=Rn,kn.flush=tn,kn}var ww=ut(function(i,o){return Wp(i,1,o)}),Sw=ut(function(i,o,v){return Wp(i,Fn(o)||0,v)});function Ew(i){return Wi(i,m)}function Bl(i,o){if(typeof i!="function"||o!=null&&typeof o!="function")throw new Br(c);var v=function(){var U=arguments,z=o?o.apply(this,U):U[0],Z=v.cache;if(Z.has(z))return Z.get(z);var re=i.apply(this,U);return v.cache=Z.set(z,re)||Z,re};return v.cache=new(Bl.Cache||Ki),v}Bl.Cache=Ki;function Nl(i){if(typeof i!="function")throw new Br(c);return function(){var o=arguments;switch(o.length){case 0:return!i.call(this);case 1:return!i.call(this,o[0]);case 2:return!i.call(this,o[0],o[1]);case 3:return!i.call(this,o[0],o[1],o[2])}return!i.apply(this,o)}}function Cw(i){return ey(2,i)}var Tw=h_(function(i,o){o=o.length==1&&tt(o[0])?jt(o[0],Ir(Ge())):jt(xr(o,1),Ir(Ge()));var v=o.length;return ut(function(U){for(var z=-1,Z=fe(U.length,v);++z<Z;)U[z]=o[z].call(this,U[z]);return Zr(i,this,U)})}),ff=ut(function(i,o){var v=pi(o,Js(ff));return Wi(i,S,t,o,v)}),ay=ut(function(i,o){var v=pi(o,Js(ay));return Wi(i,N,t,o,v)}),Aw=Gi(function(i,o){return Wi(i,E,t,t,t,o)});function Iw(i,o){if(typeof i!="function")throw new Br(c);return o=o===t?o:it(o),ut(i,o)}function Rw(i,o){if(typeof i!="function")throw new Br(c);return o=o==null?0:te(it(o),0),ut(function(v){var U=v[o],z=Ia(v,0,o);return U&&zr(z,U),Zr(i,this,z)})}function kw(i,o,v){var U=!0,z=!0;if(typeof i!="function")throw new Br(c);return sr(v)&&(U="leading"in v?!!v.leading:U,z="trailing"in v?!!v.trailing:z),iy(i,o,{leading:U,maxWait:o,trailing:z})}function Pw(i){return J0(i,1)}function Bw(i,o){return ff(Qh(o),i)}function Nw(){if(!arguments.length)return[];var i=arguments[0];return tt(i)?i:[i]}function Ow(i){return jn(i,I)}function xw(i,o){return o=typeof o=="function"?o:t,jn(i,I,o)}function Lw(i){return jn(i,f|I)}function Uw(i,o){return o=typeof o=="function"?o:t,jn(i,f|I,o)}function Dw(i,o){return o==null||Hp(i,o,Rr(o))}function Yn(i,o){return i===o||i!==i&&o!==o}var jw=Cl(Dh),Vw=Cl(function(i,o){return i>=o}),us=Xp(function(){return arguments}())?Xp:function(i){return hr(i)&&_t.call(i,"callee")&&!fl.call(i,"callee")},tt=pe.isArray,qw=Vo?Ir(Vo):Gb;function fn(i){return i!=null&&Ol(i.length)&&!Yi(i)}function dr(i){return hr(i)&&fn(i)}function Fw(i){return i===!0||i===!1||hr(i)&&Jr(i)==Ce}var Ra=dl||Ef,Mw=Ju?Ir(Ju):Qb;function zw(i){return hr(i)&&i.nodeType===1&&!au(i)}function $w(i){if(i==null)return!0;if(fn(i)&&(tt(i)||typeof i=="string"||typeof i.splice=="function"||Ra(i)||eo(i)||us(i)))return!i.length;var o=Hr(i);if(o==R||o==ye)return!i.size;if(nu(i))return!qh(i).length;for(var v in i)if(_t.call(i,v))return!1;return!0}function Kw(i,o){return eu(i,o)}function Hw(i,o,v){v=typeof v=="function"?v:t;var U=v?v(i,o):t;return U===t?eu(i,o,t,v):!!U}function df(i){if(!hr(i))return!1;var o=Jr(i);return o==x||o==Xe||typeof i.message=="string"&&typeof i.name=="string"&&!au(i)}function Ww(i){return typeof i=="number"&&b(i)}function Yi(i){if(!sr(i))return!1;var o=Jr(i);return o==Y||o==G||o==We||o==Le}function sy(i){return typeof i=="number"&&i==it(i)}function Ol(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=F}function sr(i){var o=typeof i;return i!=null&&(o=="object"||o=="function")}function hr(i){return i!=null&&typeof i=="object"}var oy=Ha?Ir(Ha):Zb;function Gw(i,o){return i===o||Vh(i,o,rf(o))}function Qw(i,o,v){return v=typeof v=="function"?v:t,Vh(i,o,rf(o),v)}function Yw(i){return uy(i)&&i!=+i}function Zw(i){if(x_(i))throw new Ke(u);return Jp(i)}function Xw(i){return i===null}function Jw(i){return i==null}function uy(i){return typeof i=="number"||hr(i)&&Jr(i)==H}function au(i){if(!hr(i)||Jr(i)!=ee)return!1;var o=gi(i);if(o===null)return!0;var v=_t.call(o,"constructor")&&o.constructor;return typeof v=="function"&&v instanceof v&&Za.call(v)==Rh}var pf=el?Ir(el):Xb;function eS(i){return sy(i)&&i>=-F&&i<=F}var ly=tl?Ir(tl):Jb;function xl(i){return typeof i=="string"||!tt(i)&&hr(i)&&Jr(i)==Ne}function In(i){return typeof i=="symbol"||hr(i)&&Jr(i)==He}var eo=qo?Ir(qo):e_;function tS(i){return i===t}function rS(i){return hr(i)&&Hr(i)==$e}function nS(i){return hr(i)&&Jr(i)==kt}var iS=Cl(Fh),aS=Cl(function(i,o){return i<=o});function cy(i){if(!i)return[];if(fn(i))return xl(i)?Sn(i):hn(i);if(Sa&&i[Sa])return zs(i[Sa]());var o=Hr(i),v=o==R?Qo:o==ye?$s:to;return v(i)}function Zi(i){if(!i)return i===0?i:0;if(i=Fn(i),i===O||i===-O){var o=i<0?-1:1;return o*J}return i===i?i:0}function it(i){var o=Zi(i),v=o%1;return o===o?v?o-v:o:0}function hy(i){return i?is(it(i),0,se):0}function Fn(i){if(typeof i=="number")return i;if(In(i))return oe;if(sr(i)){var o=typeof i.valueOf=="function"?i.valueOf():i;i=sr(o)?o+"":o}if(typeof i!="string")return i===0?i:+i;i=Ui(i);var v=ha.test(i);return v||fa.test(i)?ph(i.slice(2),v?2:8):Bs.test(i)?oe:+i}function fy(i){return vi(i,dn(i))}function sS(i){return i?is(it(i),-F,F):i===0?i:0}function Bt(i){return i==null?"":An(i)}var oS=Zs(function(i,o){if(nu(o)||fn(o)){vi(o,Rr(o),i);return}for(var v in o)_t.call(o,v)&&Zo(i,v,o[v])}),dy=Zs(function(i,o){vi(o,dn(o),i)}),Ll=Zs(function(i,o,v,U){vi(o,dn(o),i,U)}),uS=Zs(function(i,o,v,U){vi(o,Rr(o),i,U)}),lS=Gi(xh);function cS(i,o){var v=Tn(i);return o==null?v:Kp(v,o)}var hS=ut(function(i,o){i=yt(i);var v=-1,U=o.length,z=U>2?o[2]:t;for(z&&en(o[0],o[1],z)&&(U=1);++v<U;)for(var Z=o[v],re=dn(Z),ae=-1,he=re.length;++ae<he;){var be=re[ae],we=i[be];(we===t||Yn(we,Vi[be])&&!_t.call(i,be))&&(i[be]=Z[be])}return i}),fS=ut(function(i){return i.push(t,P0),Zr(py,t,i)});function dS(i,o){return Mo(i,Ge(o,3),mi)}function pS(i,o){return Mo(i,Ge(o,3),Uh)}function yS(i,o){return i==null?i:Lh(i,Ge(o,3),dn)}function gS(i,o){return i==null?i:Yp(i,Ge(o,3),dn)}function mS(i,o){return i&&mi(i,Ge(o,3))}function vS(i,o){return i&&Uh(i,Ge(o,3))}function bS(i){return i==null?[]:gl(i,Rr(i))}function _S(i){return i==null?[]:gl(i,dn(i))}function yf(i,o,v){var U=i==null?t:as(i,o);return U===t?v:U}function wS(i,o){return i!=null&&O0(i,o,$b)}function gf(i,o){return i!=null&&O0(i,o,Kb)}var SS=T0(function(i,o,v){o!=null&&typeof o.toString!="function"&&(o=Hs.call(o)),i[o]=v},vf(pn)),ES=T0(function(i,o,v){o!=null&&typeof o.toString!="function"&&(o=Hs.call(o)),_t.call(i,o)?i[o].push(v):i[o]=[v]},Ge),CS=ut(Jo);function Rr(i){return fn(i)?zp(i):qh(i)}function dn(i){return fn(i)?zp(i,!0):t_(i)}function TS(i,o){var v={};return o=Ge(o,3),mi(i,function(U,z,Z){Hi(v,o(U,z,Z),U)}),v}function AS(i,o){var v={};return o=Ge(o,3),mi(i,function(U,z,Z){Hi(v,z,o(U,z,Z))}),v}var IS=Zs(function(i,o,v){ml(i,o,v)}),py=Zs(function(i,o,v,U){ml(i,o,v,U)}),RS=Gi(function(i,o){var v={};if(i==null)return v;var U=!1;o=jt(o,function(Z){return Z=Aa(Z,i),U||(U=Z.length>1),Z}),vi(i,ef(i),v),U&&(v=jn(v,f|g|I,S_));for(var z=o.length;z--;)Hh(v,o[z]);return v});function kS(i,o){return yy(i,Nl(Ge(o)))}var PS=Gi(function(i,o){return i==null?{}:n_(i,o)});function yy(i,o){if(i==null)return{};var v=jt(ef(i),function(U){return[U]});return o=Ge(o),s0(i,v,function(U,z){return o(U,z[0])})}function BS(i,o,v){o=Aa(o,i);var U=-1,z=o.length;for(z||(z=1,i=t);++U<z;){var Z=i==null?t:i[bi(o[U])];Z===t&&(U=z,Z=v),i=Yi(Z)?Z.call(i):Z}return i}function NS(i,o,v){return i==null?i:tu(i,o,v)}function OS(i,o,v,U){return U=typeof U=="function"?U:t,i==null?i:tu(i,o,v,U)}var gy=R0(Rr),my=R0(dn);function xS(i,o,v){var U=tt(i),z=U||Ra(i)||eo(i);if(o=Ge(o,4),v==null){var Z=i&&i.constructor;z?v=U?new Z:[]:sr(i)?v=Yi(Z)?Tn(gi(i)):{}:v={}}return(z?Mr:mi)(i,function(re,ae,he){return o(v,re,ae,he)}),v}function LS(i,o){return i==null?!0:Hh(i,o)}function US(i,o,v){return i==null?i:h0(i,o,Qh(v))}function DS(i,o,v,U){return U=typeof U=="function"?U:t,i==null?i:h0(i,o,Qh(v),U)}function to(i){return i==null?[]:Di(i,Rr(i))}function jS(i){return i==null?[]:Di(i,dn(i))}function VS(i,o,v){return v===t&&(v=o,o=t),v!==t&&(v=Fn(v),v=v===v?v:0),o!==t&&(o=Fn(o),o=o===o?o:0),is(Fn(i),o,v)}function qS(i,o,v){return o=Zi(o),v===t?(v=o,o=0):v=Zi(v),i=Fn(i),Hb(i,o,v)}function FS(i,o,v){if(v&&typeof v!="boolean"&&en(i,o,v)&&(o=v=t),v===t&&(typeof o=="boolean"?(v=o,o=t):typeof i=="boolean"&&(v=i,i=t)),i===t&&o===t?(i=0,o=1):(i=Zi(i),o===t?(o=i,i=0):o=Zi(o)),i>o){var U=i;i=o,o=U}if(v||i%1||o%1){var z=qe();return fe(i+z*(o-i+Yu("1e-"+((z+"").length-1))),o)}return zh(i,o)}var MS=Xs(function(i,o,v){return o=o.toLowerCase(),i+(v?vy(o):o)});function vy(i){return mf(Bt(i).toLowerCase())}function by(i){return i=Bt(i),i&&i.replace(_n,di).replace(uh,"")}function zS(i,o,v){i=Bt(i),o=An(o);var U=i.length;v=v===t?U:is(it(v),0,U);var z=v;return v-=o.length,v>=0&&i.slice(v,z)==o}function $S(i){return i=Bt(i),i&&ui.test(i)?i.replace(Yr,Go):i}function KS(i){return i=Bt(i),i&&Xt.test(i)?i.replace(Ht,"\\$&"):i}var HS=Xs(function(i,o,v){return i+(v?"-":"")+o.toLowerCase()}),WS=Xs(function(i,o,v){return i+(v?" ":"")+o.toLowerCase()}),GS=S0("toLowerCase");function QS(i,o,v){i=Bt(i),o=it(o);var U=o?wa(i):0;if(!o||U>=o)return i;var z=(o-U)/2;return El(Ys(z),v)+i+El(Qs(z),v)}function YS(i,o,v){i=Bt(i),o=it(o);var U=o?wa(i):0;return o&&U<o?i+El(o-U,v):i}function ZS(i,o,v){i=Bt(i),o=it(o);var U=o?wa(i):0;return o&&U<o?El(o-U,v)+i:i}function XS(i,o,v){return v||o==null?o=0:o&&(o=+o),Re(Bt(i).replace(Wt,""),o||0)}function JS(i,o,v){return(v?en(i,o,v):o===t)?o=1:o=it(o),$h(Bt(i),o)}function eE(){var i=arguments,o=Bt(i[0]);return i.length<3?o:o.replace(i[1],i[2])}var tE=Xs(function(i,o,v){return i+(v?"_":"")+o.toLowerCase()});function rE(i,o,v){return v&&typeof v!="number"&&en(i,o,v)&&(o=v=t),v=v===t?se:v>>>0,v?(i=Bt(i),i&&(typeof o=="string"||o!=null&&!pf(o))&&(o=An(o),!o&&ji(i))?Ia(Sn(i),0,v):i.split(o,v)):[]}var nE=Xs(function(i,o,v){return i+(v?" ":"")+mf(o)});function iE(i,o,v){return i=Bt(i),v=v==null?0:is(it(v),0,i.length),o=An(o),i.slice(v,v+o.length)==o}function aE(i,o,v){var U=Q.templateSettings;v&&en(i,o,v)&&(o=t),i=Bt(i),o=Ll({},o,U,k0);var z=Ll({},o.imports,U.imports,k0),Z=Rr(z),re=Di(z,Z),ae,he,be=0,we=o.interpolate||Cr,Ae="__p += '",De=Ks((o.escape||Cr).source+"|"+we.source+"|"+(we===Lt?Mt:Cr).source+"|"+(o.evaluate||Cr).source+"|$","g"),Fe="//# sourceURL="+(_t.call(o,"sourceURL")?(o.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++fh+"]")+`
`;i.replace(De,function(Ze,ft,gt,Rn,tn,kn){return gt||(gt=Rn),Ae+=i.slice(be,kn).replace(za,bh),ft&&(ae=!0,Ae+=`' +
__e(`+ft+`) +
'`),tn&&(he=!0,Ae+=`';
`+tn+`;
__p += '`),gt&&(Ae+=`' +
((__t = (`+gt+`)) == null ? '' : __t) +
'`),be=kn+Ze.length,Ze}),Ae+=`';
`;var Ye=_t.call(o,"variable")&&o.variable;if(!Ye)Ae=`with (obj) {
`+Ae+`
}
`;else if(ir.test(Ye))throw new Ke(h);Ae=(he?Ae.replace(yr,""):Ae).replace(Vr,"$1").replace(un,"$1;"),Ae="function("+(Ye||"obj")+`) {
`+(Ye?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ae?", __e = _.escape":"")+(he?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ae+`return __p
}`;var at=wy(function(){return ht(Z,Fe+"return "+Ae).apply(t,re)});if(at.source=Ae,df(at))throw at;return at}function sE(i){return Bt(i).toLowerCase()}function oE(i){return Bt(i).toUpperCase()}function uE(i,o,v){if(i=Bt(i),i&&(v||o===t))return Ui(i);if(!i||!(o=An(o)))return i;var U=Sn(i),z=Sn(o),Z=Qa(U,z),re=ba(U,z)+1;return Ia(U,Z,re).join("")}function lE(i,o,v){if(i=Bt(i),i&&(v||o===t))return i.slice(0,ol(i)+1);if(!i||!(o=An(o)))return i;var U=Sn(i),z=ba(U,Sn(o))+1;return Ia(U,0,z).join("")}function cE(i,o,v){if(i=Bt(i),i&&(v||o===t))return i.replace(Wt,"");if(!i||!(o=An(o)))return i;var U=Sn(i),z=Qa(U,Sn(o));return Ia(U,z).join("")}function hE(i,o){var v=y,U=q;if(sr(o)){var z="separator"in o?o.separator:z;v="length"in o?it(o.length):v,U="omission"in o?An(o.omission):U}i=Bt(i);var Z=i.length;if(ji(i)){var re=Sn(i);Z=re.length}if(v>=Z)return i;var ae=v-wa(U);if(ae<1)return U;var he=re?Ia(re,0,ae).join(""):i.slice(0,ae);if(z===t)return he+U;if(re&&(ae+=he.length-ae),pf(z)){if(i.slice(ae).search(z)){var be,we=he;for(z.global||(z=Ks(z.source,Bt(er.exec(z))+"g")),z.lastIndex=0;be=z.exec(we);)var Ae=be.index;he=he.slice(0,Ae===t?ae:Ae)}}else if(i.indexOf(An(z),ae)!=ae){var De=he.lastIndexOf(z);De>-1&&(he=he.slice(0,De))}return he+U}function fE(i){return i=Bt(i),i&&bn.test(i)?i.replace(Qr,Ch):i}var dE=Xs(function(i,o,v){return i+(v?" ":"")+o.toUpperCase()}),mf=S0("toUpperCase");function _y(i,o,v){return i=Bt(i),o=v?t:o,o===t?_h(i)?Ah(i):mh(i):i.match(o)||[]}var wy=ut(function(i,o){try{return Zr(i,t,o)}catch(v){return df(v)?v:new Ke(v)}}),pE=Gi(function(i,o){return Mr(o,function(v){v=bi(v),Hi(i,v,hf(i[v],i))}),i});function yE(i){var o=i==null?0:i.length,v=Ge();return i=o?jt(i,function(U){if(typeof U[1]!="function")throw new Br(c);return[v(U[0]),U[1]]}):[],ut(function(U){for(var z=-1;++z<o;){var Z=i[z];if(Zr(Z[0],this,U))return Zr(Z[1],this,U)}})}function gE(i){return Fb(jn(i,f))}function vf(i){return function(){return i}}function mE(i,o){return i==null||i!==i?o:i}var vE=C0(),bE=C0(!0);function pn(i){return i}function bf(i){return e0(typeof i=="function"?i:jn(i,f))}function _E(i){return r0(jn(i,f))}function wE(i,o){return n0(i,jn(o,f))}var SE=ut(function(i,o){return function(v){return Jo(v,i,o)}}),EE=ut(function(i,o){return function(v){return Jo(i,v,o)}});function _f(i,o,v){var U=Rr(o),z=gl(o,U);v==null&&!(sr(o)&&(z.length||!U.length))&&(v=o,o=i,i=this,z=gl(o,Rr(o)));var Z=!(sr(v)&&"chain"in v)||!!v.chain,re=Yi(i);return Mr(z,function(ae){var he=o[ae];i[ae]=he,re&&(i.prototype[ae]=function(){var be=this.__chain__;if(Z||be){var we=i(this.__wrapped__),Ae=we.__actions__=hn(this.__actions__);return Ae.push({func:he,args:arguments,thisArg:i}),we.__chain__=be,we}return he.apply(i,zr([this.value()],arguments))})}),i}function CE(){return mr._===this&&(mr._=Ws),this}function wf(){}function TE(i){return i=it(i),ut(function(o){return i0(o,i)})}var AE=Zh(jt),IE=Zh(rl),RE=Zh(Fs);function Sy(i){return af(i)?$o(bi(i)):i_(i)}function kE(i){return function(o){return i==null?t:as(i,o)}}var PE=A0(),BE=A0(!0);function Sf(){return[]}function Ef(){return!1}function NE(){return{}}function OE(){return""}function xE(){return!0}function LE(i,o){if(i=it(i),i<1||i>F)return[];var v=se,U=fe(i,se);o=Ge(o),i-=se;for(var z=Wo(U,o);++v<i;)o(v);return z}function UE(i){return tt(i)?jt(i,bi):In(i)?[i]:hn(M0(Bt(i)))}function DE(i){var o=++Ih;return Bt(i)+o}var jE=Sl(function(i,o){return i+o},0),VE=Xh("ceil"),qE=Sl(function(i,o){return i/o},1),FE=Xh("floor");function ME(i){return i&&i.length?yl(i,pn,Dh):t}function zE(i,o){return i&&i.length?yl(i,Ge(o,2),Dh):t}function $E(i){return il(i,pn)}function KE(i,o){return il(i,Ge(o,2))}function HE(i){return i&&i.length?yl(i,pn,Fh):t}function WE(i,o){return i&&i.length?yl(i,Ge(o,2),Fh):t}var GE=Sl(function(i,o){return i*o},1),QE=Xh("round"),YE=Sl(function(i,o){return i-o},0);function ZE(i){return i&&i.length?Ho(i,pn):0}function XE(i,o){return i&&i.length?Ho(i,Ge(o,2)):0}return Q.after=_w,Q.ary=J0,Q.assign=oS,Q.assignIn=dy,Q.assignInWith=Ll,Q.assignWith=uS,Q.at=lS,Q.before=ey,Q.bind=hf,Q.bindAll=pE,Q.bindKey=ty,Q.castArray=Nw,Q.chain=Y0,Q.chunk=F_,Q.compact=M_,Q.concat=z_,Q.cond=yE,Q.conforms=gE,Q.constant=vf,Q.countBy=Z2,Q.create=cS,Q.curry=ry,Q.curryRight=ny,Q.debounce=iy,Q.defaults=hS,Q.defaultsDeep=fS,Q.defer=ww,Q.delay=Sw,Q.difference=$_,Q.differenceBy=K_,Q.differenceWith=H_,Q.drop=W_,Q.dropRight=G_,Q.dropRightWhile=Q_,Q.dropWhile=Y_,Q.fill=Z_,Q.filter=J2,Q.flatMap=rw,Q.flatMapDeep=nw,Q.flatMapDepth=iw,Q.flatten=H0,Q.flattenDeep=X_,Q.flattenDepth=J_,Q.flip=Ew,Q.flow=vE,Q.flowRight=bE,Q.fromPairs=e2,Q.functions=bS,Q.functionsIn=_S,Q.groupBy=aw,Q.initial=r2,Q.intersection=n2,Q.intersectionBy=i2,Q.intersectionWith=a2,Q.invert=SS,Q.invertBy=ES,Q.invokeMap=ow,Q.iteratee=bf,Q.keyBy=uw,Q.keys=Rr,Q.keysIn=dn,Q.map=kl,Q.mapKeys=TS,Q.mapValues=AS,Q.matches=_E,Q.matchesProperty=wE,Q.memoize=Bl,Q.merge=IS,Q.mergeWith=py,Q.method=SE,Q.methodOf=EE,Q.mixin=_f,Q.negate=Nl,Q.nthArg=TE,Q.omit=RS,Q.omitBy=kS,Q.once=Cw,Q.orderBy=lw,Q.over=AE,Q.overArgs=Tw,Q.overEvery=IE,Q.overSome=RE,Q.partial=ff,Q.partialRight=ay,Q.partition=cw,Q.pick=PS,Q.pickBy=yy,Q.property=Sy,Q.propertyOf=kE,Q.pull=l2,Q.pullAll=G0,Q.pullAllBy=c2,Q.pullAllWith=h2,Q.pullAt=f2,Q.range=PE,Q.rangeRight=BE,Q.rearg=Aw,Q.reject=dw,Q.remove=d2,Q.rest=Iw,Q.reverse=lf,Q.sampleSize=yw,Q.set=NS,Q.setWith=OS,Q.shuffle=gw,Q.slice=p2,Q.sortBy=bw,Q.sortedUniq=w2,Q.sortedUniqBy=S2,Q.split=rE,Q.spread=Rw,Q.tail=E2,Q.take=C2,Q.takeRight=T2,Q.takeRightWhile=A2,Q.takeWhile=I2,Q.tap=M2,Q.throttle=kw,Q.thru=Rl,Q.toArray=cy,Q.toPairs=gy,Q.toPairsIn=my,Q.toPath=UE,Q.toPlainObject=fy,Q.transform=xS,Q.unary=Pw,Q.union=R2,Q.unionBy=k2,Q.unionWith=P2,Q.uniq=B2,Q.uniqBy=N2,Q.uniqWith=O2,Q.unset=LS,Q.unzip=cf,Q.unzipWith=Q0,Q.update=US,Q.updateWith=DS,Q.values=to,Q.valuesIn=jS,Q.without=x2,Q.words=_y,Q.wrap=Bw,Q.xor=L2,Q.xorBy=U2,Q.xorWith=D2,Q.zip=j2,Q.zipObject=V2,Q.zipObjectDeep=q2,Q.zipWith=F2,Q.entries=gy,Q.entriesIn=my,Q.extend=dy,Q.extendWith=Ll,_f(Q,Q),Q.add=jE,Q.attempt=wy,Q.camelCase=MS,Q.capitalize=vy,Q.ceil=VE,Q.clamp=VS,Q.clone=Ow,Q.cloneDeep=Lw,Q.cloneDeepWith=Uw,Q.cloneWith=xw,Q.conformsTo=Dw,Q.deburr=by,Q.defaultTo=mE,Q.divide=qE,Q.endsWith=zS,Q.eq=Yn,Q.escape=$S,Q.escapeRegExp=KS,Q.every=X2,Q.find=ew,Q.findIndex=$0,Q.findKey=dS,Q.findLast=tw,Q.findLastIndex=K0,Q.findLastKey=pS,Q.floor=FE,Q.forEach=Z0,Q.forEachRight=X0,Q.forIn=yS,Q.forInRight=gS,Q.forOwn=mS,Q.forOwnRight=vS,Q.get=yf,Q.gt=jw,Q.gte=Vw,Q.has=wS,Q.hasIn=gf,Q.head=W0,Q.identity=pn,Q.includes=sw,Q.indexOf=t2,Q.inRange=qS,Q.invoke=CS,Q.isArguments=us,Q.isArray=tt,Q.isArrayBuffer=qw,Q.isArrayLike=fn,Q.isArrayLikeObject=dr,Q.isBoolean=Fw,Q.isBuffer=Ra,Q.isDate=Mw,Q.isElement=zw,Q.isEmpty=$w,Q.isEqual=Kw,Q.isEqualWith=Hw,Q.isError=df,Q.isFinite=Ww,Q.isFunction=Yi,Q.isInteger=sy,Q.isLength=Ol,Q.isMap=oy,Q.isMatch=Gw,Q.isMatchWith=Qw,Q.isNaN=Yw,Q.isNative=Zw,Q.isNil=Jw,Q.isNull=Xw,Q.isNumber=uy,Q.isObject=sr,Q.isObjectLike=hr,Q.isPlainObject=au,Q.isRegExp=pf,Q.isSafeInteger=eS,Q.isSet=ly,Q.isString=xl,Q.isSymbol=In,Q.isTypedArray=eo,Q.isUndefined=tS,Q.isWeakMap=rS,Q.isWeakSet=nS,Q.join=s2,Q.kebabCase=HS,Q.last=qn,Q.lastIndexOf=o2,Q.lowerCase=WS,Q.lowerFirst=GS,Q.lt=iS,Q.lte=aS,Q.max=ME,Q.maxBy=zE,Q.mean=$E,Q.meanBy=KE,Q.min=HE,Q.minBy=WE,Q.stubArray=Sf,Q.stubFalse=Ef,Q.stubObject=NE,Q.stubString=OE,Q.stubTrue=xE,Q.multiply=GE,Q.nth=u2,Q.noConflict=CE,Q.noop=wf,Q.now=Pl,Q.pad=QS,Q.padEnd=YS,Q.padStart=ZS,Q.parseInt=XS,Q.random=FS,Q.reduce=hw,Q.reduceRight=fw,Q.repeat=JS,Q.replace=eE,Q.result=BS,Q.round=QE,Q.runInContext=ce,Q.sample=pw,Q.size=mw,Q.snakeCase=tE,Q.some=vw,Q.sortedIndex=y2,Q.sortedIndexBy=g2,Q.sortedIndexOf=m2,Q.sortedLastIndex=v2,Q.sortedLastIndexBy=b2,Q.sortedLastIndexOf=_2,Q.startCase=nE,Q.startsWith=iE,Q.subtract=YE,Q.sum=ZE,Q.sumBy=XE,Q.template=aE,Q.times=LE,Q.toFinite=Zi,Q.toInteger=it,Q.toLength=hy,Q.toLower=sE,Q.toNumber=Fn,Q.toSafeInteger=sS,Q.toString=Bt,Q.toUpper=oE,Q.trim=uE,Q.trimEnd=lE,Q.trimStart=cE,Q.truncate=hE,Q.unescape=fE,Q.uniqueId=DE,Q.upperCase=dE,Q.upperFirst=mf,Q.each=Z0,Q.eachRight=X0,Q.first=W0,_f(Q,function(){var i={};return mi(Q,function(o,v){_t.call(Q.prototype,v)||(i[v]=o)}),i}(),{chain:!1}),Q.VERSION=r,Mr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(i){Q[i].placeholder=Q}),Mr(["drop","take"],function(i,o){pt.prototype[i]=function(v){v=v===t?1:te(it(v),0);var U=this.__filtered__&&!o?new pt(this):this.clone();return U.__filtered__?U.__takeCount__=fe(v,U.__takeCount__):U.__views__.push({size:fe(v,se),type:i+(U.__dir__<0?"Right":"")}),U},pt.prototype[i+"Right"]=function(v){return this.reverse()[i](v).reverse()}}),Mr(["filter","map","takeWhile"],function(i,o){var v=o+1,U=v==w||v==j;pt.prototype[i]=function(z){var Z=this.clone();return Z.__iteratees__.push({iteratee:Ge(z,3),type:v}),Z.__filtered__=Z.__filtered__||U,Z}}),Mr(["head","last"],function(i,o){var v="take"+(o?"Right":"");pt.prototype[i]=function(){return this[v](1).value()[0]}}),Mr(["initial","tail"],function(i,o){var v="drop"+(o?"":"Right");pt.prototype[i]=function(){return this.__filtered__?new pt(this):this[v](1)}}),pt.prototype.compact=function(){return this.filter(pn)},pt.prototype.find=function(i){return this.filter(i).head()},pt.prototype.findLast=function(i){return this.reverse().find(i)},pt.prototype.invokeMap=ut(function(i,o){return typeof i=="function"?new pt(this):this.map(function(v){return Jo(v,i,o)})}),pt.prototype.reject=function(i){return this.filter(Nl(Ge(i)))},pt.prototype.slice=function(i,o){i=it(i);var v=this;return v.__filtered__&&(i>0||o<0)?new pt(v):(i<0?v=v.takeRight(-i):i&&(v=v.drop(i)),o!==t&&(o=it(o),v=o<0?v.dropRight(-o):v.take(o-i)),v)},pt.prototype.takeRightWhile=function(i){return this.reverse().takeWhile(i).reverse()},pt.prototype.toArray=function(){return this.take(se)},mi(pt.prototype,function(i,o){var v=/^(?:filter|find|map|reject)|While$/.test(o),U=/^(?:head|last)$/.test(o),z=Q[U?"take"+(o=="last"?"Right":""):o],Z=U||/^find/.test(o);z&&(Q.prototype[o]=function(){var re=this.__wrapped__,ae=U?[1]:arguments,he=re instanceof pt,be=ae[0],we=he||tt(re),Ae=function(ft){var gt=z.apply(Q,zr([ft],ae));return U&&De?gt[0]:gt};we&&v&&typeof be=="function"&&be.length!=1&&(he=we=!1);var De=this.__chain__,Fe=!!this.__actions__.length,Ye=Z&&!De,at=he&&!Fe;if(!Z&&we){re=at?re:new pt(this);var Ze=i.apply(re,ae);return Ze.__actions__.push({func:Rl,args:[Ae],thisArg:t}),new Kr(Ze,De)}return Ye&&at?i.apply(this,ae):(Ze=this.thru(Ae),Ye?U?Ze.value()[0]:Ze.value():Ze)})}),Mr(["pop","push","shift","sort","splice","unshift"],function(i){var o=Ya[i],v=/^(?:push|sort|unshift)$/.test(i)?"tap":"thru",U=/^(?:pop|shift)$/.test(i);Q.prototype[i]=function(){var z=arguments;if(U&&!this.__chain__){var Z=this.value();return o.apply(tt(Z)?Z:[],z)}return this[v](function(re){return o.apply(tt(re)?re:[],z)})}}),mi(pt.prototype,function(i,o){var v=Q[o];if(v){var U=v.name+"";_t.call($r,U)||($r[U]=[]),$r[U].push({name:o,func:v})}}),$r[wl(t,B).name]=[{name:"wrapper",func:t}],pt.prototype.clone=fb,pt.prototype.reverse=db,pt.prototype.value=pb,Q.prototype.at=z2,Q.prototype.chain=$2,Q.prototype.commit=K2,Q.prototype.next=H2,Q.prototype.plant=G2,Q.prototype.reverse=Q2,Q.prototype.toJSON=Q.prototype.valueOf=Q.prototype.value=Y2,Q.prototype.first=Q.prototype.head,Sa&&(Q.prototype[Sa]=W2),Q},Un=yi();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(mr._=Un,define(function(){return Un})):ci?((ci.exports=Un)._=Un,js._=Un):mr._=Un}).call(e)}),V3=Te((e,n)=>{var t=rv(),r=ov(),a=sv(),u=Jd(),{includes:c,isBoolean:h,isInteger:l,isNumber:s,isPlainObject:d,isString:f,once:g}=j3(),{KeyObject:I,createSecretKey:C,createPrivateKey:_}=require("crypto"),T=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];r&&T.splice(3,0,"PS256","PS384","PS512");var B={expiresIn:{isValid:function(E){return l(E)||f(E)&&E},message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:function(E){return l(E)||f(E)&&E},message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:function(E){return f(E)||Array.isArray(E)},message:'"audience" must be a string or array'},algorithm:{isValid:c.bind(null,T),message:'"algorithm" must be a valid string enum value'},header:{isValid:d,message:'"header" must be an object'},encoding:{isValid:f,message:'"encoding" must be a string'},issuer:{isValid:f,message:'"issuer" must be a string'},subject:{isValid:f,message:'"subject" must be a string'},jwtid:{isValid:f,message:'"jwtid" must be a string'},noTimestamp:{isValid:h,message:'"noTimestamp" must be a boolean'},keyid:{isValid:f,message:'"keyid" must be a string'},mutatePayload:{isValid:h,message:'"mutatePayload" must be a boolean'},allowInsecureKeySizes:{isValid:h,message:'"allowInsecureKeySizes" must be a boolean'},allowInvalidAsymmetricKeyTypes:{isValid:h,message:'"allowInvalidAsymmetricKeyTypes" must be a boolean'}},P={iat:{isValid:s,message:'"iat" should be a number of seconds'},exp:{isValid:s,message:'"exp" should be a number of seconds'},nbf:{isValid:s,message:'"nbf" should be a number of seconds'}};function p(E,m,y,q){if(!d(y))throw new Error('Expected "'+q+'" to be a plain object.');Object.keys(y).forEach(function(M){let V=E[M];if(!V){if(!m)throw new Error('"'+M+'" is not allowed in "'+q+'"');return}if(!V.isValid(y[M]))throw new Error(V.message)})}function A(E){return p(B,!1,E,"options")}function S(E){return p(P,!0,E,"payload")}var N={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"},D=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"];n.exports=function(E,m,y,q){typeof y=="function"?(q=y,y={}):y=y||{};let M=typeof E=="object"&&!Buffer.isBuffer(E),V=Object.assign({alg:y.algorithm||"HS256",typ:M?"JWT":void 0,kid:y.keyid},y.header);function w(O){if(q)return q(O);throw O}if(!m&&y.algorithm!=="none")return w(new Error("secretOrPrivateKey must have a value"));if(m!=null&&!(m instanceof I))try{m=_(m)}catch{try{m=C(typeof m=="string"?Buffer.from(m):m)}catch{return w(new Error("secretOrPrivateKey is not valid key material"))}}if(V.alg.startsWith("HS")&&m.type!=="secret")return w(new Error(`secretOrPrivateKey must be a symmetric key when using ${V.alg}`));if(/^(?:RS|PS|ES)/.test(V.alg)){if(m.type!=="private")return w(new Error(`secretOrPrivateKey must be an asymmetric key when using ${V.alg}`));if(!y.allowInsecureKeySizes&&!V.alg.startsWith("ES")&&m.asymmetricKeyDetails!==void 0&&m.asymmetricKeyDetails.modulusLength<2048)return w(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${V.alg}`))}if(typeof E>"u")return w(new Error("payload is required"));if(M){try{S(E)}catch(O){return w(O)}y.mutatePayload||(E=Object.assign({},E))}else{let O=D.filter(function(F){return typeof y[F]<"u"});if(O.length>0)return w(new Error("invalid "+O.join(",")+" option for "+typeof E+" payload"))}if(typeof E.exp<"u"&&typeof y.expiresIn<"u")return w(new Error('Bad "options.expiresIn" option the payload already has an "exp" property.'));if(typeof E.nbf<"u"&&typeof y.notBefore<"u")return w(new Error('Bad "options.notBefore" option the payload already has an "nbf" property.'));try{A(y)}catch(O){return w(O)}if(!y.allowInvalidAsymmetricKeyTypes)try{a(V.alg,m)}catch(O){return w(O)}let L=E.iat||Math.floor(Date.now()/1e3);if(y.noTimestamp?delete E.iat:M&&(E.iat=L),typeof y.notBefore<"u"){try{E.nbf=t(y.notBefore,L)}catch(O){return w(O)}if(typeof E.nbf>"u")return w(new Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}if(typeof y.expiresIn<"u"&&typeof E=="object"){try{E.exp=t(y.expiresIn,L)}catch(O){return w(O)}if(typeof E.exp>"u")return w(new Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}Object.keys(N).forEach(function(O){let F=N[O];if(typeof y[O]<"u"){if(typeof E[F]<"u")return w(new Error('Bad "options.'+O+'" option. The payload already has an "'+F+'" property.'));E[F]=y[O]}});let j=y.encoding||"utf8";if(typeof q=="function")q=q&&g(q),u.createSign({header:V,privateKey:m,payload:E,encoding:j}).once("error",q).once("done",function(O){if(!y.allowInsecureKeySizes&&/^(?:RS|PS)/.test(V.alg)&&O.length<256)return q(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${V.alg}`));q(null,O)});else{let O=u.sign({header:V,payload:E,secret:m,encoding:j});if(!y.allowInsecureKeySizes&&/^(?:RS|PS)/.test(V.alg)&&O.length<256)throw new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${V.alg}`);return O}}}),q3=Te((e,n)=>{n.exports={verify:D3(),sign:V3(),JsonWebTokenError:qc(),NotBeforeError:Ym(),TokenExpiredError:Zm()},Object.defineProperty(n.exports,"decode",{enumerable:!1,value:tv()})}),uv={};UT(uv,{BrowserName:()=>lv,marketNameMap:()=>cv,submitChrome:()=>l5,submitEdge:()=>g5,submitFirefox:()=>sA,submitItero:()=>eR,submitOpera:()=>uA,supportedBrowserSet:()=>F3});ub.exports=DT(uv);var lv=(e=>(e.Chrome="chrome",e.Firefox="firefox",e.Opera="opera",e.Edge="edge",e.Itero="itero",e))(lv||{}),F3=new Set(["chrome","edge","firefox","itero"]),cv={chrome:"Chrome Web Store",edge:"Edge Add-ons",firefox:"Firefox Add-ons",itero:"Itero TestBed"},M3=require("fs"),hv=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function z3(e){return hv.includes(e)}var $3=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Blob","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","WeakRef","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","FormData","URLSearchParams","HTMLElement","NaN",...hv];function K3(e){return $3.includes(e)}var H3=["null","undefined","string","number","bigint","boolean","symbol"];function W3(e){return H3.includes(e)}function Ao(e){return n=>typeof n===e}var{toString:G3}=Object.prototype,ju=e=>{let n=G3.call(e).slice(8,-1);if(/HTML\w+Element/.test(n)&&ne.domElement(e))return"HTMLElement";if(K3(n))return n},Vt=e=>n=>ju(n)===e;function ne(e){if(e===null)return"null";switch(typeof e){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(e)?"NaN":"number";case"boolean":return"boolean";case"function":return"Function";case"bigint":return"bigint";case"symbol":return"symbol";default:}if(ne.observable(e))return"Observable";if(ne.array(e))return"Array";if(ne.buffer(e))return"Buffer";let n=ju(e);if(n)return n;if(e instanceof String||e instanceof Boolean||e instanceof Number)throw new TypeError("Please don't use object wrappers for primitive types");return"Object"}ne.undefined=Ao("undefined");ne.string=Ao("string");var Q3=Ao("number");ne.number=e=>Q3(e)&&!ne.nan(e);ne.bigint=Ao("bigint");ne.function_=Ao("function");ne.null_=e=>e===null;ne.class_=e=>ne.function_(e)&&e.toString().startsWith("class ");ne.boolean=e=>e===!0||e===!1;ne.symbol=Ao("symbol");ne.numericString=e=>ne.string(e)&&!ne.emptyStringOrWhitespace(e)&&!Number.isNaN(Number(e));ne.array=(e,n)=>Array.isArray(e)?ne.function_(n)?e.every(t=>n(t)):!0:!1;ne.buffer=e=>e?.constructor?.isBuffer?.(e)??!1;ne.blob=e=>Vt("Blob")(e);ne.nullOrUndefined=e=>ne.null_(e)||ne.undefined(e);ne.object=e=>!ne.null_(e)&&(typeof e=="object"||ne.function_(e));ne.iterable=e=>ne.function_(e?.[Symbol.iterator]);ne.asyncIterable=e=>ne.function_(e?.[Symbol.asyncIterator]);ne.generator=e=>ne.iterable(e)&&ne.function_(e?.next)&&ne.function_(e?.throw);ne.asyncGenerator=e=>ne.asyncIterable(e)&&ne.function_(e.next)&&ne.function_(e.throw);ne.nativePromise=e=>Vt("Promise")(e);var Y3=e=>ne.function_(e?.then)&&ne.function_(e?.catch);ne.promise=e=>ne.nativePromise(e)||Y3(e);ne.generatorFunction=Vt("GeneratorFunction");ne.asyncGeneratorFunction=e=>ju(e)==="AsyncGeneratorFunction";ne.asyncFunction=e=>ju(e)==="AsyncFunction";ne.boundFunction=e=>ne.function_(e)&&!e.hasOwnProperty("prototype");ne.regExp=Vt("RegExp");ne.date=Vt("Date");ne.error=Vt("Error");ne.map=e=>Vt("Map")(e);ne.set=e=>Vt("Set")(e);ne.weakMap=e=>Vt("WeakMap")(e);ne.weakSet=e=>Vt("WeakSet")(e);ne.weakRef=e=>Vt("WeakRef")(e);ne.int8Array=Vt("Int8Array");ne.uint8Array=Vt("Uint8Array");ne.uint8ClampedArray=Vt("Uint8ClampedArray");ne.int16Array=Vt("Int16Array");ne.uint16Array=Vt("Uint16Array");ne.int32Array=Vt("Int32Array");ne.uint32Array=Vt("Uint32Array");ne.float32Array=Vt("Float32Array");ne.float64Array=Vt("Float64Array");ne.bigInt64Array=Vt("BigInt64Array");ne.bigUint64Array=Vt("BigUint64Array");ne.arrayBuffer=Vt("ArrayBuffer");ne.sharedArrayBuffer=Vt("SharedArrayBuffer");ne.dataView=Vt("DataView");ne.enumCase=(e,n)=>Object.values(n).includes(e);ne.directInstanceOf=(e,n)=>Object.getPrototypeOf(e)===n.prototype;ne.urlInstance=e=>Vt("URL")(e);ne.urlString=e=>{if(!ne.string(e))return!1;try{return new URL(e),!0}catch{return!1}};ne.truthy=e=>!!e;ne.falsy=e=>!e;ne.nan=e=>Number.isNaN(e);ne.primitive=e=>ne.null_(e)||W3(typeof e);ne.integer=e=>Number.isInteger(e);ne.safeInteger=e=>Number.isSafeInteger(e);ne.plainObject=e=>{if(typeof e!="object"||e===null)return!1;let n=Object.getPrototypeOf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};ne.typedArray=e=>z3(ju(e));var Z3=e=>ne.safeInteger(e)&&e>=0;ne.arrayLike=e=>!ne.nullOrUndefined(e)&&!ne.function_(e)&&Z3(e.length);ne.inRange=(e,n)=>{if(ne.number(n))return e>=Math.min(0,n)&&e<=Math.max(n,0);if(ne.array(n)&&n.length===2)return e>=Math.min(...n)&&e<=Math.max(...n);throw new TypeError(`Invalid range: ${JSON.stringify(n)}`)};var X3=1,J3=["innerHTML","ownerDocument","style","attributes","nodeValue"];ne.domElement=e=>ne.object(e)&&e.nodeType===X3&&ne.string(e.nodeName)&&!ne.plainObject(e)&&J3.every(n=>n in e);ne.observable=e=>e?e===e[Symbol.observable]?.()||e===e["@@observable"]?.():!1;ne.nodeStream=e=>ne.object(e)&&ne.function_(e.pipe)&&!ne.observable(e);ne.infinite=e=>e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY;var fv=e=>n=>ne.integer(n)&&Math.abs(n%2)===e;ne.evenInteger=fv(0);ne.oddInteger=fv(1);ne.emptyArray=e=>ne.array(e)&&e.length===0;ne.nonEmptyArray=e=>ne.array(e)&&e.length>0;ne.emptyString=e=>ne.string(e)&&e.length===0;var e6=e=>ne.string(e)&&!/\S/.test(e);ne.emptyStringOrWhitespace=e=>ne.emptyString(e)||e6(e);ne.nonEmptyString=e=>ne.string(e)&&e.length>0;ne.nonEmptyStringAndNotWhitespace=e=>ne.string(e)&&!ne.emptyStringOrWhitespace(e);ne.emptyObject=e=>ne.object(e)&&!ne.map(e)&&!ne.set(e)&&Object.keys(e).length===0;ne.nonEmptyObject=e=>ne.object(e)&&!ne.map(e)&&!ne.set(e)&&Object.keys(e).length>0;ne.emptySet=e=>ne.set(e)&&e.size===0;ne.nonEmptySet=e=>ne.set(e)&&e.size>0;ne.emptyMap=e=>ne.map(e)&&e.size===0;ne.nonEmptyMap=e=>ne.map(e)&&e.size>0;ne.propertyKey=e=>ne.any([ne.string,ne.number,ne.symbol],e);ne.formData=e=>Vt("FormData")(e);ne.urlSearchParams=e=>Vt("URLSearchParams")(e);var dv=(e,n,t)=>{if(!ne.function_(n))throw new TypeError(`Invalid predicate: ${JSON.stringify(n)}`);if(t.length===0)throw new TypeError("Invalid number of values");return e.call(t,n)};ne.any=(e,...n)=>(ne.array(e)?e:[e]).some(t=>dv(Array.prototype.some,t,n));ne.all=(e,...n)=>dv(Array.prototype.every,e,n);var Pe=(e,n,t,r={})=>{if(!e){let{multipleValues:a}=r,u=a?`received values of types ${[...new Set(t.map(c=>`\`${ne(c)}\``))].join(", ")}`:`received value of type \`${ne(t)}\``;throw new TypeError(`Expected value which is \`${n}\`, ${u}.`)}},Ie={undefined:e=>Pe(ne.undefined(e),"undefined",e),string:e=>Pe(ne.string(e),"string",e),number:e=>Pe(ne.number(e),"number",e),bigint:e=>Pe(ne.bigint(e),"bigint",e),function_:e=>Pe(ne.function_(e),"Function",e),null_:e=>Pe(ne.null_(e),"null",e),class_:e=>Pe(ne.class_(e),"Class",e),boolean:e=>Pe(ne.boolean(e),"boolean",e),symbol:e=>Pe(ne.symbol(e),"symbol",e),numericString:e=>Pe(ne.numericString(e),"string with a number",e),array:(e,n)=>{Pe(ne.array(e),"Array",e),n&&e.forEach(n)},buffer:e=>Pe(ne.buffer(e),"Buffer",e),blob:e=>Pe(ne.blob(e),"Blob",e),nullOrUndefined:e=>Pe(ne.nullOrUndefined(e),"null or undefined",e),object:e=>Pe(ne.object(e),"Object",e),iterable:e=>Pe(ne.iterable(e),"Iterable",e),asyncIterable:e=>Pe(ne.asyncIterable(e),"AsyncIterable",e),generator:e=>Pe(ne.generator(e),"Generator",e),asyncGenerator:e=>Pe(ne.asyncGenerator(e),"AsyncGenerator",e),nativePromise:e=>Pe(ne.nativePromise(e),"native Promise",e),promise:e=>Pe(ne.promise(e),"Promise",e),generatorFunction:e=>Pe(ne.generatorFunction(e),"GeneratorFunction",e),asyncGeneratorFunction:e=>Pe(ne.asyncGeneratorFunction(e),"AsyncGeneratorFunction",e),asyncFunction:e=>Pe(ne.asyncFunction(e),"AsyncFunction",e),boundFunction:e=>Pe(ne.boundFunction(e),"Function",e),regExp:e=>Pe(ne.regExp(e),"RegExp",e),date:e=>Pe(ne.date(e),"Date",e),error:e=>Pe(ne.error(e),"Error",e),map:e=>Pe(ne.map(e),"Map",e),set:e=>Pe(ne.set(e),"Set",e),weakMap:e=>Pe(ne.weakMap(e),"WeakMap",e),weakSet:e=>Pe(ne.weakSet(e),"WeakSet",e),weakRef:e=>Pe(ne.weakRef(e),"WeakRef",e),int8Array:e=>Pe(ne.int8Array(e),"Int8Array",e),uint8Array:e=>Pe(ne.uint8Array(e),"Uint8Array",e),uint8ClampedArray:e=>Pe(ne.uint8ClampedArray(e),"Uint8ClampedArray",e),int16Array:e=>Pe(ne.int16Array(e),"Int16Array",e),uint16Array:e=>Pe(ne.uint16Array(e),"Uint16Array",e),int32Array:e=>Pe(ne.int32Array(e),"Int32Array",e),uint32Array:e=>Pe(ne.uint32Array(e),"Uint32Array",e),float32Array:e=>Pe(ne.float32Array(e),"Float32Array",e),float64Array:e=>Pe(ne.float64Array(e),"Float64Array",e),bigInt64Array:e=>Pe(ne.bigInt64Array(e),"BigInt64Array",e),bigUint64Array:e=>Pe(ne.bigUint64Array(e),"BigUint64Array",e),arrayBuffer:e=>Pe(ne.arrayBuffer(e),"ArrayBuffer",e),sharedArrayBuffer:e=>Pe(ne.sharedArrayBuffer(e),"SharedArrayBuffer",e),dataView:e=>Pe(ne.dataView(e),"DataView",e),enumCase:(e,n)=>Pe(ne.enumCase(e,n),"EnumCase",e),urlInstance:e=>Pe(ne.urlInstance(e),"URL",e),urlString:e=>Pe(ne.urlString(e),"string with a URL",e),truthy:e=>Pe(ne.truthy(e),"truthy",e),falsy:e=>Pe(ne.falsy(e),"falsy",e),nan:e=>Pe(ne.nan(e),"NaN",e),primitive:e=>Pe(ne.primitive(e),"primitive",e),integer:e=>Pe(ne.integer(e),"integer",e),safeInteger:e=>Pe(ne.safeInteger(e),"integer",e),plainObject:e=>Pe(ne.plainObject(e),"plain object",e),typedArray:e=>Pe(ne.typedArray(e),"TypedArray",e),arrayLike:e=>Pe(ne.arrayLike(e),"array-like",e),domElement:e=>Pe(ne.domElement(e),"HTMLElement",e),observable:e=>Pe(ne.observable(e),"Observable",e),nodeStream:e=>Pe(ne.nodeStream(e),"Node.js Stream",e),infinite:e=>Pe(ne.infinite(e),"infinite number",e),emptyArray:e=>Pe(ne.emptyArray(e),"empty array",e),nonEmptyArray:e=>Pe(ne.nonEmptyArray(e),"non-empty array",e),emptyString:e=>Pe(ne.emptyString(e),"empty string",e),emptyStringOrWhitespace:e=>Pe(ne.emptyStringOrWhitespace(e),"empty string or whitespace",e),nonEmptyString:e=>Pe(ne.nonEmptyString(e),"non-empty string",e),nonEmptyStringAndNotWhitespace:e=>Pe(ne.nonEmptyStringAndNotWhitespace(e),"non-empty string and not whitespace",e),emptyObject:e=>Pe(ne.emptyObject(e),"empty object",e),nonEmptyObject:e=>Pe(ne.nonEmptyObject(e),"non-empty object",e),emptySet:e=>Pe(ne.emptySet(e),"empty set",e),nonEmptySet:e=>Pe(ne.nonEmptySet(e),"non-empty set",e),emptyMap:e=>Pe(ne.emptyMap(e),"empty map",e),nonEmptyMap:e=>Pe(ne.nonEmptyMap(e),"non-empty map",e),propertyKey:e=>Pe(ne.propertyKey(e),"PropertyKey",e),formData:e=>Pe(ne.formData(e),"FormData",e),urlSearchParams:e=>Pe(ne.urlSearchParams(e),"URLSearchParams",e),evenInteger:e=>Pe(ne.evenInteger(e),"even integer",e),oddInteger:e=>Pe(ne.oddInteger(e),"odd integer",e),directInstanceOf:(e,n)=>Pe(ne.directInstanceOf(e,n),"T",e),inRange:(e,n)=>Pe(ne.inRange(e,n),"in range",e),any:(e,...n)=>Pe(ne.any(e,...n),"predicate returns truthy for any value",n,{multipleValues:!0}),all:(e,...n)=>Pe(ne.all(e,...n),"predicate returns truthy for all values",n,{multipleValues:!0})};Object.defineProperties(ne,{class:{value:ne.class_},function:{value:ne.function_},null:{value:ne.null_}});Object.defineProperties(Ie,{class:{value:Ie.class_},function:{value:Ie.function_},null:{value:Ie.null_}});var ue=ne,t6=require("node:events"),r6=class extends Error{constructor(e){super(e||"Promise was canceled"),this.name="CancelError"}get isCanceled(){return!0}},op=class{static fn(e){return(...n)=>new op((t,r,a)=>{n.push(a),e(...n).then(t,r)})}constructor(e){this._cancelHandlers=[],this._isPending=!0,this._isCanceled=!1,this._rejectOnCancel=!0,this._promise=new Promise((n,t)=>{this._reject=t;let r=c=>{(!this._isCanceled||!u.shouldReject)&&(this._isPending=!1,n(c))},a=c=>{this._isPending=!1,t(c)},u=c=>{if(!this._isPending)throw new Error("The `onCancel` handler was attached after the promise settled.");this._cancelHandlers.push(c)};Object.defineProperties(u,{shouldReject:{get:()=>this._rejectOnCancel,set:c=>{this._rejectOnCancel=c}}}),e(r,a,u)})}then(e,n){return this._promise.then(e,n)}catch(e){return this._promise.catch(e)}finally(e){return this._promise.finally(e)}cancel(e){if(!(!this._isPending||this._isCanceled)){if(this._isCanceled=!0,this._cancelHandlers.length>0)try{for(let n of this._cancelHandlers)n()}catch(n){this._reject(n);return}this._rejectOnCancel&&this._reject(new r6(e))}}get isCanceled(){return this._isCanceled}};Object.setPrototypeOf(op.prototype,Promise.prototype);function n6(e){return ue.object(e)&&"_onResponse"in e}var Sr=class extends Error{constructor(e,n,t){if(super(e),Object.defineProperty(this,"input",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stack",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"response",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Error.captureStackTrace(this,this.constructor),this.name="RequestError",this.code=n.code??"ERR_GOT_REQUEST_ERROR",this.input=n.input,n6(t)?(Object.defineProperty(this,"request",{enumerable:!1,value:t}),Object.defineProperty(this,"response",{enumerable:!1,value:t.response}),this.options=t.options):this.options=t,this.timings=this.request?.timings,ue.string(n.stack)&&ue.string(this.stack)){let r=this.stack.indexOf(this.message)+this.message.length,a=this.stack.slice(r).split(`
`).reverse(),u=n.stack.slice(n.stack.indexOf(n.message)+n.message.length).split(`
`).reverse();for(;u.length>0&&u[0]===a[0];)a.shift();this.stack=`${this.stack.slice(0,r)}${a.reverse().join(`
`)}${u.reverse().join(`
`)}`}}},i6=class extends Sr{constructor(e){super(`Redirected ${e.options.maxRedirects} times. Aborting.`,{},e),this.name="MaxRedirectsError",this.code="ERR_TOO_MANY_REDIRECTS"}},Cc=class extends Sr{constructor(e){super(`Response code ${e.statusCode} (${e.statusMessage})`,{},e.request),this.name="HTTPError",this.code="ERR_NON_2XX_3XX_RESPONSE"}},a6=class extends Sr{constructor(e,n){super(e.message,e,n),this.name="CacheError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_CACHE_ACCESS":this.code}},Rg=class extends Sr{constructor(e,n){super(e.message,e,n),this.name="UploadError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_UPLOAD":this.code}},s6=class extends Sr{constructor(e,n,t){super(e.message,e,t),Object.defineProperty(this,"timings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"event",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="TimeoutError",this.event=e.event,this.timings=n}},kg=class extends Sr{constructor(e,n){super(e.message,e,n),this.name="ReadError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_READING_RESPONSE_STREAM":this.code}},o6=class extends Sr{constructor(e){super("Retrying",{},e),this.name="RetryError",this.code="ERR_RETRYING"}},u6=class extends Sr{constructor(e){super("This operation was aborted.",{},e),this.code="ERR_ABORTED",this.name="AbortError"}},pv=vr(require("node:process"),1),Wf=require("node:buffer"),l6=require("node:stream"),Pg=require("node:url"),Gf=vr(require("node:http"),1),c6=require("events"),h6=require("util"),f6=vr(jT(),1),d6=e=>{if(e.timings)return e.timings;let n={start:Date.now(),socket:void 0,lookup:void 0,connect:void 0,secureConnect:void 0,upload:void 0,response:void 0,end:void 0,error:void 0,abort:void 0,phases:{wait:void 0,dns:void 0,tcp:void 0,tls:void 0,request:void 0,firstByte:void 0,download:void 0,total:void 0}};e.timings=n;let t=c=>{c.once(c6.errorMonitor,()=>{n.error=Date.now(),n.phases.total=n.error-n.start})};t(e);let r=()=>{n.abort=Date.now(),n.phases.total=n.abort-n.start};e.prependOnceListener("abort",r);let a=c=>{if(n.socket=Date.now(),n.phases.wait=n.socket-n.start,h6.types.isProxy(c))return;let h=()=>{n.lookup=Date.now(),n.phases.dns=n.lookup-n.socket};c.prependOnceListener("lookup",h),(0,f6.default)(c,{connect:()=>{n.connect=Date.now(),n.lookup===void 0&&(c.removeListener("lookup",h),n.lookup=n.connect,n.phases.dns=n.lookup-n.socket),n.phases.tcp=n.connect-n.lookup},secureConnect:()=>{n.secureConnect=Date.now(),n.phases.tls=n.secureConnect-n.connect}})};e.socket?a(e.socket):e.prependOnceListener("socket",a);let u=()=>{n.upload=Date.now(),n.phases.request=n.upload-(n.secureConnect??n.connect)};return e.writableFinished?u():e.prependOnceListener("finish",u),e.prependOnceListener("response",c=>{n.response=Date.now(),n.phases.firstByte=n.response-n.upload,c.timings=n,t(c),c.prependOnceListener("end",()=>{e.off("abort",r),c.off("aborted",r),!n.phases.total&&(n.end=Date.now(),n.phases.download=n.end-n.response,n.phases.total=n.end-n.start)}),c.prependOnceListener("aborted",r)}),n},p6=d6,y6=vr(require("node:events"),1),Wl=vr(require("node:url"),1),g6=vr(require("node:crypto"),1),yv=vr(require("node:stream"),1),m6="text/plain",v6="us-ascii",Qf=(e,n)=>n.some(t=>t instanceof RegExp?t.test(e):t===e),b6=new Set(["https:","http:","file:"]),_6=e=>{try{let{protocol:n}=new URL(e);return n.endsWith(":")&&!b6.has(n)}catch{return!1}},w6=(e,{stripHash:n})=>{let t=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(e);if(!t)throw new Error(`Invalid URL: ${e}`);let{type:r,data:a,hash:u}=t.groups,c=r.split(";");u=n?"":u;let h=!1;c[c.length-1]==="base64"&&(c.pop(),h=!0);let l=c.shift()?.toLowerCase()??"",s=[...c.map(d=>{let[f,g=""]=d.split("=").map(I=>I.trim());return f==="charset"&&(g=g.toLowerCase(),g===v6)?"":`${f}${g?`=${g}`:""}`}).filter(Boolean)];return h&&s.push("base64"),(s.length>0||l&&l!==m6)&&s.unshift(l),`data:${s.join(";")},${h?a.trim():a}${u?`#${u}`:""}`};function S6(e,n){if(n={defaultProtocol:"http",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,removeExplicitPort:!1,sortQueryParameters:!0,...n},typeof n.defaultProtocol=="string"&&!n.defaultProtocol.endsWith(":")&&(n.defaultProtocol=`${n.defaultProtocol}:`),e=e.trim(),/^data:/i.test(e))return w6(e,n);if(_6(e))return e;let t=e.startsWith("//");!t&&/^\.*\//.test(e)||(e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,n.defaultProtocol));let r=new URL(e);if(n.forceHttp&&n.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(n.forceHttp&&r.protocol==="https:"&&(r.protocol="http:"),n.forceHttps&&r.protocol==="http:"&&(r.protocol="https:"),n.stripAuthentication&&(r.username="",r.password=""),n.stripHash?r.hash="":n.stripTextFragment&&(r.hash=r.hash.replace(/#?:~:text.*?$/i,"")),r.pathname){let u=/\b[a-z][a-z\d+\-.]{1,50}:\/\//g,c=0,h="";for(;;){let s=u.exec(r.pathname);if(!s)break;let d=s[0],f=s.index,g=r.pathname.slice(c,f);h+=g.replace(/\/{2,}/g,"/"),h+=d,c=f+d.length}let l=r.pathname.slice(c,r.pathname.length);h+=l.replace(/\/{2,}/g,"/"),r.pathname=h}if(r.pathname)try{r.pathname=decodeURI(r.pathname)}catch{}if(n.removeDirectoryIndex===!0&&(n.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(n.removeDirectoryIndex)&&n.removeDirectoryIndex.length>0){let u=r.pathname.split("/"),c=u[u.length-1];Qf(c,n.removeDirectoryIndex)&&(u=u.slice(0,-1),r.pathname=u.slice(1).join("/")+"/")}if(r.hostname&&(r.hostname=r.hostname.replace(/\.$/,""),n.stripWWW&&/^www\.(?!www\.)[a-z\-\d]{1,63}\.[a-z.\-\d]{2,63}$/.test(r.hostname)&&(r.hostname=r.hostname.replace(/^www\./,""))),Array.isArray(n.removeQueryParameters))for(let u of[...r.searchParams.keys()])Qf(u,n.removeQueryParameters)&&r.searchParams.delete(u);if(!Array.isArray(n.keepQueryParameters)&&n.removeQueryParameters===!0&&(r.search=""),Array.isArray(n.keepQueryParameters)&&n.keepQueryParameters.length>0)for(let u of[...r.searchParams.keys()])Qf(u,n.keepQueryParameters)||r.searchParams.delete(u);if(n.sortQueryParameters){r.searchParams.sort();try{r.search=decodeURIComponent(r.search)}catch{}}n.removeTrailingSlash&&(r.pathname=r.pathname.replace(/\/$/,"")),n.removeExplicitPort&&r.port&&(r.port="");let a=e;return e=r.toString(),!n.removeSingleSlash&&r.pathname==="/"&&!a.endsWith("/")&&r.hash===""&&(e=e.replace(/\/$/,"")),(n.removeTrailingSlash||r.pathname==="/")&&r.hash===""&&n.removeSingleSlash&&(e=e.replace(/\/$/,"")),t&&!n.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),n.stripProtocol&&(e=e.replace(/^(?:https?:)?\/\//,"")),e}var E6=vr(Vm(),1),Yf=vr(qT(),1),C6=require("node:stream");function Cd(e){return Object.fromEntries(Object.entries(e).map(([n,t])=>[n.toLowerCase(),t]))}var Bg=class extends C6.Readable{statusCode;headers;body;url;constructor({statusCode:e,headers:n,body:t,url:r}){if(typeof e!="number")throw new TypeError("Argument `statusCode` should be a number");if(typeof n!="object")throw new TypeError("Argument `headers` should be an object");if(!(t instanceof Uint8Array))throw new TypeError("Argument `body` should be a buffer");if(typeof r!="string")throw new TypeError("Argument `url` should be a string");super({read(){this.push(t),this.push(null)}}),this.statusCode=e,this.headers=Cd(n),this.body=t,this.url=r}},Gl=vr(MT(),1),T6=["aborted","complete","headers","httpVersion","httpVersionMinor","httpVersionMajor","method","rawHeaders","rawTrailers","setTimeout","socket","statusCode","statusMessage","trailers","url"];function A6(e,n){if(n._readableState.autoDestroy)throw new Error("The second stream must have the `autoDestroy` option set to `false`");let t=new Set([...Object.keys(e),...T6]),r={};for(let a of t)a in n||(r[a]={get(){let u=e[a];return typeof u=="function"?u.bind(e):u},set(u){e[a]=u},enumerable:!0,configurable:!1});return Object.defineProperties(n,r),e.once("aborted",()=>{n.destroy(),n.emit("aborted")}),e.once("close",()=>{e.complete&&n.readable?n.once("end",()=>{n.emit("close")}):n.emit("close")}),n}var I6=class extends Error{constructor(e){super(e.message),Object.assign(this,e)}},wu=class extends Error{constructor(e){super(e.message),Object.assign(this,e)}},R6=class{constructor(e,n){this.hooks=new Map,this.request=()=>(t,r)=>{let a;if(typeof t=="string")a=Zf(Wl.default.parse(t)),t={};else if(t instanceof Wl.default.URL)a=Zf(Wl.default.parse(t.toString())),t={};else{let[f,...g]=(t.path??"").split("?"),I=g.length>0?`?${g.join("?")}`:"";a=Zf({...t,pathname:f,search:I})}t={headers:{},method:"GET",cache:!0,strictTtl:!1,automaticFailover:!1,...t,...B6(a)},t.headers=Object.fromEntries(k6(t.headers).map(([f,g])=>[f.toLowerCase(),g]));let u=new y6.default,c=S6(Wl.default.format(a),{stripWWW:!1,removeTrailingSlash:!1,stripAuthentication:!1}),h=`${t.method}:${c}`;t.body&&t.method!==void 0&&["POST","PATCH","PUT"].includes(t.method)&&(t.body instanceof yv.default.Readable?t.cache=!1:h+=`:${g6.default.createHash("md5").update(t.body).digest("hex")}`);let l=!1,s=!1,d=f=>{s=!0;let g=!1,I=()=>{},C=new Promise(T=>{I=()=>{g||(g=!0,T())}}),_=async T=>{if(l){T.status=T.statusCode;let P=Yf.default.fromObject(l.cachePolicy).revalidatedPolicy(f,T);if(!P.modified){T.resume(),await new Promise(A=>{T.once("end",A)});let p=Ng(P.policy.responseHeaders());T=new Bg({statusCode:l.statusCode,headers:p,body:l.body,url:l.url}),T.cachePolicy=P.policy,T.fromCache=!0}}T.fromCache||(T.cachePolicy=new Yf.default(f,T,f),T.fromCache=!1);let B;f.cache&&T.cachePolicy.storable()?(B=P6(T),(async()=>{try{let P=E6.default.buffer(T);await Promise.race([C,new Promise(N=>T.once("end",N)),new Promise(N=>T.once("close",N))]);let p=await P,A={url:T.url,statusCode:T.fromCache?l.statusCode:T.statusCode,body:p,cachePolicy:T.cachePolicy.toObject()},S=f.strictTtl?T.cachePolicy.timeToLive():void 0;if(f.maxTtl&&(S=S?Math.min(S,f.maxTtl):f.maxTtl),this.hooks.size>0)for(let N of this.hooks.keys())A=await this.runHook(N,A,T);await this.cache.set(h,A,S)}catch(P){u.emit("error",new wu(P))}})()):f.cache&&l&&(async()=>{try{await this.cache.delete(h)}catch(P){u.emit("error",new wu(P))}})(),u.emit("response",B??T),typeof r=="function"&&r(B??T)};try{let T=this.cacheRequest(f,_);T.once("error",I),T.once("abort",I),T.once("destroy",I),u.emit("request",T)}catch(T){u.emit("error",new I6(T))}};return(async()=>{let f=async I=>{await Promise.resolve();let C=I.cache?await this.cache.get(h):void 0;if(typeof C>"u"&&!I.forceRefresh){d(I);return}let _=Yf.default.fromObject(C.cachePolicy);if(_.satisfiesWithoutRevalidation(I)&&!I.forceRefresh){let T=Ng(_.responseHeaders()),B=new Bg({statusCode:C.statusCode,headers:T,body:C.body,url:C.url});B.cachePolicy=_,B.fromCache=!0,u.emit("response",B),typeof r=="function"&&r(B)}else _.satisfiesWithoutRevalidation(I)&&Date.now()>=_.timeToLive()&&I.forceRefresh?(await this.cache.delete(h),I.headers=_.revalidationHeaders(I),d(I)):(l=C,I.headers=_.revalidationHeaders(I),d(I))},g=I=>u.emit("error",new wu(I));if(this.cache instanceof Gl.default){let I=this.cache;I.once("error",g),u.on("error",()=>I.removeListener("error",g)),u.on("response",()=>I.removeListener("error",g))}try{await f(t)}catch(I){t.automaticFailover&&!s&&d(t),u.emit("error",new wu(I))}})(),u},this.addHook=(t,r)=>{this.hooks.has(t)||this.hooks.set(t,r)},this.removeHook=t=>this.hooks.delete(t),this.getHook=t=>this.hooks.get(t),this.runHook=async(t,...r)=>this.hooks.get(t)?.(...r),n instanceof Gl.default?this.cache=n:typeof n=="string"?this.cache=new Gl.default({uri:n,namespace:"cacheable-request"}):this.cache=new Gl.default({store:n,namespace:"cacheable-request"}),this.request=this.request.bind(this),this.cacheRequest=e}},k6=Object.entries,P6=e=>{let n=new yv.PassThrough({autoDestroy:!1});return A6(e,n),e.pipe(n)},B6=e=>{let n={...e};return n.path=`${e.pathname||"/"}${e.search||""}`,delete n.pathname,delete n.search,n},Zf=e=>({protocol:e.protocol,auth:e.auth,hostname:e.hostname||e.host||"localhost",port:e.port,pathname:e.pathname,search:e.search}),Ng=e=>{let n=[];for(let t of Object.keys(e))n[t.toLowerCase()]=e[t];return n},N6=R6,O6=vr($T(),1),x6=vr(Vm(),1),na=e=>typeof e=="function",L6=e=>na(e[Symbol.asyncIterator]);async function*U6(e){let n=e.getReader();for(;;){let{done:t,value:r}=await n.read();if(t)break;yield r}}var D6=e=>{if(L6(e))return e;if(na(e.getReader))return U6(e);throw new TypeError("Unsupported data source: Expected either ReadableStream or async iterable.")},Og="abcdefghijklmnopqrstuvwxyz0123456789";function j6(){let e=16,n="";for(;e--;)n+=Og[Math.random()*Og.length<<0];return n}var xg=e=>String(e).replace(/\r|\n/g,(n,t,r)=>n==="\r"&&r[t+1]!==`
`||n===`
`&&r[t-1]!=="\r"?`\r
`:n),V6=e=>Object.prototype.toString.call(e).slice(8,-1).toLowerCase();function Lg(e){if(V6(e)!=="object")return!1;let n=Object.getPrototypeOf(e);return n==null?!0:(n.constructor&&n.constructor.toString())===Object.toString()}function Ug(e,n){if(typeof n=="string"){for(let[t,r]of Object.entries(e))if(n.toLowerCase()===t.toLowerCase())return r}}var q6=e=>new Proxy(e,{get:(n,t)=>Ug(n,t),has:(n,t)=>Ug(n,t)!==void 0}),up=e=>!!(e&&na(e.constructor)&&e[Symbol.toStringTag]==="FormData"&&na(e.append)&&na(e.getAll)&&na(e.entries)&&na(e[Symbol.iterator])),Dg=e=>String(e).replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/"/g,"%22"),cs=e=>!!(e&&typeof e=="object"&&na(e.constructor)&&e[Symbol.toStringTag]==="File"&&na(e.stream)&&e.name!=null),cu=function(e,n,t,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?e!==n||!a:!n.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(e,t):a?a.value=t:n.set(e,t),t},Qt=function(e,n,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?e!==n||!r:!n.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(e):r?r.value:n.get(e)},hu,xa,fu,Ql,du,hs,pu,yu,Yl,Xf,jg,F6={enableAdditionalHeaders:!1},Zl={writable:!1,configurable:!1},M6=class{constructor(e,n,t){if(hu.add(this),xa.set(this,`\r
`),fu.set(this,void 0),Ql.set(this,void 0),du.set(this,"-".repeat(2)),hs.set(this,new TextEncoder),pu.set(this,void 0),yu.set(this,void 0),Yl.set(this,void 0),!up(e))throw new TypeError("Expected first argument to be a FormData instance.");let r;if(Lg(n)?t=n:r=n,r||(r=j6()),typeof r!="string")throw new TypeError("Expected boundary argument to be a string.");if(t&&!Lg(t))throw new TypeError("Expected options argument to be an object.");cu(this,yu,Array.from(e.entries()),"f"),cu(this,Yl,{...F6,...t},"f"),cu(this,fu,Qt(this,hs,"f").encode(Qt(this,xa,"f")),"f"),cu(this,Ql,Qt(this,fu,"f").byteLength,"f"),this.boundary=`form-data-boundary-${r}`,this.contentType=`multipart/form-data; boundary=${this.boundary}`,cu(this,pu,Qt(this,hs,"f").encode(`${Qt(this,du,"f")}${this.boundary}${Qt(this,du,"f")}${Qt(this,xa,"f").repeat(2)}`),"f");let a={"Content-Type":this.contentType},u=Qt(this,hu,"m",jg).call(this);u&&(this.contentLength=u,a["Content-Length"]=u),this.headers=q6(Object.freeze(a)),Object.defineProperties(this,{boundary:Zl,contentType:Zl,contentLength:Zl,headers:Zl})}getContentLength(){return this.contentLength==null?void 0:Number(this.contentLength)}*values(){for(let[e,n]of Qt(this,yu,"f")){let t=cs(n)?n:Qt(this,hs,"f").encode(xg(n));yield Qt(this,hu,"m",Xf).call(this,e,t),yield t,yield Qt(this,fu,"f")}yield Qt(this,pu,"f")}async*encode(){for(let e of this.values())cs(e)?yield*D6(e.stream()):yield e}[(xa=new WeakMap,fu=new WeakMap,Ql=new WeakMap,du=new WeakMap,hs=new WeakMap,pu=new WeakMap,yu=new WeakMap,Yl=new WeakMap,hu=new WeakSet,Xf=function(e,n){let t="";t+=`${Qt(this,du,"f")}${this.boundary}${Qt(this,xa,"f")}`,t+=`Content-Disposition: form-data; name="${Dg(e)}"`,cs(n)&&(t+=`; filename="${Dg(n.name)}"${Qt(this,xa,"f")}`,t+=`Content-Type: ${n.type||"application/octet-stream"}`);let r=cs(n)?n.size:n.byteLength;return Qt(this,Yl,"f").enableAdditionalHeaders===!0&&r!=null&&!isNaN(r)&&(t+=`${Qt(this,xa,"f")}Content-Length: ${cs(n)?n.size:n.byteLength}`),Qt(this,hs,"f").encode(`${t}${Qt(this,xa,"f").repeat(2)}`)},jg=function(){let e=0;for(let[n,t]of Qt(this,yu,"f")){let r=cs(t)?t:Qt(this,hs,"f").encode(xg(t)),a=cs(r)?r.size:r.byteLength;if(a==null||isNaN(a))return;e+=Qt(this,hu,"m",Xf).call(this,n,r).byteLength,e+=a,e+=Qt(this,Ql,"f")}return String(e+Qt(this,pu,"f").byteLength)},Symbol.iterator)](){return this.values()}[Symbol.asyncIterator](){return this.encode()}},z6=require("node:buffer"),$6=require("node:util");function gv(e){return ue.nodeStream(e)&&ue.function_(e.getBoundary)}async function K6(e,n){if(n&&"content-length"in n)return Number(n["content-length"]);if(!e)return 0;if(ue.string(e))return z6.Buffer.byteLength(e);if(ue.buffer(e))return e.length;if(gv(e))return(0,$6.promisify)(e.getLength.bind(e))()}function mv(e,n,t){let r={};for(let a of t){let u=(...c)=>{n.emit(a,...c)};r[a]=u,e.on(a,u)}return()=>{for(let[a,u]of Object.entries(r))e.off(a,u)}}var H6=vr(require("node:net"),1);function W6(){let e=[];return{once(n,t,r){n.once(t,r),e.push({origin:n,event:t,fn:r})},unhandleAll(){for(let n of e){let{origin:t,event:r,fn:a}=n;t.removeListener(r,a)}e.length=0}}}var Vg=Symbol("reentry"),G6=()=>{},vv=class extends Error{constructor(e,n){super(`Timeout awaiting '${n}' for ${e}ms`),Object.defineProperty(this,"event",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="TimeoutError",this.code="ETIMEDOUT"}};function Q6(e,n,t){if(Vg in e)return G6;e[Vg]=!0;let r=[],{once:a,unhandleAll:u}=W6(),c=(_,T,B)=>{let P=setTimeout(T,_,_,B);P.unref?.();let p=()=>{clearTimeout(P)};return r.push(p),p},{host:h,hostname:l}=t,s=(_,T)=>{e.destroy(new vv(_,T))},d=()=>{for(let _ of r)_();u()};if(e.once("error",_=>{if(d(),e.listenerCount("error")===0)throw _}),typeof n.request<"u"){let _=c(n.request,s,"request");a(e,"response",T=>{a(T,"end",_)})}if(typeof n.socket<"u"){let{socket:_}=n,T=()=>{s(_,"socket")};e.setTimeout(_,T),r.push(()=>{e.removeListener("timeout",T)})}let f=typeof n.lookup<"u",g=typeof n.connect<"u",I=typeof n.secureConnect<"u",C=typeof n.send<"u";return(f||g||I||C)&&a(e,"socket",_=>{let{socketPath:T}=e;if(_.connecting){let B=!!(T??H6.default.isIP(l??h??"")!==0);if(f&&!B&&typeof _.address().address>"u"){let P=c(n.lookup,s,"lookup");a(_,"lookup",P)}if(g){let P=()=>c(n.connect,s,"connect");B?a(_,"connect",P()):a(_,"lookup",p=>{p===null&&a(_,"connect",P())})}I&&t.protocol==="https:"&&a(_,"connect",()=>{let P=c(n.secureConnect,s,"secureConnect");a(_,"secureConnect",P)})}if(C){let B=()=>c(n.send,s,"send");_.connecting?a(_,"connect",()=>{a(e,"upload-complete",B())}):a(e,"upload-complete",B())}}),typeof n.response<"u"&&a(e,"upload-complete",()=>{let _=c(n.response,s,"response");a(e,"response",_)}),typeof n.read<"u"&&a(e,"response",_=>{let T=c(n.read,s,"read");a(_,"end",T)}),d}function Y6(e){e=e;let n={protocol:e.protocol,hostname:ue.string(e.hostname)&&e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,host:e.host,hash:e.hash,search:e.search,pathname:e.pathname,href:e.href,path:`${e.pathname||""}${e.search||""}`};return ue.string(e.port)&&e.port.length>0&&(n.port=Number(e.port)),(e.username||e.password)&&(n.auth=`${e.username||""}:${e.password||""}`),n}var Z6=class{constructor(){Object.defineProperty(this,"weakMap",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"map",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.weakMap=new WeakMap,this.map=new Map}set(e,n){typeof e=="object"?this.weakMap.set(e,n):this.map.set(e,n)}get(e){return typeof e=="object"?this.weakMap.get(e):this.map.get(e)}has(e){return typeof e=="object"?this.weakMap.has(e):this.map.has(e)}},X6=({attemptCount:e,retryOptions:n,error:t,retryAfter:r,computedValue:a})=>{if(t.name==="RetryError")return 1;if(e>n.limit)return 0;let u=n.methods.includes(t.options.method),c=n.errorCodes.includes(t.code),h=t.response&&n.statusCodes.includes(t.response.statusCode);if(!u||!c&&!h)return 0;if(t.response){if(r)return r>a?0:r;if(t.response.statusCode===413)return 0}let l=Math.random()*n.noise;return Math.min(2**(e-1)*1e3,n.backoffLimit)+l},J6=X6,e4=vr(require("node:process"),1),Jf=require("node:util"),vs=require("node:url"),t4=require("node:tls"),r4=vr(require("node:http"),1),n4=vr(require("node:https"),1),ho=require("node:dns"),ed=require("node:util"),i4=vr(require("node:os"),1),{Resolver:qg}=ho.promises,uo=Symbol("cacheableLookupCreateConnection"),td=Symbol("cacheableLookupInstance"),Fg=Symbol("expires"),a4=typeof ho.ALL=="number",Mg=e=>{if(!(e&&typeof e.createConnection=="function"))throw new Error("Expected an Agent instance as the first argument")},s4=e=>{for(let n of e)n.family!==6&&(n.address=`::ffff:${n.address}`,n.family=6)},zg=()=>{let e=!1,n=!1;for(let t of Object.values(i4.default.networkInterfaces()))for(let r of t)if(!r.internal&&(r.family==="IPv6"?n=!0:e=!0,e&&n))return{has4:e,has6:n};return{has4:e,has6:n}},o4=e=>Symbol.iterator in e,Xl=e=>e.catch(n=>{if(n.code==="ENODATA"||n.code==="ENOTFOUND"||n.code==="ENOENT")return[];throw n}),$g={ttl:!0},u4={all:!0},l4={all:!0,family:4},c4={all:!0,family:6},h4=class{constructor({cache:e=new Map,maxTtl:n=1/0,fallbackDuration:t=3600,errorTtl:r=.15,resolver:a=new qg,lookup:u=ho.lookup}={}){if(this.maxTtl=n,this.errorTtl=r,this._cache=e,this._resolver=a,this._dnsLookup=u&&(0,ed.promisify)(u),this.stats={cache:0,query:0},this._resolver instanceof qg?(this._resolve4=this._resolver.resolve4.bind(this._resolver),this._resolve6=this._resolver.resolve6.bind(this._resolver)):(this._resolve4=(0,ed.promisify)(this._resolver.resolve4.bind(this._resolver)),this._resolve6=(0,ed.promisify)(this._resolver.resolve6.bind(this._resolver))),this._iface=zg(),this._pending={},this._nextRemovalTime=!1,this._hostnamesToFallback=new Set,this.fallbackDuration=t,t>0){let c=setInterval(()=>{this._hostnamesToFallback.clear()},t*1e3);c.unref&&c.unref(),this._fallbackInterval=c}this.lookup=this.lookup.bind(this),this.lookupAsync=this.lookupAsync.bind(this)}set servers(e){this.clear(),this._resolver.setServers(e)}get servers(){return this._resolver.getServers()}lookup(e,n,t){if(typeof n=="function"?(t=n,n={}):typeof n=="number"&&(n={family:n}),!t)throw new Error("Callback must be a function.");this.lookupAsync(e,n).then(r=>{n.all?t(null,r):t(null,r.address,r.family,r.expires,r.ttl,r.source)},t)}async lookupAsync(e,n={}){typeof n=="number"&&(n={family:n});let t=await this.query(e);if(n.family===6){let r=t.filter(a=>a.family===6);n.hints&ho.V4MAPPED&&(a4&&n.hints&ho.ALL||r.length===0)?s4(t):t=r}else n.family===4&&(t=t.filter(r=>r.family===4));if(n.hints&ho.ADDRCONFIG){let{_iface:r}=this;t=t.filter(a=>a.family===6?r.has6:r.has4)}if(t.length===0){let r=new Error(`cacheableLookup ENOTFOUND ${e}`);throw r.code="ENOTFOUND",r.hostname=e,r}return n.all?t:t[0]}async query(e){let n="cache",t=await this._cache.get(e);if(t&&this.stats.cache++,!t){let r=this._pending[e];if(r)this.stats.cache++,t=await r;else{n="query";let a=this.queryAndCache(e);this._pending[e]=a,this.stats.query++;try{t=await a}finally{delete this._pending[e]}}}return t=t.map(r=>({...r,source:n})),t}async _resolve(e){let[n,t]=await Promise.all([Xl(this._resolve4(e,$g)),Xl(this._resolve6(e,$g))]),r=0,a=0,u=0,c=Date.now();for(let h of n)h.family=4,h.expires=c+h.ttl*1e3,r=Math.max(r,h.ttl);for(let h of t)h.family=6,h.expires=c+h.ttl*1e3,a=Math.max(a,h.ttl);return n.length>0?t.length>0?u=Math.min(r,a):u=r:u=a,{entries:[...n,...t],cacheTtl:u}}async _lookup(e){try{let[n,t]=await Promise.all([Xl(this._dnsLookup(e,l4)),Xl(this._dnsLookup(e,c4))]);return{entries:[...n,...t],cacheTtl:0}}catch{return{entries:[],cacheTtl:0}}}async _set(e,n,t){if(this.maxTtl>0&&t>0){t=Math.min(t,this.maxTtl)*1e3,n[Fg]=Date.now()+t;try{await this._cache.set(e,n,t)}catch(r){this.lookupAsync=async()=>{let a=new Error("Cache Error. Please recreate the CacheableLookup instance.");throw a.cause=r,a}}o4(this._cache)&&this._tick(t)}}async queryAndCache(e){if(this._hostnamesToFallback.has(e))return this._dnsLookup(e,u4);let n=await this._resolve(e);n.entries.length===0&&this._dnsLookup&&(n=await this._lookup(e),n.entries.length!==0&&this.fallbackDuration>0&&this._hostnamesToFallback.add(e));let t=n.entries.length===0?this.errorTtl:n.cacheTtl;return await this._set(e,n.entries,t),n.entries}_tick(e){let n=this._nextRemovalTime;(!n||e<n)&&(clearTimeout(this._removalTimeout),this._nextRemovalTime=e,this._removalTimeout=setTimeout(()=>{this._nextRemovalTime=!1;let t=1/0,r=Date.now();for(let[a,u]of this._cache){let c=u[Fg];r>=c?this._cache.delete(a):c<t&&(t=c)}t!==1/0&&this._tick(t-r)},e),this._removalTimeout.unref&&this._removalTimeout.unref())}install(e){if(Mg(e),uo in e)throw new Error("CacheableLookup has been already installed");e[uo]=e.createConnection,e[td]=this,e.createConnection=(n,t)=>("lookup"in n||(n.lookup=this.lookup),e[uo](n,t))}uninstall(e){if(Mg(e),e[uo]){if(e[td]!==this)throw new Error("The agent is not owned by this CacheableLookup instance");e.createConnection=e[uo],delete e[uo],delete e[td]}}updateInterfaceInfo(){let{_iface:e}=this;this._iface=zg(),(e.has4&&!this._iface.has4||e.has6&&!this._iface.has6)&&this._cache.clear()}clear(e){if(e){this._cache.delete(e);return}this._cache.clear()}},f4=vr(t3(),1);function d4(e){let n=[],t=e.split(",");for(let r of t){let[a,...u]=r.split(";"),c=a.trim();if(c[0]!=="<"||c[c.length-1]!==">")throw new Error(`Invalid format of the Link header reference: ${c}`);let h=c.slice(1,-1),l={};if(u.length===0)throw new Error(`Unexpected end of Link header parameters: ${u.join(";")}`);for(let s of u){let d=s.trim(),f=d.indexOf("=");if(f===-1)throw new Error(`Failed to parse Link header: ${e}`);let g=d.slice(0,f).trim(),I=d.slice(f+1).trim();l[g]=I}n.push({reference:h,parameters:l})}return n}var[Kg,p4]=e4.default.versions.node.split(".").map(Number);function y4(e){for(let n in e){let t=e[n];Ie.any([ue.string,ue.number,ue.boolean,ue.null_,ue.undefined],t)}}var g4=new Map,rd,m4=()=>rd||(rd=new h4,rd),v4={request:void 0,agent:{http:void 0,https:void 0,http2:void 0},h2session:void 0,decompress:!0,timeout:{connect:void 0,lookup:void 0,read:void 0,request:void 0,response:void 0,secureConnect:void 0,send:void 0,socket:void 0},prefixUrl:"",body:void 0,form:void 0,json:void 0,cookieJar:void 0,ignoreInvalidCookies:!1,searchParams:void 0,dnsLookup:void 0,dnsCache:void 0,context:{},hooks:{init:[],beforeRequest:[],beforeError:[],beforeRedirect:[],beforeRetry:[],afterResponse:[]},followRedirect:!0,maxRedirects:10,cache:void 0,throwHttpErrors:!0,username:"",password:"",http2:!1,allowGetBody:!1,headers:{"user-agent":"got (https://github.com/sindresorhus/got)"},methodRewriting:!1,dnsLookupIpVersion:void 0,parseJson:JSON.parse,stringifyJson:JSON.stringify,retry:{limit:2,methods:["GET","PUT","HEAD","DELETE","OPTIONS","TRACE"],statusCodes:[408,413,429,500,502,503,504,521,522,524],errorCodes:["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"],maxRetryAfter:void 0,calculateDelay:({computedValue:e})=>e,backoffLimit:Number.POSITIVE_INFINITY,noise:100},localAddress:void 0,method:"GET",createConnection:void 0,cacheOptions:{shared:void 0,cacheHeuristic:void 0,immutableMinTimeToLive:void 0,ignoreCargoCult:void 0},https:{alpnProtocols:void 0,rejectUnauthorized:void 0,checkServerIdentity:void 0,certificateAuthority:void 0,key:void 0,certificate:void 0,passphrase:void 0,pfx:void 0,ciphers:void 0,honorCipherOrder:void 0,minVersion:void 0,maxVersion:void 0,signatureAlgorithms:void 0,tlsSessionLifetime:void 0,dhparam:void 0,ecdhCurve:void 0,certificateRevocationLists:void 0},encoding:void 0,resolveBodyOnly:!1,isStream:!1,responseType:"text",url:void 0,pagination:{transform(e){return e.request.options.responseType==="json"?e.body:JSON.parse(e.body)},paginate({response:e}){let n=e.headers.link;if(typeof n!="string"||n.trim()==="")return!1;let t=d4(n).find(r=>r.parameters.rel==="next"||r.parameters.rel==='"next"');return t?{url:new vs.URL(t.reference,e.url)}:!1},filter:()=>!0,shouldContinue:()=>!0,countLimit:Number.POSITIVE_INFINITY,backoff:0,requestLimit:1e4,stackAllItems:!1},setHost:!0,maxHeaderSize:void 0,signal:void 0,enableUnixSockets:!0},b4=e=>{let{hooks:n,retry:t}=e,r={...e,context:{...e.context},cacheOptions:{...e.cacheOptions},https:{...e.https},agent:{...e.agent},headers:{...e.headers},retry:{...t,errorCodes:[...t.errorCodes],methods:[...t.methods],statusCodes:[...t.statusCodes]},timeout:{...e.timeout},hooks:{init:[...n.init],beforeRequest:[...n.beforeRequest],beforeError:[...n.beforeError],beforeRedirect:[...n.beforeRedirect],beforeRetry:[...n.beforeRetry],afterResponse:[...n.afterResponse]},searchParams:e.searchParams?new vs.URLSearchParams(e.searchParams):void 0,pagination:{...e.pagination}};return r.url!==void 0&&(r.prefixUrl=""),r},_4=e=>{let{hooks:n,retry:t}=e,r={...e};return ue.object(e.context)&&(r.context={...e.context}),ue.object(e.cacheOptions)&&(r.cacheOptions={...e.cacheOptions}),ue.object(e.https)&&(r.https={...e.https}),ue.object(e.cacheOptions)&&(r.cacheOptions={...r.cacheOptions}),ue.object(e.agent)&&(r.agent={...e.agent}),ue.object(e.headers)&&(r.headers={...e.headers}),ue.object(t)&&(r.retry={...t},ue.array(t.errorCodes)&&(r.retry.errorCodes=[...t.errorCodes]),ue.array(t.methods)&&(r.retry.methods=[...t.methods]),ue.array(t.statusCodes)&&(r.retry.statusCodes=[...t.statusCodes])),ue.object(e.timeout)&&(r.timeout={...e.timeout}),ue.object(n)&&(r.hooks={...n},ue.array(n.init)&&(r.hooks.init=[...n.init]),ue.array(n.beforeRequest)&&(r.hooks.beforeRequest=[...n.beforeRequest]),ue.array(n.beforeError)&&(r.hooks.beforeError=[...n.beforeError]),ue.array(n.beforeRedirect)&&(r.hooks.beforeRedirect=[...n.beforeRedirect]),ue.array(n.beforeRetry)&&(r.hooks.beforeRetry=[...n.beforeRetry]),ue.array(n.afterResponse)&&(r.hooks.afterResponse=[...n.afterResponse])),ue.object(e.pagination)&&(r.pagination={...e.pagination}),r},w4=e=>{let n=[e.timeout.socket,e.timeout.connect,e.timeout.lookup,e.timeout.request,e.timeout.secureConnect].filter(t=>typeof t=="number");if(n.length>0)return Math.min(...n)},Hg=(e,n,t)=>{let r=e.hooks?.init;if(r)for(let a of r)a(n,t)},ia=class{constructor(e,n,t){if(Object.defineProperty(this,"_unixOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_internals",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_merging",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_init",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Ie.any([ue.string,ue.urlInstance,ue.object,ue.undefined],e),Ie.any([ue.object,ue.undefined],n),Ie.any([ue.object,ue.undefined],t),e instanceof ia||n instanceof ia)throw new TypeError("The defaults must be passed as the third argument");this._internals=b4(t?._internals??t??v4),this._init=[...t?._init??[]],this._merging=!1,this._unixOptions=void 0;try{if(ue.plainObject(e))try{this.merge(e),this.merge(n)}finally{this.url=e.url}else try{this.merge(n)}finally{if(n?.url!==void 0)if(e===void 0)this.url=n.url;else throw new TypeError("The `url` option is mutually exclusive with the `input` argument");else e!==void 0&&(this.url=e)}}catch(r){throw r.options=this,r}}merge(e){if(e){if(e instanceof ia){for(let n of e._init)this.merge(n);return}e=_4(e),Hg(this,e,this),Hg(e,e,this),this._merging=!0,"isStream"in e&&(this.isStream=e.isStream);try{let n=!1;for(let t in e)if(!(t==="mutableDefaults"||t==="handlers")&&t!=="url"){if(!(t in this))throw new Error(`Unexpected option: ${t}`);this[t]=e[t],n=!0}n&&this._init.push(e)}finally{this._merging=!1}}}get request(){return this._internals.request}set request(e){Ie.any([ue.function_,ue.undefined],e),this._internals.request=e}get agent(){return this._internals.agent}set agent(e){Ie.plainObject(e);for(let n in e){if(!(n in this._internals.agent))throw new TypeError(`Unexpected agent option: ${n}`);Ie.any([ue.object,ue.undefined],e[n])}this._merging?Object.assign(this._internals.agent,e):this._internals.agent={...e}}get h2session(){return this._internals.h2session}set h2session(e){this._internals.h2session=e}get decompress(){return this._internals.decompress}set decompress(e){Ie.boolean(e),this._internals.decompress=e}get timeout(){return this._internals.timeout}set timeout(e){Ie.plainObject(e);for(let n in e){if(!(n in this._internals.timeout))throw new Error(`Unexpected timeout option: ${n}`);Ie.any([ue.number,ue.undefined],e[n])}this._merging?Object.assign(this._internals.timeout,e):this._internals.timeout={...e}}get prefixUrl(){return this._internals.prefixUrl}set prefixUrl(e){if(Ie.any([ue.string,ue.urlInstance],e),e===""){this._internals.prefixUrl="";return}if(e=e.toString(),e.endsWith("/")||(e+="/"),this._internals.prefixUrl&&this._internals.url){let{href:n}=this._internals.url;this._internals.url.href=e+n.slice(this._internals.prefixUrl.length)}this._internals.prefixUrl=e}get body(){return this._internals.body}set body(e){Ie.any([ue.string,ue.buffer,ue.nodeStream,ue.generator,ue.asyncGenerator,up,ue.undefined],e),ue.nodeStream(e)&&Ie.truthy(e.readable),e!==void 0&&(Ie.undefined(this._internals.form),Ie.undefined(this._internals.json)),this._internals.body=e}get form(){return this._internals.form}set form(e){Ie.any([ue.plainObject,ue.undefined],e),e!==void 0&&(Ie.undefined(this._internals.body),Ie.undefined(this._internals.json)),this._internals.form=e}get json(){return this._internals.json}set json(e){e!==void 0&&(Ie.undefined(this._internals.body),Ie.undefined(this._internals.form)),this._internals.json=e}get url(){return this._internals.url}set url(e){if(Ie.any([ue.string,ue.urlInstance,ue.undefined],e),e===void 0){this._internals.url=void 0;return}if(ue.string(e)&&e.startsWith("/"))throw new Error("`url` must not start with a slash");let n=`${this.prefixUrl}${e.toString()}`,t=new vs.URL(n);if(this._internals.url=t,t.protocol==="unix:"&&(t.href=`http://unix${t.pathname}${t.search}`),t.protocol!=="http:"&&t.protocol!=="https:"){let r=new Error(`Unsupported protocol: ${t.protocol}`);throw r.code="ERR_UNSUPPORTED_PROTOCOL",r}if(this._internals.username&&(t.username=this._internals.username,this._internals.username=""),this._internals.password&&(t.password=this._internals.password,this._internals.password=""),this._internals.searchParams&&(t.search=this._internals.searchParams.toString(),this._internals.searchParams=void 0),t.hostname==="unix"){if(!this._internals.enableUnixSockets)throw new Error("Using UNIX domain sockets but option `enableUnixSockets` is not enabled");let r=/(?<socketPath>.+?):(?<path>.+)/.exec(`${t.pathname}${t.search}`);if(r?.groups){let{socketPath:a,path:u}=r.groups;this._unixOptions={socketPath:a,path:u,host:""}}else this._unixOptions=void 0;return}this._unixOptions=void 0}get cookieJar(){return this._internals.cookieJar}set cookieJar(e){if(Ie.any([ue.object,ue.undefined],e),e===void 0){this._internals.cookieJar=void 0;return}let{setCookie:n,getCookieString:t}=e;Ie.function_(n),Ie.function_(t),n.length===4&&t.length===0?(n=(0,Jf.promisify)(n.bind(e)),t=(0,Jf.promisify)(t.bind(e)),this._internals.cookieJar={setCookie:n,getCookieString:t}):this._internals.cookieJar=e}get signal(){return this._internals.signal}set signal(e){Ie.object(e),this._internals.signal=e}get ignoreInvalidCookies(){return this._internals.ignoreInvalidCookies}set ignoreInvalidCookies(e){Ie.boolean(e),this._internals.ignoreInvalidCookies=e}get searchParams(){return this._internals.url?this._internals.url.searchParams:(this._internals.searchParams===void 0&&(this._internals.searchParams=new vs.URLSearchParams),this._internals.searchParams)}set searchParams(e){Ie.any([ue.string,ue.object,ue.undefined],e);let n=this._internals.url;if(e===void 0){this._internals.searchParams=void 0,n&&(n.search="");return}let t=this.searchParams,r;if(ue.string(e))r=new vs.URLSearchParams(e);else if(e instanceof vs.URLSearchParams)r=e;else{y4(e),r=new vs.URLSearchParams;for(let a in e){let u=e[a];u===null?r.append(a,""):u===void 0?t.delete(a):r.append(a,u)}}if(this._merging){for(let a of r.keys())t.delete(a);for(let[a,u]of r)t.append(a,u)}else n?n.search=t.toString():this._internals.searchParams=t}get searchParameters(){throw new Error("The `searchParameters` option does not exist. Use `searchParams` instead.")}set searchParameters(e){throw new Error("The `searchParameters` option does not exist. Use `searchParams` instead.")}get dnsLookup(){return this._internals.dnsLookup}set dnsLookup(e){Ie.any([ue.function_,ue.undefined],e),this._internals.dnsLookup=e}get dnsCache(){return this._internals.dnsCache}set dnsCache(e){Ie.any([ue.object,ue.boolean,ue.undefined],e),e===!0?this._internals.dnsCache=m4():e===!1?this._internals.dnsCache=void 0:this._internals.dnsCache=e}get context(){return this._internals.context}set context(e){Ie.object(e),this._merging?Object.assign(this._internals.context,e):this._internals.context={...e}}get hooks(){return this._internals.hooks}set hooks(e){Ie.object(e);for(let n in e){if(!(n in this._internals.hooks))throw new Error(`Unexpected hook event: ${n}`);let t=n,r=e[t];if(Ie.any([ue.array,ue.undefined],r),r)for(let a of r)Ie.function_(a);if(this._merging)r&&this._internals.hooks[t].push(...r);else{if(!r)throw new Error(`Missing hook event: ${n}`);this._internals.hooks[n]=[...r]}}}get followRedirect(){return this._internals.followRedirect}set followRedirect(e){Ie.boolean(e),this._internals.followRedirect=e}get followRedirects(){throw new TypeError("The `followRedirects` option does not exist. Use `followRedirect` instead.")}set followRedirects(e){throw new TypeError("The `followRedirects` option does not exist. Use `followRedirect` instead.")}get maxRedirects(){return this._internals.maxRedirects}set maxRedirects(e){Ie.number(e),this._internals.maxRedirects=e}get cache(){return this._internals.cache}set cache(e){Ie.any([ue.object,ue.string,ue.boolean,ue.undefined],e),e===!0?this._internals.cache=g4:e===!1?this._internals.cache=void 0:this._internals.cache=e}get throwHttpErrors(){return this._internals.throwHttpErrors}set throwHttpErrors(e){Ie.boolean(e),this._internals.throwHttpErrors=e}get username(){let e=this._internals.url,n=e?e.username:this._internals.username;return decodeURIComponent(n)}set username(e){Ie.string(e);let n=this._internals.url,t=encodeURIComponent(e);n?n.username=t:this._internals.username=t}get password(){let e=this._internals.url,n=e?e.password:this._internals.password;return decodeURIComponent(n)}set password(e){Ie.string(e);let n=this._internals.url,t=encodeURIComponent(e);n?n.password=t:this._internals.password=t}get http2(){return this._internals.http2}set http2(e){Ie.boolean(e),this._internals.http2=e}get allowGetBody(){return this._internals.allowGetBody}set allowGetBody(e){Ie.boolean(e),this._internals.allowGetBody=e}get headers(){return this._internals.headers}set headers(e){Ie.plainObject(e),this._merging?Object.assign(this._internals.headers,Cd(e)):this._internals.headers=Cd(e)}get methodRewriting(){return this._internals.methodRewriting}set methodRewriting(e){Ie.boolean(e),this._internals.methodRewriting=e}get dnsLookupIpVersion(){return this._internals.dnsLookupIpVersion}set dnsLookupIpVersion(e){if(e!==void 0&&e!==4&&e!==6)throw new TypeError(`Invalid DNS lookup IP version: ${e}`);this._internals.dnsLookupIpVersion=e}get parseJson(){return this._internals.parseJson}set parseJson(e){Ie.function_(e),this._internals.parseJson=e}get stringifyJson(){return this._internals.stringifyJson}set stringifyJson(e){Ie.function_(e),this._internals.stringifyJson=e}get retry(){return this._internals.retry}set retry(e){if(Ie.plainObject(e),Ie.any([ue.function_,ue.undefined],e.calculateDelay),Ie.any([ue.number,ue.undefined],e.maxRetryAfter),Ie.any([ue.number,ue.undefined],e.limit),Ie.any([ue.array,ue.undefined],e.methods),Ie.any([ue.array,ue.undefined],e.statusCodes),Ie.any([ue.array,ue.undefined],e.errorCodes),Ie.any([ue.number,ue.undefined],e.noise),e.noise&&Math.abs(e.noise)>100)throw new Error(`The maximum acceptable retry noise is +/- 100ms, got ${e.noise}`);for(let t in e)if(!(t in this._internals.retry))throw new Error(`Unexpected retry option: ${t}`);this._merging?Object.assign(this._internals.retry,e):this._internals.retry={...e};let{retry:n}=this._internals;n.methods=[...new Set(n.methods.map(t=>t.toUpperCase()))],n.statusCodes=[...new Set(n.statusCodes)],n.errorCodes=[...new Set(n.errorCodes)]}get localAddress(){return this._internals.localAddress}set localAddress(e){Ie.any([ue.string,ue.undefined],e),this._internals.localAddress=e}get method(){return this._internals.method}set method(e){Ie.string(e),this._internals.method=e.toUpperCase()}get createConnection(){return this._internals.createConnection}set createConnection(e){Ie.any([ue.function_,ue.undefined],e),this._internals.createConnection=e}get cacheOptions(){return this._internals.cacheOptions}set cacheOptions(e){Ie.plainObject(e),Ie.any([ue.boolean,ue.undefined],e.shared),Ie.any([ue.number,ue.undefined],e.cacheHeuristic),Ie.any([ue.number,ue.undefined],e.immutableMinTimeToLive),Ie.any([ue.boolean,ue.undefined],e.ignoreCargoCult);for(let n in e)if(!(n in this._internals.cacheOptions))throw new Error(`Cache option \`${n}\` does not exist`);this._merging?Object.assign(this._internals.cacheOptions,e):this._internals.cacheOptions={...e}}get https(){return this._internals.https}set https(e){Ie.plainObject(e),Ie.any([ue.boolean,ue.undefined],e.rejectUnauthorized),Ie.any([ue.function_,ue.undefined],e.checkServerIdentity),Ie.any([ue.string,ue.object,ue.array,ue.undefined],e.certificateAuthority),Ie.any([ue.string,ue.object,ue.array,ue.undefined],e.key),Ie.any([ue.string,ue.object,ue.array,ue.undefined],e.certificate),Ie.any([ue.string,ue.undefined],e.passphrase),Ie.any([ue.string,ue.buffer,ue.array,ue.undefined],e.pfx),Ie.any([ue.array,ue.undefined],e.alpnProtocols),Ie.any([ue.string,ue.undefined],e.ciphers),Ie.any([ue.string,ue.buffer,ue.undefined],e.dhparam),Ie.any([ue.string,ue.undefined],e.signatureAlgorithms),Ie.any([ue.string,ue.undefined],e.minVersion),Ie.any([ue.string,ue.undefined],e.maxVersion),Ie.any([ue.boolean,ue.undefined],e.honorCipherOrder),Ie.any([ue.number,ue.undefined],e.tlsSessionLifetime),Ie.any([ue.string,ue.undefined],e.ecdhCurve),Ie.any([ue.string,ue.buffer,ue.array,ue.undefined],e.certificateRevocationLists);for(let n in e)if(!(n in this._internals.https))throw new Error(`HTTPS option \`${n}\` does not exist`);this._merging?Object.assign(this._internals.https,e):this._internals.https={...e}}get encoding(){return this._internals.encoding}set encoding(e){if(e===null)throw new TypeError("To get a Buffer, set `options.responseType` to `buffer` instead");Ie.any([ue.string,ue.undefined],e),this._internals.encoding=e}get resolveBodyOnly(){return this._internals.resolveBodyOnly}set resolveBodyOnly(e){Ie.boolean(e),this._internals.resolveBodyOnly=e}get isStream(){return this._internals.isStream}set isStream(e){Ie.boolean(e),this._internals.isStream=e}get responseType(){return this._internals.responseType}set responseType(e){if(e===void 0){this._internals.responseType="text";return}if(e!=="text"&&e!=="buffer"&&e!=="json")throw new Error(`Invalid \`responseType\` option: ${e}`);this._internals.responseType=e}get pagination(){return this._internals.pagination}set pagination(e){Ie.object(e),this._merging?Object.assign(this._internals.pagination,e):this._internals.pagination=e}get auth(){throw new Error("Parameter `auth` is deprecated. Use `username` / `password` instead.")}set auth(e){throw new Error("Parameter `auth` is deprecated. Use `username` / `password` instead.")}get setHost(){return this._internals.setHost}set setHost(e){Ie.boolean(e),this._internals.setHost=e}get maxHeaderSize(){return this._internals.maxHeaderSize}set maxHeaderSize(e){Ie.any([ue.number,ue.undefined],e),this._internals.maxHeaderSize=e}get enableUnixSockets(){return this._internals.enableUnixSockets}set enableUnixSockets(e){Ie.boolean(e),this._internals.enableUnixSockets=e}toJSON(){return{...this._internals}}[Symbol.for("nodejs.util.inspect.custom")](e,n){return(0,Jf.inspect)(this._internals,n)}createNativeRequestOptions(){let e=this._internals,n=e.url,t;n.protocol==="https:"?t=e.http2?e.agent:e.agent.https:t=e.agent.http;let{https:r}=e,{pfx:a}=r;return ue.array(a)&&ue.plainObject(a[0])&&(a=a.map(u=>({buf:u.buffer,passphrase:u.passphrase}))),{...e.cacheOptions,...this._unixOptions,ALPNProtocols:r.alpnProtocols,ca:r.certificateAuthority,cert:r.certificate,key:r.key,passphrase:r.passphrase,pfx:r.pfx,rejectUnauthorized:r.rejectUnauthorized,checkServerIdentity:r.checkServerIdentity??t4.checkServerIdentity,ciphers:r.ciphers,honorCipherOrder:r.honorCipherOrder,minVersion:r.minVersion,maxVersion:r.maxVersion,sigalgs:r.signatureAlgorithms,sessionTimeout:r.tlsSessionLifetime,dhparam:r.dhparam,ecdhCurve:r.ecdhCurve,crl:r.certificateRevocationLists,lookup:e.dnsLookup??e.dnsCache?.lookup,family:e.dnsLookupIpVersion,agent:t,setHost:e.setHost,method:e.method,maxHeaderSize:e.maxHeaderSize,localAddress:e.localAddress,headers:e.headers,createConnection:e.createConnection,timeout:e.http2?w4(e):void 0,h2session:e.h2session}}getRequestFunction(){let e=this._internals.url,{request:n}=this._internals;return!n&&e?this.getFallbackRequestFunction():n}getFallbackRequestFunction(){let e=this._internals.url;if(e){if(e.protocol==="https:"){if(this._internals.http2){if(Kg<15||Kg===15&&p4<10){let n=new Error("To use the `http2` option, install Node.js 15.10.0 or above");throw n.code="EUNSUPPORTED",n}return f4.default.auto}return n4.default.request}return r4.default.request}}freeze(){let e=this._internals;Object.freeze(e),Object.freeze(e.hooks),Object.freeze(e.hooks.afterResponse),Object.freeze(e.hooks.beforeError),Object.freeze(e.hooks.beforeRedirect),Object.freeze(e.hooks.beforeRequest),Object.freeze(e.hooks.beforeRetry),Object.freeze(e.hooks.init),Object.freeze(e.https),Object.freeze(e.cacheOptions),Object.freeze(e.agent),Object.freeze(e.headers),Object.freeze(e.timeout),Object.freeze(e.retry),Object.freeze(e.retry.errorCodes),Object.freeze(e.retry.methods),Object.freeze(e.retry.statusCodes)}},Tc=e=>{let{statusCode:n}=e,t=e.request.options.followRedirect?299:399;return n>=200&&n<=t||n===304},Wg=class extends Sr{constructor(e,n){let{options:t}=n.request;super(`${e.message} in "${t.url.toString()}"`,e,n.request),this.name="ParseError",this.code="ERR_BODY_PARSE_FAILURE"}},Gg=(e,n,t,r)=>{let{rawBody:a}=e;try{if(n==="text")return a.toString(r);if(n==="json")return a.length===0?"":t(a.toString(r));if(n==="buffer")return a}catch(u){throw new Wg(u,e)}throw new Wg({message:`Unknown body type '${n}'`,name:"Error"},e)};function S4(e){return e.writable&&!e.writableEnded}var E4=S4;function Qg(e){return e.protocol==="unix:"||e.hostname==="unix"}var C4=ue.string(pv.default.versions.brotli),T4=new Set(["GET","HEAD"]),nd=new Z6,A4=new Set([300,301,302,303,304,307,308]),I4=["socket","connect","continue","information","upgrade"],Jl=()=>{},lp=class extends l6.Duplex{constructor(e,n,t){super({autoDestroy:!1,highWaterMark:0}),Object.defineProperty(this,"constructor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_noPipe",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"response",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"requestUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"redirectUrls",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"retryCount",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_stopRetry",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downloadedSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_uploadedSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_stopReading",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_pipedServerResponses",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_responseSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_bodySize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_unproxyEvents",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isFromCache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_cannotHaveBody",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_triggerRead",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_cancelTimeouts",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_removeListeners",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_nativeResponse",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_flushed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_aborted",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_requestInitialized",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._downloadedSize=0,this._uploadedSize=0,this._stopReading=!1,this._pipedServerResponses=new Set,this._cannotHaveBody=!1,this._unproxyEvents=Jl,this._triggerRead=!1,this._cancelTimeouts=Jl,this._removeListeners=Jl,this._jobs=[],this._flushed=!1,this._requestInitialized=!1,this._aborted=!1,this.redirectUrls=[],this.retryCount=0,this._stopRetry=Jl,this.on("pipe",a=>{a.headers&&Object.assign(this.options.headers,a.headers)}),this.on("newListener",a=>{if(a==="retry"&&this.listenerCount("retry")>0)throw new Error("A retry listener has been attached already.")});try{if(this.options=new ia(e,n,t),!this.options.url){if(this.options.prefixUrl==="")throw new TypeError("Missing `url` property");this.options.url=""}this.requestUrl=this.options.url}catch(a){let{options:u}=a;u&&(this.options=u),this.flush=async()=>{this.flush=async()=>{},this.destroy(a)};return}let{body:r}=this.options;if(ue.nodeStream(r)&&r.once("error",a=>{this._flushed?this._beforeError(new Rg(a,this)):this.flush=async()=>{this.flush=async()=>{},this._beforeError(new Rg(a,this))}}),this.options.signal){let a=()=>{this.destroy(new u6(this))};this.options.signal.aborted?a():(this.options.signal.addEventListener("abort",a),this._removeListeners=()=>{this.options.signal.removeEventListener("abort",a)})}}async flush(){if(!this._flushed){this._flushed=!0;try{if(await this._finalizeBody(),this.destroyed)return;if(await this._makeRequest(),this.destroyed){this._request?.destroy();return}for(let e of this._jobs)e();this._jobs.length=0,this._requestInitialized=!0}catch(e){this._beforeError(e)}}}_beforeError(e){if(this._stopReading)return;let{response:n,options:t}=this,r=this.retryCount+(e.name==="RetryError"?0:1);this._stopReading=!0,e instanceof Sr||(e=new Sr(e.message,e,this));let a=e;(async()=>{if(n?.readable&&!n.rawBody&&!this._request?.socket?.destroyed&&(n.setEncoding(this.readableEncoding),await this._setRawBody(n)&&(n.body=n.rawBody.toString())),this.listenerCount("retry")!==0){let u;try{let c;n&&"retry-after"in n.headers&&(c=Number(n.headers["retry-after"]),Number.isNaN(c)?(c=Date.parse(n.headers["retry-after"])-Date.now(),c<=0&&(c=1)):c*=1e3);let h=t.retry;u=await h.calculateDelay({attemptCount:r,retryOptions:h,error:a,retryAfter:c,computedValue:J6({attemptCount:r,retryOptions:h,error:a,retryAfter:c,computedValue:h.maxRetryAfter??t.timeout.request??Number.POSITIVE_INFINITY})})}catch(c){this._error(new Sr(c.message,c,this));return}if(u){if(await new Promise(c=>{let h=setTimeout(c,u);this._stopRetry=()=>{clearTimeout(h),c()}}),this.destroyed)return;try{for(let c of this.options.hooks.beforeRetry)await c(a,this.retryCount+1)}catch(c){this._error(new Sr(c.message,e,this));return}if(this.destroyed)return;this.destroy(),this.emit("retry",this.retryCount+1,e,c=>{let h=new lp(t.url,c,t);return h.retryCount=this.retryCount+1,pv.default.nextTick(()=>{h.flush()}),h});return}}this._error(a)})()}_read(){this._triggerRead=!0;let{response:e}=this;if(e&&!this._stopReading){e.readableLength&&(this._triggerRead=!1);let n;for(;(n=e.read())!==null;){this._downloadedSize+=n.length;let t=this.downloadProgress;t.percent<1&&this.emit("downloadProgress",t),this.push(n)}}}_write(e,n,t){let r=()=>{this._writeRequest(e,n,t)};this._requestInitialized?r():this._jobs.push(r)}_final(e){let n=()=>{if(!this._request||this._request.destroyed){e();return}this._request.end(t=>{this._request._writableState?.errored||(t||(this._bodySize=this._uploadedSize,this.emit("uploadProgress",this.uploadProgress),this._request.emit("upload-complete")),e(t))})};this._requestInitialized?n():this._jobs.push(n)}_destroy(e,n){if(this._stopReading=!0,this.flush=async()=>{},this._stopRetry(),this._cancelTimeouts(),this._removeListeners(),this.options){let{body:t}=this.options;ue.nodeStream(t)&&t.destroy()}this._request&&this._request.destroy(),e!==null&&!ue.undefined(e)&&!(e instanceof Sr)&&(e=new Sr(e.message,e,this)),n(e)}pipe(e,n){return e instanceof Gf.ServerResponse&&this._pipedServerResponses.add(e),super.pipe(e,n)}unpipe(e){return e instanceof Gf.ServerResponse&&this._pipedServerResponses.delete(e),super.unpipe(e),this}async _finalizeBody(){let{options:e}=this,{headers:n}=e,t=!ue.undefined(e.form),r=!ue.undefined(e.json),a=!ue.undefined(e.body),u=T4.has(e.method)&&!(e.method==="GET"&&e.allowGetBody);if(this._cannotHaveBody=u,t||r||a){if(u)throw new TypeError(`The \`${e.method}\` method cannot be used with a body`);let c=!ue.string(n["content-type"]);if(a){if(up(e.body)){let l=new M6(e.body);c&&(n["content-type"]=l.headers["Content-Type"]),"Content-Length"in l.headers&&(n["content-length"]=l.headers["Content-Length"]),e.body=l.encode()}gv(e.body)&&c&&(n["content-type"]=`multipart/form-data; boundary=${e.body.getBoundary()}`)}else if(t){c&&(n["content-type"]="application/x-www-form-urlencoded");let{form:l}=e;e.form=void 0,e.body=new Pg.URLSearchParams(l).toString()}else{c&&(n["content-type"]="application/json");let{json:l}=e;e.json=void 0,e.body=e.stringifyJson(l)}let h=await K6(e.body,e.headers);ue.undefined(n["content-length"])&&ue.undefined(n["transfer-encoding"])&&!u&&!ue.undefined(h)&&(n["content-length"]=String(h))}e.responseType==="json"&&!("accept"in e.headers)&&(e.headers.accept="application/json"),this._bodySize=Number(n["content-length"])||void 0}async _onResponseBase(e){if(this.isAborted)return;let{options:n}=this,{url:t}=n;this._nativeResponse=e,n.decompress&&(e=(0,O6.default)(e));let r=e.statusCode,a=e;a.statusMessage=a.statusMessage??Gf.default.STATUS_CODES[r],a.url=n.url.toString(),a.requestUrl=this.requestUrl,a.redirectUrls=this.redirectUrls,a.request=this,a.isFromCache=this._nativeResponse.fromCache??!1,a.ip=this.ip,a.retryCount=this.retryCount,a.ok=Tc(a),this._isFromCache=a.isFromCache,this._responseSize=Number(e.headers["content-length"])||void 0,this.response=a,e.once("end",()=>{this._responseSize=this._downloadedSize,this.emit("downloadProgress",this.downloadProgress)}),e.once("error",c=>{this._aborted=!0,e.destroy(),this._beforeError(new kg(c,this))}),e.once("aborted",()=>{this._aborted=!0,this._beforeError(new kg({name:"Error",message:"The server aborted pending request",code:"ECONNRESET"},this))}),this.emit("downloadProgress",this.downloadProgress);let u=e.headers["set-cookie"];if(ue.object(n.cookieJar)&&u){let c=u.map(async h=>n.cookieJar.setCookie(h,t.toString()));n.ignoreInvalidCookies&&(c=c.map(async h=>{try{await h}catch{}}));try{await Promise.all(c)}catch(h){this._beforeError(h);return}}if(!this.isAborted){if(n.followRedirect&&e.headers.location&&A4.has(r)){if(e.resume(),this._cancelTimeouts(),this._unproxyEvents(),this.redirectUrls.length>=n.maxRedirects){this._beforeError(new i6(this));return}this._request=void 0;let c=new ia(void 0,void 0,this.options),h=r===303&&c.method!=="GET"&&c.method!=="HEAD",l=r!==307&&r!==308,s=c.methodRewriting&&l;(h||s)&&(c.method="GET",c.body=void 0,c.json=void 0,c.form=void 0,delete c.headers["content-length"]);try{let d=Wf.Buffer.from(e.headers.location,"binary").toString(),f=new Pg.URL(d,t);if(!Qg(t)&&Qg(f)){this._beforeError(new Sr("Cannot redirect to UNIX socket",{},this));return}f.hostname!==t.hostname||f.port!==t.port?("host"in c.headers&&delete c.headers.host,"cookie"in c.headers&&delete c.headers.cookie,"authorization"in c.headers&&delete c.headers.authorization,(c.username||c.password)&&(c.username="",c.password="")):(f.username=c.username,f.password=c.password),this.redirectUrls.push(f),c.prefixUrl="",c.url=f;for(let g of c.hooks.beforeRedirect)await g(c,a);this.emit("redirect",c,a),this.options=c,await this._makeRequest()}catch(d){this._beforeError(d);return}return}if(n.isStream&&n.throwHttpErrors&&!Tc(a)){this._beforeError(new Cc(a));return}if(e.on("readable",()=>{this._triggerRead&&this._read()}),this.on("resume",()=>{e.resume()}),this.on("pause",()=>{e.pause()}),e.once("end",()=>{this.push(null)}),this._noPipe){await this._setRawBody()&&this.emit("response",e);return}this.emit("response",e);for(let c of this._pipedServerResponses)if(!c.headersSent){for(let h in e.headers){let l=n.decompress?h!=="content-encoding":!0,s=e.headers[h];l&&c.setHeader(h,s)}c.statusCode=r}}}async _setRawBody(e=this){if(e.readableEnded)return!1;try{let n=await(0,x6.buffer)(e);if(!this.isAborted)return this.response.rawBody=n,!0}catch{}return!1}async _onResponse(e){try{await this._onResponseBase(e)}catch(n){this._beforeError(n)}}_onRequest(e){let{options:n}=this,{timeout:t,url:r}=n;p6(e),this.options.http2&&e.setTimeout(0),this._cancelTimeouts=Q6(e,t,r);let a=n.cache?"cacheableResponse":"response";e.once(a,u=>{this._onResponse(u)}),e.once("error",u=>{this._aborted=!0,e.destroy(),u=u instanceof vv?new s6(u,this.timings,this):new Sr(u.message,u,this),this._beforeError(u)}),this._unproxyEvents=mv(e,this,I4),this._request=e,this.emit("uploadProgress",this.uploadProgress),this._sendBody(),this.emit("request",e)}async _asyncWrite(e){return new Promise((n,t)=>{super.write(e,r=>{if(r){t(r);return}n()})})}_sendBody(){let{body:e}=this.options,n=this.redirectUrls.length===0?this:this._request??this;ue.nodeStream(e)?e.pipe(n):ue.generator(e)||ue.asyncGenerator(e)?(async()=>{try{for await(let t of e)await this._asyncWrite(t);super.end()}catch(t){this._beforeError(t)}})():ue.undefined(e)?(this._cannotHaveBody||this._noPipe)&&n.end():(this._writeRequest(e,void 0,()=>{}),n.end())}_prepareCache(e){if(!nd.has(e)){let n=new N6((t,r)=>{let a=t._request(t,r);return ue.promise(a)&&(a.once=(u,c)=>{if(u==="error")(async()=>{try{await a}catch(h){c(h)}})();else if(u==="abort")(async()=>{try{(await a).once("abort",c)}catch{}})();else throw new Error(`Unknown HTTP2 promise event: ${u}`);return a}),a},e);nd.set(e,n.request())}}async _createCacheableRequest(e,n){return new Promise((t,r)=>{Object.assign(n,Y6(e));let a,u=nd.get(n.cache)(n,async c=>{if(c._readableState.autoDestroy=!1,a){let h=()=>{c.req&&(c.complete=c.req.res.complete)};c.prependOnceListener("end",h),h(),(await a).emit("cacheableResponse",c)}t(c)});u.once("error",r),u.once("request",async c=>{a=c,t(a)})})}async _makeRequest(){let{options:e}=this,{headers:n,username:t,password:r}=e,a=e.cookieJar;for(let l in n)if(ue.undefined(n[l]))delete n[l];else if(ue.null_(n[l]))throw new TypeError(`Use \`undefined\` instead of \`null\` to delete the \`${l}\` header`);if(e.decompress&&ue.undefined(n["accept-encoding"])&&(n["accept-encoding"]=C4?"gzip, deflate, br":"gzip, deflate"),t||r){let l=Wf.Buffer.from(`${t}:${r}`).toString("base64");n.authorization=`Basic ${l}`}if(a){let l=await a.getCookieString(e.url.toString());ue.nonEmptyString(l)&&(n.cookie=l)}e.prefixUrl="";let u;for(let l of e.hooks.beforeRequest){let s=await l(e);if(!ue.undefined(s)){u=()=>s;break}}u||(u=e.getRequestFunction());let c=e.url;this._requestOptions=e.createNativeRequestOptions(),e.cache&&(this._requestOptions._request=u,this._requestOptions.cache=e.cache,this._requestOptions.body=e.body,this._prepareCache(e.cache));let h=e.cache?this._createCacheableRequest:u;try{let l=h(c,this._requestOptions);ue.promise(l)&&(l=await l),ue.undefined(l)&&(l=e.getFallbackRequestFunction()(c,this._requestOptions),ue.promise(l)&&(l=await l)),E4(l)?this._onRequest(l):this.writable?(this.once("finish",()=>{this._onResponse(l)}),this._sendBody()):this._onResponse(l)}catch(l){throw l instanceof wu?new a6(l,this):l}}async _error(e){try{if(!(e instanceof Cc&&!this.options.throwHttpErrors))for(let n of this.options.hooks.beforeError)e=await n(e)}catch(n){e=new Sr(n.message,n,this)}this.destroy(e)}_writeRequest(e,n,t){!this._request||this._request.destroyed||this._request.write(e,n,r=>{if(!r&&!this._request.destroyed){this._uploadedSize+=Wf.Buffer.byteLength(e,n);let a=this.uploadProgress;a.percent<1&&this.emit("uploadProgress",a)}t(r)})}get ip(){return this.socket?.remoteAddress}get isAborted(){return this._aborted}get socket(){return this._request?.socket??void 0}get downloadProgress(){let e;return this._responseSize?e=this._downloadedSize/this._responseSize:this._responseSize===this._downloadedSize?e=1:e=0,{percent:e,transferred:this._downloadedSize,total:this._responseSize}}get uploadProgress(){let e;return this._bodySize?e=this._uploadedSize/this._bodySize:this._bodySize===this._uploadedSize?e=1:e=0,{percent:e,transferred:this._uploadedSize,total:this._bodySize}}get timings(){return this._request?.timings}get isFromCache(){return this._isFromCache}get reusedSocket(){return this._request?.reusedSocket}},R4=class extends Sr{constructor(e){super("Promise was canceled",{},e),this.name="CancelError",this.code="ERR_CANCELED"}get isCanceled(){return!0}},k4=["request","response","redirect","uploadProgress","downloadProgress"];function Yg(e){let n,t,r,a=new t6.EventEmitter,u=new op((h,l,s)=>{s(()=>{n.destroy()}),s.shouldReject=!1,s(()=>{l(new R4(n))});let d=f=>{s(()=>{});let g=e??new lp(void 0,void 0,r);g.retryCount=f,g._noPipe=!0,n=g,g.once("response",async _=>{let T=(_.headers["content-encoding"]??"").toLowerCase(),B=T==="gzip"||T==="deflate"||T==="br",{options:P}=g;if(B&&!P.decompress)_.body=_.rawBody;else try{_.body=Gg(_,P.responseType,P.parseJson,P.encoding)}catch(p){if(_.body=_.rawBody.toString(),Tc(_)){g._beforeError(p);return}}try{let p=P.hooks.afterResponse;for(let[A,S]of p.entries())if(_=await S(_,async N=>{throw P.merge(N),P.prefixUrl="",N.url&&(P.url=N.url),P.hooks.afterResponse=P.hooks.afterResponse.slice(0,A),new o6(g)}),!(ue.object(_)&&ue.number(_.statusCode)&&!ue.nullOrUndefined(_.body)))throw new TypeError("The `afterResponse` hook returned an invalid value")}catch(p){g._beforeError(p);return}if(t=_,!Tc(_)){g._beforeError(new Cc(_));return}g.destroy(),h(g.options.resolveBodyOnly?_.body:_)});let I=_=>{if(u.isCanceled)return;let{options:T}=g;if(_ instanceof Cc&&!T.throwHttpErrors){let{response:B}=_;g.destroy(),h(g.options.resolveBodyOnly?B.body:B);return}l(_)};g.once("error",I);let C=g.options?.body;g.once("retry",(_,T)=>{e=void 0;let B=g.options.body;if(C===B&&ue.nodeStream(B)){T.message="Cannot retry with consumed body stream",I(T);return}r=g.options,d(_)}),mv(g,a,k4),ue.undefined(e)&&g.flush()};d(0)});u.on=(h,l)=>(a.on(h,l),u),u.off=(h,l)=>(a.off(h,l),u);let c=h=>{let l=(async()=>{await u;let{options:s}=t.request;return Gg(t,h,s.parseJson,s.encoding)})();return Object.defineProperties(l,Object.getOwnPropertyDescriptors(u)),l};return u.json=()=>{if(n.options){let{headers:h}=n.options;!n.writableFinished&&!("accept"in h)&&(h.accept="application/json")}return c("json")},u.buffer=()=>c("buffer"),u.text=()=>c("text"),u}var P4=async e=>new Promise(n=>{setTimeout(n,e)}),B4=e=>ue.function_(e),N4=["get","post","put","patch","head","delete"],bv=e=>{e={options:new ia(void 0,void 0,e.options),handlers:[...e.handlers],mutableDefaults:e.mutableDefaults},Object.defineProperty(e,"mutableDefaults",{enumerable:!0,configurable:!1,writable:!1});let n=(r,a,u=e.options)=>{let c=new lp(r,a,u),h,l=f=>(c.options=f,c._noPipe=!f.isStream,c.flush(),f.isStream?c:(h||(h=Yg(c)),h)),s=0,d=f=>{let g=(e.handlers[s++]??l)(f,d);if(ue.promise(g)&&!c.options.isStream&&(h||(h=Yg(c)),g!==h)){let I=Object.getOwnPropertyDescriptors(h);for(let C in I)C in g&&delete I[C];Object.defineProperties(g,I),g.cancel=h.cancel}return g};return d(c.options)};n.extend=(...r)=>{let a=new ia(void 0,void 0,e.options),u=[...e.handlers],c;for(let h of r)B4(h)?(a.merge(h.defaults.options),u.push(...h.defaults.handlers),c=h.defaults.mutableDefaults):(a.merge(h),h.handlers&&u.push(...h.handlers),c=h.mutableDefaults);return bv({options:a,handlers:u,mutableDefaults:!!c})};let t=async function*(r,a){let u=new ia(r,a,e.options);u.resolveBodyOnly=!1;let{pagination:c}=u;Ie.function_(c.transform),Ie.function_(c.shouldContinue),Ie.function_(c.filter),Ie.function_(c.paginate),Ie.number(c.countLimit),Ie.number(c.requestLimit),Ie.number(c.backoff);let h=[],{countLimit:l}=c,s=0;for(;s<c.requestLimit;){s!==0&&await P4(c.backoff);let d=await n(void 0,void 0,u),f=await c.transform(d),g=[];Ie.array(f);for(let C of f)if(c.filter({item:C,currentItems:g,allItems:h})&&(!c.shouldContinue({item:C,currentItems:g,allItems:h})||(yield C,c.stackAllItems&&h.push(C),g.push(C),--l<=0)))return;let I=c.paginate({response:d,currentItems:g,allItems:h});if(I===!1)return;I===d.request.options?u=d.request.options:(u.merge(I),Ie.any([ue.urlInstance,ue.undefined],I.url),I.url!==void 0&&(u.prefixUrl="",u.url=I.url)),s++}};n.paginate=t,n.paginate.all=async(r,a)=>{let u=[];for await(let c of t(r,a))u.push(c);return u},n.paginate.each=t,n.stream=(r,a)=>n(r,{...a,isStream:!0});for(let r of N4)n[r]=(a,u)=>n(a,{...u,method:r}),n.stream[r]=(a,u)=>n(a,{...u,method:r,isStream:!0});return e.mutableDefaults||(Object.freeze(e.handlers),e.options.freeze()),Object.defineProperty(n,"defaults",{value:e,writable:!1,configurable:!1,enumerable:!0}),n},O4=bv,x4={options:new ia,handlers:[],mutableDefaults:!1},L4=O4(x4),jr=L4,pc="https://www.googleapis.com",U4=`${pc}/oauth2/v4/token`,cp={extId:"No extension ID provided, e.g. https://chrome.google.com/webstore/detail/EXT_ID",clientId:"No client ID provided. To get one: https://github.com/PlasmoHQ/chrome-webstore-api/blob/main/token.md",clientSecret:"No client secret provided. To get one: https://github.com/PlasmoHQ/chrome-webstore-api/blob/main/token.md",refreshToken:"No refresh token provided. To get one: https://github.com/PlasmoHQ/chrome-webstore-api/blob/main/token.md"},D4=Object.keys(cp),j4=class{options={};constructor(e){for(let n of D4){if(!e[n])throw new Error(cp[n]);this.options[n]=e[n]}}get uploadEndpoint(){return`${pc}/upload/chromewebstore/v1.1/items/${this.options.extId}`}getPublishEndpoint(e){return`${pc}/chromewebstore/v1.1/items/${this.options.extId}/publish?publishTarget=${e}`}getInfoEndpoint(e){return`${pc}/chromewebstore/v1.1/items/${this.options.extId}?projection=${e}`}async submit({filePath:e="",target:n="default"}){let t=await this.getAccessToken(),{uploadState:r,itemError:a}=await this.upload({readStream:(0,M3.createReadStream)(e)},t);if(r==="FAILURE"||r==="NOT_FOUND")throw new Error(a.map(({error_detail:u})=>u).join(`
`));if(!this.options.uploadOnly)return this.publish({target:n},t)}async upload({readStream:e=null},n=""){if(!e)throw new Error("Read stream missing");let t=n||await this.getAccessToken();return jr.put(this.uploadEndpoint,{headers:this.getHeaders(t),body:e,throwHttpErrors:!1}).json()}async publish({target:e="default"},n=""){let t=n||await this.getAccessToken();return jr.post(this.getPublishEndpoint(e),{headers:this.getHeaders(t)}).json()}async get({projection:e="DRAFT"},n=""){let t=n||await this.getAccessToken();return jr.get(this.getInfoEndpoint(e),{headers:this.getHeaders(t)}).json()}async getAccessToken(){return(await jr.post(U4,{json:{client_id:this.options.clientId,refresh_token:this.options.refreshToken,grant_type:"refresh_token",client_secret:this.options.clientSecret}}).json()).access_token}getHeaders(e){return{Authorization:`Bearer ${e}`,"x-goog-api-version":"2"}}},V4=require("module"),q4=(0,V4.createRequire)("/"),F4;try{F4=q4("worker_threads").Worker}catch{}var Nn=Uint8Array,fo=Uint16Array,M4=Int32Array,_v=new Nn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),wv=new Nn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),z4=new Nn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Sv=function(e,n){for(var t=new fo(31),r=0;r<31;++r)t[r]=n+=1<<e[r-1];for(var a=new M4(t[30]),r=1;r<30;++r)for(var u=t[r];u<t[r+1];++u)a[u]=u-t[r]<<5|r;return{b:t,r:a}},Ev=Sv(_v,2),Cv=Ev.b,$4=Ev.r;Cv[28]=258,$4[258]=28;var Tv=Sv(wv,0),K4=Tv.b,e8=Tv.r,Td=new fo(32768);for(At=0;At<32768;++At)ea=(At&43690)>>1|(At&21845)<<1,ea=(ea&52428)>>2|(ea&13107)<<2,ea=(ea&61680)>>4|(ea&3855)<<4,Td[At]=((ea&65280)>>8|(ea&255)<<8)>>1;var ea,At,Tu=function(e,n,t){for(var r=e.length,a=0,u=new fo(n);a<r;++a)e[a]&&++u[e[a]-1];var c=new fo(n);for(a=1;a<n;++a)c[a]=c[a-1]+u[a-1]<<1;var h;if(t){h=new fo(1<<n);var l=15-n;for(a=0;a<r;++a)if(e[a])for(var s=a<<4|e[a],d=n-e[a],f=c[e[a]-1]++<<d,g=f|(1<<d)-1;f<=g;++f)h[Td[f]>>l]=s}else for(h=new fo(r),a=0;a<r;++a)e[a]&&(h[a]=Td[c[e[a]-1]++]>>15-e[a]);return h},Vu=new Nn(288);for(At=0;At<144;++At)Vu[At]=8;var At;for(At=144;At<256;++At)Vu[At]=9;var At;for(At=256;At<280;++At)Vu[At]=7;var At;for(At=280;At<288;++At)Vu[At]=8;var At,Av=new Nn(32);for(At=0;At<32;++At)Av[At]=5;var At,H4=Tu(Vu,9,1),W4=Tu(Av,5,1),id=function(e){for(var n=e[0],t=1;t<e.length;++t)e[t]>n&&(n=e[t]);return n},Jn=function(e,n,t){var r=n/8|0;return(e[r]|e[r+1]<<8)>>(n&7)&t},ad=function(e,n){var t=n/8|0;return(e[t]|e[t+1]<<8|e[t+2]<<16)>>(n&7)},G4=function(e){return(e+7)/8|0},hp=function(e,n,t){(n==null||n<0)&&(n=0),(t==null||t>e.length)&&(t=e.length);var r=new Nn(t-n);return r.set(e.subarray(n,t)),r},Q4=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Kn=function(e,n,t){var r=new Error(n||Q4[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,Kn),!t)throw r;return r},Y4=function(e,n,t,r){var a=e.length,u=r?r.length:0;if(!a||n.f&&!n.l)return t||new Nn(0);var c=!t||n.i!=2,h=n.i;t||(t=new Nn(a*3));var l=function(Xe){var x=t.length;if(Xe>x){var Y=new Nn(Math.max(x*2,Xe));Y.set(t),t=Y}},s=n.f||0,d=n.p||0,f=n.b||0,g=n.l,I=n.d,C=n.m,_=n.n,T=a*8;do{if(!g){s=Jn(e,d,1);var B=Jn(e,d+1,3);if(d+=3,B)if(B==1)g=H4,I=W4,C=9,_=5;else if(B==2){var P=Jn(e,d,31)+257,p=Jn(e,d+10,15)+4,A=P+Jn(e,d+5,31)+1;d+=14;for(var S=new Nn(A),N=new Nn(19),D=0;D<p;++D)N[z4[D]]=Jn(e,d+D*3,7);d+=p*3;for(var E=id(N),m=(1<<E)-1,y=Tu(N,E,1),D=0;D<A;){var q=y[Jn(e,d,m)];d+=q&15;var M=q>>4;if(M<16)S[D++]=M;else{var V=0,w=0;for(M==16?(w=3+Jn(e,d,3),d+=2,V=S[D-1]):M==17?(w=3+Jn(e,d,7),d+=3):M==18&&(w=11+Jn(e,d,127),d+=7);w--;)S[D++]=V}}var L=S.subarray(0,P),j=S.subarray(P);C=id(L),_=id(j),g=Tu(L,C,1),I=Tu(j,_,1)}else Kn(1);else{var M=G4(d)+4,O=e[M-4]|e[M-3]<<8,F=M+O;if(F>a){h&&Kn(0);break}c&&l(f+O),t.set(e.subarray(M,F),f),n.b=f+=O,n.p=d=F*8,n.f=s;continue}if(d>T){h&&Kn(0);break}}c&&l(f+131072);for(var J=(1<<C)-1,oe=(1<<_)-1,se=d;;se=d){var V=g[ad(e,d)&J],de=V>>4;if(d+=V&15,d>T){h&&Kn(0);break}if(V||Kn(2),de<256)t[f++]=de;else if(de==256){se=d,g=null;break}else{var ke=de-254;if(de>264){var D=de-257,Oe=_v[D];ke=Jn(e,d,(1<<Oe)-1)+Cv[D],d+=Oe}var Ve=I[ad(e,d)&oe],Ee=Ve>>4;Ve||Kn(3),d+=Ve&15;var j=K4[Ee];if(Ee>3){var Oe=wv[Ee];j+=ad(e,d)&(1<<Oe)-1,d+=Oe}if(d>T){h&&Kn(0);break}c&&l(f+131072);var We=f+ke;if(f<j){var Ce=u-j,et=Math.min(j,We);for(Ce+f<0&&Kn(3);f<et;++f)t[f]=r[Ce+f]}for(;f<We;f+=4)t[f]=t[f-j],t[f+1]=t[f+1-j],t[f+2]=t[f+2-j],t[f+3]=t[f+3-j];f=We}}n.l=g,n.p=se,n.b=f,n.f=s,g&&(s=1,n.m=C,n.d=I,n.n=_)}while(!s);return f==t.length?t:hp(t,0,f)},Z4=new Nn(0),Ei=function(e,n){return e[n]|e[n+1]<<8},ti=function(e,n){return(e[n]|e[n+1]<<8|e[n+2]<<16|e[n+3]<<24)>>>0},sd=function(e,n){return ti(e,n)+ti(e,n+4)*4294967296};function X4(e,n){return Y4(e,{i:2},n&&n.out,n&&n.dictionary)}var Ad=typeof TextDecoder<"u"&&new TextDecoder,J4=0;try{Ad.decode(Z4,{stream:!0}),J4=1}catch{}var e5=function(e){for(var n="",t=0;;){var r=e[t++],a=(r>127)+(r>223)+(r>239);if(t+a>e.length)return{s:n,r:hp(e,t-1)};a?a==3?(r=((r&15)<<18|(e[t++]&63)<<12|(e[t++]&63)<<6|e[t++]&63)-65536,n+=String.fromCharCode(55296|r>>10,56320|r&1023)):a&1?n+=String.fromCharCode((r&31)<<6|e[t++]&63):n+=String.fromCharCode((r&15)<<12|(e[t++]&63)<<6|e[t++]&63):n+=String.fromCharCode(r)}};function Iv(e,n){if(n){for(var t="",r=0;r<e.length;r+=16384)t+=String.fromCharCode.apply(null,e.subarray(r,r+16384));return t}else{if(Ad)return Ad.decode(e);var a=e5(e),u=a.s,t=a.r;return t.length&&Kn(8),u}}var t5=function(e,n){return n+30+Ei(e,n+26)+Ei(e,n+28)},r5=function(e,n,t){var r=Ei(e,n+28),a=Iv(e.subarray(n+46,n+46+r),!(Ei(e,n+8)&2048)),u=n+46+r,c=ti(e,n+20),h=t&&c==4294967295?n5(e,u):[c,ti(e,n+24),ti(e,n+42)],l=h[0],s=h[1],d=h[2];return[Ei(e,n+10),l,s,a,u+Ei(e,n+30)+Ei(e,n+32),d]},n5=function(e,n){for(;Ei(e,n)!=1;n+=4+Ei(e,n+2));return[sd(e,n+12),sd(e,n+4),sd(e,n+20)]};function i5(e,n){for(var t={},r=e.length-22;ti(e,r)!=101010256;--r)(!r||e.length-r>65558)&&Kn(13);var a=Ei(e,r+8);if(!a)return{};var u=ti(e,r+16),c=u==4294967295||a==65535;if(c){var h=ti(e,r-12);c=ti(e,h)==101075792,c&&(a=ti(e,h+32),u=ti(e,h+48))}for(var l=n&&n.filter,s=0;s<a;++s){var d=r5(e,u,c),f=d[0],g=d[1],I=d[2],C=d[3],_=d[4],T=d[5],B=t5(e,T);u=_,(!l||l({name:C,size:g,originalSize:I,compression:f}))&&(f?f==8?t[C]=X4(e.subarray(B,B+g),{out:new Nn(I)}):Kn(14,"unknown compression type "+f):t[C]=hp(e,B,B+g))}return t}var fp=require("fs"),a5=require("path"),s5=require("process"),dp=e=>(0,a5.resolve)((0,s5.cwd)(),e),Rv=e=>(0,fp.existsSync)(dp(e));function qu({zip:e="",file:n="",versionFile:t="package.json"}){let r=e||n;if(Rv(t)&&r.includes("{version}")){let a=JSON.parse((0,fp.readFileSync)(t).toString());return r.replace("{version}",a.version||"")}else return r}function Wc(e){let n=(0,fp.readFileSync)(dp(e)),t=i5(n),r=Iv(t["manifest.json"]);return JSON.parse(r)}function Gc({extId:e=null,market:n="",zip:t=""}){let{name:r,version:a}=Wc(t),u=cv[n]||n;console.log(`Successfully updated "${e}" (${r}) to version ${a} on ${u}!`)}var ec={};function kv({message:e="Message",prefix:n="",market:t=""}){var r;ec[t]=1+((r=ec?.[t])!=null?r:0);let a=`${t}: Step ${ec[t]}) ${e}`;return n!=="Error"&&(n=n||"Info",a=`${n} ${a}`),n==="Info"?a=a.trim():n==="Error"&&(a=a.trimStart()),a}var Pv={},Fu=e=>{Pv[e]=!0,process.env.VERBOSE="true"};function Qc(e=""){return n=>Pv[e]&&console.log(kv({market:e,message:n}))}var Yc=(e,n,t)=>{let r=new Error(kv({market:n,message:`Item "${t}": ${e.message}`,prefix:"Error"}));return r.stack=e.stack,r};function od(e,n){return`${e}: ${n}`}var Mu=({market:e="chrome",options:n={},errorMap:t={}})=>{if(Object.keys(t).some(a=>{if(!n[a])throw new Error(od(e,t[a]))}),!n.zip&&!n.file)throw new Error(od(e,"No extension bundle provided"));let r=n.zip||n.file;if(!Rv(r))throw new Error(od(e,`Extension bundle file doesn't exist: ${dp(r)}`))},Ru="chrome",o5=Qc(Ru);function u5(e){return la(this,null,function*(){var n=e,{extId:t,target:r="default",zip:a,dryRun:u}=n,c=jc(n,["extId","target","zip","dryRun"]);let h=new j4(Dc({extId:t},c));if(o5(`Updating extension with ID ${t}`),u)return!0;try{return yield h.submit({filePath:a,target:r}),Gc({extId:t,market:Ru,zip:a}),!0}catch(l){let s=Wc(a);throw Yc(l,Ru,`"${t}" (${s.name})`)}})}function l5(e){return la(this,null,function*(){return e.zip=qu(e),e.verbose&&Fu(Ru),Mu({market:Ru,options:e,errorMap:cp}),u5(e)})}var c5=require("fs"),pp={productId:"Product ID is required. To get one, go to: https://partner.microsoft.com/en-us/dashboard/microsoftedge/{product-id}/package/dashboard",clientId:"Client ID is required. To get one: https://partner.microsoft.com/en-us/dashboard/microsoftedge/publishapi",clientSecret:"Client Secret is required. To get one: https://partner.microsoft.com/en-us/dashboard/microsoftedge/publishapi",accessTokenUrl:"Access token URL is required. To get one: https://partner.microsoft.com/en-us/dashboard/microsoftedge/publishapi"},h5=Object.keys(pp),f5=e=>new Promise(n=>setTimeout(n,e)),Zg="https://api.addons.microsoftedge.microsoft.com",d5=class{options={};constructor(e){for(let n of h5){if(!e[n])throw new Error(pp[n]);this.options[n]=e[n]}}get productEndpoint(){return`${Zg}/v1/products/${this.options.productId}`}get publishEndpoint(){return`${this.productEndpoint}/submissions`}get uploadEndpoint(){return`${this.publishEndpoint}/draft/package`}async submit({filePath:e="",notes:n=""}){let t=await this.getAccessToken(),r=await this.upload((0,c5.createReadStream)(e),t);return await this.waitForUpload(r,t),this.publish(n,t)}async publish(e="",n=null){let t={headers:{Authorization:`Bearer ${n||await this.getAccessToken()}`,"Content-Type":"application/x-www-form-urlencoded"}};e.length>0&&(t.body=`{ "notes"="${e}" }`);let r=await jr.post(this.publishEndpoint,t);return this.handleTempStatus(r.statusCode,"Submit"),r.headers.location}async upload(e=null,n=null){let t=n||await this.getAccessToken(),r=await jr.post(this.uploadEndpoint,{body:e,headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/zip"}});return this.handleTempStatus(r.statusCode,"Upload"),r.headers.location}async getPublishStatus(e,n=null){let t=n||await this.getAccessToken(),r=`${this.publishEndpoint}/operations/${e}`;return jr.get(r,{headers:{Authorization:`Bearer ${t}`}}).json()}async waitForUpload(e,n=null,t=5,r=3e3){let a=n||await this.getAccessToken(),u=`${this.uploadEndpoint}/operations/${e}`,c,h,l=0;for(;h!=="Succeeded"&&l<t;){let s=await jr.get(u,{headers:{Authorization:`Bearer ${a}`}}).json();if(s.status==="Failed")throw new Error(s.message||s.errorCode+":"+(s.errors||[]).join(","));s.status==="InProgress"?await f5(r):s.status==="Succeeded"&&(c=s.message),h=s.status,l++}return c}handleTempStatus=(e,n)=>{if(e!==202)throw e>=500?new Error("Edge server error, please try again later"):new Error(`${n} failed, double check your api credentials`)};getAccessToken=async()=>(await jr.post(`${this.options.accessTokenUrl}`,{body:`client_id=${this.options.clientId}&scope=${Zg}/.default&client_secret=${this.options.clientSecret}&grant_type=client_credentials`,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).json()).access_token},ku="edge",p5=Qc(ku);function y5(e){return la(this,null,function*(){var n=e,{productId:t,notes:r,zip:a,dryRun:u}=n,c=jc(n,["productId","notes","zip","dryRun"]);let h=Wc(a),l=new d5(Dc({productId:t},c));if(p5(`Updating extension with Product ID ${t}`),u)return!0;try{return yield l.submit({filePath:a,notes:r}),Gc({extId:t,market:ku,zip:a}),!0}catch(s){throw Yc(s,ku,`"${t}" (${h.name})`)}})}function g5(e){return la(this,null,function*(){return e.zip=qu(e),e.verbose&&Fu(ku),Mu({market:ku,options:e,errorMap:pp}),y5(e)})}var kr=e=>typeof e=="function",mt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:e=>`Symbol(${e})`;function Bv(){}function Gr(e){return typeof e=="object"&&e!==null||typeof e=="function"}var Nv=Bv;function wt(e,n){try{Object.defineProperty(e,"name",{value:n,configurable:!0})}catch{}}var yp=Promise,m5=Promise.prototype.then,v5=Promise.resolve.bind(yp),b5=Promise.reject.bind(yp);function an(e){return new yp(e)}function It(e){return v5(e)}function Je(e){return b5(e)}function aa(e,n,t){return m5.call(e,n,t)}function Wr(e,n,t){aa(aa(e,n,t),void 0,Nv)}function Xg(e,n){Wr(e,n)}function Jg(e,n){Wr(e,void 0,n)}function ni(e,n,t){return aa(e,n,t)}function vo(e){aa(e,void 0,Nv)}var yc=e=>{if(typeof queueMicrotask=="function")yc=queueMicrotask;else{let n=It(void 0);yc=t=>aa(n,t)}return yc(e)};function Zc(e,n,t){if(typeof e!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,n,t)}function Rs(e,n,t){try{return It(Zc(e,n,t))}catch(r){return Je(r)}}var Hn=class{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(e){let n=this._back,t=n;n._elements.length===16383&&(t={_elements:[],_next:void 0}),n._elements.push(e),t!==n&&(this._back=t,n._next=t),++this._size}shift(){let e=this._front,n=e,t=this._cursor,r=t+1,a=e._elements,u=a[t];return r===16384&&(n=e._next,r=0),--this._size,this._cursor=r,e!==n&&(this._front=n),a[t]=void 0,u}forEach(e){let n=this._cursor,t=this._front,r=t._elements;for(;!(n===r.length&&t._next===void 0||n===r.length&&(t=t._next,r=t._elements,n=0,r.length===0));)e(r[n]),++n}peek(){let e=this._front,n=this._cursor;return e._elements[n]}},Ov=mt("[[AbortSteps]]"),xv=mt("[[ErrorSteps]]"),gp=mt("[[CancelSteps]]"),mp=mt("[[PullSteps]]"),vp=mt("[[ReleaseSteps]]");function Lv(e,n){e._ownerReadableStream=n,n._reader=e,n._state==="readable"?Id(e):n._state==="closed"?function(t){Id(t),Vv(t)}(e):jv(e,n._storedError)}function Uv(e,n){return g1(e._ownerReadableStream,n)}function Dv(e){let n=e._ownerReadableStream;n._state==="readable"?bp(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,r){jv(t,r)}(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),n._readableStreamController[vp](),n._reader=void 0,e._ownerReadableStream=void 0}function bo(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function Id(e){e._closedPromise=an((n,t)=>{e._closedPromise_resolve=n,e._closedPromise_reject=t})}function jv(e,n){Id(e),bp(e,n)}function bp(e,n){e._closedPromise_reject!==void 0&&(vo(e._closedPromise),e._closedPromise_reject(n),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function Vv(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}var em=Number.isFinite||function(e){return typeof e=="number"&&isFinite(e)},_5=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function sa(e,n){if(e!==void 0&&typeof(t=e)!="object"&&typeof t!="function")throw new TypeError(`${n} is not an object.`);var t}function si(e,n){if(typeof e!="function")throw new TypeError(`${n} is not a function.`)}function qv(e,n){if(!function(t){return typeof t=="object"&&t!==null||typeof t=="function"}(e))throw new TypeError(`${n} is not an object.`)}function ua(e,n,t){if(e===void 0)throw new TypeError(`Parameter ${n} is required in '${t}'.`)}function Rd(e,n,t){if(e===void 0)throw new TypeError(`${n} is required in '${t}'.`)}function _p(e){return Number(e)}function tm(e){return e===0?0:e}function Fv(e,n){let t=Number.MAX_SAFE_INTEGER,r=Number(e);if(r=tm(r),!em(r))throw new TypeError(`${n} is not a finite number`);if(r=function(a){return tm(_5(a))}(r),r<0||r>t)throw new TypeError(`${n} is outside the accepted range of 0 to ${t}, inclusive`);return em(r)&&r!==0?r:0}function Su(e){if(!Gr(e)||typeof e.getReader!="function")return!1;try{return typeof e.locked=="boolean"}catch{return!1}}function Mv(e){if(!Gr(e)||typeof e.getWriter!="function")return!1;try{return typeof e.locked=="boolean"}catch{return!1}}function zv(e,n){if(!As(e))throw new TypeError(`${n} is not a ReadableStream.`)}function $v(e,n){e._reader._readRequests.push(n)}function wp(e,n,t){let r=e._reader._readRequests.shift();t?r._closeSteps():r._chunkSteps(n)}function Xc(e){return e._reader._readRequests.length}function Kv(e){let n=e._reader;return n!==void 0&&!!Ts(n)}var bs=class{constructor(e){if(ua(e,1,"ReadableStreamDefaultReader"),zv(e,"First parameter"),wo(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");Lv(this,e),this._readRequests=new Hn}get closed(){return Ts(this)?this._closedPromise:Je(tc("closed"))}cancel(e){return Ts(this)?this._ownerReadableStream===void 0?Je(bo("cancel")):Uv(this,e):Je(tc("cancel"))}read(){if(!Ts(this))return Je(tc("read"));if(this._ownerReadableStream===void 0)return Je(bo("read from"));let e,n,t=an((r,a)=>{e=r,n=a});return function(r,a){let u=r._ownerReadableStream;u._disturbed=!0,u._state==="closed"?a._closeSteps():u._state==="errored"?a._errorSteps(u._storedError):u._readableStreamController[mp](a)}(this,{_chunkSteps:r=>e({value:r,done:!1}),_closeSteps:()=>e({value:void 0,done:!0}),_errorSteps:r=>n(r)}),t}releaseLock(){if(!Ts(this))throw tc("releaseLock");this._ownerReadableStream!==void 0&&function(e){Dv(e);let n=new TypeError("Reader was released");Hv(e,n)}(this)}};function Ts(e){return!!Gr(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readRequests")&&e instanceof bs}function Hv(e,n){let t=e._readRequests;e._readRequests=new Hn,t.forEach(r=>{r._errorSteps(n)})}function tc(e){return new TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`)}Object.defineProperties(bs.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),wt(bs.prototype.cancel,"cancel"),wt(bs.prototype.read,"read"),wt(bs.prototype.releaseLock,"releaseLock"),typeof mt.toStringTag=="symbol"&&Object.defineProperty(bs.prototype,mt.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});var Wv=class{constructor(e,n){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=e,this._preventCancel=n}next(){let e=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?ni(this._ongoingPromise,e,e):e(),this._ongoingPromise}return(e){let n=()=>this._returnSteps(e);return this._ongoingPromise?ni(this._ongoingPromise,n,n):n()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});let e=this._reader;return e===void 0?Je(bo("iterate")):aa(e.read(),n=>{var t;return this._ongoingPromise=void 0,n.done&&(this._isFinished=!0,(t=this._reader)===null||t===void 0||t.releaseLock(),this._reader=void 0),n},n=>{var t;throw this._ongoingPromise=void 0,this._isFinished=!0,(t=this._reader)===null||t===void 0||t.releaseLock(),this._reader=void 0,n})}_returnSteps(e){if(this._isFinished)return Promise.resolve({value:e,done:!0});this._isFinished=!0;let n=this._reader;if(n===void 0)return Je(bo("finish iterating"));if(this._reader=void 0,!this._preventCancel){let t=n.cancel(e);return n.releaseLock(),ni(t,()=>({value:e,done:!0}))}return n.releaseLock(),It({value:e,done:!0})}},Gv={next(){return rm(this)?this._asyncIteratorImpl.next():Je(nm("next"))},return(e){return rm(this)?this._asyncIteratorImpl.return(e):Je(nm("return"))}};function rm(e){if(!Gr(e)||!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl"))return!1;try{return e._asyncIteratorImpl instanceof Wv}catch{return!1}}function nm(e){return new TypeError(`ReadableStreamAsyncIterator.${e} can only be used on a ReadableSteamAsyncIterator`)}typeof mt.asyncIterator=="symbol"&&Object.defineProperty(Gv,mt.asyncIterator,{value(){return this},writable:!0,configurable:!0});var Qv=Number.isNaN||function(e){return e!=e};function Yv(e,n,t,r,a){new Uint8Array(e).set(new Uint8Array(t,r,a),n)}function im(e){let n=function(t,r,a){if(t.slice)return t.slice(r,a);let u=a-r,c=new ArrayBuffer(u);return Yv(c,0,t,r,u),c}(e.buffer,e.byteOffset,e.byteOffset+e.byteLength);return new Uint8Array(n)}function kd(e){let n=e._queue.shift();return e._queueTotalSize-=n.size,e._queueTotalSize<0&&(e._queueTotalSize=0),n.value}function Sp(e,n,t){if(typeof(r=t)!="number"||Qv(r)||r<0||t===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");var r;e._queue.push({value:n,size:t}),e._queueTotalSize+=t}function Ma(e){e._queue=new Hn,e._queueTotalSize=0}var po=class{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!ud(this))throw ld("view");return this._view}respond(e){if(!ud(this))throw ld("respond");if(ua(e,1,"respond"),e=Fv(e,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");this._view.buffer,function(n,t){let r=n._pendingPullIntos.peek();if(n._controlledReadableByteStream._state==="closed"){if(t!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(t===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(r.bytesFilled+t>r.byteLength)throw new RangeError("bytesWritten out of range")}r.buffer=r.buffer,am(n,t)}(this._associatedReadableByteStreamController,e)}respondWithNewView(e){if(!ud(this))throw ld("respondWithNewView");if(ua(e,1,"respondWithNewView"),!ArrayBuffer.isView(e))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");e.buffer,function(n,t){let r=n._pendingPullIntos.peek();if(n._controlledReadableByteStream._state==="closed"){if(t.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(t.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(r.byteOffset+r.bytesFilled!==t.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(r.bufferByteLength!==t.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(r.bytesFilled+t.byteLength>r.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");let a=t.byteLength;r.buffer=t.buffer,am(n,a)}(this._associatedReadableByteStreamController,e)}};Object.defineProperties(po.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),wt(po.prototype.respond,"respond"),wt(po.prototype.respondWithNewView,"respondWithNewView"),typeof mt.toStringTag=="symbol"&&Object.defineProperty(po.prototype,mt.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});var _s=class{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!co(this))throw gu("byobRequest");return function(e){if(e._byobRequest===null&&e._pendingPullIntos.length>0){let n=e._pendingPullIntos.peek(),t=new Uint8Array(n.buffer,n.byteOffset+n.bytesFilled,n.byteLength-n.bytesFilled),r=Object.create(po.prototype);(function(a,u,c){a._associatedReadableByteStreamController=u,a._view=c})(r,e,t),e._byobRequest=r}return e._byobRequest}(this)}get desiredSize(){if(!co(this))throw gu("desiredSize");return i1(this)}close(){if(!co(this))throw gu("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");let e=this._controlledReadableByteStream._state;if(e!=="readable")throw new TypeError(`The stream (in ${e} state) is not in the readable state and cannot be closed`);(function(n){let t=n._controlledReadableByteStream;if(!(n._closeRequested||t._state!=="readable")){if(n._queueTotalSize>0)return void(n._closeRequested=!0);if(n._pendingPullIntos.length>0&&n._pendingPullIntos.peek().bytesFilled>0){let r=new TypeError("Insufficient bytes to fill elements in the given buffer");throw _o(n,r),r}Ac(n),Bu(t)}})(this)}enqueue(e){if(!co(this))throw gu("enqueue");if(ua(e,1,"enqueue"),!ArrayBuffer.isView(e))throw new TypeError("chunk must be an array buffer view");if(e.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(e.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");let n=this._controlledReadableByteStream._state;if(n!=="readable")throw new TypeError(`The stream (in ${n} state) is not in the readable state and cannot be enqueued to`);(function(t,r){let a=t._controlledReadableByteStream;if(t._closeRequested||a._state!=="readable")return;let u=r.buffer,c=r.byteOffset,h=r.byteLength,l=u;if(t._pendingPullIntos.length>0){let s=t._pendingPullIntos.peek();s.buffer,Ep(t),s.buffer=s.buffer,s.readerType==="none"&&e1(t,s)}Kv(a)?(function(s){let d=s._controlledReadableByteStream._reader;for(;d._readRequests.length>0;){if(s._queueTotalSize===0)return;sm(s,d._readRequests.shift())}}(t),Xc(a)===0?gc(t,l,c,h):(t._pendingPullIntos.length>0&&go(t),wp(a,new Uint8Array(l,c,h),!1))):Cp(a)?(gc(t,l,c,h),Bd(t)):gc(t,l,c,h),Is(t)})(this,e)}error(e){if(!co(this))throw gu("error");_o(this,e)}[gp](e){Zv(this),Ma(this);let n=this._cancelAlgorithm(e);return Ac(this),n}[mp](e){let n=this._controlledReadableByteStream;if(this._queueTotalSize>0)return void sm(this,e);let t=this._autoAllocateChunkSize;if(t!==void 0){let r;try{r=new ArrayBuffer(t)}catch(u){return void e._errorSteps(u)}let a={buffer:r,bufferByteLength:t,byteOffset:0,byteLength:t,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(a)}$v(n,e),Is(this)}[vp](){if(this._pendingPullIntos.length>0){let e=this._pendingPullIntos.peek();e.readerType="none",this._pendingPullIntos=new Hn,this._pendingPullIntos.push(e)}}};function co(e){return!!Gr(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")&&e instanceof _s}function ud(e){return!!Gr(e)&&!!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")&&e instanceof po}function Is(e){if(function(n){let t=n._controlledReadableByteStream;return t._state!=="readable"||n._closeRequested||!n._started?!1:!!(Kv(t)&&Xc(t)>0||Cp(t)&&a1(t)>0||i1(n)>0)}(e)){if(e._pulling)return void(e._pullAgain=!0);e._pulling=!0,Wr(e._pullAlgorithm(),()=>(e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,Is(e)),null),n=>(_o(e,n),null))}}function Zv(e){Ep(e),e._pendingPullIntos=new Hn}function Pd(e,n){let t=!1;e._state==="closed"&&(t=!0);let r=Xv(n);n.readerType==="default"?wp(e,r,t):function(a,u,c){let h=a._reader._readIntoRequests.shift();c?h._closeSteps(u):h._chunkSteps(u)}(e,r,t)}function Xv(e){let n=e.bytesFilled,t=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,n/t)}function gc(e,n,t,r){e._queue.push({buffer:n,byteOffset:t,byteLength:r}),e._queueTotalSize+=r}function Jv(e,n,t,r){let a;try{a=n.slice(t,t+r)}catch(u){throw _o(e,u),u}gc(e,a,0,r)}function e1(e,n){n.bytesFilled>0&&Jv(e,n.buffer,n.byteOffset,n.bytesFilled),go(e)}function t1(e,n){let t=n.elementSize,r=n.bytesFilled-n.bytesFilled%t,a=Math.min(e._queueTotalSize,n.byteLength-n.bytesFilled),u=n.bytesFilled+a,c=u-u%t,h=a,l=!1;c>r&&(h=c-n.bytesFilled,l=!0);let s=e._queue;for(;h>0;){let d=s.peek(),f=Math.min(h,d.byteLength),g=n.byteOffset+n.bytesFilled;Yv(n.buffer,g,d.buffer,d.byteOffset,f),d.byteLength===f?s.shift():(d.byteOffset+=f,d.byteLength-=f),e._queueTotalSize-=f,r1(e,f,n),h-=f}return l}function r1(e,n,t){t.bytesFilled+=n}function n1(e){e._queueTotalSize===0&&e._closeRequested?(Ac(e),Bu(e._controlledReadableByteStream)):Is(e)}function Ep(e){e._byobRequest!==null&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function Bd(e){for(;e._pendingPullIntos.length>0;){if(e._queueTotalSize===0)return;let n=e._pendingPullIntos.peek();t1(e,n)&&(go(e),Pd(e._controlledReadableByteStream,n))}}function am(e,n){let t=e._pendingPullIntos.peek();Ep(e),e._controlledReadableByteStream._state==="closed"?function(r,a){a.readerType==="none"&&go(r);let u=r._controlledReadableByteStream;if(Cp(u))for(;a1(u)>0;)Pd(u,go(r))}(e,t):function(r,a,u){if(r1(0,a,u),u.readerType==="none")return e1(r,u),void Bd(r);if(u.bytesFilled<u.elementSize)return;go(r);let c=u.bytesFilled%u.elementSize;if(c>0){let h=u.byteOffset+u.bytesFilled;Jv(r,u.buffer,h-c,c)}u.bytesFilled-=c,Pd(r._controlledReadableByteStream,u),Bd(r)}(e,n,t),Is(e)}function go(e){return e._pendingPullIntos.shift()}function Ac(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function _o(e,n){let t=e._controlledReadableByteStream;t._state==="readable"&&(Zv(e),Ma(e),Ac(e),m1(t,n))}function sm(e,n){let t=e._queue.shift();e._queueTotalSize-=t.byteLength,n1(e);let r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);n._chunkSteps(r)}function i1(e){let n=e._controlledReadableByteStream._state;return n==="errored"?null:n==="closed"?0:e._strategyHWM-e._queueTotalSize}function w5(e,n,t){let r=Object.create(_s.prototype),a,u,c;a=n.start!==void 0?()=>n.start(r):()=>{},u=n.pull!==void 0?()=>n.pull(r):()=>It(void 0),c=n.cancel!==void 0?l=>n.cancel(l):()=>It(void 0);let h=n.autoAllocateChunkSize;if(h===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");(function(l,s,d,f,g,I,C){s._controlledReadableByteStream=l,s._pullAgain=!1,s._pulling=!1,s._byobRequest=null,s._queue=s._queueTotalSize=void 0,Ma(s),s._closeRequested=!1,s._started=!1,s._strategyHWM=I,s._pullAlgorithm=f,s._cancelAlgorithm=g,s._autoAllocateChunkSize=C,s._pendingPullIntos=new Hn,l._readableStreamController=s,Wr(It(d()),()=>(s._started=!0,Is(s),null),_=>(_o(s,_),null))})(e,r,a,u,c,t,h)}function ld(e){return new TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`)}function gu(e){return new TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`)}function om(e,n){e._reader._readIntoRequests.push(n)}function a1(e){return e._reader._readIntoRequests.length}function Cp(e){let n=e._reader;return n!==void 0&&!!yo(n)}Object.defineProperties(_s.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),wt(_s.prototype.close,"close"),wt(_s.prototype.enqueue,"enqueue"),wt(_s.prototype.error,"error"),typeof mt.toStringTag=="symbol"&&Object.defineProperty(_s.prototype,mt.toStringTag,{value:"ReadableByteStreamController",configurable:!0});var ws=class{constructor(e){if(ua(e,1,"ReadableStreamBYOBReader"),zv(e,"First parameter"),wo(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!co(e._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");Lv(this,e),this._readIntoRequests=new Hn}get closed(){return yo(this)?this._closedPromise:Je(rc("closed"))}cancel(e){return yo(this)?this._ownerReadableStream===void 0?Je(bo("cancel")):Uv(this,e):Je(rc("cancel"))}read(e){if(!yo(this))return Je(rc("read"));if(!ArrayBuffer.isView(e))return Je(new TypeError("view must be an array buffer view"));if(e.byteLength===0)return Je(new TypeError("view must have non-zero byteLength"));if(e.buffer.byteLength===0)return Je(new TypeError("view's buffer must have non-zero byteLength"));if(e.buffer,this._ownerReadableStream===void 0)return Je(bo("read from"));let n,t,r=an((a,u)=>{n=a,t=u});return function(a,u,c){let h=a._ownerReadableStream;h._disturbed=!0,h._state==="errored"?c._errorSteps(h._storedError):function(l,s,d){let f=l._controlledReadableByteStream,g=1;s.constructor!==DataView&&(g=s.constructor.BYTES_PER_ELEMENT);let I=s.constructor,C=s.buffer,_={buffer:C,bufferByteLength:C.byteLength,byteOffset:s.byteOffset,byteLength:s.byteLength,bytesFilled:0,elementSize:g,viewConstructor:I,readerType:"byob"};if(l._pendingPullIntos.length>0)return l._pendingPullIntos.push(_),void om(f,d);if(f._state!=="closed"){if(l._queueTotalSize>0){if(t1(l,_)){let T=Xv(_);return n1(l),void d._chunkSteps(T)}if(l._closeRequested){let T=new TypeError("Insufficient bytes to fill elements in the given buffer");return _o(l,T),void d._errorSteps(T)}}l._pendingPullIntos.push(_),om(f,d),Is(l)}else{let T=new I(_.buffer,_.byteOffset,0);d._closeSteps(T)}}(h._readableStreamController,u,c)}(this,e,{_chunkSteps:a=>n({value:a,done:!1}),_closeSteps:a=>n({value:a,done:!0}),_errorSteps:a=>t(a)}),r}releaseLock(){if(!yo(this))throw rc("releaseLock");this._ownerReadableStream!==void 0&&function(e){Dv(e);let n=new TypeError("Reader was released");s1(e,n)}(this)}};function yo(e){return!!Gr(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")&&e instanceof ws}function s1(e,n){let t=e._readIntoRequests;e._readIntoRequests=new Hn,t.forEach(r=>{r._errorSteps(n)})}function rc(e){return new TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`)}function Pu(e,n){let{highWaterMark:t}=e;if(t===void 0)return n;if(Qv(t)||t<0)throw new RangeError("Invalid highWaterMark");return t}function Ic(e){let{size:n}=e;return n||(()=>1)}function Rc(e,n){sa(e,n);let t=e?.highWaterMark,r=e?.size;return{highWaterMark:t===void 0?void 0:_p(t),size:r===void 0?void 0:S5(r,`${n} has member 'size' that`)}}function S5(e,n){return si(e,n),t=>_p(e(t))}function E5(e,n,t){return si(e,t),r=>Rs(e,n,[r])}function C5(e,n,t){return si(e,t),()=>Rs(e,n,[])}function T5(e,n,t){return si(e,t),r=>Zc(e,n,[r])}function A5(e,n,t){return si(e,t),(r,a)=>Rs(e,n,[r,a])}Object.defineProperties(ws.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),wt(ws.prototype.cancel,"cancel"),wt(ws.prototype.read,"read"),wt(ws.prototype.releaseLock,"releaseLock"),typeof mt.toStringTag=="symbol"&&Object.defineProperty(ws.prototype,mt.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});var I5=typeof AbortController=="function",Ss=class{constructor(e={},n={}){e===void 0?e=null:qv(e,"First parameter");let t=Rc(n,"Second parameter"),r=function(c,h){sa(c,h);let l=c?.abort,s=c?.close,d=c?.start,f=c?.type,g=c?.write;return{abort:l===void 0?void 0:E5(l,c,`${h} has member 'abort' that`),close:s===void 0?void 0:C5(s,c,`${h} has member 'close' that`),start:d===void 0?void 0:T5(d,c,`${h} has member 'start' that`),write:g===void 0?void 0:A5(g,c,`${h} has member 'write' that`),type:f}}(e,"First parameter");var a;if((a=this)._state="writable",a._storedError=void 0,a._writer=void 0,a._writableStreamController=void 0,a._writeRequests=new Hn,a._inFlightWriteRequest=void 0,a._closeRequest=void 0,a._inFlightCloseRequest=void 0,a._pendingAbortRequest=void 0,a._backpressure=!1,r.type!==void 0)throw new RangeError("Invalid type is specified");let u=Ic(t);(function(c,h,l,s){let d=Object.create(kc.prototype),f,g,I,C;f=h.start!==void 0?()=>h.start(d):()=>{},g=h.write!==void 0?_=>h.write(_,d):()=>It(void 0),I=h.close!==void 0?()=>h.close():()=>It(void 0),C=h.abort!==void 0?_=>h.abort(_):()=>It(void 0),function(_,T,B,P,p,A,S,N){T._controlledWritableStream=_,_._writableStreamController=T,T._queue=void 0,T._queueTotalSize=void 0,Ma(T),T._abortReason=void 0,T._abortController=function(){if(I5)return new AbortController}(),T._started=!1,T._strategySizeAlgorithm=N,T._strategyHWM=S,T._writeAlgorithm=P,T._closeAlgorithm=p,T._abortAlgorithm=A;let D=Rp(T);Ip(_,D);let E=B();Wr(It(E),()=>(T._started=!0,Jc(T),null),m=>(T._started=!0,Nd(_,m),null))}(c,d,f,g,I,C,l,s)})(this,r,Pu(t,1),u)}get locked(){if(!Ti(this))throw ic("locked");return mc(this)}abort(e){return Ti(this)?mc(this)?Je(new TypeError("Cannot abort a stream that already has a writer")):o1(this,e):Je(ic("abort"))}close(){return Ti(this)?mc(this)?Je(new TypeError("Cannot close a stream that already has a writer")):Va(this)?Je(new TypeError("Cannot close an already-closing stream")):u1(this):Je(ic("close"))}getWriter(){if(!Ti(this))throw ic("getWriter");return new ja(this)}};function Ti(e){return!!Gr(e)&&!!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")&&e instanceof Ss}function mc(e){return e._writer!==void 0}function o1(e,n){var t;if(e._state==="closed"||e._state==="errored")return It(void 0);e._writableStreamController._abortReason=n,(t=e._writableStreamController._abortController)===null||t===void 0||t.abort(n);let r=e._state;if(r==="closed"||r==="errored")return It(void 0);if(e._pendingAbortRequest!==void 0)return e._pendingAbortRequest._promise;let a=!1;r==="erroring"&&(a=!0,n=void 0);let u=an((c,h)=>{e._pendingAbortRequest={_promise:void 0,_resolve:c,_reject:h,_reason:n,_wasAlreadyErroring:a}});return e._pendingAbortRequest._promise=u,a||Tp(e,n),u}function u1(e){let n=e._state;if(n==="closed"||n==="errored")return Je(new TypeError(`The stream (in ${n} state) is not in the writable state and cannot be closed`));let t=an((u,c)=>{let h={_resolve:u,_reject:c};e._closeRequest=h}),r=e._writer;var a;return r!==void 0&&e._backpressure&&n==="writable"&&Pp(r),Sp(a=e._writableStreamController,c1,0),Jc(a),t}function Nd(e,n){e._state!=="writable"?Ap(e):Tp(e,n)}function Tp(e,n){let t=e._writableStreamController;e._state="erroring",e._storedError=n;let r=e._writer;r!==void 0&&l1(r,n),!function(a){return!(a._inFlightWriteRequest===void 0&&a._inFlightCloseRequest===void 0)}(e)&&t._started&&Ap(e)}function Ap(e){e._state="errored",e._writableStreamController[xv]();let n=e._storedError;if(e._writeRequests.forEach(r=>{r._reject(n)}),e._writeRequests=new Hn,e._pendingAbortRequest===void 0)return void nc(e);let t=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,t._wasAlreadyErroring)return t._reject(n),void nc(e);Wr(e._writableStreamController[Ov](t._reason),()=>(t._resolve(),nc(e),null),r=>(t._reject(r),nc(e),null))}function Va(e){return e._closeRequest!==void 0||e._inFlightCloseRequest!==void 0}function nc(e){e._closeRequest!==void 0&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);let n=e._writer;n!==void 0&&kp(n,e._storedError)}function Ip(e,n){let t=e._writer;t!==void 0&&n!==e._backpressure&&(n?function(r){eh(r)}(t):Pp(t)),e._backpressure=n}Object.defineProperties(Ss.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),wt(Ss.prototype.abort,"abort"),wt(Ss.prototype.close,"close"),wt(Ss.prototype.getWriter,"getWriter"),typeof mt.toStringTag=="symbol"&&Object.defineProperty(Ss.prototype,mt.toStringTag,{value:"WritableStream",configurable:!0});var ja=class{constructor(e){if(ua(e,1,"WritableStreamDefaultWriter"),function(r,a){if(!Ti(r))throw new TypeError(`${a} is not a WritableStream.`)}(e,"First parameter"),mc(e))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=e,e._writer=this;let n=e._state;if(n==="writable")!Va(e)&&e._backpressure?eh(this):cm(this),vc(this);else if(n==="erroring")Od(this,e._storedError),vc(this);else if(n==="closed")cm(this),vc(t=this),d1(t);else{let r=e._storedError;Od(this,r),lm(this,r)}var t}get closed(){return fs(this)?this._closedPromise:Je(ds("closed"))}get desiredSize(){if(!fs(this))throw ds("desiredSize");if(this._ownerWritableStream===void 0)throw mu("desiredSize");return function(e){let n=e._ownerWritableStream,t=n._state;return t==="errored"||t==="erroring"?null:t==="closed"?0:h1(n._writableStreamController)}(this)}get ready(){return fs(this)?this._readyPromise:Je(ds("ready"))}abort(e){return fs(this)?this._ownerWritableStream===void 0?Je(mu("abort")):function(n,t){return o1(n._ownerWritableStream,t)}(this,e):Je(ds("abort"))}close(){if(!fs(this))return Je(ds("close"));let e=this._ownerWritableStream;return e===void 0?Je(mu("close")):Va(e)?Je(new TypeError("Cannot close an already-closing stream")):u1(this._ownerWritableStream)}releaseLock(){if(!fs(this))throw ds("releaseLock");this._ownerWritableStream!==void 0&&function(e){let n=e._ownerWritableStream,t=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");l1(e,t),function(r,a){r._closedPromiseState==="pending"?kp(r,a):function(u,c){lm(u,c)}(r,a)}(e,t),n._writer=void 0,e._ownerWritableStream=void 0}(this)}write(e){return fs(this)?this._ownerWritableStream===void 0?Je(mu("write to")):function(n,t){let r=n._ownerWritableStream,a=r._writableStreamController,u=function(l,s){try{return l._strategySizeAlgorithm(s)}catch(d){return um(l,d),1}}(a,t);if(r!==n._ownerWritableStream)return Je(mu("write to"));let c=r._state;if(c==="errored")return Je(r._storedError);if(Va(r)||c==="closed")return Je(new TypeError("The stream is closing or closed and cannot be written to"));if(c==="erroring")return Je(r._storedError);let h=function(l){return an((s,d)=>{let f={_resolve:s,_reject:d};l._writeRequests.push(f)})}(r);return function(l,s,d){try{Sp(l,s,d)}catch(g){return void um(l,g)}let f=l._controlledWritableStream;!Va(f)&&f._state==="writable"&&Ip(f,Rp(l)),Jc(l)}(a,t,u),h}(this,e):Je(ds("write"))}};function fs(e){return!!Gr(e)&&!!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")&&e instanceof ja}function l1(e,n){e._readyPromiseState==="pending"?p1(e,n):function(t,r){Od(t,r)}(e,n)}Object.defineProperties(ja.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),wt(ja.prototype.abort,"abort"),wt(ja.prototype.close,"close"),wt(ja.prototype.releaseLock,"releaseLock"),wt(ja.prototype.write,"write"),typeof mt.toStringTag=="symbol"&&Object.defineProperty(ja.prototype,mt.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});var c1={},kc=class{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!cd(this))throw hd("abortReason");return this._abortReason}get signal(){if(!cd(this))throw hd("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(e){if(!cd(this))throw hd("error");this._controlledWritableStream._state==="writable"&&f1(this,e)}[Ov](e){let n=this._abortAlgorithm(e);return Pc(this),n}[xv](){Ma(this)}};function cd(e){return!!Gr(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")&&e instanceof kc}function Pc(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function h1(e){return e._strategyHWM-e._queueTotalSize}function Jc(e){let n=e._controlledWritableStream;if(!e._started||n._inFlightWriteRequest!==void 0)return;if(n._state==="erroring")return void Ap(n);if(e._queue.length===0)return;let t=e._queue.peek().value;t===c1?function(r){let a=r._controlledWritableStream;(function(c){c._inFlightCloseRequest=c._closeRequest,c._closeRequest=void 0})(a),kd(r);let u=r._closeAlgorithm();Pc(r),Wr(u,()=>(function(c){c._inFlightCloseRequest._resolve(void 0),c._inFlightCloseRequest=void 0,c._state==="erroring"&&(c._storedError=void 0,c._pendingAbortRequest!==void 0&&(c._pendingAbortRequest._resolve(),c._pendingAbortRequest=void 0)),c._state="closed";let h=c._writer;h!==void 0&&d1(h)}(a),null),c=>(function(h,l){h._inFlightCloseRequest._reject(l),h._inFlightCloseRequest=void 0,h._pendingAbortRequest!==void 0&&(h._pendingAbortRequest._reject(l),h._pendingAbortRequest=void 0),Nd(h,l)}(a,c),null))}(e):function(r,a){let u=r._controlledWritableStream;(function(c){c._inFlightWriteRequest=c._writeRequests.shift()})(u),Wr(r._writeAlgorithm(a),()=>{(function(h){h._inFlightWriteRequest._resolve(void 0),h._inFlightWriteRequest=void 0})(u);let c=u._state;if(kd(r),!Va(u)&&c==="writable"){let h=Rp(r);Ip(u,h)}return Jc(r),null},c=>(u._state==="writable"&&Pc(r),function(h,l){h._inFlightWriteRequest._reject(l),h._inFlightWriteRequest=void 0,Nd(h,l)}(u,c),null))}(e,t)}function um(e,n){e._controlledWritableStream._state==="writable"&&f1(e,n)}function Rp(e){return h1(e)<=0}function f1(e,n){let t=e._controlledWritableStream;Pc(e),Tp(t,n)}function ic(e){return new TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`)}function hd(e){return new TypeError(`WritableStreamDefaultController.prototype.${e} can only be used on a WritableStreamDefaultController`)}function ds(e){return new TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`)}function mu(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function vc(e){e._closedPromise=an((n,t)=>{e._closedPromise_resolve=n,e._closedPromise_reject=t,e._closedPromiseState="pending"})}function lm(e,n){vc(e),kp(e,n)}function kp(e,n){e._closedPromise_reject!==void 0&&(vo(e._closedPromise),e._closedPromise_reject(n),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function d1(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function eh(e){e._readyPromise=an((n,t)=>{e._readyPromise_resolve=n,e._readyPromise_reject=t}),e._readyPromiseState="pending"}function Od(e,n){eh(e),p1(e,n)}function cm(e){eh(e),Pp(e)}function p1(e,n){e._readyPromise_reject!==void 0&&(vo(e._readyPromise),e._readyPromise_reject(n),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function Pp(e){e._readyPromise_resolve!==void 0&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}Object.defineProperties(kc.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof mt.toStringTag=="symbol"&&Object.defineProperty(kc.prototype,mt.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});var hm=typeof DOMException<"u"?DOMException:void 0,R5=function(e){if(typeof e!="function"&&typeof e!="object")return!1;try{return new e,!0}catch{return!1}}(hm)?hm:function(){let e=function(n,t){this.message=n||"",this.name=t||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}();function fm(e,n,t,r,a,u){let c=e.getReader(),h=n.getWriter();As(e)&&(e._disturbed=!0);let l,s,d,f=!1,g=!1,I="readable",C="writable",_=!1,T=!1,B=an(p=>{d=p}),P=Promise.resolve(void 0);return an((p,A)=>{let S;function N(){if(f)return;let V=an((w,L)=>{(function j(O){O?w():aa(function(){return f?It(!0):aa(h.ready,()=>aa(c.read(),F=>!!F.done||(P=h.write(F.value),vo(P),!1)))}(),j,L)})(!1)});vo(V)}function D(){return I="closed",t?q():y(()=>(Ti(n)&&(_=Va(n),C=n._state),_||C==="closed"?It(void 0):C==="erroring"||C==="errored"?Je(s):(_=!0,h.close())),!1,void 0),null}function E(V){return f||(I="errored",l=V,r?q(!0,V):y(()=>h.abort(V),!0,V)),null}function m(V){return g||(C="errored",s=V,a?q(!0,V):y(()=>c.cancel(V),!0,V)),null}if(u!==void 0&&(S=()=>{let V=u.reason!==void 0?u.reason:new R5("Aborted","AbortError"),w=[];r||w.push(()=>C==="writable"?h.abort(V):It(void 0)),a||w.push(()=>I==="readable"?c.cancel(V):It(void 0)),y(()=>Promise.all(w.map(L=>L())),!0,V)},u.aborted?S():u.addEventListener("abort",S)),As(e)&&(I=e._state,l=e._storedError),Ti(n)&&(C=n._state,s=n._storedError,_=Va(n)),As(e)&&Ti(n)&&(T=!0,d()),I==="errored")E(l);else if(C==="erroring"||C==="errored")m(s);else if(I==="closed")D();else if(_||C==="closed"){let V=new TypeError("the destination writable stream closed before all data could be piped to it");a?q(!0,V):y(()=>c.cancel(V),!0,V)}function y(V,w,L){function j(){return C!=="writable"||_?O():Xg(function(){let F;return It(function J(){if(F!==P)return F=P,ni(P,J,J)}())}(),O),null}function O(){return V?Wr(V(),()=>M(w,L),F=>M(!0,F)):M(w,L),null}f||(f=!0,T?j():Xg(B,j))}function q(V,w){y(void 0,V,w)}function M(V,w){return g=!0,h.releaseLock(),c.releaseLock(),u!==void 0&&u.removeEventListener("abort",S),V?A(w):p(void 0),null}f||(Wr(c.closed,D,E),Wr(h.closed,function(){return g||(C="closed"),null},m)),T?N():yc(()=>{T=!0,d(),N()})})}function k5(e,n){return function(t){try{return t.getReader({mode:"byob"}).releaseLock(),!0}catch{return!1}}(e)?function(t){let r,a,u,c,h,l=t.getReader(),s=!1,d=!1,f=!1,g=!1,I=!1,C=!1,_=an(m=>{h=m});function T(m){Jg(m.closed,y=>(m!==l||(u.error(y),c.error(y),I&&C||h(void 0)),null))}function B(){s&&(l.releaseLock(),l=t.getReader(),T(l),s=!1),Wr(l.read(),m=>{var y,q;if(f=!1,g=!1,m.done)return I||u.close(),C||c.close(),(y=u.byobRequest)===null||y===void 0||y.respond(0),(q=c.byobRequest)===null||q===void 0||q.respond(0),I&&C||h(void 0),null;let M=m.value,V=M,w=M;if(!I&&!C)try{w=im(M)}catch(L){return u.error(L),c.error(L),h(l.cancel(L)),null}return I||u.enqueue(V),C||c.enqueue(w),d=!1,f?p():g&&A(),null},()=>(d=!1,null))}function P(m,y){s||(l.releaseLock(),l=t.getReader({mode:"byob"}),T(l),s=!0);let q=y?c:u,M=y?u:c;Wr(l.read(m),V=>{var w;f=!1,g=!1;let L=y?C:I,j=y?I:C;if(V.done){L||q.close(),j||M.close();let F=V.value;return F!==void 0&&(L||q.byobRequest.respondWithNewView(F),j||(w=M.byobRequest)===null||w===void 0||w.respond(0)),L&&j||h(void 0),null}let O=V.value;if(j)L||q.byobRequest.respondWithNewView(O);else{let F;try{F=im(O)}catch(J){return q.error(J),M.error(J),h(l.cancel(J)),null}L||q.byobRequest.respondWithNewView(O),M.enqueue(F)}return d=!1,f?p():g&&A(),null},()=>(d=!1,null))}function p(){if(d)return f=!0,It(void 0);d=!0;let m=u.byobRequest;return m===null?B():P(m.view,!1),It(void 0)}function A(){if(d)return g=!0,It(void 0);d=!0;let m=c.byobRequest;return m===null?B():P(m.view,!0),It(void 0)}function S(m){if(I=!0,r=m,C){let y=[r,a],q=l.cancel(y);h(q)}return _}function N(m){if(C=!0,a=m,I){let y=[r,a],q=l.cancel(y);h(q)}return _}let D=new Dr({type:"bytes",start(m){u=m},pull:p,cancel:S}),E=new Dr({type:"bytes",start(m){c=m},pull:A,cancel:N});return T(l),[D,E]}(e):function(t,r){let a=t.getReader(),u,c,h,l,s,d=!1,f=!1,g=!1,I=!1,C=an(A=>{s=A});function _(){return d?(f=!0,It(void 0)):(d=!0,Wr(a.read(),A=>{if(f=!1,A.done)return g||h.close(),I||l.close(),g&&I||s(void 0),null;let S=A.value,N=S,D=S;return g||h.enqueue(N),I||l.enqueue(D),d=!1,f&&_(),null},()=>(d=!1,null)),It(void 0))}function T(A){if(g=!0,u=A,I){let S=[u,c],N=a.cancel(S);s(N)}return C}function B(A){if(I=!0,c=A,g){let S=[u,c],N=a.cancel(S);s(N)}return C}let P=new Dr({start(A){h=A},pull:_,cancel:T}),p=new Dr({start(A){l=A},pull:_,cancel:B});return Jg(a.closed,A=>(h.error(A),l.error(A),g&&I||s(void 0),null)),[P,p]}(e)}var Es=class{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!ac(this))throw sc("desiredSize");return y1(this)}close(){if(!ac(this))throw sc("close");if(!Eu(this))throw new TypeError("The stream is not in a state that permits close");(function(e){if(!Eu(e))return;let n=e._controlledReadableStream;e._closeRequested=!0,e._queue.length===0&&(bc(e),Bu(n))})(this)}enqueue(e){if(!ac(this))throw sc("enqueue");if(!Eu(this))throw new TypeError("The stream is not in a state that permits enqueue");return function(n,t){if(!Eu(n))return;let r=n._controlledReadableStream;if(wo(r)&&Xc(r)>0)wp(r,t,!1);else{let a;try{a=n._strategySizeAlgorithm(t)}catch(u){throw Iu(n,u),u}try{Sp(n,t,a)}catch(u){throw Iu(n,u),u}}Au(n)}(this,e)}error(e){if(!ac(this))throw sc("error");Iu(this,e)}[gp](e){Ma(this);let n=this._cancelAlgorithm(e);return bc(this),n}[mp](e){let n=this._controlledReadableStream;if(this._queue.length>0){let t=kd(this);this._closeRequested&&this._queue.length===0?(bc(this),Bu(n)):Au(this),e._chunkSteps(t)}else $v(n,e),Au(this)}[vp](){}};function ac(e){return!!Gr(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")&&e instanceof Es}function Au(e){if(function(n){let t=n._controlledReadableStream;return!Eu(n)||!n._started?!1:!!(wo(t)&&Xc(t)>0||y1(n)>0)}(e)){if(e._pulling)return void(e._pullAgain=!0);e._pulling=!0,Wr(e._pullAlgorithm(),()=>(e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,Au(e)),null),n=>(Iu(e,n),null))}}function bc(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Iu(e,n){let t=e._controlledReadableStream;t._state==="readable"&&(Ma(e),bc(e),m1(t,n))}function y1(e){let n=e._controlledReadableStream._state;return n==="errored"?null:n==="closed"?0:e._strategyHWM-e._queueTotalSize}function Eu(e){return!e._closeRequested&&e._controlledReadableStream._state==="readable"}function P5(e,n,t,r){let a=Object.create(Es.prototype),u,c,h;u=n.start!==void 0?()=>n.start(a):()=>{},c=n.pull!==void 0?()=>n.pull(a):()=>It(void 0),h=n.cancel!==void 0?l=>n.cancel(l):()=>It(void 0),function(l,s,d,f,g,I,C){s._controlledReadableStream=l,s._queue=void 0,s._queueTotalSize=void 0,Ma(s),s._started=!1,s._closeRequested=!1,s._pullAgain=!1,s._pulling=!1,s._strategySizeAlgorithm=C,s._strategyHWM=I,s._pullAlgorithm=f,s._cancelAlgorithm=g,l._readableStreamController=s,Wr(It(d()),()=>(s._started=!0,Au(s),null),_=>(Iu(s,_),null))}(e,a,u,c,h,t,r)}function sc(e){return new TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`)}function B5(e,n,t){return si(e,t),r=>Rs(e,n,[r])}function N5(e,n,t){return si(e,t),r=>Rs(e,n,[r])}function O5(e,n,t){return si(e,t),r=>Zc(e,n,[r])}function x5(e,n){if((e=`${e}`)!="bytes")throw new TypeError(`${n} '${e}' is not a valid enumeration value for ReadableStreamType`);return e}function L5(e,n){if((e=`${e}`)!="byob")throw new TypeError(`${n} '${e}' is not a valid enumeration value for ReadableStreamReaderMode`);return e}function dm(e,n){sa(e,n);let t=e?.preventAbort,r=e?.preventCancel,a=e?.preventClose,u=e?.signal;return u!==void 0&&function(c,h){if(!function(l){if(typeof l!="object"||l===null)return!1;try{return typeof l.aborted=="boolean"}catch{return!1}}(c))throw new TypeError(`${h} is not an AbortSignal.`)}(u,`${n} has member 'signal' that`),{preventAbort:!!t,preventCancel:!!r,preventClose:!!a,signal:u}}function U5(e,n){sa(e,n);let t=e?.readable;Rd(t,"readable","ReadableWritablePair"),function(a,u){if(!Su(a))throw new TypeError(`${u} is not a ReadableStream.`)}(t,`${n} has member 'readable' that`);let r=e?.writable;return Rd(r,"writable","ReadableWritablePair"),function(a,u){if(!Mv(a))throw new TypeError(`${u} is not a WritableStream.`)}(r,`${n} has member 'writable' that`),{readable:t,writable:r}}Object.defineProperties(Es.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),wt(Es.prototype.close,"close"),wt(Es.prototype.enqueue,"enqueue"),wt(Es.prototype.error,"error"),typeof mt.toStringTag=="symbol"&&Object.defineProperty(Es.prototype,mt.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});var Dr=class{constructor(e={},n={}){e===void 0?e=null:qv(e,"First parameter");let t=Rc(n,"Second parameter"),r=function(u,c){sa(u,c);let h=u,l=h?.autoAllocateChunkSize,s=h?.cancel,d=h?.pull,f=h?.start,g=h?.type;return{autoAllocateChunkSize:l===void 0?void 0:Fv(l,`${c} has member 'autoAllocateChunkSize' that`),cancel:s===void 0?void 0:B5(s,h,`${c} has member 'cancel' that`),pull:d===void 0?void 0:N5(d,h,`${c} has member 'pull' that`),start:f===void 0?void 0:O5(f,h,`${c} has member 'start' that`),type:g===void 0?void 0:x5(g,`${c} has member 'type' that`)}}(e,"First parameter");var a;if((a=this)._state="readable",a._reader=void 0,a._storedError=void 0,a._disturbed=!1,r.type==="bytes"){if(t.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");w5(this,r,Pu(t,0))}else{let u=Ic(t);P5(this,r,Pu(t,1),u)}}get locked(){if(!As(this))throw ps("locked");return wo(this)}cancel(e){return As(this)?wo(this)?Je(new TypeError("Cannot cancel a stream that already has a reader")):g1(this,e):Je(ps("cancel"))}getReader(e){if(!As(this))throw ps("getReader");return function(n,t){sa(n,t);let r=n?.mode;return{mode:r===void 0?void 0:L5(r,`${t} has member 'mode' that`)}}(e,"First parameter").mode===void 0?new bs(this):function(n){return new ws(n)}(this)}pipeThrough(e,n={}){if(!Su(this))throw ps("pipeThrough");ua(e,1,"pipeThrough");let t=U5(e,"First parameter"),r=dm(n,"Second parameter");if(this.locked)throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(t.writable.locked)throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return vo(fm(this,t.writable,r.preventClose,r.preventAbort,r.preventCancel,r.signal)),t.readable}pipeTo(e,n={}){if(!Su(this))return Je(ps("pipeTo"));if(e===void 0)return Je("Parameter 1 is required in 'pipeTo'.");if(!Mv(e))return Je(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let t;try{t=dm(n,"Second parameter")}catch(r){return Je(r)}return this.locked?Je(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):e.locked?Je(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):fm(this,e,t.preventClose,t.preventAbort,t.preventCancel,t.signal)}tee(){if(!Su(this))throw ps("tee");if(this.locked)throw new TypeError("Cannot tee a stream that already has a reader");return k5(this)}values(e){if(!Su(this))throw ps("values");return function(n,t){let r=n.getReader(),a=new Wv(r,t),u=Object.create(Gv);return u._asyncIteratorImpl=a,u}(this,function(n,t){return sa(n,t),{preventCancel:!!n?.preventCancel}}(e,"First parameter").preventCancel)}};function As(e){return!!Gr(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")&&e instanceof Dr}function wo(e){return e._reader!==void 0}function g1(e,n){if(e._disturbed=!0,e._state==="closed")return It(void 0);if(e._state==="errored")return Je(e._storedError);Bu(e);let t=e._reader;if(t!==void 0&&yo(t)){let r=t._readIntoRequests;t._readIntoRequests=new Hn,r.forEach(a=>{a._closeSteps(void 0)})}return ni(e._readableStreamController[gp](n),Bv)}function Bu(e){e._state="closed";let n=e._reader;if(n!==void 0&&(Vv(n),Ts(n))){let t=n._readRequests;n._readRequests=new Hn,t.forEach(r=>{r._closeSteps()})}}function m1(e,n){e._state="errored",e._storedError=n;let t=e._reader;t!==void 0&&(bp(t,n),Ts(t)?Hv(t,n):s1(t,n))}function ps(e){return new TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`)}function v1(e,n){sa(e,n);let t=e?.highWaterMark;return Rd(t,"highWaterMark","QueuingStrategyInit"),{highWaterMark:_p(t)}}Object.defineProperties(Dr.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),wt(Dr.prototype.cancel,"cancel"),wt(Dr.prototype.getReader,"getReader"),wt(Dr.prototype.pipeThrough,"pipeThrough"),wt(Dr.prototype.pipeTo,"pipeTo"),wt(Dr.prototype.tee,"tee"),wt(Dr.prototype.values,"values"),typeof mt.toStringTag=="symbol"&&Object.defineProperty(Dr.prototype,mt.toStringTag,{value:"ReadableStream",configurable:!0}),typeof mt.asyncIterator=="symbol"&&Object.defineProperty(Dr.prototype,mt.asyncIterator,{value:Dr.prototype.values,writable:!0,configurable:!0});var b1=e=>e.byteLength;wt(b1,"size");var xd=class{constructor(e){ua(e,1,"ByteLengthQueuingStrategy"),e=v1(e,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!ym(this))throw pm("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!ym(this))throw pm("size");return b1}};function pm(e){return new TypeError(`ByteLengthQueuingStrategy.prototype.${e} can only be used on a ByteLengthQueuingStrategy`)}function ym(e){return!!Gr(e)&&!!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")&&e instanceof xd}Object.defineProperties(xd.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof mt.toStringTag=="symbol"&&Object.defineProperty(xd.prototype,mt.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});var _1=()=>1;wt(_1,"size");var Ld=class{constructor(e){ua(e,1,"CountQueuingStrategy"),e=v1(e,"First parameter"),this._countQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!mm(this))throw gm("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!mm(this))throw gm("size");return _1}};function gm(e){return new TypeError(`CountQueuingStrategy.prototype.${e} can only be used on a CountQueuingStrategy`)}function mm(e){return!!Gr(e)&&!!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")&&e instanceof Ld}function D5(e,n,t){return si(e,t),r=>Rs(e,n,[r])}function j5(e,n,t){return si(e,t),r=>Zc(e,n,[r])}function V5(e,n,t){return si(e,t),(r,a)=>Rs(e,n,[r,a])}Object.defineProperties(Ld.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof mt.toStringTag=="symbol"&&Object.defineProperty(Ld.prototype,mt.toStringTag,{value:"CountQueuingStrategy",configurable:!0});var Ud=class{constructor(e={},n={},t={}){e===void 0&&(e=null);let r=Rc(n,"Second parameter"),a=Rc(t,"Third parameter"),u=function(f,g){sa(f,g);let I=f?.flush,C=f?.readableType,_=f?.start,T=f?.transform,B=f?.writableType;return{flush:I===void 0?void 0:D5(I,f,`${g} has member 'flush' that`),readableType:C,start:_===void 0?void 0:j5(_,f,`${g} has member 'start' that`),transform:T===void 0?void 0:V5(T,f,`${g} has member 'transform' that`),writableType:B}}(e,"First parameter");if(u.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(u.writableType!==void 0)throw new RangeError("Invalid writableType specified");let c=Pu(a,0),h=Ic(a),l=Pu(r,1),s=Ic(r),d;(function(f,g,I,C,_,T){function B(){return g}function P(D){return function(E,m){let y=E._transformStreamController;return E._backpressure?ni(E._backpressureChangePromise,()=>{if((Ti(E._writable)?E._writable._state:E._writableState)==="erroring")throw Ti(E._writable)?E._writable._storedError:E._writableStoredError;return bm(y,m)}):bm(y,m)}(f,D)}function p(D){return function(E,m){return Bc(E,m),It(void 0)}(f,D)}function A(){return function(D){let E=D._transformStreamController,m=E._flushAlgorithm();return w1(E),ni(m,()=>{if(D._readableState==="errored")throw D._readableStoredError;Oc(D)&&E1(D)},y=>{throw Bc(D,y),D._readableStoredError})}(f)}function S(){return function(D){return Nc(D,!1),D._backpressureChangePromise}(f)}function N(D){return th(f,D),It(void 0)}f._writableState="writable",f._writableStoredError=void 0,f._writableHasInFlightOperation=!1,f._writableStarted=!1,f._writable=function(D,E,m,y,q,M,V){return new Ss({start(w){D._writableController=w;try{let L=w.signal;L!==void 0&&L.addEventListener("abort",()=>{D._writableState==="writable"&&(D._writableState="erroring",L.reason&&(D._writableStoredError=L.reason))})}catch{}return ni(E(),()=>(D._writableStarted=!0,wm(D),null),L=>{throw D._writableStarted=!0,fd(D,L),L})},write:w=>(function(L){L._writableHasInFlightOperation=!0}(D),ni(m(w),()=>(function(L){L._writableHasInFlightOperation=!1}(D),wm(D),null),L=>{throw function(j,O){j._writableHasInFlightOperation=!1,fd(j,O)}(D,L),L})),close:()=>(function(w){w._writableHasInFlightOperation=!0}(D),ni(y(),()=>(function(w){w._writableHasInFlightOperation=!1,w._writableState==="erroring"&&(w._writableStoredError=void 0),w._writableState="closed"}(D),null),w=>{throw function(L,j){L._writableHasInFlightOperation=!1,L._writableState,fd(L,j)}(D,w),w})),abort:w=>(D._writableState="errored",D._writableStoredError=w,q(w))},{highWaterMark:M,size:V})}(f,B,P,A,p,I,C),f._readableState="readable",f._readableStoredError=void 0,f._readableCloseRequested=!1,f._readablePulling=!1,f._readable=function(D,E,m,y,q,M){return new Dr({start:V=>(D._readableController=V,E().catch(w=>{xc(D,w)})),pull:()=>(D._readablePulling=!0,m().catch(V=>{xc(D,V)})),cancel:V=>(D._readableState="closed",y(V))},{highWaterMark:q,size:M})}(f,B,S,N,_,T),f._backpressure=void 0,f._backpressureChangePromise=void 0,f._backpressureChangePromise_resolve=void 0,Nc(f,!0),f._transformStreamController=void 0})(this,an(f=>{d=f}),l,s,c,h),function(f,g){let I=Object.create(Cs.prototype),C,_;C=g.transform!==void 0?T=>g.transform(T,I):T=>{try{return S1(I,T),It(void 0)}catch(B){return Je(B)}},_=g.flush!==void 0?()=>g.flush(I):()=>It(void 0),function(T,B,P,p){B._controlledTransformStream=T,T._transformStreamController=B,B._transformAlgorithm=P,B._flushAlgorithm=p}(f,I,C,_)}(this,u),u.start!==void 0?d(u.start(this._transformStreamController)):d(void 0)}get readable(){if(!vm(this))throw _m("readable");return this._readable}get writable(){if(!vm(this))throw _m("writable");return this._writable}};function vm(e){return!!Gr(e)&&!!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")&&e instanceof Ud}function Bc(e,n){xc(e,n),th(e,n)}function th(e,n){w1(e._transformStreamController),function(t,r){t._writableController.error(r),t._writableState==="writable"&&T1(t,r)}(e,n),e._backpressure&&Nc(e,!1)}function Nc(e,n){e._backpressureChangePromise!==void 0&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=an(t=>{e._backpressureChangePromise_resolve=t}),e._backpressure=n}Object.defineProperties(Ud.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof mt.toStringTag=="symbol"&&Object.defineProperty(Ud.prototype,mt.toStringTag,{value:"TransformStream",configurable:!0});var Cs=class{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!oc(this))throw uc("desiredSize");return C1(this._controlledTransformStream)}enqueue(e){if(!oc(this))throw uc("enqueue");S1(this,e)}error(e){if(!oc(this))throw uc("error");var n;n=e,Bc(this._controlledTransformStream,n)}terminate(){if(!oc(this))throw uc("terminate");(function(e){let n=e._controlledTransformStream;Oc(n)&&E1(n);let t=new TypeError("TransformStream terminated");th(n,t)})(this)}};function oc(e){return!!Gr(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")&&e instanceof Cs}function w1(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0}function S1(e,n){let t=e._controlledTransformStream;if(!Oc(t))throw new TypeError("Readable side is not in a state that permits enqueue");try{(function(r,a){r._readablePulling=!1;try{r._readableController.enqueue(a)}catch(u){throw xc(r,u),u}})(t,n)}catch(r){throw th(t,r),t._readableStoredError}(function(r){return!function(a){return Oc(a)?!!(a._readablePulling||C1(a)>0):!1}(r)})(t)!==t._backpressure&&Nc(t,!0)}function bm(e,n){return ni(e._transformAlgorithm(n),void 0,t=>{throw Bc(e._controlledTransformStream,t),t})}function uc(e){return new TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`)}function _m(e){return new TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`)}function Oc(e){return!e._readableCloseRequested&&e._readableState==="readable"}function E1(e){e._readableState="closed",e._readableCloseRequested=!0,e._readableController.close()}function xc(e,n){e._readableState==="readable"&&(e._readableState="errored",e._readableStoredError=n),e._readableController.error(n)}function C1(e){return e._readableController.desiredSize}function fd(e,n){e._writableState!=="writable"?Bp(e):T1(e,n)}function T1(e,n){e._writableState="erroring",e._writableStoredError=n,!function(t){return t._writableHasInFlightOperation}(e)&&e._writableStarted&&Bp(e)}function Bp(e){e._writableState="errored"}function wm(e){e._writableState==="erroring"&&Bp(e)}Object.defineProperties(Cs.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),wt(Cs.prototype.enqueue,"enqueue"),wt(Cs.prototype.error,"error"),wt(Cs.prototype.terminate,"terminate"),typeof mt.toStringTag=="symbol"&&Object.defineProperty(Cs.prototype,mt.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});var A1=65536;async function*q5(e){let n=e.byteOffset+e.byteLength,t=e.byteOffset;for(;t!==n;){let r=Math.min(n-t,A1),a=e.buffer.slice(t,t+r);t+=a.byteLength,yield new Uint8Array(a)}}async function*F5(e){let n=0;for(;n!==e.size;){let t=await e.slice(n,Math.min(e.size,n+A1)).arrayBuffer();n+=t.byteLength,yield new Uint8Array(t)}}async function*dd(e,n=!1){for(let t of e)ArrayBuffer.isView(t)?n?yield*q5(t):yield t:kr(t.stream)?yield*t.stream():yield*F5(t)}function*M5(e,n,t=0,r){r??(r=n);let a=t<0?Math.max(n+t,0):Math.min(t,n),u=r<0?Math.max(n+r,0):Math.min(r,n),c=Math.max(u-a,0),h=0;for(let l of e){if(h>=c)break;let s=ArrayBuffer.isView(l)?l.byteLength:l.size;if(a&&s<=a)a-=s,u-=s;else{let d;ArrayBuffer.isView(l)?(d=l.subarray(a,Math.min(s,u)),h+=d.byteLength):(d=l.slice(a,Math.min(s,u)),h+=d.size),u-=s,a=0,yield d}}}var La=function(e,n,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?e!==n||!r:!n.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(e):r?r.value:n.get(e)},Sm=function(e,n,t,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?e!==n||!a:!n.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(e,t):a?a.value=t:n.set(e,t),t},ys,lc,vu,So=class{constructor(e=[],n={}){if(ys.set(this,[]),lc.set(this,""),vu.set(this,0),n??(n={}),typeof e!="object"||e===null)throw new TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if(!kr(e[Symbol.iterator]))throw new TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if(typeof n!="object"&&!kr(n))throw new TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");let t=new TextEncoder;for(let a of e){let u;ArrayBuffer.isView(a)?u=new Uint8Array(a.buffer.slice(a.byteOffset,a.byteOffset+a.byteLength)):a instanceof ArrayBuffer?u=new Uint8Array(a.slice(0)):a instanceof So?u=a:u=t.encode(String(a)),Sm(this,vu,La(this,vu,"f")+(ArrayBuffer.isView(u)?u.byteLength:u.size),"f"),La(this,ys,"f").push(u)}let r=n.type===void 0?"":String(n.type);Sm(this,lc,/^[\x20-\x7E]*$/.test(r)?r:"","f")}static[(ys=new WeakMap,lc=new WeakMap,vu=new WeakMap,Symbol.hasInstance)](e){return!!(e&&typeof e=="object"&&kr(e.constructor)&&(kr(e.stream)||kr(e.arrayBuffer))&&/^(Blob|File)$/.test(e[Symbol.toStringTag]))}get type(){return La(this,lc,"f")}get size(){return La(this,vu,"f")}slice(e,n,t){return new So(M5(La(this,ys,"f"),this.size,e,n),{type:t})}async text(){let e=new TextDecoder,n="";for await(let t of dd(La(this,ys,"f")))n+=e.decode(t,{stream:!0});return n+=e.decode(),n}async arrayBuffer(){let e=new Uint8Array(this.size),n=0;for await(let t of dd(La(this,ys,"f")))e.set(t,n),n+=t.length;return e.buffer}stream(){let e=dd(La(this,ys,"f"),!0);return new Dr({async pull(n){let{value:t,done:r}=await e.next();if(r)return queueMicrotask(()=>n.close());n.enqueue(t)},async cancel(){await e.return()}})}get[Symbol.toStringTag](){return"Blob"}};Object.defineProperties(So.prototype,{type:{enumerable:!0},size:{enumerable:!0},slice:{enumerable:!0},stream:{enumerable:!0},text:{enumerable:!0},arrayBuffer:{enumerable:!0}});var z5=e=>e instanceof So,Em=function(e,n,t,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?e!==n||!a:!n.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(e,t):a?a.value=t:n.set(e,t),t},Cm=function(e,n,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?e!==n||!r:!n.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(e):r?r.value:n.get(e)},cc,hc,Lc=class extends So{constructor(e,n,t={}){if(super(e,t),cc.set(this,void 0),hc.set(this,0),arguments.length<2)throw new TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);Em(this,cc,String(n),"f");let r=t.lastModified===void 0?Date.now():Number(t.lastModified);Number.isNaN(r)||Em(this,hc,r,"f")}static[(cc=new WeakMap,hc=new WeakMap,Symbol.hasInstance)](e){return e instanceof So&&e[Symbol.toStringTag]==="File"&&typeof e.name=="string"}get name(){return Cm(this,cc,"f")}get webkitRelativePath(){return""}get lastModified(){return Cm(this,hc,"f")}get[Symbol.toStringTag](){return"File"}},$5=e=>e instanceof Lc,wi=function(e,n,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?e!==n||!r:!n.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(e):r?r.value:n.get(e)},fc,Si,pd,Tm=class{constructor(){fc.add(this),Si.set(this,new Map)}static[(Si=new WeakMap,fc=new WeakSet,Symbol.hasInstance)](e){if(!e)return!1;let n=e;return!!(kr(n.constructor)&&n[Symbol.toStringTag]==="FormData"&&kr(n.append)&&kr(n.set)&&kr(n.get)&&kr(n.getAll)&&kr(n.has)&&kr(n.delete)&&kr(n.entries)&&kr(n.values)&&kr(n.keys)&&kr(n[Symbol.iterator])&&kr(n.forEach))}append(e,n,t){wi(this,fc,"m",pd).call(this,{name:e,fileName:t,append:!0,rawValue:n,argsLength:arguments.length})}set(e,n,t){wi(this,fc,"m",pd).call(this,{name:e,fileName:t,append:!1,rawValue:n,argsLength:arguments.length})}get(e){let n=wi(this,Si,"f").get(String(e));return n?n[0]:null}getAll(e){let n=wi(this,Si,"f").get(String(e));return n?n.slice():[]}has(e){return wi(this,Si,"f").has(String(e))}delete(e){wi(this,Si,"f").delete(String(e))}*keys(){for(let e of wi(this,Si,"f").keys())yield e}*entries(){for(let e of this.keys()){let n=this.getAll(e);for(let t of n)yield[e,t]}}*values(){for(let[,e]of this)yield e}[(pd=function({name:e,rawValue:n,append:t,fileName:r,argsLength:a}){let u=t?"append":"set";if(a<2)throw new TypeError(`Failed to execute '${u}' on 'FormData': 2 arguments required, but only ${a} present.`);e=String(e);let c;if($5(n))c=r===void 0?n:new Lc([n],r,{type:n.type,lastModified:n.lastModified});else if(z5(n))c=new Lc([n],r===void 0?"blob":r,{type:n.type});else{if(r)throw new TypeError(`Failed to execute '${u}' on 'FormData': parameter 2 is not of type 'Blob'.`);c=String(n)}let h=wi(this,Si,"f").get(e);if(!h)return void wi(this,Si,"f").set(e,[c]);if(!t)return void wi(this,Si,"f").set(e,[c]);h.push(c)},Symbol.iterator)](){return this.entries()}forEach(e,n){for(let[t,r]of this)e.call(n,r,t,this)}get[Symbol.toStringTag](){return"FormData"}},K5=require("node:fs"),I1=require("node:fs/promises"),H5=require("node:path"),W5=vr(r3(),1),G5=e=>Object.prototype.toString.call(e).slice(8,-1).toLowerCase();function Q5(e){if(G5(e)!=="object")return!1;let n=Object.getPrototypeOf(e);return n==null?!0:(n.constructor&&n.constructor.toString())===Object.toString()}var Y5=Q5,Am=function(e,n,t,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?e!==n||!a:!n.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(e,t):a?a.value=t:n.set(e,t),t},gs=function(e,n,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?e!==n||!r:!n.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(e):r?r.value:n.get(e)},ms,lo,Z5="The requested file could not be read, typically due to permission problems that have occurred after a reference to a file was acquired.",R1=class{constructor(e){ms.set(this,void 0),lo.set(this,void 0),Am(this,ms,e.path,"f"),Am(this,lo,e.start||0,"f"),this.name=(0,H5.basename)(gs(this,ms,"f")),this.size=e.size,this.lastModified=e.lastModified}slice(e,n){return new R1({path:gs(this,ms,"f"),lastModified:this.lastModified,start:gs(this,lo,"f")+e,size:n-e})}async*stream(){let{mtimeMs:e}=await(0,I1.stat)(gs(this,ms,"f"));if(e>this.lastModified)throw new W5.default(Z5,"NotReadableError");this.size&&(yield*(0,K5.createReadStream)(gs(this,ms,"f"),{start:gs(this,lo,"f"),end:gs(this,lo,"f")+this.size-1}))}get[(ms=new WeakMap,lo=new WeakMap,Symbol.toStringTag)](){return"File"}};function X5(e,{mtimeMs:n,size:t},r,a={}){let u;Y5(r)?[a,u]=[r,void 0]:u=r;let c=new R1({path:e,size:t,lastModified:n});return u||(u=c.name),new Lc([c],u,{...a,lastModified:c.lastModified})}async function J5(e,n,t){let r=await(0,I1.stat)(e);return X5(e,r,n,t)}var eA=vr(q3(),1);async function tA(e,n,t){for(let r=0;r<n;r++){if(await e())return!0;await new Promise(a=>setTimeout(a,t))}return!1}var Np={apiKey:"API Key is required. To get one: https://addons.mozilla.org/en-US/developers/addon/api/key",apiSecret:"API Secret is required. To get one: https://addons.mozilla.org/en-US/developers/addon/api/key"},rA=Object.keys(Np),dc="https://addons.mozilla.org/api",nA=class{options={};get productEndpoint(){return`${dc}/v5/addons/addon/${encodeURIComponent(this.options.extId)}`}constructor(e){for(let n of rA){if(!e[n])throw new Error(Np[n]);this.options[n]=e[n]}typeof e.extId=="string"&&e.extId.length>0&&!e.extId.includes("@")&&(e.extId.startsWith("{")||(e.extId="{"+e.extId),e.extId.endsWith("}")||(e.extId+="}")),this.options.extId=e.extId,this.options.channel=e.channel||"listed",e.license==="inherit"?delete e.license:e.license=e.license||"all-rights-reserved"}submit=async({filePath:e,version:n="1.0.0"})=>{let t=await this.uploadFile({filePath:e});if(!await tA(async()=>(await this.getUpload({uploadUuid:t.uuid})).valid,8,2400))throw new Error("Upload has not been validated in time.");return await this.createVersion({uploadUuid:t.uuid,version:n})};uploadFile=async({filePath:e})=>{let n=await this.getAccessToken(),t=`${dc}/v5/addons/upload/`,r=new Tm;r.append("upload",await J5(e)),r.append("channel",this.options.channel);let a=await jr.post(t,{body:r,headers:{Authorization:`JWT ${n}`},throwHttpErrors:!1});if(a.statusCode>=400)throw a.statusCode===401?new Error("Invalid access token"):a.statusCode===403?new Error("You do not own this add-on"):(console.log(a.body),new Error(JSON.parse(a.body).error||"Unknown error"));return JSON.parse(a.body)};createVersion=async({uploadUuid:e,version:n})=>{let t=await this.getAccessToken(),r=`${this.productEndpoint}/versions/`,a=new Tm;a.append("upload",e);let u=await jr.post(r,{body:a,headers:{Authorization:`JWT ${t}`},throwHttpErrors:!1});if(u.statusCode>=400)throw u.statusCode===401?new Error("Invalid access token"):u.statusCode===403?new Error("You do not own this add-on"):u.statusCode===409?new Error(`Version ${n} already exists`):(console.log(u.body),new Error(JSON.parse(u.body).error||"Unknown error"));return JSON.parse(u.body)};getUpload=async({uploadUuid:e})=>{let n=await this.getAccessToken(),t=`${dc}/v5/addons/upload/${e}`;return jr.get(t,{headers:{Authorization:`JWT ${n}`}}).json()};getVersion=async({version:e="1.0.0"})=>{let n=await this.getAccessToken(),t=`${this.productEndpoint}/versions/${encodeURIComponent(e)}/`;return jr.get(t,{headers:{Authorization:`JWT ${n}`}}).json()};getProfile=async()=>{let e=await this.getAccessToken(),n=`${dc}/v5/accounts/profile`;return jr.get(n,{headers:{Authorization:`JWT ${e}`}}).json()};getAccessToken=async()=>{let e=Math.floor(Date.now()/1e3),n={iss:this.options.apiKey,jti:Math.random().toString(),iat:e,exp:e+60*5};return eA.default.sign(n,this.options.apiSecret,{algorithm:"HS256"})}},Nu="firefox",iA=Qc(Nu);function aA(e){return la(this,null,function*(){var n=e,{extId:t,zip:r,dryRun:a}=n,u=jc(n,["extId","zip","dryRun"]),c,h,l,s;let d=Wc(r),f=((h=(c=d.browser_specific_settings)==null?void 0:c.gecko)==null?void 0:h.id)||((s=(l=d.applications)==null?void 0:l.gecko)==null?void 0:s.id)||t,g=new nA(Dc({extId:f},u));if(iA(`Updating extension with ID ${f}`),a)return!0;try{return yield g.submit({filePath:r,version:d.version}),Gc({extId:f,market:Nu,zip:r}),!0}catch(I){throw Yc(I,Nu,`"${f}" (${d.name})`)}})}function sA(e){return la(this,null,function*(){return e.zip=qu(e),e.verbose&&Fu(Nu),Mu({market:Nu,options:e,errorMap:Np}),aA(e)})}var oA={packageId:"No package ID is provided, e.g. https://addons.opera.com/developer/package/PACKAGE_ID",sessionid:`No "sessionid" is provided. If you have a hard time obtaining it, run:
web-ext-deploy --get-cookies=opera`,csrftoken:`No "csrftoken" is provided. If you have a hard time obtaining it, run:
web-ext-deploy --get-cookies=opera`},Im="opera";function uA(e){return la(this,null,function*(){throw e.zip=qu(e),e.changelog&&(e.changelog=e.changelog.replace(/\/\/n/g,`
`)),e.verbose&&Fu(Im),Mu({market:Im,options:e,errorMap:oA}),new Error("Opera submission is not supported at this time, due to lack of automation API - their CSRF token and cookies expires in 24 hours. It will be faster to just drag/drop the zip on their dev portal.")})}var lA=require("fs/promises"),cA=require("module"),Uc=require("path"),k1=require("crypto"),hA=Object.create,P1=Object.defineProperty,fA=Object.getOwnPropertyDescriptor,dA=Object.getOwnPropertyNames,pA=Object.getPrototypeOf,yA=Object.prototype.hasOwnProperty,mo=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(n,t)=>(typeof require<"u"?require:n)[t]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')}),Qe=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),gA=(e,n,t,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let a of dA(n))!yA.call(e,a)&&a!==t&&P1(e,a,{get:()=>n[a],enumerable:!(r=fA(n,a))||r.enumerable});return e},Io=(e,n,t)=>(t=e!=null?hA(pA(e)):{},gA(n||!e||!e.__esModule?P1(t,"default",{value:e,enumerable:!0}):t,e)),mA=Qe((e,n)=>{(function(t,r){typeof e=="object"&&typeof n<"u"?r(e):typeof define=="function"&&define.amd?define(["exports"],r):(t=typeof globalThis<"u"?globalThis:t||self,r(t.WebStreamsPolyfill={}))})(e,function(t){"use strict";let r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:b=>`Symbol(${b})`;function a(){}function u(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}let c=u();function h(b){return typeof b=="object"&&b!==null||typeof b=="function"}let l=a,s=Promise,d=Promise.prototype.then,f=Promise.resolve.bind(s),g=Promise.reject.bind(s);function I(b){return new s(b)}function C(b){return f(b)}function _(b){return g(b)}function T(b,k,K){return d.call(b,k,K)}function B(b,k,K){T(T(b,k,K),void 0,l)}function P(b,k){B(b,k)}function p(b,k){B(b,void 0,k)}function A(b,k,K){return T(b,k,K)}function S(b){T(b,void 0,l)}let N=(()=>{let b=c&&c.queueMicrotask;if(typeof b=="function")return b;let k=C(void 0);return K=>T(k,K)})();function D(b,k,K){if(typeof b!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(b,k,K)}function E(b,k,K){try{return C(D(b,k,K))}catch(te){return _(te)}}let m=16384;class y{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(k){let K=this._back,te=K;K._elements.length===m-1&&(te={_elements:[],_next:void 0}),K._elements.push(k),te!==K&&(this._back=te,K._next=te),++this._size}shift(){let k=this._front,K=k,te=this._cursor,fe=te+1,me=k._elements,Re=me[te];return fe===m&&(K=k._next,fe=0),--this._size,this._cursor=fe,k!==K&&(this._front=K),me[te]=void 0,Re}forEach(k){let K=this._cursor,te=this._front,fe=te._elements;for(;(K!==fe.length||te._next!==void 0)&&!(K===fe.length&&(te=te._next,fe=te._elements,K=0,fe.length===0));)k(fe[K]),++K}peek(){let k=this._front,K=this._cursor;return k._elements[K]}}function q(b,k){b._ownerReadableStream=k,k._reader=b,k._state==="readable"?L(b):k._state==="closed"?O(b):j(b,k._storedError)}function M(b,k){let K=b._ownerReadableStream;return Ke(K,k)}function V(b){b._ownerReadableStream._state==="readable"?F(b,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):J(b,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),b._ownerReadableStream._reader=void 0,b._ownerReadableStream=void 0}function w(b){return new TypeError("Cannot "+b+" a stream using a released reader")}function L(b){b._closedPromise=I((k,K)=>{b._closedPromise_resolve=k,b._closedPromise_reject=K})}function j(b,k){L(b),F(b,k)}function O(b){L(b),oe(b)}function F(b,k){b._closedPromise_reject!==void 0&&(S(b._closedPromise),b._closedPromise_reject(k),b._closedPromise_resolve=void 0,b._closedPromise_reject=void 0)}function J(b,k){j(b,k)}function oe(b){b._closedPromise_resolve!==void 0&&(b._closedPromise_resolve(void 0),b._closedPromise_resolve=void 0,b._closedPromise_reject=void 0)}let se=r("[[AbortSteps]]"),de=r("[[ErrorSteps]]"),ke=r("[[CancelSteps]]"),Oe=r("[[PullSteps]]"),Ve=Number.isFinite||function(b){return typeof b=="number"&&isFinite(b)},Ee=Math.trunc||function(b){return b<0?Math.ceil(b):Math.floor(b)};function We(b){return typeof b=="object"||typeof b=="function"}function Ce(b,k){if(b!==void 0&&!We(b))throw new TypeError(`${k} is not an object.`)}function et(b,k){if(typeof b!="function")throw new TypeError(`${k} is not a function.`)}function Xe(b){return typeof b=="object"&&b!==null||typeof b=="function"}function x(b,k){if(!Xe(b))throw new TypeError(`${k} is not an object.`)}function Y(b,k,K){if(b===void 0)throw new TypeError(`Parameter ${k} is required in '${K}'.`)}function G(b,k,K){if(b===void 0)throw new TypeError(`${k} is required in '${K}'.`)}function R(b){return Number(b)}function H(b){return b===0?0:b}function ie(b){return H(Ee(b))}function ee(b,k){let K=Number.MAX_SAFE_INTEGER,te=Number(b);if(te=H(te),!Ve(te))throw new TypeError(`${k} is not a finite number`);if(te=ie(te),te<0||te>K)throw new TypeError(`${k} is outside the accepted range of 0 to ${K}, inclusive`);return!Ve(te)||te===0?0:te}function _e(b,k){if(!pe(b))throw new TypeError(`${k} is not a ReadableStream.`)}function Le(b){return new rt(b)}function je(b,k){b._reader._readRequests.push(k)}function ye(b,k,K){let te=b._reader._readRequests.shift();K?te._closeSteps():te._chunkSteps(k)}function Ne(b){return b._reader._readRequests.length}function He(b){let k=b._reader;return!(k===void 0||!$e(k))}class rt{constructor(k){if(Y(k,1,"ReadableStreamDefaultReader"),_e(k,"First parameter"),Ue(k))throw new TypeError("This stream has already been locked for exclusive reading by another reader");q(this,k),this._readRequests=new y}get closed(){return $e(this)?this._closedPromise:_(Et("closed"))}cancel(k=void 0){return $e(this)?this._ownerReadableStream===void 0?_(w("cancel")):M(this,k):_(Et("cancel"))}read(){if(!$e(this))return _(Et("read"));if(this._ownerReadableStream===void 0)return _(w("read from"));let k,K,te=I((fe,me)=>{k=fe,K=me});return kt(this,{_chunkSteps:fe=>k({value:fe,done:!1}),_closeSteps:()=>k({value:void 0,done:!0}),_errorSteps:fe=>K(fe)}),te}releaseLock(){if(!$e(this))throw Et("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");V(this)}}}Object.defineProperties(rt.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(rt.prototype,r.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});function $e(b){return!h(b)||!Object.prototype.hasOwnProperty.call(b,"_readRequests")?!1:b instanceof rt}function kt(b,k){let K=b._ownerReadableStream;K._disturbed=!0,K._state==="closed"?k._closeSteps():K._state==="errored"?k._errorSteps(K._storedError):K._readableStreamController[Oe](k)}function Et(b){return new TypeError(`ReadableStreamDefaultReader.prototype.${b} can only be used on a ReadableStreamDefaultReader`)}let Ct=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype);class Nt{constructor(k,K){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=k,this._preventCancel=K}next(){let k=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?A(this._ongoingPromise,k,k):k(),this._ongoingPromise}return(k){let K=()=>this._returnSteps(k);return this._ongoingPromise?A(this._ongoingPromise,K,K):K()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});let k=this._reader;if(k._ownerReadableStream===void 0)return _(w("iterate"));let K,te,fe=I((me,Re)=>{K=me,te=Re});return kt(k,{_chunkSteps:me=>{this._ongoingPromise=void 0,N(()=>K({value:me,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,V(k),K({value:void 0,done:!0})},_errorSteps:me=>{this._ongoingPromise=void 0,this._isFinished=!0,V(k),te(me)}}),fe}_returnSteps(k){if(this._isFinished)return Promise.resolve({value:k,done:!0});this._isFinished=!0;let K=this._reader;if(K._ownerReadableStream===void 0)return _(w("finish iterating"));if(!this._preventCancel){let te=M(K,k);return V(K),A(te,()=>({value:k,done:!0}))}return V(K),C({value:k,done:!0})}}let Pt={next(){return zt(this)?this._asyncIteratorImpl.next():_(Yt("next"))},return(b){return zt(this)?this._asyncIteratorImpl.return(b):_(Yt("return"))}};Ct!==void 0&&Object.setPrototypeOf(Pt,Ct);function Ot(b,k){let K=Le(b),te=new Nt(K,k),fe=Object.create(Pt);return fe._asyncIteratorImpl=te,fe}function zt(b){if(!h(b)||!Object.prototype.hasOwnProperty.call(b,"_asyncIteratorImpl"))return!1;try{return b._asyncIteratorImpl instanceof Nt}catch{return!1}}function Yt(b){return new TypeError(`ReadableStreamAsyncIterator.${b} can only be used on a ReadableSteamAsyncIterator`)}let $t=Number.isNaN||function(b){return b!==b};function Kt(b){return b.slice()}function ur(b,k,K,te,fe){new Uint8Array(b).set(new Uint8Array(K,te,fe),k)}function Er(b){return b}function yr(b){return!1}function Vr(b,k,K){if(b.slice)return b.slice(k,K);let te=K-k,fe=new ArrayBuffer(te);return ur(fe,0,b,k,te),fe}function un(b){return!(typeof b!="number"||$t(b)||b<0)}function Qr(b){let k=Vr(b.buffer,b.byteOffset,b.byteOffset+b.byteLength);return new Uint8Array(k)}function Yr(b){let k=b._queue.shift();return b._queueTotalSize-=k.size,b._queueTotalSize<0&&(b._queueTotalSize=0),k.value}function bn(b,k,K){if(!un(K)||K===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");b._queue.push({value:k,size:K}),b._queueTotalSize+=K}function ui(b){return b._queue.peek().value}function qr(b){b._queue=new y,b._queueTotalSize=0}class On{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!Zt(this))throw ya("view");return this._view}respond(k){if(!Zt(this))throw ya("respond");if(Y(k,1,"respond"),k=ee(k,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");yr(this._view.buffer),da(this._associatedReadableByteStreamController,k)}respondWithNewView(k){if(!Zt(this))throw ya("respondWithNewView");if(Y(k,1,"respondWithNewView"),!ArrayBuffer.isView(k))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");yr(k.buffer),pa(this._associatedReadableByteStreamController,k)}}Object.defineProperties(On.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(On.prototype,r.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class Lt{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!Ut(this))throw br("byobRequest");return za(this)}get desiredSize(){if(!Ut(this))throw br("desiredSize");return Pi(this)}close(){if(!Ut(this))throw br("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");let k=this._controlledReadableByteStream._state;if(k!=="readable")throw new TypeError(`The stream (in ${k} state) is not in the readable state and cannot be closed`);ki(this)}enqueue(k){if(!Ut(this))throw br("enqueue");if(Y(k,1,"enqueue"),!ArrayBuffer.isView(k))throw new TypeError("chunk must be an array buffer view");if(k.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(k.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");let K=this._controlledReadableByteStream._state;if(K!=="readable")throw new TypeError(`The stream (in ${K} state) is not in the readable state and cannot be enqueued to`);_n(this,k)}error(k=void 0){if(!Ut(this))throw br("error");Cr(this,k)}[ke](k){Ht(this),qr(this);let K=this._cancelAlgorithm(k);return fa(this),K}[Oe](k){let K=this._controlledReadableByteStream;if(this._queueTotalSize>0){let fe=this._queue.shift();this._queueTotalSize-=fe.byteLength,nr(this);let me=new Uint8Array(fe.buffer,fe.byteOffset,fe.byteLength);k._chunkSteps(me);return}let te=this._autoAllocateChunkSize;if(te!==void 0){let fe;try{fe=new ArrayBuffer(te)}catch(Re){k._errorSteps(Re);return}let me={buffer:fe,bufferByteLength:te,byteOffset:0,byteLength:te,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(me)}je(K,k),Dt(this)}}Object.defineProperties(Lt.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Lt.prototype,r.toStringTag,{value:"ReadableByteStreamController",configurable:!0});function Ut(b){return!h(b)||!Object.prototype.hasOwnProperty.call(b,"_controlledReadableByteStream")?!1:b instanceof Lt}function Zt(b){return!h(b)||!Object.prototype.hasOwnProperty.call(b,"_associatedReadableByteStreamController")?!1:b instanceof On}function Dt(b){if(!ko(b))return;if(b._pulling){b._pullAgain=!0;return}b._pulling=!0;let k=b._pullAlgorithm();B(k,()=>{b._pulling=!1,b._pullAgain&&(b._pullAgain=!1,Dt(b))},K=>{Cr(b,K)})}function Ht(b){Jt(b),b._pendingPullIntos=new y}function Xt(b,k){let K=!1;b._state==="closed"&&(K=!0);let te=Wt(k);k.readerType==="default"?ye(b,te,K):Po(b,te,K)}function Wt(b){let k=b.bytesFilled,K=b.elementSize;return new b.viewConstructor(b.buffer,b.byteOffset,k/K)}function Gt(b,k,K,te){b._queue.push({buffer:k,byteOffset:K,byteLength:te}),b._queueTotalSize+=te}function tr(b,k){let K=k.elementSize,te=k.bytesFilled-k.bytesFilled%K,fe=Math.min(b._queueTotalSize,k.byteLength-k.bytesFilled),me=k.bytesFilled+fe,Re=me-me%K,qe=fe,nt=!1;Re>te&&(qe=Re-k.bytesFilled,nt=!0);let st=b._queue;for(;qe>0;){let ct=st.peek(),dt=Math.min(qe,ct.byteLength),Ft=k.byteOffset+k.bytesFilled;ur(k.buffer,Ft,ct.buffer,ct.byteOffset,dt),ct.byteLength===dt?st.shift():(ct.byteOffset+=dt,ct.byteLength-=dt),b._queueTotalSize-=dt,rr(b,dt,k),qe-=dt}return nt}function rr(b,k,K){K.bytesFilled+=k}function nr(b){b._queueTotalSize===0&&b._closeRequested?(fa(b),ht(b._controlledReadableByteStream)):Dt(b)}function Jt(b){b._byobRequest!==null&&(b._byobRequest._associatedReadableByteStreamController=void 0,b._byobRequest._view=null,b._byobRequest=null)}function ir(b){for(;b._pendingPullIntos.length>0;){if(b._queueTotalSize===0)return;let k=b._pendingPullIntos.peek();tr(b,k)&&(ha(b),Xt(b._controlledReadableByteStream,k))}}function lr(b,k,K){let te=b._controlledReadableByteStream,fe=1;k.constructor!==DataView&&(fe=k.constructor.BYTES_PER_ELEMENT);let me=k.constructor,Re=k.buffer,qe={buffer:Re,bufferByteLength:Re.byteLength,byteOffset:k.byteOffset,byteLength:k.byteLength,bytesFilled:0,elementSize:fe,viewConstructor:me,readerType:"byob"};if(b._pendingPullIntos.length>0){b._pendingPullIntos.push(qe),Us(te,K);return}if(te._state==="closed"){let nt=new me(qe.buffer,qe.byteOffset,0);K._closeSteps(nt);return}if(b._queueTotalSize>0){if(tr(b,qe)){let nt=Wt(qe);nr(b),K._chunkSteps(nt);return}if(b._closeRequested){let nt=new TypeError("Insufficient bytes to fill elements in the given buffer");Cr(b,nt),K._errorSteps(nt);return}}b._pendingPullIntos.push(qe),Us(te,K),Dt(b)}function Mt(b,k){let K=b._controlledReadableByteStream;if($(K))for(;$a(K)>0;){let te=ha(b);Xt(K,te)}}function er(b,k,K){if(rr(b,k,K),K.bytesFilled<K.elementSize)return;ha(b);let te=K.bytesFilled%K.elementSize;if(te>0){let fe=K.byteOffset+K.bytesFilled,me=Vr(K.buffer,fe-te,fe);Gt(b,me,0,me.byteLength)}K.bytesFilled-=te,Xt(b._controlledReadableByteStream,K),ir(b)}function Bs(b,k){let K=b._pendingPullIntos.peek();Jt(b),b._controlledReadableByteStream._state==="closed"?Mt(b):er(b,k,K),Dt(b)}function ha(b){return b._pendingPullIntos.shift()}function ko(b){let k=b._controlledReadableByteStream;return k._state!=="readable"||b._closeRequested||!b._started?!1:!!(He(k)&&Ne(k)>0||$(k)&&$a(k)>0||Pi(b)>0)}function fa(b){b._pullAlgorithm=void 0,b._cancelAlgorithm=void 0}function ki(b){let k=b._controlledReadableByteStream;if(!(b._closeRequested||k._state!=="readable")){if(b._queueTotalSize>0){b._closeRequested=!0;return}if(b._pendingPullIntos.length>0&&b._pendingPullIntos.peek().bytesFilled>0){let K=new TypeError("Insufficient bytes to fill elements in the given buffer");throw Cr(b,K),K}fa(b),ht(k)}}function _n(b,k){let K=b._controlledReadableByteStream;if(b._closeRequested||K._state!=="readable")return;let te=k.buffer,fe=k.byteOffset,me=k.byteLength,Re=te;if(b._pendingPullIntos.length>0){let qe=b._pendingPullIntos.peek();yr(qe.buffer),qe.buffer=qe.buffer}if(Jt(b),He(K))if(Ne(K)===0)Gt(b,Re,fe,me);else{b._pendingPullIntos.length>0&&ha(b);let qe=new Uint8Array(Re,fe,me);ye(K,qe,!1)}else $(K)?(Gt(b,Re,fe,me),ir(b)):Gt(b,Re,fe,me);Dt(b)}function Cr(b,k){let K=b._controlledReadableByteStream;K._state==="readable"&&(Ht(b),qr(b),fa(b),cr(K,k))}function za(b){if(b._byobRequest===null&&b._pendingPullIntos.length>0){let k=b._pendingPullIntos.peek(),K=new Uint8Array(k.buffer,k.byteOffset+k.bytesFilled,k.byteLength-k.bytesFilled),te=Object.create(On.prototype);xs(te,b,K),b._byobRequest=te}return b._byobRequest}function Pi(b){let k=b._controlledReadableByteStream._state;return k==="errored"?null:k==="closed"?0:b._strategyHWM-b._queueTotalSize}function da(b,k){let K=b._pendingPullIntos.peek();if(b._controlledReadableByteStream._state==="closed"){if(k!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(k===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(K.bytesFilled+k>K.byteLength)throw new RangeError("bytesWritten out of range")}K.buffer=K.buffer,Bs(b,k)}function pa(b,k){let K=b._pendingPullIntos.peek();if(b._controlledReadableByteStream._state==="closed"){if(k.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(k.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(K.byteOffset+K.bytesFilled!==k.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(K.bufferByteLength!==k.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(K.bytesFilled+k.byteLength>K.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");let te=k.byteLength;K.buffer=k.buffer,Bs(b,te)}function Ns(b,k,K,te,fe,me,Re){k._controlledReadableByteStream=b,k._pullAgain=!1,k._pulling=!1,k._byobRequest=null,k._queue=k._queueTotalSize=void 0,qr(k),k._closeRequested=!1,k._started=!1,k._strategyHWM=me,k._pullAlgorithm=te,k._cancelAlgorithm=fe,k._autoAllocateChunkSize=Re,k._pendingPullIntos=new y,b._readableStreamController=k;let qe=K();B(C(qe),()=>{k._started=!0,Dt(k)},nt=>{Cr(k,nt)})}function Os(b,k,K){let te=Object.create(Lt.prototype),fe=()=>{},me=()=>C(void 0),Re=()=>C(void 0);k.start!==void 0&&(fe=()=>k.start(te)),k.pull!==void 0&&(me=()=>k.pull(te)),k.cancel!==void 0&&(Re=nt=>k.cancel(nt));let qe=k.autoAllocateChunkSize;if(qe===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");Ns(b,te,fe,me,Re,K,qe)}function xs(b,k,K){b._associatedReadableByteStreamController=k,b._view=K}function ya(b){return new TypeError(`ReadableStreamBYOBRequest.prototype.${b} can only be used on a ReadableStreamBYOBRequest`)}function br(b){return new TypeError(`ReadableByteStreamController.prototype.${b} can only be used on a ReadableByteStreamController`)}function Ls(b){return new W(b)}function Us(b,k){b._reader._readIntoRequests.push(k)}function Po(b,k,K){let te=b._reader._readIntoRequests.shift();K?te._closeSteps(k):te._chunkSteps(k)}function $a(b){return b._reader._readIntoRequests.length}function $(b){let k=b._reader;return!(k===void 0||!X(k))}class W{constructor(k){if(Y(k,1,"ReadableStreamBYOBReader"),_e(k,"First parameter"),Ue(k))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!Ut(k._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");q(this,k),this._readIntoRequests=new y}get closed(){return X(this)?this._closedPromise:_(ve("closed"))}cancel(k=void 0){return X(this)?this._ownerReadableStream===void 0?_(w("cancel")):M(this,k):_(ve("cancel"))}read(k){if(!X(this))return _(ve("read"));if(!ArrayBuffer.isView(k))return _(new TypeError("view must be an array buffer view"));if(k.byteLength===0)return _(new TypeError("view must have non-zero byteLength"));if(k.buffer.byteLength===0)return _(new TypeError("view's buffer must have non-zero byteLength"));if(yr(k.buffer),this._ownerReadableStream===void 0)return _(w("read from"));let K,te,fe=I((me,Re)=>{K=me,te=Re});return le(this,k,{_chunkSteps:me=>K({value:me,done:!1}),_closeSteps:me=>K({value:me,done:!0}),_errorSteps:me=>te(me)}),fe}releaseLock(){if(!X(this))throw ve("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");V(this)}}}Object.defineProperties(W.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(W.prototype,r.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});function X(b){return!h(b)||!Object.prototype.hasOwnProperty.call(b,"_readIntoRequests")?!1:b instanceof W}function le(b,k,K){let te=b._ownerReadableStream;te._disturbed=!0,te._state==="errored"?K._errorSteps(te._storedError):lr(te._readableStreamController,k,K)}function ve(b){return new TypeError(`ReadableStreamBYOBReader.prototype.${b} can only be used on a ReadableStreamBYOBReader`)}function Se(b,k){let{highWaterMark:K}=b;if(K===void 0)return k;if($t(K)||K<0)throw new RangeError("Invalid highWaterMark");return K}function xe(b){let{size:k}=b;return k||(()=>1)}function Be(b,k){Ce(b,k);let K=b?.highWaterMark,te=b?.size;return{highWaterMark:K===void 0?void 0:R(K),size:te===void 0?void 0:bt(te,`${k} has member 'size' that`)}}function bt(b,k){return et(b,k),K=>R(b(K))}function ar(b,k){Ce(b,k);let K=b?.abort,te=b?.close,fe=b?.start,me=b?.type,Re=b?.write;return{abort:K===void 0?void 0:Tr(K,b,`${k} has member 'abort' that`),close:te===void 0?void 0:Pr(te,b,`${k} has member 'close' that`),start:fe===void 0?void 0:ln(fe,b,`${k} has member 'start' that`),write:Re===void 0?void 0:li(Re,b,`${k} has member 'write' that`),type:me}}function Tr(b,k,K){return et(b,K),te=>E(b,k,[te])}function Pr(b,k,K){return et(b,K),()=>E(b,k,[])}function ln(b,k,K){return et(b,K),te=>D(b,k,[te])}function li(b,k,K){return et(b,K),(te,fe)=>E(b,k,[te,fe])}function Ar(b,k){if(!Ni(b))throw new TypeError(`${k} is not a WritableStream.`)}function gr(b){if(typeof b!="object"||b===null)return!1;try{return typeof b.aborted=="boolean"}catch{return!1}}let Bi=typeof AbortController=="function";function wn(){if(Bi)return new AbortController}class Wn{constructor(k={},K={}){k===void 0?k=null:x(k,"First parameter");let te=Be(K,"Second parameter"),fe=ar(k,"First parameter");if(No(this),fe.type!==void 0)throw new RangeError("Invalid type is specified");let me=xe(te),Re=Se(te,1);Ju(this,fe,Re,me)}get locked(){if(!Ni(this))throw ma("locked");return ga(this)}abort(k=void 0){return Ni(this)?ga(this)?_(new TypeError("Cannot abort a stream that already has a writer")):Ds(this,k):_(ma("abort"))}close(){return Ni(this)?ga(this)?_(new TypeError("Cannot close a stream that already has a writer")):xn(this)?_(new TypeError("Cannot close an already-closing stream")):Gu(this):_(ma("close"))}getWriter(){if(!Ni(this))throw ma("getWriter");return Bo(this)}}Object.defineProperties(Wn.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Wn.prototype,r.toStringTag,{value:"WritableStream",configurable:!0});function Bo(b){return new Ka(b)}function Wu(b,k,K,te,fe=1,me=()=>1){let Re=Object.create(Wn.prototype);No(Re);let qe=Object.create(hi.prototype);return Vo(Re,qe,b,k,K,te,fe,me),Re}function No(b){b._state="writable",b._storedError=void 0,b._writer=void 0,b._writableStreamController=void 0,b._writeRequests=new y,b._inFlightWriteRequest=void 0,b._closeRequest=void 0,b._inFlightCloseRequest=void 0,b._pendingAbortRequest=void 0,b._backpressure=!1}function Ni(b){return!h(b)||!Object.prototype.hasOwnProperty.call(b,"_writableStreamController")?!1:b instanceof Wn}function ga(b){return b._writer!==void 0}function Ds(b,k){var K;if(b._state==="closed"||b._state==="errored")return C(void 0);b._writableStreamController._abortReason=k,(K=b._writableStreamController._abortController)===null||K===void 0||K.abort();let te=b._state;if(te==="closed"||te==="errored")return C(void 0);if(b._pendingAbortRequest!==void 0)return b._pendingAbortRequest._promise;let fe=!1;te==="erroring"&&(fe=!0,k=void 0);let me=I((Re,qe)=>{b._pendingAbortRequest={_promise:void 0,_resolve:Re,_reject:qe,_reason:k,_wasAlreadyErroring:fe}});return b._pendingAbortRequest._promise=me,fe||xo(b,k),me}function Gu(b){let k=b._state;if(k==="closed"||k==="errored")return _(new TypeError(`The stream (in ${k} state) is not in the writable state and cannot be closed`));let K=I((fe,me)=>{let Re={_resolve:fe,_reject:me};b._closeRequest=Re}),te=b._writer;return te!==void 0&&b._backpressure&&k==="writable"&&Ga(te),el(b._writableStreamController),K}function Qu(b){return I((k,K)=>{let te={_resolve:k,_reject:K};b._writeRequests.push(te)})}function Oo(b,k){if(b._state==="writable"){xo(b,k);return}Lo(b)}function xo(b,k){let K=b._writableStreamController;b._state="erroring",b._storedError=k;let te=b._writer;te!==void 0&&Xu(te,k),!hh(b)&&K._started&&Lo(b)}function Lo(b){b._state="errored",b._writableStreamController[de]();let k=b._storedError;if(b._writeRequests.forEach(fe=>{fe._reject(k)}),b._writeRequests=new y,b._pendingAbortRequest===void 0){Tt(b);return}let K=b._pendingAbortRequest;if(b._pendingAbortRequest=void 0,K._wasAlreadyErroring){K._reject(k),Tt(b);return}let te=b._writableStreamController[se](K._reason);B(te,()=>{K._resolve(),Tt(b)},fe=>{K._reject(fe),Tt(b)})}function uh(b){b._inFlightWriteRequest._resolve(void 0),b._inFlightWriteRequest=void 0}function Uo(b,k){b._inFlightWriteRequest._reject(k),b._inFlightWriteRequest=void 0,Oo(b,k)}function lh(b){b._inFlightCloseRequest._resolve(void 0),b._inFlightCloseRequest=void 0,b._state==="erroring"&&(b._storedError=void 0,b._pendingAbortRequest!==void 0&&(b._pendingAbortRequest._resolve(),b._pendingAbortRequest=void 0)),b._state="closed";let k=b._writer;k!==void 0&&Mo(k)}function ch(b,k){b._inFlightCloseRequest._reject(k),b._inFlightCloseRequest=void 0,b._pendingAbortRequest!==void 0&&(b._pendingAbortRequest._reject(k),b._pendingAbortRequest=void 0),Oo(b,k)}function xn(b){return!(b._closeRequest===void 0&&b._inFlightCloseRequest===void 0)}function hh(b){return!(b._inFlightWriteRequest===void 0&&b._inFlightCloseRequest===void 0)}function fh(b){b._inFlightCloseRequest=b._closeRequest,b._closeRequest=void 0}function qt(b){b._inFlightWriteRequest=b._writeRequests.shift()}function Tt(b){b._closeRequest!==void 0&&(b._closeRequest._reject(b._storedError),b._closeRequest=void 0);let k=b._writer;k!==void 0&&Fo(k,b._storedError)}function Do(b,k){let K=b._writer;K!==void 0&&k!==b._backpressure&&(k?il(K):Ga(K)),b._backpressure=k}class Ka{constructor(k){if(Y(k,1,"WritableStreamDefaultWriter"),Ar(k,"First parameter"),ga(k))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=k,k._writer=this;let K=k._state;if(K==="writable")!xn(k)&&k._backpressure?Li(this):nl(this),qs(this);else if(K==="erroring")fi(this,k._storedError),qs(this);else if(K==="closed")nl(this),gh(this);else{let te=k._storedError;fi(this,te),Fs(this,te)}}get closed(){return Oi(this)?this._closedPromise:_(zr("closed"))}get desiredSize(){if(!Oi(this))throw zr("desiredSize");if(this._ownerWritableStream===void 0)throw xi("desiredSize");return mr(this)}get ready(){return Oi(this)?this._readyPromise:_(zr("ready"))}abort(k=void 0){return Oi(this)?this._ownerWritableStream===void 0?_(xi("abort")):dh(this,k):_(zr("abort"))}close(){if(!Oi(this))return _(zr("close"));let k=this._ownerWritableStream;return k===void 0?_(xi("close")):xn(k)?_(new TypeError("Cannot close an already-closing stream")):Yu(this)}releaseLock(){if(!Oi(this))throw zr("releaseLock");this._ownerWritableStream!==void 0&&js(this)}write(k=void 0){return Oi(this)?this._ownerWritableStream===void 0?_(xi("write to")):ci(this,k):_(zr("write"))}}Object.defineProperties(Ka.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Ka.prototype,r.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});function Oi(b){return!h(b)||!Object.prototype.hasOwnProperty.call(b,"_ownerWritableStream")?!1:b instanceof Ka}function dh(b,k){let K=b._ownerWritableStream;return Ds(K,k)}function Yu(b){let k=b._ownerWritableStream;return Gu(k)}function ph(b){let k=b._ownerWritableStream,K=k._state;return xn(k)||K==="closed"?C(void 0):K==="errored"?_(k._storedError):Yu(b)}function Zu(b,k){b._closedPromiseState==="pending"?Fo(b,k):mh(b,k)}function Xu(b,k){b._readyPromiseState==="pending"?zo(b,k):$o(b,k)}function mr(b){let k=b._ownerWritableStream,K=k._state;return K==="errored"||K==="erroring"?null:K==="closed"?0:qo(k._writableStreamController)}function js(b){let k=b._ownerWritableStream,K=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");Xu(b,K),Zu(b,K),k._writer=void 0,b._ownerWritableStream=void 0}function ci(b,k){let K=b._ownerWritableStream,te=K._writableStreamController,fe=tl(te,k);if(K!==b._ownerWritableStream)return _(xi("write to"));let me=K._state;if(me==="errored")return _(K._storedError);if(xn(K)||me==="closed")return _(new TypeError("The stream is closing or closed and cannot be written to"));if(me==="erroring")return _(K._storedError);let Re=Qu(K);return Zr(te,k,fe),Re}let jo={};class hi{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!Fr(this))throw jt("abortReason");return this._abortReason}get signal(){if(!Fr(this))throw jt("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(k=void 0){if(!Fr(this))throw jt("error");this._controlledWritableStream._state==="writable"&&Wa(this,k)}[se](k){let K=this._abortAlgorithm(k);return Ha(this),K}[de](){qr(this)}}Object.defineProperties(hi.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(hi.prototype,r.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});function Fr(b){return!h(b)||!Object.prototype.hasOwnProperty.call(b,"_controlledWritableStream")?!1:b instanceof hi}function Vo(b,k,K,te,fe,me,Re,qe){k._controlledWritableStream=b,b._writableStreamController=k,k._queue=void 0,k._queueTotalSize=void 0,qr(k),k._abortReason=void 0,k._abortController=wn(),k._started=!1,k._strategySizeAlgorithm=qe,k._strategyHWM=Re,k._writeAlgorithm=te,k._closeAlgorithm=fe,k._abortAlgorithm=me;let nt=Ln(k);Do(b,nt);let st=K(),ct=C(st);B(ct,()=>{k._started=!0,Vs(k)},dt=>{k._started=!0,Oo(b,dt)})}function Ju(b,k,K,te){let fe=Object.create(hi.prototype),me=()=>{},Re=()=>C(void 0),qe=()=>C(void 0),nt=()=>C(void 0);k.start!==void 0&&(me=()=>k.start(fe)),k.write!==void 0&&(Re=st=>k.write(st,fe)),k.close!==void 0&&(qe=()=>k.close()),k.abort!==void 0&&(nt=st=>k.abort(st)),Vo(b,fe,me,Re,qe,nt,K,te)}function Ha(b){b._writeAlgorithm=void 0,b._closeAlgorithm=void 0,b._abortAlgorithm=void 0,b._strategySizeAlgorithm=void 0}function el(b){bn(b,jo,0),Vs(b)}function tl(b,k){try{return b._strategySizeAlgorithm(k)}catch(K){return Mr(b,K),1}}function qo(b){return b._strategyHWM-b._queueTotalSize}function Zr(b,k,K){try{bn(b,k,K)}catch(fe){Mr(b,fe);return}let te=b._controlledWritableStream;if(!xn(te)&&te._state==="writable"){let fe=Ln(b);Do(te,fe)}Vs(b)}function Vs(b){let k=b._controlledWritableStream;if(!b._started||k._inFlightWriteRequest!==void 0)return;if(k._state==="erroring"){Lo(k);return}if(b._queue.length===0)return;let K=ui(b);K===jo?yh(b):rl(b,K)}function Mr(b,k){b._controlledWritableStream._state==="writable"&&Wa(b,k)}function yh(b){let k=b._controlledWritableStream;fh(k),Yr(b);let K=b._closeAlgorithm();Ha(b),B(K,()=>{lh(k)},te=>{ch(k,te)})}function rl(b,k){let K=b._controlledWritableStream;qt(K);let te=b._writeAlgorithm(k);B(te,()=>{uh(K);let fe=K._state;if(Yr(b),!xn(K)&&fe==="writable"){let me=Ln(b);Do(K,me)}Vs(b)},fe=>{K._state==="writable"&&Ha(b),Uo(K,fe)})}function Ln(b){return qo(b)<=0}function Wa(b,k){let K=b._controlledWritableStream;Ha(b),xo(K,k)}function ma(b){return new TypeError(`WritableStream.prototype.${b} can only be used on a WritableStream`)}function jt(b){return new TypeError(`WritableStreamDefaultController.prototype.${b} can only be used on a WritableStreamDefaultController`)}function zr(b){return new TypeError(`WritableStreamDefaultWriter.prototype.${b} can only be used on a WritableStreamDefaultWriter`)}function xi(b){return new TypeError("Cannot "+b+" a stream using a released writer")}function qs(b){b._closedPromise=I((k,K)=>{b._closedPromise_resolve=k,b._closedPromise_reject=K,b._closedPromiseState="pending"})}function Fs(b,k){qs(b),Fo(b,k)}function gh(b){qs(b),Mo(b)}function Fo(b,k){b._closedPromise_reject!==void 0&&(S(b._closedPromise),b._closedPromise_reject(k),b._closedPromise_resolve=void 0,b._closedPromise_reject=void 0,b._closedPromiseState="rejected")}function mh(b,k){Fs(b,k)}function Mo(b){b._closedPromise_resolve!==void 0&&(b._closedPromise_resolve(void 0),b._closedPromise_resolve=void 0,b._closedPromise_reject=void 0,b._closedPromiseState="resolved")}function Li(b){b._readyPromise=I((k,K)=>{b._readyPromise_resolve=k,b._readyPromise_reject=K}),b._readyPromiseState="pending"}function fi(b,k){Li(b),zo(b,k)}function nl(b){Li(b),Ga(b)}function zo(b,k){b._readyPromise_reject!==void 0&&(S(b._readyPromise),b._readyPromise_reject(k),b._readyPromise_resolve=void 0,b._readyPromise_reject=void 0,b._readyPromiseState="rejected")}function il(b){Li(b)}function $o(b,k){fi(b,k)}function Ga(b){b._readyPromise_resolve!==void 0&&(b._readyPromise_resolve(void 0),b._readyPromise_resolve=void 0,b._readyPromise_reject=void 0,b._readyPromiseState="fulfilled")}let Ko=typeof DOMException<"u"?DOMException:void 0;function vh(b){if(!(typeof b=="function"||typeof b=="object"))return!1;try{return new b,!0}catch{return!1}}function Ho(){let b=function(k,K){this.message=k||"",this.name=K||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return b.prototype=Object.create(Error.prototype),Object.defineProperty(b.prototype,"constructor",{value:b,writable:!0,configurable:!0}),b}let Wo=vh(Ko)?Ko:Ho();function al(b,k,K,te,fe,me){let Re=Le(b),qe=Bo(k);b._disturbed=!0;let nt=!1,st=C(void 0);return I((ct,dt)=>{let Ft;if(me!==void 0){if(Ft=()=>{let ze=new Wo("Aborted","AbortError"),ot=[];te||ot.push(()=>k._state==="writable"?Ds(k,ze):C(void 0)),fe||ot.push(()=>b._state==="readable"?Ke(b,ze):C(void 0)),Xr(()=>Promise.all(ot.map(vt=>vt())),!0,ze)},me.aborted){Ft();return}me.addEventListener("abort",Ft)}function Nr(){return I((ze,ot)=>{function vt(Or){Or?ze():T(Dn(),vt,ot)}vt(!1)})}function Dn(){return nt?C(!0):T(qe._readyPromise,()=>I((ze,ot)=>{kt(Re,{_chunkSteps:vt=>{st=T(ci(qe,vt),void 0,a),ze(!1)},_closeSteps:()=>ze(!0),_errorSteps:ot})}))}if($r(b,Re._closedPromise,ze=>{te?cn(!0,ze):Xr(()=>Ds(k,ze),!0,ze)}),$r(k,qe._closedPromise,ze=>{fe?cn(!0,ze):Xr(()=>Ke(b,ze),!0,ze)}),_r(b,Re._closedPromise,()=>{K?cn():Xr(()=>ph(qe))}),xn(k)||k._state==="closed"){let ze=new TypeError("the destination writable stream closed before all data could be piped to it");fe?cn(!0,ze):Xr(()=>Ke(b,ze),!0,ze)}S(Nr());function Cn(){let ze=st;return T(st,()=>ze!==st?Cn():void 0)}function $r(ze,ot,vt){ze._state==="errored"?vt(ze._storedError):p(ot,vt)}function _r(ze,ot,vt){ze._state==="closed"?vt():P(ot,vt)}function Xr(ze,ot,vt){if(nt)return;nt=!0,k._state==="writable"&&!xn(k)?P(Cn(),Or):Or();function Or(){B(ze(),()=>zi(ot,vt),Q=>zi(!0,Q))}}function cn(ze,ot){nt||(nt=!0,k._state==="writable"&&!xn(k)?P(Cn(),()=>zi(ze,ot)):zi(ze,ot))}function zi(ze,ot){js(qe),V(Re),me!==void 0&&me.removeEventListener("abort",Ft),ze?dt(ot):ct(void 0)}})}class Ui{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Ir(this))throw zs("desiredSize");return Go(this)}close(){if(!Ir(this))throw zs("close");if(!_a(this))throw new TypeError("The stream is not in a state that permits close");ba(this)}enqueue(k=void 0){if(!Ir(this))throw zs("enqueue");if(!_a(this))throw new TypeError("The stream is not in a state that permits enqueue");return Ms(this,k)}error(k=void 0){if(!Ir(this))throw zs("error");di(this,k)}[ke](k){qr(this);let K=this._cancelAlgorithm(k);return Qa(this),K}[Oe](k){let K=this._controlledReadableStream;if(this._queue.length>0){let te=Yr(this);this._closeRequested&&this._queue.length===0?(Qa(this),ht(K)):Di(this),k._chunkSteps(te)}else je(K,k),Di(this)}}Object.defineProperties(Ui.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Ui.prototype,r.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});function Ir(b){return!h(b)||!Object.prototype.hasOwnProperty.call(b,"_controlledReadableStream")?!1:b instanceof Ui}function Di(b){if(!va(b))return;if(b._pulling){b._pullAgain=!0;return}b._pulling=!0;let k=b._pullAlgorithm();B(k,()=>{b._pulling=!1,b._pullAgain&&(b._pullAgain=!1,Di(b))},K=>{di(b,K)})}function va(b){let k=b._controlledReadableStream;return!_a(b)||!b._started?!1:!!(Ue(k)&&Ne(k)>0||Go(b)>0)}function Qa(b){b._pullAlgorithm=void 0,b._cancelAlgorithm=void 0,b._strategySizeAlgorithm=void 0}function ba(b){if(!_a(b))return;let k=b._controlledReadableStream;b._closeRequested=!0,b._queue.length===0&&(Qa(b),ht(k))}function Ms(b,k){if(!_a(b))return;let K=b._controlledReadableStream;if(Ue(K)&&Ne(K)>0)ye(K,k,!1);else{let te;try{te=b._strategySizeAlgorithm(k)}catch(fe){throw di(b,fe),fe}try{bn(b,k,te)}catch(fe){throw di(b,fe),fe}}Di(b)}function di(b,k){let K=b._controlledReadableStream;K._state==="readable"&&(qr(b),Qa(b),cr(K,k))}function Go(b){let k=b._controlledReadableStream._state;return k==="errored"?null:k==="closed"?0:b._strategyHWM-b._queueTotalSize}function bh(b){return!va(b)}function _a(b){let k=b._controlledReadableStream._state;return!b._closeRequested&&k==="readable"}function ji(b,k,K,te,fe,me,Re){k._controlledReadableStream=b,k._queue=void 0,k._queueTotalSize=void 0,qr(k),k._started=!1,k._closeRequested=!1,k._pullAgain=!1,k._pulling=!1,k._strategySizeAlgorithm=Re,k._strategyHWM=me,k._pullAlgorithm=te,k._cancelAlgorithm=fe,b._readableStreamController=k;let qe=K();B(C(qe),()=>{k._started=!0,Di(k)},nt=>{di(k,nt)})}function _h(b,k,K,te){let fe=Object.create(Ui.prototype),me=()=>{},Re=()=>C(void 0),qe=()=>C(void 0);k.start!==void 0&&(me=()=>k.start(fe)),k.pull!==void 0&&(Re=()=>k.pull(fe)),k.cancel!==void 0&&(qe=nt=>k.cancel(nt)),ji(b,fe,me,Re,qe,K,te)}function zs(b){return new TypeError(`ReadableStreamDefaultController.prototype.${b} can only be used on a ReadableStreamDefaultController`)}function Qo(b,k){return Ut(b._readableStreamController)?pi(b):sl(b)}function sl(b,k){let K=Le(b),te=!1,fe=!1,me=!1,Re=!1,qe,nt,st,ct,dt,Ft=I(_r=>{dt=_r});function Nr(){return te?(fe=!0,C(void 0)):(te=!0,kt(K,{_chunkSteps:_r=>{N(()=>{fe=!1;let Xr=_r,cn=_r;me||Ms(st._readableStreamController,Xr),Re||Ms(ct._readableStreamController,cn),te=!1,fe&&Nr()})},_closeSteps:()=>{te=!1,me||ba(st._readableStreamController),Re||ba(ct._readableStreamController),(!me||!Re)&&dt(void 0)},_errorSteps:()=>{te=!1}}),C(void 0))}function Dn(_r){if(me=!0,qe=_r,Re){let Xr=Kt([qe,nt]),cn=Ke(b,Xr);dt(cn)}return Ft}function Cn(_r){if(Re=!0,nt=_r,me){let Xr=Kt([qe,nt]),cn=Ke(b,Xr);dt(cn)}return Ft}function $r(){}return st=Un($r,Nr,Dn),ct=Un($r,Nr,Cn),p(K._closedPromise,_r=>{di(st._readableStreamController,_r),di(ct._readableStreamController,_r),(!me||!Re)&&dt(void 0)}),[st,ct]}function pi(b){let k=Le(b),K=!1,te=!1,fe=!1,me=!1,Re=!1,qe,nt,st,ct,dt,Ft=I(ze=>{dt=ze});function Nr(ze){p(ze._closedPromise,ot=>{ze===k&&(Cr(st._readableStreamController,ot),Cr(ct._readableStreamController,ot),(!me||!Re)&&dt(void 0))})}function Dn(){X(k)&&(V(k),k=Le(b),Nr(k)),kt(k,{_chunkSteps:ze=>{N(()=>{te=!1,fe=!1;let ot=ze,vt=ze;if(!me&&!Re)try{vt=Qr(ze)}catch(Or){Cr(st._readableStreamController,Or),Cr(ct._readableStreamController,Or),dt(Ke(b,Or));return}me||_n(st._readableStreamController,ot),Re||_n(ct._readableStreamController,vt),K=!1,te?$r():fe&&_r()})},_closeSteps:()=>{K=!1,me||ki(st._readableStreamController),Re||ki(ct._readableStreamController),st._readableStreamController._pendingPullIntos.length>0&&da(st._readableStreamController,0),ct._readableStreamController._pendingPullIntos.length>0&&da(ct._readableStreamController,0),(!me||!Re)&&dt(void 0)},_errorSteps:()=>{K=!1}})}function Cn(ze,ot){$e(k)&&(V(k),k=Ls(b),Nr(k));let vt=ot?ct:st,Or=ot?st:ct;le(k,ze,{_chunkSteps:Q=>{N(()=>{te=!1,fe=!1;let Tn=ot?Re:me;if(ot?me:Re)Tn||pa(vt._readableStreamController,Q);else{let Gn;try{Gn=Qr(Q)}catch(Kr){Cr(vt._readableStreamController,Kr),Cr(Or._readableStreamController,Kr),dt(Ke(b,Kr));return}Tn||pa(vt._readableStreamController,Q),_n(Or._readableStreamController,Gn)}K=!1,te?$r():fe&&_r()})},_closeSteps:Q=>{K=!1;let Tn=ot?Re:me,Gn=ot?me:Re;Tn||ki(vt._readableStreamController),Gn||ki(Or._readableStreamController),Q!==void 0&&(Tn||pa(vt._readableStreamController,Q),!Gn&&Or._readableStreamController._pendingPullIntos.length>0&&da(Or._readableStreamController,0)),(!Tn||!Gn)&&dt(void 0)},_errorSteps:()=>{K=!1}})}function $r(){if(K)return te=!0,C(void 0);K=!0;let ze=za(st._readableStreamController);return ze===null?Dn():Cn(ze._view,!1),C(void 0)}function _r(){if(K)return fe=!0,C(void 0);K=!0;let ze=za(ct._readableStreamController);return ze===null?Dn():Cn(ze._view,!0),C(void 0)}function Xr(ze){if(me=!0,qe=ze,Re){let ot=Kt([qe,nt]),vt=Ke(b,ot);dt(vt)}return Ft}function cn(ze){if(Re=!0,nt=ze,me){let ot=Kt([qe,nt]),vt=Ke(b,ot);dt(vt)}return Ft}function zi(){}return st=ce(zi,$r,Xr),ct=ce(zi,_r,cn),Nr(k),[st,ct]}function $s(b,k){Ce(b,k);let K=b,te=K?.autoAllocateChunkSize,fe=K?.cancel,me=K?.pull,Re=K?.start,qe=K?.type;return{autoAllocateChunkSize:te===void 0?void 0:ee(te,`${k} has member 'autoAllocateChunkSize' that`),cancel:fe===void 0?void 0:wh(fe,K,`${k} has member 'cancel' that`),pull:me===void 0?void 0:Sh(me,K,`${k} has member 'pull' that`),start:Re===void 0?void 0:Eh(Re,K,`${k} has member 'start' that`),type:qe===void 0?void 0:wa(qe,`${k} has member 'type' that`)}}function wh(b,k,K){return et(b,K),te=>E(b,k,[te])}function Sh(b,k,K){return et(b,K),te=>E(b,k,[te])}function Eh(b,k,K){return et(b,K),te=>D(b,k,[te])}function wa(b,k){if(b=`${b}`,b!=="bytes")throw new TypeError(`${k} '${b}' is not a valid enumeration value for ReadableStreamType`);return b}function Sn(b,k){Ce(b,k);let K=b?.mode;return{mode:K===void 0?void 0:ol(K,`${k} has member 'mode' that`)}}function ol(b,k){if(b=`${b}`,b!=="byob")throw new TypeError(`${k} '${b}' is not a valid enumeration value for ReadableStreamReaderMode`);return b}function Ch(b,k){return Ce(b,k),{preventCancel:!!b?.preventCancel}}function ul(b,k){Ce(b,k);let K=b?.preventAbort,te=b?.preventCancel,fe=b?.preventClose,me=b?.signal;return me!==void 0&&Th(me,`${k} has member 'signal' that`),{preventAbort:!!K,preventCancel:!!te,preventClose:!!fe,signal:me}}function Th(b,k){if(!gr(b))throw new TypeError(`${k} is not an AbortSignal.`)}function Ah(b,k){Ce(b,k);let K=b?.readable;G(K,"readable","ReadableWritablePair"),_e(K,`${k} has member 'readable' that`);let te=b?.writable;return G(te,"writable","ReadableWritablePair"),Ar(te,`${k} has member 'writable' that`),{readable:K,writable:te}}class yi{constructor(k={},K={}){k===void 0?k=null:x(k,"First parameter");let te=Be(K,"Second parameter"),fe=$s(k,"First parameter");if(ge(this),fe.type==="bytes"){if(te.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");let me=Se(te,0);Os(this,fe,me)}else{let me=xe(te),Re=Se(te,1);_h(this,fe,Re,me)}}get locked(){if(!pe(this))throw yt("locked");return Ue(this)}cancel(k=void 0){return pe(this)?Ue(this)?_(new TypeError("Cannot cancel a stream that already has a reader")):Ke(this,k):_(yt("cancel"))}getReader(k=void 0){if(!pe(this))throw yt("getReader");return Sn(k,"First parameter").mode===void 0?Le(this):Ls(this)}pipeThrough(k,K={}){if(!pe(this))throw yt("pipeThrough");Y(k,1,"pipeThrough");let te=Ah(k,"First parameter"),fe=ul(K,"Second parameter");if(Ue(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(ga(te.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");let me=al(this,te.writable,fe.preventClose,fe.preventAbort,fe.preventCancel,fe.signal);return S(me),te.readable}pipeTo(k,K={}){if(!pe(this))return _(yt("pipeTo"));if(k===void 0)return _("Parameter 1 is required in 'pipeTo'.");if(!Ni(k))return _(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let te;try{te=ul(K,"Second parameter")}catch(fe){return _(fe)}return Ue(this)?_(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):ga(k)?_(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):al(this,k,te.preventClose,te.preventAbort,te.preventCancel,te.signal)}tee(){if(!pe(this))throw yt("tee");let k=Qo(this);return Kt(k)}values(k=void 0){if(!pe(this))throw yt("values");let K=Ch(k,"First parameter");return Ot(this,K.preventCancel)}}Object.defineProperties(yi.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(yi.prototype,r.toStringTag,{value:"ReadableStream",configurable:!0}),typeof r.asyncIterator=="symbol"&&Object.defineProperty(yi.prototype,r.asyncIterator,{value:yi.prototype.values,writable:!0,configurable:!0});function Un(b,k,K,te=1,fe=()=>1){let me=Object.create(yi.prototype);ge(me);let Re=Object.create(Ui.prototype);return ji(me,Re,b,k,K,te,fe),me}function ce(b,k,K){let te=Object.create(yi.prototype);ge(te);let fe=Object.create(Lt.prototype);return Ns(te,fe,b,k,K,0,void 0),te}function ge(b){b._state="readable",b._reader=void 0,b._storedError=void 0,b._disturbed=!1}function pe(b){return!h(b)||!Object.prototype.hasOwnProperty.call(b,"_readableStreamController")?!1:b instanceof yi}function Ue(b){return b._reader!==void 0}function Ke(b,k){if(b._disturbed=!0,b._state==="closed")return C(void 0);if(b._state==="errored")return _(b._storedError);ht(b);let K=b._reader;K!==void 0&&X(K)&&(K._readIntoRequests.forEach(fe=>{fe._closeSteps(void 0)}),K._readIntoRequests=new y);let te=b._readableStreamController[ke](k);return A(te,a)}function ht(b){b._state="closed";let k=b._reader;k!==void 0&&(oe(k),$e(k)&&(k._readRequests.forEach(K=>{K._closeSteps()}),k._readRequests=new y))}function cr(b,k){b._state="errored",b._storedError=k;let K=b._reader;K!==void 0&&(F(K,k),$e(K)?(K._readRequests.forEach(te=>{te._errorSteps(k)}),K._readRequests=new y):(K._readIntoRequests.forEach(te=>{te._errorSteps(k)}),K._readIntoRequests=new y))}function yt(b){return new TypeError(`ReadableStream.prototype.${b} can only be used on a ReadableStream`)}function Ks(b,k){Ce(b,k);let K=b?.highWaterMark;return G(K,"highWaterMark","QueuingStrategyInit"),{highWaterMark:R(K)}}let ll=b=>b.byteLength;try{Object.defineProperty(ll,"name",{value:"size",configurable:!0})}catch{}class Br{constructor(k){Y(k,1,"ByteLengthQueuingStrategy"),k=Ks(k,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=k.highWaterMark}get highWaterMark(){if(!cl(this))throw Ya("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!cl(this))throw Ya("size");return ll}}Object.defineProperties(Br.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Br.prototype,r.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});function Ya(b){return new TypeError(`ByteLengthQueuingStrategy.prototype.${b} can only be used on a ByteLengthQueuingStrategy`)}function cl(b){return!h(b)||!Object.prototype.hasOwnProperty.call(b,"_byteLengthQueuingStrategyHighWaterMark")?!1:b instanceof Br}let Vi=()=>1;try{Object.defineProperty(Vi,"name",{value:"size",configurable:!0})}catch{}class qi{constructor(k){Y(k,1,"CountQueuingStrategy"),k=Ks(k,"First parameter"),this._countQueuingStrategyHighWaterMark=k.highWaterMark}get highWaterMark(){if(!_t(this))throw Za("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!_t(this))throw Za("size");return Vi}}Object.defineProperties(qi.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(qi.prototype,r.toStringTag,{value:"CountQueuingStrategy",configurable:!0});function Za(b){return new TypeError(`CountQueuingStrategy.prototype.${b} can only be used on a CountQueuingStrategy`)}function _t(b){return!h(b)||!Object.prototype.hasOwnProperty.call(b,"_countQueuingStrategyHighWaterMark")?!1:b instanceof qi}function Ih(b,k){Ce(b,k);let K=b?.flush,te=b?.readableType,fe=b?.start,me=b?.transform,Re=b?.writableType;return{flush:K===void 0?void 0:hl(K,b,`${k} has member 'flush' that`),readableType:te,start:fe===void 0?void 0:Hs(fe,b,`${k} has member 'start' that`),transform:me===void 0?void 0:Rh(me,b,`${k} has member 'transform' that`),writableType:Re}}function hl(b,k,K){return et(b,K),te=>E(b,k,[te])}function Hs(b,k,K){return et(b,K),te=>D(b,k,[te])}function Rh(b,k,K){return et(b,K),(te,fe)=>E(b,k,[te,fe])}class Ws{constructor(k={},K={},te={}){k===void 0&&(k=null);let fe=Be(K,"Second parameter"),me=Be(te,"Third parameter"),Re=Ih(k,"First parameter");if(Re.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(Re.writableType!==void 0)throw new RangeError("Invalid writableType specified");let qe=Se(me,0),nt=xe(me),st=Se(fe,1),ct=xe(fe),dt,Ft=I(Nr=>{dt=Nr});kh(this,Ft,st,ct,qe,nt),Gs(this,Re),Re.start!==void 0?dt(Re.start(this._transformStreamController)):dt(void 0)}get readable(){if(!Xa(this))throw dl("readable");return this._readable}get writable(){if(!Xa(this))throw dl("writable");return this._writable}}Object.defineProperties(Ws.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Ws.prototype,r.toStringTag,{value:"TransformStream",configurable:!0});function kh(b,k,K,te,fe,me){function Re(){return k}function qe(Ft){return Bh(b,Ft)}function nt(Ft){return Nh(b,Ft)}function st(){return Qs(b)}b._writable=Wu(Re,qe,st,nt,K,te);function ct(){return Ys(b)}function dt(Ft){return Fi(b,Ft),C(void 0)}b._readable=Un(Re,ct,dt,fe,me),b._backpressure=void 0,b._backpressureChangePromise=void 0,b._backpressureChangePromise_resolve=void 0,Ja(b,!0),b._transformStreamController=void 0}function Xa(b){return!h(b)||!Object.prototype.hasOwnProperty.call(b,"_transformStreamController")?!1:b instanceof Ws}function En(b,k){di(b._readable._readableStreamController,k),Fi(b,k)}function Fi(b,k){Yo(b._transformStreamController),Mr(b._writable._writableStreamController,k),b._backpressure&&Ja(b,!1)}function Ja(b,k){b._backpressureChangePromise!==void 0&&b._backpressureChangePromise_resolve(),b._backpressureChangePromise=I(K=>{b._backpressureChangePromise_resolve=K}),b._backpressure=k}class gi{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!es(this))throw Ea("desiredSize");let k=this._controlledTransformStream._readable._readableStreamController;return Go(k)}enqueue(k=void 0){if(!es(this))throw Ea("enqueue");Sa(this,k)}error(k=void 0){if(!es(this))throw Ea("error");Mi(this,k)}terminate(){if(!es(this))throw Ea("terminate");Ph(this)}}Object.defineProperties(gi.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(gi.prototype,r.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});function es(b){return!h(b)||!Object.prototype.hasOwnProperty.call(b,"_controlledTransformStream")?!1:b instanceof gi}function fl(b,k,K,te){k._controlledTransformStream=b,b._transformStreamController=k,k._transformAlgorithm=K,k._flushAlgorithm=te}function Gs(b,k){let K=Object.create(gi.prototype),te=me=>{try{return Sa(K,me),C(void 0)}catch(Re){return _(Re)}},fe=()=>C(void 0);k.transform!==void 0&&(te=me=>k.transform(me,K)),k.flush!==void 0&&(fe=()=>k.flush(K)),fl(b,K,te,fe)}function Yo(b){b._transformAlgorithm=void 0,b._flushAlgorithm=void 0}function Sa(b,k){let K=b._controlledTransformStream,te=K._readable._readableStreamController;if(!_a(te))throw new TypeError("Readable side is not in a state that permits enqueue");try{Ms(te,k)}catch(fe){throw Fi(K,fe),K._readable._storedError}bh(te)!==K._backpressure&&Ja(K,!0)}function Mi(b,k){En(b._controlledTransformStream,k)}function ts(b,k){let K=b._transformAlgorithm(k);return A(K,void 0,te=>{throw En(b._controlledTransformStream,te),te})}function Ph(b){let k=b._controlledTransformStream,K=k._readable._readableStreamController;ba(K);let te=new TypeError("TransformStream terminated");Fi(k,te)}function Bh(b,k){let K=b._transformStreamController;if(b._backpressure){let te=b._backpressureChangePromise;return A(te,()=>{let fe=b._writable;if(fe._state==="erroring")throw fe._storedError;return ts(K,k)})}return ts(K,k)}function Nh(b,k){return En(b,k),C(void 0)}function Qs(b){let k=b._readable,K=b._transformStreamController,te=K._flushAlgorithm();return Yo(K),A(te,()=>{if(k._state==="errored")throw k._storedError;ba(k._readableStreamController)},fe=>{throw En(b,fe),k._storedError})}function Ys(b){return Ja(b,!1),b._backpressureChangePromise}function Ea(b){return new TypeError(`TransformStreamDefaultController.prototype.${b} can only be used on a TransformStreamDefaultController`)}function dl(b){return new TypeError(`TransformStream.prototype.${b} can only be used on a TransformStream`)}t.ByteLengthQueuingStrategy=Br,t.CountQueuingStrategy=qi,t.ReadableByteStreamController=Lt,t.ReadableStream=yi,t.ReadableStreamBYOBReader=W,t.ReadableStreamBYOBRequest=On,t.ReadableStreamDefaultController=Ui,t.ReadableStreamDefaultReader=rt,t.TransformStream=Ws,t.TransformStreamDefaultController=gi,t.WritableStream=Wn,t.WritableStreamDefaultController=hi,t.WritableStreamDefaultWriter=Ka,Object.defineProperty(t,"__esModule",{value:!0})})}),vA=Qe(()=>{if(!globalThis.ReadableStream)try{let e=mo("process"),{emitWarning:n}=e;try{e.emitWarning=()=>{},Object.assign(globalThis,mo("stream/web")),e.emitWarning=n}catch(t){throw e.emitWarning=n,t}}catch{Object.assign(globalThis,mA())}try{let{Blob:e}=mo("buffer");e&&!e.prototype.stream&&(e.prototype.stream=function(n){let t=0,r=this;return new ReadableStream({type:"bytes",async pull(a){let u=await r.slice(t,Math.min(r.size,t+65536)).arrayBuffer();t+=u.byteLength,a.enqueue(new Uint8Array(u)),t===r.size&&a.close()}})})}catch{}}),bA=Qe(e=>{e.read=function(n,t,r,a,u){var c,h,l=u*8-a-1,s=(1<<l)-1,d=s>>1,f=-7,g=r?u-1:0,I=r?-1:1,C=n[t+g];for(g+=I,c=C&(1<<-f)-1,C>>=-f,f+=l;f>0;c=c*256+n[t+g],g+=I,f-=8);for(h=c&(1<<-f)-1,c>>=-f,f+=a;f>0;h=h*256+n[t+g],g+=I,f-=8);if(c===0)c=1-d;else{if(c===s)return h?NaN:(C?-1:1)*(1/0);h=h+Math.pow(2,a),c=c-d}return(C?-1:1)*h*Math.pow(2,c-a)},e.write=function(n,t,r,a,u,c){var h,l,s,d=c*8-u-1,f=(1<<d)-1,g=f>>1,I=u===23?Math.pow(2,-24)-Math.pow(2,-77):0,C=a?0:c-1,_=a?1:-1,T=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(l=isNaN(t)?1:0,h=f):(h=Math.floor(Math.log(t)/Math.LN2),t*(s=Math.pow(2,-h))<1&&(h--,s*=2),h+g>=1?t+=I/s:t+=I*Math.pow(2,1-g),t*s>=2&&(h++,s/=2),h+g>=f?(l=0,h=f):h+g>=1?(l=(t*s-1)*Math.pow(2,u),h=h+g):(l=t*Math.pow(2,g-1)*Math.pow(2,u),h=0));u>=8;n[r+C]=l&255,C+=_,l/=256,u-=8);for(h=h<<u|l,d+=u;d>0;n[r+C]=h&255,C+=_,h/=256,d-=8);n[r+C-_]|=T*128}}),_A=Qe((e,n)=>{"use strict";n.exports=r;var t=bA();function r(w){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(w)?w:new Uint8Array(w||0),this.pos=0,this.type=0,this.length=this.buf.length}r.Varint=0,r.Fixed64=1,r.Bytes=2,r.Fixed32=5;var a=65536*65536,u=1/a,c=12,h=typeof TextDecoder>"u"?null:new TextDecoder("utf8");r.prototype={destroy:function(){this.buf=null},readFields:function(w,L,j){for(j=j||this.length;this.pos<j;){var O=this.readVarint(),F=O>>3,J=this.pos;this.type=O&7,w(F,L,this),this.pos===J&&this.skip(O)}return L},readMessage:function(w,L){return this.readFields(w,L,this.readVarint()+this.pos)},readFixed32:function(){var w=E(this.buf,this.pos);return this.pos+=4,w},readSFixed32:function(){var w=y(this.buf,this.pos);return this.pos+=4,w},readFixed64:function(){var w=E(this.buf,this.pos)+E(this.buf,this.pos+4)*a;return this.pos+=8,w},readSFixed64:function(){var w=E(this.buf,this.pos)+y(this.buf,this.pos+4)*a;return this.pos+=8,w},readFloat:function(){var w=t.read(this.buf,this.pos,!0,23,4);return this.pos+=4,w},readDouble:function(){var w=t.read(this.buf,this.pos,!0,52,8);return this.pos+=8,w},readVarint:function(w){var L=this.buf,j,O;return O=L[this.pos++],j=O&127,O<128||(O=L[this.pos++],j|=(O&127)<<7,O<128)||(O=L[this.pos++],j|=(O&127)<<14,O<128)||(O=L[this.pos++],j|=(O&127)<<21,O<128)?j:(O=L[this.pos],j|=(O&15)<<28,l(j,w,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var w=this.readVarint();return w%2===1?(w+1)/-2:w/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var w=this.readVarint()+this.pos,L=this.pos;return this.pos=w,w-L>=c&&h?M(this.buf,L,w):q(this.buf,L,w)},readBytes:function(){var w=this.readVarint()+this.pos,L=this.buf.subarray(this.pos,w);return this.pos=w,L},readPackedVarint:function(w,L){if(this.type!==r.Bytes)return w.push(this.readVarint(L));var j=s(this);for(w=w||[];this.pos<j;)w.push(this.readVarint(L));return w},readPackedSVarint:function(w){if(this.type!==r.Bytes)return w.push(this.readSVarint());var L=s(this);for(w=w||[];this.pos<L;)w.push(this.readSVarint());return w},readPackedBoolean:function(w){if(this.type!==r.Bytes)return w.push(this.readBoolean());var L=s(this);for(w=w||[];this.pos<L;)w.push(this.readBoolean());return w},readPackedFloat:function(w){if(this.type!==r.Bytes)return w.push(this.readFloat());var L=s(this);for(w=w||[];this.pos<L;)w.push(this.readFloat());return w},readPackedDouble:function(w){if(this.type!==r.Bytes)return w.push(this.readDouble());var L=s(this);for(w=w||[];this.pos<L;)w.push(this.readDouble());return w},readPackedFixed32:function(w){if(this.type!==r.Bytes)return w.push(this.readFixed32());var L=s(this);for(w=w||[];this.pos<L;)w.push(this.readFixed32());return w},readPackedSFixed32:function(w){if(this.type!==r.Bytes)return w.push(this.readSFixed32());var L=s(this);for(w=w||[];this.pos<L;)w.push(this.readSFixed32());return w},readPackedFixed64:function(w){if(this.type!==r.Bytes)return w.push(this.readFixed64());var L=s(this);for(w=w||[];this.pos<L;)w.push(this.readFixed64());return w},readPackedSFixed64:function(w){if(this.type!==r.Bytes)return w.push(this.readSFixed64());var L=s(this);for(w=w||[];this.pos<L;)w.push(this.readSFixed64());return w},skip:function(w){var L=w&7;if(L===r.Varint)for(;this.buf[this.pos++]>127;);else if(L===r.Bytes)this.pos=this.readVarint()+this.pos;else if(L===r.Fixed32)this.pos+=4;else if(L===r.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+L)},writeTag:function(w,L){this.writeVarint(w<<3|L)},realloc:function(w){for(var L=this.length||16;L<this.pos+w;)L*=2;if(L!==this.length){var j=new Uint8Array(L);j.set(this.buf),this.buf=j,this.length=L}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(w){this.realloc(4),m(this.buf,w,this.pos),this.pos+=4},writeSFixed32:function(w){this.realloc(4),m(this.buf,w,this.pos),this.pos+=4},writeFixed64:function(w){this.realloc(8),m(this.buf,w&-1,this.pos),m(this.buf,Math.floor(w*u),this.pos+4),this.pos+=8},writeSFixed64:function(w){this.realloc(8),m(this.buf,w&-1,this.pos),m(this.buf,Math.floor(w*u),this.pos+4),this.pos+=8},writeVarint:function(w){if(w=+w||0,w>268435455||w<0){f(w,this);return}this.realloc(4),this.buf[this.pos++]=w&127|(w>127?128:0),!(w<=127)&&(this.buf[this.pos++]=(w>>>=7)&127|(w>127?128:0),!(w<=127)&&(this.buf[this.pos++]=(w>>>=7)&127|(w>127?128:0),!(w<=127)&&(this.buf[this.pos++]=w>>>7&127)))},writeSVarint:function(w){this.writeVarint(w<0?-w*2-1:w*2)},writeBoolean:function(w){this.writeVarint(!!w)},writeString:function(w){w=String(w),this.realloc(w.length*4),this.pos++;var L=this.pos;this.pos=V(this.buf,w,this.pos);var j=this.pos-L;j>=128&&C(L,j,this),this.pos=L-1,this.writeVarint(j),this.pos+=j},writeFloat:function(w){this.realloc(4),t.write(this.buf,w,this.pos,!0,23,4),this.pos+=4},writeDouble:function(w){this.realloc(8),t.write(this.buf,w,this.pos,!0,52,8),this.pos+=8},writeBytes:function(w){var L=w.length;this.writeVarint(L),this.realloc(L);for(var j=0;j<L;j++)this.buf[this.pos++]=w[j]},writeRawMessage:function(w,L){this.pos++;var j=this.pos;w(L,this);var O=this.pos-j;O>=128&&C(j,O,this),this.pos=j-1,this.writeVarint(O),this.pos+=O},writeMessage:function(w,L,j){this.writeTag(w,r.Bytes),this.writeRawMessage(L,j)},writePackedVarint:function(w,L){L.length&&this.writeMessage(w,_,L)},writePackedSVarint:function(w,L){L.length&&this.writeMessage(w,T,L)},writePackedBoolean:function(w,L){L.length&&this.writeMessage(w,p,L)},writePackedFloat:function(w,L){L.length&&this.writeMessage(w,B,L)},writePackedDouble:function(w,L){L.length&&this.writeMessage(w,P,L)},writePackedFixed32:function(w,L){L.length&&this.writeMessage(w,A,L)},writePackedSFixed32:function(w,L){L.length&&this.writeMessage(w,S,L)},writePackedFixed64:function(w,L){L.length&&this.writeMessage(w,N,L)},writePackedSFixed64:function(w,L){L.length&&this.writeMessage(w,D,L)},writeBytesField:function(w,L){this.writeTag(w,r.Bytes),this.writeBytes(L)},writeFixed32Field:function(w,L){this.writeTag(w,r.Fixed32),this.writeFixed32(L)},writeSFixed32Field:function(w,L){this.writeTag(w,r.Fixed32),this.writeSFixed32(L)},writeFixed64Field:function(w,L){this.writeTag(w,r.Fixed64),this.writeFixed64(L)},writeSFixed64Field:function(w,L){this.writeTag(w,r.Fixed64),this.writeSFixed64(L)},writeVarintField:function(w,L){this.writeTag(w,r.Varint),this.writeVarint(L)},writeSVarintField:function(w,L){this.writeTag(w,r.Varint),this.writeSVarint(L)},writeStringField:function(w,L){this.writeTag(w,r.Bytes),this.writeString(L)},writeFloatField:function(w,L){this.writeTag(w,r.Fixed32),this.writeFloat(L)},writeDoubleField:function(w,L){this.writeTag(w,r.Fixed64),this.writeDouble(L)},writeBooleanField:function(w,L){this.writeVarintField(w,!!L)}};function l(w,L,j){var O=j.buf,F,J;if(J=O[j.pos++],F=(J&112)>>4,J<128||(J=O[j.pos++],F|=(J&127)<<3,J<128)||(J=O[j.pos++],F|=(J&127)<<10,J<128)||(J=O[j.pos++],F|=(J&127)<<17,J<128)||(J=O[j.pos++],F|=(J&127)<<24,J<128)||(J=O[j.pos++],F|=(J&1)<<31,J<128))return d(w,F,L);throw new Error("Expected varint not more than 10 bytes")}function s(w){return w.type===r.Bytes?w.readVarint()+w.pos:w.pos+1}function d(w,L,j){return j?L*4294967296+(w>>>0):(L>>>0)*4294967296+(w>>>0)}function f(w,L){var j,O;if(w>=0?(j=w%4294967296|0,O=w/4294967296|0):(j=~(-w%4294967296),O=~(-w/4294967296),j^4294967295?j=j+1|0:(j=0,O=O+1|0)),w>=18446744073709552e3||w<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");L.realloc(10),g(j,O,L),I(O,L)}function g(w,L,j){j.buf[j.pos++]=w&127|128,w>>>=7,j.buf[j.pos++]=w&127|128,w>>>=7,j.buf[j.pos++]=w&127|128,w>>>=7,j.buf[j.pos++]=w&127|128,w>>>=7,j.buf[j.pos]=w&127}function I(w,L){var j=(w&7)<<4;L.buf[L.pos++]|=j|((w>>>=3)?128:0),w&&(L.buf[L.pos++]=w&127|((w>>>=7)?128:0),w&&(L.buf[L.pos++]=w&127|((w>>>=7)?128:0),w&&(L.buf[L.pos++]=w&127|((w>>>=7)?128:0),w&&(L.buf[L.pos++]=w&127|((w>>>=7)?128:0),w&&(L.buf[L.pos++]=w&127)))))}function C(w,L,j){var O=L<=16383?1:L<=2097151?2:L<=268435455?3:Math.floor(Math.log(L)/(Math.LN2*7));j.realloc(O);for(var F=j.pos-1;F>=w;F--)j.buf[F+O]=j.buf[F]}function _(w,L){for(var j=0;j<w.length;j++)L.writeVarint(w[j])}function T(w,L){for(var j=0;j<w.length;j++)L.writeSVarint(w[j])}function B(w,L){for(var j=0;j<w.length;j++)L.writeFloat(w[j])}function P(w,L){for(var j=0;j<w.length;j++)L.writeDouble(w[j])}function p(w,L){for(var j=0;j<w.length;j++)L.writeBoolean(w[j])}function A(w,L){for(var j=0;j<w.length;j++)L.writeFixed32(w[j])}function S(w,L){for(var j=0;j<w.length;j++)L.writeSFixed32(w[j])}function N(w,L){for(var j=0;j<w.length;j++)L.writeFixed64(w[j])}function D(w,L){for(var j=0;j<w.length;j++)L.writeSFixed64(w[j])}function E(w,L){return(w[L]|w[L+1]<<8|w[L+2]<<16)+w[L+3]*16777216}function m(w,L,j){w[j]=L,w[j+1]=L>>>8,w[j+2]=L>>>16,w[j+3]=L>>>24}function y(w,L){return(w[L]|w[L+1]<<8|w[L+2]<<16)+(w[L+3]<<24)}function q(w,L,j){for(var O="",F=L;F<j;){var J=w[F],oe=null,se=J>239?4:J>223?3:J>191?2:1;if(F+se>j)break;var de,ke,Oe;se===1?J<128&&(oe=J):se===2?(de=w[F+1],(de&192)===128&&(oe=(J&31)<<6|de&63,oe<=127&&(oe=null))):se===3?(de=w[F+1],ke=w[F+2],(de&192)===128&&(ke&192)===128&&(oe=(J&15)<<12|(de&63)<<6|ke&63,(oe<=2047||oe>=55296&&oe<=57343)&&(oe=null))):se===4&&(de=w[F+1],ke=w[F+2],Oe=w[F+3],(de&192)===128&&(ke&192)===128&&(Oe&192)===128&&(oe=(J&15)<<18|(de&63)<<12|(ke&63)<<6|Oe&63,(oe<=65535||oe>=1114112)&&(oe=null))),oe===null?(oe=65533,se=1):oe>65535&&(oe-=65536,O+=String.fromCharCode(oe>>>10&1023|55296),oe=56320|oe&1023),O+=String.fromCharCode(oe),F+=se}return O}function M(w,L,j){return h.decode(w.subarray(L,j))}function V(w,L,j){for(var O=0,F,J;O<L.length;O++){if(F=L.charCodeAt(O),F>55295&&F<57344)if(J)if(F<56320){w[j++]=239,w[j++]=191,w[j++]=189,J=F;continue}else F=J-55296<<10|F-56320|65536,J=null;else{F>56319||O+1===L.length?(w[j++]=239,w[j++]=191,w[j++]=189):J=F;continue}else J&&(w[j++]=239,w[j++]=191,w[j++]=189,J=null);F<128?w[j++]=F:(F<2048?w[j++]=F>>6|192:(F<65536?w[j++]=F>>12|224:(w[j++]=F>>18|240,w[j++]=F>>12&63|128),w[j++]=F>>6&63|128),w[j++]=F&63|128)}return j}}),wA=Qe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});function n(h){var l=h+48;return l+=9-h>>>8&-48+65-10,String.fromCharCode(l)}function t(h){var l=h+48;return l+=9-h>>>8&-48+97-10,String.fromCharCode(l)}var r=256;function a(h){var l=r;return l+=(47-h&h-58)>>8&-r+h-48,l+=(64-h&h-71)>>8&-r+h-65+10,l+=(96-h&h-103)>>8&-r+h-97+10,l}function u(h,l){l===void 0&&(l=!1);for(var s=l?t:n,d="",f=0;f<h.length;f++)d+=s(h[f]>>>4),d+=s(h[f]&15);return d}e.encode=u;function c(h){if(h.length===0)return new Uint8Array(0);if(h.length%2!==0)throw new Error("hex: input string must be divisible by two");for(var l=new Uint8Array(h.length/2),s=0,d=0;d<h.length;d+=2){var f=a(h.charCodeAt(d)),g=a(h.charCodeAt(d+1));l[d/2]=f<<4|g,s|=f&r,s|=g&r}if(s!==0)throw new Error("hex: incorrect characters for decoding");return l}e.decode=c}),SA=Qe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});function n(h,l){var s=h>>>16&65535,d=h&65535,f=l>>>16&65535,g=l&65535;return d*g+(s*g+d*f<<16>>>0)|0}e.mul=Math.imul||n;function t(h,l){return h+l|0}e.add=t;function r(h,l){return h-l|0}e.sub=r;function a(h,l){return h<<l|h>>>32-l}e.rotl=a;function u(h,l){return h<<32-l|h>>>l}e.rotr=u;function c(h){return typeof h=="number"&&isFinite(h)&&Math.floor(h)===h}e.isInteger=Number.isInteger||c,e.MAX_SAFE_INTEGER=9007199254740991,e.isSafeInteger=function(h){return e.isInteger(h)&&h>=-e.MAX_SAFE_INTEGER&&h<=e.MAX_SAFE_INTEGER}}),EA=Qe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=SA();function t(j,O){return O===void 0&&(O=0),(j[O+0]<<8|j[O+1])<<16>>16}e.readInt16BE=t;function r(j,O){return O===void 0&&(O=0),(j[O+0]<<8|j[O+1])>>>0}e.readUint16BE=r;function a(j,O){return O===void 0&&(O=0),(j[O+1]<<8|j[O])<<16>>16}e.readInt16LE=a;function u(j,O){return O===void 0&&(O=0),(j[O+1]<<8|j[O])>>>0}e.readUint16LE=u;function c(j,O,F){return O===void 0&&(O=new Uint8Array(2)),F===void 0&&(F=0),O[F+0]=j>>>8,O[F+1]=j>>>0,O}e.writeUint16BE=c,e.writeInt16BE=c;function h(j,O,F){return O===void 0&&(O=new Uint8Array(2)),F===void 0&&(F=0),O[F+0]=j>>>0,O[F+1]=j>>>8,O}e.writeUint16LE=h,e.writeInt16LE=h;function l(j,O){return O===void 0&&(O=0),j[O]<<24|j[O+1]<<16|j[O+2]<<8|j[O+3]}e.readInt32BE=l;function s(j,O){return O===void 0&&(O=0),(j[O]<<24|j[O+1]<<16|j[O+2]<<8|j[O+3])>>>0}e.readUint32BE=s;function d(j,O){return O===void 0&&(O=0),j[O+3]<<24|j[O+2]<<16|j[O+1]<<8|j[O]}e.readInt32LE=d;function f(j,O){return O===void 0&&(O=0),(j[O+3]<<24|j[O+2]<<16|j[O+1]<<8|j[O])>>>0}e.readUint32LE=f;function g(j,O,F){return O===void 0&&(O=new Uint8Array(4)),F===void 0&&(F=0),O[F+0]=j>>>24,O[F+1]=j>>>16,O[F+2]=j>>>8,O[F+3]=j>>>0,O}e.writeUint32BE=g,e.writeInt32BE=g;function I(j,O,F){return O===void 0&&(O=new Uint8Array(4)),F===void 0&&(F=0),O[F+0]=j>>>0,O[F+1]=j>>>8,O[F+2]=j>>>16,O[F+3]=j>>>24,O}e.writeUint32LE=I,e.writeInt32LE=I;function C(j,O){O===void 0&&(O=0);var F=l(j,O),J=l(j,O+4);return F*4294967296+J-(J>>31)*4294967296}e.readInt64BE=C;function _(j,O){O===void 0&&(O=0);var F=s(j,O),J=s(j,O+4);return F*4294967296+J}e.readUint64BE=_;function T(j,O){O===void 0&&(O=0);var F=d(j,O),J=d(j,O+4);return J*4294967296+F-(F>>31)*4294967296}e.readInt64LE=T;function B(j,O){O===void 0&&(O=0);var F=f(j,O),J=f(j,O+4);return J*4294967296+F}e.readUint64LE=B;function P(j,O,F){return O===void 0&&(O=new Uint8Array(8)),F===void 0&&(F=0),g(j/4294967296>>>0,O,F),g(j>>>0,O,F+4),O}e.writeUint64BE=P,e.writeInt64BE=P;function p(j,O,F){return O===void 0&&(O=new Uint8Array(8)),F===void 0&&(F=0),I(j>>>0,O,F),I(j/4294967296>>>0,O,F+4),O}e.writeUint64LE=p,e.writeInt64LE=p;function A(j,O,F){if(F===void 0&&(F=0),j%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(j/8>O.length-F)throw new Error("readUintBE: array is too short for the given bitLength");for(var J=0,oe=1,se=j/8+F-1;se>=F;se--)J+=O[se]*oe,oe*=256;return J}e.readUintBE=A;function S(j,O,F){if(F===void 0&&(F=0),j%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(j/8>O.length-F)throw new Error("readUintLE: array is too short for the given bitLength");for(var J=0,oe=1,se=F;se<F+j/8;se++)J+=O[se]*oe,oe*=256;return J}e.readUintLE=S;function N(j,O,F,J){if(F===void 0&&(F=new Uint8Array(j/8)),J===void 0&&(J=0),j%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!n.isSafeInteger(O))throw new Error("writeUintBE value must be an integer");for(var oe=1,se=j/8+J-1;se>=J;se--)F[se]=O/oe&255,oe*=256;return F}e.writeUintBE=N;function D(j,O,F,J){if(F===void 0&&(F=new Uint8Array(j/8)),J===void 0&&(J=0),j%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!n.isSafeInteger(O))throw new Error("writeUintLE value must be an integer");for(var oe=1,se=J;se<J+j/8;se++)F[se]=O/oe&255,oe*=256;return F}e.writeUintLE=D;function E(j,O){O===void 0&&(O=0);var F=new DataView(j.buffer,j.byteOffset,j.byteLength);return F.getFloat32(O)}e.readFloat32BE=E;function m(j,O){O===void 0&&(O=0);var F=new DataView(j.buffer,j.byteOffset,j.byteLength);return F.getFloat32(O,!0)}e.readFloat32LE=m;function y(j,O){O===void 0&&(O=0);var F=new DataView(j.buffer,j.byteOffset,j.byteLength);return F.getFloat64(O)}e.readFloat64BE=y;function q(j,O){O===void 0&&(O=0);var F=new DataView(j.buffer,j.byteOffset,j.byteLength);return F.getFloat64(O,!0)}e.readFloat64LE=q;function M(j,O,F){O===void 0&&(O=new Uint8Array(4)),F===void 0&&(F=0);var J=new DataView(O.buffer,O.byteOffset,O.byteLength);return J.setFloat32(F,j),O}e.writeFloat32BE=M;function V(j,O,F){O===void 0&&(O=new Uint8Array(4)),F===void 0&&(F=0);var J=new DataView(O.buffer,O.byteOffset,O.byteLength);return J.setFloat32(F,j,!0),O}e.writeFloat32LE=V;function w(j,O,F){O===void 0&&(O=new Uint8Array(8)),F===void 0&&(F=0);var J=new DataView(O.buffer,O.byteOffset,O.byteLength);return J.setFloat64(F,j),O}e.writeFloat64BE=w;function L(j,O,F){O===void 0&&(O=new Uint8Array(8)),F===void 0&&(F=0);var J=new DataView(O.buffer,O.byteOffset,O.byteLength);return J.setFloat64(F,j,!0),O}e.writeFloat64LE=L}),CA=Qe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});function n(t){for(var r=0;r<t.length;r++)t[r]=0;return t}e.wipe=n}),TA=Qe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=EA(),t=CA();e.DIGEST_LENGTH=32,e.BLOCK_SIZE=64;var r=function(){function h(){this.digestLength=e.DIGEST_LENGTH,this.blockSize=e.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return h.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},h.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},h.prototype.clean=function(){t.wipe(this._buffer),t.wipe(this._temp),this.reset()},h.prototype.update=function(l,s){if(s===void 0&&(s=l.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var d=0;if(this._bytesHashed+=s,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&s>0;)this._buffer[this._bufferLength++]=l[d++],s--;this._bufferLength===this.blockSize&&(u(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(s>=this.blockSize&&(d=u(this._temp,this._state,l,d,s),s%=this.blockSize);s>0;)this._buffer[this._bufferLength++]=l[d++],s--;return this},h.prototype.finish=function(l){if(!this._finished){var s=this._bytesHashed,d=this._bufferLength,f=s/536870912|0,g=s<<3,I=s%64<56?64:128;this._buffer[d]=128;for(var C=d+1;C<I-8;C++)this._buffer[C]=0;n.writeUint32BE(f,this._buffer,I-8),n.writeUint32BE(g,this._buffer,I-4),u(this._temp,this._state,this._buffer,0,I),this._finished=!0}for(var C=0;C<this.digestLength/4;C++)n.writeUint32BE(this._state[C],l,C*4);return this},h.prototype.digest=function(){var l=new Uint8Array(this.digestLength);return this.finish(l),l},h.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},h.prototype.restoreState=function(l){return this._state.set(l.state),this._bufferLength=l.bufferLength,l.buffer&&this._buffer.set(l.buffer),this._bytesHashed=l.bytesHashed,this._finished=!1,this},h.prototype.cleanSavedState=function(l){t.wipe(l.state),l.buffer&&t.wipe(l.buffer),l.bufferLength=0,l.bytesHashed=0},h}();e.SHA256=r;var a=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function u(h,l,s,d,f){for(;f>=64;){for(var g=l[0],I=l[1],C=l[2],_=l[3],T=l[4],B=l[5],P=l[6],p=l[7],A=0;A<16;A++){var S=d+A*4;h[A]=n.readUint32BE(s,S)}for(var A=16;A<64;A++){var N=h[A-2],D=(N>>>17|N<<32-17)^(N>>>19|N<<32-19)^N>>>10;N=h[A-15];var E=(N>>>7|N<<32-7)^(N>>>18|N<<32-18)^N>>>3;h[A]=(D+h[A-7]|0)+(E+h[A-16]|0)}for(var A=0;A<64;A++){var D=(((T>>>6|T<<26)^(T>>>11|T<<21)^(T>>>25|T<<7))+(T&B^~T&P)|0)+(p+(a[A]+h[A]|0)|0)|0,E=((g>>>2|g<<32-2)^(g>>>13|g<<32-13)^(g>>>22|g<<32-22))+(g&I^g&C^I&C)|0;p=P,P=B,B=T,T=_+D|0,_=C,C=I,I=g,g=D+E|0}l[0]+=g,l[1]+=I,l[2]+=C,l[3]+=_,l[4]+=T,l[5]+=B,l[6]+=P,l[7]+=p,d+=64,f-=64}return d}function c(h){var l=new r;l.update(h);var s=l.digest();return l.clean(),s}e.hash=c}),lt=Qe((e,n)=>{n.exports={options:{usePureJavaScript:!1}}}),AA=Qe((e,n)=>{var t={};n.exports=t;var r={};t.encode=function(u,c,h){if(typeof c!="string")throw new TypeError('"alphabet" must be a string.');if(h!==void 0&&typeof h!="number")throw new TypeError('"maxline" must be a number.');var l="";if(!(u instanceof Uint8Array))l=a(u,c);else{var s=0,d=c.length,f=c.charAt(0),g=[0];for(s=0;s<u.length;++s){for(var I=0,C=u[s];I<g.length;++I)C+=g[I]<<8,g[I]=C%d,C=C/d|0;for(;C>0;)g.push(C%d),C=C/d|0}for(s=0;u[s]===0&&s<u.length-1;++s)l+=f;for(s=g.length-1;s>=0;--s)l+=c[g[s]]}if(h){var _=new RegExp(".{1,"+h+"}","g");l=l.match(_).join(`\r
`)}return l},t.decode=function(u,c){if(typeof u!="string")throw new TypeError('"input" must be a string.');if(typeof c!="string")throw new TypeError('"alphabet" must be a string.');var h=r[c];if(!h){h=r[c]=[];for(var l=0;l<c.length;++l)h[c.charCodeAt(l)]=l}u=u.replace(/\s/g,"");for(var s=c.length,d=c.charAt(0),f=[0],l=0;l<u.length;l++){var g=h[u.charCodeAt(l)];if(g===void 0)return;for(var I=0,C=g;I<f.length;++I)C+=f[I]*s,f[I]=C&255,C>>=8;for(;C>0;)f.push(C&255),C>>=8}for(var _=0;u[_]===d&&_<u.length-1;++_)f.push(0);return typeof Buffer<"u"?Buffer.from(f.reverse()):new Uint8Array(f.reverse())};function a(u,c){var h=0,l=c.length,s=c.charAt(0),d=[0];for(h=0;h<u.length();++h){for(var f=0,g=u.at(h);f<d.length;++f)g+=d[f]<<8,d[f]=g%l,g=g/l|0;for(;g>0;)d.push(g%l),g=g/l|0}var I="";for(h=0;u.at(h)===0&&h<u.length()-1;++h)I+=s;for(h=d.length-1;h>=0;--h)I+=c[d[h]];return I}}),St=Qe((e,n)=>{var t=lt(),r=AA(),a=n.exports=t.util=t.util||{};(function(){if(typeof process<"u"&&process.nextTick&&!process.browser){a.nextTick=process.nextTick,typeof setImmediate=="function"?a.setImmediate=setImmediate:a.setImmediate=a.nextTick;return}if(typeof setImmediate=="function"){a.setImmediate=function(){return setImmediate.apply(void 0,arguments)},a.nextTick=function(y){return setImmediate(y)};return}if(a.setImmediate=function(y){setTimeout(y,0)},typeof window<"u"&&typeof window.postMessage=="function"){let y=function(q){if(q.source===window&&q.data===A){q.stopPropagation();var M=S.slice();S.length=0,M.forEach(function(V){V()})}};var p=y,A="forge.setImmediate",S=[];a.setImmediate=function(q){S.push(q),S.length===1&&window.postMessage(A,"*")},window.addEventListener("message",y,!0)}if(typeof MutationObserver<"u"){var N=Date.now(),D=!0,E=document.createElement("div"),S=[];new MutationObserver(function(){var q=S.slice();S.length=0,q.forEach(function(M){M()})}).observe(E,{attributes:!0});var m=a.setImmediate;a.setImmediate=function(q){Date.now()-N>15?(N=Date.now(),m(q)):(S.push(q),S.length===1&&E.setAttribute("a",D=!D))}}a.nextTick=a.setImmediate})(),a.isNodejs=typeof process<"u"&&process.versions&&process.versions.node,a.globalScope=function(){return a.isNodejs?global:typeof self>"u"?window:self}(),a.isArray=Array.isArray||function(p){return Object.prototype.toString.call(p)==="[object Array]"},a.isArrayBuffer=function(p){return typeof ArrayBuffer<"u"&&p instanceof ArrayBuffer},a.isArrayBufferView=function(p){return p&&a.isArrayBuffer(p.buffer)&&p.byteLength!==void 0};function u(p){if(!(p===8||p===16||p===24||p===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+p)}a.ByteBuffer=c;function c(p){if(this.data="",this.read=0,typeof p=="string")this.data=p;else if(a.isArrayBuffer(p)||a.isArrayBufferView(p))if(typeof Buffer<"u"&&p instanceof Buffer)this.data=p.toString("binary");else{var A=new Uint8Array(p);try{this.data=String.fromCharCode.apply(null,A)}catch{for(var S=0;S<A.length;++S)this.putByte(A[S])}}else(p instanceof c||typeof p=="object"&&typeof p.data=="string"&&typeof p.read=="number")&&(this.data=p.data,this.read=p.read);this._constructedStringLength=0}a.ByteStringBuffer=c;var h=4096;a.ByteStringBuffer.prototype._optimizeConstructedString=function(p){this._constructedStringLength+=p,this._constructedStringLength>h&&(this.data.substr(0,1),this._constructedStringLength=0)},a.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},a.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},a.ByteStringBuffer.prototype.putByte=function(p){return this.putBytes(String.fromCharCode(p))},a.ByteStringBuffer.prototype.fillWithByte=function(p,A){p=String.fromCharCode(p);for(var S=this.data;A>0;)A&1&&(S+=p),A>>>=1,A>0&&(p+=p);return this.data=S,this._optimizeConstructedString(A),this},a.ByteStringBuffer.prototype.putBytes=function(p){return this.data+=p,this._optimizeConstructedString(p.length),this},a.ByteStringBuffer.prototype.putString=function(p){return this.putBytes(a.encodeUtf8(p))},a.ByteStringBuffer.prototype.putInt16=function(p){return this.putBytes(String.fromCharCode(p>>8&255)+String.fromCharCode(p&255))},a.ByteStringBuffer.prototype.putInt24=function(p){return this.putBytes(String.fromCharCode(p>>16&255)+String.fromCharCode(p>>8&255)+String.fromCharCode(p&255))},a.ByteStringBuffer.prototype.putInt32=function(p){return this.putBytes(String.fromCharCode(p>>24&255)+String.fromCharCode(p>>16&255)+String.fromCharCode(p>>8&255)+String.fromCharCode(p&255))},a.ByteStringBuffer.prototype.putInt16Le=function(p){return this.putBytes(String.fromCharCode(p&255)+String.fromCharCode(p>>8&255))},a.ByteStringBuffer.prototype.putInt24Le=function(p){return this.putBytes(String.fromCharCode(p&255)+String.fromCharCode(p>>8&255)+String.fromCharCode(p>>16&255))},a.ByteStringBuffer.prototype.putInt32Le=function(p){return this.putBytes(String.fromCharCode(p&255)+String.fromCharCode(p>>8&255)+String.fromCharCode(p>>16&255)+String.fromCharCode(p>>24&255))},a.ByteStringBuffer.prototype.putInt=function(p,A){u(A);var S="";do A-=8,S+=String.fromCharCode(p>>A&255);while(A>0);return this.putBytes(S)},a.ByteStringBuffer.prototype.putSignedInt=function(p,A){return p<0&&(p+=2<<A-1),this.putInt(p,A)},a.ByteStringBuffer.prototype.putBuffer=function(p){return this.putBytes(p.getBytes())},a.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},a.ByteStringBuffer.prototype.getInt16=function(){var p=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,p},a.ByteStringBuffer.prototype.getInt24=function(){var p=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,p},a.ByteStringBuffer.prototype.getInt32=function(){var p=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,p},a.ByteStringBuffer.prototype.getInt16Le=function(){var p=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,p},a.ByteStringBuffer.prototype.getInt24Le=function(){var p=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,p},a.ByteStringBuffer.prototype.getInt32Le=function(){var p=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,p},a.ByteStringBuffer.prototype.getInt=function(p){u(p);var A=0;do A=(A<<8)+this.data.charCodeAt(this.read++),p-=8;while(p>0);return A},a.ByteStringBuffer.prototype.getSignedInt=function(p){var A=this.getInt(p),S=2<<p-2;return A>=S&&(A-=S<<1),A},a.ByteStringBuffer.prototype.getBytes=function(p){var A;return p?(p=Math.min(this.length(),p),A=this.data.slice(this.read,this.read+p),this.read+=p):p===0?A="":(A=this.read===0?this.data:this.data.slice(this.read),this.clear()),A},a.ByteStringBuffer.prototype.bytes=function(p){return typeof p>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+p)},a.ByteStringBuffer.prototype.at=function(p){return this.data.charCodeAt(this.read+p)},a.ByteStringBuffer.prototype.setAt=function(p,A){return this.data=this.data.substr(0,this.read+p)+String.fromCharCode(A)+this.data.substr(this.read+p+1),this},a.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},a.ByteStringBuffer.prototype.copy=function(){var p=a.createBuffer(this.data);return p.read=this.read,p},a.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},a.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},a.ByteStringBuffer.prototype.truncate=function(p){var A=Math.max(0,this.length()-p);return this.data=this.data.substr(this.read,A),this.read=0,this},a.ByteStringBuffer.prototype.toHex=function(){for(var p="",A=this.read;A<this.data.length;++A){var S=this.data.charCodeAt(A);S<16&&(p+="0"),p+=S.toString(16)}return p},a.ByteStringBuffer.prototype.toString=function(){return a.decodeUtf8(this.bytes())};function l(p,A){A=A||{},this.read=A.readOffset||0,this.growSize=A.growSize||1024;var S=a.isArrayBuffer(p),N=a.isArrayBufferView(p);if(S||N){S?this.data=new DataView(p):this.data=new DataView(p.buffer,p.byteOffset,p.byteLength),this.write="writeOffset"in A?A.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,p!=null&&this.putBytes(p),"writeOffset"in A&&(this.write=A.writeOffset)}a.DataBuffer=l,a.DataBuffer.prototype.length=function(){return this.write-this.read},a.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},a.DataBuffer.prototype.accommodate=function(p,A){if(this.length()>=p)return this;A=Math.max(A||this.growSize,p);var S=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),N=new Uint8Array(this.length()+A);return N.set(S),this.data=new DataView(N.buffer),this},a.DataBuffer.prototype.putByte=function(p){return this.accommodate(1),this.data.setUint8(this.write++,p),this},a.DataBuffer.prototype.fillWithByte=function(p,A){this.accommodate(A);for(var S=0;S<A;++S)this.data.setUint8(p);return this},a.DataBuffer.prototype.putBytes=function(p,A){if(a.isArrayBufferView(p)){var S=new Uint8Array(p.buffer,p.byteOffset,p.byteLength),N=S.byteLength-S.byteOffset;this.accommodate(N);var D=new Uint8Array(this.data.buffer,this.write);return D.set(S),this.write+=N,this}if(a.isArrayBuffer(p)){var S=new Uint8Array(p);this.accommodate(S.byteLength);var D=new Uint8Array(this.data.buffer);return D.set(S,this.write),this.write+=S.byteLength,this}if(p instanceof a.DataBuffer||typeof p=="object"&&typeof p.read=="number"&&typeof p.write=="number"&&a.isArrayBufferView(p.data)){var S=new Uint8Array(p.data.byteLength,p.read,p.length());this.accommodate(S.byteLength);var D=new Uint8Array(p.data.byteLength,this.write);return D.set(S),this.write+=S.byteLength,this}if(p instanceof a.ByteStringBuffer&&(p=p.data,A="binary"),A=A||"binary",typeof p=="string"){var E;if(A==="hex")return this.accommodate(Math.ceil(p.length/2)),E=new Uint8Array(this.data.buffer,this.write),this.write+=a.binary.hex.decode(p,E,this.write),this;if(A==="base64")return this.accommodate(Math.ceil(p.length/4)*3),E=new Uint8Array(this.data.buffer,this.write),this.write+=a.binary.base64.decode(p,E,this.write),this;if(A==="utf8"&&(p=a.encodeUtf8(p),A="binary"),A==="binary"||A==="raw")return this.accommodate(p.length),E=new Uint8Array(this.data.buffer,this.write),this.write+=a.binary.raw.decode(E),this;if(A==="utf16")return this.accommodate(p.length*2),E=new Uint16Array(this.data.buffer,this.write),this.write+=a.text.utf16.encode(E),this;throw new Error("Invalid encoding: "+A)}throw Error("Invalid parameter: "+p)},a.DataBuffer.prototype.putBuffer=function(p){return this.putBytes(p),p.clear(),this},a.DataBuffer.prototype.putString=function(p){return this.putBytes(p,"utf16")},a.DataBuffer.prototype.putInt16=function(p){return this.accommodate(2),this.data.setInt16(this.write,p),this.write+=2,this},a.DataBuffer.prototype.putInt24=function(p){return this.accommodate(3),this.data.setInt16(this.write,p>>8&65535),this.data.setInt8(this.write,p>>16&255),this.write+=3,this},a.DataBuffer.prototype.putInt32=function(p){return this.accommodate(4),this.data.setInt32(this.write,p),this.write+=4,this},a.DataBuffer.prototype.putInt16Le=function(p){return this.accommodate(2),this.data.setInt16(this.write,p,!0),this.write+=2,this},a.DataBuffer.prototype.putInt24Le=function(p){return this.accommodate(3),this.data.setInt8(this.write,p>>16&255),this.data.setInt16(this.write,p>>8&65535,!0),this.write+=3,this},a.DataBuffer.prototype.putInt32Le=function(p){return this.accommodate(4),this.data.setInt32(this.write,p,!0),this.write+=4,this},a.DataBuffer.prototype.putInt=function(p,A){u(A),this.accommodate(A/8);do A-=8,this.data.setInt8(this.write++,p>>A&255);while(A>0);return this},a.DataBuffer.prototype.putSignedInt=function(p,A){return u(A),this.accommodate(A/8),p<0&&(p+=2<<A-1),this.putInt(p,A)},a.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},a.DataBuffer.prototype.getInt16=function(){var p=this.data.getInt16(this.read);return this.read+=2,p},a.DataBuffer.prototype.getInt24=function(){var p=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,p},a.DataBuffer.prototype.getInt32=function(){var p=this.data.getInt32(this.read);return this.read+=4,p},a.DataBuffer.prototype.getInt16Le=function(){var p=this.data.getInt16(this.read,!0);return this.read+=2,p},a.DataBuffer.prototype.getInt24Le=function(){var p=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,p},a.DataBuffer.prototype.getInt32Le=function(){var p=this.data.getInt32(this.read,!0);return this.read+=4,p},a.DataBuffer.prototype.getInt=function(p){u(p);var A=0;do A=(A<<8)+this.data.getInt8(this.read++),p-=8;while(p>0);return A},a.DataBuffer.prototype.getSignedInt=function(p){var A=this.getInt(p),S=2<<p-2;return A>=S&&(A-=S<<1),A},a.DataBuffer.prototype.getBytes=function(p){var A;return p?(p=Math.min(this.length(),p),A=this.data.slice(this.read,this.read+p),this.read+=p):p===0?A="":(A=this.read===0?this.data:this.data.slice(this.read),this.clear()),A},a.DataBuffer.prototype.bytes=function(p){return typeof p>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+p)},a.DataBuffer.prototype.at=function(p){return this.data.getUint8(this.read+p)},a.DataBuffer.prototype.setAt=function(p,A){return this.data.setUint8(p,A),this},a.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},a.DataBuffer.prototype.copy=function(){return new a.DataBuffer(this)},a.DataBuffer.prototype.compact=function(){if(this.read>0){var p=new Uint8Array(this.data.buffer,this.read),A=new Uint8Array(p.byteLength);A.set(p),this.data=new DataView(A),this.write-=this.read,this.read=0}return this},a.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},a.DataBuffer.prototype.truncate=function(p){return this.write=Math.max(0,this.length()-p),this.read=Math.min(this.read,this.write),this},a.DataBuffer.prototype.toHex=function(){for(var p="",A=this.read;A<this.data.byteLength;++A){var S=this.data.getUint8(A);S<16&&(p+="0"),p+=S.toString(16)}return p},a.DataBuffer.prototype.toString=function(p){var A=new Uint8Array(this.data,this.read,this.length());if(p=p||"utf8",p==="binary"||p==="raw")return a.binary.raw.encode(A);if(p==="hex")return a.binary.hex.encode(A);if(p==="base64")return a.binary.base64.encode(A);if(p==="utf8")return a.text.utf8.decode(A);if(p==="utf16")return a.text.utf16.decode(A);throw new Error("Invalid encoding: "+p)},a.createBuffer=function(p,A){return A=A||"raw",p!==void 0&&A==="utf8"&&(p=a.encodeUtf8(p)),new a.ByteBuffer(p)},a.fillString=function(p,A){for(var S="";A>0;)A&1&&(S+=p),A>>>=1,A>0&&(p+=p);return S},a.xorBytes=function(p,A,S){for(var N="",D="",E="",m=0,y=0;S>0;--S,++m)D=p.charCodeAt(m)^A.charCodeAt(m),y>=10&&(N+=E,E="",y=0),E+=String.fromCharCode(D),++y;return N+=E,N},a.hexToBytes=function(p){var A="",S=0;for(p.length&!0&&(S=1,A+=String.fromCharCode(parseInt(p[0],16)));S<p.length;S+=2)A+=String.fromCharCode(parseInt(p.substr(S,2),16));return A},a.bytesToHex=function(p){return a.createBuffer(p).toHex()},a.int32ToBytes=function(p){return String.fromCharCode(p>>24&255)+String.fromCharCode(p>>16&255)+String.fromCharCode(p>>8&255)+String.fromCharCode(p&255)};var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",d=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],f="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";a.encode64=function(p,A){for(var S="",N="",D,E,m,y=0;y<p.length;)D=p.charCodeAt(y++),E=p.charCodeAt(y++),m=p.charCodeAt(y++),S+=s.charAt(D>>2),S+=s.charAt((D&3)<<4|E>>4),isNaN(E)?S+="==":(S+=s.charAt((E&15)<<2|m>>6),S+=isNaN(m)?"=":s.charAt(m&63)),A&&S.length>A&&(N+=S.substr(0,A)+`\r
`,S=S.substr(A));return N+=S,N},a.decode64=function(p){p=p.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var A="",S,N,D,E,m=0;m<p.length;)S=d[p.charCodeAt(m++)-43],N=d[p.charCodeAt(m++)-43],D=d[p.charCodeAt(m++)-43],E=d[p.charCodeAt(m++)-43],A+=String.fromCharCode(S<<2|N>>4),D!==64&&(A+=String.fromCharCode((N&15)<<4|D>>2),E!==64&&(A+=String.fromCharCode((D&3)<<6|E)));return A},a.encodeUtf8=function(p){return unescape(encodeURIComponent(p))},a.decodeUtf8=function(p){return decodeURIComponent(escape(p))},a.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:r.encode,decode:r.decode}},a.binary.raw.encode=function(p){return String.fromCharCode.apply(null,p)},a.binary.raw.decode=function(p,A,S){var N=A;N||(N=new Uint8Array(p.length)),S=S||0;for(var D=S,E=0;E<p.length;++E)N[D++]=p.charCodeAt(E);return A?D-S:N},a.binary.hex.encode=a.bytesToHex,a.binary.hex.decode=function(p,A,S){var N=A;N||(N=new Uint8Array(Math.ceil(p.length/2))),S=S||0;var D=0,E=S;for(p.length&1&&(D=1,N[E++]=parseInt(p[0],16));D<p.length;D+=2)N[E++]=parseInt(p.substr(D,2),16);return A?E-S:N},a.binary.base64.encode=function(p,A){for(var S="",N="",D,E,m,y=0;y<p.byteLength;)D=p[y++],E=p[y++],m=p[y++],S+=s.charAt(D>>2),S+=s.charAt((D&3)<<4|E>>4),isNaN(E)?S+="==":(S+=s.charAt((E&15)<<2|m>>6),S+=isNaN(m)?"=":s.charAt(m&63)),A&&S.length>A&&(N+=S.substr(0,A)+`\r
`,S=S.substr(A));return N+=S,N},a.binary.base64.decode=function(p,A,S){var N=A;N||(N=new Uint8Array(Math.ceil(p.length/4)*3)),p=p.replace(/[^A-Za-z0-9\+\/\=]/g,""),S=S||0;for(var D,E,m,y,q=0,M=S;q<p.length;)D=d[p.charCodeAt(q++)-43],E=d[p.charCodeAt(q++)-43],m=d[p.charCodeAt(q++)-43],y=d[p.charCodeAt(q++)-43],N[M++]=D<<2|E>>4,m!==64&&(N[M++]=(E&15)<<4|m>>2,y!==64&&(N[M++]=(m&3)<<6|y));return A?M-S:N.subarray(0,M)},a.binary.base58.encode=function(p,A){return a.binary.baseN.encode(p,f,A)},a.binary.base58.decode=function(p,A){return a.binary.baseN.decode(p,f,A)},a.text={utf8:{},utf16:{}},a.text.utf8.encode=function(p,A,S){p=a.encodeUtf8(p);var N=A;N||(N=new Uint8Array(p.length)),S=S||0;for(var D=S,E=0;E<p.length;++E)N[D++]=p.charCodeAt(E);return A?D-S:N},a.text.utf8.decode=function(p){return a.decodeUtf8(String.fromCharCode.apply(null,p))},a.text.utf16.encode=function(p,A,S){var N=A;N||(N=new Uint8Array(p.length*2));var D=new Uint16Array(N.buffer);S=S||0;for(var E=S,m=S,y=0;y<p.length;++y)D[m++]=p.charCodeAt(y),E+=2;return A?E-S:N},a.text.utf16.decode=function(p){return String.fromCharCode.apply(null,new Uint16Array(p.buffer))},a.deflate=function(p,A,S){if(A=a.decode64(p.deflate(a.encode64(A)).rval),S){var N=2,D=A.charCodeAt(1);D&32&&(N=6),A=A.substring(N,A.length-4)}return A},a.inflate=function(p,A,S){var N=p.inflate(a.encode64(A)).rval;return N===null?null:a.decode64(N)};var g=function(p,A,S){if(!p)throw new Error("WebStorage not available.");var N;if(S===null?N=p.removeItem(A):(S=a.encode64(JSON.stringify(S)),N=p.setItem(A,S)),typeof N<"u"&&N.rval!==!0){var D=new Error(N.error.message);throw D.id=N.error.id,D.name=N.error.name,D}},I=function(p,A){if(!p)throw new Error("WebStorage not available.");var S=p.getItem(A);if(p.init)if(S.rval===null){if(S.error){var N=new Error(S.error.message);throw N.id=S.error.id,N.name=S.error.name,N}S=null}else S=S.rval;return S!==null&&(S=JSON.parse(a.decode64(S))),S},C=function(p,A,S,N){var D=I(p,A);D===null&&(D={}),D[S]=N,g(p,A,D)},_=function(p,A,S){var N=I(p,A);return N!==null&&(N=S in N?N[S]:null),N},T=function(p,A,S){var N=I(p,A);if(N!==null&&S in N){delete N[S];var D=!0;for(var E in N){D=!1;break}D&&(N=null),g(p,A,N)}},B=function(p,A){g(p,A,null)},P=function(p,A,S){var N=null;typeof S>"u"&&(S=["web","flash"]);var D,E=!1,m=null;for(var y in S){D=S[y];try{if(D==="flash"||D==="both"){if(A[0]===null)throw new Error("Flash local storage not available.");N=p.apply(this,A),E=D==="flash"}(D==="web"||D==="both")&&(A[0]=localStorage,N=p.apply(this,A),E=!0)}catch(q){m=q}if(E)break}if(!E)throw m;return N};a.setItem=function(p,A,S,N,D){P(C,arguments,D)},a.getItem=function(p,A,S,N){return P(_,arguments,N)},a.removeItem=function(p,A,S,N){P(T,arguments,N)},a.clearItems=function(p,A,S){P(B,arguments,S)},a.isEmpty=function(p){for(var A in p)if(p.hasOwnProperty(A))return!1;return!0},a.format=function(p){for(var A=/%./g,S,N,D=0,E=[],m=0;S=A.exec(p);){N=p.substring(m,A.lastIndex-2),N.length>0&&E.push(N),m=A.lastIndex;var y=S[0][1];switch(y){case"s":case"o":D<arguments.length?E.push(arguments[D+++1]):E.push("<?>");break;case"%":E.push("%");break;default:E.push("<%"+y+"?>")}}return E.push(p.substring(m)),E.join("")},a.formatNumber=function(p,A,S,N){var D=p,E=isNaN(A=Math.abs(A))?2:A,m=S===void 0?",":S,y=N===void 0?".":N,q=D<0?"-":"",M=parseInt(D=Math.abs(+D||0).toFixed(E),10)+"",V=M.length>3?M.length%3:0;return q+(V?M.substr(0,V)+y:"")+M.substr(V).replace(/(\d{3})(?=\d)/g,"$1"+y)+(E?m+Math.abs(D-M).toFixed(E).slice(2):"")},a.formatSize=function(p){return p>=1073741824?p=a.formatNumber(p/1073741824,2,".","")+" GiB":p>=1048576?p=a.formatNumber(p/1048576,2,".","")+" MiB":p>=1024?p=a.formatNumber(p/1024,0)+" KiB":p=a.formatNumber(p,0)+" bytes",p},a.bytesFromIP=function(p){return p.indexOf(".")!==-1?a.bytesFromIPv4(p):p.indexOf(":")!==-1?a.bytesFromIPv6(p):null},a.bytesFromIPv4=function(p){if(p=p.split("."),p.length!==4)return null;for(var A=a.createBuffer(),S=0;S<p.length;++S){var N=parseInt(p[S],10);if(isNaN(N))return null;A.putByte(N)}return A.getBytes()},a.bytesFromIPv6=function(p){var A=0;p=p.split(":").filter(function(m){return m.length===0&&++A,!0});for(var S=(8-p.length+A)*2,N=a.createBuffer(),D=0;D<8;++D){if(!p[D]||p[D].length===0){N.fillWithByte(0,S),S=0;continue}var E=a.hexToBytes(p[D]);E.length<2&&N.putByte(0),N.putBytes(E)}return N.getBytes()},a.bytesToIP=function(p){return p.length===4?a.bytesToIPv4(p):p.length===16?a.bytesToIPv6(p):null},a.bytesToIPv4=function(p){if(p.length!==4)return null;for(var A=[],S=0;S<p.length;++S)A.push(p.charCodeAt(S));return A.join(".")},a.bytesToIPv6=function(p){if(p.length!==16)return null;for(var A=[],S=[],N=0,D=0;D<p.length;D+=2){for(var E=a.bytesToHex(p[D]+p[D+1]);E[0]==="0"&&E!=="0";)E=E.substr(1);if(E==="0"){var m=S[S.length-1],y=A.length;!m||y!==m.end+1?S.push({start:y,end:y}):(m.end=y,m.end-m.start>S[N].end-S[N].start&&(N=S.length-1))}A.push(E)}if(S.length>0){var q=S[N];q.end-q.start>0&&(A.splice(q.start,q.end-q.start+1,""),q.start===0&&A.unshift(""),q.end===7&&A.push(""))}return A.join(":")},a.estimateCores=function(p,A){if(typeof p=="function"&&(A=p,p={}),p=p||{},"cores"in a&&!p.update)return A(null,a.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return a.cores=navigator.hardwareConcurrency,A(null,a.cores);if(typeof Worker>"u")return a.cores=1,A(null,a.cores);if(typeof Blob>"u")return a.cores=2,A(null,a.cores);var S=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(m){for(var y=Date.now(),q=y+4;Date.now()<q;);self.postMessage({st:y,et:q})})}.toString(),")()"],{type:"application/javascript"}));N([],5,16);function N(m,y,q){if(y===0){var M=Math.floor(m.reduce(function(V,w){return V+w},0)/m.length);return a.cores=Math.max(1,M),URL.revokeObjectURL(S),A(null,a.cores)}D(q,function(V,w){m.push(E(q,w)),N(m,y-1,q)})}function D(m,y){for(var q=[],M=[],V=0;V<m;++V){var w=new Worker(S);w.addEventListener("message",function(L){if(M.push(L.data),M.length===m){for(var j=0;j<m;++j)q[j].terminate();y(null,M)}}),q.push(w)}for(var V=0;V<m;++V)q[V].postMessage(V)}function E(m,y){for(var q=[],M=0;M<m;++M)for(var V=y[M],w=q[M]=[],L=0;L<m;++L)if(M!==L){var j=y[L];(V.st>j.st&&V.st<j.et||j.st>V.st&&j.st<V.et)&&w.push(L)}return q.reduce(function(O,F){return Math.max(O,F.length)},0)}}}),Op=Qe((e,n)=>{var t=lt();St(),n.exports=t.cipher=t.cipher||{},t.cipher.algorithms=t.cipher.algorithms||{},t.cipher.createCipher=function(a,u){var c=a;if(typeof c=="string"&&(c=t.cipher.getAlgorithm(c),c&&(c=c())),!c)throw new Error("Unsupported algorithm: "+a);return new t.cipher.BlockCipher({algorithm:c,key:u,decrypt:!1})},t.cipher.createDecipher=function(a,u){var c=a;if(typeof c=="string"&&(c=t.cipher.getAlgorithm(c),c&&(c=c())),!c)throw new Error("Unsupported algorithm: "+a);return new t.cipher.BlockCipher({algorithm:c,key:u,decrypt:!0})},t.cipher.registerAlgorithm=function(a,u){a=a.toUpperCase(),t.cipher.algorithms[a]=u},t.cipher.getAlgorithm=function(a){return a=a.toUpperCase(),a in t.cipher.algorithms?t.cipher.algorithms[a]:null};var r=t.cipher.BlockCipher=function(a){this.algorithm=a.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=a.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=a.decrypt,this.algorithm.initialize(a)};r.prototype.start=function(a){a=a||{};var u={};for(var c in a)u[c]=a[c];u.decrypt=this._decrypt,this._finish=!1,this._input=t.util.createBuffer(),this.output=a.output||t.util.createBuffer(),this.mode.start(u)},r.prototype.update=function(a){for(a&&this._input.putBuffer(a);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},r.prototype.finish=function(a){a&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(c){return a(this.blockSize,c,!1)},this.mode.unpad=function(c){return a(this.blockSize,c,!0)});var u={};return u.decrypt=this._decrypt,u.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,u)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,u))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,u))}}),B1=Qe((e,n)=>{var t=lt();St(),t.cipher=t.cipher||{};var r=n.exports=t.cipher.modes=t.cipher.modes||{};r.ecb=function(h){h=h||{},this.name="ECB",this.cipher=h.cipher,this.blockSize=h.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},r.ecb.prototype.start=function(h){},r.ecb.prototype.encrypt=function(h,l,s){if(h.length()<this.blockSize&&!(s&&h.length()>0))return!0;for(var d=0;d<this._ints;++d)this._inBlock[d]=h.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var d=0;d<this._ints;++d)l.putInt32(this._outBlock[d])},r.ecb.prototype.decrypt=function(h,l,s){if(h.length()<this.blockSize&&!(s&&h.length()>0))return!0;for(var d=0;d<this._ints;++d)this._inBlock[d]=h.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var d=0;d<this._ints;++d)l.putInt32(this._outBlock[d])},r.ecb.prototype.pad=function(h,l){var s=h.length()===this.blockSize?this.blockSize:this.blockSize-h.length();return h.fillWithByte(s,s),!0},r.ecb.prototype.unpad=function(h,l){if(l.overflow>0)return!1;var s=h.length(),d=h.at(s-1);return d>this.blockSize<<2?!1:(h.truncate(d),!0)},r.cbc=function(h){h=h||{},this.name="CBC",this.cipher=h.cipher,this.blockSize=h.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},r.cbc.prototype.start=function(h){if(h.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in h)this._iv=a(h.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")},r.cbc.prototype.encrypt=function(h,l,s){if(h.length()<this.blockSize&&!(s&&h.length()>0))return!0;for(var d=0;d<this._ints;++d)this._inBlock[d]=this._prev[d]^h.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var d=0;d<this._ints;++d)l.putInt32(this._outBlock[d]);this._prev=this._outBlock},r.cbc.prototype.decrypt=function(h,l,s){if(h.length()<this.blockSize&&!(s&&h.length()>0))return!0;for(var d=0;d<this._ints;++d)this._inBlock[d]=h.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var d=0;d<this._ints;++d)l.putInt32(this._prev[d]^this._outBlock[d]);this._prev=this._inBlock.slice(0)},r.cbc.prototype.pad=function(h,l){var s=h.length()===this.blockSize?this.blockSize:this.blockSize-h.length();return h.fillWithByte(s,s),!0},r.cbc.prototype.unpad=function(h,l){if(l.overflow>0)return!1;var s=h.length(),d=h.at(s-1);return d>this.blockSize<<2?!1:(h.truncate(d),!0)},r.cfb=function(h){h=h||{},this.name="CFB",this.cipher=h.cipher,this.blockSize=h.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=t.util.createBuffer(),this._partialBytes=0},r.cfb.prototype.start=function(h){if(!("iv"in h))throw new Error("Invalid IV parameter.");this._iv=a(h.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},r.cfb.prototype.encrypt=function(h,l,s){var d=h.length();if(d===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&d>=this.blockSize){for(var f=0;f<this._ints;++f)this._inBlock[f]=h.getInt32()^this._outBlock[f],l.putInt32(this._inBlock[f]);return}var g=(this.blockSize-d)%this.blockSize;g>0&&(g=this.blockSize-g),this._partialOutput.clear();for(var f=0;f<this._ints;++f)this._partialBlock[f]=h.getInt32()^this._outBlock[f],this._partialOutput.putInt32(this._partialBlock[f]);if(g>0)h.read-=this.blockSize;else for(var f=0;f<this._ints;++f)this._inBlock[f]=this._partialBlock[f];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),g>0&&!s)return l.putBytes(this._partialOutput.getBytes(g-this._partialBytes)),this._partialBytes=g,!0;l.putBytes(this._partialOutput.getBytes(d-this._partialBytes)),this._partialBytes=0},r.cfb.prototype.decrypt=function(h,l,s){var d=h.length();if(d===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&d>=this.blockSize){for(var f=0;f<this._ints;++f)this._inBlock[f]=h.getInt32(),l.putInt32(this._inBlock[f]^this._outBlock[f]);return}var g=(this.blockSize-d)%this.blockSize;g>0&&(g=this.blockSize-g),this._partialOutput.clear();for(var f=0;f<this._ints;++f)this._partialBlock[f]=h.getInt32(),this._partialOutput.putInt32(this._partialBlock[f]^this._outBlock[f]);if(g>0)h.read-=this.blockSize;else for(var f=0;f<this._ints;++f)this._inBlock[f]=this._partialBlock[f];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),g>0&&!s)return l.putBytes(this._partialOutput.getBytes(g-this._partialBytes)),this._partialBytes=g,!0;l.putBytes(this._partialOutput.getBytes(d-this._partialBytes)),this._partialBytes=0},r.ofb=function(h){h=h||{},this.name="OFB",this.cipher=h.cipher,this.blockSize=h.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=t.util.createBuffer(),this._partialBytes=0},r.ofb.prototype.start=function(h){if(!("iv"in h))throw new Error("Invalid IV parameter.");this._iv=a(h.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},r.ofb.prototype.encrypt=function(h,l,s){var d=h.length();if(h.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&d>=this.blockSize){for(var f=0;f<this._ints;++f)l.putInt32(h.getInt32()^this._outBlock[f]),this._inBlock[f]=this._outBlock[f];return}var g=(this.blockSize-d)%this.blockSize;g>0&&(g=this.blockSize-g),this._partialOutput.clear();for(var f=0;f<this._ints;++f)this._partialOutput.putInt32(h.getInt32()^this._outBlock[f]);if(g>0)h.read-=this.blockSize;else for(var f=0;f<this._ints;++f)this._inBlock[f]=this._outBlock[f];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),g>0&&!s)return l.putBytes(this._partialOutput.getBytes(g-this._partialBytes)),this._partialBytes=g,!0;l.putBytes(this._partialOutput.getBytes(d-this._partialBytes)),this._partialBytes=0},r.ofb.prototype.decrypt=r.ofb.prototype.encrypt,r.ctr=function(h){h=h||{},this.name="CTR",this.cipher=h.cipher,this.blockSize=h.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=t.util.createBuffer(),this._partialBytes=0},r.ctr.prototype.start=function(h){if(!("iv"in h))throw new Error("Invalid IV parameter.");this._iv=a(h.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},r.ctr.prototype.encrypt=function(h,l,s){var d=h.length();if(d===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&d>=this.blockSize)for(var f=0;f<this._ints;++f)l.putInt32(h.getInt32()^this._outBlock[f]);else{var g=(this.blockSize-d)%this.blockSize;g>0&&(g=this.blockSize-g),this._partialOutput.clear();for(var f=0;f<this._ints;++f)this._partialOutput.putInt32(h.getInt32()^this._outBlock[f]);if(g>0&&(h.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),g>0&&!s)return l.putBytes(this._partialOutput.getBytes(g-this._partialBytes)),this._partialBytes=g,!0;l.putBytes(this._partialOutput.getBytes(d-this._partialBytes)),this._partialBytes=0}u(this._inBlock)},r.ctr.prototype.decrypt=r.ctr.prototype.encrypt,r.gcm=function(h){h=h||{},this.name="GCM",this.cipher=h.cipher,this.blockSize=h.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=t.util.createBuffer(),this._partialBytes=0,this._R=3774873600},r.gcm.prototype.start=function(h){if(!("iv"in h))throw new Error("Invalid IV parameter.");var l=t.util.createBuffer(h.iv);this._cipherLength=0;var s;if("additionalData"in h?s=t.util.createBuffer(h.additionalData):s=t.util.createBuffer(),"tagLength"in h?this._tagLength=h.tagLength:this._tagLength=128,this._tag=null,h.decrypt&&(this._tag=t.util.createBuffer(h.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var d=l.length();if(d===12)this._j0=[l.getInt32(),l.getInt32(),l.getInt32(),1];else{for(this._j0=[0,0,0,0];l.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[l.getInt32(),l.getInt32(),l.getInt32(),l.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(c(d*8)))}this._inBlock=this._j0.slice(0),u(this._inBlock),this._partialBytes=0,s=t.util.createBuffer(s),this._aDataLength=c(s.length()*8);var f=s.length()%this.blockSize;for(f&&s.fillWithByte(0,this.blockSize-f),this._s=[0,0,0,0];s.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[s.getInt32(),s.getInt32(),s.getInt32(),s.getInt32()])},r.gcm.prototype.encrypt=function(h,l,s){var d=h.length();if(d===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&d>=this.blockSize){for(var f=0;f<this._ints;++f)l.putInt32(this._outBlock[f]^=h.getInt32());this._cipherLength+=this.blockSize}else{var g=(this.blockSize-d)%this.blockSize;g>0&&(g=this.blockSize-g),this._partialOutput.clear();for(var f=0;f<this._ints;++f)this._partialOutput.putInt32(h.getInt32()^this._outBlock[f]);if(g<=0||s){if(s){var I=d%this.blockSize;this._cipherLength+=I,this._partialOutput.truncate(this.blockSize-I)}else this._cipherLength+=this.blockSize;for(var f=0;f<this._ints;++f)this._outBlock[f]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),g>0&&!s)return h.read-=this.blockSize,l.putBytes(this._partialOutput.getBytes(g-this._partialBytes)),this._partialBytes=g,!0;l.putBytes(this._partialOutput.getBytes(d-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),u(this._inBlock)},r.gcm.prototype.decrypt=function(h,l,s){var d=h.length();if(d<this.blockSize&&!(s&&d>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),u(this._inBlock),this._hashBlock[0]=h.getInt32(),this._hashBlock[1]=h.getInt32(),this._hashBlock[2]=h.getInt32(),this._hashBlock[3]=h.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var f=0;f<this._ints;++f)l.putInt32(this._outBlock[f]^this._hashBlock[f]);d<this.blockSize?this._cipherLength+=d%this.blockSize:this._cipherLength+=this.blockSize},r.gcm.prototype.afterFinish=function(h,l){var s=!0;l.decrypt&&l.overflow&&h.truncate(this.blockSize-l.overflow),this.tag=t.util.createBuffer();var d=this._aDataLength.concat(c(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,d);var f=[];this.cipher.encrypt(this._j0,f);for(var g=0;g<this._ints;++g)this.tag.putInt32(this._s[g]^f[g]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),l.decrypt&&this.tag.bytes()!==this._tag&&(s=!1),s},r.gcm.prototype.multiply=function(h,l){for(var s=[0,0,0,0],d=l.slice(0),f=0;f<128;++f){var g=h[f/32|0]&1<<31-f%32;g&&(s[0]^=d[0],s[1]^=d[1],s[2]^=d[2],s[3]^=d[3]),this.pow(d,d)}return s},r.gcm.prototype.pow=function(h,l){for(var s=h[3]&1,d=3;d>0;--d)l[d]=h[d]>>>1|(h[d-1]&1)<<31;l[0]=h[0]>>>1,s&&(l[0]^=this._R)},r.gcm.prototype.tableMultiply=function(h){for(var l=[0,0,0,0],s=0;s<32;++s){var d=s/8|0,f=h[d]>>>(7-s%8)*4&15,g=this._m[s][f];l[0]^=g[0],l[1]^=g[1],l[2]^=g[2],l[3]^=g[3]}return l},r.gcm.prototype.ghash=function(h,l,s){return l[0]^=s[0],l[1]^=s[1],l[2]^=s[2],l[3]^=s[3],this.tableMultiply(l)},r.gcm.prototype.generateHashTable=function(h,l){for(var s=8/l,d=4*s,f=16*s,g=new Array(f),I=0;I<f;++I){var C=[0,0,0,0],_=I/d|0,T=(d-1-I%d)*l;C[_]=1<<l-1<<T,g[I]=this.generateSubHashTable(this.multiply(C,h),l)}return g},r.gcm.prototype.generateSubHashTable=function(h,l){var s=1<<l,d=s>>>1,f=new Array(s);f[d]=h.slice(0);for(var g=d>>>1;g>0;)this.pow(f[2*g],f[g]=[]),g>>=1;for(g=2;g<d;){for(var I=1;I<g;++I){var C=f[g],_=f[I];f[g+I]=[C[0]^_[0],C[1]^_[1],C[2]^_[2],C[3]^_[3]]}g*=2}for(f[0]=[0,0,0,0],g=d+1;g<s;++g){var T=f[g^d];f[g]=[h[0]^T[0],h[1]^T[1],h[2]^T[2],h[3]^T[3]]}return f};function a(h,l){if(typeof h=="string"&&(h=t.util.createBuffer(h)),t.util.isArray(h)&&h.length>4){var s=h;h=t.util.createBuffer();for(var d=0;d<s.length;++d)h.putByte(s[d])}if(h.length()<l)throw new Error("Invalid IV length; got "+h.length()+" bytes and expected "+l+" bytes.");if(!t.util.isArray(h)){for(var f=[],g=l/4,d=0;d<g;++d)f.push(h.getInt32());h=f}return h}function u(h){h[h.length-1]=h[h.length-1]+1&4294967295}function c(h){return[h/4294967296|0,h&4294967295]}}),ks=Qe((e,n)=>{var t=lt();Op(),B1(),St(),n.exports=t.aes=t.aes||{},t.aes.startEncrypting=function(_,T,B,P){var p=C({key:_,output:B,decrypt:!1,mode:P});return p.start(T),p},t.aes.createEncryptionCipher=function(_,T){return C({key:_,output:null,decrypt:!1,mode:T})},t.aes.startDecrypting=function(_,T,B,P){var p=C({key:_,output:B,decrypt:!0,mode:P});return p.start(T),p},t.aes.createDecryptionCipher=function(_,T){return C({key:_,output:null,decrypt:!0,mode:T})},t.aes.Algorithm=function(_,T){a||f();var B=this;B.name=_,B.mode=new T({blockSize:16,cipher:{encrypt:function(P,p){return I(B._w,P,p,!1)},decrypt:function(P,p){return I(B._w,P,p,!0)}}}),B._init=!1},t.aes.Algorithm.prototype.initialize=function(_){if(!this._init){var T=_.key,B;if(typeof T=="string"&&(T.length===16||T.length===24||T.length===32))T=t.util.createBuffer(T);else if(t.util.isArray(T)&&(T.length===16||T.length===24||T.length===32)){B=T,T=t.util.createBuffer();for(var P=0;P<B.length;++P)T.putByte(B[P])}if(!t.util.isArray(T)){B=T,T=[];var p=B.length();if(p===16||p===24||p===32){p=p>>>2;for(var P=0;P<p;++P)T.push(B.getInt32())}}if(!t.util.isArray(T)||!(T.length===4||T.length===6||T.length===8))throw new Error("Invalid key parameter.");var A=this.mode.name,S=["CFB","OFB","CTR","GCM"].indexOf(A)!==-1;this._w=g(T,_.decrypt&&!S),this._init=!0}},t.aes._expandKey=function(_,T){return a||f(),g(_,T)},t.aes._updateBlock=I,r("AES-ECB",t.cipher.modes.ecb),r("AES-CBC",t.cipher.modes.cbc),r("AES-CFB",t.cipher.modes.cfb),r("AES-OFB",t.cipher.modes.ofb),r("AES-CTR",t.cipher.modes.ctr),r("AES-GCM",t.cipher.modes.gcm);function r(_,T){var B=function(){return new t.aes.Algorithm(_,T)};t.cipher.registerAlgorithm(_,B)}var a=!1,u=4,c,h,l,s,d;function f(){a=!0,l=[0,1,2,4,8,16,32,64,128,27,54];for(var _=new Array(256),T=0;T<128;++T)_[T]=T<<1,_[T+128]=T+128<<1^283;c=new Array(256),h=new Array(256),s=new Array(4),d=new Array(4);for(var T=0;T<4;++T)s[T]=new Array(256),d[T]=new Array(256);for(var B=0,P=0,p,A,S,N,D,E,m,T=0;T<256;++T){N=P^P<<1^P<<2^P<<3^P<<4,N=N>>8^N&255^99,c[B]=N,h[N]=B,D=_[N],p=_[B],A=_[p],S=_[A],E=D<<24^N<<16^N<<8^(N^D),m=(p^A^S)<<24^(B^S)<<16^(B^A^S)<<8^(B^p^S);for(var y=0;y<4;++y)s[y][B]=E,d[y][N]=m,E=E<<24|E>>>8,m=m<<24|m>>>8;B===0?B=P=1:(B=p^_[_[_[p^S]]],P^=_[_[P]])}}function g(_,T){for(var B=_.slice(0),P,p=1,A=B.length,S=A+6+1,N=u*S,D=A;D<N;++D)P=B[D-1],D%A===0?(P=c[P>>>16&255]<<24^c[P>>>8&255]<<16^c[P&255]<<8^c[P>>>24]^l[p]<<24,p++):A>6&&D%A===4&&(P=c[P>>>24]<<24^c[P>>>16&255]<<16^c[P>>>8&255]<<8^c[P&255]),B[D]=B[D-A]^P;if(T){var E,m=d[0],y=d[1],q=d[2],M=d[3],V=B.slice(0);N=B.length;for(var D=0,w=N-u;D<N;D+=u,w-=u)if(D===0||D===N-u)V[D]=B[w],V[D+1]=B[w+3],V[D+2]=B[w+2],V[D+3]=B[w+1];else for(var L=0;L<u;++L)E=B[w+L],V[D+(3&-L)]=m[c[E>>>24]]^y[c[E>>>16&255]]^q[c[E>>>8&255]]^M[c[E&255]];B=V}return B}function I(_,T,B,P){var p=_.length/4-1,A,S,N,D,E;P?(A=d[0],S=d[1],N=d[2],D=d[3],E=h):(A=s[0],S=s[1],N=s[2],D=s[3],E=c);var m,y,q,M,V,w,L;m=T[0]^_[0],y=T[P?3:1]^_[1],q=T[2]^_[2],M=T[P?1:3]^_[3];for(var j=3,O=1;O<p;++O)V=A[m>>>24]^S[y>>>16&255]^N[q>>>8&255]^D[M&255]^_[++j],w=A[y>>>24]^S[q>>>16&255]^N[M>>>8&255]^D[m&255]^_[++j],L=A[q>>>24]^S[M>>>16&255]^N[m>>>8&255]^D[y&255]^_[++j],M=A[M>>>24]^S[m>>>16&255]^N[y>>>8&255]^D[q&255]^_[++j],m=V,y=w,q=L;B[0]=E[m>>>24]<<24^E[y>>>16&255]<<16^E[q>>>8&255]<<8^E[M&255]^_[++j],B[P?3:1]=E[y>>>24]<<24^E[q>>>16&255]<<16^E[M>>>8&255]<<8^E[m&255]^_[++j],B[2]=E[q>>>24]<<24^E[M>>>16&255]<<16^E[m>>>8&255]<<8^E[y&255]^_[++j],B[P?1:3]=E[M>>>24]<<24^E[m>>>16&255]<<16^E[y>>>8&255]<<8^E[q&255]^_[++j]}function C(_){_=_||{};var T=(_.mode||"CBC").toUpperCase(),B="AES-"+T,P;_.decrypt?P=t.cipher.createDecipher(B,_.key):P=t.cipher.createCipher(B,_.key);var p=P.start;return P.start=function(A,S){var N=null;S instanceof t.util.ByteBuffer&&(N=S,S={}),S=S||{},S.output=N,S.iv=A,p.call(P,S)},P}}),Ps=Qe((e,n)=>{var t=lt();t.pki=t.pki||{};var r=n.exports=t.pki.oids=t.oids=t.oids||{};function a(c,h){r[c]=h,r[h]=c}function u(c,h){r[c]=h}a("1.2.840.113549.1.1.1","rsaEncryption"),a("1.2.840.113549.1.1.4","md5WithRSAEncryption"),a("1.2.840.113549.1.1.5","sha1WithRSAEncryption"),a("1.2.840.113549.1.1.7","RSAES-OAEP"),a("1.2.840.113549.1.1.8","mgf1"),a("1.2.840.113549.1.1.9","pSpecified"),a("1.2.840.113549.1.1.10","RSASSA-PSS"),a("1.2.840.113549.1.1.11","sha256WithRSAEncryption"),a("1.2.840.113549.1.1.12","sha384WithRSAEncryption"),a("1.2.840.113549.1.1.13","sha512WithRSAEncryption"),a("1.3.101.112","EdDSA25519"),a("1.2.840.10040.4.3","dsa-with-sha1"),a("1.3.14.3.2.7","desCBC"),a("1.3.14.3.2.26","sha1"),a("1.3.14.3.2.29","sha1WithRSASignature"),a("2.16.840.1.101.3.4.2.1","sha256"),a("2.16.840.1.101.3.4.2.2","sha384"),a("2.16.840.1.101.3.4.2.3","sha512"),a("2.16.840.1.101.3.4.2.4","sha224"),a("2.16.840.1.101.3.4.2.5","sha512-224"),a("2.16.840.1.101.3.4.2.6","sha512-256"),a("1.2.840.113549.2.2","md2"),a("1.2.840.113549.2.5","md5"),a("1.2.840.113549.1.7.1","data"),a("1.2.840.113549.1.7.2","signedData"),a("1.2.840.113549.1.7.3","envelopedData"),a("1.2.840.113549.1.7.4","signedAndEnvelopedData"),a("1.2.840.113549.1.7.5","digestedData"),a("1.2.840.113549.1.7.6","encryptedData"),a("1.2.840.113549.1.9.1","emailAddress"),a("1.2.840.113549.1.9.2","unstructuredName"),a("1.2.840.113549.1.9.3","contentType"),a("1.2.840.113549.1.9.4","messageDigest"),a("1.2.840.113549.1.9.5","signingTime"),a("1.2.840.113549.1.9.6","counterSignature"),a("1.2.840.113549.1.9.7","challengePassword"),a("1.2.840.113549.1.9.8","unstructuredAddress"),a("1.2.840.113549.1.9.14","extensionRequest"),a("1.2.840.113549.1.9.20","friendlyName"),a("1.2.840.113549.1.9.21","localKeyId"),a("1.2.840.113549.1.9.22.1","x509Certificate"),a("1.2.840.113549.1.12.10.1.1","keyBag"),a("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag"),a("1.2.840.113549.1.12.10.1.3","certBag"),a("1.2.840.113549.1.12.10.1.4","crlBag"),a("1.2.840.113549.1.12.10.1.5","secretBag"),a("1.2.840.113549.1.12.10.1.6","safeContentsBag"),a("1.2.840.113549.1.5.13","pkcs5PBES2"),a("1.2.840.113549.1.5.12","pkcs5PBKDF2"),a("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4"),a("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4"),a("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC"),a("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC"),a("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC"),a("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC"),a("1.2.840.113549.2.7","hmacWithSHA1"),a("1.2.840.113549.2.8","hmacWithSHA224"),a("1.2.840.113549.2.9","hmacWithSHA256"),a("1.2.840.113549.2.10","hmacWithSHA384"),a("1.2.840.113549.2.11","hmacWithSHA512"),a("1.2.840.113549.3.7","des-EDE3-CBC"),a("2.16.840.1.101.3.4.1.2","aes128-CBC"),a("2.16.840.1.101.3.4.1.22","aes192-CBC"),a("2.16.840.1.101.3.4.1.42","aes256-CBC"),a("2.5.4.3","commonName"),a("2.5.4.4","surname"),a("2.5.4.5","serialNumber"),a("2.5.4.6","countryName"),a("2.5.4.7","localityName"),a("2.5.4.8","stateOrProvinceName"),a("2.5.4.9","streetAddress"),a("2.5.4.10","organizationName"),a("2.5.4.11","organizationalUnitName"),a("2.5.4.12","title"),a("2.5.4.13","description"),a("2.5.4.15","businessCategory"),a("2.5.4.17","postalCode"),a("2.5.4.42","givenName"),a("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName"),a("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName"),a("2.16.840.1.113730.1.1","nsCertType"),a("2.16.840.1.113730.1.13","nsComment"),u("2.5.29.1","authorityKeyIdentifier"),u("2.5.29.2","keyAttributes"),u("2.5.29.3","certificatePolicies"),u("2.5.29.4","keyUsageRestriction"),u("2.5.29.5","policyMapping"),u("2.5.29.6","subtreesConstraint"),u("2.5.29.7","subjectAltName"),u("2.5.29.8","issuerAltName"),u("2.5.29.9","subjectDirectoryAttributes"),u("2.5.29.10","basicConstraints"),u("2.5.29.11","nameConstraints"),u("2.5.29.12","policyConstraints"),u("2.5.29.13","basicConstraints"),a("2.5.29.14","subjectKeyIdentifier"),a("2.5.29.15","keyUsage"),u("2.5.29.16","privateKeyUsagePeriod"),a("2.5.29.17","subjectAltName"),a("2.5.29.18","issuerAltName"),a("2.5.29.19","basicConstraints"),u("2.5.29.20","cRLNumber"),u("2.5.29.21","cRLReason"),u("2.5.29.22","expirationDate"),u("2.5.29.23","instructionCode"),u("2.5.29.24","invalidityDate"),u("2.5.29.25","cRLDistributionPoints"),u("2.5.29.26","issuingDistributionPoint"),u("2.5.29.27","deltaCRLIndicator"),u("2.5.29.28","issuingDistributionPoint"),u("2.5.29.29","certificateIssuer"),u("2.5.29.30","nameConstraints"),a("2.5.29.31","cRLDistributionPoints"),a("2.5.29.32","certificatePolicies"),u("2.5.29.33","policyMappings"),u("2.5.29.34","policyConstraints"),a("2.5.29.35","authorityKeyIdentifier"),u("2.5.29.36","policyConstraints"),a("2.5.29.37","extKeyUsage"),u("2.5.29.46","freshestCRL"),u("2.5.29.54","inhibitAnyPolicy"),a("1.3.6.1.4.1.11129.2.4.2","timestampList"),a("1.3.6.1.5.5.7.1.1","authorityInfoAccess"),a("1.3.6.1.5.5.7.3.1","serverAuth"),a("1.3.6.1.5.5.7.3.2","clientAuth"),a("1.3.6.1.5.5.7.3.3","codeSigning"),a("1.3.6.1.5.5.7.3.4","emailProtection"),a("1.3.6.1.5.5.7.3.8","timeStamping")}),Ri=Qe((e,n)=>{var t=lt();St(),Ps();var r=n.exports=t.asn1=t.asn1||{};r.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192},r.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30},r.create=function(l,s,d,f,g){if(t.util.isArray(f)){for(var I=[],C=0;C<f.length;++C)f[C]!==void 0&&I.push(f[C]);f=I}var _={tagClass:l,type:s,constructed:d,composed:d||t.util.isArray(f),value:f};return g&&"bitStringContents"in g&&(_.bitStringContents=g.bitStringContents,_.original=r.copy(_)),_},r.copy=function(l,s){var d;if(t.util.isArray(l)){d=[];for(var f=0;f<l.length;++f)d.push(r.copy(l[f],s));return d}return typeof l=="string"?l:(d={tagClass:l.tagClass,type:l.type,constructed:l.constructed,composed:l.composed,value:r.copy(l.value,s)},s&&!s.excludeBitStringContents&&(d.bitStringContents=l.bitStringContents),d)},r.equals=function(l,s,d){if(t.util.isArray(l)){if(!t.util.isArray(s)||l.length!==s.length)return!1;for(var f=0;f<l.length;++f)if(!r.equals(l[f],s[f]))return!1;return!0}if(typeof l!=typeof s)return!1;if(typeof l=="string")return l===s;var g=l.tagClass===s.tagClass&&l.type===s.type&&l.constructed===s.constructed&&l.composed===s.composed&&r.equals(l.value,s.value);return d&&d.includeBitStringContents&&(g=g&&l.bitStringContents===s.bitStringContents),g},r.getBerValueLength=function(l){var s=l.getByte();if(s!==128){var d,f=s&128;return f?d=l.getInt((s&127)<<3):d=s,d}};function a(l,s,d){if(d>s){var f=new Error("Too few bytes to parse DER.");throw f.available=l.length(),f.remaining=s,f.requested=d,f}}var u=function(l,s){var d=l.getByte();if(s--,d!==128){var f,g=d&128;if(!g)f=d;else{var I=d&127;a(l,s,I),f=l.getInt(I<<3)}if(f<0)throw new Error("Negative length: "+f);return f}};r.fromDer=function(l,s){s===void 0&&(s={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),typeof s=="boolean"&&(s={strict:s,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in s||(s.strict=!0),"parseAllBytes"in s||(s.parseAllBytes=!0),"decodeBitStrings"in s||(s.decodeBitStrings=!0),typeof l=="string"&&(l=t.util.createBuffer(l));var d=l.length(),f=c(l,l.length(),0,s);if(s.parseAllBytes&&l.length()!==0){var g=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw g.byteCount=d,g.remaining=l.length(),g}return f};function c(l,s,d,f){var g;a(l,s,2);var I=l.getByte();s--;var C=I&192,_=I&31;g=l.length();var T=u(l,s);if(s-=g-l.length(),T!==void 0&&T>s){if(f.strict){var B=new Error("Too few bytes to read ASN.1 value.");throw B.available=l.length(),B.remaining=s,B.requested=T,B}T=s}var P,p,A=(I&32)===32;if(A)if(P=[],T===void 0)for(;;){if(a(l,s,2),l.bytes(2)===String.fromCharCode(0,0)){l.getBytes(2),s-=2;break}g=l.length(),P.push(c(l,s,d+1,f)),s-=g-l.length()}else for(;T>0;)g=l.length(),P.push(c(l,T,d+1,f)),s-=g-l.length(),T-=g-l.length();if(P===void 0&&C===r.Class.UNIVERSAL&&_===r.Type.BITSTRING&&(p=l.bytes(T)),P===void 0&&f.decodeBitStrings&&C===r.Class.UNIVERSAL&&_===r.Type.BITSTRING&&T>1){var S=l.read,N=s,D=0;if(_===r.Type.BITSTRING&&(a(l,s,1),D=l.getByte(),s--),D===0)try{g=l.length();var E={strict:!0,decodeBitStrings:!0},m=c(l,s,d+1,E),y=g-l.length();s-=y,_==r.Type.BITSTRING&&y++;var q=m.tagClass;y===T&&(q===r.Class.UNIVERSAL||q===r.Class.CONTEXT_SPECIFIC)&&(P=[m])}catch{}P===void 0&&(l.read=S,s=N)}if(P===void 0){if(T===void 0){if(f.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");T=s}if(_===r.Type.BMPSTRING)for(P="";T>0;T-=2)a(l,s,2),P+=String.fromCharCode(l.getInt16()),s-=2;else P=l.getBytes(T),s-=T}var M=p===void 0?null:{bitStringContents:p};return r.create(C,_,A,P,M)}r.toDer=function(l){var s=t.util.createBuffer(),d=l.tagClass|l.type,f=t.util.createBuffer(),g=!1;if("bitStringContents"in l&&(g=!0,l.original&&(g=r.equals(l,l.original))),g)f.putBytes(l.bitStringContents);else if(l.composed){l.constructed?d|=32:f.putByte(0);for(var I=0;I<l.value.length;++I)l.value[I]!==void 0&&f.putBuffer(r.toDer(l.value[I]))}else if(l.type===r.Type.BMPSTRING)for(var I=0;I<l.value.length;++I)f.putInt16(l.value.charCodeAt(I));else l.type===r.Type.INTEGER&&l.value.length>1&&(l.value.charCodeAt(0)===0&&!(l.value.charCodeAt(1)&128)||l.value.charCodeAt(0)===255&&(l.value.charCodeAt(1)&128)===128)?f.putBytes(l.value.substr(1)):f.putBytes(l.value);if(s.putByte(d),f.length()<=127)s.putByte(f.length()&127);else{var C=f.length(),_="";do _+=String.fromCharCode(C&255),C=C>>>8;while(C>0);s.putByte(_.length|128);for(var I=_.length-1;I>=0;--I)s.putByte(_.charCodeAt(I))}return s.putBuffer(f),s},r.oidToDer=function(l){var s=l.split("."),d=t.util.createBuffer();d.putByte(40*parseInt(s[0],10)+parseInt(s[1],10));for(var f,g,I,C,_=2;_<s.length;++_){f=!0,g=[],I=parseInt(s[_],10);do C=I&127,I=I>>>7,f||(C|=128),g.push(C),f=!1;while(I>0);for(var T=g.length-1;T>=0;--T)d.putByte(g[T])}return d},r.derToOid=function(l){var s;typeof l=="string"&&(l=t.util.createBuffer(l));var d=l.getByte();s=Math.floor(d/40)+"."+d%40;for(var f=0;l.length()>0;)d=l.getByte(),f=f<<7,d&128?f+=d&127:(s+="."+(f+d),f=0);return s},r.utcTimeToDate=function(l){var s=new Date,d=parseInt(l.substr(0,2),10);d=d>=50?1900+d:2e3+d;var f=parseInt(l.substr(2,2),10)-1,g=parseInt(l.substr(4,2),10),I=parseInt(l.substr(6,2),10),C=parseInt(l.substr(8,2),10),_=0;if(l.length>11){var T=l.charAt(10),B=10;T!=="+"&&T!=="-"&&(_=parseInt(l.substr(10,2),10),B+=2)}if(s.setUTCFullYear(d,f,g),s.setUTCHours(I,C,_,0),B&&(T=l.charAt(B),T==="+"||T==="-")){var P=parseInt(l.substr(B+1,2),10),p=parseInt(l.substr(B+4,2),10),A=P*60+p;A*=6e4,T==="+"?s.setTime(+s-A):s.setTime(+s+A)}return s},r.generalizedTimeToDate=function(l){var s=new Date,d=parseInt(l.substr(0,4),10),f=parseInt(l.substr(4,2),10)-1,g=parseInt(l.substr(6,2),10),I=parseInt(l.substr(8,2),10),C=parseInt(l.substr(10,2),10),_=parseInt(l.substr(12,2),10),T=0,B=0,P=!1;l.charAt(l.length-1)==="Z"&&(P=!0);var p=l.length-5,A=l.charAt(p);if(A==="+"||A==="-"){var S=parseInt(l.substr(p+1,2),10),N=parseInt(l.substr(p+4,2),10);B=S*60+N,B*=6e4,A==="+"&&(B*=-1),P=!0}return l.charAt(14)==="."&&(T=parseFloat(l.substr(14),10)*1e3),P?(s.setUTCFullYear(d,f,g),s.setUTCHours(I,C,_,T),s.setTime(+s+B)):(s.setFullYear(d,f,g),s.setHours(I,C,_,T)),s},r.dateToUtcTime=function(l){if(typeof l=="string")return l;var s="",d=[];d.push((""+l.getUTCFullYear()).substr(2)),d.push(""+(l.getUTCMonth()+1)),d.push(""+l.getUTCDate()),d.push(""+l.getUTCHours()),d.push(""+l.getUTCMinutes()),d.push(""+l.getUTCSeconds());for(var f=0;f<d.length;++f)d[f].length<2&&(s+="0"),s+=d[f];return s+="Z",s},r.dateToGeneralizedTime=function(l){if(typeof l=="string")return l;var s="",d=[];d.push(""+l.getUTCFullYear()),d.push(""+(l.getUTCMonth()+1)),d.push(""+l.getUTCDate()),d.push(""+l.getUTCHours()),d.push(""+l.getUTCMinutes()),d.push(""+l.getUTCSeconds());for(var f=0;f<d.length;++f)d[f].length<2&&(s+="0"),s+=d[f];return s+="Z",s},r.integerToDer=function(l){var s=t.util.createBuffer();if(l>=-128&&l<128)return s.putSignedInt(l,8);if(l>=-32768&&l<32768)return s.putSignedInt(l,16);if(l>=-8388608&&l<8388608)return s.putSignedInt(l,24);if(l>=-2147483648&&l<2147483648)return s.putSignedInt(l,32);var d=new Error("Integer too large; max is 32-bits.");throw d.integer=l,d},r.derToInteger=function(l){typeof l=="string"&&(l=t.util.createBuffer(l));var s=l.length()*8;if(s>32)throw new Error("Integer too large; max is 32-bits.");return l.getSignedInt(s)},r.validate=function(l,s,d,f){var g=!1;if((l.tagClass===s.tagClass||typeof s.tagClass>"u")&&(l.type===s.type||typeof s.type>"u"))if(l.constructed===s.constructed||typeof s.constructed>"u"){if(g=!0,s.value&&t.util.isArray(s.value))for(var I=0,C=0;g&&C<s.value.length;++C)g=s.value[C].optional||!1,l.value[I]&&(g=r.validate(l.value[I],s.value[C],d,f),g?++I:s.value[C].optional&&(g=!0)),!g&&f&&f.push("["+s.name+'] Tag class "'+s.tagClass+'", type "'+s.type+'" expected value length "'+s.value.length+'", got "'+l.value.length+'"');if(g&&d&&(s.capture&&(d[s.capture]=l.value),s.captureAsn1&&(d[s.captureAsn1]=l),s.captureBitStringContents&&"bitStringContents"in l&&(d[s.captureBitStringContents]=l.bitStringContents),s.captureBitStringValue&&"bitStringContents"in l)){var _;if(l.bitStringContents.length<2)d[s.captureBitStringValue]="";else{var T=l.bitStringContents.charCodeAt(0);if(T!==0)throw new Error("captureBitStringValue only supported for zero unused bits");d[s.captureBitStringValue]=l.bitStringContents.slice(1)}}}else f&&f.push("["+s.name+'] Expected constructed "'+s.constructed+'", got "'+l.constructed+'"');else f&&(l.tagClass!==s.tagClass&&f.push("["+s.name+'] Expected tag class "'+s.tagClass+'", got "'+l.tagClass+'"'),l.type!==s.type&&f.push("["+s.name+'] Expected type "'+s.type+'", got "'+l.type+'"'));return g};var h=/[^\\u0000-\\u00ff]/;r.prettyPrint=function(l,s,d){var f="";s=s||0,d=d||2,s>0&&(f+=`
`);for(var g="",I=0;I<s*d;++I)g+=" ";switch(f+=g+"Tag: ",l.tagClass){case r.Class.UNIVERSAL:f+="Universal:";break;case r.Class.APPLICATION:f+="Application:";break;case r.Class.CONTEXT_SPECIFIC:f+="Context-Specific:";break;case r.Class.PRIVATE:f+="Private:";break}if(l.tagClass===r.Class.UNIVERSAL)switch(f+=l.type,l.type){case r.Type.NONE:f+=" (None)";break;case r.Type.BOOLEAN:f+=" (Boolean)";break;case r.Type.INTEGER:f+=" (Integer)";break;case r.Type.BITSTRING:f+=" (Bit string)";break;case r.Type.OCTETSTRING:f+=" (Octet string)";break;case r.Type.NULL:f+=" (Null)";break;case r.Type.OID:f+=" (Object Identifier)";break;case r.Type.ODESC:f+=" (Object Descriptor)";break;case r.Type.EXTERNAL:f+=" (External or Instance of)";break;case r.Type.REAL:f+=" (Real)";break;case r.Type.ENUMERATED:f+=" (Enumerated)";break;case r.Type.EMBEDDED:f+=" (Embedded PDV)";break;case r.Type.UTF8:f+=" (UTF8)";break;case r.Type.ROID:f+=" (Relative Object Identifier)";break;case r.Type.SEQUENCE:f+=" (Sequence)";break;case r.Type.SET:f+=" (Set)";break;case r.Type.PRINTABLESTRING:f+=" (Printable String)";break;case r.Type.IA5String:f+=" (IA5String (ASCII))";break;case r.Type.UTCTIME:f+=" (UTC time)";break;case r.Type.GENERALIZEDTIME:f+=" (Generalized time)";break;case r.Type.BMPSTRING:f+=" (BMP String)";break}else f+=l.type;if(f+=`
`,f+=g+"Constructed: "+l.constructed+`
`,l.composed){for(var C=0,_="",I=0;I<l.value.length;++I)l.value[I]!==void 0&&(C+=1,_+=r.prettyPrint(l.value[I],s+1,d),I+1<l.value.length&&(_+=","));f+=g+"Sub values: "+C+_}else{if(f+=g+"Value: ",l.type===r.Type.OID){var T=r.derToOid(l.value);f+=T,t.pki&&t.pki.oids&&T in t.pki.oids&&(f+=" ("+t.pki.oids[T]+") ")}if(l.type===r.Type.INTEGER)try{f+=r.derToInteger(l.value)}catch{f+="0x"+t.util.bytesToHex(l.value)}else if(l.type===r.Type.BITSTRING){if(l.value.length>1?f+="0x"+t.util.bytesToHex(l.value.slice(1)):f+="(none)",l.value.length>0){var B=l.value.charCodeAt(0);B==1?f+=" (1 unused bit shown)":B>1&&(f+=" ("+B+" unused bits shown)")}}else if(l.type===r.Type.OCTETSTRING)h.test(l.value)||(f+="("+l.value+") "),f+="0x"+t.util.bytesToHex(l.value);else if(l.type===r.Type.UTF8)try{f+=t.util.decodeUtf8(l.value)}catch(P){if(P.message==="URI malformed")f+="0x"+t.util.bytesToHex(l.value)+" (malformed UTF8)";else throw P}else l.type===r.Type.PRINTABLESTRING||l.type===r.Type.IA5String?f+=l.value:h.test(l.value)?f+="0x"+t.util.bytesToHex(l.value):l.value.length===0?f+="[null]":f+=l.value}return f}}),ca=Qe((e,n)=>{var t=lt();n.exports=t.md=t.md||{},t.md.algorithms=t.md.algorithms||{}}),zu=Qe((e,n)=>{var t=lt();ca(),St();var r=n.exports=t.hmac=t.hmac||{};r.create=function(){var a=null,u=null,c=null,h=null,l={};return l.start=function(s,d){if(s!==null)if(typeof s=="string")if(s=s.toLowerCase(),s in t.md.algorithms)u=t.md.algorithms[s].create();else throw new Error('Unknown hash algorithm "'+s+'"');else u=s;if(d===null)d=a;else{if(typeof d=="string")d=t.util.createBuffer(d);else if(t.util.isArray(d)){var f=d;d=t.util.createBuffer();for(var g=0;g<f.length;++g)d.putByte(f[g])}var I=d.length();I>u.blockLength&&(u.start(),u.update(d.bytes()),d=u.digest()),c=t.util.createBuffer(),h=t.util.createBuffer(),I=d.length();for(var g=0;g<I;++g){var f=d.at(g);c.putByte(54^f),h.putByte(92^f)}if(I<u.blockLength)for(var f=u.blockLength-I,g=0;g<f;++g)c.putByte(54),h.putByte(92);a=d,c=c.bytes(),h=h.bytes()}u.start(),u.update(c)},l.update=function(s){u.update(s)},l.getMac=function(){var s=u.digest().bytes();return u.start(),u.update(h),u.update(s),u.digest()},l.digest=l.getMac,l}}),xp=Qe((e,n)=>{var t=lt();ca(),St();var r=n.exports=t.md5=t.md5||{};t.md.md5=t.md.algorithms.md5=r,r.create=function(){l||s();var f=null,g=t.util.createBuffer(),I=new Array(16),C={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8};return C.start=function(){C.messageLength=0,C.fullMessageLength=C.messageLength64=[];for(var _=C.messageLengthSize/4,T=0;T<_;++T)C.fullMessageLength.push(0);return g=t.util.createBuffer(),f={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},C},C.start(),C.update=function(_,T){T==="utf8"&&(_=t.util.encodeUtf8(_));var B=_.length;C.messageLength+=B,B=[B/4294967296>>>0,B>>>0];for(var P=C.fullMessageLength.length-1;P>=0;--P)C.fullMessageLength[P]+=B[1],B[1]=B[0]+(C.fullMessageLength[P]/4294967296>>>0),C.fullMessageLength[P]=C.fullMessageLength[P]>>>0,B[0]=B[1]/4294967296>>>0;return g.putBytes(_),d(f,I,g),(g.read>2048||g.length()===0)&&g.compact(),C},C.digest=function(){var _=t.util.createBuffer();_.putBytes(g.bytes());var T=C.fullMessageLength[C.fullMessageLength.length-1]+C.messageLengthSize,B=T&C.blockLength-1;_.putBytes(a.substr(0,C.blockLength-B));for(var P,p=0,A=C.fullMessageLength.length-1;A>=0;--A)P=C.fullMessageLength[A]*8+p,p=P/4294967296>>>0,_.putInt32Le(P>>>0);var S={h0:f.h0,h1:f.h1,h2:f.h2,h3:f.h3};d(S,I,_);var N=t.util.createBuffer();return N.putInt32Le(S.h0),N.putInt32Le(S.h1),N.putInt32Le(S.h2),N.putInt32Le(S.h3),N},C};var a=null,u=null,c=null,h=null,l=!1;function s(){a=String.fromCharCode(128),a+=t.util.fillString(String.fromCharCode(0),64),u=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],c=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],h=new Array(64);for(var f=0;f<64;++f)h[f]=Math.floor(Math.abs(Math.sin(f+1))*4294967296);l=!0}function d(f,g,I){for(var C,_,T,B,P,p,A,S,N=I.length();N>=64;){for(_=f.h0,T=f.h1,B=f.h2,P=f.h3,S=0;S<16;++S)g[S]=I.getInt32Le(),p=P^T&(B^P),C=_+p+h[S]+g[S],A=c[S],_=P,P=B,B=T,T+=C<<A|C>>>32-A;for(;S<32;++S)p=B^P&(T^B),C=_+p+h[S]+g[u[S]],A=c[S],_=P,P=B,B=T,T+=C<<A|C>>>32-A;for(;S<48;++S)p=T^B^P,C=_+p+h[S]+g[u[S]],A=c[S],_=P,P=B,B=T,T+=C<<A|C>>>32-A;for(;S<64;++S)p=B^(T|~P),C=_+p+h[S]+g[u[S]],A=c[S],_=P,P=B,B=T,T+=C<<A|C>>>32-A;f.h0=f.h0+_|0,f.h1=f.h1+T|0,f.h2=f.h2+B|0,f.h3=f.h3+P|0,N-=64}}}),Ro=Qe((e,n)=>{var t=lt();St();var r=n.exports=t.pem=t.pem||{};r.encode=function(c,h){h=h||{};var l="-----BEGIN "+c.type+`-----\r
`,s;if(c.procType&&(s={name:"Proc-Type",values:[String(c.procType.version),c.procType.type]},l+=a(s)),c.contentDomain&&(s={name:"Content-Domain",values:[c.contentDomain]},l+=a(s)),c.dekInfo&&(s={name:"DEK-Info",values:[c.dekInfo.algorithm]},c.dekInfo.parameters&&s.values.push(c.dekInfo.parameters),l+=a(s)),c.headers)for(var d=0;d<c.headers.length;++d)l+=a(c.headers[d]);return c.procType&&(l+=`\r
`),l+=t.util.encode64(c.body,h.maxline||64)+`\r
`,l+="-----END "+c.type+`-----\r
`,l},r.decode=function(c){for(var h=[],l=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,s=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,d=/\r?\n/,f;f=l.exec(c),!!f;){var g=f[1];g==="NEW CERTIFICATE REQUEST"&&(g="CERTIFICATE REQUEST");var I={type:g,procType:null,contentDomain:null,dekInfo:null,headers:[],body:t.util.decode64(f[3])};if(h.push(I),!!f[2]){for(var C=f[2].split(d),_=0;f&&_<C.length;){for(var T=C[_].replace(/\s+$/,""),B=_+1;B<C.length;++B){var P=C[B];if(!/\s/.test(P[0]))break;T+=P,_=B}if(f=T.match(s),f){for(var p={name:f[1],values:[]},A=f[2].split(","),S=0;S<A.length;++S)p.values.push(u(A[S]));if(I.procType)if(!I.contentDomain&&p.name==="Content-Domain")I.contentDomain=A[0]||"";else if(!I.dekInfo&&p.name==="DEK-Info"){if(p.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');I.dekInfo={algorithm:A[0],parameters:A[1]||null}}else I.headers.push(p);else{if(p.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(p.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');I.procType={version:A[0],type:A[1]}}}++_}if(I.procType==="ENCRYPTED"&&!I.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(h.length===0)throw new Error("Invalid PEM formatted message.");return h};function a(c){for(var h=c.name+": ",l=[],s=function(C,_){return" "+_},d=0;d<c.values.length;++d)l.push(c.values[d].replace(/^(\S+\r\n)/,s));h+=l.join(",")+`\r
`;for(var f=0,g=-1,d=0;d<h.length;++d,++f)if(f>65&&g!==-1){var I=h[g];I===","?(++g,h=h.substr(0,g)+`\r
 `+h.substr(g)):h=h.substr(0,g)+`\r
`+I+h.substr(g+1),f=d-g-1,g=-1,++d}else(h[d]===" "||h[d]==="	"||h[d]===",")&&(g=d);return h}function u(c){return c.replace(/^\s+/,"")}}),rh=Qe((e,n)=>{var t=lt();Op(),B1(),St(),n.exports=t.des=t.des||{},t.des.startEncrypting=function(_,T,B,P){var p=C({key:_,output:B,decrypt:!1,mode:P||(T===null?"ECB":"CBC")});return p.start(T),p},t.des.createEncryptionCipher=function(_,T){return C({key:_,output:null,decrypt:!1,mode:T})},t.des.startDecrypting=function(_,T,B,P){var p=C({key:_,output:B,decrypt:!0,mode:P||(T===null?"ECB":"CBC")});return p.start(T),p},t.des.createDecryptionCipher=function(_,T){return C({key:_,output:null,decrypt:!0,mode:T})},t.des.Algorithm=function(_,T){var B=this;B.name=_,B.mode=new T({blockSize:8,cipher:{encrypt:function(P,p){return I(B._keys,P,p,!1)},decrypt:function(P,p){return I(B._keys,P,p,!0)}}}),B._init=!1},t.des.Algorithm.prototype.initialize=function(_){if(!this._init){var T=t.util.createBuffer(_.key);if(this.name.indexOf("3DES")===0&&T.length()!==24)throw new Error("Invalid Triple-DES key size: "+T.length()*8);this._keys=g(T),this._init=!0}},r("DES-ECB",t.cipher.modes.ecb),r("DES-CBC",t.cipher.modes.cbc),r("DES-CFB",t.cipher.modes.cfb),r("DES-OFB",t.cipher.modes.ofb),r("DES-CTR",t.cipher.modes.ctr),r("3DES-ECB",t.cipher.modes.ecb),r("3DES-CBC",t.cipher.modes.cbc),r("3DES-CFB",t.cipher.modes.cfb),r("3DES-OFB",t.cipher.modes.ofb),r("3DES-CTR",t.cipher.modes.ctr);function r(_,T){var B=function(){return new t.des.Algorithm(_,T)};t.cipher.registerAlgorithm(_,B)}var a=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],u=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],c=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],h=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],l=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],s=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],d=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],f=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function g(_){for(var T=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],B=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],P=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],p=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],A=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],S=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],N=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],D=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],E=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],m=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],y=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],q=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],M=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],V=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],w=_.length()>8?3:1,L=[],j=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],O=0,F,J=0;J<w;J++){var oe=_.getInt32(),se=_.getInt32();F=(oe>>>4^se)&252645135,se^=F,oe^=F<<4,F=(se>>>-16^oe)&65535,oe^=F,se^=F<<-16,F=(oe>>>2^se)&858993459,se^=F,oe^=F<<2,F=(se>>>-16^oe)&65535,oe^=F,se^=F<<-16,F=(oe>>>1^se)&1431655765,se^=F,oe^=F<<1,F=(se>>>8^oe)&16711935,oe^=F,se^=F<<8,F=(oe>>>1^se)&1431655765,se^=F,oe^=F<<1,F=oe<<8|se>>>20&240,oe=se<<24|se<<8&16711680|se>>>8&65280|se>>>24&240,se=F;for(var de=0;de<j.length;++de){j[de]?(oe=oe<<2|oe>>>26,se=se<<2|se>>>26):(oe=oe<<1|oe>>>27,se=se<<1|se>>>27),oe&=-15,se&=-15;var ke=T[oe>>>28]|B[oe>>>24&15]|P[oe>>>20&15]|p[oe>>>16&15]|A[oe>>>12&15]|S[oe>>>8&15]|N[oe>>>4&15],Oe=D[se>>>28]|E[se>>>24&15]|m[se>>>20&15]|y[se>>>16&15]|q[se>>>12&15]|M[se>>>8&15]|V[se>>>4&15];F=(Oe>>>16^ke)&65535,L[O++]=ke^F,L[O++]=Oe^F<<16}}return L}function I(_,T,B,P){var p=_.length===32?3:9,A;p===3?A=P?[30,-2,-2]:[0,32,2]:A=P?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var S,N=T[0],D=T[1];S=(N>>>4^D)&252645135,D^=S,N^=S<<4,S=(N>>>16^D)&65535,D^=S,N^=S<<16,S=(D>>>2^N)&858993459,N^=S,D^=S<<2,S=(D>>>8^N)&16711935,N^=S,D^=S<<8,S=(N>>>1^D)&1431655765,D^=S,N^=S<<1,N=N<<1|N>>>31,D=D<<1|D>>>31;for(var E=0;E<p;E+=3){for(var m=A[E+1],y=A[E+2],q=A[E];q!=m;q+=y){var M=D^_[q],V=(D>>>4|D<<28)^_[q+1];S=N,N=D,D=S^(u[M>>>24&63]|h[M>>>16&63]|s[M>>>8&63]|f[M&63]|a[V>>>24&63]|c[V>>>16&63]|l[V>>>8&63]|d[V&63])}S=N,N=D,D=S}N=N>>>1|N<<31,D=D>>>1|D<<31,S=(N>>>1^D)&1431655765,D^=S,N^=S<<1,S=(D>>>8^N)&16711935,N^=S,D^=S<<8,S=(D>>>2^N)&858993459,N^=S,D^=S<<2,S=(N>>>16^D)&65535,D^=S,N^=S<<16,S=(N>>>4^D)&252645135,D^=S,N^=S<<4,B[0]=N,B[1]=D}function C(_){_=_||{};var T=(_.mode||"CBC").toUpperCase(),B="DES-"+T,P;_.decrypt?P=t.cipher.createDecipher(B,_.key):P=t.cipher.createCipher(B,_.key);var p=P.start;return P.start=function(A,S){var N=null;S instanceof t.util.ByteBuffer&&(N=S,S={}),S=S||{},S.output=N,S.iv=A,p.call(P,S)},P}}),Lp=Qe((e,n)=>{var t=lt();zu(),ca(),St();var r=t.pkcs5=t.pkcs5||{},a;t.util.isNodejs&&!t.options.usePureJavaScript&&(a=mo("crypto")),n.exports=t.pbkdf2=r.pbkdf2=function(u,c,h,l,s,d){if(typeof s=="function"&&(d=s,s=null),t.util.isNodejs&&!t.options.usePureJavaScript&&a.pbkdf2&&(s===null||typeof s!="object")&&(a.pbkdf2Sync.length>4||!s||s==="sha1"))return typeof s!="string"&&(s="sha1"),u=Buffer.from(u,"binary"),c=Buffer.from(c,"binary"),d?a.pbkdf2Sync.length===4?a.pbkdf2(u,c,h,l,function(E,m){if(E)return d(E);d(null,m.toString("binary"))}):a.pbkdf2(u,c,h,l,s,function(E,m){if(E)return d(E);d(null,m.toString("binary"))}):a.pbkdf2Sync.length===4?a.pbkdf2Sync(u,c,h,l).toString("binary"):a.pbkdf2Sync(u,c,h,l,s).toString("binary");if((typeof s>"u"||s===null)&&(s="sha1"),typeof s=="string"){if(!(s in t.md.algorithms))throw new Error("Unknown hash algorithm: "+s);s=t.md[s].create()}var f=s.digestLength;if(l>4294967295*f){var g=new Error("Derived key is too long.");if(d)return d(g);throw g}var I=Math.ceil(l/f),C=l-(I-1)*f,_=t.hmac.create();_.start(s,u);var T="",B,P,p;if(!d){for(var A=1;A<=I;++A){_.start(null,null),_.update(c),_.update(t.util.int32ToBytes(A)),B=p=_.digest().getBytes();for(var S=2;S<=h;++S)_.start(null,null),_.update(p),P=_.digest().getBytes(),B=t.util.xorBytes(B,P,f),p=P;T+=A<I?B:B.substr(0,C)}return T}var A=1,S;function N(){if(A>I)return d(null,T);_.start(null,null),_.update(c),_.update(t.util.int32ToBytes(A)),B=p=_.digest().getBytes(),S=2,D()}function D(){if(S<=h)return _.start(null,null),_.update(p),P=_.digest().getBytes(),B=t.util.xorBytes(B,P,f),p=P,++S,t.util.setImmediate(D);T+=A<I?B:B.substr(0,C),++A,N()}N()}}),N1=Qe((e,n)=>{var t=lt();ca(),St();var r=n.exports=t.sha256=t.sha256||{};t.md.sha256=t.md.algorithms.sha256=r,r.create=function(){u||h();var s=null,d=t.util.createBuffer(),f=new Array(64),g={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return g.start=function(){g.messageLength=0,g.fullMessageLength=g.messageLength64=[];for(var I=g.messageLengthSize/4,C=0;C<I;++C)g.fullMessageLength.push(0);return d=t.util.createBuffer(),s={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},g},g.start(),g.update=function(I,C){C==="utf8"&&(I=t.util.encodeUtf8(I));var _=I.length;g.messageLength+=_,_=[_/4294967296>>>0,_>>>0];for(var T=g.fullMessageLength.length-1;T>=0;--T)g.fullMessageLength[T]+=_[1],_[1]=_[0]+(g.fullMessageLength[T]/4294967296>>>0),g.fullMessageLength[T]=g.fullMessageLength[T]>>>0,_[0]=_[1]/4294967296>>>0;return d.putBytes(I),l(s,f,d),(d.read>2048||d.length()===0)&&d.compact(),g},g.digest=function(){var I=t.util.createBuffer();I.putBytes(d.bytes());var C=g.fullMessageLength[g.fullMessageLength.length-1]+g.messageLengthSize,_=C&g.blockLength-1;I.putBytes(a.substr(0,g.blockLength-_));for(var T,B,P=g.fullMessageLength[0]*8,p=0;p<g.fullMessageLength.length-1;++p)T=g.fullMessageLength[p+1]*8,B=T/4294967296>>>0,P+=B,I.putInt32(P>>>0),P=T>>>0;I.putInt32(P);var A={h0:s.h0,h1:s.h1,h2:s.h2,h3:s.h3,h4:s.h4,h5:s.h5,h6:s.h6,h7:s.h7};l(A,f,I);var S=t.util.createBuffer();return S.putInt32(A.h0),S.putInt32(A.h1),S.putInt32(A.h2),S.putInt32(A.h3),S.putInt32(A.h4),S.putInt32(A.h5),S.putInt32(A.h6),S.putInt32(A.h7),S},g};var a=null,u=!1,c=null;function h(){a=String.fromCharCode(128),a+=t.util.fillString(String.fromCharCode(0),64),c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],u=!0}function l(s,d,f){for(var g,I,C,_,T,B,P,p,A,S,N,D,E,m,y,q=f.length();q>=64;){for(P=0;P<16;++P)d[P]=f.getInt32();for(;P<64;++P)g=d[P-2],g=(g>>>17|g<<15)^(g>>>19|g<<13)^g>>>10,I=d[P-15],I=(I>>>7|I<<25)^(I>>>18|I<<14)^I>>>3,d[P]=g+d[P-7]+I+d[P-16]|0;for(p=s.h0,A=s.h1,S=s.h2,N=s.h3,D=s.h4,E=s.h5,m=s.h6,y=s.h7,P=0;P<64;++P)_=(D>>>6|D<<26)^(D>>>11|D<<21)^(D>>>25|D<<7),T=m^D&(E^m),C=(p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10),B=p&A|S&(p^A),g=y+_+T+c[P]+d[P],I=C+B,y=m,m=E,E=D,D=N+g>>>0,N=S,S=A,A=p,p=g+I>>>0;s.h0=s.h0+p|0,s.h1=s.h1+A|0,s.h2=s.h2+S|0,s.h3=s.h3+N|0,s.h4=s.h4+D|0,s.h5=s.h5+E|0,s.h6=s.h6+m|0,s.h7=s.h7+y|0,q-=64}}}),O1=Qe((e,n)=>{var t=lt();St();var r=null;t.util.isNodejs&&!t.options.usePureJavaScript&&!process.versions["node-webkit"]&&(r=mo("crypto"));var a=n.exports=t.prng=t.prng||{};a.create=function(u){for(var c={plugin:u,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},h=u.md,l=new Array(32),s=0;s<32;++s)l[s]=h.create();c.pools=l,c.pool=0,c.generate=function(C,_){if(!_)return c.generateSync(C);var T=c.plugin.cipher,B=c.plugin.increment,P=c.plugin.formatKey,p=c.plugin.formatSeed,A=t.util.createBuffer();c.key=null,S();function S(N){if(N)return _(N);if(A.length()>=C)return _(null,A.getBytes(C));if(c.generated>1048575&&(c.key=null),c.key===null)return t.util.nextTick(function(){d(S)});var D=T(c.key,c.seed);c.generated+=D.length,A.putBytes(D),c.key=P(T(c.key,B(c.seed))),c.seed=p(T(c.key,c.seed)),t.util.setImmediate(S)}},c.generateSync=function(C){var _=c.plugin.cipher,T=c.plugin.increment,B=c.plugin.formatKey,P=c.plugin.formatSeed;c.key=null;for(var p=t.util.createBuffer();p.length()<C;){c.generated>1048575&&(c.key=null),c.key===null&&f();var A=_(c.key,c.seed);c.generated+=A.length,p.putBytes(A),c.key=B(_(c.key,T(c.seed))),c.seed=P(_(c.key,c.seed))}return p.getBytes(C)};function d(C){if(c.pools[0].messageLength>=32)return g(),C();var _=32-c.pools[0].messageLength<<5;c.seedFile(_,function(T,B){if(T)return C(T);c.collect(B),g(),C()})}function f(){if(c.pools[0].messageLength>=32)return g();var C=32-c.pools[0].messageLength<<5;c.collect(c.seedFileSync(C)),g()}function g(){c.reseeds=c.reseeds===4294967295?0:c.reseeds+1;var C=c.plugin.md.create();C.update(c.keyBytes);for(var _=1,T=0;T<32;++T)c.reseeds%_===0&&(C.update(c.pools[T].digest().getBytes()),c.pools[T].start()),_=_<<1;c.keyBytes=C.digest().getBytes(),C.start(),C.update(c.keyBytes);var B=C.digest().getBytes();c.key=c.plugin.formatKey(c.keyBytes),c.seed=c.plugin.formatSeed(B),c.generated=0}function I(C){var _=null,T=t.util.globalScope,B=T.crypto||T.msCrypto;B&&B.getRandomValues&&(_=function(y){return B.getRandomValues(y)});var P=t.util.createBuffer();if(_)for(;P.length()<C;){var p=Math.max(1,Math.min(C-P.length(),65536)/4),A=new Uint32Array(Math.floor(p));try{_(A);for(var S=0;S<A.length;++S)P.putInt32(A[S])}catch(y){if(!(typeof QuotaExceededError<"u"&&y instanceof QuotaExceededError))throw y}}if(P.length()<C)for(var N,D,E,m=Math.floor(Math.random()*65536);P.length()<C;){D=16807*(m&65535),N=16807*(m>>16),D+=(N&32767)<<16,D+=N>>15,D=(D&2147483647)+(D>>31),m=D&4294967295;for(var S=0;S<3;++S)E=m>>>(S<<3),E^=Math.floor(Math.random()*256),P.putByte(E&255)}return P.getBytes(C)}return r?(c.seedFile=function(C,_){r.randomBytes(C,function(T,B){if(T)return _(T);_(null,B.toString())})},c.seedFileSync=function(C){return r.randomBytes(C).toString()}):(c.seedFile=function(C,_){try{_(null,I(C))}catch(T){_(T)}},c.seedFileSync=I),c.collect=function(C){for(var _=C.length,T=0;T<_;++T)c.pools[c.pool].update(C.substr(T,1)),c.pool=c.pool===31?0:c.pool+1},c.collectInt=function(C,_){for(var T="",B=0;B<_;B+=8)T+=String.fromCharCode(C>>B&255);c.collect(T)},c.registerWorker=function(C){if(C===self)c.seedFile=function(T,B){function P(p){var A=p.data;A.forge&&A.forge.prng&&(self.removeEventListener("message",P),B(A.forge.prng.err,A.forge.prng.bytes))}self.addEventListener("message",P),self.postMessage({forge:{prng:{needed:T}}})};else{var _=function(T){var B=T.data;B.forge&&B.forge.prng&&c.seedFile(B.forge.prng.needed,function(P,p){C.postMessage({forge:{prng:{err:P,bytes:p}}})})};C.addEventListener("message",_)}},c}}),oi=Qe((e,n)=>{var t=lt();ks(),N1(),O1(),St(),function(){if(t.random&&t.random.getBytes){n.exports=t.random;return}(function(r){var a={},u=new Array(4),c=t.util.createBuffer();a.formatKey=function(C){var _=t.util.createBuffer(C);return C=new Array(4),C[0]=_.getInt32(),C[1]=_.getInt32(),C[2]=_.getInt32(),C[3]=_.getInt32(),t.aes._expandKey(C,!1)},a.formatSeed=function(C){var _=t.util.createBuffer(C);return C=new Array(4),C[0]=_.getInt32(),C[1]=_.getInt32(),C[2]=_.getInt32(),C[3]=_.getInt32(),C},a.cipher=function(C,_){return t.aes._updateBlock(C,_,u,!1),c.putInt32(u[0]),c.putInt32(u[1]),c.putInt32(u[2]),c.putInt32(u[3]),c.getBytes()},a.increment=function(C){return++C[3],C},a.md=t.md.sha256;function h(){var C=t.prng.create(a);return C.getBytes=function(_,T){return C.generate(_,T)},C.getBytesSync=function(_){return C.generate(_)},C}var l=h(),s=null,d=t.util.globalScope,f=d.crypto||d.msCrypto;if(f&&f.getRandomValues&&(s=function(C){return f.getRandomValues(C)}),t.options.usePureJavaScript||!t.util.isNodejs&&!s){if(typeof window>"u"||window.document,l.collectInt(+new Date,32),typeof navigator<"u"){var g="";for(var I in navigator)try{typeof navigator[I]=="string"&&(g+=navigator[I])}catch{}l.collect(g),g=null}r&&(r().mousemove(function(C){l.collectInt(C.clientX,16),l.collectInt(C.clientY,16)}),r().keypress(function(C){l.collectInt(C.charCode,8)}))}if(!t.random)t.random=l;else for(var I in l)t.random[I]=l[I];t.random.createInstance=h,n.exports=t.random})(typeof jQuery<"u"?jQuery:null)}()}),x1=Qe((e,n)=>{var t=lt();St();var r=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],a=[1,2,3,5],u=function(l,s){return l<<s&65535|(l&65535)>>16-s},c=function(l,s){return(l&65535)>>s|l<<16-s&65535};n.exports=t.rc2=t.rc2||{},t.rc2.expandKey=function(l,s){typeof l=="string"&&(l=t.util.createBuffer(l)),s=s||128;var d=l,f=l.length(),g=s,I=Math.ceil(g/8),C=255>>(g&7),_;for(_=f;_<128;_++)d.putByte(r[d.at(_-1)+d.at(_-f)&255]);for(d.setAt(128-I,r[d.at(128-I)&C]),_=127-I;_>=0;_--)d.setAt(_,r[d.at(_+1)^d.at(_+I)]);return d};var h=function(l,s,d){var f=!1,g=null,I=null,C=null,_,T,B,P,p=[];for(l=t.rc2.expandKey(l,s),B=0;B<64;B++)p.push(l.getInt16Le());d?(_=function(N){for(B=0;B<4;B++)N[B]+=p[P]+(N[(B+3)%4]&N[(B+2)%4])+(~N[(B+3)%4]&N[(B+1)%4]),N[B]=u(N[B],a[B]),P++},T=function(N){for(B=0;B<4;B++)N[B]+=p[N[(B+3)%4]&63]}):(_=function(N){for(B=3;B>=0;B--)N[B]=c(N[B],a[B]),N[B]-=p[P]+(N[(B+3)%4]&N[(B+2)%4])+(~N[(B+3)%4]&N[(B+1)%4]),P--},T=function(N){for(B=3;B>=0;B--)N[B]-=p[N[(B+3)%4]&63]});var A=function(N){var D=[];for(B=0;B<4;B++){var E=g.getInt16Le();C!==null&&(d?E^=C.getInt16Le():C.putInt16Le(E)),D.push(E&65535)}P=d?0:63;for(var m=0;m<N.length;m++)for(var y=0;y<N[m][0];y++)N[m][1](D);for(B=0;B<4;B++)C!==null&&(d?C.putInt16Le(D[B]):D[B]^=C.getInt16Le()),I.putInt16Le(D[B])},S=null;return S={start:function(N,D){N&&typeof N=="string"&&(N=t.util.createBuffer(N)),f=!1,g=t.util.createBuffer(),I=D||new t.util.createBuffer,C=N,S.output=I},update:function(N){for(f||g.putBuffer(N);g.length()>=8;)A([[5,_],[1,T],[6,_],[1,T],[5,_]])},finish:function(N){var D=!0;if(d)if(N)D=N(8,g,!d);else{var E=g.length()===8?8:8-g.length();g.fillWithByte(E,E)}if(D&&(f=!0,S.update()),!d&&(D=g.length()===0,D))if(N)D=N(8,I,!d);else{var m=I.length(),y=I.at(m-1);y>m?D=!1:I.truncate(y)}return D}},S};t.rc2.startEncrypting=function(l,s,d){var f=t.rc2.createEncryptionCipher(l,128);return f.start(s,d),f},t.rc2.createEncryptionCipher=function(l,s){return h(l,s,!0)},t.rc2.startDecrypting=function(l,s,d){var f=t.rc2.createDecryptionCipher(l,128);return f.start(s,d),f},t.rc2.createDecryptionCipher=function(l,s){return h(l,s,!1)}}),nh=Qe((e,n)=>{var t=lt();n.exports=t.jsbn=t.jsbn||{};var r,a=0xdeadbeefcafe,u=(a&16777215)==15715070;function c($,W,X){this.data=[],$!=null&&(typeof $=="number"?this.fromNumber($,W,X):W==null&&typeof $!="string"?this.fromString($,256):this.fromString($,W))}t.jsbn.BigInteger=c;function h(){return new c(null)}function l($,W,X,le,ve,Se){for(;--Se>=0;){var xe=W*this.data[$++]+X.data[le]+ve;ve=Math.floor(xe/67108864),X.data[le++]=xe&67108863}return ve}function s($,W,X,le,ve,Se){for(var xe=W&32767,Be=W>>15;--Se>=0;){var bt=this.data[$]&32767,ar=this.data[$++]>>15,Tr=Be*bt+ar*xe;bt=xe*bt+((Tr&32767)<<15)+X.data[le]+(ve&1073741823),ve=(bt>>>30)+(Tr>>>15)+Be*ar+(ve>>>30),X.data[le++]=bt&1073741823}return ve}function d($,W,X,le,ve,Se){for(var xe=W&16383,Be=W>>14;--Se>=0;){var bt=this.data[$]&16383,ar=this.data[$++]>>14,Tr=Be*bt+ar*xe;bt=xe*bt+((Tr&16383)<<14)+X.data[le]+ve,ve=(bt>>28)+(Tr>>14)+Be*ar,X.data[le++]=bt&268435455}return ve}typeof navigator>"u"?(c.prototype.am=d,r=28):u&&navigator.appName=="Microsoft Internet Explorer"?(c.prototype.am=s,r=30):u&&navigator.appName!="Netscape"?(c.prototype.am=l,r=26):(c.prototype.am=d,r=28),c.prototype.DB=r,c.prototype.DM=(1<<r)-1,c.prototype.DV=1<<r;var f=52;c.prototype.FV=Math.pow(2,f),c.prototype.F1=f-r,c.prototype.F2=2*r-f;var g="0123456789abcdefghijklmnopqrstuvwxyz",I=new Array,C,_;for(C="0".charCodeAt(0),_=0;_<=9;++_)I[C++]=_;for(C="a".charCodeAt(0),_=10;_<36;++_)I[C++]=_;for(C="A".charCodeAt(0),_=10;_<36;++_)I[C++]=_;function T($){return g.charAt($)}function B($,W){var X=I[$.charCodeAt(W)];return X??-1}function P($){for(var W=this.t-1;W>=0;--W)$.data[W]=this.data[W];$.t=this.t,$.s=this.s}function p($){this.t=1,this.s=$<0?-1:0,$>0?this.data[0]=$:$<-1?this.data[0]=$+this.DV:this.t=0}function A($){var W=h();return W.fromInt($),W}function S($,W){var X;if(W==16)X=4;else if(W==8)X=3;else if(W==256)X=8;else if(W==2)X=1;else if(W==32)X=5;else if(W==4)X=2;else{this.fromRadix($,W);return}this.t=0,this.s=0;for(var le=$.length,ve=!1,Se=0;--le>=0;){var xe=X==8?$[le]&255:B($,le);if(xe<0){$.charAt(le)=="-"&&(ve=!0);continue}ve=!1,Se==0?this.data[this.t++]=xe:Se+X>this.DB?(this.data[this.t-1]|=(xe&(1<<this.DB-Se)-1)<<Se,this.data[this.t++]=xe>>this.DB-Se):this.data[this.t-1]|=xe<<Se,Se+=X,Se>=this.DB&&(Se-=this.DB)}X==8&&$[0]&128&&(this.s=-1,Se>0&&(this.data[this.t-1]|=(1<<this.DB-Se)-1<<Se)),this.clamp(),ve&&c.ZERO.subTo(this,this)}function N(){for(var $=this.s&this.DM;this.t>0&&this.data[this.t-1]==$;)--this.t}function D($){if(this.s<0)return"-"+this.negate().toString($);var W;if($==16)W=4;else if($==8)W=3;else if($==2)W=1;else if($==32)W=5;else if($==4)W=2;else return this.toRadix($);var X=(1<<W)-1,le,ve=!1,Se="",xe=this.t,Be=this.DB-xe*this.DB%W;if(xe-- >0)for(Be<this.DB&&(le=this.data[xe]>>Be)>0&&(ve=!0,Se=T(le));xe>=0;)Be<W?(le=(this.data[xe]&(1<<Be)-1)<<W-Be,le|=this.data[--xe]>>(Be+=this.DB-W)):(le=this.data[xe]>>(Be-=W)&X,Be<=0&&(Be+=this.DB,--xe)),le>0&&(ve=!0),ve&&(Se+=T(le));return ve?Se:"0"}function E(){var $=h();return c.ZERO.subTo(this,$),$}function m(){return this.s<0?this.negate():this}function y($){var W=this.s-$.s;if(W!=0)return W;var X=this.t;if(W=X-$.t,W!=0)return this.s<0?-W:W;for(;--X>=0;)if((W=this.data[X]-$.data[X])!=0)return W;return 0}function q($){var W=1,X;return(X=$>>>16)!=0&&($=X,W+=16),(X=$>>8)!=0&&($=X,W+=8),(X=$>>4)!=0&&($=X,W+=4),(X=$>>2)!=0&&($=X,W+=2),(X=$>>1)!=0&&($=X,W+=1),W}function M(){return this.t<=0?0:this.DB*(this.t-1)+q(this.data[this.t-1]^this.s&this.DM)}function V($,W){var X;for(X=this.t-1;X>=0;--X)W.data[X+$]=this.data[X];for(X=$-1;X>=0;--X)W.data[X]=0;W.t=this.t+$,W.s=this.s}function w($,W){for(var X=$;X<this.t;++X)W.data[X-$]=this.data[X];W.t=Math.max(this.t-$,0),W.s=this.s}function L($,W){var X=$%this.DB,le=this.DB-X,ve=(1<<le)-1,Se=Math.floor($/this.DB),xe=this.s<<X&this.DM,Be;for(Be=this.t-1;Be>=0;--Be)W.data[Be+Se+1]=this.data[Be]>>le|xe,xe=(this.data[Be]&ve)<<X;for(Be=Se-1;Be>=0;--Be)W.data[Be]=0;W.data[Se]=xe,W.t=this.t+Se+1,W.s=this.s,W.clamp()}function j($,W){W.s=this.s;var X=Math.floor($/this.DB);if(X>=this.t){W.t=0;return}var le=$%this.DB,ve=this.DB-le,Se=(1<<le)-1;W.data[0]=this.data[X]>>le;for(var xe=X+1;xe<this.t;++xe)W.data[xe-X-1]|=(this.data[xe]&Se)<<ve,W.data[xe-X]=this.data[xe]>>le;le>0&&(W.data[this.t-X-1]|=(this.s&Se)<<ve),W.t=this.t-X,W.clamp()}function O($,W){for(var X=0,le=0,ve=Math.min($.t,this.t);X<ve;)le+=this.data[X]-$.data[X],W.data[X++]=le&this.DM,le>>=this.DB;if($.t<this.t){for(le-=$.s;X<this.t;)le+=this.data[X],W.data[X++]=le&this.DM,le>>=this.DB;le+=this.s}else{for(le+=this.s;X<$.t;)le-=$.data[X],W.data[X++]=le&this.DM,le>>=this.DB;le-=$.s}W.s=le<0?-1:0,le<-1?W.data[X++]=this.DV+le:le>0&&(W.data[X++]=le),W.t=X,W.clamp()}function F($,W){var X=this.abs(),le=$.abs(),ve=X.t;for(W.t=ve+le.t;--ve>=0;)W.data[ve]=0;for(ve=0;ve<le.t;++ve)W.data[ve+X.t]=X.am(0,le.data[ve],W,ve,0,X.t);W.s=0,W.clamp(),this.s!=$.s&&c.ZERO.subTo(W,W)}function J($){for(var W=this.abs(),X=$.t=2*W.t;--X>=0;)$.data[X]=0;for(X=0;X<W.t-1;++X){var le=W.am(X,W.data[X],$,2*X,0,1);($.data[X+W.t]+=W.am(X+1,2*W.data[X],$,2*X+1,le,W.t-X-1))>=W.DV&&($.data[X+W.t]-=W.DV,$.data[X+W.t+1]=1)}$.t>0&&($.data[$.t-1]+=W.am(X,W.data[X],$,2*X,0,1)),$.s=0,$.clamp()}function oe($,W,X){var le=$.abs();if(!(le.t<=0)){var ve=this.abs();if(ve.t<le.t){W?.fromInt(0),X!=null&&this.copyTo(X);return}X==null&&(X=h());var Se=h(),xe=this.s,Be=$.s,bt=this.DB-q(le.data[le.t-1]);bt>0?(le.lShiftTo(bt,Se),ve.lShiftTo(bt,X)):(le.copyTo(Se),ve.copyTo(X));var ar=Se.t,Tr=Se.data[ar-1];if(Tr!=0){var Pr=Tr*(1<<this.F1)+(ar>1?Se.data[ar-2]>>this.F2:0),ln=this.FV/Pr,li=(1<<this.F1)/Pr,Ar=1<<this.F2,gr=X.t,Bi=gr-ar,wn=W??h();for(Se.dlShiftTo(Bi,wn),X.compareTo(wn)>=0&&(X.data[X.t++]=1,X.subTo(wn,X)),c.ONE.dlShiftTo(ar,wn),wn.subTo(Se,Se);Se.t<ar;)Se.data[Se.t++]=0;for(;--Bi>=0;){var Wn=X.data[--gr]==Tr?this.DM:Math.floor(X.data[gr]*ln+(X.data[gr-1]+Ar)*li);if((X.data[gr]+=Se.am(0,Wn,X,Bi,0,ar))<Wn)for(Se.dlShiftTo(Bi,wn),X.subTo(wn,X);X.data[gr]<--Wn;)X.subTo(wn,X)}W!=null&&(X.drShiftTo(ar,W),xe!=Be&&c.ZERO.subTo(W,W)),X.t=ar,X.clamp(),bt>0&&X.rShiftTo(bt,X),xe<0&&c.ZERO.subTo(X,X)}}}function se($){var W=h();return this.abs().divRemTo($,null,W),this.s<0&&W.compareTo(c.ZERO)>0&&$.subTo(W,W),W}function de($){this.m=$}function ke($){return $.s<0||$.compareTo(this.m)>=0?$.mod(this.m):$}function Oe($){return $}function Ve($){$.divRemTo(this.m,null,$)}function Ee($,W,X){$.multiplyTo(W,X),this.reduce(X)}function We($,W){$.squareTo(W),this.reduce(W)}de.prototype.convert=ke,de.prototype.revert=Oe,de.prototype.reduce=Ve,de.prototype.mulTo=Ee,de.prototype.sqrTo=We;function Ce(){if(this.t<1)return 0;var $=this.data[0];if(!($&1))return 0;var W=$&3;return W=W*(2-($&15)*W)&15,W=W*(2-($&255)*W)&255,W=W*(2-(($&65535)*W&65535))&65535,W=W*(2-$*W%this.DV)%this.DV,W>0?this.DV-W:-W}function et($){this.m=$,this.mp=$.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<$.DB-15)-1,this.mt2=2*$.t}function Xe($){var W=h();return $.abs().dlShiftTo(this.m.t,W),W.divRemTo(this.m,null,W),$.s<0&&W.compareTo(c.ZERO)>0&&this.m.subTo(W,W),W}function x($){var W=h();return $.copyTo(W),this.reduce(W),W}function Y($){for(;$.t<=this.mt2;)$.data[$.t++]=0;for(var W=0;W<this.m.t;++W){var X=$.data[W]&32767,le=X*this.mpl+((X*this.mph+($.data[W]>>15)*this.mpl&this.um)<<15)&$.DM;for(X=W+this.m.t,$.data[X]+=this.m.am(0,le,$,W,0,this.m.t);$.data[X]>=$.DV;)$.data[X]-=$.DV,$.data[++X]++}$.clamp(),$.drShiftTo(this.m.t,$),$.compareTo(this.m)>=0&&$.subTo(this.m,$)}function G($,W){$.squareTo(W),this.reduce(W)}function R($,W,X){$.multiplyTo(W,X),this.reduce(X)}et.prototype.convert=Xe,et.prototype.revert=x,et.prototype.reduce=Y,et.prototype.mulTo=R,et.prototype.sqrTo=G;function H(){return(this.t>0?this.data[0]&1:this.s)==0}function ie($,W){if($>4294967295||$<1)return c.ONE;var X=h(),le=h(),ve=W.convert(this),Se=q($)-1;for(ve.copyTo(X);--Se>=0;)if(W.sqrTo(X,le),($&1<<Se)>0)W.mulTo(le,ve,X);else{var xe=X;X=le,le=xe}return W.revert(X)}function ee($,W){var X;return $<256||W.isEven()?X=new de(W):X=new et(W),this.exp($,X)}c.prototype.copyTo=P,c.prototype.fromInt=p,c.prototype.fromString=S,c.prototype.clamp=N,c.prototype.dlShiftTo=V,c.prototype.drShiftTo=w,c.prototype.lShiftTo=L,c.prototype.rShiftTo=j,c.prototype.subTo=O,c.prototype.multiplyTo=F,c.prototype.squareTo=J,c.prototype.divRemTo=oe,c.prototype.invDigit=Ce,c.prototype.isEven=H,c.prototype.exp=ie,c.prototype.toString=D,c.prototype.negate=E,c.prototype.abs=m,c.prototype.compareTo=y,c.prototype.bitLength=M,c.prototype.mod=se,c.prototype.modPowInt=ee,c.ZERO=A(0),c.ONE=A(1);function _e(){var $=h();return this.copyTo($),$}function Le(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}function je(){return this.t==0?this.s:this.data[0]<<24>>24}function ye(){return this.t==0?this.s:this.data[0]<<16>>16}function Ne($){return Math.floor(Math.LN2*this.DB/Math.log($))}function He(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}function rt($){if($==null&&($=10),this.signum()==0||$<2||$>36)return"0";var W=this.chunkSize($),X=Math.pow($,W),le=A(X),ve=h(),Se=h(),xe="";for(this.divRemTo(le,ve,Se);ve.signum()>0;)xe=(X+Se.intValue()).toString($).substr(1)+xe,ve.divRemTo(le,ve,Se);return Se.intValue().toString($)+xe}function $e($,W){this.fromInt(0),W==null&&(W=10);for(var X=this.chunkSize(W),le=Math.pow(W,X),ve=!1,Se=0,xe=0,Be=0;Be<$.length;++Be){var bt=B($,Be);if(bt<0){$.charAt(Be)=="-"&&this.signum()==0&&(ve=!0);continue}xe=W*xe+bt,++Se>=X&&(this.dMultiply(le),this.dAddOffset(xe,0),Se=0,xe=0)}Se>0&&(this.dMultiply(Math.pow(W,Se)),this.dAddOffset(xe,0)),ve&&c.ZERO.subTo(this,this)}function kt($,W,X){if(typeof W=="number")if($<2)this.fromInt(1);else for(this.fromNumber($,X),this.testBit($-1)||this.bitwiseTo(c.ONE.shiftLeft($-1),$t,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(W);)this.dAddOffset(2,0),this.bitLength()>$&&this.subTo(c.ONE.shiftLeft($-1),this);else{var le=new Array,ve=$&7;le.length=($>>3)+1,W.nextBytes(le),ve>0?le[0]&=(1<<ve)-1:le[0]=0,this.fromString(le,256)}}function Et(){var $=this.t,W=new Array;W[0]=this.s;var X=this.DB-$*this.DB%8,le,ve=0;if($-- >0)for(X<this.DB&&(le=this.data[$]>>X)!=(this.s&this.DM)>>X&&(W[ve++]=le|this.s<<this.DB-X);$>=0;)X<8?(le=(this.data[$]&(1<<X)-1)<<8-X,le|=this.data[--$]>>(X+=this.DB-8)):(le=this.data[$]>>(X-=8)&255,X<=0&&(X+=this.DB,--$)),le&128&&(le|=-256),ve==0&&(this.s&128)!=(le&128)&&++ve,(ve>0||le!=this.s)&&(W[ve++]=le);return W}function Ct($){return this.compareTo($)==0}function Nt($){return this.compareTo($)<0?this:$}function Pt($){return this.compareTo($)>0?this:$}function Ot($,W,X){var le,ve,Se=Math.min($.t,this.t);for(le=0;le<Se;++le)X.data[le]=W(this.data[le],$.data[le]);if($.t<this.t){for(ve=$.s&this.DM,le=Se;le<this.t;++le)X.data[le]=W(this.data[le],ve);X.t=this.t}else{for(ve=this.s&this.DM,le=Se;le<$.t;++le)X.data[le]=W(ve,$.data[le]);X.t=$.t}X.s=W(this.s,$.s),X.clamp()}function zt($,W){return $&W}function Yt($){var W=h();return this.bitwiseTo($,zt,W),W}function $t($,W){return $|W}function Kt($){var W=h();return this.bitwiseTo($,$t,W),W}function ur($,W){return $^W}function Er($){var W=h();return this.bitwiseTo($,ur,W),W}function yr($,W){return $&~W}function Vr($){var W=h();return this.bitwiseTo($,yr,W),W}function un(){for(var $=h(),W=0;W<this.t;++W)$.data[W]=this.DM&~this.data[W];return $.t=this.t,$.s=~this.s,$}function Qr($){var W=h();return $<0?this.rShiftTo(-$,W):this.lShiftTo($,W),W}function Yr($){var W=h();return $<0?this.lShiftTo(-$,W):this.rShiftTo($,W),W}function bn($){if($==0)return-1;var W=0;return $&65535||($>>=16,W+=16),$&255||($>>=8,W+=8),$&15||($>>=4,W+=4),$&3||($>>=2,W+=2),$&1||++W,W}function ui(){for(var $=0;$<this.t;++$)if(this.data[$]!=0)return $*this.DB+bn(this.data[$]);return this.s<0?this.t*this.DB:-1}function qr($){for(var W=0;$!=0;)$&=$-1,++W;return W}function On(){for(var $=0,W=this.s&this.DM,X=0;X<this.t;++X)$+=qr(this.data[X]^W);return $}function Lt($){var W=Math.floor($/this.DB);return W>=this.t?this.s!=0:(this.data[W]&1<<$%this.DB)!=0}function Ut($,W){var X=c.ONE.shiftLeft($);return this.bitwiseTo(X,W,X),X}function Zt($){return this.changeBit($,$t)}function Dt($){return this.changeBit($,yr)}function Ht($){return this.changeBit($,ur)}function Xt($,W){for(var X=0,le=0,ve=Math.min($.t,this.t);X<ve;)le+=this.data[X]+$.data[X],W.data[X++]=le&this.DM,le>>=this.DB;if($.t<this.t){for(le+=$.s;X<this.t;)le+=this.data[X],W.data[X++]=le&this.DM,le>>=this.DB;le+=this.s}else{for(le+=this.s;X<$.t;)le+=$.data[X],W.data[X++]=le&this.DM,le>>=this.DB;le+=$.s}W.s=le<0?-1:0,le>0?W.data[X++]=le:le<-1&&(W.data[X++]=this.DV+le),W.t=X,W.clamp()}function Wt($){var W=h();return this.addTo($,W),W}function Gt($){var W=h();return this.subTo($,W),W}function tr($){var W=h();return this.multiplyTo($,W),W}function rr($){var W=h();return this.divRemTo($,W,null),W}function nr($){var W=h();return this.divRemTo($,null,W),W}function Jt($){var W=h(),X=h();return this.divRemTo($,W,X),new Array(W,X)}function ir($){this.data[this.t]=this.am(0,$-1,this,0,0,this.t),++this.t,this.clamp()}function lr($,W){if($!=0){for(;this.t<=W;)this.data[this.t++]=0;for(this.data[W]+=$;this.data[W]>=this.DV;)this.data[W]-=this.DV,++W>=this.t&&(this.data[this.t++]=0),++this.data[W]}}function Mt(){}function er($){return $}function Bs($,W,X){$.multiplyTo(W,X)}function ha($,W){$.squareTo(W)}Mt.prototype.convert=er,Mt.prototype.revert=er,Mt.prototype.mulTo=Bs,Mt.prototype.sqrTo=ha;function ko($){return this.exp($,new Mt)}function fa($,W,X){var le=Math.min(this.t+$.t,W);for(X.s=0,X.t=le;le>0;)X.data[--le]=0;var ve;for(ve=X.t-this.t;le<ve;++le)X.data[le+this.t]=this.am(0,$.data[le],X,le,0,this.t);for(ve=Math.min($.t,W);le<ve;++le)this.am(0,$.data[le],X,le,0,W-le);X.clamp()}function ki($,W,X){--W;var le=X.t=this.t+$.t-W;for(X.s=0;--le>=0;)X.data[le]=0;for(le=Math.max(W-this.t,0);le<$.t;++le)X.data[this.t+le-W]=this.am(W-le,$.data[le],X,0,0,this.t+le-W);X.clamp(),X.drShiftTo(1,X)}function _n($){this.r2=h(),this.q3=h(),c.ONE.dlShiftTo(2*$.t,this.r2),this.mu=this.r2.divide($),this.m=$}function Cr($){if($.s<0||$.t>2*this.m.t)return $.mod(this.m);if($.compareTo(this.m)<0)return $;var W=h();return $.copyTo(W),this.reduce(W),W}function za($){return $}function Pi($){for($.drShiftTo(this.m.t-1,this.r2),$.t>this.m.t+1&&($.t=this.m.t+1,$.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);$.compareTo(this.r2)<0;)$.dAddOffset(1,this.m.t+1);for($.subTo(this.r2,$);$.compareTo(this.m)>=0;)$.subTo(this.m,$)}function da($,W){$.squareTo(W),this.reduce(W)}function pa($,W,X){$.multiplyTo(W,X),this.reduce(X)}_n.prototype.convert=Cr,_n.prototype.revert=za,_n.prototype.reduce=Pi,_n.prototype.mulTo=pa,_n.prototype.sqrTo=da;function Ns($,W){var X=$.bitLength(),le,ve=A(1),Se;if(X<=0)return ve;X<18?le=1:X<48?le=3:X<144?le=4:X<768?le=5:le=6,X<8?Se=new de(W):W.isEven()?Se=new _n(W):Se=new et(W);var xe=new Array,Be=3,bt=le-1,ar=(1<<le)-1;if(xe[1]=Se.convert(this),le>1){var Tr=h();for(Se.sqrTo(xe[1],Tr);Be<=ar;)xe[Be]=h(),Se.mulTo(Tr,xe[Be-2],xe[Be]),Be+=2}var Pr=$.t-1,ln,li=!0,Ar=h(),gr;for(X=q($.data[Pr])-1;Pr>=0;){for(X>=bt?ln=$.data[Pr]>>X-bt&ar:(ln=($.data[Pr]&(1<<X+1)-1)<<bt-X,Pr>0&&(ln|=$.data[Pr-1]>>this.DB+X-bt)),Be=le;!(ln&1);)ln>>=1,--Be;if((X-=Be)<0&&(X+=this.DB,--Pr),li)xe[ln].copyTo(ve),li=!1;else{for(;Be>1;)Se.sqrTo(ve,Ar),Se.sqrTo(Ar,ve),Be-=2;Be>0?Se.sqrTo(ve,Ar):(gr=ve,ve=Ar,Ar=gr),Se.mulTo(Ar,xe[ln],ve)}for(;Pr>=0&&!($.data[Pr]&1<<X);)Se.sqrTo(ve,Ar),gr=ve,ve=Ar,Ar=gr,--X<0&&(X=this.DB-1,--Pr)}return Se.revert(ve)}function Os($){var W=this.s<0?this.negate():this.clone(),X=$.s<0?$.negate():$.clone();if(W.compareTo(X)<0){var le=W;W=X,X=le}var ve=W.getLowestSetBit(),Se=X.getLowestSetBit();if(Se<0)return W;for(ve<Se&&(Se=ve),Se>0&&(W.rShiftTo(Se,W),X.rShiftTo(Se,X));W.signum()>0;)(ve=W.getLowestSetBit())>0&&W.rShiftTo(ve,W),(ve=X.getLowestSetBit())>0&&X.rShiftTo(ve,X),W.compareTo(X)>=0?(W.subTo(X,W),W.rShiftTo(1,W)):(X.subTo(W,X),X.rShiftTo(1,X));return Se>0&&X.lShiftTo(Se,X),X}function xs($){if($<=0)return 0;var W=this.DV%$,X=this.s<0?$-1:0;if(this.t>0)if(W==0)X=this.data[0]%$;else for(var le=this.t-1;le>=0;--le)X=(W*X+this.data[le])%$;return X}function ya($){var W=$.isEven();if(this.isEven()&&W||$.signum()==0)return c.ZERO;for(var X=$.clone(),le=this.clone(),ve=A(1),Se=A(0),xe=A(0),Be=A(1);X.signum()!=0;){for(;X.isEven();)X.rShiftTo(1,X),W?((!ve.isEven()||!Se.isEven())&&(ve.addTo(this,ve),Se.subTo($,Se)),ve.rShiftTo(1,ve)):Se.isEven()||Se.subTo($,Se),Se.rShiftTo(1,Se);for(;le.isEven();)le.rShiftTo(1,le),W?((!xe.isEven()||!Be.isEven())&&(xe.addTo(this,xe),Be.subTo($,Be)),xe.rShiftTo(1,xe)):Be.isEven()||Be.subTo($,Be),Be.rShiftTo(1,Be);X.compareTo(le)>=0?(X.subTo(le,X),W&&ve.subTo(xe,ve),Se.subTo(Be,Se)):(le.subTo(X,le),W&&xe.subTo(ve,xe),Be.subTo(Se,Be))}if(le.compareTo(c.ONE)!=0)return c.ZERO;if(Be.compareTo($)>=0)return Be.subtract($);if(Be.signum()<0)Be.addTo($,Be);else return Be;return Be.signum()<0?Be.add($):Be}var br=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],Ls=(1<<26)/br[br.length-1];function Us($){var W,X=this.abs();if(X.t==1&&X.data[0]<=br[br.length-1]){for(W=0;W<br.length;++W)if(X.data[0]==br[W])return!0;return!1}if(X.isEven())return!1;for(W=1;W<br.length;){for(var le=br[W],ve=W+1;ve<br.length&&le<Ls;)le*=br[ve++];for(le=X.modInt(le);W<ve;)if(le%br[W++]==0)return!1}return X.millerRabin($)}function Po($){var W=this.subtract(c.ONE),X=W.getLowestSetBit();if(X<=0)return!1;for(var le=W.shiftRight(X),ve=$a(),Se,xe=0;xe<$;++xe){do Se=new c(this.bitLength(),ve);while(Se.compareTo(c.ONE)<=0||Se.compareTo(W)>=0);var Be=Se.modPow(le,this);if(Be.compareTo(c.ONE)!=0&&Be.compareTo(W)!=0){for(var bt=1;bt++<X&&Be.compareTo(W)!=0;)if(Be=Be.modPowInt(2,this),Be.compareTo(c.ONE)==0)return!1;if(Be.compareTo(W)!=0)return!1}}return!0}function $a(){return{nextBytes:function($){for(var W=0;W<$.length;++W)$[W]=Math.floor(Math.random()*256)}}}c.prototype.chunkSize=Ne,c.prototype.toRadix=rt,c.prototype.fromRadix=$e,c.prototype.fromNumber=kt,c.prototype.bitwiseTo=Ot,c.prototype.changeBit=Ut,c.prototype.addTo=Xt,c.prototype.dMultiply=ir,c.prototype.dAddOffset=lr,c.prototype.multiplyLowerTo=fa,c.prototype.multiplyUpperTo=ki,c.prototype.modInt=xs,c.prototype.millerRabin=Po,c.prototype.clone=_e,c.prototype.intValue=Le,c.prototype.byteValue=je,c.prototype.shortValue=ye,c.prototype.signum=He,c.prototype.toByteArray=Et,c.prototype.equals=Ct,c.prototype.min=Nt,c.prototype.max=Pt,c.prototype.and=Yt,c.prototype.or=Kt,c.prototype.xor=Er,c.prototype.andNot=Vr,c.prototype.not=un,c.prototype.shiftLeft=Qr,c.prototype.shiftRight=Yr,c.prototype.getLowestSetBit=ui,c.prototype.bitCount=On,c.prototype.testBit=Lt,c.prototype.setBit=Zt,c.prototype.clearBit=Dt,c.prototype.flipBit=Ht,c.prototype.add=Wt,c.prototype.subtract=Gt,c.prototype.multiply=tr,c.prototype.divide=rr,c.prototype.remainder=nr,c.prototype.divideAndRemainder=Jt,c.prototype.modPow=Ns,c.prototype.modInverse=ya,c.prototype.pow=ko,c.prototype.gcd=Os,c.prototype.isProbablePrime=Us}),$u=Qe((e,n)=>{var t=lt();ca(),St();var r=n.exports=t.sha1=t.sha1||{};t.md.sha1=t.md.algorithms.sha1=r,r.create=function(){u||c();var l=null,s=t.util.createBuffer(),d=new Array(80),f={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return f.start=function(){f.messageLength=0,f.fullMessageLength=f.messageLength64=[];for(var g=f.messageLengthSize/4,I=0;I<g;++I)f.fullMessageLength.push(0);return s=t.util.createBuffer(),l={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},f},f.start(),f.update=function(g,I){I==="utf8"&&(g=t.util.encodeUtf8(g));var C=g.length;f.messageLength+=C,C=[C/4294967296>>>0,C>>>0];for(var _=f.fullMessageLength.length-1;_>=0;--_)f.fullMessageLength[_]+=C[1],C[1]=C[0]+(f.fullMessageLength[_]/4294967296>>>0),f.fullMessageLength[_]=f.fullMessageLength[_]>>>0,C[0]=C[1]/4294967296>>>0;return s.putBytes(g),h(l,d,s),(s.read>2048||s.length()===0)&&s.compact(),f},f.digest=function(){var g=t.util.createBuffer();g.putBytes(s.bytes());var I=f.fullMessageLength[f.fullMessageLength.length-1]+f.messageLengthSize,C=I&f.blockLength-1;g.putBytes(a.substr(0,f.blockLength-C));for(var _,T,B=f.fullMessageLength[0]*8,P=0;P<f.fullMessageLength.length-1;++P)_=f.fullMessageLength[P+1]*8,T=_/4294967296>>>0,B+=T,g.putInt32(B>>>0),B=_>>>0;g.putInt32(B);var p={h0:l.h0,h1:l.h1,h2:l.h2,h3:l.h3,h4:l.h4};h(p,d,g);var A=t.util.createBuffer();return A.putInt32(p.h0),A.putInt32(p.h1),A.putInt32(p.h2),A.putInt32(p.h3),A.putInt32(p.h4),A},f};var a=null,u=!1;function c(){a=String.fromCharCode(128),a+=t.util.fillString(String.fromCharCode(0),64),u=!0}function h(l,s,d){for(var f,g,I,C,_,T,B,P,p=d.length();p>=64;){for(g=l.h0,I=l.h1,C=l.h2,_=l.h3,T=l.h4,P=0;P<16;++P)f=d.getInt32(),s[P]=f,B=_^I&(C^_),f=(g<<5|g>>>27)+B+T+1518500249+f,T=_,_=C,C=(I<<30|I>>>2)>>>0,I=g,g=f;for(;P<20;++P)f=s[P-3]^s[P-8]^s[P-14]^s[P-16],f=f<<1|f>>>31,s[P]=f,B=_^I&(C^_),f=(g<<5|g>>>27)+B+T+1518500249+f,T=_,_=C,C=(I<<30|I>>>2)>>>0,I=g,g=f;for(;P<32;++P)f=s[P-3]^s[P-8]^s[P-14]^s[P-16],f=f<<1|f>>>31,s[P]=f,B=I^C^_,f=(g<<5|g>>>27)+B+T+1859775393+f,T=_,_=C,C=(I<<30|I>>>2)>>>0,I=g,g=f;for(;P<40;++P)f=s[P-6]^s[P-16]^s[P-28]^s[P-32],f=f<<2|f>>>30,s[P]=f,B=I^C^_,f=(g<<5|g>>>27)+B+T+1859775393+f,T=_,_=C,C=(I<<30|I>>>2)>>>0,I=g,g=f;for(;P<60;++P)f=s[P-6]^s[P-16]^s[P-28]^s[P-32],f=f<<2|f>>>30,s[P]=f,B=I&C|_&(I^C),f=(g<<5|g>>>27)+B+T+2400959708+f,T=_,_=C,C=(I<<30|I>>>2)>>>0,I=g,g=f;for(;P<80;++P)f=s[P-6]^s[P-16]^s[P-28]^s[P-32],f=f<<2|f>>>30,s[P]=f,B=I^C^_,f=(g<<5|g>>>27)+B+T+3395469782+f,T=_,_=C,C=(I<<30|I>>>2)>>>0,I=g,g=f;l.h0=l.h0+g|0,l.h1=l.h1+I|0,l.h2=l.h2+C|0,l.h3=l.h3+_|0,l.h4=l.h4+T|0,p-=64}}}),L1=Qe((e,n)=>{var t=lt();St(),oi(),$u();var r=n.exports=t.pkcs1=t.pkcs1||{};r.encode_rsa_oaep=function(u,c,h){var l,s,d,f;typeof h=="string"?(l=h,s=arguments[3]||void 0,d=arguments[4]||void 0):h&&(l=h.label||void 0,s=h.seed||void 0,d=h.md||void 0,h.mgf1&&h.mgf1.md&&(f=h.mgf1.md)),d?d.start():d=t.md.sha1.create(),f||(f=d);var g=Math.ceil(u.n.bitLength()/8),I=g-2*d.digestLength-2;if(c.length>I){var C=new Error("RSAES-OAEP input message length is too long.");throw C.length=c.length,C.maxLength=I,C}l||(l=""),d.update(l,"raw");for(var _=d.digest(),T="",B=I-c.length,P=0;P<B;P++)T+="\0";var p=_.getBytes()+T+""+c;if(!s)s=t.random.getBytes(d.digestLength);else if(s.length!==d.digestLength){var C=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw C.seedLength=s.length,C.digestLength=d.digestLength,C}var A=a(s,g-d.digestLength-1,f),S=t.util.xorBytes(p,A,p.length),N=a(S,d.digestLength,f),D=t.util.xorBytes(s,N,s.length);return"\0"+D+S},r.decode_rsa_oaep=function(u,c,h){var l,s,d;typeof h=="string"?(l=h,s=arguments[3]||void 0):h&&(l=h.label||void 0,s=h.md||void 0,h.mgf1&&h.mgf1.md&&(d=h.mgf1.md));var f=Math.ceil(u.n.bitLength()/8);if(c.length!==f){var g=new Error("RSAES-OAEP encoded message length is invalid.");throw g.length=c.length,g.expectedLength=f,g}if(s===void 0?s=t.md.sha1.create():s.start(),d||(d=s),f<2*s.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");l||(l=""),s.update(l,"raw");for(var I=s.digest().getBytes(),C=c.charAt(0),_=c.substring(1,s.digestLength+1),T=c.substring(1+s.digestLength),B=a(T,s.digestLength,d),P=t.util.xorBytes(_,B,_.length),p=a(P,f-s.digestLength-1,d),A=t.util.xorBytes(T,p,T.length),S=A.substring(0,s.digestLength),g=C!=="\0",N=0;N<s.digestLength;++N)g|=I.charAt(N)!==S.charAt(N);for(var D=1,E=s.digestLength,m=s.digestLength;m<A.length;m++){var y=A.charCodeAt(m),q=y&1^1,M=D?65534:0;g|=y&M,D=D&q,E+=D}if(g||A.charCodeAt(E)!==1)throw new Error("Invalid RSAES-OAEP padding.");return A.substring(E+1)};function a(u,c,h){h||(h=t.md.sha1.create());for(var l="",s=Math.ceil(c/h.digestLength),d=0;d<s;++d){var f=String.fromCharCode(d>>24&255,d>>16&255,d>>8&255,d&255);h.start(),h.update(u+f),l+=h.digest().getBytes()}return l.substring(0,c)}}),U1=Qe((e,n)=>{var t=lt();St(),nh(),oi(),function(){if(t.prime){n.exports=t.prime;return}var r=n.exports=t.prime=t.prime||{},a=t.jsbn.BigInteger,u=[6,4,2,4,2,4,6,2],c=new a(null);c.fromInt(30);var h=function(C,_){return C|_};r.generateProbablePrime=function(C,_,T){typeof _=="function"&&(T=_,_={}),_=_||{};var B=_.algorithm||"PRIMEINC";typeof B=="string"&&(B={name:B}),B.options=B.options||{};var P=_.prng||t.random,p={nextBytes:function(A){for(var S=P.getBytesSync(A.length),N=0;N<A.length;++N)A[N]=S.charCodeAt(N)}};if(B.name==="PRIMEINC")return l(C,p,B.options,T);throw new Error("Invalid prime generation algorithm: "+B.name)};function l(C,_,T,B){return"workers"in T?f(C,_,T,B):s(C,_,T,B)}function s(C,_,T,B){var P=g(C,_),p=0,A=I(P.bitLength());"millerRabinTests"in T&&(A=T.millerRabinTests);var S=10;"maxBlockTime"in T&&(S=T.maxBlockTime),d(P,C,_,p,A,S,B)}function d(C,_,T,B,P,p,A){var S=+new Date;do{if(C.bitLength()>_&&(C=g(_,T)),C.isProbablePrime(P))return A(null,C);C.dAddOffset(u[B++%8],0)}while(p<0||+new Date-S<p);t.util.setImmediate(function(){d(C,_,T,B,P,p,A)})}function f(C,_,T,B){if(typeof Worker>"u")return s(C,_,T,B);var P=g(C,_),p=T.workers,A=T.workLoad||100,S=A*30/8,N=T.workerScript||"forge/prime.worker.js";if(p===-1)return t.util.estimateCores(function(E,m){E&&(m=2),p=m-1,D()});D();function D(){p=Math.max(1,p);for(var E=[],m=0;m<p;++m)E[m]=new Worker(N);for(var y=p,m=0;m<p;++m)E[m].addEventListener("message",M);var q=!1;function M(V){if(!q){--y;var w=V.data;if(w.found){for(var L=0;L<E.length;++L)E[L].terminate();return q=!0,B(null,new a(w.prime,16))}P.bitLength()>C&&(P=g(C,_));var j=P.toString(16);V.target.postMessage({hex:j,workLoad:A}),P.dAddOffset(S,0)}}}}function g(C,_){var T=new a(C,_),B=C-1;return T.testBit(B)||T.bitwiseTo(a.ONE.shiftLeft(B),h,T),T.dAddOffset(31-T.mod(c).byteValue(),0),T}function I(C){return C<=100?27:C<=150?18:C<=200?15:C<=250?12:C<=300?9:C<=350?8:C<=400?7:C<=500?6:C<=600?5:C<=800?4:C<=1250?3:2}}()}),ih=Qe((e,n)=>{var t=lt();Ri(),nh(),Ps(),L1(),U1(),oi(),St(),typeof r>"u"&&(r=t.jsbn.BigInteger);var r,a=t.util.isNodejs?mo("crypto"):null,u=t.asn1,c=t.util;t.pki=t.pki||{},n.exports=t.pki.rsa=t.rsa=t.rsa||{};var h=t.pki,l=[6,4,2,4,2,4,6,2],s={name:"PrivateKeyInfo",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:u.Class.UNIVERSAL,type:u.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:u.Class.UNIVERSAL,type:u.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},d={name:"RSAPrivateKey",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},f={name:"RSAPublicKey",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},g=t.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:u.Class.UNIVERSAL,type:u.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:u.Class.UNIVERSAL,type:u.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},I={name:"DigestInfo",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:u.Class.UNIVERSAL,type:u.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:u.Class.UNIVERSAL,type:u.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:u.Class.UNIVERSAL,type:u.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},C=function(m){var y;if(m.algorithm in h.oids)y=h.oids[m.algorithm];else{var q=new Error("Unknown message digest algorithm.");throw q.algorithm=m.algorithm,q}var M=u.oidToDer(y).getBytes(),V=u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[]),w=u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[]);w.value.push(u.create(u.Class.UNIVERSAL,u.Type.OID,!1,M)),w.value.push(u.create(u.Class.UNIVERSAL,u.Type.NULL,!1,""));var L=u.create(u.Class.UNIVERSAL,u.Type.OCTETSTRING,!1,m.digest().getBytes());return V.value.push(w),V.value.push(L),u.toDer(V).getBytes()},_=function(m,y,q){if(q)return m.modPow(y.e,y.n);if(!y.p||!y.q)return m.modPow(y.d,y.n);y.dP||(y.dP=y.d.mod(y.p.subtract(r.ONE))),y.dQ||(y.dQ=y.d.mod(y.q.subtract(r.ONE))),y.qInv||(y.qInv=y.q.modInverse(y.p));var M;do M=new r(t.util.bytesToHex(t.random.getBytes(y.n.bitLength()/8)),16);while(M.compareTo(y.n)>=0||!M.gcd(y.n).equals(r.ONE));m=m.multiply(M.modPow(y.e,y.n)).mod(y.n);for(var V=m.mod(y.p).modPow(y.dP,y.p),w=m.mod(y.q).modPow(y.dQ,y.q);V.compareTo(w)<0;)V=V.add(y.p);var L=V.subtract(w).multiply(y.qInv).mod(y.p).multiply(y.q).add(w);return L=L.multiply(M.modInverse(y.n)).mod(y.n),L};h.rsa.encrypt=function(m,y,q){var M=q,V,w=Math.ceil(y.n.bitLength()/8);q!==!1&&q!==!0?(M=q===2,V=T(m,y,q)):(V=t.util.createBuffer(),V.putBytes(m));for(var L=new r(V.toHex(),16),j=_(L,y,M),O=j.toString(16),F=t.util.createBuffer(),J=w-Math.ceil(O.length/2);J>0;)F.putByte(0),--J;return F.putBytes(t.util.hexToBytes(O)),F.getBytes()},h.rsa.decrypt=function(m,y,q,M){var V=Math.ceil(y.n.bitLength()/8);if(m.length!==V){var w=new Error("Encrypted message length is invalid.");throw w.length=m.length,w.expected=V,w}var L=new r(t.util.createBuffer(m).toHex(),16);if(L.compareTo(y.n)>=0)throw new Error("Encrypted message is invalid.");for(var j=_(L,y,q),O=j.toString(16),F=t.util.createBuffer(),J=V-Math.ceil(O.length/2);J>0;)F.putByte(0),--J;return F.putBytes(t.util.hexToBytes(O)),M!==!1?B(F.getBytes(),y,q):F.getBytes()},h.rsa.createKeyPairGenerationState=function(m,y,q){typeof m=="string"&&(m=parseInt(m,10)),m=m||2048,q=q||{};var M=q.prng||t.random,V={nextBytes:function(j){for(var O=M.getBytesSync(j.length),F=0;F<j.length;++F)j[F]=O.charCodeAt(F)}},w=q.algorithm||"PRIMEINC",L;if(w==="PRIMEINC")L={algorithm:w,state:0,bits:m,rng:V,eInt:y||65537,e:new r(null),p:null,q:null,qBits:m>>1,pBits:m-(m>>1),pqState:0,num:null,keys:null},L.e.fromInt(L.eInt);else throw new Error("Invalid key generation algorithm: "+w);return L},h.rsa.stepKeyPairGenerationState=function(m,y){"algorithm"in m||(m.algorithm="PRIMEINC");var q=new r(null);q.fromInt(30);for(var M=0,V=function(oe,se){return oe|se},w=+new Date,L,j=0;m.keys===null&&(y<=0||j<y);){if(m.state===0){var O=m.p===null?m.pBits:m.qBits,F=O-1;m.pqState===0?(m.num=new r(O,m.rng),m.num.testBit(F)||m.num.bitwiseTo(r.ONE.shiftLeft(F),V,m.num),m.num.dAddOffset(31-m.num.mod(q).byteValue(),0),M=0,++m.pqState):m.pqState===1?m.num.bitLength()>O?m.pqState=0:m.num.isProbablePrime(A(m.num.bitLength()))?++m.pqState:m.num.dAddOffset(l[M++%8],0):m.pqState===2?m.pqState=m.num.subtract(r.ONE).gcd(m.e).compareTo(r.ONE)===0?3:0:m.pqState===3&&(m.pqState=0,m.p===null?m.p=m.num:m.q=m.num,m.p!==null&&m.q!==null&&++m.state,m.num=null)}else if(m.state===1)m.p.compareTo(m.q)<0&&(m.num=m.p,m.p=m.q,m.q=m.num),++m.state;else if(m.state===2)m.p1=m.p.subtract(r.ONE),m.q1=m.q.subtract(r.ONE),m.phi=m.p1.multiply(m.q1),++m.state;else if(m.state===3)m.phi.gcd(m.e).compareTo(r.ONE)===0?++m.state:(m.p=null,m.q=null,m.state=0);else if(m.state===4)m.n=m.p.multiply(m.q),m.n.bitLength()===m.bits?++m.state:(m.q=null,m.state=0);else if(m.state===5){var J=m.e.modInverse(m.phi);m.keys={privateKey:h.rsa.setPrivateKey(m.n,m.e,J,m.p,m.q,J.mod(m.p1),J.mod(m.q1),m.q.modInverse(m.p)),publicKey:h.rsa.setPublicKey(m.n,m.e)}}L=+new Date,j+=L-w,w=L}return m.keys!==null},h.rsa.generateKeyPair=function(m,y,q,M){if(arguments.length===1?typeof m=="object"?(q=m,m=void 0):typeof m=="function"&&(M=m,m=void 0):arguments.length===2?typeof m=="number"?typeof y=="function"?(M=y,y=void 0):typeof y!="number"&&(q=y,y=void 0):(q=m,M=y,m=void 0,y=void 0):arguments.length===3&&(typeof y=="number"?typeof q=="function"&&(M=q,q=void 0):(M=q,q=y,y=void 0)),q=q||{},m===void 0&&(m=q.bits||2048),y===void 0&&(y=q.e||65537),!t.options.usePureJavaScript&&!q.prng&&m>=256&&m<=16384&&(y===65537||y===3)){if(M){if(S("generateKeyPair"))return a.generateKeyPair("rsa",{modulusLength:m,publicExponent:y,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(j,O,F){if(j)return M(j);M(null,{privateKey:h.privateKeyFromPem(F),publicKey:h.publicKeyFromPem(O)})});if(N("generateKey")&&N("exportKey"))return c.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:m,publicExponent:E(y),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(j){return c.globalScope.crypto.subtle.exportKey("pkcs8",j.privateKey)}).then(void 0,function(j){M(j)}).then(function(j){if(j){var O=h.privateKeyFromAsn1(u.fromDer(t.util.createBuffer(j)));M(null,{privateKey:O,publicKey:h.setRsaPublicKey(O.n,O.e)})}});if(D("generateKey")&&D("exportKey")){var V=c.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:m,publicExponent:E(y),hash:{name:"SHA-256"}},!0,["sign","verify"]);V.oncomplete=function(j){var O=j.target.result,F=c.globalScope.msCrypto.subtle.exportKey("pkcs8",O.privateKey);F.oncomplete=function(J){var oe=J.target.result,se=h.privateKeyFromAsn1(u.fromDer(t.util.createBuffer(oe)));M(null,{privateKey:se,publicKey:h.setRsaPublicKey(se.n,se.e)})},F.onerror=function(J){M(J)}},V.onerror=function(j){M(j)};return}}else if(S("generateKeyPairSync")){var w=a.generateKeyPairSync("rsa",{modulusLength:m,publicExponent:y,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:h.privateKeyFromPem(w.privateKey),publicKey:h.publicKeyFromPem(w.publicKey)}}}var L=h.rsa.createKeyPairGenerationState(m,y,q);if(!M)return h.rsa.stepKeyPairGenerationState(L,0),L.keys;P(L,q,M)},h.setRsaPublicKey=h.rsa.setPublicKey=function(m,y){var q={n:m,e:y};return q.encrypt=function(M,V,w){if(typeof V=="string"?V=V.toUpperCase():V===void 0&&(V="RSAES-PKCS1-V1_5"),V==="RSAES-PKCS1-V1_5")V={encode:function(j,O,F){return T(j,O,2).getBytes()}};else if(V==="RSA-OAEP"||V==="RSAES-OAEP")V={encode:function(j,O){return t.pkcs1.encode_rsa_oaep(O,j,w)}};else if(["RAW","NONE","NULL",null].indexOf(V)!==-1)V={encode:function(j){return j}};else if(typeof V=="string")throw new Error('Unsupported encryption scheme: "'+V+'".');var L=V.encode(M,q,!0);return h.rsa.encrypt(L,q,!0)},q.verify=function(M,V,w,L){typeof w=="string"?w=w.toUpperCase():w===void 0&&(w="RSASSA-PKCS1-V1_5"),L===void 0&&(L={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in L||(L._parseAllDigestBytes=!0),w==="RSASSA-PKCS1-V1_5"?w={verify:function(O,F){F=B(F,q,!0);var J=u.fromDer(F,{parseAllBytes:L._parseAllDigestBytes}),oe={},se=[];if(!u.validate(J,I,oe,se)){var de=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.");throw de.errors=se,de}var ke=u.derToOid(oe.algorithmIdentifier);if(!(ke===t.oids.md2||ke===t.oids.md5||ke===t.oids.sha1||ke===t.oids.sha224||ke===t.oids.sha256||ke===t.oids.sha384||ke===t.oids.sha512||ke===t.oids["sha512-224"]||ke===t.oids["sha512-256"])){var de=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.");throw de.oid=ke,de}if((ke===t.oids.md2||ke===t.oids.md5)&&!("parameters"in oe))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return O===oe.digest}}:(w==="NONE"||w==="NULL"||w===null)&&(w={verify:function(O,F){return F=B(F,q,!0),O===F}});var j=h.rsa.decrypt(V,q,!0,!1);return w.verify(M,j,q.n.bitLength())},q},h.setRsaPrivateKey=h.rsa.setPrivateKey=function(m,y,q,M,V,w,L,j){var O={n:m,e:y,d:q,p:M,q:V,dP:w,dQ:L,qInv:j};return O.decrypt=function(F,J,oe){typeof J=="string"?J=J.toUpperCase():J===void 0&&(J="RSAES-PKCS1-V1_5");var se=h.rsa.decrypt(F,O,!1,!1);if(J==="RSAES-PKCS1-V1_5")J={decode:B};else if(J==="RSA-OAEP"||J==="RSAES-OAEP")J={decode:function(de,ke){return t.pkcs1.decode_rsa_oaep(ke,de,oe)}};else if(["RAW","NONE","NULL",null].indexOf(J)!==-1)J={decode:function(de){return de}};else throw new Error('Unsupported encryption scheme: "'+J+'".');return J.decode(se,O,!1)},O.sign=function(F,J){var oe=!1;typeof J=="string"&&(J=J.toUpperCase()),J===void 0||J==="RSASSA-PKCS1-V1_5"?(J={encode:C},oe=1):(J==="NONE"||J==="NULL"||J===null)&&(J={encode:function(){return F}},oe=1);var se=J.encode(F,O.n.bitLength());return h.rsa.encrypt(se,O,oe)},O},h.wrapRsaPrivateKey=function(m){return u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,u.integerToDer(0).getBytes()),u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(h.oids.rsaEncryption).getBytes()),u.create(u.Class.UNIVERSAL,u.Type.NULL,!1,"")]),u.create(u.Class.UNIVERSAL,u.Type.OCTETSTRING,!1,u.toDer(m).getBytes())])},h.privateKeyFromAsn1=function(m){var y={},q=[];if(u.validate(m,s,y,q)&&(m=u.fromDer(t.util.createBuffer(y.privateKey))),y={},q=[],!u.validate(m,d,y,q)){var M=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw M.errors=q,M}var V,w,L,j,O,F,J,oe;return V=t.util.createBuffer(y.privateKeyModulus).toHex(),w=t.util.createBuffer(y.privateKeyPublicExponent).toHex(),L=t.util.createBuffer(y.privateKeyPrivateExponent).toHex(),j=t.util.createBuffer(y.privateKeyPrime1).toHex(),O=t.util.createBuffer(y.privateKeyPrime2).toHex(),F=t.util.createBuffer(y.privateKeyExponent1).toHex(),J=t.util.createBuffer(y.privateKeyExponent2).toHex(),oe=t.util.createBuffer(y.privateKeyCoefficient).toHex(),h.setRsaPrivateKey(new r(V,16),new r(w,16),new r(L,16),new r(j,16),new r(O,16),new r(F,16),new r(J,16),new r(oe,16))},h.privateKeyToAsn1=h.privateKeyToRSAPrivateKey=function(m){return u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,u.integerToDer(0).getBytes()),u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,p(m.n)),u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,p(m.e)),u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,p(m.d)),u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,p(m.p)),u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,p(m.q)),u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,p(m.dP)),u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,p(m.dQ)),u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,p(m.qInv))])},h.publicKeyFromAsn1=function(m){var y={},q=[];if(u.validate(m,g,y,q)){var M=u.derToOid(y.publicKeyOid);if(M!==h.oids.rsaEncryption){var V=new Error("Cannot read public key. Unknown OID.");throw V.oid=M,V}m=y.rsaPublicKey}if(q=[],!u.validate(m,f,y,q)){var V=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw V.errors=q,V}var w=t.util.createBuffer(y.publicKeyModulus).toHex(),L=t.util.createBuffer(y.publicKeyExponent).toHex();return h.setRsaPublicKey(new r(w,16),new r(L,16))},h.publicKeyToAsn1=h.publicKeyToSubjectPublicKeyInfo=function(m){return u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(h.oids.rsaEncryption).getBytes()),u.create(u.Class.UNIVERSAL,u.Type.NULL,!1,"")]),u.create(u.Class.UNIVERSAL,u.Type.BITSTRING,!1,[h.publicKeyToRSAPublicKey(m)])])},h.publicKeyToRSAPublicKey=function(m){return u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,p(m.n)),u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,p(m.e))])};function T(m,y,q){var M=t.util.createBuffer(),V=Math.ceil(y.n.bitLength()/8);if(m.length>V-11){var w=new Error("Message is too long for PKCS#1 v1.5 padding.");throw w.length=m.length,w.max=V-11,w}M.putByte(0),M.putByte(q);var L=V-3-m.length,j;if(q===0||q===1){j=q===0?0:255;for(var O=0;O<L;++O)M.putByte(j)}else for(;L>0;){for(var F=0,J=t.random.getBytes(L),O=0;O<L;++O)j=J.charCodeAt(O),j===0?++F:M.putByte(j);L=F}return M.putByte(0),M.putBytes(m),M}function B(m,y,q,M){var V=Math.ceil(y.n.bitLength()/8),w=t.util.createBuffer(m),L=w.getByte(),j=w.getByte();if(L!==0||q&&j!==0&&j!==1||!q&&j!=2||q&&j===0&&typeof M>"u")throw new Error("Encryption block is invalid.");var O=0;if(j===0){O=V-3-M;for(var F=0;F<O;++F)if(w.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(j===1)for(O=0;w.length()>1;){if(w.getByte()!==255){--w.read;break}++O}else if(j===2)for(O=0;w.length()>1;){if(w.getByte()===0){--w.read;break}++O}var J=w.getByte();if(J!==0||O!==V-3-w.length())throw new Error("Encryption block is invalid.");return w.getBytes()}function P(m,y,q){typeof y=="function"&&(q=y,y={}),y=y||{};var M={algorithm:{name:y.algorithm||"PRIMEINC",options:{workers:y.workers||2,workLoad:y.workLoad||100,workerScript:y.workerScript}}};"prng"in y&&(M.prng=y.prng),V();function V(){w(m.pBits,function(j,O){if(j)return q(j);if(m.p=O,m.q!==null)return L(j,m.q);w(m.qBits,L)})}function w(j,O){t.prime.generateProbablePrime(j,M,O)}function L(j,O){if(j)return q(j);if(m.q=O,m.p.compareTo(m.q)<0){var F=m.p;m.p=m.q,m.q=F}if(m.p.subtract(r.ONE).gcd(m.e).compareTo(r.ONE)!==0){m.p=null,V();return}if(m.q.subtract(r.ONE).gcd(m.e).compareTo(r.ONE)!==0){m.q=null,w(m.qBits,L);return}if(m.p1=m.p.subtract(r.ONE),m.q1=m.q.subtract(r.ONE),m.phi=m.p1.multiply(m.q1),m.phi.gcd(m.e).compareTo(r.ONE)!==0){m.p=m.q=null,V();return}if(m.n=m.p.multiply(m.q),m.n.bitLength()!==m.bits){m.q=null,w(m.qBits,L);return}var J=m.e.modInverse(m.phi);m.keys={privateKey:h.rsa.setPrivateKey(m.n,m.e,J,m.p,m.q,J.mod(m.p1),J.mod(m.q1),m.q.modInverse(m.p)),publicKey:h.rsa.setPublicKey(m.n,m.e)},q(null,m.keys)}}function p(m){var y=m.toString(16);y[0]>="8"&&(y="00"+y);var q=t.util.hexToBytes(y);return q.length>1&&(q.charCodeAt(0)===0&&!(q.charCodeAt(1)&128)||q.charCodeAt(0)===255&&(q.charCodeAt(1)&128)===128)?q.substr(1):q}function A(m){return m<=100?27:m<=150?18:m<=200?15:m<=250?12:m<=300?9:m<=350?8:m<=400?7:m<=500?6:m<=600?5:m<=800?4:m<=1250?3:2}function S(m){return t.util.isNodejs&&typeof a[m]=="function"}function N(m){return typeof c.globalScope<"u"&&typeof c.globalScope.crypto=="object"&&typeof c.globalScope.crypto.subtle=="object"&&typeof c.globalScope.crypto.subtle[m]=="function"}function D(m){return typeof c.globalScope<"u"&&typeof c.globalScope.msCrypto=="object"&&typeof c.globalScope.msCrypto.subtle=="object"&&typeof c.globalScope.msCrypto.subtle[m]=="function"}function E(m){for(var y=t.util.hexToBytes(m.toString(16)),q=new Uint8Array(y.length),M=0;M<y.length;++M)q[M]=y.charCodeAt(M);return q}}),D1=Qe((e,n)=>{var t=lt();ks(),Ri(),rh(),ca(),Ps(),Lp(),Ro(),oi(),x1(),ih(),St(),typeof r>"u"&&(r=t.jsbn.BigInteger);var r,a=t.asn1,u=t.pki=t.pki||{};n.exports=u.pbe=t.pbe=t.pbe||{};var c=u.oids,h={name:"EncryptedPrivateKeyInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},l={name:"PBES2Algorithms",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},s={name:"pkcs-12PbeParams",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"iterations"}]};u.encryptPrivateKeyInfo=function(C,_,T){T=T||{},T.saltSize=T.saltSize||8,T.count=T.count||2048,T.algorithm=T.algorithm||"aes128",T.prfAlgorithm=T.prfAlgorithm||"sha1";var B=t.random.getBytesSync(T.saltSize),P=T.count,p=a.integerToDer(P),A,S,N;if(T.algorithm.indexOf("aes")===0||T.algorithm==="des"){var D,E,m;switch(T.algorithm){case"aes128":A=16,D=16,E=c["aes128-CBC"],m=t.aes.createEncryptionCipher;break;case"aes192":A=24,D=16,E=c["aes192-CBC"],m=t.aes.createEncryptionCipher;break;case"aes256":A=32,D=16,E=c["aes256-CBC"],m=t.aes.createEncryptionCipher;break;case"des":A=8,D=8,E=c.desCBC,m=t.des.createEncryptionCipher;break;default:var y=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw y.algorithm=T.algorithm,y}var q="hmacWith"+T.prfAlgorithm.toUpperCase(),M=g(q),V=t.pkcs5.pbkdf2(_,B,P,A,M),w=t.random.getBytesSync(D),L=m(V);L.start(w),L.update(a.toDer(C)),L.finish(),N=L.output.getBytes();var j=I(B,p,A,q);S=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(c.pkcs5PBES2).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(c.pkcs5PBKDF2).getBytes()),j]),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(E).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,w)])])])}else if(T.algorithm==="3des"){A=24;var O=new t.util.ByteBuffer(B),V=u.pbe.generatePkcs12Key(_,O,1,P,A),w=u.pbe.generatePkcs12Key(_,O,2,P,A),L=t.des.createEncryptionCipher(V);L.start(w),L.update(a.toDer(C)),L.finish(),N=L.output.getBytes(),S=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(c["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,B),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,p.getBytes())])])}else{var y=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw y.algorithm=T.algorithm,y}var F=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[S,a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,N)]);return F},u.decryptPrivateKeyInfo=function(C,_){var T=null,B={},P=[];if(!a.validate(C,h,B,P)){var p=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw p.errors=P,p}var A=a.derToOid(B.encryptionOid),S=u.pbe.getCipher(A,B.encryptionParams,_),N=t.util.createBuffer(B.encryptedData);return S.update(N),S.finish()&&(T=a.fromDer(S.output)),T},u.encryptedPrivateKeyToPem=function(C,_){var T={type:"ENCRYPTED PRIVATE KEY",body:a.toDer(C).getBytes()};return t.pem.encode(T,{maxline:_})},u.encryptedPrivateKeyFromPem=function(C){var _=t.pem.decode(C)[0];if(_.type!=="ENCRYPTED PRIVATE KEY"){var T=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw T.headerType=_.type,T}if(_.procType&&_.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return a.fromDer(_.body)},u.encryptRsaPrivateKey=function(C,_,T){if(T=T||{},!T.legacy){var B=u.wrapRsaPrivateKey(u.privateKeyToAsn1(C));return B=u.encryptPrivateKeyInfo(B,_,T),u.encryptedPrivateKeyToPem(B)}var P,p,A,S;switch(T.algorithm){case"aes128":P="AES-128-CBC",A=16,p=t.random.getBytesSync(16),S=t.aes.createEncryptionCipher;break;case"aes192":P="AES-192-CBC",A=24,p=t.random.getBytesSync(16),S=t.aes.createEncryptionCipher;break;case"aes256":P="AES-256-CBC",A=32,p=t.random.getBytesSync(16),S=t.aes.createEncryptionCipher;break;case"3des":P="DES-EDE3-CBC",A=24,p=t.random.getBytesSync(8),S=t.des.createEncryptionCipher;break;case"des":P="DES-CBC",A=8,p=t.random.getBytesSync(8),S=t.des.createEncryptionCipher;break;default:var N=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+T.algorithm+'".');throw N.algorithm=T.algorithm,N}var D=t.pbe.opensslDeriveBytes(_,p.substr(0,8),A),E=S(D);E.start(p),E.update(a.toDer(u.privateKeyToAsn1(C))),E.finish();var m={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:P,parameters:t.util.bytesToHex(p).toUpperCase()},body:E.output.getBytes()};return t.pem.encode(m)},u.decryptRsaPrivateKey=function(C,_){var T=null,B=t.pem.decode(C)[0];if(B.type!=="ENCRYPTED PRIVATE KEY"&&B.type!=="PRIVATE KEY"&&B.type!=="RSA PRIVATE KEY"){var P=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw P.headerType=P,P}if(B.procType&&B.procType.type==="ENCRYPTED"){var p,A;switch(B.dekInfo.algorithm){case"DES-CBC":p=8,A=t.des.createDecryptionCipher;break;case"DES-EDE3-CBC":p=24,A=t.des.createDecryptionCipher;break;case"AES-128-CBC":p=16,A=t.aes.createDecryptionCipher;break;case"AES-192-CBC":p=24,A=t.aes.createDecryptionCipher;break;case"AES-256-CBC":p=32,A=t.aes.createDecryptionCipher;break;case"RC2-40-CBC":p=5,A=function(m){return t.rc2.createDecryptionCipher(m,40)};break;case"RC2-64-CBC":p=8,A=function(m){return t.rc2.createDecryptionCipher(m,64)};break;case"RC2-128-CBC":p=16,A=function(m){return t.rc2.createDecryptionCipher(m,128)};break;default:var P=new Error('Could not decrypt private key; unsupported encryption algorithm "'+B.dekInfo.algorithm+'".');throw P.algorithm=B.dekInfo.algorithm,P}var S=t.util.hexToBytes(B.dekInfo.parameters),N=t.pbe.opensslDeriveBytes(_,S.substr(0,8),p),D=A(N);if(D.start(S),D.update(t.util.createBuffer(B.body)),D.finish())T=D.output.getBytes();else return T}else T=B.body;return B.type==="ENCRYPTED PRIVATE KEY"?T=u.decryptPrivateKeyInfo(a.fromDer(T),_):T=a.fromDer(T),T!==null&&(T=u.privateKeyFromAsn1(T)),T},u.pbe.generatePkcs12Key=function(C,_,T,B,P,p){var A,S;if(typeof p>"u"||p===null){if(!("sha1"in t.md))throw new Error('"sha1" hash algorithm unavailable.');p=t.md.sha1.create()}var N=p.digestLength,D=p.blockLength,E=new t.util.ByteBuffer,m=new t.util.ByteBuffer;if(C!=null){for(S=0;S<C.length;S++)m.putInt16(C.charCodeAt(S));m.putInt16(0)}var y=m.length(),q=_.length(),M=new t.util.ByteBuffer;M.fillWithByte(T,D);var V=D*Math.ceil(q/D),w=new t.util.ByteBuffer;for(S=0;S<V;S++)w.putByte(_.at(S%q));var L=D*Math.ceil(y/D),j=new t.util.ByteBuffer;for(S=0;S<L;S++)j.putByte(m.at(S%y));var O=w;O.putBuffer(j);for(var F=Math.ceil(P/N),J=1;J<=F;J++){var oe=new t.util.ByteBuffer;oe.putBytes(M.bytes()),oe.putBytes(O.bytes());for(var se=0;se<B;se++)p.start(),p.update(oe.getBytes()),oe=p.digest();var de=new t.util.ByteBuffer;for(S=0;S<D;S++)de.putByte(oe.at(S%N));var ke=Math.ceil(q/D)+Math.ceil(y/D),Oe=new t.util.ByteBuffer;for(A=0;A<ke;A++){var Ve=new t.util.ByteBuffer(O.getBytes(D)),Ee=511;for(S=de.length()-1;S>=0;S--)Ee=Ee>>8,Ee+=de.at(S)+Ve.at(S),Ve.setAt(S,Ee&255);Oe.putBuffer(Ve)}O=Oe,E.putBuffer(oe)}return E.truncate(E.length()-P),E},u.pbe.getCipher=function(C,_,T){switch(C){case u.oids.pkcs5PBES2:return u.pbe.getCipherForPBES2(C,_,T);case u.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case u.oids["pbewithSHAAnd40BitRC2-CBC"]:return u.pbe.getCipherForPKCS12PBE(C,_,T);default:var B=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw B.oid=C,B.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],B}},u.pbe.getCipherForPBES2=function(C,_,T){var B={},P=[];if(!a.validate(_,l,B,P)){var p=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw p.errors=P,p}if(C=a.derToOid(B.kdfOid),C!==u.oids.pkcs5PBKDF2){var p=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw p.oid=C,p.supportedOids=["pkcs5PBKDF2"],p}if(C=a.derToOid(B.encOid),C!==u.oids["aes128-CBC"]&&C!==u.oids["aes192-CBC"]&&C!==u.oids["aes256-CBC"]&&C!==u.oids["des-EDE3-CBC"]&&C!==u.oids.desCBC){var p=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw p.oid=C,p.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],p}var A=B.kdfSalt,S=t.util.createBuffer(B.kdfIterationCount);S=S.getInt(S.length()<<3);var N,D;switch(u.oids[C]){case"aes128-CBC":N=16,D=t.aes.createDecryptionCipher;break;case"aes192-CBC":N=24,D=t.aes.createDecryptionCipher;break;case"aes256-CBC":N=32,D=t.aes.createDecryptionCipher;break;case"des-EDE3-CBC":N=24,D=t.des.createDecryptionCipher;break;case"desCBC":N=8,D=t.des.createDecryptionCipher;break}var E=f(B.prfOid),m=t.pkcs5.pbkdf2(T,A,S,N,E),y=B.encIv,q=D(m);return q.start(y),q},u.pbe.getCipherForPKCS12PBE=function(C,_,T){var B={},P=[];if(!a.validate(_,s,B,P)){var p=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw p.errors=P,p}var A=t.util.createBuffer(B.salt),S=t.util.createBuffer(B.iterations);S=S.getInt(S.length()<<3);var N,D,E;switch(C){case u.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:N=24,D=8,E=t.des.startDecrypting;break;case u.oids["pbewithSHAAnd40BitRC2-CBC"]:N=5,D=8,E=function(V,w){var L=t.rc2.createDecryptionCipher(V,40);return L.start(w,null),L};break;default:var p=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw p.oid=C,p}var m=f(B.prfOid),y=u.pbe.generatePkcs12Key(T,A,1,S,N,m);m.start();var q=u.pbe.generatePkcs12Key(T,A,2,S,D,m);return E(y,q)},u.pbe.opensslDeriveBytes=function(C,_,T,B){if(typeof B>"u"||B===null){if(!("md5"in t.md))throw new Error('"md5" hash algorithm unavailable.');B=t.md.md5.create()}_===null&&(_="");for(var P=[d(B,C+_)],p=16,A=1;p<T;++A,p+=16)P.push(d(B,P[A-1]+C+_));return P.join("").substr(0,T)};function d(C,_){return C.start().update(_).digest().getBytes()}function f(C){var _;if(!C)_="hmacWithSHA1";else if(_=u.oids[a.derToOid(C)],!_){var T=new Error("Unsupported PRF OID.");throw T.oid=C,T.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],T}return g(_)}function g(C){var _=t.md;switch(C){case"hmacWithSHA224":_=t.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":C=C.substr(8).toLowerCase();break;default:var T=new Error("Unsupported PRF algorithm.");throw T.algorithm=C,T.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],T}if(!_||!(C in _))throw new Error("Unknown hash algorithm: "+C);return _[C].create()}function I(C,_,T,B){var P=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,C),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,_.getBytes())]);return B!=="hmacWithSHA1"&&P.value.push(a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,t.util.hexToBytes(T.toString(16))),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(u.oids[B]).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")])),P}}),j1=Qe((e,n)=>{var t=lt();Ri(),St();var r=t.asn1,a=n.exports=t.pkcs7asn1=t.pkcs7asn1||{};t.pkcs7=t.pkcs7||{},t.pkcs7.asn1=a;var u={name:"ContentInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:r.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};a.contentInfoValidator=u;var c={name:"EncryptedContentInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:r.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:r.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};a.envelopedDataValidator={name:"EnvelopedData",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:r.Class.UNIVERSAL,type:r.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(c)},a.encryptedDataValidator={name:"EncryptedData",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"version"}].concat(c)};var h={name:"SignerInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:r.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:r.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:r.Class.UNIVERSAL,type:r.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:r.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};a.signedDataValidator={name:"SignedData",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:r.Class.UNIVERSAL,type:r.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},u,{name:"SignedData.Certificates",tagClass:r.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:r.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:r.Class.UNIVERSAL,type:r.Type.SET,capture:"signerInfos",optional:!0,value:[h]}]},a.recipientInfoValidator={name:"RecipientInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:r.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:r.Class.UNIVERSAL,type:r.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}}),V1=Qe((e,n)=>{var t=lt();St(),t.mgf=t.mgf||{};var r=n.exports=t.mgf.mgf1=t.mgf1=t.mgf1||{};r.create=function(a){var u={generate:function(c,h){for(var l=new t.util.ByteBuffer,s=Math.ceil(h/a.digestLength),d=0;d<s;d++){var f=new t.util.ByteBuffer;f.putInt32(d),a.start(),a.update(c+f.getBytes()),l.putBuffer(a.digest())}return l.truncate(l.length()-h),l.getBytes()}};return u}}),IA=Qe((e,n)=>{var t=lt();V1(),n.exports=t.mgf=t.mgf||{},t.mgf.mgf1=t.mgf1}),Up=Qe((e,n)=>{var t=lt();oi(),St();var r=n.exports=t.pss=t.pss||{};r.create=function(a){arguments.length===3&&(a={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var u=a.md,c=a.mgf,h=u.digestLength,l=a.salt||null;typeof l=="string"&&(l=t.util.createBuffer(l));var s;if("saltLength"in a)s=a.saltLength;else if(l!==null)s=l.length();else throw new Error("Salt length not specified or specific salt not given.");if(l!==null&&l.length()!==s)throw new Error("Given salt length does not match length of given salt.");var d=a.prng||t.random,f={};return f.encode=function(g,I){var C,_=I-1,T=Math.ceil(_/8),B=g.digest().getBytes();if(T<h+s+2)throw new Error("Message is too long to encrypt.");var P;l===null?P=d.getBytesSync(s):P=l.bytes();var p=new t.util.ByteBuffer;p.fillWithByte(0,8),p.putBytes(B),p.putBytes(P),u.start(),u.update(p.getBytes());var A=u.digest().getBytes(),S=new t.util.ByteBuffer;S.fillWithByte(0,T-s-h-2),S.putByte(1),S.putBytes(P);var N=S.getBytes(),D=T-h-1,E=c.generate(A,D),m="";for(C=0;C<D;C++)m+=String.fromCharCode(N.charCodeAt(C)^E.charCodeAt(C));var y=65280>>8*T-_&255;return m=String.fromCharCode(m.charCodeAt(0)&~y)+m.substr(1),m+A+String.fromCharCode(188)},f.verify=function(g,I,C){var _,T=C-1,B=Math.ceil(T/8);if(I=I.substr(-B),B<h+s+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(I.charCodeAt(B-1)!==188)throw new Error("Encoded message does not end in 0xBC.");var P=B-h-1,p=I.substr(0,P),A=I.substr(P,h),S=65280>>8*B-T&255;if(p.charCodeAt(0)&S)throw new Error("Bits beyond keysize not zero as expected.");var N=c.generate(A,P),D="";for(_=0;_<P;_++)D+=String.fromCharCode(p.charCodeAt(_)^N.charCodeAt(_));D=String.fromCharCode(D.charCodeAt(0)&~S)+D.substr(1);var E=B-h-s-2;for(_=0;_<E;_++)if(D.charCodeAt(_)!==0)throw new Error("Leftmost octets not zero as expected");if(D.charCodeAt(E)!==1)throw new Error("Inconsistent PSS signature, 0x01 marker not found");var m=D.substr(-s),y=new t.util.ByteBuffer;y.fillWithByte(0,8),y.putBytes(g),y.putBytes(m),u.start(),u.update(y.getBytes());var q=u.digest().getBytes();return A===q},f}}),Dp=Qe((e,n)=>{var t=lt();ks(),Ri(),rh(),ca(),IA(),Ps(),Ro(),Up(),ih(),St();var r=t.asn1,a=n.exports=t.pki=t.pki||{},u=a.oids,c={};c.CN=u.commonName,c.commonName="CN",c.C=u.countryName,c.countryName="C",c.L=u.localityName,c.localityName="L",c.ST=u.stateOrProvinceName,c.stateOrProvinceName="ST",c.O=u.organizationName,c.organizationName="O",c.OU=u.organizationalUnitName,c.organizationalUnitName="OU",c.E=u.emailAddress,c.emailAddress="E";var h=t.pki.rsa.publicKeyValidator,l={name:"Certificate",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:r.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:r.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:r.Class.UNIVERSAL,type:r.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:r.Class.UNIVERSAL,type:r.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:r.Class.UNIVERSAL,type:r.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:r.Class.UNIVERSAL,type:r.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},h,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:r.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:r.Class.UNIVERSAL,type:r.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:r.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:r.Class.UNIVERSAL,type:r.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:r.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:r.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:r.Class.UNIVERSAL,type:r.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},s={name:"rsapss",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:r.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:r.Class.UNIVERSAL,type:r.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:r.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:r.Class.UNIVERSAL,type:r.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:r.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:r.Class.UNIVERSAL,type:r.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:r.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:r.Class.UNIVERSAL,type:r.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},d={name:"CertificationRequestInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},h,{name:"CertificationRequestInfo.attributes",tagClass:r.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:r.Class.UNIVERSAL,type:r.Type.SET,constructed:!0}]}]}]},f={name:"CertificationRequest",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[d,{name:"CertificationRequest.signatureAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:r.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:r.Class.UNIVERSAL,type:r.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};a.RDNAttributesAsArray=function(E,m){for(var y=[],q,M,V,w=0;w<E.value.length;++w){q=E.value[w];for(var L=0;L<q.value.length;++L)V={},M=q.value[L],V.type=r.derToOid(M.value[0].value),V.value=M.value[1].value,V.valueTagClass=M.value[1].type,V.type in u&&(V.name=u[V.type],V.name in c&&(V.shortName=c[V.name])),m&&(m.update(V.type),m.update(V.value)),y.push(V)}return y},a.CRIAttributesAsArray=function(E){for(var m=[],y=0;y<E.length;++y)for(var q=E[y],M=r.derToOid(q.value[0].value),V=q.value[1].value,w=0;w<V.length;++w){var L={};if(L.type=M,L.value=V[w].value,L.valueTagClass=V[w].type,L.type in u&&(L.name=u[L.type],L.name in c&&(L.shortName=c[L.name])),L.type===u.extensionRequest){L.extensions=[];for(var j=0;j<L.value.length;++j)L.extensions.push(a.certificateExtensionFromAsn1(L.value[j]))}m.push(L)}return m};function g(E,m){typeof m=="string"&&(m={shortName:m});for(var y=null,q,M=0;y===null&&M<E.attributes.length;++M)q=E.attributes[M],(m.type&&m.type===q.type||m.name&&m.name===q.name||m.shortName&&m.shortName===q.shortName)&&(y=q);return y}var I=function(E,m,y){var q={};if(E!==u["RSASSA-PSS"])return q;y&&(q={hash:{algorithmOid:u.sha1},mgf:{algorithmOid:u.mgf1,hash:{algorithmOid:u.sha1}},saltLength:20});var M={},V=[];if(!r.validate(m,s,M,V)){var w=new Error("Cannot read RSASSA-PSS parameter block.");throw w.errors=V,w}return M.hashOid!==void 0&&(q.hash=q.hash||{},q.hash.algorithmOid=r.derToOid(M.hashOid)),M.maskGenOid!==void 0&&(q.mgf=q.mgf||{},q.mgf.algorithmOid=r.derToOid(M.maskGenOid),q.mgf.hash=q.mgf.hash||{},q.mgf.hash.algorithmOid=r.derToOid(M.maskGenHashOid)),M.saltLength!==void 0&&(q.saltLength=M.saltLength.charCodeAt(0)),q},C=function(E){switch(u[E.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return t.md.sha1.create();case"md5WithRSAEncryption":return t.md.md5.create();case"sha256WithRSAEncryption":return t.md.sha256.create();case"sha384WithRSAEncryption":return t.md.sha384.create();case"sha512WithRSAEncryption":return t.md.sha512.create();case"RSASSA-PSS":return t.md.sha256.create();default:var m=new Error("Could not compute "+E.type+" digest. Unknown signature OID.");throw m.signatureOid=E.signatureOid,m}},_=function(E){var m=E.certificate,y;switch(m.signatureOid){case u.sha1WithRSAEncryption:case u.sha1WithRSASignature:break;case u["RSASSA-PSS"]:var q,M;if(q=u[m.signatureParameters.mgf.hash.algorithmOid],q===void 0||t.md[q]===void 0){var V=new Error("Unsupported MGF hash function.");throw V.oid=m.signatureParameters.mgf.hash.algorithmOid,V.name=q,V}if(M=u[m.signatureParameters.mgf.algorithmOid],M===void 0||t.mgf[M]===void 0){var V=new Error("Unsupported MGF function.");throw V.oid=m.signatureParameters.mgf.algorithmOid,V.name=M,V}if(M=t.mgf[M].create(t.md[q].create()),q=u[m.signatureParameters.hash.algorithmOid],q===void 0||t.md[q]===void 0){var V=new Error("Unsupported RSASSA-PSS hash function.");throw V.oid=m.signatureParameters.hash.algorithmOid,V.name=q,V}y=t.pss.create(t.md[q].create(),M,m.signatureParameters.saltLength);break}return m.publicKey.verify(E.md.digest().getBytes(),E.signature,y)};a.certificateFromPem=function(E,m,y){var q=t.pem.decode(E)[0];if(q.type!=="CERTIFICATE"&&q.type!=="X509 CERTIFICATE"&&q.type!=="TRUSTED CERTIFICATE"){var M=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw M.headerType=q.type,M}if(q.procType&&q.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var V=r.fromDer(q.body,y);return a.certificateFromAsn1(V,m)},a.certificateToPem=function(E,m){var y={type:"CERTIFICATE",body:r.toDer(a.certificateToAsn1(E)).getBytes()};return t.pem.encode(y,{maxline:m})},a.publicKeyFromPem=function(E){var m=t.pem.decode(E)[0];if(m.type!=="PUBLIC KEY"&&m.type!=="RSA PUBLIC KEY"){var y=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw y.headerType=m.type,y}if(m.procType&&m.procType.type==="ENCRYPTED")throw new Error("Could not convert public key from PEM; PEM is encrypted.");var q=r.fromDer(m.body);return a.publicKeyFromAsn1(q)},a.publicKeyToPem=function(E,m){var y={type:"PUBLIC KEY",body:r.toDer(a.publicKeyToAsn1(E)).getBytes()};return t.pem.encode(y,{maxline:m})},a.publicKeyToRSAPublicKeyPem=function(E,m){var y={type:"RSA PUBLIC KEY",body:r.toDer(a.publicKeyToRSAPublicKey(E)).getBytes()};return t.pem.encode(y,{maxline:m})},a.getPublicKeyFingerprint=function(E,m){m=m||{};var y=m.md||t.md.sha1.create(),q=m.type||"RSAPublicKey",M;switch(q){case"RSAPublicKey":M=r.toDer(a.publicKeyToRSAPublicKey(E)).getBytes();break;case"SubjectPublicKeyInfo":M=r.toDer(a.publicKeyToAsn1(E)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+m.type+'".')}y.start(),y.update(M);var V=y.digest();if(m.encoding==="hex"){var w=V.toHex();return m.delimiter?w.match(/.{2}/g).join(m.delimiter):w}else{if(m.encoding==="binary")return V.getBytes();if(m.encoding)throw new Error('Unknown encoding "'+m.encoding+'".')}return V},a.certificationRequestFromPem=function(E,m,y){var q=t.pem.decode(E)[0];if(q.type!=="CERTIFICATE REQUEST"){var M=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw M.headerType=q.type,M}if(q.procType&&q.procType.type==="ENCRYPTED")throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var V=r.fromDer(q.body,y);return a.certificationRequestFromAsn1(V,m)},a.certificationRequestToPem=function(E,m){var y={type:"CERTIFICATE REQUEST",body:r.toDer(a.certificationRequestToAsn1(E)).getBytes()};return t.pem.encode(y,{maxline:m})},a.createCertificate=function(){var E={};return E.version=2,E.serialNumber="00",E.signatureOid=null,E.signature=null,E.siginfo={},E.siginfo.algorithmOid=null,E.validity={},E.validity.notBefore=new Date,E.validity.notAfter=new Date,E.issuer={},E.issuer.getField=function(m){return g(E.issuer,m)},E.issuer.addField=function(m){B([m]),E.issuer.attributes.push(m)},E.issuer.attributes=[],E.issuer.hash=null,E.subject={},E.subject.getField=function(m){return g(E.subject,m)},E.subject.addField=function(m){B([m]),E.subject.attributes.push(m)},E.subject.attributes=[],E.subject.hash=null,E.extensions=[],E.publicKey=null,E.md=null,E.setSubject=function(m,y){B(m),E.subject.attributes=m,delete E.subject.uniqueId,y&&(E.subject.uniqueId=y),E.subject.hash=null},E.setIssuer=function(m,y){B(m),E.issuer.attributes=m,delete E.issuer.uniqueId,y&&(E.issuer.uniqueId=y),E.issuer.hash=null},E.setExtensions=function(m){for(var y=0;y<m.length;++y)P(m[y],{cert:E});E.extensions=m},E.getExtension=function(m){typeof m=="string"&&(m={name:m});for(var y=null,q,M=0;y===null&&M<E.extensions.length;++M)q=E.extensions[M],(m.id&&q.id===m.id||m.name&&q.name===m.name)&&(y=q);return y},E.sign=function(m,y){E.md=y||t.md.sha1.create();var q=u[E.md.algorithm+"WithRSAEncryption"];if(!q){var M=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw M.algorithm=E.md.algorithm,M}E.signatureOid=E.siginfo.algorithmOid=q,E.tbsCertificate=a.getTBSCertificate(E);var V=r.toDer(E.tbsCertificate);E.md.update(V.getBytes()),E.signature=m.sign(E.md)},E.verify=function(m){var y=!1;if(!E.issued(m)){var q=m.issuer,M=E.subject,V=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw V.expectedIssuer=M.attributes,V.actualIssuer=q.attributes,V}var w=m.md;if(w===null){w=C({signatureOid:m.signatureOid,type:"certificate"});var L=m.tbsCertificate||a.getTBSCertificate(m),j=r.toDer(L);w.update(j.getBytes())}return w!==null&&(y=_({certificate:E,md:w,signature:m.signature})),y},E.isIssuer=function(m){var y=!1,q=E.issuer,M=m.subject;if(q.hash&&M.hash)y=q.hash===M.hash;else if(q.attributes.length===M.attributes.length){y=!0;for(var V,w,L=0;y&&L<q.attributes.length;++L)V=q.attributes[L],w=M.attributes[L],(V.type!==w.type||V.value!==w.value)&&(y=!1)}return y},E.issued=function(m){return m.isIssuer(E)},E.generateSubjectKeyIdentifier=function(){return a.getPublicKeyFingerprint(E.publicKey,{type:"RSAPublicKey"})},E.verifySubjectKeyIdentifier=function(){for(var m=u.subjectKeyIdentifier,y=0;y<E.extensions.length;++y){var q=E.extensions[y];if(q.id===m){var M=E.generateSubjectKeyIdentifier().getBytes();return t.util.hexToBytes(q.subjectKeyIdentifier)===M}}return!1},E},a.certificateFromAsn1=function(E,m){var y={},q=[];if(!r.validate(E,l,y,q)){var M=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw M.errors=q,M}var V=r.derToOid(y.publicKeyOid);if(V!==a.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var w=a.createCertificate();w.version=y.certVersion?y.certVersion.charCodeAt(0):0;var L=t.util.createBuffer(y.certSerialNumber);w.serialNumber=L.toHex(),w.signatureOid=t.asn1.derToOid(y.certSignatureOid),w.signatureParameters=I(w.signatureOid,y.certSignatureParams,!0),w.siginfo.algorithmOid=t.asn1.derToOid(y.certinfoSignatureOid),w.siginfo.parameters=I(w.siginfo.algorithmOid,y.certinfoSignatureParams,!1),w.signature=y.certSignature;var j=[];if(y.certValidity1UTCTime!==void 0&&j.push(r.utcTimeToDate(y.certValidity1UTCTime)),y.certValidity2GeneralizedTime!==void 0&&j.push(r.generalizedTimeToDate(y.certValidity2GeneralizedTime)),y.certValidity3UTCTime!==void 0&&j.push(r.utcTimeToDate(y.certValidity3UTCTime)),y.certValidity4GeneralizedTime!==void 0&&j.push(r.generalizedTimeToDate(y.certValidity4GeneralizedTime)),j.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(j.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(w.validity.notBefore=j[0],w.validity.notAfter=j[1],w.tbsCertificate=y.tbsCertificate,m){w.md=C({signatureOid:w.signatureOid,type:"certificate"});var O=r.toDer(w.tbsCertificate);w.md.update(O.getBytes())}var F=t.md.sha1.create(),J=r.toDer(y.certIssuer);F.update(J.getBytes()),w.issuer.getField=function(de){return g(w.issuer,de)},w.issuer.addField=function(de){B([de]),w.issuer.attributes.push(de)},w.issuer.attributes=a.RDNAttributesAsArray(y.certIssuer),y.certIssuerUniqueId&&(w.issuer.uniqueId=y.certIssuerUniqueId),w.issuer.hash=F.digest().toHex();var oe=t.md.sha1.create(),se=r.toDer(y.certSubject);return oe.update(se.getBytes()),w.subject.getField=function(de){return g(w.subject,de)},w.subject.addField=function(de){B([de]),w.subject.attributes.push(de)},w.subject.attributes=a.RDNAttributesAsArray(y.certSubject),y.certSubjectUniqueId&&(w.subject.uniqueId=y.certSubjectUniqueId),w.subject.hash=oe.digest().toHex(),y.certExtensions?w.extensions=a.certificateExtensionsFromAsn1(y.certExtensions):w.extensions=[],w.publicKey=a.publicKeyFromAsn1(y.subjectPublicKeyInfo),w},a.certificateExtensionsFromAsn1=function(E){for(var m=[],y=0;y<E.value.length;++y)for(var q=E.value[y],M=0;M<q.value.length;++M)m.push(a.certificateExtensionFromAsn1(q.value[M]));return m},a.certificateExtensionFromAsn1=function(E){var m={};if(m.id=r.derToOid(E.value[0].value),m.critical=!1,E.value[1].type===r.Type.BOOLEAN?(m.critical=E.value[1].value.charCodeAt(0)!==0,m.value=E.value[2].value):m.value=E.value[1].value,m.id in u){if(m.name=u[m.id],m.name==="keyUsage"){var y=r.fromDer(m.value),q=0,M=0;y.value.length>1&&(q=y.value.charCodeAt(1),M=y.value.length>2?y.value.charCodeAt(2):0),m.digitalSignature=(q&128)===128,m.nonRepudiation=(q&64)===64,m.keyEncipherment=(q&32)===32,m.dataEncipherment=(q&16)===16,m.keyAgreement=(q&8)===8,m.keyCertSign=(q&4)===4,m.cRLSign=(q&2)===2,m.encipherOnly=(q&1)===1,m.decipherOnly=(M&128)===128}else if(m.name==="basicConstraints"){var y=r.fromDer(m.value);y.value.length>0&&y.value[0].type===r.Type.BOOLEAN?m.cA=y.value[0].value.charCodeAt(0)!==0:m.cA=!1;var V=null;y.value.length>0&&y.value[0].type===r.Type.INTEGER?V=y.value[0].value:y.value.length>1&&(V=y.value[1].value),V!==null&&(m.pathLenConstraint=r.derToInteger(V))}else if(m.name==="extKeyUsage")for(var y=r.fromDer(m.value),w=0;w<y.value.length;++w){var L=r.derToOid(y.value[w].value);L in u?m[u[L]]=!0:m[L]=!0}else if(m.name==="nsCertType"){var y=r.fromDer(m.value),q=0;y.value.length>1&&(q=y.value.charCodeAt(1)),m.client=(q&128)===128,m.server=(q&64)===64,m.email=(q&32)===32,m.objsign=(q&16)===16,m.reserved=(q&8)===8,m.sslCA=(q&4)===4,m.emailCA=(q&2)===2,m.objCA=(q&1)===1}else if(m.name==="subjectAltName"||m.name==="issuerAltName"){m.altNames=[];for(var j,y=r.fromDer(m.value),O=0;O<y.value.length;++O){j=y.value[O];var F={type:j.type,value:j.value};switch(m.altNames.push(F),j.type){case 1:case 2:case 6:break;case 7:F.ip=t.util.bytesToIP(j.value);break;case 8:F.oid=r.derToOid(j.value);break;default:}}}else if(m.name==="subjectKeyIdentifier"){var y=r.fromDer(m.value);m.subjectKeyIdentifier=t.util.bytesToHex(y.value)}}return m},a.certificationRequestFromAsn1=function(E,m){var y={},q=[];if(!r.validate(E,f,y,q)){var M=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw M.errors=q,M}var V=r.derToOid(y.publicKeyOid);if(V!==a.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var w=a.createCertificationRequest();if(w.version=y.csrVersion?y.csrVersion.charCodeAt(0):0,w.signatureOid=t.asn1.derToOid(y.csrSignatureOid),w.signatureParameters=I(w.signatureOid,y.csrSignatureParams,!0),w.siginfo.algorithmOid=t.asn1.derToOid(y.csrSignatureOid),w.siginfo.parameters=I(w.siginfo.algorithmOid,y.csrSignatureParams,!1),w.signature=y.csrSignature,w.certificationRequestInfo=y.certificationRequestInfo,m){w.md=C({signatureOid:w.signatureOid,type:"certification request"});var L=r.toDer(w.certificationRequestInfo);w.md.update(L.getBytes())}var j=t.md.sha1.create();return w.subject.getField=function(O){return g(w.subject,O)},w.subject.addField=function(O){B([O]),w.subject.attributes.push(O)},w.subject.attributes=a.RDNAttributesAsArray(y.certificationRequestInfoSubject,j),w.subject.hash=j.digest().toHex(),w.publicKey=a.publicKeyFromAsn1(y.subjectPublicKeyInfo),w.getAttribute=function(O){return g(w,O)},w.addAttribute=function(O){B([O]),w.attributes.push(O)},w.attributes=a.CRIAttributesAsArray(y.certificationRequestInfoAttributes||[]),w},a.createCertificationRequest=function(){var E={};return E.version=0,E.signatureOid=null,E.signature=null,E.siginfo={},E.siginfo.algorithmOid=null,E.subject={},E.subject.getField=function(m){return g(E.subject,m)},E.subject.addField=function(m){B([m]),E.subject.attributes.push(m)},E.subject.attributes=[],E.subject.hash=null,E.publicKey=null,E.attributes=[],E.getAttribute=function(m){return g(E,m)},E.addAttribute=function(m){B([m]),E.attributes.push(m)},E.md=null,E.setSubject=function(m){B(m),E.subject.attributes=m,E.subject.hash=null},E.setAttributes=function(m){B(m),E.attributes=m},E.sign=function(m,y){E.md=y||t.md.sha1.create();var q=u[E.md.algorithm+"WithRSAEncryption"];if(!q){var M=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw M.algorithm=E.md.algorithm,M}E.signatureOid=E.siginfo.algorithmOid=q,E.certificationRequestInfo=a.getCertificationRequestInfo(E);var V=r.toDer(E.certificationRequestInfo);E.md.update(V.getBytes()),E.signature=m.sign(E.md)},E.verify=function(){var m=!1,y=E.md;if(y===null){y=C({signatureOid:E.signatureOid,type:"certification request"});var q=E.certificationRequestInfo||a.getCertificationRequestInfo(E),M=r.toDer(q);y.update(M.getBytes())}return y!==null&&(m=_({certificate:E,md:y,signature:E.signature})),m},E};function T(E){for(var m=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]),y,q,M=E.attributes,V=0;V<M.length;++V){y=M[V];var w=y.value,L=r.Type.PRINTABLESTRING;"valueTagClass"in y&&(L=y.valueTagClass,L===r.Type.UTF8&&(w=t.util.encodeUtf8(w))),q=r.create(r.Class.UNIVERSAL,r.Type.SET,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(y.type).getBytes()),r.create(r.Class.UNIVERSAL,L,!1,w)])]),m.value.push(q)}return m}function B(E){for(var m,y=0;y<E.length;++y){if(m=E[y],typeof m.name>"u"&&(m.type&&m.type in a.oids?m.name=a.oids[m.type]:m.shortName&&m.shortName in c&&(m.name=a.oids[c[m.shortName]])),typeof m.type>"u")if(m.name&&m.name in a.oids)m.type=a.oids[m.name];else{var q=new Error("Attribute type not specified.");throw q.attribute=m,q}if(typeof m.shortName>"u"&&m.name&&m.name in c&&(m.shortName=c[m.name]),m.type===u.extensionRequest&&(m.valueConstructed=!0,m.valueTagClass=r.Type.SEQUENCE,!m.value&&m.extensions)){m.value=[];for(var M=0;M<m.extensions.length;++M)m.value.push(a.certificateExtensionToAsn1(P(m.extensions[M])))}if(typeof m.value>"u"){var q=new Error("Attribute value not specified.");throw q.attribute=m,q}}}function P(E,m){if(m=m||{},typeof E.name>"u"&&E.id&&E.id in a.oids&&(E.name=a.oids[E.id]),typeof E.id>"u")if(E.name&&E.name in a.oids)E.id=a.oids[E.name];else{var y=new Error("Extension ID not specified.");throw y.extension=E,y}if(typeof E.value<"u")return E;if(E.name==="keyUsage"){var q=0,M=0,V=0;E.digitalSignature&&(M|=128,q=7),E.nonRepudiation&&(M|=64,q=6),E.keyEncipherment&&(M|=32,q=5),E.dataEncipherment&&(M|=16,q=4),E.keyAgreement&&(M|=8,q=3),E.keyCertSign&&(M|=4,q=2),E.cRLSign&&(M|=2,q=1),E.encipherOnly&&(M|=1,q=0),E.decipherOnly&&(V|=128,q=7);var w=String.fromCharCode(q);V!==0?w+=String.fromCharCode(M)+String.fromCharCode(V):M!==0&&(w+=String.fromCharCode(M)),E.value=r.create(r.Class.UNIVERSAL,r.Type.BITSTRING,!1,w)}else if(E.name==="basicConstraints")E.value=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]),E.cA&&E.value.value.push(r.create(r.Class.UNIVERSAL,r.Type.BOOLEAN,!1,String.fromCharCode(255))),"pathLenConstraint"in E&&E.value.value.push(r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(E.pathLenConstraint).getBytes()));else if(E.name==="extKeyUsage"){E.value=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]);var L=E.value.value;for(var j in E)E[j]===!0&&(j in u?L.push(r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(u[j]).getBytes())):j.indexOf(".")!==-1&&L.push(r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(j).getBytes())))}else if(E.name==="nsCertType"){var q=0,M=0;E.client&&(M|=128,q=7),E.server&&(M|=64,q=6),E.email&&(M|=32,q=5),E.objsign&&(M|=16,q=4),E.reserved&&(M|=8,q=3),E.sslCA&&(M|=4,q=2),E.emailCA&&(M|=2,q=1),E.objCA&&(M|=1,q=0);var w=String.fromCharCode(q);M!==0&&(w+=String.fromCharCode(M)),E.value=r.create(r.Class.UNIVERSAL,r.Type.BITSTRING,!1,w)}else if(E.name==="subjectAltName"||E.name==="issuerAltName"){E.value=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]);for(var O,F=0;F<E.altNames.length;++F){O=E.altNames[F];var w=O.value;if(O.type===7&&O.ip){if(w=t.util.bytesFromIP(O.ip),w===null){var y=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw y.extension=E,y}}else O.type===8&&(O.oid?w=r.oidToDer(r.oidToDer(O.oid)):w=r.oidToDer(w));E.value.value.push(r.create(r.Class.CONTEXT_SPECIFIC,O.type,!1,w))}}else if(E.name==="nsComment"&&m.cert){if(!/^[\x00-\x7F]*$/.test(E.comment)||E.comment.length<1||E.comment.length>128)throw new Error('Invalid "nsComment" content.');E.value=r.create(r.Class.UNIVERSAL,r.Type.IA5STRING,!1,E.comment)}else if(E.name==="subjectKeyIdentifier"&&m.cert){var J=m.cert.generateSubjectKeyIdentifier();E.subjectKeyIdentifier=J.toHex(),E.value=r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,J.getBytes())}else if(E.name==="authorityKeyIdentifier"&&m.cert){E.value=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]);var L=E.value.value;if(E.keyIdentifier){var oe=E.keyIdentifier===!0?m.cert.generateSubjectKeyIdentifier().getBytes():E.keyIdentifier;L.push(r.create(r.Class.CONTEXT_SPECIFIC,0,!1,oe))}if(E.authorityCertIssuer){var se=[r.create(r.Class.CONTEXT_SPECIFIC,4,!0,[T(E.authorityCertIssuer===!0?m.cert.issuer:E.authorityCertIssuer)])];L.push(r.create(r.Class.CONTEXT_SPECIFIC,1,!0,se))}if(E.serialNumber){var de=t.util.hexToBytes(E.serialNumber===!0?m.cert.serialNumber:E.serialNumber);L.push(r.create(r.Class.CONTEXT_SPECIFIC,2,!1,de))}}else if(E.name==="cRLDistributionPoints"){E.value=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]);for(var L=E.value.value,ke=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]),Oe=r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[]),O,F=0;F<E.altNames.length;++F){O=E.altNames[F];var w=O.value;if(O.type===7&&O.ip){if(w=t.util.bytesFromIP(O.ip),w===null){var y=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw y.extension=E,y}}else O.type===8&&(O.oid?w=r.oidToDer(r.oidToDer(O.oid)):w=r.oidToDer(w));Oe.value.push(r.create(r.Class.CONTEXT_SPECIFIC,O.type,!1,w))}ke.value.push(r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[Oe])),L.push(ke)}if(typeof E.value>"u"){var y=new Error("Extension value not specified.");throw y.extension=E,y}return E}function p(E,m){switch(E){case u["RSASSA-PSS"]:var y=[];return m.hash.algorithmOid!==void 0&&y.push(r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(m.hash.algorithmOid).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")])])),m.mgf.algorithmOid!==void 0&&y.push(r.create(r.Class.CONTEXT_SPECIFIC,1,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(m.mgf.algorithmOid).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(m.mgf.hash.algorithmOid).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")])])])),m.saltLength!==void 0&&y.push(r.create(r.Class.CONTEXT_SPECIFIC,2,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(m.saltLength).getBytes())])),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,y);default:return r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")}}function A(E){var m=r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[]);if(E.attributes.length===0)return m;for(var y=E.attributes,q=0;q<y.length;++q){var M=y[q],V=M.value,w=r.Type.UTF8;"valueTagClass"in M&&(w=M.valueTagClass),w===r.Type.UTF8&&(V=t.util.encodeUtf8(V));var L=!1;"valueConstructed"in M&&(L=M.valueConstructed);var j=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(M.type).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SET,!0,[r.create(r.Class.UNIVERSAL,w,L,V)])]);m.value.push(j)}return m}var S=new Date("1950-01-01T00:00:00Z"),N=new Date("2050-01-01T00:00:00Z");function D(E){return E>=S&&E<N?r.create(r.Class.UNIVERSAL,r.Type.UTCTIME,!1,r.dateToUtcTime(E)):r.create(r.Class.UNIVERSAL,r.Type.GENERALIZEDTIME,!1,r.dateToGeneralizedTime(E))}a.getTBSCertificate=function(E){var m=D(E.validity.notBefore),y=D(E.validity.notAfter),q=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(E.version).getBytes())]),r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,t.util.hexToBytes(E.serialNumber)),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(E.siginfo.algorithmOid).getBytes()),p(E.siginfo.algorithmOid,E.siginfo.parameters)]),T(E.issuer),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[m,y]),T(E.subject),a.publicKeyToAsn1(E.publicKey)]);return E.issuer.uniqueId&&q.value.push(r.create(r.Class.CONTEXT_SPECIFIC,1,!0,[r.create(r.Class.UNIVERSAL,r.Type.BITSTRING,!1,String.fromCharCode(0)+E.issuer.uniqueId)])),E.subject.uniqueId&&q.value.push(r.create(r.Class.CONTEXT_SPECIFIC,2,!0,[r.create(r.Class.UNIVERSAL,r.Type.BITSTRING,!1,String.fromCharCode(0)+E.subject.uniqueId)])),E.extensions.length>0&&q.value.push(a.certificateExtensionsToAsn1(E.extensions)),q},a.getCertificationRequestInfo=function(E){var m=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(E.version).getBytes()),T(E.subject),a.publicKeyToAsn1(E.publicKey),A(E)]);return m},a.distinguishedNameToAsn1=function(E){return T(E)},a.certificateToAsn1=function(E){var m=E.tbsCertificate||a.getTBSCertificate(E);return r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[m,r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(E.signatureOid).getBytes()),p(E.signatureOid,E.signatureParameters)]),r.create(r.Class.UNIVERSAL,r.Type.BITSTRING,!1,String.fromCharCode(0)+E.signature)])},a.certificateExtensionsToAsn1=function(E){var m=r.create(r.Class.CONTEXT_SPECIFIC,3,!0,[]),y=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]);m.value.push(y);for(var q=0;q<E.length;++q)y.value.push(a.certificateExtensionToAsn1(E[q]));return m},a.certificateExtensionToAsn1=function(E){var m=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]);m.value.push(r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(E.id).getBytes())),E.critical&&m.value.push(r.create(r.Class.UNIVERSAL,r.Type.BOOLEAN,!1,String.fromCharCode(255)));var y=E.value;return typeof E.value!="string"&&(y=r.toDer(y).getBytes()),m.value.push(r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,y)),m},a.certificationRequestToAsn1=function(E){var m=E.certificationRequestInfo||a.getCertificationRequestInfo(E);return r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[m,r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(E.signatureOid).getBytes()),p(E.signatureOid,E.signatureParameters)]),r.create(r.Class.UNIVERSAL,r.Type.BITSTRING,!1,String.fromCharCode(0)+E.signature)])},a.createCaStore=function(E){var m={certs:{}};m.getIssuer=function(w){var L=y(w.issuer);return L},m.addCertificate=function(w){if(typeof w=="string"&&(w=t.pki.certificateFromPem(w)),q(w.subject),!m.hasCertificate(w))if(w.subject.hash in m.certs){var L=m.certs[w.subject.hash];t.util.isArray(L)||(L=[L]),L.push(w),m.certs[w.subject.hash]=L}else m.certs[w.subject.hash]=w},m.hasCertificate=function(w){typeof w=="string"&&(w=t.pki.certificateFromPem(w));var L=y(w.subject);if(!L)return!1;t.util.isArray(L)||(L=[L]);for(var j=r.toDer(a.certificateToAsn1(w)).getBytes(),O=0;O<L.length;++O){var F=r.toDer(a.certificateToAsn1(L[O])).getBytes();if(j===F)return!0}return!1},m.listAllCertificates=function(){var w=[];for(var L in m.certs)if(m.certs.hasOwnProperty(L)){var j=m.certs[L];if(!t.util.isArray(j))w.push(j);else for(var O=0;O<j.length;++O)w.push(j[O])}return w},m.removeCertificate=function(w){var L;if(typeof w=="string"&&(w=t.pki.certificateFromPem(w)),q(w.subject),!m.hasCertificate(w))return null;var j=y(w.subject);if(!t.util.isArray(j))return L=m.certs[w.subject.hash],delete m.certs[w.subject.hash],L;for(var O=r.toDer(a.certificateToAsn1(w)).getBytes(),F=0;F<j.length;++F){var J=r.toDer(a.certificateToAsn1(j[F])).getBytes();O===J&&(L=j[F],j.splice(F,1))}return j.length===0&&delete m.certs[w.subject.hash],L};function y(w){return q(w),m.certs[w.hash]||null}function q(w){if(!w.hash){var L=t.md.sha1.create();w.attributes=a.RDNAttributesAsArray(T(w),L),w.hash=L.digest().toHex()}}if(E)for(var M=0;M<E.length;++M){var V=E[M];m.addCertificate(V)}return m},a.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"},a.verifyCertificateChain=function(E,m,y){typeof y=="function"&&(y={verify:y}),y=y||{},m=m.slice(0);var q=m.slice(0),M=y.validityCheckDate;typeof M>"u"&&(M=new Date);var V=!0,w=null,L=0;do{var j=m.shift(),O=null,F=!1;if(M&&(M<j.validity.notBefore||M>j.validity.notAfter)&&(w={message:"Certificate is not valid yet or has expired.",error:a.certificateError.certificate_expired,notBefore:j.validity.notBefore,notAfter:j.validity.notAfter,now:M}),w===null){if(O=m[0]||E.getIssuer(j),O===null&&j.isIssuer(j)&&(F=!0,O=j),O){var J=O;t.util.isArray(J)||(J=[J]);for(var oe=!1;!oe&&J.length>0;){O=J.shift();try{oe=O.verify(j)}catch{}}oe||(w={message:"Certificate signature is invalid.",error:a.certificateError.bad_certificate})}w===null&&(!O||F)&&!E.hasCertificate(j)&&(w={message:"Certificate is not trusted.",error:a.certificateError.unknown_ca})}if(w===null&&O&&!j.isIssuer(O)&&(w={message:"Certificate issuer is invalid.",error:a.certificateError.bad_certificate}),w===null)for(var se={keyUsage:!0,basicConstraints:!0},de=0;w===null&&de<j.extensions.length;++de){var ke=j.extensions[de];ke.critical&&!(ke.name in se)&&(w={message:"Certificate has an unsupported critical extension.",error:a.certificateError.unsupported_certificate})}if(w===null&&(!V||m.length===0&&(!O||F))){var Oe=j.getExtension("basicConstraints"),Ve=j.getExtension("keyUsage");if(Ve!==null&&(!Ve.keyCertSign||Oe===null)&&(w={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:a.certificateError.bad_certificate}),w===null&&Oe!==null&&!Oe.cA&&(w={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:a.certificateError.bad_certificate}),w===null&&Ve!==null&&"pathLenConstraint"in Oe){var Ee=L-1;Ee>Oe.pathLenConstraint&&(w={message:"Certificate basicConstraints pathLenConstraint violated.",error:a.certificateError.bad_certificate})}}var We=w===null?!0:w.error,Ce=y.verify?y.verify(We,L,q):We;if(Ce===!0)w=null;else throw We===!0&&(w={message:"The application rejected the certificate.",error:a.certificateError.bad_certificate}),(Ce||Ce===0)&&(typeof Ce=="object"&&!t.util.isArray(Ce)?(Ce.message&&(w.message=Ce.message),Ce.error&&(w.error=Ce.error)):typeof Ce=="string"&&(w.error=Ce)),w;V=!1,++L}while(m.length>0);return!0}}),q1=Qe((e,n)=>{var t=lt();Ri(),zu(),Ps(),j1(),D1(),oi(),ih(),$u(),St(),Dp();var r=t.asn1,a=t.pki,u=n.exports=t.pkcs12=t.pkcs12||{},c={name:"ContentInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:r.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},h={name:"PFX",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"version"},c,{name:"PFX.macData",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:r.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:r.Class.UNIVERSAL,type:r.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:r.Class.UNIVERSAL,type:r.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},l={name:"SafeBag",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:r.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:r.Class.UNIVERSAL,type:r.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},s={name:"Attribute",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:r.Class.UNIVERSAL,type:r.Type.SET,constructed:!0,capture:"values"}]},d={name:"CertBag",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:r.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:r.Class.UNIVERSAL,type:r.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function f(B,P,p,A){for(var S=[],N=0;N<B.length;N++)for(var D=0;D<B[N].safeBags.length;D++){var E=B[N].safeBags[D];if(!(A!==void 0&&E.type!==A)){if(P===null){S.push(E);continue}E.attributes[P]!==void 0&&E.attributes[P].indexOf(p)>=0&&S.push(E)}}return S}u.pkcs12FromAsn1=function(B,P,p){typeof P=="string"?(p=P,P=!0):P===void 0&&(P=!0);var A={},S=[];if(!r.validate(B,h,A,S)){var N=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.");throw N.errors=N,N}var D={version:A.version.charCodeAt(0),safeContents:[],getBags:function(O){var F={},J;return"localKeyId"in O?J=O.localKeyId:"localKeyIdHex"in O&&(J=t.util.hexToBytes(O.localKeyIdHex)),J===void 0&&!("friendlyName"in O)&&"bagType"in O&&(F[O.bagType]=f(D.safeContents,null,null,O.bagType)),J!==void 0&&(F.localKeyId=f(D.safeContents,"localKeyId",J,O.bagType)),"friendlyName"in O&&(F.friendlyName=f(D.safeContents,"friendlyName",O.friendlyName,O.bagType)),F},getBagsByFriendlyName:function(O,F){return f(D.safeContents,"friendlyName",O,F)},getBagsByLocalKeyId:function(O,F){return f(D.safeContents,"localKeyId",O,F)}};if(A.version.charCodeAt(0)!==3){var N=new Error("PKCS#12 PFX of version other than 3 not supported.");throw N.version=A.version.charCodeAt(0),N}if(r.derToOid(A.contentType)!==a.oids.data){var N=new Error("Only PKCS#12 PFX in password integrity mode supported.");throw N.oid=r.derToOid(A.contentType),N}var E=A.content.value[0];if(E.tagClass!==r.Class.UNIVERSAL||E.type!==r.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(E=g(E),A.mac){var m=null,y=0,q=r.derToOid(A.macAlgorithm);switch(q){case a.oids.sha1:m=t.md.sha1.create(),y=20;break;case a.oids.sha256:m=t.md.sha256.create(),y=32;break;case a.oids.sha384:m=t.md.sha384.create(),y=48;break;case a.oids.sha512:m=t.md.sha512.create(),y=64;break;case a.oids.md5:m=t.md.md5.create(),y=16;break}if(m===null)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+q);var M=new t.util.ByteBuffer(A.macSalt),V="macIterations"in A?parseInt(t.util.bytesToHex(A.macIterations),16):1,w=u.generateKey(p,M,3,V,y,m),L=t.hmac.create();L.start(m,w),L.update(E.value);var j=L.getMac();if(j.getBytes()!==A.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return I(D,E.value,P,p),D};function g(B){if(B.composed||B.constructed){for(var P=t.util.createBuffer(),p=0;p<B.value.length;++p)P.putBytes(B.value[p].value);B.composed=B.constructed=!1,B.value=P.getBytes()}return B}function I(B,P,p,A){if(P=r.fromDer(P,p),P.tagClass!==r.Class.UNIVERSAL||P.type!==r.Type.SEQUENCE||P.constructed!==!0)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var S=0;S<P.value.length;S++){var N=P.value[S],D={},E=[];if(!r.validate(N,c,D,E)){var m=new Error("Cannot read ContentInfo.");throw m.errors=E,m}var y={encrypted:!1},q=null,M=D.content.value[0];switch(r.derToOid(D.contentType)){case a.oids.data:if(M.tagClass!==r.Class.UNIVERSAL||M.type!==r.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");q=g(M).value;break;case a.oids.encryptedData:q=C(M,A),y.encrypted=!0;break;default:var m=new Error("Unsupported PKCS#12 contentType.");throw m.contentType=r.derToOid(D.contentType),m}y.safeBags=_(q,p,A),B.safeContents.push(y)}}function C(B,P){var p={},A=[];if(!r.validate(B,t.pkcs7.asn1.encryptedDataValidator,p,A)){var S=new Error("Cannot read EncryptedContentInfo.");throw S.errors=A,S}var N=r.derToOid(p.contentType);if(N!==a.oids.data){var S=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.");throw S.oid=N,S}N=r.derToOid(p.encAlgorithm);var D=a.pbe.getCipher(N,p.encParameter,P),E=g(p.encryptedContentAsn1),m=t.util.createBuffer(E.value);if(D.update(m),!D.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return D.output.getBytes()}function _(B,P,p){if(!P&&B.length===0)return[];if(B=r.fromDer(B,P),B.tagClass!==r.Class.UNIVERSAL||B.type!==r.Type.SEQUENCE||B.constructed!==!0)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var A=[],S=0;S<B.value.length;S++){var N=B.value[S],D={},E=[];if(!r.validate(N,l,D,E)){var m=new Error("Cannot read SafeBag.");throw m.errors=E,m}var y={type:r.derToOid(D.bagId),attributes:T(D.bagAttributes)};A.push(y);var q,M,V=D.bagValue.value[0];switch(y.type){case a.oids.pkcs8ShroudedKeyBag:if(V=a.decryptPrivateKeyInfo(V,p),V===null)throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case a.oids.keyBag:try{y.key=a.privateKeyFromAsn1(V)}catch{y.key=null,y.asn1=V}continue;case a.oids.certBag:q=d,M=function(){if(r.derToOid(D.certId)!==a.oids.x509Certificate){var L=new Error("Unsupported certificate type, only X.509 supported.");throw L.oid=r.derToOid(D.certId),L}var j=r.fromDer(D.cert,P);try{y.cert=a.certificateFromAsn1(j,!0)}catch{y.cert=null,y.asn1=j}};break;default:var m=new Error("Unsupported PKCS#12 SafeBag type.");throw m.oid=y.type,m}if(q!==void 0&&!r.validate(V,q,D,E)){var m=new Error("Cannot read PKCS#12 "+q.name);throw m.errors=E,m}M()}return A}function T(B){var P={};if(B!==void 0)for(var p=0;p<B.length;++p){var A={},S=[];if(!r.validate(B[p],s,A,S)){var N=new Error("Cannot read PKCS#12 BagAttribute.");throw N.errors=S,N}var D=r.derToOid(A.oid);if(a.oids[D]!==void 0){P[a.oids[D]]=[];for(var E=0;E<A.values.length;++E)P[a.oids[D]].push(A.values[E].value)}}return P}u.toPkcs12Asn1=function(B,P,p,A){A=A||{},A.saltSize=A.saltSize||8,A.count=A.count||2048,A.algorithm=A.algorithm||A.encAlgorithm||"aes128","useMac"in A||(A.useMac=!0),"localKeyId"in A||(A.localKeyId=null),"generateLocalKeyId"in A||(A.generateLocalKeyId=!0);var S=A.localKeyId,N;if(S!==null)S=t.util.hexToBytes(S);else if(A.generateLocalKeyId)if(P){var D=t.util.isArray(P)?P[0]:P;typeof D=="string"&&(D=a.certificateFromPem(D));var E=t.md.sha1.create();E.update(r.toDer(a.certificateToAsn1(D)).getBytes()),S=E.digest().getBytes()}else S=t.random.getBytes(20);var m=[];S!==null&&m.push(r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(a.oids.localKeyId).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SET,!0,[r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,S)])])),"friendlyName"in A&&m.push(r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(a.oids.friendlyName).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SET,!0,[r.create(r.Class.UNIVERSAL,r.Type.BMPSTRING,!1,A.friendlyName)])])),m.length>0&&(N=r.create(r.Class.UNIVERSAL,r.Type.SET,!0,m));var y=[],q=[];P!==null&&(t.util.isArray(P)?q=P:q=[P]);for(var M=[],V=0;V<q.length;++V){P=q[V],typeof P=="string"&&(P=a.certificateFromPem(P));var w=V===0?N:void 0,L=a.certificateToAsn1(P),j=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(a.oids.certBag).getBytes()),r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(a.oids.x509Certificate).getBytes()),r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,r.toDer(L).getBytes())])])]),w]);M.push(j)}if(M.length>0){var O=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,M),F=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(a.oids.data).getBytes()),r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,r.toDer(O).getBytes())])]);y.push(F)}var J=null;if(B!==null){var oe=a.wrapRsaPrivateKey(a.privateKeyToAsn1(B));p===null?J=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(a.oids.keyBag).getBytes()),r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[oe]),N]):J=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(a.oids.pkcs8ShroudedKeyBag).getBytes()),r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[a.encryptPrivateKeyInfo(oe,p,A)]),N]);var se=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[J]),de=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(a.oids.data).getBytes()),r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,r.toDer(se).getBytes())])]);y.push(de)}var ke=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,y),Oe;if(A.useMac){var E=t.md.sha1.create(),Ve=new t.util.ByteBuffer(t.random.getBytes(A.saltSize)),Ee=A.count,B=u.generateKey(p,Ve,3,Ee,20),We=t.hmac.create();We.start(E,B),We.update(r.toDer(ke).getBytes());var Ce=We.getMac();Oe=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(a.oids.sha1).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")]),r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,Ce.getBytes())]),r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,Ve.getBytes()),r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(Ee).getBytes())])}return r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(3).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(a.oids.data).getBytes()),r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,r.toDer(ke).getBytes())])]),Oe])},u.generateKey=t.pbe.generatePkcs12Key}),F1=Qe((e,n)=>{var t=lt();Ri(),Ps(),D1(),Ro(),Lp(),q1(),Up(),ih(),St(),Dp();var r=t.asn1,a=n.exports=t.pki=t.pki||{};a.pemToDer=function(u){var c=t.pem.decode(u)[0];if(c.procType&&c.procType.type==="ENCRYPTED")throw new Error("Could not convert PEM to DER; PEM is encrypted.");return t.util.createBuffer(c.body)},a.privateKeyFromPem=function(u){var c=t.pem.decode(u)[0];if(c.type!=="PRIVATE KEY"&&c.type!=="RSA PRIVATE KEY"){var h=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw h.headerType=c.type,h}if(c.procType&&c.procType.type==="ENCRYPTED")throw new Error("Could not convert private key from PEM; PEM is encrypted.");var l=r.fromDer(c.body);return a.privateKeyFromAsn1(l)},a.privateKeyToPem=function(u,c){var h={type:"RSA PRIVATE KEY",body:r.toDer(a.privateKeyToAsn1(u)).getBytes()};return t.pem.encode(h,{maxline:c})},a.privateKeyInfoToPem=function(u,c){var h={type:"PRIVATE KEY",body:r.toDer(u).getBytes()};return t.pem.encode(h,{maxline:c})}}),M1=Qe((e,n)=>{var t=lt();Ri(),zu(),xp(),Ro(),F1(),oi(),$u(),St();var r=function(x,Y,G,R){var H=t.util.createBuffer(),ie=x.length>>1,ee=ie+(x.length&1),_e=x.substr(0,ee),Le=x.substr(ie,ee),je=t.util.createBuffer(),ye=t.hmac.create();G=Y+G;var Ne=Math.ceil(R/16),He=Math.ceil(R/20);ye.start("MD5",_e);var rt=t.util.createBuffer();je.putBytes(G);for(var $e=0;$e<Ne;++$e)ye.start(null,null),ye.update(je.getBytes()),je.putBuffer(ye.digest()),ye.start(null,null),ye.update(je.bytes()+G),rt.putBuffer(ye.digest());ye.start("SHA1",Le);var kt=t.util.createBuffer();je.clear(),je.putBytes(G);for(var $e=0;$e<He;++$e)ye.start(null,null),ye.update(je.getBytes()),je.putBuffer(ye.digest()),ye.start(null,null),ye.update(je.bytes()+G),kt.putBuffer(ye.digest());return H.putBytes(t.util.xorBytes(rt.getBytes(),kt.getBytes(),R)),H},a=function(x,Y,G){var R=t.hmac.create();R.start("SHA1",x);var H=t.util.createBuffer();return H.putInt32(Y[0]),H.putInt32(Y[1]),H.putByte(G.type),H.putByte(G.version.major),H.putByte(G.version.minor),H.putInt16(G.length),H.putBytes(G.fragment.bytes()),R.update(H.getBytes()),R.digest().getBytes()},u=function(x,Y,G){var R=!1;try{var H=x.deflate(Y.fragment.getBytes());Y.fragment=t.util.createBuffer(H),Y.length=H.length,R=!0}catch{}return R},c=function(x,Y,G){var R=!1;try{var H=x.inflate(Y.fragment.getBytes());Y.fragment=t.util.createBuffer(H),Y.length=H.length,R=!0}catch{}return R},h=function(x,Y){var G=0;switch(Y){case 1:G=x.getByte();break;case 2:G=x.getInt16();break;case 3:G=x.getInt24();break;case 4:G=x.getInt32();break}return t.util.createBuffer(x.getBytes(G))},l=function(x,Y,G){x.putInt(G.length(),Y<<3),x.putBuffer(G)},s={};s.Versions={TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}},s.SupportedVersions=[s.Versions.TLS_1_1,s.Versions.TLS_1_0],s.Version=s.SupportedVersions[0],s.MaxFragment=16384-1024,s.ConnectionEnd={server:0,client:1},s.PRFAlgorithm={tls_prf_sha256:0},s.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2},s.CipherType={stream:0,block:1,aead:2},s.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4},s.CompressionMethod={none:0,deflate:1},s.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24},s.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20},s.Alert={},s.Alert.Level={warning:1,fatal:2},s.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100},s.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2},s.CipherSuites={},s.getCipherSuite=function(x){var Y=null;for(var G in s.CipherSuites){var R=s.CipherSuites[G];if(R.id[0]===x.charCodeAt(0)&&R.id[1]===x.charCodeAt(1)){Y=R;break}}return Y},s.handleUnexpected=function(x,Y){var G=!x.open&&x.entity===s.ConnectionEnd.client;G||x.error(x,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.unexpected_message}})},s.handleHelloRequest=function(x,Y,G){!x.handshaking&&x.handshakes>0&&(s.queue(x,s.createAlert(x,{level:s.Alert.Level.warning,description:s.Alert.Description.no_renegotiation})),s.flush(x)),x.process()},s.parseHelloMessage=function(x,Y,G){var R=null,H=x.entity===s.ConnectionEnd.client;if(G<38)x.error(x,{message:H?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.illegal_parameter}});else{var ie=Y.fragment,ee=ie.length();if(R={version:{major:ie.getByte(),minor:ie.getByte()},random:t.util.createBuffer(ie.getBytes(32)),session_id:h(ie,1),extensions:[]},H?(R.cipher_suite=ie.getBytes(2),R.compression_method=ie.getByte()):(R.cipher_suites=h(ie,2),R.compression_methods=h(ie,1)),ee=G-(ee-ie.length()),ee>0){for(var _e=h(ie,2);_e.length()>0;)R.extensions.push({type:[_e.getByte(),_e.getByte()],data:h(_e,2)});if(!H)for(var Le=0;Le<R.extensions.length;++Le){var je=R.extensions[Le];if(je.type[0]===0&&je.type[1]===0)for(var ye=h(je.data,2);ye.length()>0;){var Ne=ye.getByte();if(Ne!==0)break;x.session.extensions.server_name.serverNameList.push(h(ye,2).getBytes())}}}if(x.session.version&&(R.version.major!==x.session.version.major||R.version.minor!==x.session.version.minor))return x.error(x,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.protocol_version}});if(H)x.session.cipherSuite=s.getCipherSuite(R.cipher_suite);else for(var He=t.util.createBuffer(R.cipher_suites.bytes());He.length()>0&&(x.session.cipherSuite=s.getCipherSuite(He.getBytes(2)),x.session.cipherSuite===null););if(x.session.cipherSuite===null)return x.error(x,{message:"No cipher suites in common.",send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.handshake_failure},cipherSuite:t.util.bytesToHex(R.cipher_suite)});H?x.session.compressionMethod=R.compression_method:x.session.compressionMethod=s.CompressionMethod.none}return R},s.createSecurityParameters=function(x,Y){var G=x.entity===s.ConnectionEnd.client,R=Y.random.bytes(),H=G?x.session.sp.client_random:R,ie=G?R:s.createRandom().getBytes();x.session.sp={entity:x.entity,prf_algorithm:s.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:x.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:H,server_random:ie}},s.handleServerHello=function(x,Y,G){var R=s.parseHelloMessage(x,Y,G);if(!x.fail){if(R.version.minor<=x.version.minor)x.version.minor=R.version.minor;else return x.error(x,{message:"Incompatible TLS version.",send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.protocol_version}});x.session.version=x.version;var H=R.session_id.bytes();H.length>0&&H===x.session.id?(x.expect=_,x.session.resuming=!0,x.session.sp.server_random=R.random.bytes()):(x.expect=f,x.session.resuming=!1,s.createSecurityParameters(x,R)),x.session.id=H,x.process()}},s.handleClientHello=function(x,Y,G){var R=s.parseHelloMessage(x,Y,G);if(!x.fail){var H=R.session_id.bytes(),ie=null;if(x.sessionCache&&(ie=x.sessionCache.getSession(H),ie===null?H="":(ie.version.major!==R.version.major||ie.version.minor>R.version.minor)&&(ie=null,H="")),H.length===0&&(H=t.random.getBytes(32)),x.session.id=H,x.session.clientHelloVersion=R.version,x.session.sp={},ie)x.version=x.session.version=ie.version,x.session.sp=ie.sp;else{for(var ee,_e=1;_e<s.SupportedVersions.length&&(ee=s.SupportedVersions[_e],!(ee.minor<=R.version.minor));++_e);x.version={major:ee.major,minor:ee.minor},x.session.version=x.version}ie!==null?(x.expect=D,x.session.resuming=!0,x.session.sp.client_random=R.random.bytes()):(x.expect=x.verifyClient!==!1?A:S,x.session.resuming=!1,s.createSecurityParameters(x,R)),x.open=!0,s.queue(x,s.createRecord(x,{type:s.ContentType.handshake,data:s.createServerHello(x)})),x.session.resuming?(s.queue(x,s.createRecord(x,{type:s.ContentType.change_cipher_spec,data:s.createChangeCipherSpec()})),x.state.pending=s.createConnectionState(x),x.state.current.write=x.state.pending.write,s.queue(x,s.createRecord(x,{type:s.ContentType.handshake,data:s.createFinished(x)}))):(s.queue(x,s.createRecord(x,{type:s.ContentType.handshake,data:s.createCertificate(x)})),x.fail||(s.queue(x,s.createRecord(x,{type:s.ContentType.handshake,data:s.createServerKeyExchange(x)})),x.verifyClient!==!1&&s.queue(x,s.createRecord(x,{type:s.ContentType.handshake,data:s.createCertificateRequest(x)})),s.queue(x,s.createRecord(x,{type:s.ContentType.handshake,data:s.createServerHelloDone(x)})))),s.flush(x),x.process()}},s.handleCertificate=function(x,Y,G){if(G<3)return x.error(x,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.illegal_parameter}});var R=Y.fragment,H={certificate_list:h(R,3)},ie,ee,_e=[];try{for(;H.certificate_list.length()>0;)ie=h(H.certificate_list,3),ee=t.asn1.fromDer(ie),ie=t.pki.certificateFromAsn1(ee,!0),_e.push(ie)}catch(je){return x.error(x,{message:"Could not parse certificate list.",cause:je,send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.bad_certificate}})}var Le=x.entity===s.ConnectionEnd.client;(Le||x.verifyClient===!0)&&_e.length===0?x.error(x,{message:Le?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.illegal_parameter}}):_e.length===0?x.expect=Le?g:S:(Le?x.session.serverCertificate=_e[0]:x.session.clientCertificate=_e[0],s.verifyCertificateChain(x,_e)&&(x.expect=Le?g:S)),x.process()},s.handleServerKeyExchange=function(x,Y,G){if(G>0)return x.error(x,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.unsupported_certificate}});x.expect=I,x.process()},s.handleClientKeyExchange=function(x,Y,G){if(G<48)return x.error(x,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.unsupported_certificate}});var R=Y.fragment,H={enc_pre_master_secret:h(R,2).getBytes()},ie=null;if(x.getPrivateKey)try{ie=x.getPrivateKey(x,x.session.serverCertificate),ie=t.pki.privateKeyFromPem(ie)}catch(Le){x.error(x,{message:"Could not get private key.",cause:Le,send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.internal_error}})}if(ie===null)return x.error(x,{message:"No private key set.",send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.internal_error}});try{var ee=x.session.sp;ee.pre_master_secret=ie.decrypt(H.enc_pre_master_secret);var _e=x.session.clientHelloVersion;if(_e.major!==ee.pre_master_secret.charCodeAt(0)||_e.minor!==ee.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch{ee.pre_master_secret=t.random.getBytes(48)}x.expect=D,x.session.clientCertificate!==null&&(x.expect=N),x.process()},s.handleCertificateRequest=function(x,Y,G){if(G<3)return x.error(x,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.illegal_parameter}});var R=Y.fragment,H={certificate_types:h(R,1),certificate_authorities:h(R,2)};x.session.certificateRequest=H,x.expect=C,x.process()},s.handleCertificateVerify=function(x,Y,G){if(G<2)return x.error(x,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.illegal_parameter}});var R=Y.fragment;R.read-=4;var H=R.bytes();R.read+=4;var ie={signature:h(R,2).getBytes()},ee=t.util.createBuffer();ee.putBuffer(x.session.md5.digest()),ee.putBuffer(x.session.sha1.digest()),ee=ee.getBytes();try{var _e=x.session.clientCertificate;if(!_e.publicKey.verify(ee,ie.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");x.session.md5.update(H),x.session.sha1.update(H)}catch{return x.error(x,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.handshake_failure}})}x.expect=D,x.process()},s.handleServerHelloDone=function(x,Y,G){if(G>0)return x.error(x,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.record_overflow}});if(x.serverCertificate===null){var R={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.insufficient_security}},H=0,ie=x.verify(x,R.alert.description,H,[]);if(ie!==!0)return(ie||ie===0)&&(typeof ie=="object"&&!t.util.isArray(ie)?(ie.message&&(R.message=ie.message),ie.alert&&(R.alert.description=ie.alert)):typeof ie=="number"&&(R.alert.description=ie)),x.error(x,R)}x.session.certificateRequest!==null&&(Y=s.createRecord(x,{type:s.ContentType.handshake,data:s.createCertificate(x)}),s.queue(x,Y)),Y=s.createRecord(x,{type:s.ContentType.handshake,data:s.createClientKeyExchange(x)}),s.queue(x,Y),x.expect=P;var ee=function(_e,Le){_e.session.certificateRequest!==null&&_e.session.clientCertificate!==null&&s.queue(_e,s.createRecord(_e,{type:s.ContentType.handshake,data:s.createCertificateVerify(_e,Le)})),s.queue(_e,s.createRecord(_e,{type:s.ContentType.change_cipher_spec,data:s.createChangeCipherSpec()})),_e.state.pending=s.createConnectionState(_e),_e.state.current.write=_e.state.pending.write,s.queue(_e,s.createRecord(_e,{type:s.ContentType.handshake,data:s.createFinished(_e)})),_e.expect=_,s.flush(_e),_e.process()};if(x.session.certificateRequest===null||x.session.clientCertificate===null)return ee(x,null);s.getClientSignature(x,ee)},s.handleChangeCipherSpec=function(x,Y){if(Y.fragment.getByte()!==1)return x.error(x,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.illegal_parameter}});var G=x.entity===s.ConnectionEnd.client;(x.session.resuming&&G||!x.session.resuming&&!G)&&(x.state.pending=s.createConnectionState(x)),x.state.current.read=x.state.pending.read,(!x.session.resuming&&G||x.session.resuming&&!G)&&(x.state.pending=null),x.expect=G?T:E,x.process()},s.handleFinished=function(x,Y,G){var R=Y.fragment;R.read-=4;var H=R.bytes();R.read+=4;var ie=Y.fragment.getBytes();R=t.util.createBuffer(),R.putBuffer(x.session.md5.digest()),R.putBuffer(x.session.sha1.digest());var ee=x.entity===s.ConnectionEnd.client,_e=ee?"server finished":"client finished",Le=x.session.sp,je=12,ye=r;if(R=ye(Le.master_secret,_e,R.getBytes(),je),R.getBytes()!==ie)return x.error(x,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.decrypt_error}});x.session.md5.update(H),x.session.sha1.update(H),(x.session.resuming&&ee||!x.session.resuming&&!ee)&&(s.queue(x,s.createRecord(x,{type:s.ContentType.change_cipher_spec,data:s.createChangeCipherSpec()})),x.state.current.write=x.state.pending.write,x.state.pending=null,s.queue(x,s.createRecord(x,{type:s.ContentType.handshake,data:s.createFinished(x)}))),x.expect=ee?B:m,x.handshaking=!1,++x.handshakes,x.peerCertificate=ee?x.session.serverCertificate:x.session.clientCertificate,s.flush(x),x.isConnected=!0,x.connected(x),x.process()},s.handleAlert=function(x,Y){var G=Y.fragment,R={level:G.getByte(),description:G.getByte()},H;switch(R.description){case s.Alert.Description.close_notify:H="Connection closed.";break;case s.Alert.Description.unexpected_message:H="Unexpected message.";break;case s.Alert.Description.bad_record_mac:H="Bad record MAC.";break;case s.Alert.Description.decryption_failed:H="Decryption failed.";break;case s.Alert.Description.record_overflow:H="Record overflow.";break;case s.Alert.Description.decompression_failure:H="Decompression failed.";break;case s.Alert.Description.handshake_failure:H="Handshake failure.";break;case s.Alert.Description.bad_certificate:H="Bad certificate.";break;case s.Alert.Description.unsupported_certificate:H="Unsupported certificate.";break;case s.Alert.Description.certificate_revoked:H="Certificate revoked.";break;case s.Alert.Description.certificate_expired:H="Certificate expired.";break;case s.Alert.Description.certificate_unknown:H="Certificate unknown.";break;case s.Alert.Description.illegal_parameter:H="Illegal parameter.";break;case s.Alert.Description.unknown_ca:H="Unknown certificate authority.";break;case s.Alert.Description.access_denied:H="Access denied.";break;case s.Alert.Description.decode_error:H="Decode error.";break;case s.Alert.Description.decrypt_error:H="Decrypt error.";break;case s.Alert.Description.export_restriction:H="Export restriction.";break;case s.Alert.Description.protocol_version:H="Unsupported protocol version.";break;case s.Alert.Description.insufficient_security:H="Insufficient security.";break;case s.Alert.Description.internal_error:H="Internal error.";break;case s.Alert.Description.user_canceled:H="User canceled.";break;case s.Alert.Description.no_renegotiation:H="Renegotiation not supported.";break;default:H="Unknown error.";break}if(R.description===s.Alert.Description.close_notify)return x.close();x.error(x,{message:H,send:!1,origin:x.entity===s.ConnectionEnd.client?"server":"client",alert:R}),x.process()},s.handleHandshake=function(x,Y){var G=Y.fragment,R=G.getByte(),H=G.getInt24();if(H>G.length())return x.fragmented=Y,Y.fragment=t.util.createBuffer(),G.read-=4,x.process();x.fragmented=null,G.read-=4;var ie=G.bytes(H+4);G.read+=4,R in Oe[x.entity][x.expect]?(x.entity===s.ConnectionEnd.server&&!x.open&&!x.fail&&(x.handshaking=!0,x.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:t.md.md5.create(),sha1:t.md.sha1.create()}),R!==s.HandshakeType.hello_request&&R!==s.HandshakeType.certificate_verify&&R!==s.HandshakeType.finished&&(x.session.md5.update(ie),x.session.sha1.update(ie)),Oe[x.entity][x.expect][R](x,Y,H)):s.handleUnexpected(x,Y)},s.handleApplicationData=function(x,Y){x.data.putBuffer(Y.fragment),x.dataReady(x),x.process()},s.handleHeartbeat=function(x,Y){var G=Y.fragment,R=G.getByte(),H=G.getInt16(),ie=G.getBytes(H);if(R===s.HeartbeatMessageType.heartbeat_request){if(x.handshaking||H>ie.length)return x.process();s.queue(x,s.createRecord(x,{type:s.ContentType.heartbeat,data:s.createHeartbeat(s.HeartbeatMessageType.heartbeat_response,ie)})),s.flush(x)}else if(R===s.HeartbeatMessageType.heartbeat_response){if(ie!==x.expectedHeartbeatPayload)return x.process();x.heartbeatReceived&&x.heartbeatReceived(x,t.util.createBuffer(ie))}x.process()};var d=0,f=1,g=2,I=3,C=4,_=5,T=6,B=7,P=8,p=0,A=1,S=2,N=3,D=4,E=5,m=6,y=s.handleUnexpected,q=s.handleChangeCipherSpec,M=s.handleAlert,V=s.handleHandshake,w=s.handleApplicationData,L=s.handleHeartbeat,j=[];j[s.ConnectionEnd.client]=[[y,M,V,y,L],[y,M,V,y,L],[y,M,V,y,L],[y,M,V,y,L],[y,M,V,y,L],[q,M,y,y,L],[y,M,V,y,L],[y,M,V,w,L],[y,M,V,y,L]],j[s.ConnectionEnd.server]=[[y,M,V,y,L],[y,M,V,y,L],[y,M,V,y,L],[y,M,V,y,L],[q,M,y,y,L],[y,M,V,y,L],[y,M,V,w,L],[y,M,V,y,L]];var O=s.handleHelloRequest,F=s.handleServerHello,J=s.handleCertificate,oe=s.handleServerKeyExchange,se=s.handleCertificateRequest,de=s.handleServerHelloDone,ke=s.handleFinished,Oe=[];Oe[s.ConnectionEnd.client]=[[y,y,F,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y],[O,y,y,y,y,y,y,y,y,y,y,J,oe,se,de,y,y,y,y,y,y],[O,y,y,y,y,y,y,y,y,y,y,y,oe,se,de,y,y,y,y,y,y],[O,y,y,y,y,y,y,y,y,y,y,y,y,se,de,y,y,y,y,y,y],[O,y,y,y,y,y,y,y,y,y,y,y,y,y,de,y,y,y,y,y,y],[O,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y],[O,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,ke],[O,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y],[O,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y]];var Ve=s.handleClientHello,Ee=s.handleClientKeyExchange,We=s.handleCertificateVerify;Oe[s.ConnectionEnd.server]=[[y,Ve,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y],[y,y,y,y,y,y,y,y,y,y,y,J,y,y,y,y,y,y,y,y,y],[y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,Ee,y,y,y,y],[y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,We,y,y,y,y,y],[y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y],[y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,ke],[y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y],[y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y]],s.generateKeys=function(x,Y){var G=r,R=Y.client_random+Y.server_random;x.session.resuming||(Y.master_secret=G(Y.pre_master_secret,"master secret",R,48).bytes(),Y.pre_master_secret=null),R=Y.server_random+Y.client_random;var H=2*Y.mac_key_length+2*Y.enc_key_length,ie=x.version.major===s.Versions.TLS_1_0.major&&x.version.minor===s.Versions.TLS_1_0.minor;ie&&(H+=2*Y.fixed_iv_length);var ee=G(Y.master_secret,"key expansion",R,H),_e={client_write_MAC_key:ee.getBytes(Y.mac_key_length),server_write_MAC_key:ee.getBytes(Y.mac_key_length),client_write_key:ee.getBytes(Y.enc_key_length),server_write_key:ee.getBytes(Y.enc_key_length)};return ie&&(_e.client_write_IV=ee.getBytes(Y.fixed_iv_length),_e.server_write_IV=ee.getBytes(Y.fixed_iv_length)),_e},s.createConnectionState=function(x){var Y=x.entity===s.ConnectionEnd.client,G=function(){var ie={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(ee){return!0},compressionState:null,compressFunction:function(ee){return!0},updateSequenceNumber:function(){ie.sequenceNumber[1]===4294967295?(ie.sequenceNumber[1]=0,++ie.sequenceNumber[0]):++ie.sequenceNumber[1]}};return ie},R={read:G(),write:G()};if(R.read.update=function(ie,ee){return R.read.cipherFunction(ee,R.read)?R.read.compressFunction(ie,ee,R.read)||ie.error(ie,{message:"Could not decompress record.",send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.decompression_failure}}):ie.error(ie,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.bad_record_mac}}),!ie.fail},R.write.update=function(ie,ee){return R.write.compressFunction(ie,ee,R.write)?R.write.cipherFunction(ee,R.write)||ie.error(ie,{message:"Could not encrypt record.",send:!1,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.internal_error}}):ie.error(ie,{message:"Could not compress record.",send:!1,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.internal_error}}),!ie.fail},x.session){var H=x.session.sp;switch(x.session.cipherSuite.initSecurityParameters(H),H.keys=s.generateKeys(x,H),R.read.macKey=Y?H.keys.server_write_MAC_key:H.keys.client_write_MAC_key,R.write.macKey=Y?H.keys.client_write_MAC_key:H.keys.server_write_MAC_key,x.session.cipherSuite.initConnectionState(R,x,H),H.compression_algorithm){case s.CompressionMethod.none:break;case s.CompressionMethod.deflate:R.read.compressFunction=c,R.write.compressFunction=u;break;default:throw new Error("Unsupported compression algorithm.")}}return R},s.createRandom=function(){var x=new Date,Y=+x+x.getTimezoneOffset()*6e4,G=t.util.createBuffer();return G.putInt32(Y),G.putBytes(t.random.getBytes(28)),G},s.createRecord=function(x,Y){if(!Y.data)return null;var G={type:Y.type,version:{major:x.version.major,minor:x.version.minor},length:Y.data.length(),fragment:Y.data};return G},s.createAlert=function(x,Y){var G=t.util.createBuffer();return G.putByte(Y.level),G.putByte(Y.description),s.createRecord(x,{type:s.ContentType.alert,data:G})},s.createClientHello=function(x){x.session.clientHelloVersion={major:x.version.major,minor:x.version.minor};for(var Y=t.util.createBuffer(),G=0;G<x.cipherSuites.length;++G){var R=x.cipherSuites[G];Y.putByte(R.id[0]),Y.putByte(R.id[1])}var H=Y.length(),ie=t.util.createBuffer();ie.putByte(s.CompressionMethod.none);var ee=ie.length(),_e=t.util.createBuffer();if(x.virtualHost){var Le=t.util.createBuffer();Le.putByte(0),Le.putByte(0);var je=t.util.createBuffer();je.putByte(0),l(je,2,t.util.createBuffer(x.virtualHost));var ye=t.util.createBuffer();l(ye,2,je),l(Le,2,ye),_e.putBuffer(Le)}var Ne=_e.length();Ne>0&&(Ne+=2);var He=x.session.id,rt=He.length+1+2+4+28+2+H+1+ee+Ne,$e=t.util.createBuffer();return $e.putByte(s.HandshakeType.client_hello),$e.putInt24(rt),$e.putByte(x.version.major),$e.putByte(x.version.minor),$e.putBytes(x.session.sp.client_random),l($e,1,t.util.createBuffer(He)),l($e,2,Y),l($e,1,ie),Ne>0&&l($e,2,_e),$e},s.createServerHello=function(x){var Y=x.session.id,G=Y.length+1+2+4+28+2+1,R=t.util.createBuffer();return R.putByte(s.HandshakeType.server_hello),R.putInt24(G),R.putByte(x.version.major),R.putByte(x.version.minor),R.putBytes(x.session.sp.server_random),l(R,1,t.util.createBuffer(Y)),R.putByte(x.session.cipherSuite.id[0]),R.putByte(x.session.cipherSuite.id[1]),R.putByte(x.session.compressionMethod),R},s.createCertificate=function(x){var Y=x.entity===s.ConnectionEnd.client,G=null;if(x.getCertificate){var R;Y?R=x.session.certificateRequest:R=x.session.extensions.server_name.serverNameList,G=x.getCertificate(x,R)}var H=t.util.createBuffer();if(G!==null)try{t.util.isArray(G)||(G=[G]);for(var ie=null,ee=0;ee<G.length;++ee){var _e=t.pem.decode(G[ee])[0];if(_e.type!=="CERTIFICATE"&&_e.type!=="X509 CERTIFICATE"&&_e.type!=="TRUSTED CERTIFICATE"){var Le=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw Le.headerType=_e.type,Le}if(_e.procType&&_e.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var je=t.util.createBuffer(_e.body);ie===null&&(ie=t.asn1.fromDer(je.bytes(),!1));var ye=t.util.createBuffer();l(ye,3,je),H.putBuffer(ye)}G=t.pki.certificateFromAsn1(ie),Y?x.session.clientCertificate=G:x.session.serverCertificate=G}catch(rt){return x.error(x,{message:"Could not send certificate list.",cause:rt,send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.bad_certificate}})}var Ne=3+H.length(),He=t.util.createBuffer();return He.putByte(s.HandshakeType.certificate),He.putInt24(Ne),l(He,3,H),He},s.createClientKeyExchange=function(x){var Y=t.util.createBuffer();Y.putByte(x.session.clientHelloVersion.major),Y.putByte(x.session.clientHelloVersion.minor),Y.putBytes(t.random.getBytes(46));var G=x.session.sp;G.pre_master_secret=Y.getBytes();var R=x.session.serverCertificate.publicKey;Y=R.encrypt(G.pre_master_secret);var H=Y.length+2,ie=t.util.createBuffer();return ie.putByte(s.HandshakeType.client_key_exchange),ie.putInt24(H),ie.putInt16(Y.length),ie.putBytes(Y),ie},s.createServerKeyExchange=function(x){var Y=0,G=t.util.createBuffer();return Y>0&&(G.putByte(s.HandshakeType.server_key_exchange),G.putInt24(Y)),G},s.getClientSignature=function(x,Y){var G=t.util.createBuffer();G.putBuffer(x.session.md5.digest()),G.putBuffer(x.session.sha1.digest()),G=G.getBytes(),x.getSignature=x.getSignature||function(R,H,ie){var ee=null;if(R.getPrivateKey)try{ee=R.getPrivateKey(R,R.session.clientCertificate),ee=t.pki.privateKeyFromPem(ee)}catch(_e){R.error(R,{message:"Could not get private key.",cause:_e,send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.internal_error}})}ee===null?R.error(R,{message:"No private key set.",send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.internal_error}}):H=ee.sign(H,null),ie(R,H)},x.getSignature(x,G,Y)},s.createCertificateVerify=function(x,Y){var G=Y.length+2,R=t.util.createBuffer();return R.putByte(s.HandshakeType.certificate_verify),R.putInt24(G),R.putInt16(Y.length),R.putBytes(Y),R},s.createCertificateRequest=function(x){var Y=t.util.createBuffer();Y.putByte(1);var G=t.util.createBuffer();for(var R in x.caStore.certs){var H=x.caStore.certs[R],ie=t.pki.distinguishedNameToAsn1(H.subject),ee=t.asn1.toDer(ie);G.putInt16(ee.length()),G.putBuffer(ee)}var _e=1+Y.length()+2+G.length(),Le=t.util.createBuffer();return Le.putByte(s.HandshakeType.certificate_request),Le.putInt24(_e),l(Le,1,Y),l(Le,2,G),Le},s.createServerHelloDone=function(x){var Y=t.util.createBuffer();return Y.putByte(s.HandshakeType.server_hello_done),Y.putInt24(0),Y},s.createChangeCipherSpec=function(){var x=t.util.createBuffer();return x.putByte(1),x},s.createFinished=function(x){var Y=t.util.createBuffer();Y.putBuffer(x.session.md5.digest()),Y.putBuffer(x.session.sha1.digest());var G=x.entity===s.ConnectionEnd.client,R=x.session.sp,H=12,ie=r,ee=G?"client finished":"server finished";Y=ie(R.master_secret,ee,Y.getBytes(),H);var _e=t.util.createBuffer();return _e.putByte(s.HandshakeType.finished),_e.putInt24(Y.length()),_e.putBuffer(Y),_e},s.createHeartbeat=function(x,Y,G){typeof G>"u"&&(G=Y.length);var R=t.util.createBuffer();R.putByte(x),R.putInt16(G),R.putBytes(Y);var H=R.length(),ie=Math.max(16,H-G-3);return R.putBytes(t.random.getBytes(ie)),R},s.queue=function(x,Y){if(Y&&!(Y.fragment.length()===0&&(Y.type===s.ContentType.handshake||Y.type===s.ContentType.alert||Y.type===s.ContentType.change_cipher_spec))){if(Y.type===s.ContentType.handshake){var G=Y.fragment.bytes();x.session.md5.update(G),x.session.sha1.update(G),G=null}var R;if(Y.fragment.length()<=s.MaxFragment)R=[Y];else{R=[];for(var H=Y.fragment.bytes();H.length>s.MaxFragment;)R.push(s.createRecord(x,{type:Y.type,data:t.util.createBuffer(H.slice(0,s.MaxFragment))})),H=H.slice(s.MaxFragment);H.length>0&&R.push(s.createRecord(x,{type:Y.type,data:t.util.createBuffer(H)}))}for(var ie=0;ie<R.length&&!x.fail;++ie){var ee=R[ie],_e=x.state.current.write;_e.update(x,ee)&&x.records.push(ee)}}},s.flush=function(x){for(var Y=0;Y<x.records.length;++Y){var G=x.records[Y];x.tlsData.putByte(G.type),x.tlsData.putByte(G.version.major),x.tlsData.putByte(G.version.minor),x.tlsData.putInt16(G.fragment.length()),x.tlsData.putBuffer(x.records[Y].fragment)}return x.records=[],x.tlsDataReady(x)};var Ce=function(x){switch(x){case!0:return!0;case t.pki.certificateError.bad_certificate:return s.Alert.Description.bad_certificate;case t.pki.certificateError.unsupported_certificate:return s.Alert.Description.unsupported_certificate;case t.pki.certificateError.certificate_revoked:return s.Alert.Description.certificate_revoked;case t.pki.certificateError.certificate_expired:return s.Alert.Description.certificate_expired;case t.pki.certificateError.certificate_unknown:return s.Alert.Description.certificate_unknown;case t.pki.certificateError.unknown_ca:return s.Alert.Description.unknown_ca;default:return s.Alert.Description.bad_certificate}},et=function(x){switch(x){case!0:return!0;case s.Alert.Description.bad_certificate:return t.pki.certificateError.bad_certificate;case s.Alert.Description.unsupported_certificate:return t.pki.certificateError.unsupported_certificate;case s.Alert.Description.certificate_revoked:return t.pki.certificateError.certificate_revoked;case s.Alert.Description.certificate_expired:return t.pki.certificateError.certificate_expired;case s.Alert.Description.certificate_unknown:return t.pki.certificateError.certificate_unknown;case s.Alert.Description.unknown_ca:return t.pki.certificateError.unknown_ca;default:return t.pki.certificateError.bad_certificate}};s.verifyCertificateChain=function(x,Y){try{var G={};for(var R in x.verifyOptions)G[R]=x.verifyOptions[R];G.verify=function(ie,ee,_e){var Le=Ce(ie),je=x.verify(x,ie,ee,_e);if(je!==!0){if(typeof je=="object"&&!t.util.isArray(je)){var ye=new Error("The application rejected the certificate.");throw ye.send=!0,ye.alert={level:s.Alert.Level.fatal,description:s.Alert.Description.bad_certificate},je.message&&(ye.message=je.message),je.alert&&(ye.alert.description=je.alert),ye}je!==ie&&(je=et(je))}return je},t.pki.verifyCertificateChain(x.caStore,Y,G)}catch(ie){var H=ie;(typeof H!="object"||t.util.isArray(H))&&(H={send:!0,alert:{level:s.Alert.Level.fatal,description:Ce(ie)}}),"send"in H||(H.send=!0),"alert"in H||(H.alert={level:s.Alert.Level.fatal,description:Ce(H.error)}),x.error(x,H)}return!x.fail},s.createSessionCache=function(x,Y){var G=null;if(x&&x.getSession&&x.setSession&&x.order)G=x;else{G={},G.cache=x||{},G.capacity=Math.max(Y||100,1),G.order=[];for(var R in x)G.order.length<=Y?G.order.push(R):delete x[R];G.getSession=function(H){var ie=null,ee=null;if(H?ee=t.util.bytesToHex(H):G.order.length>0&&(ee=G.order[0]),ee!==null&&ee in G.cache){ie=G.cache[ee],delete G.cache[ee];for(var _e in G.order)if(G.order[_e]===ee){G.order.splice(_e,1);break}}return ie},G.setSession=function(H,ie){if(G.order.length===G.capacity){var ee=G.order.shift();delete G.cache[ee]}var ee=t.util.bytesToHex(H);G.order.push(ee),G.cache[ee]=ie}}return G},s.createConnection=function(x){var Y=null;x.caStore?t.util.isArray(x.caStore)?Y=t.pki.createCaStore(x.caStore):Y=x.caStore:Y=t.pki.createCaStore();var G=x.cipherSuites||null;if(G===null){G=[];for(var R in s.CipherSuites)G.push(s.CipherSuites[R])}var H=x.server?s.ConnectionEnd.server:s.ConnectionEnd.client,ie=x.sessionCache?s.createSessionCache(x.sessionCache):null,ee={version:{major:s.Version.major,minor:s.Version.minor},entity:H,sessionId:x.sessionId,caStore:Y,sessionCache:ie,cipherSuites:G,connected:x.connected,virtualHost:x.virtualHost||null,verifyClient:x.verifyClient||!1,verify:x.verify||function(ye,Ne,He,rt){return Ne},verifyOptions:x.verifyOptions||{},getCertificate:x.getCertificate||null,getPrivateKey:x.getPrivateKey||null,getSignature:x.getSignature||null,input:t.util.createBuffer(),tlsData:t.util.createBuffer(),data:t.util.createBuffer(),tlsDataReady:x.tlsDataReady,dataReady:x.dataReady,heartbeatReceived:x.heartbeatReceived,closed:x.closed,error:function(ye,Ne){Ne.origin=Ne.origin||(ye.entity===s.ConnectionEnd.client?"client":"server"),Ne.send&&(s.queue(ye,s.createAlert(ye,Ne.alert)),s.flush(ye));var He=Ne.fatal!==!1;He&&(ye.fail=!0),x.error(ye,Ne),He&&ye.close(!1)},deflate:x.deflate||null,inflate:x.inflate||null};ee.reset=function(ye){ee.version={major:s.Version.major,minor:s.Version.minor},ee.record=null,ee.session=null,ee.peerCertificate=null,ee.state={pending:null,current:null},ee.expect=ee.entity===s.ConnectionEnd.client?d:p,ee.fragmented=null,ee.records=[],ee.open=!1,ee.handshakes=0,ee.handshaking=!1,ee.isConnected=!1,ee.fail=!(ye||typeof ye>"u"),ee.input.clear(),ee.tlsData.clear(),ee.data.clear(),ee.state.current=s.createConnectionState(ee)},ee.reset();var _e=function(ye,Ne){var He=Ne.type-s.ContentType.change_cipher_spec,rt=j[ye.entity][ye.expect];He in rt?rt[He](ye,Ne):s.handleUnexpected(ye,Ne)},Le=function(ye){var Ne=0,He=ye.input,rt=He.length();if(rt<5)Ne=5-rt;else{ye.record={type:He.getByte(),version:{major:He.getByte(),minor:He.getByte()},length:He.getInt16(),fragment:t.util.createBuffer(),ready:!1};var $e=ye.record.version.major===ye.version.major;$e&&ye.session&&ye.session.version&&($e=ye.record.version.minor===ye.version.minor),$e||ye.error(ye,{message:"Incompatible TLS version.",send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.protocol_version}})}return Ne},je=function(ye){var Ne=0,He=ye.input,rt=He.length();if(rt<ye.record.length)Ne=ye.record.length-rt;else{ye.record.fragment.putBytes(He.getBytes(ye.record.length)),He.compact();var $e=ye.state.current.read;$e.update(ye,ye.record)&&(ye.fragmented!==null&&(ye.fragmented.type===ye.record.type?(ye.fragmented.fragment.putBuffer(ye.record.fragment),ye.record=ye.fragmented):ye.error(ye,{message:"Invalid fragmented record.",send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.unexpected_message}})),ye.record.ready=!0)}return Ne};return ee.handshake=function(ye){if(ee.entity!==s.ConnectionEnd.client)ee.error(ee,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(ee.handshaking)ee.error(ee,{message:"Handshake already in progress.",fatal:!1});else{ee.fail&&!ee.open&&ee.handshakes===0&&(ee.fail=!1),ee.handshaking=!0,ye=ye||"";var Ne=null;ye.length>0&&(ee.sessionCache&&(Ne=ee.sessionCache.getSession(ye)),Ne===null&&(ye="")),ye.length===0&&ee.sessionCache&&(Ne=ee.sessionCache.getSession(),Ne!==null&&(ye=Ne.id)),ee.session={id:ye,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:t.md.md5.create(),sha1:t.md.sha1.create()},Ne&&(ee.version=Ne.version,ee.session.sp=Ne.sp),ee.session.sp.client_random=s.createRandom().getBytes(),ee.open=!0,s.queue(ee,s.createRecord(ee,{type:s.ContentType.handshake,data:s.createClientHello(ee)})),s.flush(ee)}},ee.process=function(ye){var Ne=0;return ye&&ee.input.putBytes(ye),ee.fail||(ee.record!==null&&ee.record.ready&&ee.record.fragment.isEmpty()&&(ee.record=null),ee.record===null&&(Ne=Le(ee)),!ee.fail&&ee.record!==null&&!ee.record.ready&&(Ne=je(ee)),!ee.fail&&ee.record!==null&&ee.record.ready&&_e(ee,ee.record)),Ne},ee.prepare=function(ye){return s.queue(ee,s.createRecord(ee,{type:s.ContentType.application_data,data:t.util.createBuffer(ye)})),s.flush(ee)},ee.prepareHeartbeatRequest=function(ye,Ne){return ye instanceof t.util.ByteBuffer&&(ye=ye.bytes()),typeof Ne>"u"&&(Ne=ye.length),ee.expectedHeartbeatPayload=ye,s.queue(ee,s.createRecord(ee,{type:s.ContentType.heartbeat,data:s.createHeartbeat(s.HeartbeatMessageType.heartbeat_request,ye,Ne)})),s.flush(ee)},ee.close=function(ye){if(!ee.fail&&ee.sessionCache&&ee.session){var Ne={id:ee.session.id,version:ee.session.version,sp:ee.session.sp};Ne.sp.keys=null,ee.sessionCache.setSession(Ne.id,Ne)}ee.open&&(ee.open=!1,ee.input.clear(),(ee.isConnected||ee.handshaking)&&(ee.isConnected=ee.handshaking=!1,s.queue(ee,s.createAlert(ee,{level:s.Alert.Level.warning,description:s.Alert.Description.close_notify})),s.flush(ee)),ee.closed(ee)),ee.reset(ye)},ee},n.exports=t.tls=t.tls||{};for(Xe in s)typeof s[Xe]!="function"&&(t.tls[Xe]=s[Xe]);var Xe;t.tls.prf_tls1=r,t.tls.hmac_sha1=a,t.tls.createSessionCache=s.createSessionCache,t.tls.createConnection=s.createConnection}),RA=Qe((e,n)=>{var t=lt();ks(),M1();var r=n.exports=t.tls;r.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(d){d.bulk_cipher_algorithm=r.BulkCipherAlgorithm.aes,d.cipher_type=r.CipherType.block,d.enc_key_length=16,d.block_length=16,d.fixed_iv_length=16,d.record_iv_length=16,d.mac_algorithm=r.MACAlgorithm.hmac_sha1,d.mac_length=20,d.mac_key_length=20},initConnectionState:a},r.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(d){d.bulk_cipher_algorithm=r.BulkCipherAlgorithm.aes,d.cipher_type=r.CipherType.block,d.enc_key_length=32,d.block_length=16,d.fixed_iv_length=16,d.record_iv_length=16,d.mac_algorithm=r.MACAlgorithm.hmac_sha1,d.mac_length=20,d.mac_key_length=20},initConnectionState:a};function a(d,f,g){var I=f.entity===t.tls.ConnectionEnd.client;d.read.cipherState={init:!1,cipher:t.cipher.createDecipher("AES-CBC",I?g.keys.server_write_key:g.keys.client_write_key),iv:I?g.keys.server_write_IV:g.keys.client_write_IV},d.write.cipherState={init:!1,cipher:t.cipher.createCipher("AES-CBC",I?g.keys.client_write_key:g.keys.server_write_key),iv:I?g.keys.client_write_IV:g.keys.server_write_IV},d.read.cipherFunction=l,d.write.cipherFunction=u,d.read.macLength=d.write.macLength=g.mac_length,d.read.macFunction=d.write.macFunction=r.hmac_sha1}function u(d,f){var g=!1,I=f.macFunction(f.macKey,f.sequenceNumber,d);d.fragment.putBytes(I),f.updateSequenceNumber();var C;d.version.minor===r.Versions.TLS_1_0.minor?C=f.cipherState.init?null:f.cipherState.iv:C=t.random.getBytesSync(16),f.cipherState.init=!0;var _=f.cipherState.cipher;return _.start({iv:C}),d.version.minor>=r.Versions.TLS_1_1.minor&&_.output.putBytes(C),_.update(d.fragment),_.finish(c)&&(d.fragment=_.output,d.length=d.fragment.length(),g=!0),g}function c(d,f,g){if(!g){var I=d-f.length()%d;f.fillWithByte(I-1,I)}return!0}function h(d,f,g){var I=!0;if(g){for(var C=f.length(),_=f.last(),T=C-1-_;T<C-1;++T)I=I&&f.at(T)==_;I&&f.truncate(_+1)}return I}function l(d,f){var g=!1,I;d.version.minor===r.Versions.TLS_1_0.minor?I=f.cipherState.init?null:f.cipherState.iv:I=d.fragment.getBytes(16),f.cipherState.init=!0;var C=f.cipherState.cipher;C.start({iv:I}),C.update(d.fragment),g=C.finish(h);var _=f.macLength,T=t.random.getBytesSync(_),B=C.output.length();B>=_?(d.fragment=C.output.getBytes(B-_),T=C.output.getBytes(_)):d.fragment=C.output.getBytes(),d.fragment=t.util.createBuffer(d.fragment),d.length=d.fragment.length();var P=f.macFunction(f.macKey,f.sequenceNumber,d);return f.updateSequenceNumber(),g=s(f.macKey,T,P)&&g,g}function s(d,f,g){var I=t.hmac.create();return I.start("SHA1",d),I.update(f),f=I.digest().getBytes(),I.start(null,null),I.update(g),g=I.digest().getBytes(),f===g}}),z1=Qe((e,n)=>{var t=lt();ca(),St();var r=n.exports=t.sha512=t.sha512||{};t.md.sha512=t.md.algorithms.sha512=r;var a=t.sha384=t.sha512.sha384=t.sha512.sha384||{};a.create=function(){return r.create("SHA-384")},t.md.sha384=t.md.algorithms.sha384=a,t.sha512.sha256=t.sha512.sha256||{create:function(){return r.create("SHA-512/256")}},t.md["sha512/256"]=t.md.algorithms["sha512/256"]=t.sha512.sha256,t.sha512.sha224=t.sha512.sha224||{create:function(){return r.create("SHA-512/224")}},t.md["sha512/224"]=t.md.algorithms["sha512/224"]=t.sha512.sha224,r.create=function(f){if(c||s(),typeof f>"u"&&(f="SHA-512"),!(f in l))throw new Error("Invalid SHA-512 algorithm: "+f);for(var g=l[f],I=null,C=t.util.createBuffer(),_=new Array(80),T=0;T<80;++T)_[T]=new Array(2);var B=64;switch(f){case"SHA-384":B=48;break;case"SHA-512/256":B=32;break;case"SHA-512/224":B=28;break}var P={algorithm:f.replace("-","").toLowerCase(),blockLength:128,digestLength:B,messageLength:0,fullMessageLength:null,messageLengthSize:16};return P.start=function(){P.messageLength=0,P.fullMessageLength=P.messageLength128=[];for(var p=P.messageLengthSize/4,A=0;A<p;++A)P.fullMessageLength.push(0);C=t.util.createBuffer(),I=new Array(g.length);for(var A=0;A<g.length;++A)I[A]=g[A].slice(0);return P},P.start(),P.update=function(p,A){A==="utf8"&&(p=t.util.encodeUtf8(p));var S=p.length;P.messageLength+=S,S=[S/4294967296>>>0,S>>>0];for(var N=P.fullMessageLength.length-1;N>=0;--N)P.fullMessageLength[N]+=S[1],S[1]=S[0]+(P.fullMessageLength[N]/4294967296>>>0),P.fullMessageLength[N]=P.fullMessageLength[N]>>>0,S[0]=S[1]/4294967296>>>0;return C.putBytes(p),d(I,_,C),(C.read>2048||C.length()===0)&&C.compact(),P},P.digest=function(){var p=t.util.createBuffer();p.putBytes(C.bytes());var A=P.fullMessageLength[P.fullMessageLength.length-1]+P.messageLengthSize,S=A&P.blockLength-1;p.putBytes(u.substr(0,P.blockLength-S));for(var N,D,E=P.fullMessageLength[0]*8,m=0;m<P.fullMessageLength.length-1;++m)N=P.fullMessageLength[m+1]*8,D=N/4294967296>>>0,E+=D,p.putInt32(E>>>0),E=N>>>0;p.putInt32(E);for(var y=new Array(I.length),m=0;m<I.length;++m)y[m]=I[m].slice(0);d(y,_,p);var q=t.util.createBuffer(),M;f==="SHA-512"?M=y.length:f==="SHA-384"?M=y.length-2:M=y.length-4;for(var m=0;m<M;++m)q.putInt32(y[m][0]),(m!==M-1||f!=="SHA-512/224")&&q.putInt32(y[m][1]);return q},P};var u=null,c=!1,h=null,l=null;function s(){u=String.fromCharCode(128),u+=t.util.fillString(String.fromCharCode(0),128),h=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],l={},l["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],l["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],l["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],l["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],c=!0}function d(f,g,I){for(var C,_,T,B,P,p,A,S,N,D,E,m,y,q,M,V,w,L,j,O,F,J,oe,se,de,ke,Oe,Ve,Ee,We,Ce,et,Xe,x,Y,G=I.length();G>=128;){for(Ee=0;Ee<16;++Ee)g[Ee][0]=I.getInt32()>>>0,g[Ee][1]=I.getInt32()>>>0;for(;Ee<80;++Ee)et=g[Ee-2],We=et[0],Ce=et[1],C=((We>>>19|Ce<<13)^(Ce>>>29|We<<3)^We>>>6)>>>0,_=((We<<13|Ce>>>19)^(Ce<<3|We>>>29)^(We<<26|Ce>>>6))>>>0,x=g[Ee-15],We=x[0],Ce=x[1],T=((We>>>1|Ce<<31)^(We>>>8|Ce<<24)^We>>>7)>>>0,B=((We<<31|Ce>>>1)^(We<<24|Ce>>>8)^(We<<25|Ce>>>7))>>>0,Xe=g[Ee-7],Y=g[Ee-16],Ce=_+Xe[1]+B+Y[1],g[Ee][0]=C+Xe[0]+T+Y[0]+(Ce/4294967296>>>0)>>>0,g[Ee][1]=Ce>>>0;for(y=f[0][0],q=f[0][1],M=f[1][0],V=f[1][1],w=f[2][0],L=f[2][1],j=f[3][0],O=f[3][1],F=f[4][0],J=f[4][1],oe=f[5][0],se=f[5][1],de=f[6][0],ke=f[6][1],Oe=f[7][0],Ve=f[7][1],Ee=0;Ee<80;++Ee)A=((F>>>14|J<<18)^(F>>>18|J<<14)^(J>>>9|F<<23))>>>0,S=((F<<18|J>>>14)^(F<<14|J>>>18)^(J<<23|F>>>9))>>>0,N=(de^F&(oe^de))>>>0,D=(ke^J&(se^ke))>>>0,P=((y>>>28|q<<4)^(q>>>2|y<<30)^(q>>>7|y<<25))>>>0,p=((y<<4|q>>>28)^(q<<30|y>>>2)^(q<<25|y>>>7))>>>0,E=(y&M|w&(y^M))>>>0,m=(q&V|L&(q^V))>>>0,Ce=Ve+S+D+h[Ee][1]+g[Ee][1],C=Oe+A+N+h[Ee][0]+g[Ee][0]+(Ce/4294967296>>>0)>>>0,_=Ce>>>0,Ce=p+m,T=P+E+(Ce/4294967296>>>0)>>>0,B=Ce>>>0,Oe=de,Ve=ke,de=oe,ke=se,oe=F,se=J,Ce=O+_,F=j+C+(Ce/4294967296>>>0)>>>0,J=Ce>>>0,j=w,O=L,w=M,L=V,M=y,V=q,Ce=_+B,y=C+T+(Ce/4294967296>>>0)>>>0,q=Ce>>>0;Ce=f[0][1]+q,f[0][0]=f[0][0]+y+(Ce/4294967296>>>0)>>>0,f[0][1]=Ce>>>0,Ce=f[1][1]+V,f[1][0]=f[1][0]+M+(Ce/4294967296>>>0)>>>0,f[1][1]=Ce>>>0,Ce=f[2][1]+L,f[2][0]=f[2][0]+w+(Ce/4294967296>>>0)>>>0,f[2][1]=Ce>>>0,Ce=f[3][1]+O,f[3][0]=f[3][0]+j+(Ce/4294967296>>>0)>>>0,f[3][1]=Ce>>>0,Ce=f[4][1]+J,f[4][0]=f[4][0]+F+(Ce/4294967296>>>0)>>>0,f[4][1]=Ce>>>0,Ce=f[5][1]+se,f[5][0]=f[5][0]+oe+(Ce/4294967296>>>0)>>>0,f[5][1]=Ce>>>0,Ce=f[6][1]+ke,f[6][0]=f[6][0]+de+(Ce/4294967296>>>0)>>>0,f[6][1]=Ce>>>0,Ce=f[7][1]+Ve,f[7][0]=f[7][0]+Oe+(Ce/4294967296>>>0)>>>0,f[7][1]=Ce>>>0,G-=128}}}),kA=Qe(e=>{var n=lt();Ri();var t=n.asn1;e.privateKeyValidator={name:"PrivateKeyInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},e.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:t.Class.UNIVERSAL,type:t.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}}),PA=Qe((e,n)=>{var t=lt();nh(),oi(),z1(),St();var r=kA(),a=r.publicKeyValidator,u=r.privateKeyValidator;typeof c>"u"&&(c=t.jsbn.BigInteger);var c,h=t.util.ByteBuffer,l=typeof Buffer>"u"?Uint8Array:Buffer;t.pki=t.pki||{},n.exports=t.pki.ed25519=t.ed25519=t.ed25519||{};var s=t.ed25519;s.constants={},s.constants.PUBLIC_KEY_BYTE_LENGTH=32,s.constants.PRIVATE_KEY_BYTE_LENGTH=64,s.constants.SEED_BYTE_LENGTH=32,s.constants.SIGN_BYTE_LENGTH=64,s.constants.HASH_BYTE_LENGTH=64,s.generateKeyPair=function(x){x=x||{};var Y=x.seed;if(Y===void 0)Y=t.random.getBytesSync(s.constants.SEED_BYTE_LENGTH);else if(typeof Y=="string"){if(Y.length!==s.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+s.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(Y instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');Y=d({message:Y,encoding:"binary"});for(var G=new l(s.constants.PUBLIC_KEY_BYTE_LENGTH),R=new l(s.constants.PRIVATE_KEY_BYTE_LENGTH),H=0;H<32;++H)R[H]=Y[H];return A(G,R),{publicKey:G,privateKey:R}},s.privateKeyFromAsn1=function(x){var Y={},G=[],R=t.asn1.validate(x,u,Y,G);if(!R){var H=new Error("Invalid Key.");throw H.errors=G,H}var ie=t.asn1.derToOid(Y.privateKeyOid),ee=t.oids.EdDSA25519;if(ie!==ee)throw new Error('Invalid OID "'+ie+'"; OID must be "'+ee+'".');var _e=Y.privateKey,Le=d({message:t.asn1.fromDer(_e).value,encoding:"binary"});return{privateKeyBytes:Le}},s.publicKeyFromAsn1=function(x){var Y={},G=[],R=t.asn1.validate(x,a,Y,G);if(!R){var H=new Error("Invalid Key.");throw H.errors=G,H}var ie=t.asn1.derToOid(Y.publicKeyOid),ee=t.oids.EdDSA25519;if(ie!==ee)throw new Error('Invalid OID "'+ie+'"; OID must be "'+ee+'".');var _e=Y.ed25519PublicKey;if(_e.length!==s.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return d({message:_e,encoding:"binary"})},s.publicKeyFromPrivateKey=function(x){x=x||{};var Y=d({message:x.privateKey,encoding:"binary"});if(Y.length!==s.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+s.constants.PRIVATE_KEY_BYTE_LENGTH);for(var G=new l(s.constants.PUBLIC_KEY_BYTE_LENGTH),R=0;R<G.length;++R)G[R]=Y[32+R];return G},s.sign=function(x){x=x||{};var Y=d(x),G=d({message:x.privateKey,encoding:"binary"});if(G.length===s.constants.SEED_BYTE_LENGTH){var R=s.generateKeyPair({seed:G});G=R.privateKey}else if(G.length!==s.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+s.constants.SEED_BYTE_LENGTH+" or "+s.constants.PRIVATE_KEY_BYTE_LENGTH);var H=new l(s.constants.SIGN_BYTE_LENGTH+Y.length);S(H,Y,Y.length,G);for(var ie=new l(s.constants.SIGN_BYTE_LENGTH),ee=0;ee<ie.length;++ee)ie[ee]=H[ee];return ie},s.verify=function(x){x=x||{};var Y=d(x);if(x.signature===void 0)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var G=d({message:x.signature,encoding:"binary"});if(G.length!==s.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+s.constants.SIGN_BYTE_LENGTH);var R=d({message:x.publicKey,encoding:"binary"});if(R.length!==s.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+s.constants.PUBLIC_KEY_BYTE_LENGTH);var H=new l(s.constants.SIGN_BYTE_LENGTH+Y.length),ie=new l(s.constants.SIGN_BYTE_LENGTH+Y.length),ee;for(ee=0;ee<s.constants.SIGN_BYTE_LENGTH;++ee)H[ee]=G[ee];for(ee=0;ee<Y.length;++ee)H[ee+s.constants.SIGN_BYTE_LENGTH]=Y[ee];return N(ie,H,H.length,R)>=0};function d(x){var Y=x.message;if(Y instanceof Uint8Array||Y instanceof l)return Y;var G=x.encoding;if(Y===void 0)if(x.md)Y=x.md.digest().getBytes(),G="binary";else throw new TypeError('"options.message" or "options.md" not specified.');if(typeof Y=="string"&&!G)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if(typeof Y=="string"){if(typeof Buffer<"u")return Buffer.from(Y,G);Y=new h(Y,G)}else if(!(Y instanceof h))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var R=new l(Y.length()),H=0;H<R.length;++H)R[H]=Y.at(H);return R}var f=Ee(),g=Ee([1]),I=Ee([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),C=Ee([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),_=Ee([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),T=Ee([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),B=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),P=Ee([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function p(x,Y){var G=t.md.sha512.create(),R=new h(x);G.update(R.getBytes(Y),"binary");var H=G.digest().getBytes();if(typeof Buffer<"u")return Buffer.from(H,"binary");for(var ie=new l(s.constants.HASH_BYTE_LENGTH),ee=0;ee<64;++ee)ie[ee]=H.charCodeAt(ee);return ie}function A(x,Y){var G=[Ee(),Ee(),Ee(),Ee()],R,H=p(Y,32);for(H[0]&=248,H[31]&=127,H[31]|=64,se(G,H),q(x,G),R=0;R<32;++R)Y[R+32]=x[R];return 0}function S(x,Y,G,R){var H,ie,ee=new Float64Array(64),_e=[Ee(),Ee(),Ee(),Ee()],Le=p(R,32);Le[0]&=248,Le[31]&=127,Le[31]|=64;var je=G+64;for(H=0;H<G;++H)x[64+H]=Y[H];for(H=0;H<32;++H)x[32+H]=Le[32+H];var ye=p(x.subarray(32),G+32);for(E(ye),se(_e,ye),q(x,_e),H=32;H<64;++H)x[H]=R[H];var Ne=p(x,G+64);for(E(Ne),H=32;H<64;++H)ee[H]=0;for(H=0;H<32;++H)ee[H]=ye[H];for(H=0;H<32;++H)for(ie=0;ie<32;ie++)ee[H+ie]+=Ne[H]*Le[ie];return D(x.subarray(32),ee),je}function N(x,Y,G,R){var H,ie,ee=new l(32),_e=[Ee(),Ee(),Ee(),Ee()],Le=[Ee(),Ee(),Ee(),Ee()];if(ie=-1,G<64||V(Le,R))return-1;for(H=0;H<G;++H)x[H]=Y[H];for(H=0;H<32;++H)x[H+32]=R[H];var je=p(x,G);if(E(je),oe(_e,Le,je),se(Le,Y.subarray(32)),m(_e,Le),q(ee,_e),G-=64,O(Y,0,ee,0)){for(H=0;H<G;++H)x[H]=0;return-1}for(H=0;H<G;++H)x[H]=Y[H+64];return ie=G,ie}function D(x,Y){var G,R,H,ie;for(R=63;R>=32;--R){for(G=0,H=R-32,ie=R-12;H<ie;++H)Y[H]+=G-16*Y[R]*B[H-(R-32)],G=Y[H]+128>>8,Y[H]-=G*256;Y[H]+=G,Y[R]=0}for(G=0,H=0;H<32;++H)Y[H]+=G-(Y[31]>>4)*B[H],G=Y[H]>>8,Y[H]&=255;for(H=0;H<32;++H)Y[H]-=G*B[H];for(R=0;R<32;++R)Y[R+1]+=Y[R]>>8,x[R]=Y[R]&255}function E(x){for(var Y=new Float64Array(64),G=0;G<64;++G)Y[G]=x[G],x[G]=0;D(x,Y)}function m(x,Y){var G=Ee(),R=Ee(),H=Ee(),ie=Ee(),ee=Ee(),_e=Ee(),Le=Ee(),je=Ee(),ye=Ee();Ce(G,x[1],x[0]),Ce(ye,Y[1],Y[0]),Xe(G,G,ye),We(R,x[0],x[1]),We(ye,Y[0],Y[1]),Xe(R,R,ye),Xe(H,x[3],Y[3]),Xe(H,H,C),Xe(ie,x[2],Y[2]),We(ie,ie,ie),Ce(ee,R,G),Ce(_e,ie,H),We(Le,ie,H),We(je,R,G),Xe(x[0],ee,_e),Xe(x[1],je,Le),Xe(x[2],Le,_e),Xe(x[3],ee,je)}function y(x,Y,G){for(var R=0;R<4;++R)Ve(x[R],Y[R],G)}function q(x,Y){var G=Ee(),R=Ee(),H=Ee();ke(H,Y[2]),Xe(G,Y[0],H),Xe(R,Y[1],H),M(x,R),x[31]^=J(G)<<7}function M(x,Y){var G,R,H,ie=Ee(),ee=Ee();for(G=0;G<16;++G)ee[G]=Y[G];for(Oe(ee),Oe(ee),Oe(ee),R=0;R<2;++R){for(ie[0]=ee[0]-65517,G=1;G<15;++G)ie[G]=ee[G]-65535-(ie[G-1]>>16&1),ie[G-1]&=65535;ie[15]=ee[15]-32767-(ie[14]>>16&1),H=ie[15]>>16&1,ie[14]&=65535,Ve(ee,ie,1-H)}for(G=0;G<16;G++)x[2*G]=ee[G]&255,x[2*G+1]=ee[G]>>8}function V(x,Y){var G=Ee(),R=Ee(),H=Ee(),ie=Ee(),ee=Ee(),_e=Ee(),Le=Ee();return de(x[2],g),w(x[1],Y),et(H,x[1]),Xe(ie,H,I),Ce(H,H,x[2]),We(ie,x[2],ie),et(ee,ie),et(_e,ee),Xe(Le,_e,ee),Xe(G,Le,H),Xe(G,G,ie),L(G,G),Xe(G,G,H),Xe(G,G,ie),Xe(G,G,ie),Xe(x[0],G,ie),et(R,x[0]),Xe(R,R,ie),j(R,H)&&Xe(x[0],x[0],P),et(R,x[0]),Xe(R,R,ie),j(R,H)?-1:(J(x[0])===Y[31]>>7&&Ce(x[0],f,x[0]),Xe(x[3],x[0],x[1]),0)}function w(x,Y){var G;for(G=0;G<16;++G)x[G]=Y[2*G]+(Y[2*G+1]<<8);x[15]&=32767}function L(x,Y){var G=Ee(),R;for(R=0;R<16;++R)G[R]=Y[R];for(R=250;R>=0;--R)et(G,G),R!==1&&Xe(G,G,Y);for(R=0;R<16;++R)x[R]=G[R]}function j(x,Y){var G=new l(32),R=new l(32);return M(G,x),M(R,Y),O(G,0,R,0)}function O(x,Y,G,R){return F(x,Y,G,R,32)}function F(x,Y,G,R,H){var ie,ee=0;for(ie=0;ie<H;++ie)ee|=x[Y+ie]^G[R+ie];return(1&ee-1>>>8)-1}function J(x){var Y=new l(32);return M(Y,x),Y[0]&1}function oe(x,Y,G){var R,H;for(de(x[0],f),de(x[1],g),de(x[2],g),de(x[3],f),H=255;H>=0;--H)R=G[H/8|0]>>(H&7)&1,y(x,Y,R),m(Y,x),m(x,x),y(x,Y,R)}function se(x,Y){var G=[Ee(),Ee(),Ee(),Ee()];de(G[0],_),de(G[1],T),de(G[2],g),Xe(G[3],_,T),oe(x,G,Y)}function de(x,Y){var G;for(G=0;G<16;G++)x[G]=Y[G]|0}function ke(x,Y){var G=Ee(),R;for(R=0;R<16;++R)G[R]=Y[R];for(R=253;R>=0;--R)et(G,G),R!==2&&R!==4&&Xe(G,G,Y);for(R=0;R<16;++R)x[R]=G[R]}function Oe(x){var Y,G,R=1;for(Y=0;Y<16;++Y)G=x[Y]+R+65535,R=Math.floor(G/65536),x[Y]=G-R*65536;x[0]+=R-1+37*(R-1)}function Ve(x,Y,G){for(var R,H=~(G-1),ie=0;ie<16;++ie)R=H&(x[ie]^Y[ie]),x[ie]^=R,Y[ie]^=R}function Ee(x){var Y,G=new Float64Array(16);if(x)for(Y=0;Y<x.length;++Y)G[Y]=x[Y];return G}function We(x,Y,G){for(var R=0;R<16;++R)x[R]=Y[R]+G[R]}function Ce(x,Y,G){for(var R=0;R<16;++R)x[R]=Y[R]-G[R]}function et(x,Y){Xe(x,Y,Y)}function Xe(x,Y,G){var R,H,ie=0,ee=0,_e=0,Le=0,je=0,ye=0,Ne=0,He=0,rt=0,$e=0,kt=0,Et=0,Ct=0,Nt=0,Pt=0,Ot=0,zt=0,Yt=0,$t=0,Kt=0,ur=0,Er=0,yr=0,Vr=0,un=0,Qr=0,Yr=0,bn=0,ui=0,qr=0,On=0,Lt=G[0],Ut=G[1],Zt=G[2],Dt=G[3],Ht=G[4],Xt=G[5],Wt=G[6],Gt=G[7],tr=G[8],rr=G[9],nr=G[10],Jt=G[11],ir=G[12],lr=G[13],Mt=G[14],er=G[15];R=Y[0],ie+=R*Lt,ee+=R*Ut,_e+=R*Zt,Le+=R*Dt,je+=R*Ht,ye+=R*Xt,Ne+=R*Wt,He+=R*Gt,rt+=R*tr,$e+=R*rr,kt+=R*nr,Et+=R*Jt,Ct+=R*ir,Nt+=R*lr,Pt+=R*Mt,Ot+=R*er,R=Y[1],ee+=R*Lt,_e+=R*Ut,Le+=R*Zt,je+=R*Dt,ye+=R*Ht,Ne+=R*Xt,He+=R*Wt,rt+=R*Gt,$e+=R*tr,kt+=R*rr,Et+=R*nr,Ct+=R*Jt,Nt+=R*ir,Pt+=R*lr,Ot+=R*Mt,zt+=R*er,R=Y[2],_e+=R*Lt,Le+=R*Ut,je+=R*Zt,ye+=R*Dt,Ne+=R*Ht,He+=R*Xt,rt+=R*Wt,$e+=R*Gt,kt+=R*tr,Et+=R*rr,Ct+=R*nr,Nt+=R*Jt,Pt+=R*ir,Ot+=R*lr,zt+=R*Mt,Yt+=R*er,R=Y[3],Le+=R*Lt,je+=R*Ut,ye+=R*Zt,Ne+=R*Dt,He+=R*Ht,rt+=R*Xt,$e+=R*Wt,kt+=R*Gt,Et+=R*tr,Ct+=R*rr,Nt+=R*nr,Pt+=R*Jt,Ot+=R*ir,zt+=R*lr,Yt+=R*Mt,$t+=R*er,R=Y[4],je+=R*Lt,ye+=R*Ut,Ne+=R*Zt,He+=R*Dt,rt+=R*Ht,$e+=R*Xt,kt+=R*Wt,Et+=R*Gt,Ct+=R*tr,Nt+=R*rr,Pt+=R*nr,Ot+=R*Jt,zt+=R*ir,Yt+=R*lr,$t+=R*Mt,Kt+=R*er,R=Y[5],ye+=R*Lt,Ne+=R*Ut,He+=R*Zt,rt+=R*Dt,$e+=R*Ht,kt+=R*Xt,Et+=R*Wt,Ct+=R*Gt,Nt+=R*tr,Pt+=R*rr,Ot+=R*nr,zt+=R*Jt,Yt+=R*ir,$t+=R*lr,Kt+=R*Mt,ur+=R*er,R=Y[6],Ne+=R*Lt,He+=R*Ut,rt+=R*Zt,$e+=R*Dt,kt+=R*Ht,Et+=R*Xt,Ct+=R*Wt,Nt+=R*Gt,Pt+=R*tr,Ot+=R*rr,zt+=R*nr,Yt+=R*Jt,$t+=R*ir,Kt+=R*lr,ur+=R*Mt,Er+=R*er,R=Y[7],He+=R*Lt,rt+=R*Ut,$e+=R*Zt,kt+=R*Dt,Et+=R*Ht,Ct+=R*Xt,Nt+=R*Wt,Pt+=R*Gt,Ot+=R*tr,zt+=R*rr,Yt+=R*nr,$t+=R*Jt,Kt+=R*ir,ur+=R*lr,Er+=R*Mt,yr+=R*er,R=Y[8],rt+=R*Lt,$e+=R*Ut,kt+=R*Zt,Et+=R*Dt,Ct+=R*Ht,Nt+=R*Xt,Pt+=R*Wt,Ot+=R*Gt,zt+=R*tr,Yt+=R*rr,$t+=R*nr,Kt+=R*Jt,ur+=R*ir,Er+=R*lr,yr+=R*Mt,Vr+=R*er,R=Y[9],$e+=R*Lt,kt+=R*Ut,Et+=R*Zt,Ct+=R*Dt,Nt+=R*Ht,Pt+=R*Xt,Ot+=R*Wt,zt+=R*Gt,Yt+=R*tr,$t+=R*rr,Kt+=R*nr,ur+=R*Jt,Er+=R*ir,yr+=R*lr,Vr+=R*Mt,un+=R*er,R=Y[10],kt+=R*Lt,Et+=R*Ut,Ct+=R*Zt,Nt+=R*Dt,Pt+=R*Ht,Ot+=R*Xt,zt+=R*Wt,Yt+=R*Gt,$t+=R*tr,Kt+=R*rr,ur+=R*nr,Er+=R*Jt,yr+=R*ir,Vr+=R*lr,un+=R*Mt,Qr+=R*er,R=Y[11],Et+=R*Lt,Ct+=R*Ut,Nt+=R*Zt,Pt+=R*Dt,Ot+=R*Ht,zt+=R*Xt,Yt+=R*Wt,$t+=R*Gt,Kt+=R*tr,ur+=R*rr,Er+=R*nr,yr+=R*Jt,Vr+=R*ir,un+=R*lr,Qr+=R*Mt,Yr+=R*er,R=Y[12],Ct+=R*Lt,Nt+=R*Ut,Pt+=R*Zt,Ot+=R*Dt,zt+=R*Ht,Yt+=R*Xt,$t+=R*Wt,Kt+=R*Gt,ur+=R*tr,Er+=R*rr,yr+=R*nr,Vr+=R*Jt,un+=R*ir,Qr+=R*lr,Yr+=R*Mt,bn+=R*er,R=Y[13],Nt+=R*Lt,Pt+=R*Ut,Ot+=R*Zt,zt+=R*Dt,Yt+=R*Ht,$t+=R*Xt,Kt+=R*Wt,ur+=R*Gt,Er+=R*tr,yr+=R*rr,Vr+=R*nr,un+=R*Jt,Qr+=R*ir,Yr+=R*lr,bn+=R*Mt,ui+=R*er,R=Y[14],Pt+=R*Lt,Ot+=R*Ut,zt+=R*Zt,Yt+=R*Dt,$t+=R*Ht,Kt+=R*Xt,ur+=R*Wt,Er+=R*Gt,yr+=R*tr,Vr+=R*rr,un+=R*nr,Qr+=R*Jt,Yr+=R*ir,bn+=R*lr,ui+=R*Mt,qr+=R*er,R=Y[15],Ot+=R*Lt,zt+=R*Ut,Yt+=R*Zt,$t+=R*Dt,Kt+=R*Ht,ur+=R*Xt,Er+=R*Wt,yr+=R*Gt,Vr+=R*tr,un+=R*rr,Qr+=R*nr,Yr+=R*Jt,bn+=R*ir,ui+=R*lr,qr+=R*Mt,On+=R*er,ie+=38*zt,ee+=38*Yt,_e+=38*$t,Le+=38*Kt,je+=38*ur,ye+=38*Er,Ne+=38*yr,He+=38*Vr,rt+=38*un,$e+=38*Qr,kt+=38*Yr,Et+=38*bn,Ct+=38*ui,Nt+=38*qr,Pt+=38*On,H=1,R=ie+H+65535,H=Math.floor(R/65536),ie=R-H*65536,R=ee+H+65535,H=Math.floor(R/65536),ee=R-H*65536,R=_e+H+65535,H=Math.floor(R/65536),_e=R-H*65536,R=Le+H+65535,H=Math.floor(R/65536),Le=R-H*65536,R=je+H+65535,H=Math.floor(R/65536),je=R-H*65536,R=ye+H+65535,H=Math.floor(R/65536),ye=R-H*65536,R=Ne+H+65535,H=Math.floor(R/65536),Ne=R-H*65536,R=He+H+65535,H=Math.floor(R/65536),He=R-H*65536,R=rt+H+65535,H=Math.floor(R/65536),rt=R-H*65536,R=$e+H+65535,H=Math.floor(R/65536),$e=R-H*65536,R=kt+H+65535,H=Math.floor(R/65536),kt=R-H*65536,R=Et+H+65535,H=Math.floor(R/65536),Et=R-H*65536,R=Ct+H+65535,H=Math.floor(R/65536),Ct=R-H*65536,R=Nt+H+65535,H=Math.floor(R/65536),Nt=R-H*65536,R=Pt+H+65535,H=Math.floor(R/65536),Pt=R-H*65536,R=Ot+H+65535,H=Math.floor(R/65536),Ot=R-H*65536,ie+=H-1+37*(H-1),H=1,R=ie+H+65535,H=Math.floor(R/65536),ie=R-H*65536,R=ee+H+65535,H=Math.floor(R/65536),ee=R-H*65536,R=_e+H+65535,H=Math.floor(R/65536),_e=R-H*65536,R=Le+H+65535,H=Math.floor(R/65536),Le=R-H*65536,R=je+H+65535,H=Math.floor(R/65536),je=R-H*65536,R=ye+H+65535,H=Math.floor(R/65536),ye=R-H*65536,R=Ne+H+65535,H=Math.floor(R/65536),Ne=R-H*65536,R=He+H+65535,H=Math.floor(R/65536),He=R-H*65536,R=rt+H+65535,H=Math.floor(R/65536),rt=R-H*65536,R=$e+H+65535,H=Math.floor(R/65536),$e=R-H*65536,R=kt+H+65535,H=Math.floor(R/65536),kt=R-H*65536,R=Et+H+65535,H=Math.floor(R/65536),Et=R-H*65536,R=Ct+H+65535,H=Math.floor(R/65536),Ct=R-H*65536,R=Nt+H+65535,H=Math.floor(R/65536),Nt=R-H*65536,R=Pt+H+65535,H=Math.floor(R/65536),Pt=R-H*65536,R=Ot+H+65535,H=Math.floor(R/65536),Ot=R-H*65536,ie+=H-1+37*(H-1),x[0]=ie,x[1]=ee,x[2]=_e,x[3]=Le,x[4]=je,x[5]=ye,x[6]=Ne,x[7]=He,x[8]=rt,x[9]=$e,x[10]=kt,x[11]=Et,x[12]=Ct,x[13]=Nt,x[14]=Pt,x[15]=Ot}}),BA=Qe((e,n)=>{var t=lt();St(),oi(),nh(),n.exports=t.kem=t.kem||{};var r=t.jsbn.BigInteger;t.kem.rsa={},t.kem.rsa.create=function(u,c){c=c||{};var h=c.prng||t.random,l={};return l.encrypt=function(s,d){var f=Math.ceil(s.n.bitLength()/8),g;do g=new r(t.util.bytesToHex(h.getBytesSync(f)),16).mod(s.n);while(g.compareTo(r.ONE)<=0);g=t.util.hexToBytes(g.toString(16));var I=f-g.length;I>0&&(g=t.util.fillString(String.fromCharCode(0),I)+g);var C=s.encrypt(g,"NONE"),_=u.generate(g,d);return{encapsulation:C,key:_}},l.decrypt=function(s,d,f){var g=s.decrypt(d,"NONE");return u.generate(g,f)},l},t.kem.kdf1=function(u,c){a(this,u,0,c||u.digestLength)},t.kem.kdf2=function(u,c){a(this,u,1,c||u.digestLength)};function a(u,c,h,l){u.generate=function(s,d){for(var f=new t.util.ByteBuffer,g=Math.ceil(d/l)+h,I=new t.util.ByteBuffer,C=h;C<g;++C){I.putInt32(C),c.start(),c.update(s+I.getBytes());var _=c.digest();f.putBytes(_.getBytes(l))}return f.truncate(f.length()-d),f.getBytes()}}}),NA=Qe((e,n)=>{var t=lt();St(),n.exports=t.log=t.log||{},t.log.levels=["none","error","warning","info","debug","verbose","max"];var r={},a=[],u=null;for(t.log.LEVEL_LOCKED=2,t.log.NO_LEVEL_CHECK=4,t.log.INTERPOLATE=8,l=0;l<t.log.levels.length;++l)c=t.log.levels[l],r[c]={index:l,name:c.toUpperCase()};var c,l;for(t.log.logMessage=function(C){for(var _=r[C.level].index,T=0;T<a.length;++T){var B=a[T];if(B.flags&t.log.NO_LEVEL_CHECK)B.f(C);else{var P=r[B.level].index;_<=P&&B.f(B,C)}}},t.log.prepareStandard=function(C){"standard"in C||(C.standard=r[C.level].name+" ["+C.category+"] "+C.message)},t.log.prepareFull=function(C){if(!("full"in C)){var _=[C.message];_=_.concat([]),C.full=t.util.format.apply(this,_)}},t.log.prepareStandardFull=function(C){"standardFull"in C||(t.log.prepareStandard(C),C.standardFull=C.standard)},h=["error","warning","info","debug","verbose"],l=0;l<h.length;++l)(function(C){t.log[C]=function(_,T){var B=Array.prototype.slice.call(arguments).slice(2),P={timestamp:new Date,level:C,category:_,message:T,arguments:B};t.log.logMessage(P)}})(h[l]);var h,l;t.log.makeLogger=function(C){var _={flags:0,f:C};return t.log.setLevel(_,"none"),_},t.log.setLevel=function(C,_){var T=!1;if(C&&!(C.flags&t.log.LEVEL_LOCKED))for(var B=0;B<t.log.levels.length;++B){var P=t.log.levels[B];if(_==P){C.level=_,T=!0;break}}return T},t.log.lock=function(C,_){typeof _>"u"||_?C.flags|=t.log.LEVEL_LOCKED:C.flags&=~t.log.LEVEL_LOCKED},t.log.addLogger=function(C){a.push(C)},typeof console<"u"&&"log"in console?(console.error&&console.warn&&console.info&&console.debug?(d={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},f=function(C,_){t.log.prepareStandard(_);var T=d[_.level],B=[_.standard];B=B.concat(_.arguments.slice()),T.apply(console,B)},s=t.log.makeLogger(f)):(f=function(C,_){t.log.prepareStandardFull(_),console.log(_.standardFull)},s=t.log.makeLogger(f)),t.log.setLevel(s,"debug"),t.log.addLogger(s),u=s):console={log:function(){}};var s,d,f;u!==null&&typeof window<"u"&&window.location&&(g=new URL(window.location.href).searchParams,g.has("console.level")&&t.log.setLevel(u,g.get("console.level").slice(-1)[0]),g.has("console.lock")&&(I=g.get("console.lock").slice(-1)[0],I=="true"&&t.log.lock(u)));var g,I;t.log.consoleLogger=u}),OA=Qe((e,n)=>{n.exports=ca(),xp(),$u(),N1(),z1()}),xA=Qe((e,n)=>{var t=lt();ks(),Ri(),rh(),Ps(),Ro(),j1(),oi(),St(),Dp();var r=t.asn1,a=n.exports=t.pkcs7=t.pkcs7||{};a.messageFromPem=function(_){var T=t.pem.decode(_)[0];if(T.type!=="PKCS7"){var B=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw B.headerType=T.type,B}if(T.procType&&T.procType.type==="ENCRYPTED")throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var P=r.fromDer(T.body);return a.messageFromAsn1(P)},a.messageToPem=function(_,T){var B={type:"PKCS7",body:r.toDer(_.toAsn1()).getBytes()};return t.pem.encode(B,{maxline:T})},a.messageFromAsn1=function(_){var T={},B=[];if(!r.validate(_,a.asn1.contentInfoValidator,T,B)){var P=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw P.errors=B,P}var p=r.derToOid(T.contentType),A;switch(p){case t.pki.oids.envelopedData:A=a.createEnvelopedData();break;case t.pki.oids.encryptedData:A=a.createEncryptedData();break;case t.pki.oids.signedData:A=a.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+p+" is not (yet) supported.")}return A.fromAsn1(T.content.value[0]),A},a.createSignedData=function(){var _=null;return _={type:t.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(P){if(I(_,P,a.asn1.signedDataValidator),_.certificates=[],_.crls=[],_.digestAlgorithmIdentifiers=[],_.contentInfo=null,_.signerInfos=[],_.rawCapture.certificates)for(var p=_.rawCapture.certificates.value,A=0;A<p.length;++A)_.certificates.push(t.pki.certificateFromAsn1(p[A]))},toAsn1:function(){_.contentInfo||_.sign();for(var P=[],p=0;p<_.certificates.length;++p)P.push(t.pki.certificateToAsn1(_.certificates[p]));var A=[],S=r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(_.version).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SET,!0,_.digestAlgorithmIdentifiers),_.contentInfo])]);return P.length>0&&S.value[0].value.push(r.create(r.Class.CONTEXT_SPECIFIC,0,!0,P)),A.length>0&&S.value[0].value.push(r.create(r.Class.CONTEXT_SPECIFIC,1,!0,A)),S.value[0].value.push(r.create(r.Class.UNIVERSAL,r.Type.SET,!0,_.signerInfos)),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(_.type).getBytes()),S])},addSigner:function(P){var p=P.issuer,A=P.serialNumber;if(P.certificate){var S=P.certificate;typeof S=="string"&&(S=t.pki.certificateFromPem(S)),p=S.issuer.attributes,A=S.serialNumber}var N=P.key;if(!N)throw new Error("Could not add PKCS#7 signer; no private key specified.");typeof N=="string"&&(N=t.pki.privateKeyFromPem(N));var D=P.digestAlgorithm||t.pki.oids.sha1;switch(D){case t.pki.oids.sha1:case t.pki.oids.sha256:case t.pki.oids.sha384:case t.pki.oids.sha512:case t.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+D)}var E=P.authenticatedAttributes||[];if(E.length>0){for(var m=!1,y=!1,q=0;q<E.length;++q){var M=E[q];if(!m&&M.type===t.pki.oids.contentType){if(m=!0,y)break;continue}if(!y&&M.type===t.pki.oids.messageDigest){if(y=!0,m)break;continue}}if(!m||!y)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}_.signers.push({key:N,version:1,issuer:p,serialNumber:A,digestAlgorithm:D,signatureAlgorithm:t.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:E,unauthenticatedAttributes:[]})},sign:function(P){if(P=P||{},(typeof _.content!="object"||_.contentInfo===null)&&(_.contentInfo=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(t.pki.oids.data).getBytes())]),"content"in _)){var p;_.content instanceof t.util.ByteBuffer?p=_.content.bytes():typeof _.content=="string"&&(p=t.util.encodeUtf8(_.content)),P.detached?_.detachedContent=r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,p):_.contentInfo.value.push(r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,p)]))}if(_.signers.length!==0){var A=T();B(A)}},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(P){typeof P=="string"&&(P=t.pki.certificateFromPem(P)),_.certificates.push(P)},addCertificateRevokationList:function(P){throw new Error("PKCS#7 CRL support not yet implemented.")}},_;function T(){for(var P={},p=0;p<_.signers.length;++p){var A=_.signers[p],S=A.digestAlgorithm;S in P||(P[S]=t.md[t.pki.oids[S]].create()),A.authenticatedAttributes.length===0?A.md=P[S]:A.md=t.md[t.pki.oids[S]].create()}_.digestAlgorithmIdentifiers=[];for(var S in P)_.digestAlgorithmIdentifiers.push(r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(S).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")]));return P}function B(P){var p;if(_.detachedContent?p=_.detachedContent:(p=_.contentInfo.value[1],p=p.value[0]),!p)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var A=r.derToOid(_.contentInfo.value[0].value),S=r.toDer(p);S.getByte(),r.getBerValueLength(S),S=S.getBytes();for(var N in P)P[N].start().update(S);for(var D=new Date,E=0;E<_.signers.length;++E){var m=_.signers[E];if(m.authenticatedAttributes.length===0){if(A!==t.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{m.authenticatedAttributesAsn1=r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var y=r.create(r.Class.UNIVERSAL,r.Type.SET,!0,[]),q=0;q<m.authenticatedAttributes.length;++q){var M=m.authenticatedAttributes[q];M.type===t.pki.oids.messageDigest?M.value=P[m.digestAlgorithm].digest():M.type===t.pki.oids.signingTime&&(M.value||(M.value=D)),y.value.push(f(M)),m.authenticatedAttributesAsn1.value.push(f(M))}S=r.toDer(y).getBytes(),m.md.start().update(S)}m.signature=m.key.sign(m.md,"RSASSA-PKCS1-V1_5")}_.signerInfos=d(_.signers)}},a.createEncryptedData=function(){var _=null;return _={type:t.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:t.pki.oids["aes256-CBC"]},fromAsn1:function(T){I(_,T,a.asn1.encryptedDataValidator)},decrypt:function(T){T!==void 0&&(_.encryptedContent.key=T),C(_)}},_},a.createEnvelopedData=function(){var _=null;return _={type:t.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:t.pki.oids["aes256-CBC"]},fromAsn1:function(T){var B=I(_,T,a.asn1.envelopedDataValidator);_.recipients=h(B.recipientInfos.value)},toAsn1:function(){return r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(_.type).getBytes()),r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(_.version).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SET,!0,l(_.recipients)),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,g(_.encryptedContent))])])])},findRecipient:function(T){for(var B=T.issuer.attributes,P=0;P<_.recipients.length;++P){var p=_.recipients[P],A=p.issuer;if(p.serialNumber===T.serialNumber&&A.length===B.length){for(var S=!0,N=0;N<B.length;++N)if(A[N].type!==B[N].type||A[N].value!==B[N].value){S=!1;break}if(S)return p}}return null},decrypt:function(T,B){if(_.encryptedContent.key===void 0&&T!==void 0&&B!==void 0)switch(T.encryptedContent.algorithm){case t.pki.oids.rsaEncryption:case t.pki.oids.desCBC:var P=B.decrypt(T.encryptedContent.content);_.encryptedContent.key=t.util.createBuffer(P);break;default:throw new Error("Unsupported asymmetric cipher, OID "+T.encryptedContent.algorithm)}C(_)},addRecipient:function(T){_.recipients.push({version:0,issuer:T.issuer.attributes,serialNumber:T.serialNumber,encryptedContent:{algorithm:t.pki.oids.rsaEncryption,key:T.publicKey}})},encrypt:function(T,B){if(_.encryptedContent.content===void 0){B=B||_.encryptedContent.algorithm,T=T||_.encryptedContent.key;var P,p,A;switch(B){case t.pki.oids["aes128-CBC"]:P=16,p=16,A=t.aes.createEncryptionCipher;break;case t.pki.oids["aes192-CBC"]:P=24,p=16,A=t.aes.createEncryptionCipher;break;case t.pki.oids["aes256-CBC"]:P=32,p=16,A=t.aes.createEncryptionCipher;break;case t.pki.oids["des-EDE3-CBC"]:P=24,p=8,A=t.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+B)}if(T===void 0)T=t.util.createBuffer(t.random.getBytes(P));else if(T.length()!=P)throw new Error("Symmetric key has wrong length; got "+T.length()+" bytes, expected "+P+".");_.encryptedContent.algorithm=B,_.encryptedContent.key=T,_.encryptedContent.parameter=t.util.createBuffer(t.random.getBytes(p));var S=A(T);if(S.start(_.encryptedContent.parameter.copy()),S.update(_.content),!S.finish())throw new Error("Symmetric encryption failed.");_.encryptedContent.content=S.output}for(var N=0;N<_.recipients.length;++N){var D=_.recipients[N];if(D.encryptedContent.content===void 0)switch(D.encryptedContent.algorithm){case t.pki.oids.rsaEncryption:D.encryptedContent.content=D.encryptedContent.key.encrypt(_.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+D.encryptedContent.algorithm)}}}},_};function u(_){var T={},B=[];if(!r.validate(_,a.asn1.recipientInfoValidator,T,B)){var P=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw P.errors=B,P}return{version:T.version.charCodeAt(0),issuer:t.pki.RDNAttributesAsArray(T.issuer),serialNumber:t.util.createBuffer(T.serial).toHex(),encryptedContent:{algorithm:r.derToOid(T.encAlgorithm),parameter:T.encParameter?T.encParameter.value:void 0,content:T.encKey}}}function c(_){return r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(_.version).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[t.pki.distinguishedNameToAsn1({attributes:_.issuer}),r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,t.util.hexToBytes(_.serialNumber))]),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(_.encryptedContent.algorithm).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")]),r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,_.encryptedContent.content)])}function h(_){for(var T=[],B=0;B<_.length;++B)T.push(u(_[B]));return T}function l(_){for(var T=[],B=0;B<_.length;++B)T.push(c(_[B]));return T}function s(_){var T=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(_.version).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[t.pki.distinguishedNameToAsn1({attributes:_.issuer}),r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,t.util.hexToBytes(_.serialNumber))]),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(_.digestAlgorithm).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")])]);if(_.authenticatedAttributesAsn1&&T.value.push(_.authenticatedAttributesAsn1),T.value.push(r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(_.signatureAlgorithm).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")])),T.value.push(r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,_.signature)),_.unauthenticatedAttributes.length>0){for(var B=r.create(r.Class.CONTEXT_SPECIFIC,1,!0,[]),P=0;P<_.unauthenticatedAttributes.length;++P){var p=_.unauthenticatedAttributes[P];B.values.push(f(p))}T.value.push(B)}return T}function d(_){for(var T=[],B=0;B<_.length;++B)T.push(s(_[B]));return T}function f(_){var T;if(_.type===t.pki.oids.contentType)T=r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(_.value).getBytes());else if(_.type===t.pki.oids.messageDigest)T=r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,_.value.bytes());else if(_.type===t.pki.oids.signingTime){var B=new Date("1950-01-01T00:00:00Z"),P=new Date("2050-01-01T00:00:00Z"),p=_.value;if(typeof p=="string"){var A=Date.parse(p);isNaN(A)?p.length===13?p=r.utcTimeToDate(p):p=r.generalizedTimeToDate(p):p=new Date(A)}p>=B&&p<P?T=r.create(r.Class.UNIVERSAL,r.Type.UTCTIME,!1,r.dateToUtcTime(p)):T=r.create(r.Class.UNIVERSAL,r.Type.GENERALIZEDTIME,!1,r.dateToGeneralizedTime(p))}return r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(_.type).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SET,!0,[T])])}function g(_){return[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(t.pki.oids.data).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(_.algorithm).getBytes()),_.parameter?r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,_.parameter.getBytes()):void 0]),r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,_.content.getBytes())])]}function I(_,T,B){var P={},p=[];if(!r.validate(T,B,P,p)){var A=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw A.errors=A,A}var S=r.derToOid(P.contentType);if(S!==t.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(P.encryptedContent){var N="";if(t.util.isArray(P.encryptedContent))for(var D=0;D<P.encryptedContent.length;++D){if(P.encryptedContent[D].type!==r.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");N+=P.encryptedContent[D].value}else N=P.encryptedContent;_.encryptedContent={algorithm:r.derToOid(P.encAlgorithm),parameter:t.util.createBuffer(P.encParameter.value),content:t.util.createBuffer(N)}}if(P.content){var N="";if(t.util.isArray(P.content))for(var D=0;D<P.content.length;++D){if(P.content[D].type!==r.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");N+=P.content[D].value}else N=P.content;_.content=t.util.createBuffer(N)}return _.version=P.version.charCodeAt(0),_.rawCapture=P,P}function C(_){if(_.encryptedContent.key===void 0)throw new Error("Symmetric key not available.");if(_.content===void 0){var T;switch(_.encryptedContent.algorithm){case t.pki.oids["aes128-CBC"]:case t.pki.oids["aes192-CBC"]:case t.pki.oids["aes256-CBC"]:T=t.aes.createDecryptionCipher(_.encryptedContent.key);break;case t.pki.oids.desCBC:case t.pki.oids["des-EDE3-CBC"]:T=t.des.createDecryptionCipher(_.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+_.encryptedContent.algorithm)}if(T.start(_.encryptedContent.parameter),T.update(_.encryptedContent.content),!T.finish())throw new Error("Symmetric decryption failed.");_.content=T.output}}}),LA=Qe((e,n)=>{var t=lt();ks(),zu(),xp(),$u(),St();var r=n.exports=t.ssh=t.ssh||{};r.privateKeyToPutty=function(h,l,s){s=s||"",l=l||"";var d="ssh-rsa",f=l===""?"none":"aes256-cbc",g="PuTTY-User-Key-File-2: "+d+`\r
`;g+="Encryption: "+f+`\r
`,g+="Comment: "+s+`\r
`;var I=t.util.createBuffer();u(I,d),a(I,h.e),a(I,h.n);var C=t.util.encode64(I.bytes(),64),_=Math.floor(C.length/66)+1;g+="Public-Lines: "+_+`\r
`,g+=C;var T=t.util.createBuffer();a(T,h.d),a(T,h.p),a(T,h.q),a(T,h.qInv);var B;if(!l)B=t.util.encode64(T.bytes(),64);else{var P=T.length()+16-1;P-=P%16;var p=c(T.bytes());p.truncate(p.length()-P+T.length()),T.putBuffer(p);var A=t.util.createBuffer();A.putBuffer(c("\0\0\0\0",l)),A.putBuffer(c("\0\0\0",l));var S=t.aes.createEncryptionCipher(A.truncate(8),"CBC");S.start(t.util.createBuffer().fillWithByte(0,16)),S.update(T.copy()),S.finish();var N=S.output;N.truncate(16),B=t.util.encode64(N.bytes(),64)}_=Math.floor(B.length/66)+1,g+=`\r
Private-Lines: `+_+`\r
`,g+=B;var D=c("putty-private-key-file-mac-key",l),E=t.util.createBuffer();u(E,d),u(E,f),u(E,s),E.putInt32(I.length()),E.putBuffer(I),E.putInt32(T.length()),E.putBuffer(T);var m=t.hmac.create();return m.start("sha1",D),m.update(E.bytes()),g+=`\r
Private-MAC: `+m.digest().toHex()+`\r
`,g},r.publicKeyToOpenSSH=function(h,l){var s="ssh-rsa";l=l||"";var d=t.util.createBuffer();return u(d,s),a(d,h.e),a(d,h.n),s+" "+t.util.encode64(d.bytes())+" "+l},r.privateKeyToOpenSSH=function(h,l){return l?t.pki.encryptRsaPrivateKey(h,l,{legacy:!0,algorithm:"aes128"}):t.pki.privateKeyToPem(h)},r.getPublicKeyFingerprint=function(h,l){l=l||{};var s=l.md||t.md.md5.create(),d="ssh-rsa",f=t.util.createBuffer();u(f,d),a(f,h.e),a(f,h.n),s.start(),s.update(f.getBytes());var g=s.digest();if(l.encoding==="hex"){var I=g.toHex();return l.delimiter?I.match(/.{2}/g).join(l.delimiter):I}else{if(l.encoding==="binary")return g.getBytes();if(l.encoding)throw new Error('Unknown encoding "'+l.encoding+'".')}return g};function a(h,l){var s=l.toString(16);s[0]>="8"&&(s="00"+s);var d=t.util.hexToBytes(s);h.putInt32(d.length),h.putBytes(d)}function u(h,l){h.putInt32(l.length),h.putString(l)}function c(){for(var h=t.md.sha1.create(),l=arguments.length,s=0;s<l;++s)h.update(arguments[s]);return h.digest()}}),$1=Qe((e,n)=>{n.exports=lt(),ks(),RA(),Ri(),Op(),rh(),PA(),zu(),BA(),NA(),OA(),V1(),Lp(),Ro(),L1(),q1(),xA(),F1(),U1(),O1(),Up(),oi(),x1(),LA(),M1(),St()});function UA(e,n){return K1(n,(t,r)=>`${e}/${r}`)}function K1(e,n=(t,r)=>`${t}: ${r}`){return Object.entries(e).reduce((t,[r,a])=>(t[r]=n(r,a),t),{})}var Ou={Itero:"https://itero.plasmo.com"},DA={Base:"/api/chrome-policy",Hash:"/api/chrome-policy/hash"},t8=UA(Ou.Itero,DA),r8=Io(vA(),1),Rm=65536;async function*yd(e,n=!0){for(let t of e)if("stream"in t)yield*t.stream();else if(ArrayBuffer.isView(t))if(n){let r=t.byteOffset,a=t.byteOffset+t.byteLength;for(;r!==a;){let u=Math.min(a-r,Rm),c=t.buffer.slice(r,r+u);r+=c.byteLength,yield new Uint8Array(c)}}else yield t;else{let r=0,a=t;for(;r!==a.size;){let u=await a.slice(r,Math.min(a.size,r+Rm)).arrayBuffer();r+=u.byteLength,yield new Uint8Array(u)}}}var H1=class Dd{#e=[];#r="";#t=0;#n="transparent";constructor(n=[],t={}){if(typeof n!="object"||n===null)throw new TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if(typeof n[Symbol.iterator]!="function")throw new TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if(typeof t!="object"&&typeof t!="function")throw new TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");t===null&&(t={});let r=new TextEncoder;for(let u of n){let c;ArrayBuffer.isView(u)?c=new Uint8Array(u.buffer.slice(u.byteOffset,u.byteOffset+u.byteLength)):u instanceof ArrayBuffer?c=new Uint8Array(u.slice(0)):u instanceof Dd?c=u:c=r.encode(`${u}`),this.#t+=ArrayBuffer.isView(c)?c.byteLength:c.size,this.#e.push(c)}this.#n=`${t.endings===void 0?"transparent":t.endings}`;let a=t.type===void 0?"":String(t.type);this.#r=/^[\x20-\x7E]*$/.test(a)?a:""}get size(){return this.#t}get type(){return this.#r}async text(){let n=new TextDecoder,t="";for await(let r of yd(this.#e,!1))t+=n.decode(r,{stream:!0});return t+=n.decode(),t}async arrayBuffer(){let n=new Uint8Array(this.size),t=0;for await(let r of yd(this.#e,!1))n.set(r,t),t+=r.length;return n.buffer}stream(){let n=yd(this.#e,!0);return new globalThis.ReadableStream({type:"bytes",async pull(t){let r=await n.next();r.done?t.close():t.enqueue(r.value)},async cancel(){await n.return()}})}slice(n=0,t=this.size,r=""){let{size:a}=this,u=n<0?Math.max(a+n,0):Math.min(n,a),c=t<0?Math.max(a+t,0):Math.min(t,a),h=Math.max(c-u,0),l=this.#e,s=[],d=0;for(let g of l){if(d>=h)break;let I=ArrayBuffer.isView(g)?g.byteLength:g.size;if(u&&I<=u)u-=I,c-=I;else{let C;ArrayBuffer.isView(g)?(C=g.subarray(u,Math.min(I,c)),d+=C.byteLength):(C=g.slice(u,Math.min(I,c)),d+=C.size),c-=I,s.push(C),u=0}}let f=new Dd([],{type:String(r).toLowerCase()});return f.#t=h,f.#e=s,f}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](n){return n&&typeof n=="object"&&typeof n.constructor=="function"&&(typeof n.stream=="function"||typeof n.arrayBuffer=="function")&&/^(Blob|File)$/.test(n[Symbol.toStringTag])}};Object.defineProperties(H1.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});var jA=H1,_c=jA,VA=(0,cA.createRequire)("/"),qA;try{qA=VA("worker_threads").Worker}catch{}var fr=Uint8Array,vn=Uint16Array,ah=Uint32Array,sh=new fr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),oh=new fr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),jd=new fr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),W1=function(e,n){for(var t=new vn(31),r=0;r<31;++r)t[r]=n+=1<<e[r-1];for(var a=new ah(t[30]),r=1;r<30;++r)for(var u=t[r];u<t[r+1];++u)a[u]=u-t[r]<<5|r;return[t,a]},G1=W1(sh,2),Q1=G1[0],Vd=G1[1];Q1[28]=258,Vd[258]=28;var Y1=W1(oh,0),FA=Y1[0],km=Y1[1],qd=new vn(32768);for(Rt=0;Rt<32768;++Rt)ta=(Rt&43690)>>>1|(Rt&21845)<<1,ta=(ta&52428)>>>2|(ta&13107)<<2,ta=(ta&61680)>>>4|(ta&3855)<<4,qd[Rt]=((ta&65280)>>>8|(ta&255)<<8)>>>1;var ta,Rt,Ai=function(e,n,t){for(var r=e.length,a=0,u=new vn(n);a<r;++a)e[a]&&++u[e[a]-1];var c=new vn(n);for(a=0;a<n;++a)c[a]=c[a-1]+u[a-1]<<1;var h;if(t){h=new vn(1<<n);var l=15-n;for(a=0;a<r;++a)if(e[a])for(var s=a<<4|e[a],d=n-e[a],f=c[e[a]-1]++<<d,g=f|(1<<d)-1;f<=g;++f)h[qd[f]>>>l]=s}else for(h=new vn(r),a=0;a<r;++a)e[a]&&(h[a]=qd[c[e[a]-1]++]>>>15-e[a]);return h},Fa=new fr(288);for(Rt=0;Rt<144;++Rt)Fa[Rt]=8;var Rt;for(Rt=144;Rt<256;++Rt)Fa[Rt]=9;var Rt;for(Rt=256;Rt<280;++Rt)Fa[Rt]=7;var Rt;for(Rt=280;Rt<288;++Rt)Fa[Rt]=8;var Rt,xu=new fr(32);for(Rt=0;Rt<32;++Rt)xu[Rt]=5;var Rt,MA=Ai(Fa,9,0),zA=Ai(Fa,9,1),$A=Ai(xu,5,0),KA=Ai(xu,5,1),gd=function(e){for(var n=e[0],t=1;t<e.length;++t)e[t]>n&&(n=e[t]);return n},ei=function(e,n,t){var r=n/8|0;return(e[r]|e[r+1]<<8)>>(n&7)&t},md=function(e,n){var t=n/8|0;return(e[t]|e[t+1]<<8|e[t+2]<<16)>>(n&7)},jp=function(e){return(e+7)/8|0},Ku=function(e,n,t){(n==null||n<0)&&(n=0),(t==null||t>e.length)&&(t=e.length);var r=new(e.BYTES_PER_ELEMENT==2?vn:e.BYTES_PER_ELEMENT==4?ah:fr)(t-n);return r.set(e.subarray(n,t)),r},HA=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],mn=function(e,n,t){var r=new Error(n||HA[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,mn),!t)throw r;return r},WA=function(e,n,t){var r=e.length;if(!r||t&&t.f&&!t.l)return n||new fr(0);var a=!n||t,u=!t||t.i;t||(t={}),n||(n=new fr(r*3));var c=function(Ee){var We=n.length;if(Ee>We){var Ce=new fr(Math.max(We*2,Ee));Ce.set(n),n=Ce}},h=t.f||0,l=t.p||0,s=t.b||0,d=t.l,f=t.d,g=t.m,I=t.n,C=r*8;do{if(!d){h=ei(e,l,1);var _=ei(e,l+1,3);if(l+=3,_)if(_==1)d=zA,f=KA,g=9,I=5;else if(_==2){var T=ei(e,l,31)+257,B=ei(e,l+10,15)+4,P=T+ei(e,l+5,31)+1;l+=14;for(var p=new fr(P),A=new fr(19),S=0;S<B;++S)A[jd[S]]=ei(e,l+S*3,7);l+=B*3;for(var N=gd(A),D=(1<<N)-1,E=Ai(A,N,1),S=0;S<P;){var m=E[ei(e,l,D)];l+=m&15;var y=m>>>4;if(y<16)p[S++]=y;else{var q=0,M=0;for(y==16?(M=3+ei(e,l,3),l+=2,q=p[S-1]):y==17?(M=3+ei(e,l,7),l+=3):y==18&&(M=11+ei(e,l,127),l+=7);M--;)p[S++]=q}}var V=p.subarray(0,T),w=p.subarray(T);g=gd(V),I=gd(w),d=Ai(V,g,1),f=Ai(w,I,1)}else mn(1);else{var y=jp(l)+4,L=e[y-4]|e[y-3]<<8,j=y+L;if(j>r){u&&mn(0);break}a&&c(s+L),n.set(e.subarray(y,j),s),t.b=s+=L,t.p=l=j*8,t.f=h;continue}if(l>C){u&&mn(0);break}}a&&c(s+131072);for(var O=(1<<g)-1,F=(1<<I)-1,J=l;;J=l){var q=d[md(e,l)&O],oe=q>>>4;if(l+=q&15,l>C){u&&mn(0);break}if(q||mn(2),oe<256)n[s++]=oe;else if(oe==256){J=l,d=null;break}else{var se=oe-254;if(oe>264){var S=oe-257,de=sh[S];se=ei(e,l,(1<<de)-1)+Q1[S],l+=de}var ke=f[md(e,l)&F],Oe=ke>>>4;ke||mn(3),l+=ke&15;var w=FA[Oe];if(Oe>3){var de=oh[Oe];w+=md(e,l)&(1<<de)-1,l+=de}if(l>C){u&&mn(0);break}a&&c(s+131072);for(var Ve=s+se;s<Ve;s+=4)n[s]=n[s-w],n[s+1]=n[s+1-w],n[s+2]=n[s+2-w],n[s+3]=n[s+3-w];s=Ve}}t.l=d,t.p=J,t.b=s,t.f=h,d&&(h=1,t.m=g,t.d=f,t.n=I)}while(!h);return s==n.length?n:Ku(n,0,s)},ra=function(e,n,t){t<<=n&7;var r=n/8|0;e[r]|=t,e[r+1]|=t>>>8},bu=function(e,n,t){t<<=n&7;var r=n/8|0;e[r]|=t,e[r+1]|=t>>>8,e[r+2]|=t>>>16},vd=function(e,n){for(var t=[],r=0;r<e.length;++r)e[r]&&t.push({s:r,f:e[r]});var a=t.length,u=t.slice();if(!a)return[Vp,0];if(a==1){var c=new fr(t[0].s+1);return c[t[0].s]=1,[c,1]}t.sort(function(S,N){return S.f-N.f}),t.push({s:-1,f:25001});var h=t[0],l=t[1],s=0,d=1,f=2;for(t[0]={s:-1,f:h.f+l.f,l:h,r:l};d!=a-1;)h=t[t[s].f<t[f].f?s++:f++],l=t[s!=d&&t[s].f<t[f].f?s++:f++],t[d++]={s:-1,f:h.f+l.f,l:h,r:l};for(var g=u[0].s,r=1;r<a;++r)u[r].s>g&&(g=u[r].s);var I=new vn(g+1),C=Fd(t[d-1],I,0);if(C>n){var r=0,_=0,T=C-n,B=1<<T;for(u.sort(function(N,D){return I[D.s]-I[N.s]||N.f-D.f});r<a;++r){var P=u[r].s;if(I[P]>n)_+=B-(1<<C-I[P]),I[P]=n;else break}for(_>>>=T;_>0;){var p=u[r].s;I[p]<n?_-=1<<n-I[p]++-1:++r}for(;r>=0&&_;--r){var A=u[r].s;I[A]==n&&(--I[A],++_)}C=n}return[new fr(I),C]},Fd=function(e,n,t){return e.s==-1?Math.max(Fd(e.l,n,t+1),Fd(e.r,n,t+1)):n[e.s]=t},Pm=function(e){for(var n=e.length;n&&!e[--n];);for(var t=new vn(++n),r=0,a=e[0],u=1,c=function(l){t[r++]=l},h=1;h<=n;++h)if(e[h]==a&&h!=n)++u;else{if(!a&&u>2){for(;u>138;u-=138)c(32754);u>2&&(c(u>10?u-11<<5|28690:u-3<<5|12305),u=0)}else if(u>3){for(c(a),--u;u>6;u-=6)c(8304);u>2&&(c(u-3<<5|8208),u=0)}for(;u--;)c(a);u=1,a=e[h]}return[t.subarray(0,r),n]},_u=function(e,n){for(var t=0,r=0;r<n.length;++r)t+=e[r]*n[r];return t},Md=function(e,n,t){var r=t.length,a=jp(n+2);e[a]=r&255,e[a+1]=r>>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var u=0;u<r;++u)e[a+u+4]=t[u];return(a+4+r)*8},Bm=function(e,n,t,r,a,u,c,h,l,s,d){ra(n,d++,t),++a[256];for(var f=vd(a,15),g=f[0],I=f[1],C=vd(u,15),_=C[0],T=C[1],B=Pm(g),P=B[0],p=B[1],A=Pm(_),S=A[0],N=A[1],D=new vn(19),E=0;E<P.length;++E)D[P[E]&31]++;for(var E=0;E<S.length;++E)D[S[E]&31]++;for(var m=vd(D,7),y=m[0],q=m[1],M=19;M>4&&!y[jd[M-1]];--M);var V=s+5<<3,w=_u(a,Fa)+_u(u,xu)+c,L=_u(a,g)+_u(u,_)+c+14+3*M+_u(D,y)+(2*D[16]+3*D[17]+7*D[18]);if(V<=w&&V<=L)return Md(n,d,e.subarray(l,l+s));var j,O,F,J;if(ra(n,d,1+(L<w)),d+=2,L<w){j=Ai(g,I,0),O=g,F=Ai(_,T,0),J=_;var oe=Ai(y,q,0);ra(n,d,p-257),ra(n,d+5,N-1),ra(n,d+10,M-4),d+=14;for(var E=0;E<M;++E)ra(n,d+3*E,y[jd[E]]);d+=3*M;for(var se=[P,S],de=0;de<2;++de)for(var ke=se[de],E=0;E<ke.length;++E){var Oe=ke[E]&31;ra(n,d,oe[Oe]),d+=y[Oe],Oe>15&&(ra(n,d,ke[E]>>>5&127),d+=ke[E]>>>12)}}else j=MA,O=Fa,F=$A,J=xu;for(var E=0;E<h;++E)if(r[E]>255){var Oe=r[E]>>>18&31;bu(n,d,j[Oe+257]),d+=O[Oe+257],Oe>7&&(ra(n,d,r[E]>>>23&31),d+=sh[Oe]);var Ve=r[E]&31;bu(n,d,F[Ve]),d+=J[Ve],Ve>3&&(bu(n,d,r[E]>>>5&8191),d+=oh[Ve])}else bu(n,d,j[r[E]]),d+=O[r[E]];return bu(n,d,j[256]),d+O[256]},GA=new ah([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Vp=new fr(0),QA=function(e,n,t,r,a,u){var c=e.length,h=new fr(r+c+5*(1+Math.ceil(c/7e3))+a),l=h.subarray(r,h.length-a),s=0;if(!n||c<8)for(var d=0;d<=c;d+=65535){var f=d+65535;f>=c&&(l[s>>3]=u),s=Md(l,s+1,e.subarray(d,f))}else{for(var g=GA[n-1],I=g>>>13,C=g&8191,_=(1<<t)-1,T=new vn(32768),B=new vn(_+1),P=Math.ceil(t/3),p=2*P,A=function(R){return(e[R]^e[R+1]<<P^e[R+2]<<p)&_},S=new ah(25e3),N=new vn(288),D=new vn(32),E=0,m=0,d=0,y=0,q=0,M=0;d<c;++d){var V=A(d),w=d&32767,L=B[V];if(T[w]=L,B[V]=w,q<=d){var j=c-d;if((E>7e3||y>24576)&&j>423){s=Bm(e,l,0,S,N,D,m,y,M,d-M,s),y=E=m=0,M=d;for(var O=0;O<286;++O)N[O]=0;for(var O=0;O<30;++O)D[O]=0}var F=2,J=0,oe=C,se=w-L&32767;if(j>2&&V==A(d-se))for(var de=Math.min(I,j)-1,ke=Math.min(32767,d),Oe=Math.min(258,j);se<=ke&&--oe&&w!=L;){if(e[d+F]==e[d+F-se]){for(var Ve=0;Ve<Oe&&e[d+Ve]==e[d+Ve-se];++Ve);if(Ve>F){if(F=Ve,J=se,Ve>de)break;for(var Ee=Math.min(se,Ve-2),We=0,O=0;O<Ee;++O){var Ce=d-se+O+32768&32767,et=T[Ce],Xe=Ce-et+32768&32767;Xe>We&&(We=Xe,L=Ce)}}}w=L,L=T[w],se+=w-L+32768&32767}if(J){S[y++]=268435456|Vd[F]<<18|km[J];var x=Vd[F]&31,Y=km[J]&31;m+=sh[x]+oh[Y],++N[257+x],++D[Y],q=d+F,++E}else S[y++]=e[d],++N[e[d]]}}s=Bm(e,l,u,S,N,D,m,y,M,d-M,s),!u&&s&7&&(s=Md(l,s+1,Vp))}return Ku(h,0,r+jp(s)+a)},YA=function(){for(var e=new Int32Array(256),n=0;n<256;++n){for(var t=n,r=9;--r;)t=(t&1&&-306674912)^t>>>1;e[n]=t}return e}(),ZA=function(){var e=-1;return{p:function(n){for(var t=e,r=0;r<n.length;++r)t=YA[t&255^n[r]]^t>>>8;e=t},d:function(){return~e}}},XA=function(e,n,t,r,a){return QA(e,n.level==null?6:n.level,n.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):12+n.mem,t,r,!a)},Z1=function(e,n){var t={};for(var r in e)t[r]=e[r];for(var r in n)t[r]=n[r];return t},Ci=function(e,n){return e[n]|e[n+1]<<8},ri=function(e,n){return(e[n]|e[n+1]<<8|e[n+2]<<16|e[n+3]<<24)>>>0},bd=function(e,n){return ri(e,n)+ri(e,n+4)*4294967296},Ur=function(e,n,t){for(;t;++n)e[n]=t,t>>>=8};function JA(e,n){return XA(e,n||{},0,0)}function eI(e,n){return WA(e,n)}var X1=function(e,n,t,r){for(var a in e){var u=e[a],c=n+a,h=r;Array.isArray(u)&&(h=Z1(r,u[1]),u=u[0]),u instanceof fr?t[c]=[u,h]:(t[c+="/"]=[new fr(0),h],X1(u,c,t,r))}},Nm=typeof TextEncoder<"u"&&new TextEncoder,zd=typeof TextDecoder<"u"&&new TextDecoder,tI=0;try{zd.decode(Vp,{stream:!0}),tI=1}catch{}var rI=function(e){for(var n="",t=0;;){var r=e[t++],a=(r>127)+(r>223)+(r>239);if(t+a>e.length)return[n,Ku(e,t-1)];a?a==3?(r=((r&15)<<18|(e[t++]&63)<<12|(e[t++]&63)<<6|e[t++]&63)-65536,n+=String.fromCharCode(55296|r>>10,56320|r&1023)):a&1?n+=String.fromCharCode((r&31)<<6|e[t++]&63):n+=String.fromCharCode((r&15)<<12|(e[t++]&63)<<6|e[t++]&63):n+=String.fromCharCode(r)}};function $d(e,n){if(n){for(var t=new fr(e.length),r=0;r<e.length;++r)t[r]=e.charCodeAt(r);return t}if(Nm)return Nm.encode(e);for(var a=e.length,u=new fr(e.length+(e.length>>1)),c=0,h=function(f){u[c++]=f},r=0;r<a;++r){if(c+5>u.length){var l=new fr(c+8+(a-r<<1));l.set(u),u=l}var s=e.charCodeAt(r);s<128||n?h(s):s<2048?(h(192|s>>6),h(128|s&63)):s>55295&&s<57344?(s=65536+(s&1047552)|e.charCodeAt(++r)&1023,h(240|s>>18),h(128|s>>12&63),h(128|s>>6&63),h(128|s&63)):(h(224|s>>12),h(128|s>>6&63),h(128|s&63))}return Ku(u,0,c)}function qp(e,n){if(n){for(var t="",r=0;r<e.length;r+=16384)t+=String.fromCharCode.apply(null,e.subarray(r,r+16384));return t}else{if(zd)return zd.decode(e);var a=rI(e),u=a[0],c=a[1];return c.length&&mn(8),u}}var nI=function(e,n){return n+30+Ci(e,n+26)+Ci(e,n+28)},iI=function(e,n,t){var r=Ci(e,n+28),a=qp(e.subarray(n+46,n+46+r),!(Ci(e,n+8)&2048)),u=n+46+r,c=ri(e,n+20),h=t&&c==4294967295?aI(e,u):[c,ri(e,n+24),ri(e,n+42)],l=h[0],s=h[1],d=h[2];return[Ci(e,n+10),l,s,a,u+Ci(e,n+30)+Ci(e,n+32),d]},aI=function(e,n){for(;Ci(e,n)!=1;n+=4+Ci(e,n+2));return[bd(e,n+12),bd(e,n+4),bd(e,n+20)]},Kd=function(e){var n=0;if(e)for(var t in e){var r=e[t].length;r>65535&&mn(9),n+=r+4}return n},Om=function(e,n,t,r,a,u,c,h){var l=r.length,s=t.extra,d=h&&h.length,f=Kd(s);Ur(e,n,c!=null?33639248:67324752),n+=4,c!=null&&(e[n++]=20,e[n++]=t.os),e[n]=20,n+=2,e[n++]=t.flag<<1|(u<0&&8),e[n++]=a&&8,e[n++]=t.compression&255,e[n++]=t.compression>>8;var g=new Date(t.mtime==null?Date.now():t.mtime),I=g.getFullYear()-1980;if((I<0||I>119)&&mn(10),Ur(e,n,I<<25|g.getMonth()+1<<21|g.getDate()<<16|g.getHours()<<11|g.getMinutes()<<5|g.getSeconds()>>>1),n+=4,u!=-1&&(Ur(e,n,t.crc),Ur(e,n+4,u<0?-u-2:u),Ur(e,n+8,t.size)),Ur(e,n+12,l),Ur(e,n+14,f),n+=16,c!=null&&(Ur(e,n,d),Ur(e,n+6,t.attrs),Ur(e,n+10,c),n+=14),e.set(r,n),n+=l,f)for(var C in s){var _=s[C],T=_.length;Ur(e,n,+C),Ur(e,n+2,T),e.set(_,n+4),n+=4+T}return d&&(e.set(h,n),n+=d),n},sI=function(e,n,t,r,a){Ur(e,n,101010256),Ur(e,n+8,t),Ur(e,n+10,t),Ur(e,n+12,r),Ur(e,n+16,a)};function oI(e,n){n||(n={});var t={},r=[];X1(e,"",t,n);var a=0,u=0;for(var c in t){var h=t[c],l=h[0],s=h[1],d=s.level==0?0:8,f=$d(c),g=f.length,I=s.comment,C=I&&$d(I),_=C&&C.length,T=Kd(s.extra);g>65535&&mn(11);var B=d?JA(l,s):l,P=B.length,p=ZA();p.p(l),r.push(Z1(s,{size:l.length,crc:p.d(),c:B,f,m:C,u:g!=c.length||C&&I.length!=_,o:a,compression:d})),a+=30+g+T+P,u+=76+2*(g+T)+(_||0)+P}for(var A=new fr(u+22),S=a,N=u-a,D=0;D<r.length;++D){var f=r[D];Om(A,f.o,f,f.f,f.u,f.c.length);var E=30+f.f.length+Kd(f.extra);A.set(f.c,f.o+E),Om(A,a,f,f.f,f.u,f.c.length,f.o,f.m),a+=16+E+(f.m?f.m.length:0)}return sI(A,a,r.length,N,S),A}function uI(e,n){for(var t={},r=e.length-22;ri(e,r)!=101010256;--r)(!r||e.length-r>65558)&&mn(13);var a=Ci(e,r+8);if(!a)return{};var u=ri(e,r+16),c=u==4294967295||a==65535;if(c){var h=ri(e,r-12);c=ri(e,h)==101075792,c&&(a=ri(e,h+32),u=ri(e,h+48))}for(var l=n&&n.filter,s=0;s<a;++s){var d=iI(e,u,c),f=d[0],g=d[1],I=d[2],C=d[3],_=d[4],T=d[5],B=nI(e,T);u=_,(!l||l({name:C,size:g,originalSize:I,compression:f}))&&(f?f==8?t[C]=eI(e.subarray(B,B+g),new fr(I)):mn(14,"unknown compression type "+f):t[C]=Ku(e,B,B+g))}return t}var Fp={bmp:"image/bmp",gif:"image/gif",jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png"},lI=Object.keys(Fp),xm=new Set(lI),cI=Object.values(Fp),n8=new Set(cI);function hI(e){throw new Error("Statement should be unreachable")}var Hd="en",Wd=!1,Gd=!1,wc=!1,fI=!1,dI=!1,J1=!1,pI=!1,yI=!1,gI=!1,_d,Qd=Hd,Da,qa=typeof self=="object"?self:typeof global=="object"?global:{},Bn;typeof qa.vscode<"u"&&typeof qa.vscode.process<"u"?Bn=qa.vscode.process:typeof process<"u"&&(Bn=process);var eb=typeof Bn?.versions?.electron=="string",tb=eb&&Bn?.type==="renderer",i8=tb&&Bn?.sandboxed;typeof navigator=="object"&&!tb?(Da=navigator.userAgent,Wd=Da.indexOf("Windows")>=0,Gd=Da.indexOf("Macintosh")>=0,yI=(Da.indexOf("Macintosh")>=0||Da.indexOf("iPad")>=0||Da.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,wc=Da.indexOf("Linux")>=0,J1=!0,_d=navigator.language,Qd=_d):typeof Bn=="object"?(Wd=Bn.platform==="win32",Gd=Bn.platform==="darwin",wc=Bn.platform==="linux",fI=wc&&!!Bn.env.SNAP&&!!Bn.env.SNAP_REVISION,pI=eb,gI=!!Bn.env.CI||!!Bn.env.BUILD_ARTIFACTSTAGINGDIRECTORY,_d=Hd,Qd=Hd,dI=!0):console.error("Unable to resolve platform.");var rb={[1]:"Mac",[2]:"Linux",[3]:"Windows"};function mI(e){switch(e){case 0:return"Web";case 1:case 2:case 3:return rb[e];default:hI(e)}}var Sc=0;Gd?Sc=1:Wd?Sc=3:wc&&(Sc=2);var a8=Object.values(rb),s8=mI(Sc),o8=J1&&typeof qa.importScripts=="function",Ii=Da,Ua=Qd,vI;(e=>{function n(){return Ua}e.value=n;function t(){return Ua.length===2?Ua==="en":Ua.length>=3?Ua[0]==="e"&&Ua[1]==="n"&&Ua[2]==="-":!1}e.isDefaultVariant=t;function r(){return Ua==="en"}e.isDefault=r})(vI||={});var u8=(()=>{if(typeof qa.postMessage=="function"&&!qa.importScripts){let e=[];qa.addEventListener("message",t=>{if(t.data&&t.data.vscodeScheduleAsyncWork)for(let r=0,a=e.length;r<a;r++){let u=e[r];if(u.id===t.data.vscodeScheduleAsyncWork){e.splice(r,1),u.callback();return}}});let n=0;return t=>{let r=++n;e.push({id:r,callback:t}),qa.postMessage({vscodeScheduleAsyncWork:r},"*")}}return e=>setTimeout(e)})(),bI=!!(Ii&&Ii.indexOf("Chrome")>=0),l8=!!(Ii&&Ii.indexOf("Firefox")>=0),c8=!!(!bI&&Ii&&Ii.indexOf("Safari")>=0),h8=!!(Ii&&Ii.indexOf("Edg/")>=0),f8=!!(Ii&&Ii.indexOf("Android")>=0),Lm=Io(_A()),nb=class{static read(e,n){return e.readFields(nb._readField,{sha256_with_rsa:[],sha256_with_ecdsa:[],signed_header_data:null},n)}static _readField(e,n,t){!n||!t||(e===2?n.sha256_with_rsa?.push(Cu.read(t,t.readVarint()+t.pos)):e===3?n.sha256_with_ecdsa?.push(Cu.read(t,t.readVarint()+t.pos)):e===1e4&&(n.signed_header_data=t.readBytes()))}static write(e,n){if(!(!e||!n)){if(e.sha256_with_rsa)for(var t=0;t<e.sha256_with_rsa.length;t++)n.writeMessage(2,Cu.write,e.sha256_with_rsa[t]);if(e.sha256_with_ecdsa)for(t=0;t<e.sha256_with_ecdsa.length;t++)n.writeMessage(3,Cu.write,e.sha256_with_ecdsa[t]);e.signed_header_data&&n.writeBytesField(1e4,e.signed_header_data)}}},Cu=class{static read(e,n){return e.readFields(Cu._readField,{public_key:null,signature:null},n)}static _readField(e,n,t){!n||!t||(e===1?n.public_key=t.readBytes():e===2&&(n.signature=t.readBytes()))}static write(e,n){!e||!n||(e.public_key&&n.writeBytesField(1,e.public_key),e.signature&&n.writeBytesField(2,e.signature))}},ib=class{static read(e,n){return e.readFields(ib._readField,{crx_id:null},n)}static _readField(e,n,t){!n||!t||e===1&&(n.crx_id=t.readBytes())}static write(e,n){!e||!n||e.crx_id&&n.writeBytesField(1,e.crx_id)}},_I=16,Yd=4,wd=Buffer.from("Cr24","utf8"),Sd=Buffer.from([3,0,0,0]),wI=Buffer.from("CRX3 SignedData\0","utf8");function SI(e,n){let t=e.binary.public(),r=new Lm.default;ib.write({crx_id:EI(t)},r);let a=Buffer.from(r.finish());r=new Lm.default,nb.write({sha256_with_rsa:[{public_key:t,signature:CI(e.text.private(),a,n)}],signed_header_data:a},r);let u=Buffer.from(r.finish()),c=wd.length+Sd.length+Yd+u.length+n.length,h=Buffer.allocUnsafe(c),l=0;return wd.copy(h,l),Sd.copy(h,l+=wd.length),h.writeUInt32LE(u.length,l+=Sd.length),u.copy(h,l+=Yd),n.copy(h,l+=u.length),h}function EI(e){return(0,k1.createHash)("sha256").update(e).digest().subarray(0,_I)}function CI(e,n,t){let r=(0,k1.createSign)("RSA-SHA256");r.update(wI);let a=Buffer.allocUnsafe(Yd);return a.writeUInt32LE(n.length,0),r.update(a),r.update(n),r.update(t),r.sign(e)}var TI=(e,n)=>SI(e,n),AI=Io(wA()),II=Io(TA()),RI=Io($1()),kI={0:"a",1:"b",2:"c",3:"d",4:"e",5:"f",6:"g",7:"h",8:"i",9:"j",a:"k",b:"l",c:"m",d:"n",e:"o",f:"p",g:"q",h:"r",i:"s",j:"t",k:"u",l:"v",m:"w",n:"x",o:"y",p:"z"},PI=e=>e.replace(/[0-9a-f]/gi,n=>kI[n]),BI=e=>PI(AI.encode(II.hash(RI.default.util.binary.base64.decode(e)),!0).slice(0,32)),NI=(e,n,t)=>`<?xml version='1.0' encoding='UTF-8'?>
<gupdate xmlns='http://www.google.com/update2/response' protocol='2.0'>
  <app appid='${e}'>
    <updatecheck codebase='${n}' version='${t}' />
  </app>
</gupdate>`,OI=e=>`${Ou.Itero}/api/ext/update/${e}`,xI=e=>`${Ou.Itero}/api/ext/install/${e}`,LI=Io($1()),{pki:oa,asn1:Um}=LI.default,UI=(e="")=>new Promise((n,t)=>{try{if(e){let r=oa.privateKeyFromPem(e),a=oa.rsa.setPublicKey(r.n,r.e);n({privateKey:r,publicKey:a})}else oa.rsa.generateKeyPair({bits:2048,workers:2},(r,a)=>{n(a)})}catch(r){t(r)}}),DI=e=>{let n=oa.privateKeyToAsn1(e),t=oa.wrapRsaPrivateKey(n);return oa.privateKeyInfoToPem(t)},jI=async(e="")=>{let{publicKey:n,privateKey:t}=await UI(e);return{text:{public:()=>{let r=oa.publicKeyToPem(n),a=VI(r);return console.log({publicKey:n,untrimmedKey:r,trimmedKey:a}),a},private:()=>DI(t)},binary:{public:()=>Buffer.from(Um.toDer(oa.publicKeyToAsn1(n)).getBytes(),"binary"),private:()=>Buffer.from(Um.toDer(oa.privateKeyToAsn1(t)).getBytes(),"binary")}}},VI=(e,n=!1)=>{let t=n?"PRIVATE":"PUBLIC";return e.replace(`-----BEGIN ${t} KEY-----`,"").replace(`-----END ${t} KEY-----`,"").replace(/\n|\r/g,"").trim()},qI=(e,n)=>{if(!e.icons)throw new Error("No icons found in manifest");let t=Object.keys(e.icons).reduce((l,s)=>Math.max(l,parseInt(s)),0);if(!t)throw new Error("Invalid icon sizes, must be a number");let r=(0,Uc.normalize)(e.icons[t]),a=(0,Uc.extname)(r).slice(1);if(!xm.has(a))throw new Error("Invalid icon type. Valid types are: "+[...xm].join(", "));let u=Fp[a];if(!n[r])throw new Error("Could not find extension icon. Please ensure the icon paths are correct in your manifest.json");let c=Buffer.from(n[r]),h=new _c([c],{type:u});return{path:r,type:u,blob:h}},Ed=/__MSG_(?<tag>.*)__/gm,FI=e=>new Promise((n,t)=>{let r,a=uI(e);if(a["manifest.json"])r=a;else{let c=Object.keys(a),h=c.find(s=>s.endsWith("manifest.json"));if(!h){t(new Error("Cannot locate manifest.json"));return}let l=(0,Uc.dirname)(h);r=c.reduce((s,d)=>{if(d.startsWith(l)){let f=(0,Uc.relative)(l,d);f&&(s[f+(d.endsWith("/")?"/":"")]=a[d])}return s},{})}let u=JSON.parse(qp(r["manifest.json"]));n({unzip:r,manifestData:u})}),MI=class{manifest;displayManifest;iconData;#e;get submitManifest(){return{...this.manifest,...this.displayManifest}}loadManifest=async e=>{let{unzip:n,manifestData:t}=await FI(e);this.#e=n,this.manifest=t,this.displayManifest=this.getDisplayManifest(),this.iconData=qI(this.manifest,n)};getDisplayManifest(){let e={name:this.manifest.name,version:this.manifest.version,description:this.manifest.description||"",version_name:this.manifest.version_name||""};try{if(this.manifest.default_locale){let n=this.manifest.default_locale,t=JSON.parse(qp(this.#e[`_locales/${n}/messages.json`]));e.name=e.name.replace(Ed,(r,a)=>t[a].message),e.description=e.description.replace(Ed,(r,a)=>t[a].message),e.version_name=e.version_name.replace(Ed,(r,a)=>t[a].message)}}catch{throw new Error("default_locale is defined, but no locale data is found")}return e}#r;#t;loadKey=async e=>{if(!e)throw new Error("Missing private key?!");this.#r=await jI(e);let n=this.#r.text.public();this.manifest.key=n,this.#t=BI(this.manifest.key),this.manifest.update_url=OI(this.#t)};generateResources=async()=>{if(!this.#r||!this.#t||!this.manifest.key)throw new Error("Key not loaded");this.#e["manifest.json"]=$d(JSON.stringify(this.manifest));let e=Buffer.from(oI(this.#e)),n=TI(this.#r,Buffer.from(e));return{icon:this.iconData.blob,crx:new _c([n],{type:"application/x-chrome-extension"}),zip:new _c([e],{type:"application/zip"}),xml:new _c([NI(this.#t,xI(this.#t),this.manifest.version)],{type:"text/xml"})}}},ab=typeof globalThis.process<"u"?globalThis.process.argv:[],zI=()=>typeof globalThis.process<"u"?globalThis.process.env:{},$I=new Set(ab),sb=e=>$I.has(e),d8=ab.filter(e=>e.startsWith("--")&&e.includes("=")).map(e=>e.split("=")).reduce((e,[n,t])=>(e[n]=t,e),{}),p8=sb("--dry-run"),ob=()=>sb("--verbose")||zI().VERBOSE==="true",y8=ob(),KI=(e="",...n)=>console.log(e.padEnd(9),"|",...n),HI=0,WI=(...e)=>ob()&&KI(`\u{1F7E1} ${HI++}`,...e),GI=async(e,n)=>{let t=Buffer.from(await n.arrayBuffer());return jr.put(e,{headers:{"Content-Type":n.type},body:t})},QI={privateKey:"",token:"",entityId:"",extensionId:""},Mp=K1(QI,e=>`Missing ${e}`),YI=Object.keys(Mp),ZI=class{options={};constructor(e){for(let n of YI){if(!e[n])throw new Error(Mp[n]);this.options[n]=e[n]}}async submit({filePath:e=""}){let n=await(0,lA.readFile)(e),t=new MI;await t.loadManifest(n),await t.loadKey(this.options.privateKey);let{version:r,...a}=await jr.post(`${Ou.Itero}/api/submit`,{json:{token:this.options.token,entityId:this.options.entityId,manifest:t.submitManifest,iconContentType:t.iconData.type}}).json();WI(`New version: ${r}`),t.manifest.version=r;let u=await t.generateResources(),c={xml:a.uploadXmlUrl,crx:a.crxFileUrl,zip:a.zipUrl,icon:a.iconUrl};await Promise.all(Object.entries(c).map(([h,l])=>GI(l,u[h]))),await jr.put(`${Ou.Itero}/api/submit`,{json:{token:this.options.token,entityId:this.options.entityId,extensionId:this.options.extensionId}})}},Lu="itero",XI=Qc(Lu);function JI(e){return la(this,null,function*(){var n=e,{zip:t,dryRun:r}=n,a=jc(n,["zip","dryRun"]);let u=new ZI(Dc({},a));if(XI("Updating extension to Itero TestBed"),r)return!0;try{return yield u.submit({filePath:t}),Gc({market:Lu,zip:t}),!0}catch(c){throw Yc(c,Lu)}})}function eR(e){return la(this,null,function*(){return e.zip=qu(e),e.verbose&&Fu(Lu),Mu({market:Lu,options:e,errorMap:Mp}),JI(e)})}});var or=su(qf()),on=su(lb());var Hu=e=>`${e.padEnd(9)} |`,hb=e=>e.zip||e.file,cb=e=>!!hb(e);function tR(){return Ty(this,null,function*(){try{(0,or.info)("\u{1F7E3} Plasmo Browser Platform Publish v3");let e=JSON.parse((0,or.getInput)("keys",{required:!0})),n=(0,or.getInput)("file")||(0,or.getInput)("zip")||(0,or.getInput)("artifact"),t=(0,or.getInput)("version-file"),r=(0,or.getInput)("notes")||(0,or.getInput)("edge-notes"),a=!!(0,or.getInput)("verbose");a&&(console.log=or.info);let u=Object.keys(e).filter(s=>on.supportedBrowserSet.has(s));if(u.length===0)throw new Error("No supported browser found");for(let s of u){let d=(0,or.getInput)(`${s}-file`),f=hb(e[s]);d?e[s].zip=d:f?e[s].zip=f:n?e[s].zip=n:(0,or.warning)(`${Hu("\u{1F7E1} SKIP")} No artifact available to submit for ${s}`),a&&(e[s].verbose=a),t&&(e[s].versionFile=t)}if(!u.some(s=>cb(e[s])))throw new Error("No artifact found for deployment");if(e.edge&&r&&(e.edge.notes=r),process.env.NODE_ENV==="test"){(0,or.debug)(JSON.stringify({artifact:n,versionFile:t,verbose:a})),(0,or.debug)(u.join(","));return}let h=u.map(s=>{if(!cb(e[s]))return!1;switch((0,or.info)(`${Hu("\u{1F7E1} QUEUE")} Prepare for ${s} submission`),s){case on.BrowserName.Chrome:return(0,on.submitChrome)(e[s]);case on.BrowserName.Firefox:return(0,on.submitFirefox)(e[s]);case on.BrowserName.Edge:return(0,on.submitEdge)(e[s]);case on.BrowserName.Itero:return(0,on.submitItero)(e[s])}});(yield Promise.allSettled(h)).forEach((s,d)=>{s.status==="rejected"?(0,or.setFailed)(`${Hu("\u{1F534} ERROR")} ${s.reason}`):s.value&&(0,or.info)(`${Hu("\u{1F7E2} DONE")} ${u[d]} submission successful`)})}catch(e){e instanceof Error&&(0,or.setFailed)(`${Hu("\u{1F534} ERROR")} ${e.message}`)}})}tR();
/*! Bundled license information:

node-domexception/index.js:
  (*! node-domexception. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

lodash/lodash.js:
  (**
   * @license
   * Lodash <https://lodash.com/>
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)

web-streams-polyfill/dist/ponyfill.mjs:
  (**
   * @license
   * web-streams-polyfill v4.0.0-beta.3
   * Copyright 2021 Mattias Buelens, Diwank Singh Tomer and other contributors.
   * This code is released under the MIT license.
   * SPDX-License-Identifier: MIT
   *)

formdata-node/lib/blobHelpers.js:
  (*! Based on fetch-blob. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> & David Frank *)

formdata-node/lib/Blob.js:
  (*! Based on fetch-blob. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> & David Frank *)

@plasmohq/itero-testbed-api/dist/index.js:
  (*! Bundled license information:
  
  ieee754/index.js:
    (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)
  
  fetch-blob/index.js:
    (*! fetch-blob. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> *)
  *)
*/
