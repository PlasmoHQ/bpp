"use strict";var XE=Object.create;var Ul=Object.defineProperty;var JE=Object.getOwnPropertyDescriptor;var eC=Object.getOwnPropertyNames;var tC=Object.getPrototypeOf,rC=Object.prototype.hasOwnProperty;var tn=(e,n)=>()=>(e&&(n=e(e=0)),n);var Bn=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),nC=(e,n)=>{for(var t in n)Ul(e,t,{get:n[t],enumerable:!0})},Ey=(e,n,t,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let a of eC(n))!rC.call(e,a)&&a!==t&&Ul(e,a,{get:()=>n[a],enumerable:!(r=JE(n,a))||r.enumerable});return e};var su=(e,n,t)=>(t=e!=null?XE(tC(e)):{},Ey(n||!e||!e.__esModule?Ul(t,"default",{value:e,enumerable:!0}):t,e)),iC=e=>Ey(Ul({},"__esModule",{value:!0}),e);var Cy=(e,n,t)=>new Promise((r,a)=>{var u=l=>{try{f(t.next(l))}catch(s){a(s)}},c=l=>{try{f(t.throw(l))}catch(s){a(s)}},f=l=>l.done?r(l.value):Promise.resolve(l.value).then(u,c);f((t=t.apply(e,n)).next())});var Dl=Bn(ro=>{"use strict";Object.defineProperty(ro,"__esModule",{value:!0});ro.toCommandProperties=ro.toCommandValue=void 0;function aC(e){return e==null?"":typeof e=="string"||e instanceof String?e:JSON.stringify(e)}ro.toCommandValue=aC;function sC(e){return Object.keys(e).length?{title:e.title,file:e.file,line:e.startLine,endLine:e.endLine,col:e.startColumn,endColumn:e.endColumn}:{}}ro.toCommandProperties=sC});var Ry=Bn(Mn=>{"use strict";var oC=Mn&&Mn.__createBinding||(Object.create?function(e,n,t,r){r===void 0&&(r=t),Object.defineProperty(e,r,{enumerable:!0,get:function(){return n[t]}})}:function(e,n,t,r){r===void 0&&(r=t),e[r]=n[t]}),uC=Mn&&Mn.__setModuleDefault||(Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n}),lC=Mn&&Mn.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(e!=null)for(var t in e)t!=="default"&&Object.hasOwnProperty.call(e,t)&&oC(n,e,t);return uC(n,e),n};Object.defineProperty(Mn,"__esModule",{value:!0});Mn.issue=Mn.issueCommand=void 0;var cC=lC(require("os")),Ay=Dl();function Iy(e,n,t){let r=new Eh(e,n,t);process.stdout.write(r.toString()+cC.EOL)}Mn.issueCommand=Iy;function fC(e,n=""){Iy(e,{},n)}Mn.issue=fC;var Ty="::",Eh=class{constructor(n,t,r){n||(n="missing.command"),this.command=n,this.properties=t,this.message=r}toString(){let n=Ty+this.command;if(this.properties&&Object.keys(this.properties).length>0){n+=" ";let t=!0;for(let r in this.properties)if(this.properties.hasOwnProperty(r)){let a=this.properties[r];a&&(t?t=!1:n+=",",n+=`${r}=${dC(a)}`)}}return n+=`${Ty}${hC(this.message)}`,n}};function hC(e){return Ay.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function dC(e){return Ay.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}});function ou(){return jl>Vl.length-16&&(ky.default.randomFillSync(Vl),jl=0),Vl.slice(jl,jl+=16)}var ky,Vl,jl,Ch=tn(()=>{ky=su(require("crypto")),Vl=new Uint8Array(256),jl=Vl.length});var By,Ny=tn(()=>{By=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function pC(e){return typeof e=="string"&&By.test(e)}var ka,uu=tn(()=>{Ny();ka=pC});function yC(e,n=0){let t=(xr[e[n+0]]+xr[e[n+1]]+xr[e[n+2]]+xr[e[n+3]]+"-"+xr[e[n+4]]+xr[e[n+5]]+"-"+xr[e[n+6]]+xr[e[n+7]]+"-"+xr[e[n+8]]+xr[e[n+9]]+"-"+xr[e[n+10]]+xr[e[n+11]]+xr[e[n+12]]+xr[e[n+13]]+xr[e[n+14]]+xr[e[n+15]]).toLowerCase();if(!ka(t))throw TypeError("Stringified UUID is invalid");return t}var xr,Ba,lu=tn(()=>{uu();xr=[];for(let e=0;e<256;++e)xr.push((e+256).toString(16).substr(1));Ba=yC});function gC(e,n,t){let r=n&&t||0,a=n||new Array(16);e=e||{};let u=e.node||Oy,c=e.clockseq!==void 0?e.clockseq:Th;if(u==null||c==null){let g=e.random||(e.rng||ou)();u==null&&(u=Oy=[g[0]|1,g[1],g[2],g[3],g[4],g[5]]),c==null&&(c=Th=(g[6]<<8|g[7])&16383)}let f=e.msecs!==void 0?e.msecs:Date.now(),l=e.nsecs!==void 0?e.nsecs:Ih+1,s=f-Ah+(l-Ih)/1e4;if(s<0&&e.clockseq===void 0&&(c=c+1&16383),(s<0||f>Ah)&&e.nsecs===void 0&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Ah=f,Ih=l,Th=c,f+=122192928e5;let d=((f&268435455)*1e4+l)%4294967296;a[r++]=d>>>24&255,a[r++]=d>>>16&255,a[r++]=d>>>8&255,a[r++]=d&255;let h=f/4294967296*1e4&268435455;a[r++]=h>>>8&255,a[r++]=h&255,a[r++]=h>>>24&15|16,a[r++]=h>>>16&255,a[r++]=c>>>8|128,a[r++]=c&255;for(let g=0;g<6;++g)a[r+g]=u[g];return n||Ba(a)}var Oy,Th,Ah,Ih,Ly,Py=tn(()=>{Ch();lu();Ah=0,Ih=0;Ly=gC});function mC(e){if(!ka(e))throw TypeError("Invalid UUID");let n,t=new Uint8Array(16);return t[0]=(n=parseInt(e.slice(0,8),16))>>>24,t[1]=n>>>16&255,t[2]=n>>>8&255,t[3]=n&255,t[4]=(n=parseInt(e.slice(9,13),16))>>>8,t[5]=n&255,t[6]=(n=parseInt(e.slice(14,18),16))>>>8,t[7]=n&255,t[8]=(n=parseInt(e.slice(19,23),16))>>>8,t[9]=n&255,t[10]=(n=parseInt(e.slice(24,36),16))/1099511627776&255,t[11]=n/4294967296&255,t[12]=n>>>24&255,t[13]=n>>>16&255,t[14]=n>>>8&255,t[15]=n&255,t}var ql,Rh=tn(()=>{uu();ql=mC});function vC(e){e=unescape(encodeURIComponent(e));let n=[];for(let t=0;t<e.length;++t)n.push(e.charCodeAt(t));return n}function Fl(e,n,t){function r(a,u,c,f){if(typeof a=="string"&&(a=vC(a)),typeof u=="string"&&(u=ql(u)),u.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let l=new Uint8Array(16+a.length);if(l.set(u),l.set(a,u.length),l=t(l),l[6]=l[6]&15|n,l[8]=l[8]&63|128,c){f=f||0;for(let s=0;s<16;++s)c[f+s]=l[s];return c}return Ba(l)}try{r.name=e}catch{}return r.DNS=bC,r.URL=_C,r}var bC,_C,kh=tn(()=>{lu();Rh();bC="6ba7b810-9dad-11d1-80b4-00c04fd430c8",_C="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function wC(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),xy.default.createHash("md5").update(e).digest()}var xy,Uy,Dy=tn(()=>{xy=su(require("crypto"));Uy=wC});var SC,jy,Vy=tn(()=>{kh();Dy();SC=Fl("v3",48,Uy),jy=SC});function EC(e,n,t){e=e||{};let r=e.random||(e.rng||ou)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,n){t=t||0;for(let a=0;a<16;++a)n[t+a]=r[a];return n}return Ba(r)}var qy,Fy=tn(()=>{Ch();lu();qy=EC});function CC(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),My.default.createHash("sha1").update(e).digest()}var My,zy,$y=tn(()=>{My=su(require("crypto"));zy=CC});var TC,Ky,Hy=tn(()=>{kh();$y();TC=Fl("v5",80,zy),Ky=TC});var Wy,Gy=tn(()=>{Wy="00000000-0000-0000-0000-000000000000"});function AC(e){if(!ka(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}var Qy,Yy=tn(()=>{uu();Qy=AC});var Zy={};nC(Zy,{NIL:()=>Wy,parse:()=>ql,stringify:()=>Ba,v1:()=>Ly,v3:()=>jy,v4:()=>qy,v5:()=>Ky,validate:()=>ka,version:()=>Qy});var Xy=tn(()=>{Py();Vy();Fy();Hy();Gy();Yy();uu();lu();Rh()});var rg=Bn(zn=>{"use strict";var IC=zn&&zn.__createBinding||(Object.create?function(e,n,t,r){r===void 0&&(r=t),Object.defineProperty(e,r,{enumerable:!0,get:function(){return n[t]}})}:function(e,n,t,r){r===void 0&&(r=t),e[r]=n[t]}),RC=zn&&zn.__setModuleDefault||(Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n}),eg=zn&&zn.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(e!=null)for(var t in e)t!=="default"&&Object.hasOwnProperty.call(e,t)&&IC(n,e,t);return RC(n,e),n};Object.defineProperty(zn,"__esModule",{value:!0});zn.prepareKeyValueMessage=zn.issueFileCommand=void 0;var Jy=eg(require("fs")),Bh=eg(require("os")),kC=(Xy(),iC(Zy)),tg=Dl();function BC(e,n){let t=process.env[`GITHUB_${e}`];if(!t)throw new Error(`Unable to find environment variable for file command ${e}`);if(!Jy.existsSync(t))throw new Error(`Missing file at path: ${t}`);Jy.appendFileSync(t,`${tg.toCommandValue(n)}${Bh.EOL}`,{encoding:"utf8"})}zn.issueFileCommand=BC;function NC(e,n){let t=`ghadelimiter_${kC.v4()}`,r=tg.toCommandValue(n);if(e.includes(t))throw new Error(`Unexpected input: name should not contain the delimiter "${t}"`);if(r.includes(t))throw new Error(`Unexpected input: value should not contain the delimiter "${t}"`);return`${e}<<${t}${Bh.EOL}${r}${Bh.EOL}${t}`}zn.prepareKeyValueMessage=NC});var ig=Bn(no=>{"use strict";Object.defineProperty(no,"__esModule",{value:!0});no.checkBypass=no.getProxyUrl=void 0;function OC(e){let n=e.protocol==="https:";if(ng(e))return;let t=(()=>n?process.env.https_proxy||process.env.HTTPS_PROXY:process.env.http_proxy||process.env.HTTP_PROXY)();if(t)return new URL(t)}no.getProxyUrl=OC;function ng(e){if(!e.hostname)return!1;let n=process.env.no_proxy||process.env.NO_PROXY||"";if(!n)return!1;let t;e.port?t=Number(e.port):e.protocol==="http:"?t=80:e.protocol==="https:"&&(t=443);let r=[e.hostname.toUpperCase()];typeof t=="number"&&r.push(`${r[0]}:${t}`);for(let a of n.split(",").map(u=>u.trim().toUpperCase()).filter(u=>u))if(r.some(u=>u===a))return!0;return!1}no.checkBypass=ng});var ug=Bn(io=>{"use strict";var zR=require("net"),LC=require("tls"),Nh=require("http"),ag=require("https"),PC=require("events"),$R=require("assert"),xC=require("util");io.httpOverHttp=UC;io.httpsOverHttp=DC;io.httpOverHttps=jC;io.httpsOverHttps=VC;function UC(e){var n=new Ji(e);return n.request=Nh.request,n}function DC(e){var n=new Ji(e);return n.request=Nh.request,n.createSocket=sg,n.defaultPort=443,n}function jC(e){var n=new Ji(e);return n.request=ag.request,n}function VC(e){var n=new Ji(e);return n.request=ag.request,n.createSocket=sg,n.defaultPort=443,n}function Ji(e){var n=this;n.options=e||{},n.proxyOptions=n.options.proxy||{},n.maxSockets=n.options.maxSockets||Nh.Agent.defaultMaxSockets,n.requests=[],n.sockets=[],n.on("free",function(r,a,u,c){for(var f=og(a,u,c),l=0,s=n.requests.length;l<s;++l){var d=n.requests[l];if(d.host===f.host&&d.port===f.port){n.requests.splice(l,1),d.request.onSocket(r);return}}r.destroy(),n.removeSocket(r)})}xC.inherits(Ji,PC.EventEmitter);Ji.prototype.addRequest=function(n,t,r,a){var u=this,c=Oh({request:n},u.options,og(t,r,a));if(u.sockets.length>=this.maxSockets){u.requests.push(c);return}u.createSocket(c,function(f){f.on("free",l),f.on("close",s),f.on("agentRemove",s),n.onSocket(f);function l(){u.emit("free",f,c)}function s(d){u.removeSocket(f),f.removeListener("free",l),f.removeListener("close",s),f.removeListener("agentRemove",s)}})};Ji.prototype.createSocket=function(n,t){var r=this,a={};r.sockets.push(a);var u=Oh({},r.proxyOptions,{method:"CONNECT",path:n.host+":"+n.port,agent:!1,headers:{host:n.host+":"+n.port}});n.localAddress&&(u.localAddress=n.localAddress),u.proxyAuth&&(u.headers=u.headers||{},u.headers["Proxy-Authorization"]="Basic "+new Buffer(u.proxyAuth).toString("base64")),Na("making CONNECT request");var c=r.request(u);c.useChunkedEncodingByDefault=!1,c.once("response",f),c.once("upgrade",l),c.once("connect",s),c.once("error",d),c.end();function f(h){h.upgrade=!0}function l(h,g,I){process.nextTick(function(){s(h,g,I)})}function s(h,g,I){if(c.removeAllListeners(),g.removeAllListeners(),h.statusCode!==200){Na("tunneling socket could not be established, statusCode=%d",h.statusCode),g.destroy();var C=new Error("tunneling socket could not be established, statusCode="+h.statusCode);C.code="ECONNRESET",n.request.emit("error",C),r.removeSocket(a);return}if(I.length>0){Na("got illegal response body from proxy"),g.destroy();var C=new Error("got illegal response body from proxy");C.code="ECONNRESET",n.request.emit("error",C),r.removeSocket(a);return}return Na("tunneling connection has established"),r.sockets[r.sockets.indexOf(a)]=g,t(g)}function d(h){c.removeAllListeners(),Na(`tunneling socket could not be established, cause=%s
`,h.message,h.stack);var g=new Error("tunneling socket could not be established, cause="+h.message);g.code="ECONNRESET",n.request.emit("error",g),r.removeSocket(a)}};Ji.prototype.removeSocket=function(n){var t=this.sockets.indexOf(n);if(t!==-1){this.sockets.splice(t,1);var r=this.requests.shift();r&&this.createSocket(r,function(a){r.request.onSocket(a)})}};function sg(e,n){var t=this;Ji.prototype.createSocket.call(t,e,function(r){var a=e.request.getHeader("host"),u=Oh({},t.options,{socket:r,servername:a?a.replace(/:.*$/,""):e.host}),c=LC.connect(0,u);t.sockets[t.sockets.indexOf(r)]=c,n(c)})}function og(e,n,t){return typeof e=="string"?{host:e,port:n,localAddress:t}:e}function Oh(e){for(var n=1,t=arguments.length;n<t;++n){var r=arguments[n];if(typeof r=="object")for(var a=Object.keys(r),u=0,c=a.length;u<c;++u){var f=a[u];r[f]!==void 0&&(e[f]=r[f])}}return e}var Na;process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)?Na=function(){var e=Array.prototype.slice.call(arguments);typeof e[0]=="string"?e[0]="TUNNEL: "+e[0]:e.unshift("TUNNEL:"),console.error.apply(console,e)}:Na=function(){};io.debug=Na});var cg=Bn((HR,lg)=>{lg.exports=ug()});var hg=Bn(Pt=>{"use strict";var qC=Pt&&Pt.__createBinding||(Object.create?function(e,n,t,r){r===void 0&&(r=t),Object.defineProperty(e,r,{enumerable:!0,get:function(){return n[t]}})}:function(e,n,t,r){r===void 0&&(r=t),e[r]=n[t]}),FC=Pt&&Pt.__setModuleDefault||(Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n}),Hl=Pt&&Pt.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(e!=null)for(var t in e)t!=="default"&&Object.hasOwnProperty.call(e,t)&&qC(n,e,t);return FC(n,e),n},wr=Pt&&Pt.__awaiter||function(e,n,t,r){function a(u){return u instanceof t?u:new t(function(c){c(u)})}return new(t||(t=Promise))(function(u,c){function f(d){try{s(r.next(d))}catch(h){c(h)}}function l(d){try{s(r.throw(d))}catch(h){c(h)}}function s(d){d.done?u(d.value):a(d.value).then(f,l)}s((r=r.apply(e,n||[])).next())})};Object.defineProperty(Pt,"__esModule",{value:!0});Pt.HttpClient=Pt.isHttps=Pt.HttpClientResponse=Pt.HttpClientError=Pt.getProxyUrl=Pt.MediaTypes=Pt.Headers=Pt.HttpCodes=void 0;var Ml=Hl(require("http")),Lh=Hl(require("https")),fg=Hl(ig()),zl=Hl(cg()),Xn;(function(e){e[e.OK=200]="OK",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.ResourceMoved=302]="ResourceMoved",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.SwitchProxy=306]="SwitchProxy",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.TooManyRequests=429]="TooManyRequests",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout"})(Xn=Pt.HttpCodes||(Pt.HttpCodes={}));var rn;(function(e){e.Accept="accept",e.ContentType="content-type"})(rn=Pt.Headers||(Pt.Headers={}));var Oa;(function(e){e.ApplicationJson="application/json"})(Oa=Pt.MediaTypes||(Pt.MediaTypes={}));function MC(e){let n=fg.getProxyUrl(new URL(e));return n?n.href:""}Pt.getProxyUrl=MC;var zC=[Xn.MovedPermanently,Xn.ResourceMoved,Xn.SeeOther,Xn.TemporaryRedirect,Xn.PermanentRedirect],$C=[Xn.BadGateway,Xn.ServiceUnavailable,Xn.GatewayTimeout],KC=["OPTIONS","GET","DELETE","HEAD"],HC=10,WC=5,ao=class extends Error{constructor(n,t){super(n),this.name="HttpClientError",this.statusCode=t,Object.setPrototypeOf(this,ao.prototype)}};Pt.HttpClientError=ao;var Kl=class{constructor(n){this.message=n}readBody(){return wr(this,void 0,void 0,function*(){return new Promise(n=>wr(this,void 0,void 0,function*(){let t=Buffer.alloc(0);this.message.on("data",r=>{t=Buffer.concat([t,r])}),this.message.on("end",()=>{n(t.toString())})}))})}};Pt.HttpClientResponse=Kl;function GC(e){return new URL(e).protocol==="https:"}Pt.isHttps=GC;var Ph=class{constructor(n,t,r){this._ignoreSslError=!1,this._allowRedirects=!0,this._allowRedirectDowngrade=!1,this._maxRedirects=50,this._allowRetries=!1,this._maxRetries=1,this._keepAlive=!1,this._disposed=!1,this.userAgent=n,this.handlers=t||[],this.requestOptions=r,r&&(r.ignoreSslError!=null&&(this._ignoreSslError=r.ignoreSslError),this._socketTimeout=r.socketTimeout,r.allowRedirects!=null&&(this._allowRedirects=r.allowRedirects),r.allowRedirectDowngrade!=null&&(this._allowRedirectDowngrade=r.allowRedirectDowngrade),r.maxRedirects!=null&&(this._maxRedirects=Math.max(r.maxRedirects,0)),r.keepAlive!=null&&(this._keepAlive=r.keepAlive),r.allowRetries!=null&&(this._allowRetries=r.allowRetries),r.maxRetries!=null&&(this._maxRetries=r.maxRetries))}options(n,t){return wr(this,void 0,void 0,function*(){return this.request("OPTIONS",n,null,t||{})})}get(n,t){return wr(this,void 0,void 0,function*(){return this.request("GET",n,null,t||{})})}del(n,t){return wr(this,void 0,void 0,function*(){return this.request("DELETE",n,null,t||{})})}post(n,t,r){return wr(this,void 0,void 0,function*(){return this.request("POST",n,t,r||{})})}patch(n,t,r){return wr(this,void 0,void 0,function*(){return this.request("PATCH",n,t,r||{})})}put(n,t,r){return wr(this,void 0,void 0,function*(){return this.request("PUT",n,t,r||{})})}head(n,t){return wr(this,void 0,void 0,function*(){return this.request("HEAD",n,null,t||{})})}sendStream(n,t,r,a){return wr(this,void 0,void 0,function*(){return this.request(n,t,r,a)})}getJson(n,t={}){return wr(this,void 0,void 0,function*(){t[rn.Accept]=this._getExistingOrDefaultHeader(t,rn.Accept,Oa.ApplicationJson);let r=yield this.get(n,t);return this._processResponse(r,this.requestOptions)})}postJson(n,t,r={}){return wr(this,void 0,void 0,function*(){let a=JSON.stringify(t,null,2);r[rn.Accept]=this._getExistingOrDefaultHeader(r,rn.Accept,Oa.ApplicationJson),r[rn.ContentType]=this._getExistingOrDefaultHeader(r,rn.ContentType,Oa.ApplicationJson);let u=yield this.post(n,a,r);return this._processResponse(u,this.requestOptions)})}putJson(n,t,r={}){return wr(this,void 0,void 0,function*(){let a=JSON.stringify(t,null,2);r[rn.Accept]=this._getExistingOrDefaultHeader(r,rn.Accept,Oa.ApplicationJson),r[rn.ContentType]=this._getExistingOrDefaultHeader(r,rn.ContentType,Oa.ApplicationJson);let u=yield this.put(n,a,r);return this._processResponse(u,this.requestOptions)})}patchJson(n,t,r={}){return wr(this,void 0,void 0,function*(){let a=JSON.stringify(t,null,2);r[rn.Accept]=this._getExistingOrDefaultHeader(r,rn.Accept,Oa.ApplicationJson),r[rn.ContentType]=this._getExistingOrDefaultHeader(r,rn.ContentType,Oa.ApplicationJson);let u=yield this.patch(n,a,r);return this._processResponse(u,this.requestOptions)})}request(n,t,r,a){return wr(this,void 0,void 0,function*(){if(this._disposed)throw new Error("Client has already been disposed.");let u=new URL(t),c=this._prepareRequest(n,u,a),f=this._allowRetries&&KC.includes(n)?this._maxRetries+1:1,l=0,s;do{if(s=yield this.requestRaw(c,r),s&&s.message&&s.message.statusCode===Xn.Unauthorized){let h;for(let g of this.handlers)if(g.canHandleAuthentication(s)){h=g;break}return h?h.handleAuthentication(this,c,r):s}let d=this._maxRedirects;for(;s.message.statusCode&&zC.includes(s.message.statusCode)&&this._allowRedirects&&d>0;){let h=s.message.headers.location;if(!h)break;let g=new URL(h);if(u.protocol==="https:"&&u.protocol!==g.protocol&&!this._allowRedirectDowngrade)throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.");if(yield s.readBody(),g.hostname!==u.hostname)for(let I in a)I.toLowerCase()==="authorization"&&delete a[I];c=this._prepareRequest(n,g,a),s=yield this.requestRaw(c,r),d--}if(!s.message.statusCode||!$C.includes(s.message.statusCode))return s;l+=1,l<f&&(yield s.readBody(),yield this._performExponentialBackoff(l))}while(l<f);return s})}dispose(){this._agent&&this._agent.destroy(),this._disposed=!0}requestRaw(n,t){return wr(this,void 0,void 0,function*(){return new Promise((r,a)=>{function u(c,f){c?a(c):f?r(f):a(new Error("Unknown error"))}this.requestRawWithCallback(n,t,u)})})}requestRawWithCallback(n,t,r){typeof t=="string"&&(n.options.headers||(n.options.headers={}),n.options.headers["Content-Length"]=Buffer.byteLength(t,"utf8"));let a=!1;function u(l,s){a||(a=!0,r(l,s))}let c=n.httpModule.request(n.options,l=>{let s=new Kl(l);u(void 0,s)}),f;c.on("socket",l=>{f=l}),c.setTimeout(this._socketTimeout||3*6e4,()=>{f&&f.end(),u(new Error(`Request timeout: ${n.options.path}`))}),c.on("error",function(l){u(l)}),t&&typeof t=="string"&&c.write(t,"utf8"),t&&typeof t!="string"?(t.on("close",function(){c.end()}),t.pipe(c)):c.end()}getAgent(n){let t=new URL(n);return this._getAgent(t)}_prepareRequest(n,t,r){let a={};a.parsedUrl=t;let u=a.parsedUrl.protocol==="https:";a.httpModule=u?Lh:Ml;let c=u?443:80;if(a.options={},a.options.host=a.parsedUrl.hostname,a.options.port=a.parsedUrl.port?parseInt(a.parsedUrl.port):c,a.options.path=(a.parsedUrl.pathname||"")+(a.parsedUrl.search||""),a.options.method=n,a.options.headers=this._mergeHeaders(r),this.userAgent!=null&&(a.options.headers["user-agent"]=this.userAgent),a.options.agent=this._getAgent(a.parsedUrl),this.handlers)for(let f of this.handlers)f.prepareRequest(a.options);return a}_mergeHeaders(n){return this.requestOptions&&this.requestOptions.headers?Object.assign({},$l(this.requestOptions.headers),$l(n||{})):$l(n||{})}_getExistingOrDefaultHeader(n,t,r){let a;return this.requestOptions&&this.requestOptions.headers&&(a=$l(this.requestOptions.headers)[t]),n[t]||a||r}_getAgent(n){let t,r=fg.getProxyUrl(n),a=r&&r.hostname;if(this._keepAlive&&a&&(t=this._proxyAgent),this._keepAlive&&!a&&(t=this._agent),t)return t;let u=n.protocol==="https:",c=100;if(this.requestOptions&&(c=this.requestOptions.maxSockets||Ml.globalAgent.maxSockets),r&&r.hostname){let f={maxSockets:c,keepAlive:this._keepAlive,proxy:Object.assign(Object.assign({},(r.username||r.password)&&{proxyAuth:`${r.username}:${r.password}`}),{host:r.hostname,port:r.port})},l,s=r.protocol==="https:";u?l=s?zl.httpsOverHttps:zl.httpsOverHttp:l=s?zl.httpOverHttps:zl.httpOverHttp,t=l(f),this._proxyAgent=t}if(this._keepAlive&&!t){let f={keepAlive:this._keepAlive,maxSockets:c};t=u?new Lh.Agent(f):new Ml.Agent(f),this._agent=t}return t||(t=u?Lh.globalAgent:Ml.globalAgent),u&&this._ignoreSslError&&(t.options=Object.assign(t.options||{},{rejectUnauthorized:!1})),t}_performExponentialBackoff(n){return wr(this,void 0,void 0,function*(){n=Math.min(HC,n);let t=WC*Math.pow(2,n);return new Promise(r=>setTimeout(()=>r(),t))})}_processResponse(n,t){return wr(this,void 0,void 0,function*(){return new Promise((r,a)=>wr(this,void 0,void 0,function*(){let u=n.message.statusCode||0,c={statusCode:u,result:null,headers:{}};u===Xn.NotFound&&r(c);function f(d,h){if(typeof h=="string"){let g=new Date(h);if(!isNaN(g.valueOf()))return g}return h}let l,s;try{s=yield n.readBody(),s&&s.length>0&&(t&&t.deserializeDates?l=JSON.parse(s,f):l=JSON.parse(s),c.result=l),c.headers=n.message.headers}catch{}if(u>299){let d;l&&l.message?d=l.message:s&&s.length>0?d=s:d=`Failed request: (${u})`;let h=new ao(d,u);h.result=c.result,a(h)}else r(c)}))})}};Pt.HttpClient=Ph;var $l=e=>Object.keys(e).reduce((n,t)=>(n[t.toLowerCase()]=e[t],n),{})});var dg=Bn(_i=>{"use strict";var jh=_i&&_i.__awaiter||function(e,n,t,r){function a(u){return u instanceof t?u:new t(function(c){c(u)})}return new(t||(t=Promise))(function(u,c){function f(d){try{s(r.next(d))}catch(h){c(h)}}function l(d){try{s(r.throw(d))}catch(h){c(h)}}function s(d){d.done?u(d.value):a(d.value).then(f,l)}s((r=r.apply(e,n||[])).next())})};Object.defineProperty(_i,"__esModule",{value:!0});_i.PersonalAccessTokenCredentialHandler=_i.BearerCredentialHandler=_i.BasicCredentialHandler=void 0;var xh=class{constructor(n,t){this.username=n,this.password=t}prepareRequest(n){if(!n.headers)throw Error("The request has no headers");n.headers.Authorization=`Basic ${Buffer.from(`${this.username}:${this.password}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return jh(this,void 0,void 0,function*(){throw new Error("not implemented")})}};_i.BasicCredentialHandler=xh;var Uh=class{constructor(n){this.token=n}prepareRequest(n){if(!n.headers)throw Error("The request has no headers");n.headers.Authorization=`Bearer ${this.token}`}canHandleAuthentication(){return!1}handleAuthentication(){return jh(this,void 0,void 0,function*(){throw new Error("not implemented")})}};_i.BearerCredentialHandler=Uh;var Dh=class{constructor(n){this.token=n}prepareRequest(n){if(!n.headers)throw Error("The request has no headers");n.headers.Authorization=`Basic ${Buffer.from(`PAT:${this.token}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return jh(this,void 0,void 0,function*(){throw new Error("not implemented")})}};_i.PersonalAccessTokenCredentialHandler=Dh});var gg=Bn(so=>{"use strict";var pg=so&&so.__awaiter||function(e,n,t,r){function a(u){return u instanceof t?u:new t(function(c){c(u)})}return new(t||(t=Promise))(function(u,c){function f(d){try{s(r.next(d))}catch(h){c(h)}}function l(d){try{s(r.throw(d))}catch(h){c(h)}}function s(d){d.done?u(d.value):a(d.value).then(f,l)}s((r=r.apply(e,n||[])).next())})};Object.defineProperty(so,"__esModule",{value:!0});so.OidcClient=void 0;var QC=hg(),YC=dg(),yg=Vh(),La=class{static createHttpClient(n=!0,t=10){let r={allowRetries:n,maxRetries:t};return new QC.HttpClient("actions/oidc-client",[new YC.BearerCredentialHandler(La.getRequestToken())],r)}static getRequestToken(){let n=process.env.ACTIONS_ID_TOKEN_REQUEST_TOKEN;if(!n)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable");return n}static getIDTokenUrl(){let n=process.env.ACTIONS_ID_TOKEN_REQUEST_URL;if(!n)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable");return n}static getCall(n){var t;return pg(this,void 0,void 0,function*(){let u=(t=(yield La.createHttpClient().getJson(n).catch(c=>{throw new Error(`Failed to get ID Token. 
 
        Error Code : ${c.statusCode}
 
        Error Message: ${c.result.message}`)})).result)===null||t===void 0?void 0:t.value;if(!u)throw new Error("Response json body do not have ID Token field");return u})}static getIDToken(n){return pg(this,void 0,void 0,function*(){try{let t=La.getIDTokenUrl();if(n){let a=encodeURIComponent(n);t=`${t}&audience=${a}`}yg.debug(`ID token url is ${t}`);let r=yield La.getCall(t);return yg.setSecret(r),r}catch(t){throw new Error(`Error message: ${t.message}`)}})}};so.OidcClient=La});var zh=Bn(yn=>{"use strict";var qh=yn&&yn.__awaiter||function(e,n,t,r){function a(u){return u instanceof t?u:new t(function(c){c(u)})}return new(t||(t=Promise))(function(u,c){function f(d){try{s(r.next(d))}catch(h){c(h)}}function l(d){try{s(r.throw(d))}catch(h){c(h)}}function s(d){d.done?u(d.value):a(d.value).then(f,l)}s((r=r.apply(e,n||[])).next())})};Object.defineProperty(yn,"__esModule",{value:!0});yn.summary=yn.markdownSummary=yn.SUMMARY_DOCS_URL=yn.SUMMARY_ENV_VAR=void 0;var ZC=require("os"),Fh=require("fs"),{access:XC,appendFile:JC,writeFile:eT}=Fh.promises;yn.SUMMARY_ENV_VAR="GITHUB_STEP_SUMMARY";yn.SUMMARY_DOCS_URL="https://docs.github.com/actions/using-workflows/workflow-commands-for-github-actions#adding-a-job-summary";var Mh=class{constructor(){this._buffer=""}filePath(){return qh(this,void 0,void 0,function*(){if(this._filePath)return this._filePath;let n=process.env[yn.SUMMARY_ENV_VAR];if(!n)throw new Error(`Unable to find environment variable for $${yn.SUMMARY_ENV_VAR}. Check if your runtime environment supports job summaries.`);try{yield XC(n,Fh.constants.R_OK|Fh.constants.W_OK)}catch{throw new Error(`Unable to access summary file: '${n}'. Check if the file has correct read/write permissions.`)}return this._filePath=n,this._filePath})}wrap(n,t,r={}){let a=Object.entries(r).map(([u,c])=>` ${u}="${c}"`).join("");return t?`<${n}${a}>${t}</${n}>`:`<${n}${a}>`}write(n){return qh(this,void 0,void 0,function*(){let t=!!n?.overwrite,r=yield this.filePath();return yield(t?eT:JC)(r,this._buffer,{encoding:"utf8"}),this.emptyBuffer()})}clear(){return qh(this,void 0,void 0,function*(){return this.emptyBuffer().write({overwrite:!0})})}stringify(){return this._buffer}isEmptyBuffer(){return this._buffer.length===0}emptyBuffer(){return this._buffer="",this}addRaw(n,t=!1){return this._buffer+=n,t?this.addEOL():this}addEOL(){return this.addRaw(ZC.EOL)}addCodeBlock(n,t){let r=Object.assign({},t&&{lang:t}),a=this.wrap("pre",this.wrap("code",n),r);return this.addRaw(a).addEOL()}addList(n,t=!1){let r=t?"ol":"ul",a=n.map(c=>this.wrap("li",c)).join(""),u=this.wrap(r,a);return this.addRaw(u).addEOL()}addTable(n){let t=n.map(a=>{let u=a.map(c=>{if(typeof c=="string")return this.wrap("td",c);let{header:f,data:l,colspan:s,rowspan:d}=c,h=f?"th":"td",g=Object.assign(Object.assign({},s&&{colspan:s}),d&&{rowspan:d});return this.wrap(h,l,g)}).join("");return this.wrap("tr",u)}).join(""),r=this.wrap("table",t);return this.addRaw(r).addEOL()}addDetails(n,t){let r=this.wrap("details",this.wrap("summary",n)+t);return this.addRaw(r).addEOL()}addImage(n,t,r){let{width:a,height:u}=r||{},c=Object.assign(Object.assign({},a&&{width:a}),u&&{height:u}),f=this.wrap("img",null,Object.assign({src:n,alt:t},c));return this.addRaw(f).addEOL()}addHeading(n,t){let r=`h${t}`,a=["h1","h2","h3","h4","h5","h6"].includes(r)?r:"h1",u=this.wrap(a,n);return this.addRaw(u).addEOL()}addSeparator(){let n=this.wrap("hr",null);return this.addRaw(n).addEOL()}addBreak(){let n=this.wrap("br",null);return this.addRaw(n).addEOL()}addQuote(n,t){let r=Object.assign({},t&&{cite:t}),a=this.wrap("blockquote",n,r);return this.addRaw(a).addEOL()}addLink(n,t){let r=this.wrap("a",n,{href:t});return this.addRaw(r).addEOL()}},mg=new Mh;yn.markdownSummary=mg;yn.summary=mg});var vg=Bn(gn=>{"use strict";var tT=gn&&gn.__createBinding||(Object.create?function(e,n,t,r){r===void 0&&(r=t),Object.defineProperty(e,r,{enumerable:!0,get:function(){return n[t]}})}:function(e,n,t,r){r===void 0&&(r=t),e[r]=n[t]}),rT=gn&&gn.__setModuleDefault||(Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n}),nT=gn&&gn.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(e!=null)for(var t in e)t!=="default"&&Object.hasOwnProperty.call(e,t)&&tT(n,e,t);return rT(n,e),n};Object.defineProperty(gn,"__esModule",{value:!0});gn.toPlatformPath=gn.toWin32Path=gn.toPosixPath=void 0;var iT=nT(require("path"));function aT(e){return e.replace(/[\\]/g,"/")}gn.toPosixPath=aT;function sT(e){return e.replace(/[/]/g,"\\")}gn.toWin32Path=sT;function oT(e){return e.replace(/[/\\]/g,iT.sep)}gn.toPlatformPath=oT});var Vh=Bn(Me=>{"use strict";var uT=Me&&Me.__createBinding||(Object.create?function(e,n,t,r){r===void 0&&(r=t),Object.defineProperty(e,r,{enumerable:!0,get:function(){return n[t]}})}:function(e,n,t,r){r===void 0&&(r=t),e[r]=n[t]}),lT=Me&&Me.__setModuleDefault||(Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n}),bg=Me&&Me.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(e!=null)for(var t in e)t!=="default"&&Object.hasOwnProperty.call(e,t)&&uT(n,e,t);return lT(n,e),n},_g=Me&&Me.__awaiter||function(e,n,t,r){function a(u){return u instanceof t?u:new t(function(c){c(u)})}return new(t||(t=Promise))(function(u,c){function f(d){try{s(r.next(d))}catch(h){c(h)}}function l(d){try{s(r.throw(d))}catch(h){c(h)}}function s(d){d.done?u(d.value):a(d.value).then(f,l)}s((r=r.apply(e,n||[])).next())})};Object.defineProperty(Me,"__esModule",{value:!0});Me.getIDToken=Me.getState=Me.saveState=Me.group=Me.endGroup=Me.startGroup=Me.info=Me.notice=Me.warning=Me.error=Me.debug=Me.isDebug=Me.setFailed=Me.setCommandEcho=Me.setOutput=Me.getBooleanInput=Me.getMultilineInput=Me.getInput=Me.addPath=Me.setSecret=Me.exportVariable=Me.ExitCode=void 0;var $n=Ry(),ls=rg(),oo=Dl(),wg=bg(require("os")),cT=bg(require("path")),fT=gg(),Sg;(function(e){e[e.Success=0]="Success",e[e.Failure=1]="Failure"})(Sg=Me.ExitCode||(Me.ExitCode={}));function hT(e,n){let t=oo.toCommandValue(n);if(process.env[e]=t,process.env.GITHUB_ENV||"")return ls.issueFileCommand("ENV",ls.prepareKeyValueMessage(e,n));$n.issueCommand("set-env",{name:e},t)}Me.exportVariable=hT;function dT(e){$n.issueCommand("add-mask",{},e)}Me.setSecret=dT;function pT(e){process.env.GITHUB_PATH||""?ls.issueFileCommand("PATH",e):$n.issueCommand("add-path",{},e),process.env.PATH=`${e}${cT.delimiter}${process.env.PATH}`}Me.addPath=pT;function $h(e,n){let t=process.env[`INPUT_${e.replace(/ /g,"_").toUpperCase()}`]||"";if(n&&n.required&&!t)throw new Error(`Input required and not supplied: ${e}`);return n&&n.trimWhitespace===!1?t:t.trim()}Me.getInput=$h;function yT(e,n){let t=$h(e,n).split(`
`).filter(r=>r!=="");return n&&n.trimWhitespace===!1?t:t.map(r=>r.trim())}Me.getMultilineInput=yT;function gT(e,n){let t=["true","True","TRUE"],r=["false","False","FALSE"],a=$h(e,n);if(t.includes(a))return!0;if(r.includes(a))return!1;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${e}
Support boolean input list: \`true | True | TRUE | false | False | FALSE\``)}Me.getBooleanInput=gT;function mT(e,n){if(process.env.GITHUB_OUTPUT||"")return ls.issueFileCommand("OUTPUT",ls.prepareKeyValueMessage(e,n));process.stdout.write(wg.EOL),$n.issueCommand("set-output",{name:e},oo.toCommandValue(n))}Me.setOutput=mT;function vT(e){$n.issue("echo",e?"on":"off")}Me.setCommandEcho=vT;function bT(e){process.exitCode=Sg.Failure,Eg(e)}Me.setFailed=bT;function _T(){return process.env.RUNNER_DEBUG==="1"}Me.isDebug=_T;function wT(e){$n.issueCommand("debug",{},e)}Me.debug=wT;function Eg(e,n={}){$n.issueCommand("error",oo.toCommandProperties(n),e instanceof Error?e.toString():e)}Me.error=Eg;function ST(e,n={}){$n.issueCommand("warning",oo.toCommandProperties(n),e instanceof Error?e.toString():e)}Me.warning=ST;function ET(e,n={}){$n.issueCommand("notice",oo.toCommandProperties(n),e instanceof Error?e.toString():e)}Me.notice=ET;function CT(e){process.stdout.write(e+wg.EOL)}Me.info=CT;function Cg(e){$n.issue("group",e)}Me.startGroup=Cg;function Tg(){$n.issue("endgroup")}Me.endGroup=Tg;function TT(e,n){return _g(this,void 0,void 0,function*(){Cg(e);let t;try{t=yield n()}finally{Tg()}return t})}Me.group=TT;function AT(e,n){if(process.env.GITHUB_STATE||"")return ls.issueFileCommand("STATE",ls.prepareKeyValueMessage(e,n));$n.issueCommand("save-state",{name:e},oo.toCommandValue(n))}Me.saveState=AT;function IT(e){return process.env[`STATE_${e}`]||""}Me.getState=IT;function RT(e){return _g(this,void 0,void 0,function*(){return yield fT.OidcClient.getIDToken(e)})}Me.getIDToken=RT;var kT=zh();Object.defineProperty(Me,"summary",{enumerable:!0,get:function(){return kT.summary}});var BT=zh();Object.defineProperty(Me,"markdownSummary",{enumerable:!0,get:function(){return BT.markdownSummary}});var Kh=vg();Object.defineProperty(Me,"toPosixPath",{enumerable:!0,get:function(){return Kh.toPosixPath}});Object.defineProperty(Me,"toWin32Path",{enumerable:!0,get:function(){return Kh.toWin32Path}});Object.defineProperty(Me,"toPlatformPath",{enumerable:!0,get:function(){return Kh.toPlatformPath}})});var ub=Bn((y8,ob)=>{var NT=Object.create,Uu=Object.defineProperty,OT=Object.getOwnPropertyDescriptor,LT=Object.getOwnPropertyNames,Sc=Object.getOwnPropertySymbols,PT=Object.getPrototypeOf,Yd=Object.prototype.hasOwnProperty,Um=Object.prototype.propertyIsEnumerable,Ag=(e,n,t)=>n in e?Uu(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,Uc=(e,n)=>{for(var t in n||={})Yd.call(n,t)&&Ag(e,t,n[t]);if(Sc)for(var t of Sc(n))Um.call(n,t)&&Ag(e,t,n[t]);return e},Dc=(e,n)=>{var t={};for(var r in e)Yd.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&Sc)for(var r of Sc(e))n.indexOf(r)<0&&Um.call(e,r)&&(t[r]=e[r]);return t},Te=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),xT=(e,n)=>{for(var t in n)Uu(e,t,{get:n[t],enumerable:!0})},Dm=(e,n,t,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let a of LT(n))!Yd.call(e,a)&&a!==t&&Uu(e,a,{get:()=>n[a],enumerable:!(r=OT(n,a))||r.enumerable});return e},vr=(e,n,t)=>(t=e!=null?NT(PT(e)):{},Dm(n||!e||!e.__esModule?Uu(t,"default",{value:e,enumerable:!0}):t,e)),UT=e=>Dm(Uu({},"__esModule",{value:!0}),e),la=(e,n,t)=>new Promise((r,a)=>{var u=l=>{try{f(t.next(l))}catch(s){a(s)}},c=l=>{try{f(t.throw(l))}catch(s){a(s)}},f=l=>l.done?r(l.value):Promise.resolve(l.value).then(u,c);f((t=t.apply(e,n)).next())}),DT=Te((e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});function t(a){return a.encrypted}var r=(a,u)=>{let c;typeof u=="function"?c={connect:u}:c=u;let f=typeof c.connect=="function",l=typeof c.secureConnect=="function",s=typeof c.close=="function",d=()=>{f&&c.connect(),t(a)&&l&&(a.authorized?c.secureConnect():a.authorizationError||a.once("secureConnect",c.secureConnect)),s&&a.once("close",c.close)};a.writable&&!a.connecting?d():a.connecting?a.once("connect",d):a.destroyed&&s&&c.close(a._hadError)};e.default=r,n.exports=r,n.exports.default=r}),jT=Te((e,n)=>{"use strict";var{PassThrough:t}=require("stream");n.exports=r=>{r={...r};let{array:a}=r,{encoding:u}=r,c=u==="buffer",f=!1;a?f=!(u||c):u=u||"utf8",c&&(u=null);let l=new t({objectMode:f});u&&l.setEncoding(u);let s=0,d=[];return l.on("data",h=>{d.push(h),f?s=d.length:s+=h.length}),l.getBufferedValue=()=>a?d:c?Buffer.concat(d,s):d.join(""),l.getBufferedLength=()=>s,l}}),jm=Te((e,n)=>{"use strict";var{constants:t}=require("buffer"),r=require("stream"),{promisify:a}=require("util"),u=jT(),c=a(r.pipeline),f=class extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}};async function l(s,d){if(!s)throw new Error("Expected a stream");d={maxBuffer:1/0,...d};let{maxBuffer:h}=d,g=u(d);return await new Promise((I,C)=>{let _=T=>{T&&g.getBufferedLength()<=t.MAX_LENGTH&&(T.bufferedData=g.getBufferedValue()),C(T)};(async()=>{try{await c(s,g),I()}catch(T){_(T)}})(),g.on("data",()=>{g.getBufferedLength()>h&&_(new f)})}),g.getBufferedValue()}n.exports=l,n.exports.buffer=(s,d)=>l(s,{...d,encoding:"buffer"}),n.exports.array=(s,d)=>l(s,{...d,array:!0}),n.exports.MaxBufferError=f}),VT=Te((e,n)=>{"use strict";var t=new Set([200,203,204,206,300,301,308,404,405,410,414,501]),r=new Set([200,203,204,300,301,302,303,307,308,404,405,410,414,501]),a=new Set([500,502,503,504]),u={date:!0,connection:!0,"keep-alive":!0,"proxy-authenticate":!0,"proxy-authorization":!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0},c={"content-length":!0,"content-encoding":!0,"transfer-encoding":!0,"content-range":!0};function f(h){let g=parseInt(h,10);return isFinite(g)?g:0}function l(h){return h?a.has(h.status):!0}function s(h){let g={};if(!h)return g;let I=h.trim().split(/,/);for(let C of I){let[_,T]=C.split(/=/,2);g[_.trim()]=T===void 0?!0:T.trim().replace(/^"|"$/g,"")}return g}function d(h){let g=[];for(let I in h){let C=h[I];g.push(C===!0?I:I+"="+C)}if(g.length)return g.join(", ")}n.exports=class{constructor(h,g,{shared:I,cacheHeuristic:C,immutableMinTimeToLive:_,ignoreCargoCult:T,_fromObject:N}={}){if(N){this._fromObject(N);return}if(!g||!g.headers)throw Error("Response headers missing");this._assertRequestHasHeaders(h),this._responseTime=this.now(),this._isShared=I!==!1,this._cacheHeuristic=C!==void 0?C:.1,this._immutableMinTtl=_!==void 0?_:24*3600*1e3,this._status="status"in g?g.status:200,this._resHeaders=g.headers,this._rescc=s(g.headers["cache-control"]),this._method="method"in h?h.method:"GET",this._url=h.url,this._host=h.headers.host,this._noAuthorization=!h.headers.authorization,this._reqHeaders=g.headers.vary?h.headers:null,this._reqcc=s(h.headers["cache-control"]),T&&"pre-check"in this._rescc&&"post-check"in this._rescc&&(delete this._rescc["pre-check"],delete this._rescc["post-check"],delete this._rescc["no-cache"],delete this._rescc["no-store"],delete this._rescc["must-revalidate"],this._resHeaders=Object.assign({},this._resHeaders,{"cache-control":d(this._rescc)}),delete this._resHeaders.expires,delete this._resHeaders.pragma),g.headers["cache-control"]==null&&/no-cache/.test(g.headers.pragma)&&(this._rescc["no-cache"]=!0)}now(){return Date.now()}storable(){return!!(!this._reqcc["no-store"]&&(this._method==="GET"||this._method==="HEAD"||this._method==="POST"&&this._hasExplicitExpiration())&&r.has(this._status)&&!this._rescc["no-store"]&&(!this._isShared||!this._rescc.private)&&(!this._isShared||this._noAuthorization||this._allowsStoringAuthenticated())&&(this._resHeaders.expires||this._rescc["max-age"]||this._isShared&&this._rescc["s-maxage"]||this._rescc.public||t.has(this._status)))}_hasExplicitExpiration(){return this._isShared&&this._rescc["s-maxage"]||this._rescc["max-age"]||this._resHeaders.expires}_assertRequestHasHeaders(h){if(!h||!h.headers)throw Error("Request headers missing")}satisfiesWithoutRevalidation(h){this._assertRequestHasHeaders(h);let g=s(h.headers["cache-control"]);return g["no-cache"]||/no-cache/.test(h.headers.pragma)||g["max-age"]&&this.age()>g["max-age"]||g["min-fresh"]&&this.timeToLive()<1e3*g["min-fresh"]||this.stale()&&!(g["max-stale"]&&!this._rescc["must-revalidate"]&&(g["max-stale"]===!0||g["max-stale"]>this.age()-this.maxAge()))?!1:this._requestMatches(h,!1)}_requestMatches(h,g){return(!this._url||this._url===h.url)&&this._host===h.headers.host&&(!h.method||this._method===h.method||g&&h.method==="HEAD")&&this._varyMatches(h)}_allowsStoringAuthenticated(){return this._rescc["must-revalidate"]||this._rescc.public||this._rescc["s-maxage"]}_varyMatches(h){if(!this._resHeaders.vary)return!0;if(this._resHeaders.vary==="*")return!1;let g=this._resHeaders.vary.trim().toLowerCase().split(/\s*,\s*/);for(let I of g)if(h.headers[I]!==this._reqHeaders[I])return!1;return!0}_copyWithoutHopByHopHeaders(h){let g={};for(let I in h)u[I]||(g[I]=h[I]);if(h.connection){let I=h.connection.trim().split(/\s*,\s*/);for(let C of I)delete g[C]}if(g.warning){let I=g.warning.split(/,/).filter(C=>!/^\s*1[0-9][0-9]/.test(C));I.length?g.warning=I.join(",").trim():delete g.warning}return g}responseHeaders(){let h=this._copyWithoutHopByHopHeaders(this._resHeaders),g=this.age();return g>3600*24&&!this._hasExplicitExpiration()&&this.maxAge()>3600*24&&(h.warning=(h.warning?`${h.warning}, `:"")+'113 - "rfc7234 5.5.4"'),h.age=`${Math.round(g)}`,h.date=new Date(this.now()).toUTCString(),h}date(){let h=Date.parse(this._resHeaders.date);return isFinite(h)?h:this._responseTime}age(){let h=this._ageValue(),g=(this.now()-this._responseTime)/1e3;return h+g}_ageValue(){return f(this._resHeaders.age)}maxAge(){if(!this.storable()||this._rescc["no-cache"]||this._isShared&&this._resHeaders["set-cookie"]&&!this._rescc.public&&!this._rescc.immutable||this._resHeaders.vary==="*")return 0;if(this._isShared){if(this._rescc["proxy-revalidate"])return 0;if(this._rescc["s-maxage"])return f(this._rescc["s-maxage"])}if(this._rescc["max-age"])return f(this._rescc["max-age"]);let h=this._rescc.immutable?this._immutableMinTtl:0,g=this.date();if(this._resHeaders.expires){let I=Date.parse(this._resHeaders.expires);return Number.isNaN(I)||I<g?0:Math.max(h,(I-g)/1e3)}if(this._resHeaders["last-modified"]){let I=Date.parse(this._resHeaders["last-modified"]);if(isFinite(I)&&g>I)return Math.max(h,(g-I)/1e3*this._cacheHeuristic)}return h}timeToLive(){let h=this.maxAge()-this.age(),g=h+f(this._rescc["stale-if-error"]),I=h+f(this._rescc["stale-while-revalidate"]);return Math.max(0,h,g,I)*1e3}stale(){return this.maxAge()<=this.age()}_useStaleIfError(){return this.maxAge()+f(this._rescc["stale-if-error"])>this.age()}useStaleWhileRevalidate(){return this.maxAge()+f(this._rescc["stale-while-revalidate"])>this.age()}static fromObject(h){return new this(void 0,void 0,{_fromObject:h})}_fromObject(h){if(this._responseTime)throw Error("Reinitialized");if(!h||h.v!==1)throw Error("Invalid serialization");this._responseTime=h.t,this._isShared=h.sh,this._cacheHeuristic=h.ch,this._immutableMinTtl=h.imm!==void 0?h.imm:24*3600*1e3,this._status=h.st,this._resHeaders=h.resh,this._rescc=h.rescc,this._method=h.m,this._url=h.u,this._host=h.h,this._noAuthorization=h.a,this._reqHeaders=h.reqh,this._reqcc=h.reqcc}toObject(){return{v:1,t:this._responseTime,sh:this._isShared,ch:this._cacheHeuristic,imm:this._immutableMinTtl,st:this._status,resh:this._resHeaders,rescc:this._rescc,m:this._method,u:this._url,h:this._host,a:this._noAuthorization,reqh:this._reqHeaders,reqcc:this._reqcc}}revalidationHeaders(h){this._assertRequestHasHeaders(h);let g=this._copyWithoutHopByHopHeaders(h.headers);if(delete g["if-range"],!this._requestMatches(h,!0)||!this.storable())return delete g["if-none-match"],delete g["if-modified-since"],g;if(this._resHeaders.etag&&(g["if-none-match"]=g["if-none-match"]?`${g["if-none-match"]}, ${this._resHeaders.etag}`:this._resHeaders.etag),g["accept-ranges"]||g["if-match"]||g["if-unmodified-since"]||this._method&&this._method!="GET"){if(delete g["if-modified-since"],g["if-none-match"]){let I=g["if-none-match"].split(/,/).filter(C=>!/^\s*W\//.test(C));I.length?g["if-none-match"]=I.join(",").trim():delete g["if-none-match"]}}else this._resHeaders["last-modified"]&&!g["if-modified-since"]&&(g["if-modified-since"]=this._resHeaders["last-modified"]);return g}revalidatedPolicy(h,g){if(this._assertRequestHasHeaders(h),this._useStaleIfError()&&l(g))return{modified:!1,matches:!1,policy:this};if(!g||!g.headers)throw Error("Response headers missing");let I=!1;if(g.status!==void 0&&g.status!=304?I=!1:g.headers.etag&&!/^\s*W\//.test(g.headers.etag)?I=this._resHeaders.etag&&this._resHeaders.etag.replace(/^\s*W\//,"")===g.headers.etag:this._resHeaders.etag&&g.headers.etag?I=this._resHeaders.etag.replace(/^\s*W\//,"")===g.headers.etag.replace(/^\s*W\//,""):this._resHeaders["last-modified"]?I=this._resHeaders["last-modified"]===g.headers["last-modified"]:!this._resHeaders.etag&&!this._resHeaders["last-modified"]&&!g.headers.etag&&!g.headers["last-modified"]&&(I=!0),!I)return{policy:new this.constructor(h,g),modified:g.status!=304,matches:!1};let C={};for(let T in this._resHeaders)C[T]=T in g.headers&&!c[T]?g.headers[T]:this._resHeaders[T];let _=Object.assign({},g,{status:this._status,method:this._method,headers:C});return{policy:new this.constructor(h,_,{shared:this._isShared,cacheHeuristic:this._cacheHeuristic,immutableMinTimeToLive:this._immutableMinTtl}),modified:!1,matches:!0}}}}),qT=Te(e=>{e.stringify=function n(t){if(typeof t>"u")return t;if(t&&Buffer.isBuffer(t))return JSON.stringify(":base64:"+t.toString("base64"));if(t&&t.toJSON&&(t=t.toJSON()),t&&typeof t=="object"){var r="",a=Array.isArray(t);r=a?"[":"{";var u=!0;for(var c in t){var f=typeof t[c]=="function"||!a&&typeof t[c]>"u";Object.hasOwnProperty.call(t,c)&&!f&&(u||(r+=","),u=!1,a?t[c]==null?r+="null":r+=n(t[c]):t[c]!==void 0&&(r+=n(c)+":"+n(t[c])))}return r+=a?"]":"}",r}else return typeof t=="string"?JSON.stringify(/^:/.test(t)?":"+t:t):typeof t>"u"?"null":JSON.stringify(t)},e.parse=function(n){return JSON.parse(n,function(t,r){return typeof r=="string"?/^:base64:/.test(r)?Buffer.from(r.substring(8),"base64"):/^:/.test(r)?r.substring(1):r:r})}}),FT=Te((e,n)=>{"use strict";var t=require("events"),r=qT(),a=f=>{let l={redis:"@keyv/redis",rediss:"@keyv/redis",mongodb:"@keyv/mongo",mongo:"@keyv/mongo",sqlite:"@keyv/sqlite",postgresql:"@keyv/postgres",postgres:"@keyv/postgres",mysql:"@keyv/mysql",etcd:"@keyv/etcd",offline:"@keyv/offline",tiered:"@keyv/tiered"};if(f.adapter||f.uri){let s=f.adapter||/^[^:+]*/.exec(f.uri)[0];return new(require(l[s]))(f)}return new Map},u=["sqlite","postgres","mysql","mongo","redis","tiered"],c=class extends t{constructor(f,{emitErrors:l=!0,...s}={}){if(super(),this.opts={namespace:"keyv",serialize:r.stringify,deserialize:r.parse,...typeof f=="string"?{uri:f}:f,...s},!this.opts.store){let h={...this.opts};this.opts.store=a(h)}if(this.opts.compression){let h=this.opts.compression;this.opts.serialize=h.serialize.bind(h),this.opts.deserialize=h.deserialize.bind(h)}typeof this.opts.store.on=="function"&&l&&this.opts.store.on("error",h=>this.emit("error",h)),this.opts.store.namespace=this.opts.namespace;let d=h=>async function*(){for await(let[g,I]of typeof h=="function"?h(this.opts.store.namespace):h){let C=this.opts.deserialize(I);if(!(this.opts.store.namespace&&!g.includes(this.opts.store.namespace))){if(typeof C.expires=="number"&&Date.now()>C.expires){this.delete(g);continue}yield[this._getKeyUnprefix(g),C.value]}}};typeof this.opts.store[Symbol.iterator]=="function"&&this.opts.store instanceof Map?this.iterator=d(this.opts.store):typeof this.opts.store.iterator=="function"&&this.opts.store.opts&&this._checkIterableAdaptar()&&(this.iterator=d(this.opts.store.iterator.bind(this.opts.store)))}_checkIterableAdaptar(){return u.includes(this.opts.store.opts.dialect)||u.findIndex(f=>this.opts.store.opts.url.includes(f))>=0}_getKeyPrefix(f){return`${this.opts.namespace}:${f}`}_getKeyPrefixArray(f){return f.map(l=>`${this.opts.namespace}:${l}`)}_getKeyUnprefix(f){return f.split(":").splice(1).join(":")}get(f,l){let{store:s}=this.opts,d=Array.isArray(f),h=d?this._getKeyPrefixArray(f):this._getKeyPrefix(f);if(d&&s.getMany===void 0){let g=[];for(let I of h)g.push(Promise.resolve().then(()=>s.get(I)).then(C=>typeof C=="string"?this.opts.deserialize(C):this.opts.compression?this.opts.deserialize(C):C).then(C=>{if(C!=null)return typeof C.expires=="number"&&Date.now()>C.expires?this.delete(I).then(()=>{}):l&&l.raw?C:C.value}));return Promise.allSettled(g).then(I=>{let C=[];for(let _ of I)C.push(_.value);return C})}return Promise.resolve().then(()=>d?s.getMany(h):s.get(h)).then(g=>typeof g=="string"?this.opts.deserialize(g):this.opts.compression?this.opts.deserialize(g):g).then(g=>{if(g!=null){if(d){let I=[];for(let C of g){if(typeof C=="string"&&(C=this.opts.deserialize(C)),C==null){I.push(void 0);continue}typeof C.expires=="number"&&Date.now()>C.expires?(this.delete(f).then(()=>{}),I.push(void 0)):I.push(l&&l.raw?C:C.value)}return I}return typeof g.expires=="number"&&Date.now()>g.expires?this.delete(f).then(()=>{}):l&&l.raw?g:g.value}})}set(f,l,s){let d=this._getKeyPrefix(f);typeof s>"u"&&(s=this.opts.ttl),s===0&&(s=void 0);let{store:h}=this.opts;return Promise.resolve().then(()=>{let g=typeof s=="number"?Date.now()+s:null;return typeof l=="symbol"&&this.emit("error","symbol cannot be serialized"),l={value:l,expires:g},this.opts.serialize(l)}).then(g=>h.set(d,g,s)).then(()=>!0)}delete(f){let{store:l}=this.opts;if(Array.isArray(f)){let d=this._getKeyPrefixArray(f);if(l.deleteMany===void 0){let h=[];for(let g of d)h.push(l.delete(g));return Promise.allSettled(h).then(g=>g.every(I=>I.value===!0))}return Promise.resolve().then(()=>l.deleteMany(d))}let s=this._getKeyPrefix(f);return Promise.resolve().then(()=>l.delete(s))}clear(){let{store:f}=this.opts;return Promise.resolve().then(()=>f.clear())}has(f){let l=this._getKeyPrefix(f),{store:s}=this.opts;return Promise.resolve().then(async()=>typeof s.has=="function"?s.has(l):await s.get(l)!==void 0)}disconnect(){let{store:f}=this.opts;if(typeof f.disconnect=="function")return f.disconnect()}};n.exports=c}),MT=Te((e,n)=>{"use strict";var t=["aborted","complete","headers","httpVersion","httpVersionMinor","httpVersionMajor","method","rawHeaders","rawTrailers","setTimeout","socket","statusCode","statusMessage","trailers","url"];n.exports=(r,a)=>{if(a._readableState.autoDestroy)throw new Error("The second stream must have the `autoDestroy` option set to `false`");let u=new Set(Object.keys(r).concat(t)),c={};for(let f of u)f in a||(c[f]={get(){let l=r[f];return typeof l=="function"?l.bind(r):l},set(l){r[f]=l},enumerable:!0,configurable:!1});return Object.defineProperties(a,c),r.once("aborted",()=>{a.destroy(),a.emit("aborted")}),r.once("close",()=>{r.complete&&a.readable?a.once("end",()=>{a.emit("close")}):a.emit("close")}),a}}),zT=Te((e,n)=>{"use strict";var{Transform:t,PassThrough:r}=require("stream"),a=require("zlib"),u=MT();n.exports=c=>{let f=(c.headers["content-encoding"]||"").toLowerCase();if(!["gzip","deflate","br"].includes(f))return c;let l=f==="br";if(l&&typeof a.createBrotliDecompress!="function")return c.destroy(new Error("Brotli is not supported on Node.js < 12")),c;let s=!0,d=new t({transform(I,C,_){s=!1,_(null,I)},flush(I){I()}}),h=new r({autoDestroy:!1,destroy(I,C){c.destroy(),C(I)}}),g=l?a.createBrotliDecompress():a.createUnzip();return g.once("error",I=>{if(s&&!c.readable){h.end();return}h.destroy(I)}),u(c,h),c.pipe(d).pipe(g).pipe(h),h}}),Vm=Te((e,n)=>{"use strict";var t=class{constructor(r={}){if(!(r.maxSize&&r.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=r.maxSize,this.onEviction=r.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(r,a){if(this.cache.set(r,a),this._size++,this._size>=this.maxSize){if(this._size=0,typeof this.onEviction=="function")for(let[u,c]of this.oldCache.entries())this.onEviction(u,c);this.oldCache=this.cache,this.cache=new Map}}get(r){if(this.cache.has(r))return this.cache.get(r);if(this.oldCache.has(r)){let a=this.oldCache.get(r);return this.oldCache.delete(r),this._set(r,a),a}}set(r,a){return this.cache.has(r)?this.cache.set(r,a):this._set(r,a),this}has(r){return this.cache.has(r)||this.oldCache.has(r)}peek(r){if(this.cache.has(r))return this.cache.get(r);if(this.oldCache.has(r))return this.oldCache.get(r)}delete(r){let a=this.cache.delete(r);return a&&this._size--,this.oldCache.delete(r)||a}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(let[r]of this)yield r}*values(){for(let[,r]of this)yield r}*[Symbol.iterator](){for(let r of this.cache)yield r;for(let r of this.oldCache){let[a]=r;this.cache.has(a)||(yield r)}}get size(){let r=0;for(let a of this.oldCache.keys())this.cache.has(a)||r++;return Math.min(this._size+r,this.maxSize)}};n.exports=t}),qm=Te((e,n)=>{"use strict";n.exports=t=>{if(t.listenerCount("error")!==0)return t;t.__destroy=t._destroy,t._destroy=(...a)=>{let u=a.pop();t.__destroy(...a,async c=>{await Promise.resolve(),u(c)})};let r=a=>{Promise.resolve().then(()=>{t.emit("error",a)})};return t.once("error",r),Promise.resolve().then(()=>{t.off("error",r)}),t}}),Eo=Te((e,n)=>{"use strict";var{URL:t}=require("url"),r=require("events"),a=require("tls"),u=require("http2"),c=Vm(),f=qm(),l=Symbol("currentStreamCount"),s=Symbol("request"),d=Symbol("cachedOriginSet"),h=Symbol("gracefullyClosing"),g=Symbol("length"),I=["createConnection","maxDeflateDynamicTableSize","maxSettings","maxSessionMemory","maxHeaderListPairs","maxOutstandingPings","maxReservedRemoteStreams","maxSendHeaderBlockLength","paddingStrategy","peerMaxConcurrentStreams","settings","family","localAddress","rejectUnauthorized","pskCallback","minDHSize","path","socket","ca","cert","sigalgs","ciphers","clientCertEngine","crl","dhparam","ecdhCurve","honorCipherOrder","key","privateKeyEngine","privateKeyIdentifier","maxVersion","minVersion","pfx","secureOptions","secureProtocol","sessionIdContext","ticketKeys"],C=(A,S,O)=>{let D=0,E=A.length;for(;D<E;){let m=D+E>>>1;O(A[m],S)?D=m+1:E=m}return D},_=(A,S)=>A.remoteSettings.maxConcurrentStreams>S.remoteSettings.maxConcurrentStreams,T=(A,S)=>{for(let O=0;O<A.length;O++){let D=A[O];D[d].length>0&&D[d].length<S[d].length&&D[d].every(E=>S[d].includes(E))&&D[l]+S[l]<=S.remoteSettings.maxConcurrentStreams&&B(D)}},N=(A,S)=>{for(let O=0;O<A.length;O++){let D=A[O];if(S[d].length>0&&S[d].length<D[d].length&&S[d].every(E=>D[d].includes(E))&&S[l]+D[l]<=D.remoteSettings.maxConcurrentStreams)return B(S),!0}return!1},B=A=>{A[h]=!0,A[l]===0&&A.close()},p=class extends r{constructor({timeout:A=0,maxSessions:S=Number.POSITIVE_INFINITY,maxEmptySessions:O=10,maxCachedTlsSessions:D=100}={}){super(),this.sessions={},this.queue={},this.timeout=A,this.maxSessions=S,this.maxEmptySessions=O,this._emptySessionCount=0,this._sessionCount=0,this.settings={enablePush:!1,initialWindowSize:1024*1024*32},this.tlsSessionCache=new c({maxSize:D})}get protocol(){return"https:"}normalizeOptions(A){let S="";for(let O=0;O<I.length;O++){let D=I[O];S+=":",A&&A[D]!==void 0&&(S+=A[D])}return S}_processQueue(){if(this._sessionCount>=this.maxSessions){this.closeEmptySessions(this.maxSessions-this._sessionCount+1);return}for(let A in this.queue)for(let S in this.queue[A]){let O=this.queue[A][S];O.completed||(O.completed=!0,O())}}_isBetterSession(A,S){return A>S}_accept(A,S,O,D){let E=0;for(;E<S.length&&A[l]<A.remoteSettings.maxConcurrentStreams;)S[E].resolve(A),E++;S.splice(0,E),S.length>0&&(this.getSession(O,D,S),S.length=0)}getSession(A,S,O){return new Promise((D,E)=>{Array.isArray(O)&&O.length>0?(O=[...O],D()):O=[{resolve:D,reject:E}];try{if(typeof A=="string")A=new t(A);else if(!(A instanceof t))throw new TypeError("The `origin` argument needs to be a string or an URL object");if(S){let{servername:V}=S,{hostname:w}=A;if(V&&w!==V)throw new Error(`Origin ${w} differs from servername ${V}`)}}catch(V){for(let w=0;w<O.length;w++)O[w].reject(V);return}let m=this.normalizeOptions(S),y=A.origin;if(m in this.sessions){let V=this.sessions[m],w=-1,x=-1,j;for(let L=0;L<V.length;L++){let F=V[L],J=F.remoteSettings.maxConcurrentStreams;if(J<w)break;if(!F[d].includes(y))continue;let oe=F[l];oe>=J||F[h]||F.destroyed||(j||(w=J),this._isBetterSession(oe,x)&&(j=F,x=oe))}if(j){this._accept(j,O,y,S);return}}if(m in this.queue){if(y in this.queue[m]){this.queue[m][y].listeners.push(...O);return}}else this.queue[m]={[g]:0};let q=()=>{m in this.queue&&this.queue[m][y]===M&&(delete this.queue[m][y],--this.queue[m][g]===0&&delete this.queue[m])},M=async()=>{this._sessionCount++;let V=`${y}:${m}`,w=!1,x;try{let j={...S};j.settings===void 0&&(j.settings=this.settings),j.session===void 0&&(j.session=this.tlsSessionCache.get(V)),x=await(j.createConnection||this.createConnection).call(this,A,j),j.createConnection=()=>x;let L=u.connect(A,j);L[l]=0,L[h]=!1;let F=()=>{let{socket:se}=L,de;return se.servername===!1?(se.servername=se.remoteAddress,de=L.originSet,se.servername=!1):de=L.originSet,de},J=()=>L[l]<L.remoteSettings.maxConcurrentStreams;L.socket.once("session",se=>{this.tlsSessionCache.set(V,se)}),L.once("error",se=>{for(let de=0;de<O.length;de++)O[de].reject(se);this.tlsSessionCache.delete(V)}),L.setTimeout(this.timeout,()=>{L.destroy()}),L.once("close",()=>{if(this._sessionCount--,w){this._emptySessionCount--;let se=this.sessions[m];se.length===1?delete this.sessions[m]:se.splice(se.indexOf(L),1)}else{q();let se=new Error("Session closed without receiving a SETTINGS frame");se.code="HTTP2WRAPPER_NOSETTINGS";for(let de=0;de<O.length;de++)O[de].reject(se)}this._processQueue()});let oe=()=>{let se=this.queue[m];if(!se)return;let de=L[d];for(let ke=0;ke<de.length;ke++){let Le=de[ke];if(Le in se){let{listeners:Ve,completed:Ee}=se[Le],We=0;for(;We<Ve.length&&J();)Ve[We].resolve(L),We++;if(se[Le].listeners.splice(0,We),se[Le].listeners.length===0&&!Ee&&(delete se[Le],--se[g]===0)){delete this.queue[m];break}if(!J())break}}};L.on("origin",()=>{L[d]=F()||[],L[h]=!1,N(this.sessions[m],L),!(L[h]||!J())&&(oe(),J()&&T(this.sessions[m],L))}),L.once("remoteSettings",()=>{if(M.destroyed){let se=new Error("Agent has been destroyed");for(let de=0;de<O.length;de++)O[de].reject(se);L.destroy();return}if(L.setLocalWindowSize&&L.setLocalWindowSize(1024*1024*4),L[d]=F()||[],L.socket.encrypted){let se=L[d][0];if(se!==y){let de=new Error(`Requested origin ${y} does not match server ${se}`);for(let ke=0;ke<O.length;ke++)O[ke].reject(de);L.destroy();return}}q();{let se=this.sessions;if(m in se){let de=se[m];de.splice(C(de,L,_),0,L)}else se[m]=[L]}w=!0,this._emptySessionCount++,this.emit("session",L),this._accept(L,O,y,S),L[l]===0&&this._emptySessionCount>this.maxEmptySessions&&this.closeEmptySessions(this._emptySessionCount-this.maxEmptySessions),L.on("remoteSettings",()=>{J()&&(oe(),J()&&T(this.sessions[m],L))})}),L[s]=L.request,L.request=(se,de)=>{if(L[h])throw new Error("The session is gracefully closing. No new streams are allowed.");let ke=L[s](se,de);return L.ref(),L[l]++===0&&this._emptySessionCount--,ke.once("close",()=>{if(--L[l]===0&&(this._emptySessionCount++,L.unref(),this._emptySessionCount>this.maxEmptySessions||L[h])){L.close();return}L.destroyed||L.closed||J()&&!N(this.sessions[m],L)&&(T(this.sessions[m],L),oe(),L[l]===0&&this._processQueue())}),ke}}catch(j){q(),this._sessionCount--;for(let L=0;L<O.length;L++)O[L].reject(j)}};M.listeners=O,M.completed=!1,M.destroyed=!1,this.queue[m][y]=M,this.queue[m][g]++,this._processQueue()})}request(A,S,O,D){return new Promise((E,m)=>{this.getSession(A,S,[{reject:m,resolve:y=>{try{let q=y.request(O,D);f(q),E(q)}catch(q){m(q)}}}])})}async createConnection(A,S){return p.connect(A,S)}static connect(A,S){S.ALPNProtocols=["h2"];let O=A.port||443,D=A.hostname;typeof S.servername>"u"&&(S.servername=D);let E=a.connect(O,D,S);return S.socket&&(E._peername={family:void 0,address:void 0,port:O}),E}closeEmptySessions(A=Number.POSITIVE_INFINITY){let S=0,{sessions:O}=this;for(let D in O){let E=O[D];for(let m=0;m<E.length;m++){let y=E[m];if(y[l]===0&&(S++,y.close(),S>=A))return S}}return S}destroy(A){let{sessions:S,queue:O}=this;for(let D in S){let E=S[D];for(let m=0;m<E.length;m++)E[m].destroy(A)}for(let D in O){let E=O[D];for(let m in E)E[m].destroyed=!0}this.queue={},this.tlsSessionCache.clear()}get emptySessionCount(){return this._emptySessionCount}get pendingSessionCount(){return this._sessionCount-this._emptySessionCount}get sessionCount(){return this._sessionCount}};p.kCurrentStreamCount=l,p.kGracefullyClosing=h,n.exports={Agent:p,globalAgent:new p}}),Fm=Te((e,n)=>{"use strict";var{Readable:t}=require("stream"),r=class extends t{constructor(a,u){super({emitClose:!1,autoDestroy:!0,highWaterMark:u}),this.statusCode=null,this.statusMessage="",this.httpVersion="2.0",this.httpVersionMajor=2,this.httpVersionMinor=0,this.headers={},this.trailers={},this.req=null,this.aborted=!1,this.complete=!1,this.upgrade=null,this.rawHeaders=[],this.rawTrailers=[],this.socket=a,this._dumped=!1}get connection(){return this.socket}set connection(a){this.socket=a}_destroy(a,u){this.readableEnded||(this.aborted=!0),u(),this.req._request.destroy(a)}setTimeout(a,u){return this.req.setTimeout(a,u),this}_dump(){this._dumped||(this._dumped=!0,this.removeAllListeners("data"),this.resume())}_read(){this.req&&this.req._request.resume()}};n.exports=r}),$T=Te((e,n)=>{"use strict";n.exports=(t,r,a)=>{for(let u of a)t.on(u,(...c)=>r.emit(u,...c))}}),jc=Te((e,n)=>{"use strict";var t=(r,a,u)=>{n.exports[a]=class extends r{constructor(...c){super(typeof u=="string"?u:u(c)),this.name=`${super.name} [${a}]`,this.code=a}}};t(TypeError,"ERR_INVALID_ARG_TYPE",r=>{let a=r[0].includes(".")?"property":"argument",u=r[1],c=Array.isArray(u);return c&&(u=`${u.slice(0,-1).join(", ")} or ${u.slice(-1)}`),`The "${r[0]}" ${a} must be ${c?"one of":"of"} type ${u}. Received ${typeof r[2]}`}),t(TypeError,"ERR_INVALID_PROTOCOL",r=>`Protocol "${r[0]}" not supported. Expected "${r[1]}"`),t(Error,"ERR_HTTP_HEADERS_SENT",r=>`Cannot ${r[0]} headers after they are sent to the client`),t(TypeError,"ERR_INVALID_HTTP_TOKEN",r=>`${r[0]} must be a valid HTTP token [${r[1]}]`),t(TypeError,"ERR_HTTP_INVALID_HEADER_VALUE",r=>`Invalid value "${r[0]} for header "${r[1]}"`),t(TypeError,"ERR_INVALID_CHAR",r=>`Invalid character in ${r[0]} [${r[1]}]`),t(Error,"ERR_HTTP2_NO_SOCKET_MANIPULATION","HTTP/2 sockets should not be directly manipulated (e.g. read and written)")}),KT=Te((e,n)=>{"use strict";n.exports=t=>{switch(t){case":method":case":scheme":case":authority":case":path":return!0;default:return!1}}}),Mm=Te((e,n)=>{"use strict";var{ERR_INVALID_HTTP_TOKEN:t}=jc(),r=KT(),a=/^[\^`\-\w!#$%&*+.|~]+$/;n.exports=u=>{if(typeof u!="string"||!a.test(u)&&!r(u))throw new t("Header name",u)}}),zm=Te((e,n)=>{"use strict";var{ERR_HTTP_INVALID_HEADER_VALUE:t,ERR_INVALID_CHAR:r}=jc(),a=/[^\t\u0020-\u007E\u0080-\u00FF]/;n.exports=(u,c)=>{if(typeof c>"u")throw new t(c,u);if(a.test(c))throw new r("header content",u)}}),HT=Te((e,n)=>{"use strict";var{ERR_HTTP2_NO_SOCKET_MANIPULATION:t}=jc(),r={has(a,u){let c=a.session===void 0?a:a.session.socket;return u in a||u in c},get(a,u){switch(u){case"on":case"once":case"end":case"emit":case"destroy":return a[u].bind(a);case"writable":case"destroyed":return a[u];case"readable":return a.destroyed?!1:a.readable;case"setTimeout":{let{session:c}=a;return c!==void 0?c.setTimeout.bind(c):a.setTimeout.bind(a)}case"write":case"read":case"pause":case"resume":throw new t;default:{let c=a.session===void 0?a:a.session.socket,f=c[u];return typeof f=="function"?f.bind(c):f}}},getPrototypeOf(a){return a.session!==void 0?Reflect.getPrototypeOf(a.session.socket):Reflect.getPrototypeOf(a)},set(a,u,c){switch(u){case"writable":case"readable":case"destroyed":case"on":case"once":case"end":case"emit":case"destroy":return a[u]=c,!0;case"setTimeout":{let{session:f}=a;return f===void 0?a.setTimeout=c:f.setTimeout=c,!0}case"write":case"read":case"pause":case"resume":throw new t;default:{let f=a.session===void 0?a:a.session.socket;return f[u]=c,!0}}}};n.exports=r}),$m=Te((e,n)=>{"use strict";var{URL:t,urlToHttpOptions:r}=require("url"),a=require("http2"),{Writable:u}=require("stream"),{Agent:c,globalAgent:f}=Eo(),l=Fm(),s=$T(),{ERR_INVALID_ARG_TYPE:d,ERR_INVALID_PROTOCOL:h,ERR_HTTP_HEADERS_SENT:g}=jc(),I=Mm(),C=zm(),_=HT(),{HTTP2_HEADER_STATUS:T,HTTP2_HEADER_METHOD:N,HTTP2_HEADER_PATH:B,HTTP2_HEADER_AUTHORITY:p,HTTP2_METHOD_CONNECT:A}=a.constants,S=Symbol("headers"),O=Symbol("origin"),D=Symbol("session"),E=Symbol("options"),m=Symbol("flushedHeaders"),y=Symbol("jobs"),q=Symbol("pendingAgentPromise"),M=class extends u{constructor(V,w,x){if(super({autoDestroy:!1,emitClose:!1}),typeof V=="string"?V=r(new t(V)):V instanceof t?V=r(V):V={...V},typeof w=="function"||w===void 0?(x=w,w=V):w=Object.assign(V,w),w.h2session){if(this[D]=w.h2session,this[D].destroyed)throw new Error("The session has been closed already");this.protocol=this[D].socket.encrypted?"https:":"http:"}else if(w.agent===!1)this.agent=new c({maxEmptySessions:0});else if(typeof w.agent>"u"||w.agent===null)this.agent=f;else if(typeof w.agent.request=="function")this.agent=w.agent;else throw new d("options.agent",["http2wrapper.Agent-like Object","undefined","false"],w.agent);if(this.agent&&(this.protocol=this.agent.protocol),w.protocol&&w.protocol!==this.protocol)throw new h(w.protocol,this.protocol);w.port||(w.port=w.defaultPort||this.agent&&this.agent.defaultPort||443),w.host=w.hostname||w.host||"localhost",delete w.hostname;let{timeout:j}=w;w.timeout=void 0,this[S]=Object.create(null),this[y]=[],this[q]=void 0,this.socket=null,this.connection=null,this.method=w.method||"GET",this.method==="CONNECT"&&(w.path==="/"||w.path===void 0)||(this.path=w.path),this.res=null,this.aborted=!1,this.reusedSocket=!1;let{headers:L}=w;if(L)for(let J in L)this.setHeader(J,L[J]);w.auth&&!("authorization"in this[S])&&(this[S].authorization="Basic "+Buffer.from(w.auth).toString("base64")),w.session=w.tlsSession,w.path=w.socketPath,this[E]=w,this[O]=new t(`${this.protocol}//${w.servername||w.host}:${w.port}`);let F=w._reuseSocket;F&&(w.createConnection=(...J)=>F.destroyed?this.agent.createConnection(...J):F,this.agent.getSession(this[O],this[E]).catch(()=>{})),j&&this.setTimeout(j),x&&this.once("response",x),this[m]=!1}get method(){return this[S][N]}set method(V){V&&(this[S][N]=V.toUpperCase())}get path(){let V=this.method==="CONNECT"?p:B;return this[S][V]}set path(V){if(V){let w=this.method==="CONNECT"?p:B;this[S][w]=V}}get host(){return this[O].hostname}set host(V){}get _mustNotHaveABody(){return this.method==="GET"||this.method==="HEAD"||this.method==="DELETE"}_write(V,w,x){if(this._mustNotHaveABody){x(new Error("The GET, HEAD and DELETE methods must NOT have a body"));return}this.flushHeaders();let j=()=>this._request.write(V,w,x);this._request?j():this[y].push(j)}_final(V){this.flushHeaders();let w=()=>{if(this._mustNotHaveABody||this.method==="CONNECT"){V();return}this._request.end(V)};this._request?w():this[y].push(w)}abort(){this.res&&this.res.complete||(this.aborted||process.nextTick(()=>this.emit("abort")),this.aborted=!0,this.destroy())}async _destroy(V,w){this.res&&this.res._dump(),this._request?this._request.destroy():process.nextTick(()=>{this.emit("close")});try{await this[q]}catch(x){this.aborted&&(V=x)}w(V)}async flushHeaders(){if(this[m]||this.destroyed)return;this[m]=!0;let V=this.method===A,w=x=>{if(this._request=x,this.destroyed){x.destroy();return}V||s(x,this,["timeout","continue"]),x.once("error",L=>{this.destroy(L)}),x.once("aborted",()=>{let{res:L}=this;L?(L.aborted=!0,L.emit("aborted"),L.destroy()):this.destroy(new Error("The server aborted the HTTP/2 stream"))});let j=(L,F,J)=>{let oe=new l(this.socket,x.readableHighWaterMark);this.res=oe,oe.url=`${this[O].origin}${this.path}`,oe.req=this,oe.statusCode=L[T],oe.headers=L,oe.rawHeaders=J,oe.once("end",()=>{oe.complete=!0,oe.socket=null,oe.connection=null}),V?(oe.upgrade=!0,this.emit("connect",oe,x,Buffer.alloc(0))?this.emit("close"):x.destroy()):(x.on("data",se=>{!oe._dumped&&!oe.push(se)&&x.pause()}),x.once("end",()=>{this.aborted||oe.push(null)}),this.emit("response",oe)||oe._dump())};x.once("response",j),x.once("headers",L=>this.emit("information",{statusCode:L[T]})),x.once("trailers",(L,F,J)=>{let{res:oe}=this;if(oe===null){j(L,F,J);return}oe.trailers=L,oe.rawTrailers=J}),x.once("close",()=>{let{aborted:L,res:F}=this;if(F){L&&(F.aborted=!0,F.emit("aborted"),F.destroy());let J=()=>{F.emit("close"),this.destroy(),this.emit("close")};F.readable?F.once("end",J):J();return}if(!this.destroyed){this.destroy(new Error("The HTTP/2 stream has been early terminated")),this.emit("close");return}this.destroy(),this.emit("close")}),this.socket=new Proxy(x,_);for(let L of this[y])L();this[y].length=0,this.emit("socket",this.socket)};if(!(p in this[S])&&!V&&(this[S][p]=this[O].host),this[D])try{w(this[D].request(this[S]))}catch(x){this.destroy(x)}else{this.reusedSocket=!0;try{let x=this.agent.request(this[O],this[E],this[S]);this[q]=x,w(await x),this[q]=!1}catch(x){this[q]=!1,this.destroy(x)}}}get connection(){return this.socket}set connection(V){this.socket=V}getHeaderNames(){return Object.keys(this[S])}hasHeader(V){if(typeof V!="string")throw new d("name","string",V);return!!this[S][V.toLowerCase()]}getHeader(V){if(typeof V!="string")throw new d("name","string",V);return this[S][V.toLowerCase()]}get headersSent(){return this[m]}removeHeader(V){if(typeof V!="string")throw new d("name","string",V);if(this.headersSent)throw new g("remove");delete this[S][V.toLowerCase()]}setHeader(V,w){if(this.headersSent)throw new g("set");I(V),C(V,w);let x=V.toLowerCase();if(x==="connection"){if(w.toLowerCase()==="keep-alive")return;throw new Error(`Invalid 'connection' header: ${w}`)}x==="host"&&this.method==="CONNECT"?this[S][p]=w:this[S][x]=w}setNoDelay(){}setSocketKeepAlive(){}setTimeout(V,w){let x=()=>this._request.setTimeout(V,w);return this._request?x():this[y].push(x),this}get maxHeadersCount(){if(!this.destroyed&&this._request)return this._request.session.localSettings.maxHeaderListSize}set maxHeadersCount(V){}};n.exports=M}),WT=Te((e,n)=>{"use strict";var t=require("tls");n.exports=(r={},a=t.connect)=>new Promise((u,c)=>{let f=!1,l,s=async()=>{await h,l.off("timeout",d),l.off("error",c),r.resolveSocket?(u({alpnProtocol:l.alpnProtocol,socket:l,timeout:f}),f&&(await Promise.resolve(),l.emit("timeout"))):(l.destroy(),u({alpnProtocol:l.alpnProtocol,timeout:f}))},d=async()=>{f=!0,s()},h=(async()=>{try{l=await a(r,s),l.on("error",c),l.once("timeout",d)}catch(g){c(g)}})()})}),GT=Te((e,n)=>{"use strict";var{isIP:t}=require("net"),r=require("assert"),a=u=>{if(u[0]==="["){let f=u.indexOf("]");return r(f!==-1),u.slice(1,f)}let c=u.indexOf(":");return c===-1?u:u.slice(0,c)};n.exports=u=>{let c=a(u);return t(c)?"":c}}),QT=Te((e,n)=>{"use strict";var{URL:t,urlToHttpOptions:r}=require("url"),a=require("http"),u=require("https"),c=WT(),f=Vm(),{Agent:l,globalAgent:s}=Eo(),d=$m(),h=GT(),g=qm(),I=new f({maxSize:100}),C=new Map,_=(B,p,A)=>{p._httpMessage={shouldKeepAlive:!0};let S=()=>{B.emit("free",p,A)};p.on("free",S);let O=()=>{B.removeSocket(p,A)};p.on("close",O);let D=()=>{let{freeSockets:m}=B;for(let y of Object.values(m))if(y.includes(p)){p.destroy();return}};p.on("timeout",D);let E=()=>{B.removeSocket(p,A),p.off("close",O),p.off("free",S),p.off("timeout",D),p.off("agentRemove",E)};p.on("agentRemove",E),B.emit("free",p,A)},T=(B,p=new Map,A=void 0)=>async S=>{let O=`${S.host}:${S.port}:${S.ALPNProtocols.sort()}`;if(!B.has(O)){if(p.has(O))return{alpnProtocol:(await p.get(O)).alpnProtocol};let{path:D}=S;S.path=S.socketPath;let E=c(S,A);p.set(O,E);try{let m=await E;return B.set(O,m.alpnProtocol),p.delete(O),S.path=D,m}catch(m){throw p.delete(O),S.path=D,m}}return{alpnProtocol:B.get(O)}},N=T(I,C);n.exports=async(B,p,A)=>{if(typeof B=="string"?B=r(new t(B)):B instanceof t?B=r(B):B={...B},typeof p=="function"||p===void 0?(A=p,p=B):p=Object.assign(B,p),p.ALPNProtocols=p.ALPNProtocols||["h2","http/1.1"],!Array.isArray(p.ALPNProtocols)||p.ALPNProtocols.length===0)throw new Error("The `ALPNProtocols` option must be an Array with at least one entry");p.protocol=p.protocol||"https:";let S=p.protocol==="https:";p.host=p.hostname||p.host||"localhost",p.session=p.tlsSession,p.servername=p.servername||h(p.headers&&p.headers.host||p.host),p.port=p.port||(S?443:80),p._defaultAgent=S?u.globalAgent:a.globalAgent;let O=p.resolveProtocol||N,{agent:D}=p;if(D!==void 0&&D!==!1&&D.constructor.name!=="Object")throw new Error("The `options.agent` can be only an object `http`, `https` or `http2` properties");if(S){p.resolveSocket=!0;let{socket:E,alpnProtocol:m,timeout:y}=await O(p);if(y){E&&E.destroy();let M=new Error(`Timed out resolving ALPN: ${p.timeout} ms`);throw M.code="ETIMEDOUT",M.ms=p.timeout,M}E&&p.createConnection&&(E.destroy(),E=void 0),delete p.resolveSocket;let q=m==="h2";if(D&&(D=q?D.http2:D.https,p.agent=D),D===void 0&&(D=q?s:u.globalAgent),E)if(D===!1)E.destroy();else{let M=(q?l:u.Agent).prototype.createConnection;D.createConnection===M?q?p._reuseSocket=E:_(D,E,p):E.destroy()}if(q)return g(new d(p,A))}else D&&(p.agent=D.http);return g(a.request(p,A))},n.exports.protocolCache=I,n.exports.resolveProtocol=N,n.exports.createResolveProtocol=T}),Km=Te((e,n)=>{"use strict";var t=require("stream"),r=require("tls"),a=new r.TLSSocket(new t.PassThrough)._handle._parentWrap.constructor;n.exports=a}),Hm=Te((e,n)=>{"use strict";var t=class extends Error{constructor(r,a=""){super(`The proxy server rejected the request with status code ${r} (${a||"empty status message"})`),this.statusCode=r,this.statusMessage=a}};n.exports=t}),YT=Te((e,n)=>{"use strict";var t=(r,a,u)=>{if(!u.some(c=>typeof c=="string"?typeof a===c:a instanceof c)){let c=u.map(f=>typeof f=="string"?f:f.name);throw new TypeError(`Expected '${r}' to be a type of ${c.join(" or ")}, got ${typeof a}`)}};n.exports=t}),Wm=Te((e,n)=>{"use strict";var{URL:t}=require("url"),r=YT();n.exports=(a,u)=>{r("proxyOptions",u,["object"]),r("proxyOptions.headers",u.headers,["object","undefined"]),r("proxyOptions.raw",u.raw,["boolean","undefined"]),r("proxyOptions.url",u.url,[t,"string"]);let c=new t(u.url);a.proxyOptions={raw:!0,...u,headers:{...u.headers},url:c}}}),Zd=Te((e,n)=>{"use strict";n.exports=t=>{let{username:r,password:a}=t.proxyOptions.url;if(r||a){let u=`${r}:${a}`,c=`Basic ${Buffer.from(u).toString("base64")}`;return{"proxy-authorization":c,authorization:c}}return{}}}),ZT=Te((e,n)=>{"use strict";var t=require("tls"),r=require("http"),a=require("https"),u=Km(),{globalAgent:c}=Eo(),f=Hm(),l=Wm(),s=Zd(),d=(I,C,_)=>{(async()=>{try{let{proxyOptions:T}=I,{url:N,headers:B,raw:p}=T,A=await c.request(N,T,{...s(I),...B,":method":"CONNECT",":authority":`${C.host}:${C.port}`});A.once("error",_),A.once("response",S=>{let O=S[":status"];if(O!==200){_(new f(O,""));return}let D=I instanceof a.Agent;if(p&&D){C.socket=A;let m=t.connect(C);m.once("close",()=>{A.destroy()}),_(null,m);return}let E=new u(A);E.encrypted=!1,E._handle.getpeername=m=>{m.family=void 0,m.address=void 0,m.port=void 0},_(null,E)})}catch(T){_(T)}})()},h=class extends r.Agent{constructor(I){super(I),l(this,I.proxyOptions)}createConnection(I,C){d(this,I,C)}},g=class extends a.Agent{constructor(I){super(I),l(this,I.proxyOptions)}createConnection(I,C){d(this,I,C)}};n.exports={HttpOverHttp2:h,HttpsOverHttp2:g}}),Gm=Te((e,n)=>{"use strict";var{Agent:t}=Eo(),r=Km(),a=Hm(),u=Wm(),c=class extends t{constructor(f){super(f),u(this,f.proxyOptions)}async createConnection(f,l){let s=`${f.hostname}:${f.port||443}`,[d,h,g]=await this._getProxyStream(s);if(h!==200)throw new a(h,g);if(this.proxyOptions.raw)l.socket=d;else{let I=new r(d);return I.encrypted=!1,I._handle.getpeername=C=>{C.family=void 0,C.address=void 0,C.port=void 0},I}return super.createConnection(f,l)}};n.exports=c}),XT=Te((e,n)=>{"use strict";var{globalAgent:t}=Eo(),r=Gm(),a=Zd(),u=f=>new Promise((l,s)=>{f.once("error",s),f.once("response",d=>{f.off("error",s),l(d[":status"])})}),c=class extends r{async _getProxyStream(f){let{proxyOptions:l}=this,s={...a(this),...l.headers,":method":"CONNECT",":authority":f},d=await t.request(l.url,l,s),h=await u(d);return[d,h,""]}};n.exports=c}),JT=Te((e,n)=>{"use strict";var t=require("http"),r=require("https"),a=Gm(),u=Zd(),c=l=>new Promise((s,d)=>{let h=(g,I,C)=>{I.unshift(C),l.off("error",d),s([I,g.statusCode,g.statusMessage])};l.once("error",d),l.once("connect",h)}),f=class extends a{async _getProxyStream(l){let{proxyOptions:s}=this,{url:d,headers:h}=this.proxyOptions,g=(d.protocol==="https:"?r:t).request({...s,hostname:d.hostname,port:d.port,path:l,headers:{...u(this),...h,host:l},method:"CONNECT"}).end();return c(g)}};n.exports={Http2OverHttp:f,Http2OverHttps:f}}),e3=Te((e,n)=>{"use strict";var t=require("http2"),{Agent:r,globalAgent:a}=Eo(),u=$m(),c=Fm(),f=QT(),{HttpOverHttp2:l,HttpsOverHttp2:s}=ZT(),d=XT(),{Http2OverHttp:h,Http2OverHttps:g}=JT(),I=Mm(),C=zm(),_=(N,B,p)=>new u(N,B,p),T=(N,B,p)=>{let A=new u(N,B,p);return A.end(),A};n.exports={...t,ClientRequest:u,IncomingMessage:c,Agent:r,globalAgent:a,request:_,get:T,auto:f,proxies:{HttpOverHttp2:l,HttpsOverHttp2:s,Http2OverHttp2:d,Http2OverHttp:h,Http2OverHttps:g},validateHeaderName:I,validateHeaderValue:C}}),t3=Te((e,n)=>{if(!globalThis.DOMException)try{let{MessageChannel:t}=require("worker_threads"),r=new t().port1,a=new ArrayBuffer;r.postMessage(a,[a,a])}catch(t){t.constructor.name==="DOMException"&&(globalThis.DOMException=t.constructor)}n.exports=globalThis.DOMException}),Vc=Te((e,n)=>{var t=function(r,a){Error.call(this,r),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="JsonWebTokenError",this.message=r,a&&(this.inner=a)};t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,n.exports=t}),Qm=Te((e,n)=>{var t=Vc(),r=function(a,u){t.call(this,a),this.name="NotBeforeError",this.date=u};r.prototype=Object.create(t.prototype),r.prototype.constructor=r,n.exports=r}),Ym=Te((e,n)=>{var t=Vc(),r=function(a,u){t.call(this,a),this.name="TokenExpiredError",this.expiredAt=u};r.prototype=Object.create(t.prototype),r.prototype.constructor=r,n.exports=r}),Du=Te((e,n)=>{var t=require("buffer"),r=t.Buffer;function a(c,f){for(var l in c)f[l]=c[l]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?n.exports=t:(a(t,e),e.Buffer=u);function u(c,f,l){return r(c,f,l)}u.prototype=Object.create(r.prototype),a(r,u),u.from=function(c,f,l){if(typeof c=="number")throw new TypeError("Argument must not be a number");return r(c,f,l)},u.alloc=function(c,f,l){if(typeof c!="number")throw new TypeError("Argument must be a number");var s=r(c);return f!==void 0?typeof l=="string"?s.fill(f,l):s.fill(f):s.fill(0),s},u.allocUnsafe=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return r(c)},u.allocUnsafeSlow=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(c)}}),Zm=Te((e,n)=>{var t=Du().Buffer,r=require("stream"),a=require("util");function u(c){if(this.buffer=null,this.writable=!0,this.readable=!0,!c)return this.buffer=t.alloc(0),this;if(typeof c.pipe=="function")return this.buffer=t.alloc(0),c.pipe(this),this;if(c.length||typeof c=="object")return this.buffer=c,this.writable=!1,process.nextTick(function(){this.emit("end",c),this.readable=!1,this.emit("close")}.bind(this)),this;throw new TypeError("Unexpected data type ("+typeof c+")")}a.inherits(u,r),u.prototype.write=function(c){this.buffer=t.concat([this.buffer,t.from(c)]),this.emit("data",c)},u.prototype.end=function(c){c&&this.write(c),this.emit("end",c),this.emit("close"),this.writable=!1,this.readable=!1},n.exports=u}),r3=Te((e,n)=>{"use strict";var t=require("buffer").Buffer,r=require("buffer").SlowBuffer;n.exports=a;function a(f,l){if(!t.isBuffer(f)||!t.isBuffer(l)||f.length!==l.length)return!1;for(var s=0,d=0;d<f.length;d++)s|=f[d]^l[d];return s===0}a.install=function(){t.prototype.equal=r.prototype.equal=function(f){return a(this,f)}};var u=t.prototype.equal,c=r.prototype.equal;a.restore=function(){t.prototype.equal=u,r.prototype.equal=c}}),n3=Te((e,n)=>{"use strict";function t(u){var c=(u/8|0)+(u%8===0?0:1);return c}var r={ES256:t(256),ES384:t(384),ES512:t(521)};function a(u){var c=r[u];if(c)return c;throw new Error('Unknown algorithm "'+u+'"')}n.exports=a}),i3=Te((e,n)=>{"use strict";var t=Du().Buffer,r=n3(),a=128,u=0,c=32,f=16,l=2,s=f|c|u<<6,d=l|u<<6;function h(T){return T.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function g(T){if(t.isBuffer(T))return T;if(typeof T=="string")return t.from(T,"base64");throw new TypeError("ECDSA signature must be a Base64 string or a Buffer")}function I(T,N){T=g(T);var B=r(N),p=B+1,A=T.length,S=0;if(T[S++]!==s)throw new Error('Could not find expected "seq"');var O=T[S++];if(O===(a|1)&&(O=T[S++]),A-S<O)throw new Error('"seq" specified length of "'+O+'", only "'+(A-S)+'" remaining');if(T[S++]!==d)throw new Error('Could not find expected "int" for "r"');var D=T[S++];if(A-S-2<D)throw new Error('"r" specified length of "'+D+'", only "'+(A-S-2)+'" available');if(p<D)throw new Error('"r" specified length of "'+D+'", max of "'+p+'" is acceptable');var E=S;if(S+=D,T[S++]!==d)throw new Error('Could not find expected "int" for "s"');var m=T[S++];if(A-S!==m)throw new Error('"s" specified length of "'+m+'", expected "'+(A-S)+'"');if(p<m)throw new Error('"s" specified length of "'+m+'", max of "'+p+'" is acceptable');var y=S;if(S+=m,S!==A)throw new Error('Expected to consume entire buffer, but "'+(A-S)+'" bytes remain');var q=B-D,M=B-m,V=t.allocUnsafe(q+D+M+m);for(S=0;S<q;++S)V[S]=0;T.copy(V,S,E+Math.max(-q,0),E+D),S=B;for(var w=S;S<w+M;++S)V[S]=0;return T.copy(V,S,y+Math.max(-M,0),y+m),V=V.toString("base64"),V=h(V),V}function C(T,N,B){for(var p=0;N+p<B&&T[N+p]===0;)++p;var A=T[N+p]>=a;return A&&--p,p}function _(T,N){T=g(T);var B=r(N),p=T.length;if(p!==B*2)throw new TypeError('"'+N+'" signatures must be "'+B*2+'" bytes, saw "'+p+'"');var A=C(T,0,B),S=C(T,B,T.length),O=B-A,D=B-S,E=1+1+O+1+1+D,m=E<a,y=t.allocUnsafe((m?2:3)+E),q=0;return y[q++]=s,m?y[q++]=E:(y[q++]=a|1,y[q++]=E&255),y[q++]=d,y[q++]=O,A<0?(y[q++]=0,q+=T.copy(y,q,0,B)):q+=T.copy(y,q,A,B),y[q++]=d,y[q++]=D,S<0?(y[q++]=0,T.copy(y,q,B)):T.copy(y,q,B+S),y}n.exports={derToJose:I,joseToDer:_}}),Xm=Te((e,n)=>{var t=r3(),r=Du().Buffer,a=require("crypto"),u=i3(),c=require("util"),f=`"%s" is not a valid algorithm.
  Supported algorithms are:
  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".`,l="secret must be a string or buffer",s="key must be a string or a buffer",d="key must be a string, a buffer or an object",h=typeof a.createPublicKey=="function";h&&(s+=" or a KeyObject",l+="or a KeyObject");function g(w){if(!r.isBuffer(w)&&typeof w!="string"&&(!h||typeof w!="object"||typeof w.type!="string"||typeof w.asymmetricKeyType!="string"||typeof w.export!="function"))throw N(s)}function I(w){if(!r.isBuffer(w)&&typeof w!="string"&&typeof w!="object")throw N(d)}function C(w){if(!r.isBuffer(w)){if(typeof w=="string")return w;if(!h||typeof w!="object"||w.type!=="secret"||typeof w.export!="function")throw N(l)}}function _(w){return w.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function T(w){w=w.toString();var x=4-w.length%4;if(x!==4)for(var j=0;j<x;++j)w+="=";return w.replace(/\-/g,"+").replace(/_/g,"/")}function N(w){var x=[].slice.call(arguments,1),j=c.format.bind(c,w).apply(null,x);return new TypeError(j)}function B(w){return r.isBuffer(w)||typeof w=="string"}function p(w){return B(w)||(w=JSON.stringify(w)),w}function A(w){return function(x,j){C(j),x=p(x);var L=a.createHmac("sha"+w,j),F=(L.update(x),L.digest("base64"));return _(F)}}function S(w){return function(x,j,L){var F=A(w)(x,L);return t(r.from(j),r.from(F))}}function O(w){return function(x,j){I(j),x=p(x);var L=a.createSign("RSA-SHA"+w),F=(L.update(x),L.sign(j,"base64"));return _(F)}}function D(w){return function(x,j,L){g(L),x=p(x),j=T(j);var F=a.createVerify("RSA-SHA"+w);return F.update(x),F.verify(L,j,"base64")}}function E(w){return function(x,j){I(j),x=p(x);var L=a.createSign("RSA-SHA"+w),F=(L.update(x),L.sign({key:j,padding:a.constants.RSA_PKCS1_PSS_PADDING,saltLength:a.constants.RSA_PSS_SALTLEN_DIGEST},"base64"));return _(F)}}function m(w){return function(x,j,L){g(L),x=p(x),j=T(j);var F=a.createVerify("RSA-SHA"+w);return F.update(x),F.verify({key:L,padding:a.constants.RSA_PKCS1_PSS_PADDING,saltLength:a.constants.RSA_PSS_SALTLEN_DIGEST},j,"base64")}}function y(w){var x=O(w);return function(){var j=x.apply(null,arguments);return j=u.derToJose(j,"ES"+w),j}}function q(w){var x=D(w);return function(j,L,F){L=u.joseToDer(L,"ES"+w).toString("base64");var J=x(j,L,F);return J}}function M(){return function(){return""}}function V(){return function(w,x){return x===""}}n.exports=function(w){var x={hs:A,rs:O,ps:E,es:y,none:M},j={hs:S,rs:D,ps:m,es:q,none:V},L=w.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i);if(!L)throw N(f,w);var F=(L[1]||L[3]).toLowerCase(),J=L[2];return{sign:x[F](J),verify:j[F](J)}}}),Jm=Te((e,n)=>{var t=require("buffer").Buffer;n.exports=function(r){return typeof r=="string"?r:typeof r=="number"||t.isBuffer(r)?r.toString():JSON.stringify(r)}}),a3=Te((e,n)=>{var t=Du().Buffer,r=Zm(),a=Xm(),u=require("stream"),c=Jm(),f=require("util");function l(g,I){return t.from(g,I).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function s(g,I,C){C=C||"utf8";var _=l(c(g),"binary"),T=l(c(I),C);return f.format("%s.%s",_,T)}function d(g){var I=g.header,C=g.payload,_=g.secret||g.privateKey,T=g.encoding,N=a(I.alg),B=s(I,C,T),p=N.sign(B,_);return f.format("%s.%s",B,p)}function h(g){var I=g.secret||g.privateKey||g.key,C=new r(I);this.readable=!0,this.header=g.header,this.encoding=g.encoding,this.secret=this.privateKey=this.key=C,this.payload=new r(g.payload),this.secret.once("close",function(){!this.payload.writable&&this.readable&&this.sign()}.bind(this)),this.payload.once("close",function(){!this.secret.writable&&this.readable&&this.sign()}.bind(this))}f.inherits(h,u),h.prototype.sign=function(){try{var g=d({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",g),this.emit("data",g),this.emit("end"),this.readable=!1,g}catch(I){this.readable=!1,this.emit("error",I),this.emit("close")}},h.sign=d,n.exports=h}),s3=Te((e,n)=>{var t=Du().Buffer,r=Zm(),a=Xm(),u=require("stream"),c=Jm(),f=require("util"),l=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function s(p){return Object.prototype.toString.call(p)==="[object Object]"}function d(p){if(s(p))return p;try{return JSON.parse(p)}catch{return}}function h(p){var A=p.split(".",1)[0];return d(t.from(A,"base64").toString("binary"))}function g(p){return p.split(".",2).join(".")}function I(p){return p.split(".")[2]}function C(p,A){A=A||"utf8";var S=p.split(".")[1];return t.from(S,"base64").toString(A)}function _(p){return l.test(p)&&!!h(p)}function T(p,A,S){if(!A){var O=new Error("Missing algorithm parameter for jws.verify");throw O.code="MISSING_ALGORITHM",O}p=c(p);var D=I(p),E=g(p),m=a(A);return m.verify(E,D,S)}function N(p,A){if(A=A||{},p=c(p),!_(p))return null;var S=h(p);if(!S)return null;var O=C(p);return(S.typ==="JWT"||A.json)&&(O=JSON.parse(O,A.encoding)),{header:S,payload:O,signature:I(p)}}function B(p){p=p||{};var A=p.secret||p.publicKey||p.key,S=new r(A);this.readable=!0,this.algorithm=p.algorithm,this.encoding=p.encoding,this.secret=this.publicKey=this.key=S,this.signature=new r(p.signature),this.secret.once("close",function(){!this.signature.writable&&this.readable&&this.verify()}.bind(this)),this.signature.once("close",function(){!this.secret.writable&&this.readable&&this.verify()}.bind(this))}f.inherits(B,u),B.prototype.verify=function(){try{var p=T(this.signature.buffer,this.algorithm,this.key.buffer),A=N(this.signature.buffer,this.encoding);return this.emit("done",p,A),this.emit("data",p),this.emit("end"),this.readable=!1,p}catch(S){this.readable=!1,this.emit("error",S),this.emit("close")}},B.decode=N,B.isValid=_,B.verify=T,n.exports=B}),Xd=Te(e=>{var n=a3(),t=s3(),r=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"];e.ALGORITHMS=r,e.sign=n.sign,e.verify=t.verify,e.decode=t.decode,e.isValid=t.isValid,e.createSign=function(a){return new n(a)},e.createVerify=function(a){return new t(a)}}),ev=Te((e,n)=>{var t=Xd();n.exports=function(r,a){a=a||{};var u=t.decode(r,a);if(!u)return null;var c=u.payload;if(typeof c=="string")try{var f=JSON.parse(c);f!==null&&typeof f=="object"&&(c=f)}catch{}return a.complete===!0?{header:u.header,payload:c,signature:u.signature}:c}}),o3=Te((e,n)=>{var t=1e3,r=t*60,a=r*60,u=a*24,c=u*7,f=u*365.25;n.exports=function(g,I){I=I||{};var C=typeof g;if(C==="string"&&g.length>0)return l(g);if(C==="number"&&isFinite(g))return I.long?d(g):s(g);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(g))};function l(g){if(g=String(g),!(g.length>100)){var I=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(g);if(I){var C=parseFloat(I[1]),_=(I[2]||"ms").toLowerCase();switch(_){case"years":case"year":case"yrs":case"yr":case"y":return C*f;case"weeks":case"week":case"w":return C*c;case"days":case"day":case"d":return C*u;case"hours":case"hour":case"hrs":case"hr":case"h":return C*a;case"minutes":case"minute":case"mins":case"min":case"m":return C*r;case"seconds":case"second":case"secs":case"sec":case"s":return C*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return C;default:return}}}}function s(g){var I=Math.abs(g);return I>=u?Math.round(g/u)+"d":I>=a?Math.round(g/a)+"h":I>=r?Math.round(g/r)+"m":I>=t?Math.round(g/t)+"s":g+"ms"}function d(g){var I=Math.abs(g);return I>=u?h(g,I,u,"day"):I>=a?h(g,I,a,"hour"):I>=r?h(g,I,r,"minute"):I>=t?h(g,I,t,"second"):g+" ms"}function h(g,I,C,_){var T=I>=C*1.5;return Math.round(g/C)+" "+_+(T?"s":"")}}),tv=Te((e,n)=>{var t=o3();n.exports=function(r,a){var u=a||Math.floor(Date.now()/1e3);if(typeof r=="string"){var c=t(r);return typeof c>"u"?void 0:Math.floor(u+c/1e3)}else return typeof r=="number"?u+r:void 0}}),qc=Te((e,n)=>{var t="2.0.0",r=Number.MAX_SAFE_INTEGER||9007199254740991,a=16;n.exports={SEMVER_SPEC_VERSION:t,MAX_LENGTH:256,MAX_SAFE_INTEGER:r,MAX_SAFE_COMPONENT_LENGTH:a}}),Fc=Te((e,n)=>{var t=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...r)=>console.error("SEMVER",...r):()=>{};n.exports=t}),Co=Te((e,n)=>{var{MAX_SAFE_COMPONENT_LENGTH:t}=qc(),r=Fc();e=n.exports={};var a=e.re=[],u=e.src=[],c=e.t={},f=0,l=(s,d,h)=>{let g=f++;r(s,g,d),c[s]=g,u[g]=d,a[g]=new RegExp(d,h?"g":void 0)};l("NUMERICIDENTIFIER","0|[1-9]\\d*"),l("NUMERICIDENTIFIERLOOSE","[0-9]+"),l("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),l("MAINVERSION",`(${u[c.NUMERICIDENTIFIER]})\\.(${u[c.NUMERICIDENTIFIER]})\\.(${u[c.NUMERICIDENTIFIER]})`),l("MAINVERSIONLOOSE",`(${u[c.NUMERICIDENTIFIERLOOSE]})\\.(${u[c.NUMERICIDENTIFIERLOOSE]})\\.(${u[c.NUMERICIDENTIFIERLOOSE]})`),l("PRERELEASEIDENTIFIER",`(?:${u[c.NUMERICIDENTIFIER]}|${u[c.NONNUMERICIDENTIFIER]})`),l("PRERELEASEIDENTIFIERLOOSE",`(?:${u[c.NUMERICIDENTIFIERLOOSE]}|${u[c.NONNUMERICIDENTIFIER]})`),l("PRERELEASE",`(?:-(${u[c.PRERELEASEIDENTIFIER]}(?:\\.${u[c.PRERELEASEIDENTIFIER]})*))`),l("PRERELEASELOOSE",`(?:-?(${u[c.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${u[c.PRERELEASEIDENTIFIERLOOSE]})*))`),l("BUILDIDENTIFIER","[0-9A-Za-z-]+"),l("BUILD",`(?:\\+(${u[c.BUILDIDENTIFIER]}(?:\\.${u[c.BUILDIDENTIFIER]})*))`),l("FULLPLAIN",`v?${u[c.MAINVERSION]}${u[c.PRERELEASE]}?${u[c.BUILD]}?`),l("FULL",`^${u[c.FULLPLAIN]}$`),l("LOOSEPLAIN",`[v=\\s]*${u[c.MAINVERSIONLOOSE]}${u[c.PRERELEASELOOSE]}?${u[c.BUILD]}?`),l("LOOSE",`^${u[c.LOOSEPLAIN]}$`),l("GTLT","((?:<|>)?=?)"),l("XRANGEIDENTIFIERLOOSE",`${u[c.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),l("XRANGEIDENTIFIER",`${u[c.NUMERICIDENTIFIER]}|x|X|\\*`),l("XRANGEPLAIN",`[v=\\s]*(${u[c.XRANGEIDENTIFIER]})(?:\\.(${u[c.XRANGEIDENTIFIER]})(?:\\.(${u[c.XRANGEIDENTIFIER]})(?:${u[c.PRERELEASE]})?${u[c.BUILD]}?)?)?`),l("XRANGEPLAINLOOSE",`[v=\\s]*(${u[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[c.XRANGEIDENTIFIERLOOSE]})(?:${u[c.PRERELEASELOOSE]})?${u[c.BUILD]}?)?)?`),l("XRANGE",`^${u[c.GTLT]}\\s*${u[c.XRANGEPLAIN]}$`),l("XRANGELOOSE",`^${u[c.GTLT]}\\s*${u[c.XRANGEPLAINLOOSE]}$`),l("COERCE",`(^|[^\\d])(\\d{1,${t}})(?:\\.(\\d{1,${t}}))?(?:\\.(\\d{1,${t}}))?(?:$|[^\\d])`),l("COERCERTL",u[c.COERCE],!0),l("LONETILDE","(?:~>?)"),l("TILDETRIM",`(\\s*)${u[c.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",l("TILDE",`^${u[c.LONETILDE]}${u[c.XRANGEPLAIN]}$`),l("TILDELOOSE",`^${u[c.LONETILDE]}${u[c.XRANGEPLAINLOOSE]}$`),l("LONECARET","(?:\\^)"),l("CARETTRIM",`(\\s*)${u[c.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",l("CARET",`^${u[c.LONECARET]}${u[c.XRANGEPLAIN]}$`),l("CARETLOOSE",`^${u[c.LONECARET]}${u[c.XRANGEPLAINLOOSE]}$`),l("COMPARATORLOOSE",`^${u[c.GTLT]}\\s*(${u[c.LOOSEPLAIN]})$|^$`),l("COMPARATOR",`^${u[c.GTLT]}\\s*(${u[c.FULLPLAIN]})$|^$`),l("COMPARATORTRIM",`(\\s*)${u[c.GTLT]}\\s*(${u[c.LOOSEPLAIN]}|${u[c.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",l("HYPHENRANGE",`^\\s*(${u[c.XRANGEPLAIN]})\\s+-\\s+(${u[c.XRANGEPLAIN]})\\s*$`),l("HYPHENRANGELOOSE",`^\\s*(${u[c.XRANGEPLAINLOOSE]})\\s+-\\s+(${u[c.XRANGEPLAINLOOSE]})\\s*$`),l("STAR","(<|>)?=?\\s*\\*"),l("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),l("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}),Mc=Te((e,n)=>{var t=["includePrerelease","loose","rtl"],r=a=>a?typeof a!="object"?{loose:!0}:t.filter(u=>a[u]).reduce((u,c)=>(u[c]=!0,u),{}):{};n.exports=r}),rv=Te((e,n)=>{var t=/^[0-9]+$/,r=(u,c)=>{let f=t.test(u),l=t.test(c);return f&&l&&(u=+u,c=+c),u===c?0:f&&!l?-1:l&&!f?1:u<c?-1:1},a=(u,c)=>r(c,u);n.exports={compareIdentifiers:r,rcompareIdentifiers:a}}),sn=Te((e,n)=>{var t=Fc(),{MAX_LENGTH:r,MAX_SAFE_INTEGER:a}=qc(),{re:u,t:c}=Co(),f=Mc(),{compareIdentifiers:l}=rv(),s=class{constructor(d,h){if(h=f(h),d instanceof s){if(d.loose===!!h.loose&&d.includePrerelease===!!h.includePrerelease)return d;d=d.version}else if(typeof d!="string")throw new TypeError(`Invalid Version: ${d}`);if(d.length>r)throw new TypeError(`version is longer than ${r} characters`);t("SemVer",d,h),this.options=h,this.loose=!!h.loose,this.includePrerelease=!!h.includePrerelease;let g=d.trim().match(h.loose?u[c.LOOSE]:u[c.FULL]);if(!g)throw new TypeError(`Invalid Version: ${d}`);if(this.raw=d,this.major=+g[1],this.minor=+g[2],this.patch=+g[3],this.major>a||this.major<0)throw new TypeError("Invalid major version");if(this.minor>a||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>a||this.patch<0)throw new TypeError("Invalid patch version");g[4]?this.prerelease=g[4].split(".").map(I=>{if(/^[0-9]+$/.test(I)){let C=+I;if(C>=0&&C<a)return C}return I}):this.prerelease=[],this.build=g[5]?g[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(d){if(t("SemVer.compare",this.version,this.options,d),!(d instanceof s)){if(typeof d=="string"&&d===this.version)return 0;d=new s(d,this.options)}return d.version===this.version?0:this.compareMain(d)||this.comparePre(d)}compareMain(d){return d instanceof s||(d=new s(d,this.options)),l(this.major,d.major)||l(this.minor,d.minor)||l(this.patch,d.patch)}comparePre(d){if(d instanceof s||(d=new s(d,this.options)),this.prerelease.length&&!d.prerelease.length)return-1;if(!this.prerelease.length&&d.prerelease.length)return 1;if(!this.prerelease.length&&!d.prerelease.length)return 0;let h=0;do{let g=this.prerelease[h],I=d.prerelease[h];if(t("prerelease compare",h,g,I),g===void 0&&I===void 0)return 0;if(I===void 0)return 1;if(g===void 0)return-1;if(g!==I)return l(g,I)}while(++h)}compareBuild(d){d instanceof s||(d=new s(d,this.options));let h=0;do{let g=this.build[h],I=d.build[h];if(t("prerelease compare",h,g,I),g===void 0&&I===void 0)return 0;if(I===void 0)return 1;if(g===void 0)return-1;if(g!==I)return l(g,I)}while(++h)}inc(d,h){switch(d){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",h);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",h);break;case"prepatch":this.prerelease.length=0,this.inc("patch",h),this.inc("pre",h);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",h),this.inc("pre",h);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let g=this.prerelease.length;for(;--g>=0;)typeof this.prerelease[g]=="number"&&(this.prerelease[g]++,g=-2);g===-1&&this.prerelease.push(0)}h&&(l(this.prerelease[0],h)===0?isNaN(this.prerelease[1])&&(this.prerelease=[h,0]):this.prerelease=[h,0]);break;default:throw new Error(`invalid increment argument: ${d}`)}return this.format(),this.raw=this.version,this}};n.exports=s}),To=Te((e,n)=>{var{MAX_LENGTH:t}=qc(),{re:r,t:a}=Co(),u=sn(),c=Mc(),f=(l,s)=>{if(s=c(s),l instanceof u)return l;if(typeof l!="string"||l.length>t||!(s.loose?r[a.LOOSE]:r[a.FULL]).test(l))return null;try{return new u(l,s)}catch{return null}};n.exports=f}),u3=Te((e,n)=>{var t=To(),r=(a,u)=>{let c=t(a,u);return c?c.version:null};n.exports=r}),l3=Te((e,n)=>{var t=To(),r=(a,u)=>{let c=t(a.trim().replace(/^[=v]+/,""),u);return c?c.version:null};n.exports=r}),c3=Te((e,n)=>{var t=sn(),r=(a,u,c,f)=>{typeof c=="string"&&(f=c,c=void 0);try{return new t(a instanceof t?a.version:a,c).inc(u,f).version}catch{return null}};n.exports=r}),ii=Te((e,n)=>{var t=sn(),r=(a,u,c)=>new t(a,c).compare(new t(u,c));n.exports=r}),Jd=Te((e,n)=>{var t=ii(),r=(a,u,c)=>t(a,u,c)===0;n.exports=r}),f3=Te((e,n)=>{var t=To(),r=Jd(),a=(u,c)=>{if(r(u,c))return null;{let f=t(u),l=t(c),s=f.prerelease.length||l.prerelease.length,d=s?"pre":"",h=s?"prerelease":"";for(let g in f)if((g==="major"||g==="minor"||g==="patch")&&f[g]!==l[g])return d+g;return h}};n.exports=a}),h3=Te((e,n)=>{var t=sn(),r=(a,u)=>new t(a,u).major;n.exports=r}),d3=Te((e,n)=>{var t=sn(),r=(a,u)=>new t(a,u).minor;n.exports=r}),p3=Te((e,n)=>{var t=sn(),r=(a,u)=>new t(a,u).patch;n.exports=r}),y3=Te((e,n)=>{var t=To(),r=(a,u)=>{let c=t(a,u);return c&&c.prerelease.length?c.prerelease:null};n.exports=r}),g3=Te((e,n)=>{var t=ii(),r=(a,u,c)=>t(u,a,c);n.exports=r}),m3=Te((e,n)=>{var t=ii(),r=(a,u)=>t(a,u,!0);n.exports=r}),ep=Te((e,n)=>{var t=sn(),r=(a,u,c)=>{let f=new t(a,c),l=new t(u,c);return f.compare(l)||f.compareBuild(l)};n.exports=r}),v3=Te((e,n)=>{var t=ep(),r=(a,u)=>a.sort((c,f)=>t(c,f,u));n.exports=r}),b3=Te((e,n)=>{var t=ep(),r=(a,u)=>a.sort((c,f)=>t(f,c,u));n.exports=r}),zc=Te((e,n)=>{var t=ii(),r=(a,u,c)=>t(a,u,c)>0;n.exports=r}),tp=Te((e,n)=>{var t=ii(),r=(a,u,c)=>t(a,u,c)<0;n.exports=r}),nv=Te((e,n)=>{var t=ii(),r=(a,u,c)=>t(a,u,c)!==0;n.exports=r}),rp=Te((e,n)=>{var t=ii(),r=(a,u,c)=>t(a,u,c)>=0;n.exports=r}),np=Te((e,n)=>{var t=ii(),r=(a,u,c)=>t(a,u,c)<=0;n.exports=r}),iv=Te((e,n)=>{var t=Jd(),r=nv(),a=zc(),u=rp(),c=tp(),f=np(),l=(s,d,h,g)=>{switch(d){case"===":return typeof s=="object"&&(s=s.version),typeof h=="object"&&(h=h.version),s===h;case"!==":return typeof s=="object"&&(s=s.version),typeof h=="object"&&(h=h.version),s!==h;case"":case"=":case"==":return t(s,h,g);case"!=":return r(s,h,g);case">":return a(s,h,g);case">=":return u(s,h,g);case"<":return c(s,h,g);case"<=":return f(s,h,g);default:throw new TypeError(`Invalid operator: ${d}`)}};n.exports=l}),_3=Te((e,n)=>{var t=sn(),r=To(),{re:a,t:u}=Co(),c=(f,l)=>{if(f instanceof t)return f;if(typeof f=="number"&&(f=String(f)),typeof f!="string")return null;l=l||{};let s=null;if(!l.rtl)s=f.match(a[u.COERCE]);else{let d;for(;(d=a[u.COERCERTL].exec(f))&&(!s||s.index+s[0].length!==f.length);)(!s||d.index+d[0].length!==s.index+s[0].length)&&(s=d),a[u.COERCERTL].lastIndex=d.index+d[1].length+d[2].length;a[u.COERCERTL].lastIndex=-1}return s===null?null:r(`${s[2]}.${s[3]||"0"}.${s[4]||"0"}`,l)};n.exports=c}),w3=Te((e,n)=>{"use strict";n.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let r=this.head;r;r=r.next)yield r.value}}}),S3=Te((e,n)=>{"use strict";n.exports=t,t.Node=c,t.create=t;function t(f){var l=this;if(l instanceof t||(l=new t),l.tail=null,l.head=null,l.length=0,f&&typeof f.forEach=="function")f.forEach(function(h){l.push(h)});else if(arguments.length>0)for(var s=0,d=arguments.length;s<d;s++)l.push(arguments[s]);return l}t.prototype.removeNode=function(f){if(f.list!==this)throw new Error("removing node which does not belong to this list");var l=f.next,s=f.prev;return l&&(l.prev=s),s&&(s.next=l),f===this.head&&(this.head=l),f===this.tail&&(this.tail=s),f.list.length--,f.next=null,f.prev=null,f.list=null,l},t.prototype.unshiftNode=function(f){if(f!==this.head){f.list&&f.list.removeNode(f);var l=this.head;f.list=this,f.next=l,l&&(l.prev=f),this.head=f,this.tail||(this.tail=f),this.length++}},t.prototype.pushNode=function(f){if(f!==this.tail){f.list&&f.list.removeNode(f);var l=this.tail;f.list=this,f.prev=l,l&&(l.next=f),this.tail=f,this.head||(this.head=f),this.length++}},t.prototype.push=function(){for(var f=0,l=arguments.length;f<l;f++)a(this,arguments[f]);return this.length},t.prototype.unshift=function(){for(var f=0,l=arguments.length;f<l;f++)u(this,arguments[f]);return this.length},t.prototype.pop=function(){if(this.tail){var f=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,f}},t.prototype.shift=function(){if(this.head){var f=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,f}},t.prototype.forEach=function(f,l){l=l||this;for(var s=this.head,d=0;s!==null;d++)f.call(l,s.value,d,this),s=s.next},t.prototype.forEachReverse=function(f,l){l=l||this;for(var s=this.tail,d=this.length-1;s!==null;d--)f.call(l,s.value,d,this),s=s.prev},t.prototype.get=function(f){for(var l=0,s=this.head;s!==null&&l<f;l++)s=s.next;if(l===f&&s!==null)return s.value},t.prototype.getReverse=function(f){for(var l=0,s=this.tail;s!==null&&l<f;l++)s=s.prev;if(l===f&&s!==null)return s.value},t.prototype.map=function(f,l){l=l||this;for(var s=new t,d=this.head;d!==null;)s.push(f.call(l,d.value,this)),d=d.next;return s},t.prototype.mapReverse=function(f,l){l=l||this;for(var s=new t,d=this.tail;d!==null;)s.push(f.call(l,d.value,this)),d=d.prev;return s},t.prototype.reduce=function(f,l){var s,d=this.head;if(arguments.length>1)s=l;else if(this.head)d=this.head.next,s=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var h=0;d!==null;h++)s=f(s,d.value,h),d=d.next;return s},t.prototype.reduceReverse=function(f,l){var s,d=this.tail;if(arguments.length>1)s=l;else if(this.tail)d=this.tail.prev,s=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var h=this.length-1;d!==null;h--)s=f(s,d.value,h),d=d.prev;return s},t.prototype.toArray=function(){for(var f=new Array(this.length),l=0,s=this.head;s!==null;l++)f[l]=s.value,s=s.next;return f},t.prototype.toArrayReverse=function(){for(var f=new Array(this.length),l=0,s=this.tail;s!==null;l++)f[l]=s.value,s=s.prev;return f},t.prototype.slice=function(f,l){l=l||this.length,l<0&&(l+=this.length),f=f||0,f<0&&(f+=this.length);var s=new t;if(l<f||l<0)return s;f<0&&(f=0),l>this.length&&(l=this.length);for(var d=0,h=this.head;h!==null&&d<f;d++)h=h.next;for(;h!==null&&d<l;d++,h=h.next)s.push(h.value);return s},t.prototype.sliceReverse=function(f,l){l=l||this.length,l<0&&(l+=this.length),f=f||0,f<0&&(f+=this.length);var s=new t;if(l<f||l<0)return s;f<0&&(f=0),l>this.length&&(l=this.length);for(var d=this.length,h=this.tail;h!==null&&d>l;d--)h=h.prev;for(;h!==null&&d>f;d--,h=h.prev)s.push(h.value);return s},t.prototype.splice=function(f,l,...s){f>this.length&&(f=this.length-1),f<0&&(f=this.length+f);for(var d=0,h=this.head;h!==null&&d<f;d++)h=h.next;for(var g=[],d=0;h&&d<l;d++)g.push(h.value),h=this.removeNode(h);h===null&&(h=this.tail),h!==this.head&&h!==this.tail&&(h=h.prev);for(var d=0;d<s.length;d++)h=r(this,h,s[d]);return g},t.prototype.reverse=function(){for(var f=this.head,l=this.tail,s=f;s!==null;s=s.prev){var d=s.prev;s.prev=s.next,s.next=d}return this.head=l,this.tail=f,this};function r(f,l,s){var d=l===f.head?new c(s,null,l,f):new c(s,l,l.next,f);return d.next===null&&(f.tail=d),d.prev===null&&(f.head=d),f.length++,d}function a(f,l){f.tail=new c(l,f.tail,null,f),f.head||(f.head=f.tail),f.length++}function u(f,l){f.head=new c(l,null,f.head,f),f.tail||(f.tail=f.head),f.length++}function c(f,l,s,d){if(!(this instanceof c))return new c(f,l,s,d);this.list=d,this.value=f,l?(l.next=this,this.prev=l):this.prev=null,s?(s.prev=this,this.next=s):this.next=null}try{w3()(t)}catch{}}),E3=Te((e,n)=>{"use strict";var t=S3(),r=Symbol("max"),a=Symbol("length"),u=Symbol("lengthCalculator"),c=Symbol("allowStale"),f=Symbol("maxAge"),l=Symbol("dispose"),s=Symbol("noDisposeOnSet"),d=Symbol("lruList"),h=Symbol("cache"),g=Symbol("updateAgeOnGet"),I=()=>1,C=class{constructor(S){if(typeof S=="number"&&(S={max:S}),S||(S={}),S.max&&(typeof S.max!="number"||S.max<0))throw new TypeError("max must be a non-negative number");let O=this[r]=S.max||1/0,D=S.length||I;if(this[u]=typeof D!="function"?I:D,this[c]=S.stale||!1,S.maxAge&&typeof S.maxAge!="number")throw new TypeError("maxAge must be a number");this[f]=S.maxAge||0,this[l]=S.dispose,this[s]=S.noDisposeOnSet||!1,this[g]=S.updateAgeOnGet||!1,this.reset()}set max(S){if(typeof S!="number"||S<0)throw new TypeError("max must be a non-negative number");this[r]=S||1/0,N(this)}get max(){return this[r]}set allowStale(S){this[c]=!!S}get allowStale(){return this[c]}set maxAge(S){if(typeof S!="number")throw new TypeError("maxAge must be a non-negative number");this[f]=S,N(this)}get maxAge(){return this[f]}set lengthCalculator(S){typeof S!="function"&&(S=I),S!==this[u]&&(this[u]=S,this[a]=0,this[d].forEach(O=>{O.length=this[u](O.value,O.key),this[a]+=O.length})),N(this)}get lengthCalculator(){return this[u]}get length(){return this[a]}get itemCount(){return this[d].length}rforEach(S,O){O=O||this;for(let D=this[d].tail;D!==null;){let E=D.prev;A(this,S,D,O),D=E}}forEach(S,O){O=O||this;for(let D=this[d].head;D!==null;){let E=D.next;A(this,S,D,O),D=E}}keys(){return this[d].toArray().map(S=>S.key)}values(){return this[d].toArray().map(S=>S.value)}reset(){this[l]&&this[d]&&this[d].length&&this[d].forEach(S=>this[l](S.key,S.value)),this[h]=new Map,this[d]=new t,this[a]=0}dump(){return this[d].map(S=>T(this,S)?!1:{k:S.key,v:S.value,e:S.now+(S.maxAge||0)}).toArray().filter(S=>S)}dumpLru(){return this[d]}set(S,O,D){if(D=D||this[f],D&&typeof D!="number")throw new TypeError("maxAge must be a number");let E=D?Date.now():0,m=this[u](O,S);if(this[h].has(S)){if(m>this[r])return B(this,this[h].get(S)),!1;let q=this[h].get(S).value;return this[l]&&(this[s]||this[l](S,q.value)),q.now=E,q.maxAge=D,q.value=O,this[a]+=m-q.length,q.length=m,this.get(S),N(this),!0}let y=new p(S,O,m,E,D);return y.length>this[r]?(this[l]&&this[l](S,O),!1):(this[a]+=y.length,this[d].unshift(y),this[h].set(S,this[d].head),N(this),!0)}has(S){if(!this[h].has(S))return!1;let O=this[h].get(S).value;return!T(this,O)}get(S){return _(this,S,!0)}peek(S){return _(this,S,!1)}pop(){let S=this[d].tail;return S?(B(this,S),S.value):null}del(S){B(this,this[h].get(S))}load(S){this.reset();let O=Date.now();for(let D=S.length-1;D>=0;D--){let E=S[D],m=E.e||0;if(m===0)this.set(E.k,E.v);else{let y=m-O;y>0&&this.set(E.k,E.v,y)}}}prune(){this[h].forEach((S,O)=>_(this,O,!1))}},_=(S,O,D)=>{let E=S[h].get(O);if(E){let m=E.value;if(T(S,m)){if(B(S,E),!S[c])return}else D&&(S[g]&&(E.value.now=Date.now()),S[d].unshiftNode(E));return m.value}},T=(S,O)=>{if(!O||!O.maxAge&&!S[f])return!1;let D=Date.now()-O.now;return O.maxAge?D>O.maxAge:S[f]&&D>S[f]},N=S=>{if(S[a]>S[r])for(let O=S[d].tail;S[a]>S[r]&&O!==null;){let D=O.prev;B(S,O),O=D}},B=(S,O)=>{if(O){let D=O.value;S[l]&&S[l](D.key,D.value),S[a]-=D.length,S[h].delete(D.key),S[d].removeNode(O)}},p=class{constructor(S,O,D,E,m){this.key=S,this.value=O,this.length=D,this.now=E,this.maxAge=m||0}},A=(S,O,D,E)=>{let m=D.value;T(S,m)&&(B(S,D),S[c]||(m=void 0)),m&&O.call(E,m.value,m.key,S)};n.exports=C}),ai=Te((e,n)=>{var t=class{constructor(V,w){if(w=u(w),V instanceof t)return V.loose===!!w.loose&&V.includePrerelease===!!w.includePrerelease?V:new t(V.raw,w);if(V instanceof c)return this.raw=V.value,this.set=[[V]],this.format(),this;if(this.options=w,this.loose=!!w.loose,this.includePrerelease=!!w.includePrerelease,this.raw=V,this.set=V.split("||").map(x=>this.parseRange(x.trim())).filter(x=>x.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${V}`);if(this.set.length>1){let x=this.set[0];if(this.set=this.set.filter(j=>!C(j[0])),this.set.length===0)this.set=[x];else if(this.set.length>1){for(let j of this.set)if(j.length===1&&_(j[0])){this.set=[j];break}}}this.format()}format(){return this.range=this.set.map(V=>V.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(V){V=V.trim();let w=`parseRange:${Object.keys(this.options).join(",")}:${V}`,x=a.get(w);if(x)return x;let j=this.options.loose,L=j?s[d.HYPHENRANGELOOSE]:s[d.HYPHENRANGE];V=V.replace(L,q(this.options.includePrerelease)),f("hyphen replace",V),V=V.replace(s[d.COMPARATORTRIM],h),f("comparator trim",V),V=V.replace(s[d.TILDETRIM],g),V=V.replace(s[d.CARETTRIM],I),V=V.split(/\s+/).join(" ");let F=V.split(" ").map(de=>N(de,this.options)).join(" ").split(/\s+/).map(de=>y(de,this.options));j&&(F=F.filter(de=>(f("loose invalid filter",de,this.options),!!de.match(s[d.COMPARATORLOOSE])))),f("range list",F);let J=new Map,oe=F.map(de=>new c(de,this.options));for(let de of oe){if(C(de))return[de];J.set(de.value,de)}J.size>1&&J.has("")&&J.delete("");let se=[...J.values()];return a.set(w,se),se}intersects(V,w){if(!(V instanceof t))throw new TypeError("a Range is required");return this.set.some(x=>T(x,w)&&V.set.some(j=>T(j,w)&&x.every(L=>j.every(F=>L.intersects(F,w)))))}test(V){if(!V)return!1;if(typeof V=="string")try{V=new l(V,this.options)}catch{return!1}for(let w=0;w<this.set.length;w++)if(M(this.set[w],V,this.options))return!0;return!1}};n.exports=t;var r=E3(),a=new r({max:1e3}),u=Mc(),c=$c(),f=Fc(),l=sn(),{re:s,t:d,comparatorTrimReplace:h,tildeTrimReplace:g,caretTrimReplace:I}=Co(),C=V=>V.value==="<0.0.0-0",_=V=>V.value==="",T=(V,w)=>{let x=!0,j=V.slice(),L=j.pop();for(;x&&j.length;)x=j.every(F=>L.intersects(F,w)),L=j.pop();return x},N=(V,w)=>(f("comp",V,w),V=S(V,w),f("caret",V),V=p(V,w),f("tildes",V),V=D(V,w),f("xrange",V),V=m(V,w),f("stars",V),V),B=V=>!V||V.toLowerCase()==="x"||V==="*",p=(V,w)=>V.trim().split(/\s+/).map(x=>A(x,w)).join(" "),A=(V,w)=>{let x=w.loose?s[d.TILDELOOSE]:s[d.TILDE];return V.replace(x,(j,L,F,J,oe)=>{f("tilde",V,j,L,F,J,oe);let se;return B(L)?se="":B(F)?se=`>=${L}.0.0 <${+L+1}.0.0-0`:B(J)?se=`>=${L}.${F}.0 <${L}.${+F+1}.0-0`:oe?(f("replaceTilde pr",oe),se=`>=${L}.${F}.${J}-${oe} <${L}.${+F+1}.0-0`):se=`>=${L}.${F}.${J} <${L}.${+F+1}.0-0`,f("tilde return",se),se})},S=(V,w)=>V.trim().split(/\s+/).map(x=>O(x,w)).join(" "),O=(V,w)=>{f("caret",V,w);let x=w.loose?s[d.CARETLOOSE]:s[d.CARET],j=w.includePrerelease?"-0":"";return V.replace(x,(L,F,J,oe,se)=>{f("caret",V,L,F,J,oe,se);let de;return B(F)?de="":B(J)?de=`>=${F}.0.0${j} <${+F+1}.0.0-0`:B(oe)?F==="0"?de=`>=${F}.${J}.0${j} <${F}.${+J+1}.0-0`:de=`>=${F}.${J}.0${j} <${+F+1}.0.0-0`:se?(f("replaceCaret pr",se),F==="0"?J==="0"?de=`>=${F}.${J}.${oe}-${se} <${F}.${J}.${+oe+1}-0`:de=`>=${F}.${J}.${oe}-${se} <${F}.${+J+1}.0-0`:de=`>=${F}.${J}.${oe}-${se} <${+F+1}.0.0-0`):(f("no pr"),F==="0"?J==="0"?de=`>=${F}.${J}.${oe}${j} <${F}.${J}.${+oe+1}-0`:de=`>=${F}.${J}.${oe}${j} <${F}.${+J+1}.0-0`:de=`>=${F}.${J}.${oe} <${+F+1}.0.0-0`),f("caret return",de),de})},D=(V,w)=>(f("replaceXRanges",V,w),V.split(/\s+/).map(x=>E(x,w)).join(" ")),E=(V,w)=>{V=V.trim();let x=w.loose?s[d.XRANGELOOSE]:s[d.XRANGE];return V.replace(x,(j,L,F,J,oe,se)=>{f("xRange",V,j,L,F,J,oe,se);let de=B(F),ke=de||B(J),Le=ke||B(oe),Ve=Le;return L==="="&&Ve&&(L=""),se=w.includePrerelease?"-0":"",de?L===">"||L==="<"?j="<0.0.0-0":j="*":L&&Ve?(ke&&(J=0),oe=0,L===">"?(L=">=",ke?(F=+F+1,J=0,oe=0):(J=+J+1,oe=0)):L==="<="&&(L="<",ke?F=+F+1:J=+J+1),L==="<"&&(se="-0"),j=`${L+F}.${J}.${oe}${se}`):ke?j=`>=${F}.0.0${se} <${+F+1}.0.0-0`:Le&&(j=`>=${F}.${J}.0${se} <${F}.${+J+1}.0-0`),f("xRange return",j),j})},m=(V,w)=>(f("replaceStars",V,w),V.trim().replace(s[d.STAR],"")),y=(V,w)=>(f("replaceGTE0",V,w),V.trim().replace(s[w.includePrerelease?d.GTE0PRE:d.GTE0],"")),q=V=>(w,x,j,L,F,J,oe,se,de,ke,Le,Ve,Ee)=>(B(j)?x="":B(L)?x=`>=${j}.0.0${V?"-0":""}`:B(F)?x=`>=${j}.${L}.0${V?"-0":""}`:J?x=`>=${x}`:x=`>=${x}${V?"-0":""}`,B(de)?se="":B(ke)?se=`<${+de+1}.0.0-0`:B(Le)?se=`<${de}.${+ke+1}.0-0`:Ve?se=`<=${de}.${ke}.${Le}-${Ve}`:V?se=`<${de}.${ke}.${+Le+1}-0`:se=`<=${se}`,`${x} ${se}`.trim()),M=(V,w,x)=>{for(let j=0;j<V.length;j++)if(!V[j].test(w))return!1;if(w.prerelease.length&&!x.includePrerelease){for(let j=0;j<V.length;j++)if(f(V[j].semver),V[j].semver!==c.ANY&&V[j].semver.prerelease.length>0){let L=V[j].semver;if(L.major===w.major&&L.minor===w.minor&&L.patch===w.patch)return!0}return!1}return!0}}),$c=Te((e,n)=>{var t=Symbol("SemVer ANY"),r=class{static get ANY(){return t}constructor(h,g){if(g=a(g),h instanceof r){if(h.loose===!!g.loose)return h;h=h.value}l("comparator",h,g),this.options=g,this.loose=!!g.loose,this.parse(h),this.semver===t?this.value="":this.value=this.operator+this.semver.version,l("comp",this)}parse(h){let g=this.options.loose?u[c.COMPARATORLOOSE]:u[c.COMPARATOR],I=h.match(g);if(!I)throw new TypeError(`Invalid comparator: ${h}`);this.operator=I[1]!==void 0?I[1]:"",this.operator==="="&&(this.operator=""),I[2]?this.semver=new s(I[2],this.options.loose):this.semver=t}toString(){return this.value}test(h){if(l("Comparator.test",h,this.options.loose),this.semver===t||h===t)return!0;if(typeof h=="string")try{h=new s(h,this.options)}catch{return!1}return f(h,this.operator,this.semver,this.options)}intersects(h,g){if(!(h instanceof r))throw new TypeError("a Comparator is required");if((!g||typeof g!="object")&&(g={loose:!!g,includePrerelease:!1}),this.operator==="")return this.value===""?!0:new d(h.value,g).test(this.value);if(h.operator==="")return h.value===""?!0:new d(this.value,g).test(h.semver);let I=(this.operator===">="||this.operator===">")&&(h.operator===">="||h.operator===">"),C=(this.operator==="<="||this.operator==="<")&&(h.operator==="<="||h.operator==="<"),_=this.semver.version===h.semver.version,T=(this.operator===">="||this.operator==="<=")&&(h.operator===">="||h.operator==="<="),N=f(this.semver,"<",h.semver,g)&&(this.operator===">="||this.operator===">")&&(h.operator==="<="||h.operator==="<"),B=f(this.semver,">",h.semver,g)&&(this.operator==="<="||this.operator==="<")&&(h.operator===">="||h.operator===">");return I||C||_&&T||N||B}};n.exports=r;var a=Mc(),{re:u,t:c}=Co(),f=iv(),l=Fc(),s=sn(),d=ai()}),Kc=Te((e,n)=>{var t=ai(),r=(a,u,c)=>{try{u=new t(u,c)}catch{return!1}return u.test(a)};n.exports=r}),C3=Te((e,n)=>{var t=ai(),r=(a,u)=>new t(a,u).set.map(c=>c.map(f=>f.value).join(" ").trim().split(" "));n.exports=r}),T3=Te((e,n)=>{var t=sn(),r=ai(),a=(u,c,f)=>{let l=null,s=null,d=null;try{d=new r(c,f)}catch{return null}return u.forEach(h=>{d.test(h)&&(!l||s.compare(h)===-1)&&(l=h,s=new t(l,f))}),l};n.exports=a}),A3=Te((e,n)=>{var t=sn(),r=ai(),a=(u,c,f)=>{let l=null,s=null,d=null;try{d=new r(c,f)}catch{return null}return u.forEach(h=>{d.test(h)&&(!l||s.compare(h)===1)&&(l=h,s=new t(l,f))}),l};n.exports=a}),I3=Te((e,n)=>{var t=sn(),r=ai(),a=zc(),u=(c,f)=>{c=new r(c,f);let l=new t("0.0.0");if(c.test(l)||(l=new t("0.0.0-0"),c.test(l)))return l;l=null;for(let s=0;s<c.set.length;++s){let d=c.set[s],h=null;d.forEach(g=>{let I=new t(g.semver.version);switch(g.operator){case">":I.prerelease.length===0?I.patch++:I.prerelease.push(0),I.raw=I.format();case"":case">=":(!h||a(I,h))&&(h=I);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${g.operator}`)}}),h&&(!l||a(l,h))&&(l=h)}return l&&c.test(l)?l:null};n.exports=u}),R3=Te((e,n)=>{var t=ai(),r=(a,u)=>{try{return new t(a,u).range||"*"}catch{return null}};n.exports=r}),ip=Te((e,n)=>{var t=sn(),r=$c(),{ANY:a}=r,u=ai(),c=Kc(),f=zc(),l=tp(),s=np(),d=rp(),h=(g,I,C,_)=>{g=new t(g,_),I=new u(I,_);let T,N,B,p,A;switch(C){case">":T=f,N=s,B=l,p=">",A=">=";break;case"<":T=l,N=d,B=f,p="<",A="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(c(g,I,_))return!1;for(let S=0;S<I.set.length;++S){let O=I.set[S],D=null,E=null;if(O.forEach(m=>{m.semver===a&&(m=new r(">=0.0.0")),D=D||m,E=E||m,T(m.semver,D.semver,_)?D=m:B(m.semver,E.semver,_)&&(E=m)}),D.operator===p||D.operator===A||(!E.operator||E.operator===p)&&N(g,E.semver)||E.operator===A&&B(g,E.semver))return!1}return!0};n.exports=h}),k3=Te((e,n)=>{var t=ip(),r=(a,u,c)=>t(a,u,">",c);n.exports=r}),B3=Te((e,n)=>{var t=ip(),r=(a,u,c)=>t(a,u,"<",c);n.exports=r}),N3=Te((e,n)=>{var t=ai(),r=(a,u,c)=>(a=new t(a,c),u=new t(u,c),a.intersects(u));n.exports=r}),O3=Te((e,n)=>{var t=Kc(),r=ii();n.exports=(a,u,c)=>{let f=[],l=null,s=null,d=a.sort((C,_)=>r(C,_,c));for(let C of d)t(C,u,c)?(s=C,l||(l=C)):(s&&f.push([l,s]),s=null,l=null);l&&f.push([l,null]);let h=[];for(let[C,_]of f)C===_?h.push(C):!_&&C===d[0]?h.push("*"):_?C===d[0]?h.push(`<=${_}`):h.push(`${C} - ${_}`):h.push(`>=${C}`);let g=h.join(" || "),I=typeof u.raw=="string"?u.raw:String(u);return g.length<I.length?g:u}}),L3=Te((e,n)=>{var t=ai(),r=$c(),{ANY:a}=r,u=Kc(),c=ii(),f=(h,g,I={})=>{if(h===g)return!0;h=new t(h,I),g=new t(g,I);let C=!1;e:for(let _ of h.set){for(let T of g.set){let N=l(_,T,I);if(C=C||N!==null,N)continue e}if(C)return!1}return!0},l=(h,g,I)=>{if(h===g)return!0;if(h.length===1&&h[0].semver===a){if(g.length===1&&g[0].semver===a)return!0;I.includePrerelease?h=[new r(">=0.0.0-0")]:h=[new r(">=0.0.0")]}if(g.length===1&&g[0].semver===a){if(I.includePrerelease)return!0;g=[new r(">=0.0.0")]}let C=new Set,_,T;for(let E of h)E.operator===">"||E.operator===">="?_=s(_,E,I):E.operator==="<"||E.operator==="<="?T=d(T,E,I):C.add(E.semver);if(C.size>1)return null;let N;if(_&&T&&(N=c(_.semver,T.semver,I),N>0||N===0&&(_.operator!==">="||T.operator!=="<=")))return null;for(let E of C){if(_&&!u(E,String(_),I)||T&&!u(E,String(T),I))return null;for(let m of g)if(!u(E,String(m),I))return!1;return!0}let B,p,A,S,O=T&&!I.includePrerelease&&T.semver.prerelease.length?T.semver:!1,D=_&&!I.includePrerelease&&_.semver.prerelease.length?_.semver:!1;O&&O.prerelease.length===1&&T.operator==="<"&&O.prerelease[0]===0&&(O=!1);for(let E of g){if(S=S||E.operator===">"||E.operator===">=",A=A||E.operator==="<"||E.operator==="<=",_){if(D&&E.semver.prerelease&&E.semver.prerelease.length&&E.semver.major===D.major&&E.semver.minor===D.minor&&E.semver.patch===D.patch&&(D=!1),E.operator===">"||E.operator===">="){if(B=s(_,E,I),B===E&&B!==_)return!1}else if(_.operator===">="&&!u(_.semver,String(E),I))return!1}if(T){if(O&&E.semver.prerelease&&E.semver.prerelease.length&&E.semver.major===O.major&&E.semver.minor===O.minor&&E.semver.patch===O.patch&&(O=!1),E.operator==="<"||E.operator==="<="){if(p=d(T,E,I),p===E&&p!==T)return!1}else if(T.operator==="<="&&!u(T.semver,String(E),I))return!1}if(!E.operator&&(T||_)&&N!==0)return!1}return!(_&&A&&!T&&N!==0||T&&S&&!_&&N!==0||D||O)},s=(h,g,I)=>{if(!h)return g;let C=c(h.semver,g.semver,I);return C>0?h:C<0||g.operator===">"&&h.operator===">="?g:h},d=(h,g,I)=>{if(!h)return g;let C=c(h.semver,g.semver,I);return C<0?h:C>0||g.operator==="<"&&h.operator==="<="?g:h};n.exports=f}),ap=Te((e,n)=>{var t=Co(),r=qc(),a=sn(),u=rv(),c=To(),f=u3(),l=l3(),s=c3(),d=f3(),h=h3(),g=d3(),I=p3(),C=y3(),_=ii(),T=g3(),N=m3(),B=ep(),p=v3(),A=b3(),S=zc(),O=tp(),D=Jd(),E=nv(),m=rp(),y=np(),q=iv(),M=_3(),V=$c(),w=ai(),x=Kc(),j=C3(),L=T3(),F=A3(),J=I3(),oe=R3(),se=ip(),de=k3(),ke=B3(),Le=N3(),Ve=O3(),Ee=L3();n.exports={parse:c,valid:f,clean:l,inc:s,diff:d,major:h,minor:g,patch:I,prerelease:C,compare:_,rcompare:T,compareLoose:N,compareBuild:B,sort:p,rsort:A,gt:S,lt:O,eq:D,neq:E,gte:m,lte:y,cmp:q,coerce:M,Comparator:V,Range:w,satisfies:x,toComparators:j,maxSatisfying:L,minSatisfying:F,minVersion:J,validRange:oe,outside:se,gtr:de,ltr:ke,intersects:Le,simplifyRange:Ve,subset:Ee,SemVer:a,re:t.re,src:t.src,tokens:t.t,SEMVER_SPEC_VERSION:r.SEMVER_SPEC_VERSION,compareIdentifiers:u.compareIdentifiers,rcompareIdentifiers:u.rcompareIdentifiers}}),P3=Te((e,n)=>{var t=ap();n.exports=t.satisfies(process.version,">=15.7.0")}),x3=Te((e,n)=>{var t=ap();n.exports=t.satisfies(process.version,">=16.9.0")}),av=Te((e,n)=>{var t=P3(),r=x3(),a={ec:["ES256","ES384","ES512"],rsa:["RS256","PS256","RS384","PS384","RS512","PS512"],"rsa-pss":["PS256","PS384","PS512"]},u={ES256:"prime256v1",ES384:"secp384r1",ES512:"secp521r1"};n.exports=function(c,f){if(!c||!f)return;let l=f.asymmetricKeyType;if(!l)return;let s=a[l];if(!s)throw new Error(`Unknown key type "${l}".`);if(!s.includes(c))throw new Error(`"alg" parameter for "${l}" key type must be one of: ${s.join(", ")}.`);if(t)switch(l){case"ec":let d=f.asymmetricKeyDetails.namedCurve,h=u[c];if(d!==h)throw new Error(`"alg" parameter "${c}" requires curve "${h}".`);break;case"rsa-pss":if(r){let g=parseInt(c.slice(-3),10),{hashAlgorithm:I,mgf1HashAlgorithm:C,saltLength:_}=f.asymmetricKeyDetails;if(I!==`sha${g}`||C!==I)throw new Error(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${c}.`);if(_!==void 0&&_>g>>3)throw new Error(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${c}.`)}break}}}),sv=Te((e,n)=>{var t=ap();n.exports=t.satisfies(process.version,"^6.12.0 || >=8.0.0")}),U3=Te((e,n)=>{var t=Vc(),r=Qm(),a=Ym(),u=ev(),c=tv(),f=av(),l=sv(),s=Xd(),{KeyObject:d,createSecretKey:h,createPublicKey:g}=require("crypto"),I=["RS256","RS384","RS512"],C=["ES256","ES384","ES512"],_=["RS256","RS384","RS512"],T=["HS256","HS384","HS512"];l&&(I.splice(I.length,0,"PS256","PS384","PS512"),_.splice(_.length,0,"PS256","PS384","PS512")),n.exports=function(N,B,p,A){typeof p=="function"&&!A&&(A=p,p={}),p||(p={}),p=Object.assign({},p);let S;if(A?S=A:S=function(q,M){if(q)throw q;return M},p.clockTimestamp&&typeof p.clockTimestamp!="number")return S(new t("clockTimestamp must be a number"));if(p.nonce!==void 0&&(typeof p.nonce!="string"||p.nonce.trim()===""))return S(new t("nonce must be a non-empty string"));if(p.allowInvalidAsymmetricKeyTypes!==void 0&&typeof p.allowInvalidAsymmetricKeyTypes!="boolean")return S(new t("allowInvalidAsymmetricKeyTypes must be a boolean"));let O=p.clockTimestamp||Math.floor(Date.now()/1e3);if(!N)return S(new t("jwt must be provided"));if(typeof N!="string")return S(new t("jwt must be a string"));let D=N.split(".");if(D.length!==3)return S(new t("jwt malformed"));let E;try{E=u(N,{complete:!0})}catch(q){return S(q)}if(!E)return S(new t("invalid token"));let m=E.header,y;if(typeof B=="function"){if(!A)return S(new t("verify must be called asynchronous if secret or public key is provided as a callback"));y=B}else y=function(q,M){return M(null,B)};return y(m,function(q,M){if(q)return S(new t("error in secret or public key callback: "+q.message));let V=D[2].trim()!=="";if(!V&&M)return S(new t("jwt signature is required"));if(V&&!M)return S(new t("secret or public key must be provided"));if(!V&&!p.algorithms)return S(new t('please specify "none" in "algorithms" to verify unsigned tokens'));if(M!=null&&!(M instanceof d))try{M=g(M)}catch{try{M=h(typeof M=="string"?Buffer.from(M):M)}catch{return S(new t("secretOrPublicKey is not valid key material"))}}if(p.algorithms||(M.type==="secret"?p.algorithms=T:["rsa","rsa-pss"].includes(M.asymmetricKeyType)?p.algorithms=_:M.asymmetricKeyType==="ec"?p.algorithms=C:p.algorithms=I),p.algorithms.indexOf(E.header.alg)===-1)return S(new t("invalid algorithm"));if(m.alg.startsWith("HS")&&M.type!=="secret")return S(new t(`secretOrPublicKey must be a symmetric key when using ${m.alg}`));if(/^(?:RS|PS|ES)/.test(m.alg)&&M.type!=="public")return S(new t(`secretOrPublicKey must be an asymmetric key when using ${m.alg}`));if(!p.allowInvalidAsymmetricKeyTypes)try{f(m.alg,M)}catch(j){return S(j)}let w;try{w=s.verify(N,E.header.alg,M)}catch(j){return S(j)}if(!w)return S(new t("invalid signature"));let x=E.payload;if(typeof x.nbf<"u"&&!p.ignoreNotBefore){if(typeof x.nbf!="number")return S(new t("invalid nbf value"));if(x.nbf>O+(p.clockTolerance||0))return S(new r("jwt not active",new Date(x.nbf*1e3)))}if(typeof x.exp<"u"&&!p.ignoreExpiration){if(typeof x.exp!="number")return S(new t("invalid exp value"));if(O>=x.exp+(p.clockTolerance||0))return S(new a("jwt expired",new Date(x.exp*1e3)))}if(p.audience){let j=Array.isArray(p.audience)?p.audience:[p.audience];if(!(Array.isArray(x.aud)?x.aud:[x.aud]).some(function(L){return j.some(function(F){return F instanceof RegExp?F.test(L):F===L})}))return S(new t("jwt audience invalid. expected: "+j.join(" or ")))}if(p.issuer&&(typeof p.issuer=="string"&&x.iss!==p.issuer||Array.isArray(p.issuer)&&p.issuer.indexOf(x.iss)===-1))return S(new t("jwt issuer invalid. expected: "+p.issuer));if(p.subject&&x.sub!==p.subject)return S(new t("jwt subject invalid. expected: "+p.subject));if(p.jwtid&&x.jti!==p.jwtid)return S(new t("jwt jwtid invalid. expected: "+p.jwtid));if(p.nonce&&x.nonce!==p.nonce)return S(new t("jwt nonce invalid. expected: "+p.nonce));if(p.maxAge){if(typeof x.iat!="number")return S(new t("iat required when maxAge is specified"));let j=c(p.maxAge,x.iat);if(typeof j>"u")return S(new t('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'));if(O>=j+(p.clockTolerance||0))return S(new a("maxAge exceeded",new Date(j*1e3)))}if(p.complete===!0){let j=E.signature;return S(null,{header:m,payload:x,signature:j})}return S(null,x)})}}),D3=Te((e,n)=>{(function(){var t,r="4.17.21",a=200,u="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",f="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",s=500,d="__lodash_placeholder__",h=1,g=2,I=4,C=1,_=2,T=1,N=2,B=4,p=8,A=16,S=32,O=64,D=128,E=256,m=512,y=30,q="...",M=800,V=16,w=1,x=2,j=3,L=1/0,F=9007199254740991,J=17976931348623157e292,oe=0/0,se=4294967295,de=se-1,ke=se>>>1,Le=[["ary",D],["bind",T],["bindKey",N],["curry",p],["curryRight",A],["flip",m],["partial",S],["partialRight",O],["rearg",E]],Ve="[object Arguments]",Ee="[object Array]",We="[object AsyncFunction]",Ce="[object Boolean]",et="[object Date]",Xe="[object DOMException]",P="[object Error]",Y="[object Function]",G="[object GeneratorFunction]",R="[object Map]",H="[object Number]",ie="[object Null]",ee="[object Object]",_e="[object Promise]",xe="[object Proxy]",je="[object RegExp]",ye="[object Set]",Oe="[object String]",He="[object Symbol]",rt="[object Undefined]",$e="[object WeakMap]",kt="[object WeakSet]",Et="[object ArrayBuffer]",Ct="[object DataView]",Ot="[object Float32Array]",Bt="[object Float64Array]",Lt="[object Int8Array]",zt="[object Int16Array]",Yt="[object Int32Array]",$t="[object Uint8Array]",Kt="[object Uint8ClampedArray]",ur="[object Uint16Array]",Er="[object Uint32Array]",yr=/\b__p \+= '';/g,jr=/\b(__p \+=) '' \+/g,un=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Gr=/&(?:amp|lt|gt|quot|#39);/g,Qr=/[&<>"']/g,bn=RegExp(Gr.source),ui=RegExp(Qr.source),Vr=/<%-([\s\S]+?)%>/g,Ln=/<%([\s\S]+?)%>/g,xt=/<%=([\s\S]+?)%>/g,Ut=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Zt=/^\w*$/,Dt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ht=/[\\^$.*+?()[\]{}|]/g,Xt=RegExp(Ht.source),Wt=/^\s+/,Gt=/\s/,tr=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,rr=/\{\n\/\* \[wrapped with (.+)\] \*/,nr=/,? & /,Jt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ir=/[()=,{}\[\]\/\s]/,lr=/\\(\\)?/g,Mt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,er=/\w*$/,Ns=/^[-+]0x[0-9a-f]+$/i,fa=/^0b[01]+$/i,ko=/^\[object .+?Constructor\]$/,ha=/^0o[0-7]+$/i,ki=/^(?:0|[1-9]\d*)$/,_n=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Cr=/($^)/,za=/['\n\r\u2028\u2029\\]/g,Bi="\\ud800-\\udfff",da="\\u0300-\\u036f",pa="\\ufe20-\\ufe2f",Os="\\u20d0-\\u20ff",Ls=da+pa+Os,Ps="\\u2700-\\u27bf",ya="a-z\\xdf-\\xf6\\xf8-\\xff",br="\\xac\\xb1\\xd7\\xf7",xs="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Us="\\u2000-\\u206f",Bo=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",$a="A-Z\\xc0-\\xd6\\xd8-\\xde",$="\\ufe0e\\ufe0f",W=br+xs+Us+Bo,X="['\u2019]",le="["+Bi+"]",ve="["+W+"]",Se="["+Ls+"]",Pe="\\d+",Ne="["+Ps+"]",bt="["+ya+"]",ar="[^"+Bi+W+Pe+Ps+ya+$a+"]",Tr="\\ud83c[\\udffb-\\udfff]",Br="(?:"+Se+"|"+Tr+")",ln="[^"+Bi+"]",li="(?:\\ud83c[\\udde6-\\uddff]){2}",Ar="[\\ud800-\\udbff][\\udc00-\\udfff]",gr="["+$a+"]",Ni="\\u200d",wn="(?:"+bt+"|"+ar+")",Wn="(?:"+gr+"|"+ar+")",No="(?:"+X+"(?:d|ll|m|re|s|t|ve))?",Wu="(?:"+X+"(?:D|LL|M|RE|S|T|VE))?",Oo=Br+"?",Oi="["+$+"]?",ga="(?:"+Ni+"(?:"+[ln,li,Ar].join("|")+")"+Oi+Oo+")*",Ds="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Gu="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Qu=Oi+Oo+ga,Lo="(?:"+[Ne,li,Ar].join("|")+")"+Qu,Po="(?:"+[ln+Se+"?",Se,li,Ar,le].join("|")+")",xo=RegExp(X,"g"),uf=RegExp(Se,"g"),Uo=RegExp(Tr+"(?="+Tr+")|"+Po+Qu,"g"),lf=RegExp([gr+"?"+bt+"+"+No+"(?="+[ve,gr,"$"].join("|")+")",Wn+"+"+Wu+"(?="+[ve,gr+wn,"$"].join("|")+")",gr+"?"+wn+"+"+No,gr+"+"+Wu,Gu,Ds,Pe,Lo].join("|"),"g"),cf=RegExp("["+Ni+Bi+Ls+$+"]"),Pn=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ff=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],hf=-1,qt={};qt[Ot]=qt[Bt]=qt[Lt]=qt[zt]=qt[Yt]=qt[$t]=qt[Kt]=qt[ur]=qt[Er]=!0,qt[Ve]=qt[Ee]=qt[Et]=qt[Ce]=qt[Ct]=qt[et]=qt[P]=qt[Y]=qt[R]=qt[H]=qt[ee]=qt[je]=qt[ye]=qt[Oe]=qt[$e]=!1;var Tt={};Tt[Ve]=Tt[Ee]=Tt[Et]=Tt[Ct]=Tt[Ce]=Tt[et]=Tt[Ot]=Tt[Bt]=Tt[Lt]=Tt[zt]=Tt[Yt]=Tt[R]=Tt[H]=Tt[ee]=Tt[je]=Tt[ye]=Tt[Oe]=Tt[He]=Tt[$t]=Tt[Kt]=Tt[ur]=Tt[Er]=!0,Tt[P]=Tt[Y]=Tt[$e]=!1;var Do={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Ka={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Li={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},df={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Yu=parseFloat,pf=parseInt,Zu=typeof global=="object"&&global&&global.Object===Object&&global,Xu=typeof self=="object"&&self&&self.Object===Object&&self,mr=Zu||Xu||Function("return this")(),js=typeof e=="object"&&e&&!e.nodeType&&e,ci=js&&typeof n=="object"&&n&&!n.nodeType&&n,jo=ci&&ci.exports===js,fi=jo&&Zu.process,qr=function(){try{var ce=ci&&ci.require&&ci.require("util").types;return ce||fi&&fi.binding&&fi.binding("util")}catch{}}(),Vo=qr&&qr.isArrayBuffer,Ju=qr&&qr.isDate,Ha=qr&&qr.isMap,el=qr&&qr.isRegExp,tl=qr&&qr.isSet,qo=qr&&qr.isTypedArray;function Yr(ce,ge,pe){switch(pe.length){case 0:return ce.call(ge);case 1:return ce.call(ge,pe[0]);case 2:return ce.call(ge,pe[0],pe[1]);case 3:return ce.call(ge,pe[0],pe[1],pe[2])}return ce.apply(ge,pe)}function Vs(ce,ge,pe,Ue){for(var Ke=-1,ft=ce==null?0:ce.length;++Ke<ft;){var cr=ce[Ke];ge(Ue,cr,pe(cr),ce)}return Ue}function Fr(ce,ge){for(var pe=-1,Ue=ce==null?0:ce.length;++pe<Ue&&ge(ce[pe],pe,ce)!==!1;);return ce}function yf(ce,ge){for(var pe=ce==null?0:ce.length;pe--&&ge(ce[pe],pe,ce)!==!1;);return ce}function rl(ce,ge){for(var pe=-1,Ue=ce==null?0:ce.length;++pe<Ue;)if(!ge(ce[pe],pe,ce))return!1;return!0}function xn(ce,ge){for(var pe=-1,Ue=ce==null?0:ce.length,Ke=0,ft=[];++pe<Ue;){var cr=ce[pe];ge(cr,pe,ce)&&(ft[Ke++]=cr)}return ft}function Wa(ce,ge){var pe=ce==null?0:ce.length;return!!pe&&hi(ce,ge,0)>-1}function ma(ce,ge,pe){for(var Ue=-1,Ke=ce==null?0:ce.length;++Ue<Ke;)if(pe(ge,ce[Ue]))return!0;return!1}function jt(ce,ge){for(var pe=-1,Ue=ce==null?0:ce.length,Ke=Array(Ue);++pe<Ue;)Ke[pe]=ge(ce[pe],pe,ce);return Ke}function Mr(ce,ge){for(var pe=-1,Ue=ge.length,Ke=ce.length;++pe<Ue;)ce[Ke+pe]=ge[pe];return ce}function Pi(ce,ge,pe,Ue){var Ke=-1,ft=ce==null?0:ce.length;for(Ue&&ft&&(pe=ce[++Ke]);++Ke<ft;)pe=ge(pe,ce[Ke],Ke,ce);return pe}function qs(ce,ge,pe,Ue){var Ke=ce==null?0:ce.length;for(Ue&&Ke&&(pe=ce[--Ke]);Ke--;)pe=ge(pe,ce[Ke],Ke,ce);return pe}function Fs(ce,ge){for(var pe=-1,Ue=ce==null?0:ce.length;++pe<Ue;)if(ge(ce[pe],pe,ce))return!0;return!1}var gf=$o("length");function Fo(ce){return ce.split("")}function mf(ce){return ce.match(Jt)||[]}function Mo(ce,ge,pe){var Ue;return pe(ce,function(Ke,ft,cr){if(ge(Ke,ft,cr))return Ue=ft,!1}),Ue}function xi(ce,ge,pe,Ue){for(var Ke=ce.length,ft=pe+(Ue?1:-1);Ue?ft--:++ft<Ke;)if(ge(ce[ft],ft,ce))return ft;return-1}function hi(ce,ge,pe){return ge===ge?Sf(ce,ge,pe):xi(ce,zo,pe)}function nl(ce,ge,pe,Ue){for(var Ke=pe-1,ft=ce.length;++Ke<ft;)if(Ue(ce[Ke],ge))return Ke;return-1}function zo(ce){return ce!==ce}function il(ce,ge){var pe=ce==null?0:ce.length;return pe?Ho(ce,ge)/pe:oe}function $o(ce){return function(ge){return ge==null?t:ge[ce]}}function Ga(ce){return function(ge){return ce==null?t:ce[ge]}}function Ko(ce,ge,pe,Ue,Ke){return Ke(ce,function(ft,cr,yt){pe=Ue?(Ue=!1,ft):ge(pe,ft,cr,yt)}),pe}function vf(ce,ge){var pe=ce.length;for(ce.sort(ge);pe--;)ce[pe]=ce[pe].value;return ce}function Ho(ce,ge){for(var pe,Ue=-1,Ke=ce.length;++Ue<Ke;){var ft=ge(ce[Ue]);ft!==t&&(pe=pe===t?ft:pe+ft)}return pe}function Wo(ce,ge){for(var pe=-1,Ue=Array(ce);++pe<ce;)Ue[pe]=ge(pe);return Ue}function al(ce,ge){return jt(ge,function(pe){return[pe,ce[pe]]})}function Ui(ce){return ce&&ce.slice(0,ol(ce)+1).replace(Wt,"")}function Ir(ce){return function(ge){return ce(ge)}}function Di(ce,ge){return jt(ge,function(pe){return ce[pe]})}function va(ce,ge){return ce.has(ge)}function Qa(ce,ge){for(var pe=-1,Ue=ce.length;++pe<Ue&&hi(ge,ce[pe],0)>-1;);return pe}function ba(ce,ge){for(var pe=ce.length;pe--&&hi(ge,ce[pe],0)>-1;);return pe}function Ms(ce,ge){for(var pe=ce.length,Ue=0;pe--;)ce[pe]===ge&&++Ue;return Ue}var di=Ga(Do),Go=Ga(Ka);function bf(ce){return"\\"+df[ce]}function _a(ce,ge){return ce==null?t:ce[ge]}function ji(ce){return cf.test(ce)}function _f(ce){return Pn.test(ce)}function zs(ce){for(var ge,pe=[];!(ge=ce.next()).done;)pe.push(ge.value);return pe}function Qo(ce){var ge=-1,pe=Array(ce.size);return ce.forEach(function(Ue,Ke){pe[++ge]=[Ke,Ue]}),pe}function sl(ce,ge){return function(pe){return ce(ge(pe))}}function pi(ce,ge){for(var pe=-1,Ue=ce.length,Ke=0,ft=[];++pe<Ue;){var cr=ce[pe];(cr===ge||cr===d)&&(ce[pe]=d,ft[Ke++]=pe)}return ft}function $s(ce){var ge=-1,pe=Array(ce.size);return ce.forEach(function(Ue){pe[++ge]=Ue}),pe}function wf(ce){var ge=-1,pe=Array(ce.size);return ce.forEach(function(Ue){pe[++ge]=[Ue,Ue]}),pe}function Sf(ce,ge,pe){for(var Ue=pe-1,Ke=ce.length;++Ue<Ke;)if(ce[Ue]===ge)return Ue;return-1}function Ef(ce,ge,pe){for(var Ue=pe+1;Ue--;)if(ce[Ue]===ge)return Ue;return Ue}function wa(ce){return ji(ce)?ul(ce):gf(ce)}function Sn(ce){return ji(ce)?Tf(ce):Fo(ce)}function ol(ce){for(var ge=ce.length;ge--&&Gt.test(ce.charAt(ge)););return ge}var Cf=Ga(Li);function ul(ce){for(var ge=Uo.lastIndex=0;Uo.test(ce);)++ge;return ge}function Tf(ce){return ce.match(Uo)||[]}function Af(ce){return ce.match(lf)||[]}var yi=function ce(ge){ge=ge==null?mr:Un.defaults(mr.Object(),ge,Un.pick(mr,ff));var pe=ge.Array,Ue=ge.Date,Ke=ge.Error,ft=ge.Function,cr=ge.Math,yt=ge.Object,Ks=ge.RegExp,ll=ge.String,Nr=ge.TypeError,Ya=pe.prototype,cl=ft.prototype,Vi=yt.prototype,qi=ge["__core-js_shared__"],Za=cl.toString,_t=Vi.hasOwnProperty,If=0,fl=function(){var i=/[^.]+$/.exec(qi&&qi.keys&&qi.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),Hs=Vi.toString,Rf=Za.call(yt),Ws=mr._,kf=Ks("^"+Za.call(_t).replace(Ht,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Xa=jo?ge.Buffer:t,En=ge.Symbol,Fi=ge.Uint8Array,Ja=Xa?Xa.allocUnsafe:t,gi=sl(yt.getPrototypeOf,yt),es=yt.create,hl=Vi.propertyIsEnumerable,Gs=Ya.splice,Yo=En?En.isConcatSpreadable:t,Sa=En?En.iterator:t,Mi=En?En.toStringTag:t,ts=function(){try{var i=ss(yt,"defineProperty");return i({},"",{}),i}catch{}}(),Bf=ge.clearTimeout!==mr.clearTimeout&&ge.clearTimeout,Nf=Ue&&Ue.now!==mr.Date.now&&Ue.now,Of=ge.setTimeout!==mr.setTimeout&&ge.setTimeout,Qs=cr.ceil,Ys=cr.floor,Ea=yt.getOwnPropertySymbols,dl=Xa?Xa.isBuffer:t,b=ge.isFinite,k=Ya.join,K=sl(yt.keys,yt),te=cr.max,he=cr.min,me=Ue.now,Re=ge.parseInt,qe=cr.random,nt=Ya.reverse,st=ss(ge,"DataView"),ct=ss(ge,"Map"),dt=ss(ge,"Promise"),Ft=ss(ge,"Set"),Or=ss(ge,"WeakMap"),Dn=ss(yt,"create"),Cn=Or&&new Or,zr={},_r=os(st),Zr=os(ct),cn=os(dt),zi=os(Ft),ze=os(Or),ot=En?En.prototype:t,vt=ot?ot.valueOf:t,Lr=ot?ot.toString:t;function Q(i){if(fr(i)&&!tt(i)&&!(i instanceof pt)){if(i instanceof $r)return i;if(_t.call(i,"__wrapped__"))return M0(i)}return new $r(i)}var Tn=function(){function i(){}return function(o){if(!sr(o))return{};if(es)return es(o);i.prototype=o;var v=new i;return i.prototype=t,v}}();function Gn(){}function $r(i,o){this.__wrapped__=i,this.__actions__=[],this.__chain__=!!o,this.__index__=0,this.__values__=t}Q.templateSettings={escape:Vr,evaluate:Ln,interpolate:xt,variable:"",imports:{_:Q}},Q.prototype=Gn.prototype,Q.prototype.constructor=Q,$r.prototype=Tn(Gn.prototype),$r.prototype.constructor=$r;function pt(i){this.__wrapped__=i,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=se,this.__views__=[]}function fb(){var i=new pt(this.__wrapped__);return i.__actions__=fn(this.__actions__),i.__dir__=this.__dir__,i.__filtered__=this.__filtered__,i.__iteratees__=fn(this.__iteratees__),i.__takeCount__=this.__takeCount__,i.__views__=fn(this.__views__),i}function hb(){if(this.__filtered__){var i=new pt(this);i.__dir__=-1,i.__filtered__=!0}else i=this.clone(),i.__dir__*=-1;return i}function db(){var i=this.__wrapped__.value(),o=this.__dir__,v=tt(i),U=o<0,z=v?i.length:0,Z=T_(0,z,this.__views__),re=Z.start,ae=Z.end,fe=ae-re,be=U?ae:re-1,we=this.__iteratees__,Ae=we.length,De=0,Fe=he(fe,this.__takeCount__);if(!v||!U&&z==fe&&Fe==fe)return f0(i,this.__actions__);var Ye=[];e:for(;fe--&&De<Fe;){be+=o;for(var at=-1,Ze=i[be];++at<Ae;){var ht=we[at],gt=ht.iteratee,Rn=ht.type,en=gt(Ze);if(Rn==x)Ze=en;else if(!en){if(Rn==w)continue e;break e}}Ye[De++]=Ze}return Ye}pt.prototype=Tn(Gn.prototype),pt.prototype.constructor=pt;function rs(i){var o=-1,v=i==null?0:i.length;for(this.clear();++o<v;){var U=i[o];this.set(U[0],U[1])}}function pb(){this.__data__=Dn?Dn(null):{},this.size=0}function yb(i){var o=this.has(i)&&delete this.__data__[i];return this.size-=o?1:0,o}function gb(i){var o=this.__data__;if(Dn){var v=o[i];return v===l?t:v}return _t.call(o,i)?o[i]:t}function mb(i){var o=this.__data__;return Dn?o[i]!==t:_t.call(o,i)}function vb(i,o){var v=this.__data__;return this.size+=this.has(i)?0:1,v[i]=Dn&&o===t?l:o,this}rs.prototype.clear=pb,rs.prototype.delete=yb,rs.prototype.get=gb,rs.prototype.has=mb,rs.prototype.set=vb;function $i(i){var o=-1,v=i==null?0:i.length;for(this.clear();++o<v;){var U=i[o];this.set(U[0],U[1])}}function bb(){this.__data__=[],this.size=0}function _b(i){var o=this.__data__,v=pl(o,i);if(v<0)return!1;var U=o.length-1;return v==U?o.pop():Gs.call(o,v,1),--this.size,!0}function wb(i){var o=this.__data__,v=pl(o,i);return v<0?t:o[v][1]}function Sb(i){return pl(this.__data__,i)>-1}function Eb(i,o){var v=this.__data__,U=pl(v,i);return U<0?(++this.size,v.push([i,o])):v[U][1]=o,this}$i.prototype.clear=bb,$i.prototype.delete=_b,$i.prototype.get=wb,$i.prototype.has=Sb,$i.prototype.set=Eb;function Ki(i){var o=-1,v=i==null?0:i.length;for(this.clear();++o<v;){var U=i[o];this.set(U[0],U[1])}}function Cb(){this.size=0,this.__data__={hash:new rs,map:new(ct||$i),string:new rs}}function Tb(i){var o=Al(this,i).delete(i);return this.size-=o?1:0,o}function Ab(i){return Al(this,i).get(i)}function Ib(i){return Al(this,i).has(i)}function Rb(i,o){var v=Al(this,i),U=v.size;return v.set(i,o),this.size+=v.size==U?0:1,this}Ki.prototype.clear=Cb,Ki.prototype.delete=Tb,Ki.prototype.get=Ab,Ki.prototype.has=Ib,Ki.prototype.set=Rb;function ns(i){var o=-1,v=i==null?0:i.length;for(this.__data__=new Ki;++o<v;)this.add(i[o])}function kb(i){return this.__data__.set(i,l),this}function Bb(i){return this.__data__.has(i)}ns.prototype.add=ns.prototype.push=kb,ns.prototype.has=Bb;function Qn(i){var o=this.__data__=new $i(i);this.size=o.size}function Nb(){this.__data__=new $i,this.size=0}function Ob(i){var o=this.__data__,v=o.delete(i);return this.size=o.size,v}function Lb(i){return this.__data__.get(i)}function Pb(i){return this.__data__.has(i)}function xb(i,o){var v=this.__data__;if(v instanceof $i){var U=v.__data__;if(!ct||U.length<a-1)return U.push([i,o]),this.size=++v.size,this;v=this.__data__=new Ki(U)}return v.set(i,o),this.size=v.size,this}Qn.prototype.clear=Nb,Qn.prototype.delete=Ob,Qn.prototype.get=Lb,Qn.prototype.has=Pb,Qn.prototype.set=xb;function Mp(i,o){var v=tt(i),U=!v&&us(i),z=!v&&!U&&Ra(i),Z=!v&&!U&&!z&&eo(i),re=v||U||z||Z,ae=re?Wo(i.length,ll):[],fe=ae.length;for(var be in i)(o||_t.call(i,be))&&!(re&&(be=="length"||z&&(be=="offset"||be=="parent")||Z&&(be=="buffer"||be=="byteLength"||be=="byteOffset")||Qi(be,fe)))&&ae.push(be);return ae}function zp(i){var o=i.length;return o?i[zf(0,o-1)]:t}function Ub(i,o){return Il(fn(i),is(o,0,i.length))}function Db(i){return Il(fn(i))}function Lf(i,o,v){(v!==t&&!Yn(i[o],v)||v===t&&!(o in i))&&Hi(i,o,v)}function Zo(i,o,v){var U=i[o];(!(_t.call(i,o)&&Yn(U,v))||v===t&&!(o in i))&&Hi(i,o,v)}function pl(i,o){for(var v=i.length;v--;)if(Yn(i[v][0],o))return v;return-1}function jb(i,o,v,U){return Ca(i,function(z,Z,re){o(U,z,v(z),re)}),U}function $p(i,o){return i&&vi(o,Rr(o),i)}function Vb(i,o){return i&&vi(o,dn(o),i)}function Hi(i,o,v){o=="__proto__"&&ts?ts(i,o,{configurable:!0,enumerable:!0,value:v,writable:!0}):i[o]=v}function Pf(i,o){for(var v=-1,U=o.length,z=pe(U),Z=i==null;++v<U;)z[v]=Z?t:ph(i,o[v]);return z}function is(i,o,v){return i===i&&(v!==t&&(i=i<=v?i:v),o!==t&&(i=i>=o?i:o)),i}function jn(i,o,v,U,z,Z){var re,ae=o&h,fe=o&g,be=o&I;if(v&&(re=z?v(i,U,z,Z):v(i)),re!==t)return re;if(!sr(i))return i;var we=tt(i);if(we){if(re=I_(i),!ae)return fn(i,re)}else{var Ae=Kr(i),De=Ae==Y||Ae==G;if(Ra(i))return p0(i,ae);if(Ae==ee||Ae==Ve||De&&!z){if(re=fe||De?{}:L0(i),!ae)return fe?g_(i,Vb(re,i)):y_(i,$p(re,i))}else{if(!Tt[Ae])return z?i:{};re=R_(i,Ae,ae)}}Z||(Z=new Qn);var Fe=Z.get(i);if(Fe)return Fe;Z.set(i,re),uy(i)?i.forEach(function(Ze){re.add(jn(Ze,o,v,Ze,i,Z))}):sy(i)&&i.forEach(function(Ze,ht){re.set(ht,jn(Ze,o,v,ht,i,Z))});var Ye=be?fe?eh:Jf:fe?dn:Rr,at=we?t:Ye(i);return Fr(at||i,function(Ze,ht){at&&(ht=Ze,Ze=i[ht]),Zo(re,ht,jn(Ze,o,v,ht,i,Z))}),re}function qb(i){var o=Rr(i);return function(v){return Kp(v,i,o)}}function Kp(i,o,v){var U=v.length;if(i==null)return!U;for(i=yt(i);U--;){var z=v[U],Z=o[z],re=i[z];if(re===t&&!(z in i)||!Z(re))return!1}return!0}function Hp(i,o,v){if(typeof i!="function")throw new Nr(c);return iu(function(){i.apply(t,v)},o)}function Xo(i,o,v,U){var z=-1,Z=Wa,re=!0,ae=i.length,fe=[],be=o.length;if(!ae)return fe;v&&(o=jt(o,Ir(v))),U?(Z=ma,re=!1):o.length>=a&&(Z=va,re=!1,o=new ns(o));e:for(;++z<ae;){var we=i[z],Ae=v==null?we:v(we);if(we=U||we!==0?we:0,re&&Ae===Ae){for(var De=be;De--;)if(o[De]===Ae)continue e;fe.push(we)}else Z(o,Ae,U)||fe.push(we)}return fe}var Ca=b0(mi),Wp=b0(Uf,!0);function Fb(i,o){var v=!0;return Ca(i,function(U,z,Z){return v=!!o(U,z,Z),v}),v}function yl(i,o,v){for(var U=-1,z=i.length;++U<z;){var Z=i[U],re=o(Z);if(re!=null&&(ae===t?re===re&&!In(re):v(re,ae)))var ae=re,fe=Z}return fe}function Mb(i,o,v,U){var z=i.length;for(v=it(v),v<0&&(v=-v>z?0:z+v),U=U===t||U>z?z:it(U),U<0&&(U+=z),U=v>U?0:cy(U);v<U;)i[v++]=o;return i}function Gp(i,o){var v=[];return Ca(i,function(U,z,Z){o(U,z,Z)&&v.push(U)}),v}function Pr(i,o,v,U,z){var Z=-1,re=i.length;for(v||(v=B_),z||(z=[]);++Z<re;){var ae=i[Z];o>0&&v(ae)?o>1?Pr(ae,o-1,v,U,z):Mr(z,ae):U||(z[z.length]=ae)}return z}var xf=_0(),Qp=_0(!0);function mi(i,o){return i&&xf(i,o,Rr)}function Uf(i,o){return i&&Qp(i,o,Rr)}function gl(i,o){return xn(o,function(v){return Yi(i[v])})}function as(i,o){o=Aa(o,i);for(var v=0,U=o.length;i!=null&&v<U;)i=i[bi(o[v++])];return v&&v==U?i:t}function Yp(i,o,v){var U=o(i);return tt(i)?U:Mr(U,v(i))}function Xr(i){return i==null?i===t?rt:ie:Mi&&Mi in yt(i)?C_(i):D_(i)}function Df(i,o){return i>o}function zb(i,o){return i!=null&&_t.call(i,o)}function $b(i,o){return i!=null&&o in yt(i)}function Kb(i,o,v){return i>=he(o,v)&&i<te(o,v)}function jf(i,o,v){for(var U=v?ma:Wa,z=i[0].length,Z=i.length,re=Z,ae=pe(Z),fe=1/0,be=[];re--;){var we=i[re];re&&o&&(we=jt(we,Ir(o))),fe=he(we.length,fe),ae[re]=!v&&(o||z>=120&&we.length>=120)?new ns(re&&we):t}we=i[0];var Ae=-1,De=ae[0];e:for(;++Ae<z&&be.length<fe;){var Fe=we[Ae],Ye=o?o(Fe):Fe;if(Fe=v||Fe!==0?Fe:0,!(De?va(De,Ye):U(be,Ye,v))){for(re=Z;--re;){var at=ae[re];if(!(at?va(at,Ye):U(i[re],Ye,v)))continue e}De&&De.push(Ye),be.push(Fe)}}return be}function Hb(i,o,v,U){return mi(i,function(z,Z,re){o(U,v(z),Z,re)}),U}function Jo(i,o,v){o=Aa(o,i),i=D0(i,o);var U=i==null?i:i[bi(qn(o))];return U==null?t:Yr(U,i,v)}function Zp(i){return fr(i)&&Xr(i)==Ve}function Wb(i){return fr(i)&&Xr(i)==Et}function Gb(i){return fr(i)&&Xr(i)==et}function eu(i,o,v,U,z){return i===o?!0:i==null||o==null||!fr(i)&&!fr(o)?i!==i&&o!==o:Qb(i,o,v,U,eu,z)}function Qb(i,o,v,U,z,Z){var re=tt(i),ae=tt(o),fe=re?Ee:Kr(i),be=ae?Ee:Kr(o);fe=fe==Ve?ee:fe,be=be==Ve?ee:be;var we=fe==ee,Ae=be==ee,De=fe==be;if(De&&Ra(i)){if(!Ra(o))return!1;re=!0,we=!1}if(De&&!we)return Z||(Z=new Qn),re||eo(i)?B0(i,o,v,U,z,Z):S_(i,o,fe,v,U,z,Z);if(!(v&C)){var Fe=we&&_t.call(i,"__wrapped__"),Ye=Ae&&_t.call(o,"__wrapped__");if(Fe||Ye){var at=Fe?i.value():i,Ze=Ye?o.value():o;return Z||(Z=new Qn),z(at,Ze,v,U,Z)}}return De?(Z||(Z=new Qn),E_(i,o,v,U,z,Z)):!1}function Yb(i){return fr(i)&&Kr(i)==R}function Vf(i,o,v,U){var z=v.length,Z=z,re=!U;if(i==null)return!Z;for(i=yt(i);z--;){var ae=v[z];if(re&&ae[2]?ae[1]!==i[ae[0]]:!(ae[0]in i))return!1}for(;++z<Z;){ae=v[z];var fe=ae[0],be=i[fe],we=ae[1];if(re&&ae[2]){if(be===t&&!(fe in i))return!1}else{var Ae=new Qn;if(U)var De=U(be,we,fe,i,o,Ae);if(!(De===t?eu(we,be,C|_,U,Ae):De))return!1}}return!0}function Xp(i){if(!sr(i)||O_(i))return!1;var o=Yi(i)?kf:ko;return o.test(os(i))}function Zb(i){return fr(i)&&Xr(i)==je}function Xb(i){return fr(i)&&Kr(i)==ye}function Jb(i){return fr(i)&&Ll(i.length)&&!!qt[Xr(i)]}function Jp(i){return typeof i=="function"?i:i==null?pn:typeof i=="object"?tt(i)?r0(i[0],i[1]):t0(i):wy(i)}function qf(i){if(!nu(i))return K(i);var o=[];for(var v in yt(i))_t.call(i,v)&&v!="constructor"&&o.push(v);return o}function e_(i){if(!sr(i))return U_(i);var o=nu(i),v=[];for(var U in i)U=="constructor"&&(o||!_t.call(i,U))||v.push(U);return v}function Ff(i,o){return i<o}function e0(i,o){var v=-1,U=hn(i)?pe(i.length):[];return Ca(i,function(z,Z,re){U[++v]=o(z,Z,re)}),U}function t0(i){var o=rh(i);return o.length==1&&o[0][2]?x0(o[0][0],o[0][1]):function(v){return v===i||Vf(v,i,o)}}function r0(i,o){return ih(i)&&P0(o)?x0(bi(i),o):function(v){var U=ph(v,i);return U===t&&U===o?yh(v,i):eu(o,U,C|_)}}function ml(i,o,v,U,z){i!==o&&xf(o,function(Z,re){if(z||(z=new Qn),sr(Z))t_(i,o,re,v,ml,U,z);else{var ae=U?U(sh(i,re),Z,re+"",i,o,z):t;ae===t&&(ae=Z),Lf(i,re,ae)}},dn)}function t_(i,o,v,U,z,Z,re){var ae=sh(i,v),fe=sh(o,v),be=re.get(fe);if(be){Lf(i,v,be);return}var we=Z?Z(ae,fe,v+"",i,o,re):t,Ae=we===t;if(Ae){var De=tt(fe),Fe=!De&&Ra(fe),Ye=!De&&!Fe&&eo(fe);we=fe,De||Fe||Ye?tt(ae)?we=ae:dr(ae)?we=fn(ae):Fe?(Ae=!1,we=p0(fe,!0)):Ye?(Ae=!1,we=y0(fe,!0)):we=[]:au(fe)||us(fe)?(we=ae,us(ae)?we=fy(ae):(!sr(ae)||Yi(ae))&&(we=L0(fe))):Ae=!1}Ae&&(re.set(fe,we),z(we,fe,U,Z,re),re.delete(fe)),Lf(i,v,we)}function n0(i,o){var v=i.length;if(v)return o+=o<0?v:0,Qi(o,v)?i[o]:t}function i0(i,o,v){o.length?o=jt(o,function(Z){return tt(Z)?function(re){return as(re,Z.length===1?Z[0]:Z)}:Z}):o=[pn];var U=-1;o=jt(o,Ir(Ge()));var z=e0(i,function(Z,re,ae){var fe=jt(o,function(be){return be(Z)});return{criteria:fe,index:++U,value:Z}});return vf(z,function(Z,re){return p_(Z,re,v)})}function r_(i,o){return a0(i,o,function(v,U){return yh(i,U)})}function a0(i,o,v){for(var U=-1,z=o.length,Z={};++U<z;){var re=o[U],ae=as(i,re);v(ae,re)&&tu(Z,Aa(re,i),ae)}return Z}function n_(i){return function(o){return as(o,i)}}function Mf(i,o,v,U){var z=U?nl:hi,Z=-1,re=o.length,ae=i;for(i===o&&(o=fn(o)),v&&(ae=jt(i,Ir(v)));++Z<re;)for(var fe=0,be=o[Z],we=v?v(be):be;(fe=z(ae,we,fe,U))>-1;)ae!==i&&Gs.call(ae,fe,1),Gs.call(i,fe,1);return i}function s0(i,o){for(var v=i?o.length:0,U=v-1;v--;){var z=o[v];if(v==U||z!==Z){var Z=z;Qi(z)?Gs.call(i,z,1):Hf(i,z)}}return i}function zf(i,o){return i+Ys(qe()*(o-i+1))}function i_(i,o,v,U){for(var z=-1,Z=te(Qs((o-i)/(v||1)),0),re=pe(Z);Z--;)re[U?Z:++z]=i,i+=v;return re}function $f(i,o){var v="";if(!i||o<1||o>F)return v;do o%2&&(v+=i),o=Ys(o/2),o&&(i+=i);while(o);return v}function ut(i,o){return oh(U0(i,o,pn),i+"")}function a_(i){return zp(to(i))}function s_(i,o){var v=to(i);return Il(v,is(o,0,v.length))}function tu(i,o,v,U){if(!sr(i))return i;o=Aa(o,i);for(var z=-1,Z=o.length,re=Z-1,ae=i;ae!=null&&++z<Z;){var fe=bi(o[z]),be=v;if(fe==="__proto__"||fe==="constructor"||fe==="prototype")return i;if(z!=re){var we=ae[fe];be=U?U(we,fe,ae):t,be===t&&(be=sr(we)?we:Qi(o[z+1])?[]:{})}Zo(ae,fe,be),ae=ae[fe]}return i}var o0=Cn?function(i,o){return Cn.set(i,o),i}:pn,o_=ts?function(i,o){return ts(i,"toString",{configurable:!0,enumerable:!1,value:mh(o),writable:!0})}:pn;function u_(i){return Il(to(i))}function Vn(i,o,v){var U=-1,z=i.length;o<0&&(o=-o>z?0:z+o),v=v>z?z:v,v<0&&(v+=z),z=o>v?0:v-o>>>0,o>>>=0;for(var Z=pe(z);++U<z;)Z[U]=i[U+o];return Z}function l_(i,o){var v;return Ca(i,function(U,z,Z){return v=o(U,z,Z),!v}),!!v}function vl(i,o,v){var U=0,z=i==null?U:i.length;if(typeof o=="number"&&o===o&&z<=ke){for(;U<z;){var Z=U+z>>>1,re=i[Z];re!==null&&!In(re)&&(v?re<=o:re<o)?U=Z+1:z=Z}return z}return Kf(i,o,pn,v)}function Kf(i,o,v,U){var z=0,Z=i==null?0:i.length;if(Z===0)return 0;o=v(o);for(var re=o!==o,ae=o===null,fe=In(o),be=o===t;z<Z;){var we=Ys((z+Z)/2),Ae=v(i[we]),De=Ae!==t,Fe=Ae===null,Ye=Ae===Ae,at=In(Ae);if(re)var Ze=U||Ye;else be?Ze=Ye&&(U||De):ae?Ze=Ye&&De&&(U||!Fe):fe?Ze=Ye&&De&&!Fe&&(U||!at):Fe||at?Ze=!1:Ze=U?Ae<=o:Ae<o;Ze?z=we+1:Z=we}return he(Z,de)}function u0(i,o){for(var v=-1,U=i.length,z=0,Z=[];++v<U;){var re=i[v],ae=o?o(re):re;if(!v||!Yn(ae,fe)){var fe=ae;Z[z++]=re===0?0:re}}return Z}function l0(i){return typeof i=="number"?i:In(i)?oe:+i}function An(i){if(typeof i=="string")return i;if(tt(i))return jt(i,An)+"";if(In(i))return Lr?Lr.call(i):"";var o=i+"";return o=="0"&&1/i==-L?"-0":o}function Ta(i,o,v){var U=-1,z=Wa,Z=i.length,re=!0,ae=[],fe=ae;if(v)re=!1,z=ma;else if(Z>=a){var be=o?null:__(i);if(be)return $s(be);re=!1,z=va,fe=new ns}else fe=o?[]:ae;e:for(;++U<Z;){var we=i[U],Ae=o?o(we):we;if(we=v||we!==0?we:0,re&&Ae===Ae){for(var De=fe.length;De--;)if(fe[De]===Ae)continue e;o&&fe.push(Ae),ae.push(we)}else z(fe,Ae,v)||(fe!==ae&&fe.push(Ae),ae.push(we))}return ae}function Hf(i,o){return o=Aa(o,i),i=D0(i,o),i==null||delete i[bi(qn(o))]}function c0(i,o,v,U){return tu(i,o,v(as(i,o)),U)}function bl(i,o,v,U){for(var z=i.length,Z=U?z:-1;(U?Z--:++Z<z)&&o(i[Z],Z,i););return v?Vn(i,U?0:Z,U?Z+1:z):Vn(i,U?Z+1:0,U?z:Z)}function f0(i,o){var v=i;return v instanceof pt&&(v=v.value()),Pi(o,function(U,z){return z.func.apply(z.thisArg,Mr([U],z.args))},v)}function Wf(i,o,v){var U=i.length;if(U<2)return U?Ta(i[0]):[];for(var z=-1,Z=pe(U);++z<U;)for(var re=i[z],ae=-1;++ae<U;)ae!=z&&(Z[z]=Xo(Z[z]||re,i[ae],o,v));return Ta(Pr(Z,1),o,v)}function h0(i,o,v){for(var U=-1,z=i.length,Z=o.length,re={};++U<z;){var ae=U<Z?o[U]:t;v(re,i[U],ae)}return re}function Gf(i){return dr(i)?i:[]}function Qf(i){return typeof i=="function"?i:pn}function Aa(i,o){return tt(i)?i:ih(i,o)?[i]:F0(Nt(i))}var c_=ut;function Ia(i,o,v){var U=i.length;return v=v===t?U:v,!o&&v>=U?i:Vn(i,o,v)}var d0=Bf||function(i){return mr.clearTimeout(i)};function p0(i,o){if(o)return i.slice();var v=i.length,U=Ja?Ja(v):new i.constructor(v);return i.copy(U),U}function Yf(i){var o=new i.constructor(i.byteLength);return new Fi(o).set(new Fi(i)),o}function f_(i,o){var v=o?Yf(i.buffer):i.buffer;return new i.constructor(v,i.byteOffset,i.byteLength)}function h_(i){var o=new i.constructor(i.source,er.exec(i));return o.lastIndex=i.lastIndex,o}function d_(i){return vt?yt(vt.call(i)):{}}function y0(i,o){var v=o?Yf(i.buffer):i.buffer;return new i.constructor(v,i.byteOffset,i.length)}function g0(i,o){if(i!==o){var v=i!==t,U=i===null,z=i===i,Z=In(i),re=o!==t,ae=o===null,fe=o===o,be=In(o);if(!ae&&!be&&!Z&&i>o||Z&&re&&fe&&!ae&&!be||U&&re&&fe||!v&&fe||!z)return 1;if(!U&&!Z&&!be&&i<o||be&&v&&z&&!U&&!Z||ae&&v&&z||!re&&z||!fe)return-1}return 0}function p_(i,o,v){for(var U=-1,z=i.criteria,Z=o.criteria,re=z.length,ae=v.length;++U<re;){var fe=g0(z[U],Z[U]);if(fe){if(U>=ae)return fe;var be=v[U];return fe*(be=="desc"?-1:1)}}return i.index-o.index}function m0(i,o,v,U){for(var z=-1,Z=i.length,re=v.length,ae=-1,fe=o.length,be=te(Z-re,0),we=pe(fe+be),Ae=!U;++ae<fe;)we[ae]=o[ae];for(;++z<re;)(Ae||z<Z)&&(we[v[z]]=i[z]);for(;be--;)we[ae++]=i[z++];return we}function v0(i,o,v,U){for(var z=-1,Z=i.length,re=-1,ae=v.length,fe=-1,be=o.length,we=te(Z-ae,0),Ae=pe(we+be),De=!U;++z<we;)Ae[z]=i[z];for(var Fe=z;++fe<be;)Ae[Fe+fe]=o[fe];for(;++re<ae;)(De||z<Z)&&(Ae[Fe+v[re]]=i[z++]);return Ae}function fn(i,o){var v=-1,U=i.length;for(o||(o=pe(U));++v<U;)o[v]=i[v];return o}function vi(i,o,v,U){var z=!v;v||(v={});for(var Z=-1,re=o.length;++Z<re;){var ae=o[Z],fe=U?U(v[ae],i[ae],ae,v,i):t;fe===t&&(fe=i[ae]),z?Hi(v,ae,fe):Zo(v,ae,fe)}return v}function y_(i,o){return vi(i,nh(i),o)}function g_(i,o){return vi(i,N0(i),o)}function _l(i,o){return function(v,U){var z=tt(v)?Vs:jb,Z=o?o():{};return z(v,i,Ge(U,2),Z)}}function Zs(i){return ut(function(o,v){var U=-1,z=v.length,Z=z>1?v[z-1]:t,re=z>2?v[2]:t;for(Z=i.length>3&&typeof Z=="function"?(z--,Z):t,re&&Jr(v[0],v[1],re)&&(Z=z<3?t:Z,z=1),o=yt(o);++U<z;){var ae=v[U];ae&&i(o,ae,U,Z)}return o})}function b0(i,o){return function(v,U){if(v==null)return v;if(!hn(v))return i(v,U);for(var z=v.length,Z=o?z:-1,re=yt(v);(o?Z--:++Z<z)&&U(re[Z],Z,re)!==!1;);return v}}function _0(i){return function(o,v,U){for(var z=-1,Z=yt(o),re=U(o),ae=re.length;ae--;){var fe=re[i?ae:++z];if(v(Z[fe],fe,Z)===!1)break}return o}}function m_(i,o,v){var U=o&T,z=ru(i);function Z(){var re=this&&this!==mr&&this instanceof Z?z:i;return re.apply(U?v:this,arguments)}return Z}function w0(i){return function(o){o=Nt(o);var v=ji(o)?Sn(o):t,U=v?v[0]:o.charAt(0),z=v?Ia(v,1).join(""):o.slice(1);return U[i]()+z}}function Xs(i){return function(o){return Pi(by(vy(o).replace(xo,"")),i,"")}}function ru(i){return function(){var o=arguments;switch(o.length){case 0:return new i;case 1:return new i(o[0]);case 2:return new i(o[0],o[1]);case 3:return new i(o[0],o[1],o[2]);case 4:return new i(o[0],o[1],o[2],o[3]);case 5:return new i(o[0],o[1],o[2],o[3],o[4]);case 6:return new i(o[0],o[1],o[2],o[3],o[4],o[5]);case 7:return new i(o[0],o[1],o[2],o[3],o[4],o[5],o[6])}var v=Tn(i.prototype),U=i.apply(v,o);return sr(U)?U:v}}function v_(i,o,v){var U=ru(i);function z(){for(var Z=arguments.length,re=pe(Z),ae=Z,fe=Js(z);ae--;)re[ae]=arguments[ae];var be=Z<3&&re[0]!==fe&&re[Z-1]!==fe?[]:pi(re,fe);if(Z-=be.length,Z<v)return A0(i,o,wl,z.placeholder,t,re,be,t,t,v-Z);var we=this&&this!==mr&&this instanceof z?U:i;return Yr(we,this,re)}return z}function S0(i){return function(o,v,U){var z=yt(o);if(!hn(o)){var Z=Ge(v,3);o=Rr(o),v=function(ae){return Z(z[ae],ae,z)}}var re=i(o,v,U);return re>-1?z[Z?o[re]:re]:t}}function E0(i){return Gi(function(o){var v=o.length,U=v,z=$r.prototype.thru;for(i&&o.reverse();U--;){var Z=o[U];if(typeof Z!="function")throw new Nr(c);if(z&&!re&&Tl(Z)=="wrapper")var re=new $r([],!0)}for(U=re?U:v;++U<v;){Z=o[U];var ae=Tl(Z),fe=ae=="wrapper"?th(Z):t;fe&&ah(fe[0])&&fe[1]==(D|p|S|E)&&!fe[4].length&&fe[9]==1?re=re[Tl(fe[0])].apply(re,fe[3]):re=Z.length==1&&ah(Z)?re[ae]():re.thru(Z)}return function(){var be=arguments,we=be[0];if(re&&be.length==1&&tt(we))return re.plant(we).value();for(var Ae=0,De=v?o[Ae].apply(this,be):we;++Ae<v;)De=o[Ae].call(this,De);return De}})}function wl(i,o,v,U,z,Z,re,ae,fe,be){var we=o&D,Ae=o&T,De=o&N,Fe=o&(p|A),Ye=o&m,at=De?t:ru(i);function Ze(){for(var ht=arguments.length,gt=pe(ht),Rn=ht;Rn--;)gt[Rn]=arguments[Rn];if(Fe)var en=Js(Ze),kn=Ms(gt,en);if(U&&(gt=m0(gt,U,z,Fe)),Z&&(gt=v0(gt,Z,re,Fe)),ht-=kn,Fe&&ht<be){var pr=pi(gt,en);return A0(i,o,wl,Ze.placeholder,v,gt,pr,ae,fe,be-ht)}var Zn=Ae?v:this,Xi=De?Zn[i]:i;return ht=gt.length,ae?gt=j_(gt,ae):Ye&&ht>1&&gt.reverse(),we&&fe<ht&&(gt.length=fe),this&&this!==mr&&this instanceof Ze&&(Xi=at||ru(Xi)),Xi.apply(Zn,gt)}return Ze}function C0(i,o){return function(v,U){return Hb(v,i,o(U),{})}}function Sl(i,o){return function(v,U){var z;if(v===t&&U===t)return o;if(v!==t&&(z=v),U!==t){if(z===t)return U;typeof v=="string"||typeof U=="string"?(v=An(v),U=An(U)):(v=l0(v),U=l0(U)),z=i(v,U)}return z}}function Zf(i){return Gi(function(o){return o=jt(o,Ir(Ge())),ut(function(v){var U=this;return i(o,function(z){return Yr(z,U,v)})})})}function El(i,o){o=o===t?" ":An(o);var v=o.length;if(v<2)return v?$f(o,i):o;var U=$f(o,Qs(i/wa(o)));return ji(o)?Ia(Sn(U),0,i).join(""):U.slice(0,i)}function b_(i,o,v,U){var z=o&T,Z=ru(i);function re(){for(var ae=-1,fe=arguments.length,be=-1,we=U.length,Ae=pe(we+fe),De=this&&this!==mr&&this instanceof re?Z:i;++be<we;)Ae[be]=U[be];for(;fe--;)Ae[be++]=arguments[++ae];return Yr(De,z?v:this,Ae)}return re}function T0(i){return function(o,v,U){return U&&typeof U!="number"&&Jr(o,v,U)&&(v=U=t),o=Zi(o),v===t?(v=o,o=0):v=Zi(v),U=U===t?o<v?1:-1:Zi(U),i_(o,v,U,i)}}function Cl(i){return function(o,v){return typeof o=="string"&&typeof v=="string"||(o=Fn(o),v=Fn(v)),i(o,v)}}function A0(i,o,v,U,z,Z,re,ae,fe,be){var we=o&p,Ae=we?re:t,De=we?t:re,Fe=we?Z:t,Ye=we?t:Z;o|=we?S:O,o&=~(we?O:S),o&B||(o&=~(T|N));var at=[i,o,z,Fe,Ae,Ye,De,ae,fe,be],Ze=v.apply(t,at);return ah(i)&&j0(Ze,at),Ze.placeholder=U,V0(Ze,i,o)}function Xf(i){var o=cr[i];return function(v,U){if(v=Fn(v),U=U==null?0:he(it(U),292),U&&b(v)){var z=(Nt(v)+"e").split("e"),Z=o(z[0]+"e"+(+z[1]+U));return z=(Nt(Z)+"e").split("e"),+(z[0]+"e"+(+z[1]-U))}return o(v)}}var __=Ft&&1/$s(new Ft([,-0]))[1]==L?function(i){return new Ft(i)}:_h;function I0(i){return function(o){var v=Kr(o);return v==R?Qo(o):v==ye?wf(o):al(o,i(o))}}function Wi(i,o,v,U,z,Z,re,ae){var fe=o&N;if(!fe&&typeof i!="function")throw new Nr(c);var be=U?U.length:0;if(be||(o&=~(S|O),U=z=t),re=re===t?re:te(it(re),0),ae=ae===t?ae:it(ae),be-=z?z.length:0,o&O){var we=U,Ae=z;U=z=t}var De=fe?t:th(i),Fe=[i,o,v,U,z,we,Ae,Z,re,ae];if(De&&x_(Fe,De),i=Fe[0],o=Fe[1],v=Fe[2],U=Fe[3],z=Fe[4],ae=Fe[9]=Fe[9]===t?fe?0:i.length:te(Fe[9]-be,0),!ae&&o&(p|A)&&(o&=~(p|A)),!o||o==T)var Ye=m_(i,o,v);else o==p||o==A?Ye=v_(i,o,ae):(o==S||o==(T|S))&&!z.length?Ye=b_(i,o,v,U):Ye=wl.apply(t,Fe);var at=De?o0:j0;return V0(at(Ye,Fe),i,o)}function R0(i,o,v,U){return i===t||Yn(i,Vi[v])&&!_t.call(U,v)?o:i}function k0(i,o,v,U,z,Z){return sr(i)&&sr(o)&&(Z.set(o,i),ml(i,o,t,k0,Z),Z.delete(o)),i}function w_(i){return au(i)?t:i}function B0(i,o,v,U,z,Z){var re=v&C,ae=i.length,fe=o.length;if(ae!=fe&&!(re&&fe>ae))return!1;var be=Z.get(i),we=Z.get(o);if(be&&we)return be==o&&we==i;var Ae=-1,De=!0,Fe=v&_?new ns:t;for(Z.set(i,o),Z.set(o,i);++Ae<ae;){var Ye=i[Ae],at=o[Ae];if(U)var Ze=re?U(at,Ye,Ae,o,i,Z):U(Ye,at,Ae,i,o,Z);if(Ze!==t){if(Ze)continue;De=!1;break}if(Fe){if(!Fs(o,function(ht,gt){if(!va(Fe,gt)&&(Ye===ht||z(Ye,ht,v,U,Z)))return Fe.push(gt)})){De=!1;break}}else if(!(Ye===at||z(Ye,at,v,U,Z))){De=!1;break}}return Z.delete(i),Z.delete(o),De}function S_(i,o,v,U,z,Z,re){switch(v){case Ct:if(i.byteLength!=o.byteLength||i.byteOffset!=o.byteOffset)return!1;i=i.buffer,o=o.buffer;case Et:return!(i.byteLength!=o.byteLength||!Z(new Fi(i),new Fi(o)));case Ce:case et:case H:return Yn(+i,+o);case P:return i.name==o.name&&i.message==o.message;case je:case Oe:return i==o+"";case R:var ae=Qo;case ye:var fe=U&C;if(ae||(ae=$s),i.size!=o.size&&!fe)return!1;var be=re.get(i);if(be)return be==o;U|=_,re.set(i,o);var we=B0(ae(i),ae(o),U,z,Z,re);return re.delete(i),we;case He:if(vt)return vt.call(i)==vt.call(o)}return!1}function E_(i,o,v,U,z,Z){var re=v&C,ae=Jf(i),fe=ae.length,be=Jf(o),we=be.length;if(fe!=we&&!re)return!1;for(var Ae=fe;Ae--;){var De=ae[Ae];if(!(re?De in o:_t.call(o,De)))return!1}var Fe=Z.get(i),Ye=Z.get(o);if(Fe&&Ye)return Fe==o&&Ye==i;var at=!0;Z.set(i,o),Z.set(o,i);for(var Ze=re;++Ae<fe;){De=ae[Ae];var ht=i[De],gt=o[De];if(U)var Rn=re?U(gt,ht,De,o,i,Z):U(ht,gt,De,i,o,Z);if(!(Rn===t?ht===gt||z(ht,gt,v,U,Z):Rn)){at=!1;break}Ze||(Ze=De=="constructor")}if(at&&!Ze){var en=i.constructor,kn=o.constructor;en!=kn&&"constructor"in i&&"constructor"in o&&!(typeof en=="function"&&en instanceof en&&typeof kn=="function"&&kn instanceof kn)&&(at=!1)}return Z.delete(i),Z.delete(o),at}function Gi(i){return oh(U0(i,t,K0),i+"")}function Jf(i){return Yp(i,Rr,nh)}function eh(i){return Yp(i,dn,N0)}var th=Cn?function(i){return Cn.get(i)}:_h;function Tl(i){for(var o=i.name+"",v=zr[o],U=_t.call(zr,o)?v.length:0;U--;){var z=v[U],Z=z.func;if(Z==null||Z==i)return z.name}return o}function Js(i){var o=_t.call(Q,"placeholder")?Q:i;return o.placeholder}function Ge(){var i=Q.iteratee||vh;return i=i===vh?Jp:i,arguments.length?i(arguments[0],arguments[1]):i}function Al(i,o){var v=i.__data__;return N_(o)?v[typeof o=="string"?"string":"hash"]:v.map}function rh(i){for(var o=Rr(i),v=o.length;v--;){var U=o[v],z=i[U];o[v]=[U,z,P0(z)]}return o}function ss(i,o){var v=_a(i,o);return Xp(v)?v:t}function C_(i){var o=_t.call(i,Mi),v=i[Mi];try{i[Mi]=t;var U=!0}catch{}var z=Hs.call(i);return U&&(o?i[Mi]=v:delete i[Mi]),z}var nh=Ea?function(i){return i==null?[]:(i=yt(i),xn(Ea(i),function(o){return hl.call(i,o)}))}:wh,N0=Ea?function(i){for(var o=[];i;)Mr(o,nh(i)),i=gi(i);return o}:wh,Kr=Xr;(st&&Kr(new st(new ArrayBuffer(1)))!=Ct||ct&&Kr(new ct)!=R||dt&&Kr(dt.resolve())!=_e||Ft&&Kr(new Ft)!=ye||Or&&Kr(new Or)!=$e)&&(Kr=function(i){var o=Xr(i),v=o==ee?i.constructor:t,U=v?os(v):"";if(U)switch(U){case _r:return Ct;case Zr:return R;case cn:return _e;case zi:return ye;case ze:return $e}return o});function T_(i,o,v){for(var U=-1,z=v.length;++U<z;){var Z=v[U],re=Z.size;switch(Z.type){case"drop":i+=re;break;case"dropRight":o-=re;break;case"take":o=he(o,i+re);break;case"takeRight":i=te(i,o-re);break}}return{start:i,end:o}}function A_(i){var o=i.match(rr);return o?o[1].split(nr):[]}function O0(i,o,v){o=Aa(o,i);for(var U=-1,z=o.length,Z=!1;++U<z;){var re=bi(o[U]);if(!(Z=i!=null&&v(i,re)))break;i=i[re]}return Z||++U!=z?Z:(z=i==null?0:i.length,!!z&&Ll(z)&&Qi(re,z)&&(tt(i)||us(i)))}function I_(i){var o=i.length,v=new i.constructor(o);return o&&typeof i[0]=="string"&&_t.call(i,"index")&&(v.index=i.index,v.input=i.input),v}function L0(i){return typeof i.constructor=="function"&&!nu(i)?Tn(gi(i)):{}}function R_(i,o,v){var U=i.constructor;switch(o){case Et:return Yf(i);case Ce:case et:return new U(+i);case Ct:return f_(i,v);case Ot:case Bt:case Lt:case zt:case Yt:case $t:case Kt:case ur:case Er:return y0(i,v);case R:return new U;case H:case Oe:return new U(i);case je:return h_(i);case ye:return new U;case He:return d_(i)}}function k_(i,o){var v=o.length;if(!v)return i;var U=v-1;return o[U]=(v>1?"& ":"")+o[U],o=o.join(v>2?", ":" "),i.replace(tr,`{
/* [wrapped with `+o+`] */
`)}function B_(i){return tt(i)||us(i)||!!(Yo&&i&&i[Yo])}function Qi(i,o){var v=typeof i;return o=o??F,!!o&&(v=="number"||v!="symbol"&&ki.test(i))&&i>-1&&i%1==0&&i<o}function Jr(i,o,v){if(!sr(v))return!1;var U=typeof o;return(U=="number"?hn(v)&&Qi(o,v.length):U=="string"&&o in v)?Yn(v[o],i):!1}function ih(i,o){if(tt(i))return!1;var v=typeof i;return v=="number"||v=="symbol"||v=="boolean"||i==null||In(i)?!0:Zt.test(i)||!Ut.test(i)||o!=null&&i in yt(o)}function N_(i){var o=typeof i;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?i!=="__proto__":i===null}function ah(i){var o=Tl(i),v=Q[o];if(typeof v!="function"||!(o in pt.prototype))return!1;if(i===v)return!0;var U=th(v);return!!U&&i===U[0]}function O_(i){return!!fl&&fl in i}var L_=qi?Yi:Sh;function nu(i){var o=i&&i.constructor,v=typeof o=="function"&&o.prototype||Vi;return i===v}function P0(i){return i===i&&!sr(i)}function x0(i,o){return function(v){return v==null?!1:v[i]===o&&(o!==t||i in yt(v))}}function P_(i){var o=Nl(i,function(U){return v.size===s&&v.clear(),U}),v=o.cache;return o}function x_(i,o){var v=i[1],U=o[1],z=v|U,Z=z<(T|N|D),re=U==D&&v==p||U==D&&v==E&&i[7].length<=o[8]||U==(D|E)&&o[7].length<=o[8]&&v==p;if(!(Z||re))return i;U&T&&(i[2]=o[2],z|=v&T?0:B);var ae=o[3];if(ae){var fe=i[3];i[3]=fe?m0(fe,ae,o[4]):ae,i[4]=fe?pi(i[3],d):o[4]}return ae=o[5],ae&&(fe=i[5],i[5]=fe?v0(fe,ae,o[6]):ae,i[6]=fe?pi(i[5],d):o[6]),ae=o[7],ae&&(i[7]=ae),U&D&&(i[8]=i[8]==null?o[8]:he(i[8],o[8])),i[9]==null&&(i[9]=o[9]),i[0]=o[0],i[1]=z,i}function U_(i){var o=[];if(i!=null)for(var v in yt(i))o.push(v);return o}function D_(i){return Hs.call(i)}function U0(i,o,v){return o=te(o===t?i.length-1:o,0),function(){for(var U=arguments,z=-1,Z=te(U.length-o,0),re=pe(Z);++z<Z;)re[z]=U[o+z];z=-1;for(var ae=pe(o+1);++z<o;)ae[z]=U[z];return ae[o]=v(re),Yr(i,this,ae)}}function D0(i,o){return o.length<2?i:as(i,Vn(o,0,-1))}function j_(i,o){for(var v=i.length,U=he(o.length,v),z=fn(i);U--;){var Z=o[U];i[U]=Qi(Z,v)?z[Z]:t}return i}function sh(i,o){if(!(o==="constructor"&&typeof i[o]=="function")&&o!="__proto__")return i[o]}var j0=q0(o0),iu=Of||function(i,o){return mr.setTimeout(i,o)},oh=q0(o_);function V0(i,o,v){var U=o+"";return oh(i,k_(U,V_(A_(U),v)))}function q0(i){var o=0,v=0;return function(){var U=me(),z=V-(U-v);if(v=U,z>0){if(++o>=M)return arguments[0]}else o=0;return i.apply(t,arguments)}}function Il(i,o){var v=-1,U=i.length,z=U-1;for(o=o===t?U:o;++v<o;){var Z=zf(v,z),re=i[Z];i[Z]=i[v],i[v]=re}return i.length=o,i}var F0=P_(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(Dt,function(v,U,z,Z){o.push(z?Z.replace(lr,"$1"):U||v)}),o});function bi(i){if(typeof i=="string"||In(i))return i;var o=i+"";return o=="0"&&1/i==-L?"-0":o}function os(i){if(i!=null){try{return Za.call(i)}catch{}try{return i+""}catch{}}return""}function V_(i,o){return Fr(Le,function(v){var U="_."+v[0];o&v[1]&&!Wa(i,U)&&i.push(U)}),i.sort()}function M0(i){if(i instanceof pt)return i.clone();var o=new $r(i.__wrapped__,i.__chain__);return o.__actions__=fn(i.__actions__),o.__index__=i.__index__,o.__values__=i.__values__,o}function q_(i,o,v){(v?Jr(i,o,v):o===t)?o=1:o=te(it(o),0);var U=i==null?0:i.length;if(!U||o<1)return[];for(var z=0,Z=0,re=pe(Qs(U/o));z<U;)re[Z++]=Vn(i,z,z+=o);return re}function F_(i){for(var o=-1,v=i==null?0:i.length,U=0,z=[];++o<v;){var Z=i[o];Z&&(z[U++]=Z)}return z}function M_(){var i=arguments.length;if(!i)return[];for(var o=pe(i-1),v=arguments[0],U=i;U--;)o[U-1]=arguments[U];return Mr(tt(v)?fn(v):[v],Pr(o,1))}var z_=ut(function(i,o){return dr(i)?Xo(i,Pr(o,1,dr,!0)):[]}),$_=ut(function(i,o){var v=qn(o);return dr(v)&&(v=t),dr(i)?Xo(i,Pr(o,1,dr,!0),Ge(v,2)):[]}),K_=ut(function(i,o){var v=qn(o);return dr(v)&&(v=t),dr(i)?Xo(i,Pr(o,1,dr,!0),t,v):[]});function H_(i,o,v){var U=i==null?0:i.length;return U?(o=v||o===t?1:it(o),Vn(i,o<0?0:o,U)):[]}function W_(i,o,v){var U=i==null?0:i.length;return U?(o=v||o===t?1:it(o),o=U-o,Vn(i,0,o<0?0:o)):[]}function G_(i,o){return i&&i.length?bl(i,Ge(o,3),!0,!0):[]}function Q_(i,o){return i&&i.length?bl(i,Ge(o,3),!0):[]}function Y_(i,o,v,U){var z=i==null?0:i.length;return z?(v&&typeof v!="number"&&Jr(i,o,v)&&(v=0,U=z),Mb(i,o,v,U)):[]}function z0(i,o,v){var U=i==null?0:i.length;if(!U)return-1;var z=v==null?0:it(v);return z<0&&(z=te(U+z,0)),xi(i,Ge(o,3),z)}function $0(i,o,v){var U=i==null?0:i.length;if(!U)return-1;var z=U-1;return v!==t&&(z=it(v),z=v<0?te(U+z,0):he(z,U-1)),xi(i,Ge(o,3),z,!0)}function K0(i){var o=i==null?0:i.length;return o?Pr(i,1):[]}function Z_(i){var o=i==null?0:i.length;return o?Pr(i,L):[]}function X_(i,o){var v=i==null?0:i.length;return v?(o=o===t?1:it(o),Pr(i,o)):[]}function J_(i){for(var o=-1,v=i==null?0:i.length,U={};++o<v;){var z=i[o];U[z[0]]=z[1]}return U}function H0(i){return i&&i.length?i[0]:t}function e2(i,o,v){var U=i==null?0:i.length;if(!U)return-1;var z=v==null?0:it(v);return z<0&&(z=te(U+z,0)),hi(i,o,z)}function t2(i){var o=i==null?0:i.length;return o?Vn(i,0,-1):[]}var r2=ut(function(i){var o=jt(i,Gf);return o.length&&o[0]===i[0]?jf(o):[]}),n2=ut(function(i){var o=qn(i),v=jt(i,Gf);return o===qn(v)?o=t:v.pop(),v.length&&v[0]===i[0]?jf(v,Ge(o,2)):[]}),i2=ut(function(i){var o=qn(i),v=jt(i,Gf);return o=typeof o=="function"?o:t,o&&v.pop(),v.length&&v[0]===i[0]?jf(v,t,o):[]});function a2(i,o){return i==null?"":k.call(i,o)}function qn(i){var o=i==null?0:i.length;return o?i[o-1]:t}function s2(i,o,v){var U=i==null?0:i.length;if(!U)return-1;var z=U;return v!==t&&(z=it(v),z=z<0?te(U+z,0):he(z,U-1)),o===o?Ef(i,o,z):xi(i,zo,z,!0)}function o2(i,o){return i&&i.length?n0(i,it(o)):t}var u2=ut(W0);function W0(i,o){return i&&i.length&&o&&o.length?Mf(i,o):i}function l2(i,o,v){return i&&i.length&&o&&o.length?Mf(i,o,Ge(v,2)):i}function c2(i,o,v){return i&&i.length&&o&&o.length?Mf(i,o,t,v):i}var f2=Gi(function(i,o){var v=i==null?0:i.length,U=Pf(i,o);return s0(i,jt(o,function(z){return Qi(z,v)?+z:z}).sort(g0)),U});function h2(i,o){var v=[];if(!(i&&i.length))return v;var U=-1,z=[],Z=i.length;for(o=Ge(o,3);++U<Z;){var re=i[U];o(re,U,i)&&(v.push(re),z.push(U))}return s0(i,z),v}function uh(i){return i==null?i:nt.call(i)}function d2(i,o,v){var U=i==null?0:i.length;return U?(v&&typeof v!="number"&&Jr(i,o,v)?(o=0,v=U):(o=o==null?0:it(o),v=v===t?U:it(v)),Vn(i,o,v)):[]}function p2(i,o){return vl(i,o)}function y2(i,o,v){return Kf(i,o,Ge(v,2))}function g2(i,o){var v=i==null?0:i.length;if(v){var U=vl(i,o);if(U<v&&Yn(i[U],o))return U}return-1}function m2(i,o){return vl(i,o,!0)}function v2(i,o,v){return Kf(i,o,Ge(v,2),!0)}function b2(i,o){var v=i==null?0:i.length;if(v){var U=vl(i,o,!0)-1;if(Yn(i[U],o))return U}return-1}function _2(i){return i&&i.length?u0(i):[]}function w2(i,o){return i&&i.length?u0(i,Ge(o,2)):[]}function S2(i){var o=i==null?0:i.length;return o?Vn(i,1,o):[]}function E2(i,o,v){return i&&i.length?(o=v||o===t?1:it(o),Vn(i,0,o<0?0:o)):[]}function C2(i,o,v){var U=i==null?0:i.length;return U?(o=v||o===t?1:it(o),o=U-o,Vn(i,o<0?0:o,U)):[]}function T2(i,o){return i&&i.length?bl(i,Ge(o,3),!1,!0):[]}function A2(i,o){return i&&i.length?bl(i,Ge(o,3)):[]}var I2=ut(function(i){return Ta(Pr(i,1,dr,!0))}),R2=ut(function(i){var o=qn(i);return dr(o)&&(o=t),Ta(Pr(i,1,dr,!0),Ge(o,2))}),k2=ut(function(i){var o=qn(i);return o=typeof o=="function"?o:t,Ta(Pr(i,1,dr,!0),t,o)});function B2(i){return i&&i.length?Ta(i):[]}function N2(i,o){return i&&i.length?Ta(i,Ge(o,2)):[]}function O2(i,o){return o=typeof o=="function"?o:t,i&&i.length?Ta(i,t,o):[]}function lh(i){if(!(i&&i.length))return[];var o=0;return i=xn(i,function(v){if(dr(v))return o=te(v.length,o),!0}),Wo(o,function(v){return jt(i,$o(v))})}function G0(i,o){if(!(i&&i.length))return[];var v=lh(i);return o==null?v:jt(v,function(U){return Yr(o,t,U)})}var L2=ut(function(i,o){return dr(i)?Xo(i,o):[]}),P2=ut(function(i){return Wf(xn(i,dr))}),x2=ut(function(i){var o=qn(i);return dr(o)&&(o=t),Wf(xn(i,dr),Ge(o,2))}),U2=ut(function(i){var o=qn(i);return o=typeof o=="function"?o:t,Wf(xn(i,dr),t,o)}),D2=ut(lh);function j2(i,o){return h0(i||[],o||[],Zo)}function V2(i,o){return h0(i||[],o||[],tu)}var q2=ut(function(i){var o=i.length,v=o>1?i[o-1]:t;return v=typeof v=="function"?(i.pop(),v):t,G0(i,v)});function Q0(i){var o=Q(i);return o.__chain__=!0,o}function F2(i,o){return o(i),i}function Rl(i,o){return o(i)}var M2=Gi(function(i){var o=i.length,v=o?i[0]:0,U=this.__wrapped__,z=function(Z){return Pf(Z,i)};return o>1||this.__actions__.length||!(U instanceof pt)||!Qi(v)?this.thru(z):(U=U.slice(v,+v+(o?1:0)),U.__actions__.push({func:Rl,args:[z],thisArg:t}),new $r(U,this.__chain__).thru(function(Z){return o&&!Z.length&&Z.push(t),Z}))});function z2(){return Q0(this)}function $2(){return new $r(this.value(),this.__chain__)}function K2(){this.__values__===t&&(this.__values__=ly(this.value()));var i=this.__index__>=this.__values__.length,o=i?t:this.__values__[this.__index__++];return{done:i,value:o}}function H2(){return this}function W2(i){for(var o,v=this;v instanceof Gn;){var U=M0(v);U.__index__=0,U.__values__=t,o?z.__wrapped__=U:o=U;var z=U;v=v.__wrapped__}return z.__wrapped__=i,o}function G2(){var i=this.__wrapped__;if(i instanceof pt){var o=i;return this.__actions__.length&&(o=new pt(this)),o=o.reverse(),o.__actions__.push({func:Rl,args:[uh],thisArg:t}),new $r(o,this.__chain__)}return this.thru(uh)}function Q2(){return f0(this.__wrapped__,this.__actions__)}var Y2=_l(function(i,o,v){_t.call(i,v)?++i[v]:Hi(i,v,1)});function Z2(i,o,v){var U=tt(i)?rl:Fb;return v&&Jr(i,o,v)&&(o=t),U(i,Ge(o,3))}function X2(i,o){var v=tt(i)?xn:Gp;return v(i,Ge(o,3))}var J2=S0(z0),ew=S0($0);function tw(i,o){return Pr(kl(i,o),1)}function rw(i,o){return Pr(kl(i,o),L)}function nw(i,o,v){return v=v===t?1:it(v),Pr(kl(i,o),v)}function Y0(i,o){var v=tt(i)?Fr:Ca;return v(i,Ge(o,3))}function Z0(i,o){var v=tt(i)?yf:Wp;return v(i,Ge(o,3))}var iw=_l(function(i,o,v){_t.call(i,v)?i[v].push(o):Hi(i,v,[o])});function aw(i,o,v,U){i=hn(i)?i:to(i),v=v&&!U?it(v):0;var z=i.length;return v<0&&(v=te(z+v,0)),Pl(i)?v<=z&&i.indexOf(o,v)>-1:!!z&&hi(i,o,v)>-1}var sw=ut(function(i,o,v){var U=-1,z=typeof o=="function",Z=hn(i)?pe(i.length):[];return Ca(i,function(re){Z[++U]=z?Yr(o,re,v):Jo(re,o,v)}),Z}),ow=_l(function(i,o,v){Hi(i,v,o)});function kl(i,o){var v=tt(i)?jt:e0;return v(i,Ge(o,3))}function uw(i,o,v,U){return i==null?[]:(tt(o)||(o=o==null?[]:[o]),v=U?t:v,tt(v)||(v=v==null?[]:[v]),i0(i,o,v))}var lw=_l(function(i,o,v){i[v?0:1].push(o)},function(){return[[],[]]});function cw(i,o,v){var U=tt(i)?Pi:Ko,z=arguments.length<3;return U(i,Ge(o,4),v,z,Ca)}function fw(i,o,v){var U=tt(i)?qs:Ko,z=arguments.length<3;return U(i,Ge(o,4),v,z,Wp)}function hw(i,o){var v=tt(i)?xn:Gp;return v(i,Ol(Ge(o,3)))}function dw(i){var o=tt(i)?zp:a_;return o(i)}function pw(i,o,v){(v?Jr(i,o,v):o===t)?o=1:o=it(o);var U=tt(i)?Ub:s_;return U(i,o)}function yw(i){var o=tt(i)?Db:u_;return o(i)}function gw(i){if(i==null)return 0;if(hn(i))return Pl(i)?wa(i):i.length;var o=Kr(i);return o==R||o==ye?i.size:qf(i).length}function mw(i,o,v){var U=tt(i)?Fs:l_;return v&&Jr(i,o,v)&&(o=t),U(i,Ge(o,3))}var vw=ut(function(i,o){if(i==null)return[];var v=o.length;return v>1&&Jr(i,o[0],o[1])?o=[]:v>2&&Jr(o[0],o[1],o[2])&&(o=[o[0]]),i0(i,Pr(o,1),[])}),Bl=Nf||function(){return mr.Date.now()};function bw(i,o){if(typeof o!="function")throw new Nr(c);return i=it(i),function(){if(--i<1)return o.apply(this,arguments)}}function X0(i,o,v){return o=v?t:o,o=i&&o==null?i.length:o,Wi(i,D,t,t,t,t,o)}function J0(i,o){var v;if(typeof o!="function")throw new Nr(c);return i=it(i),function(){return--i>0&&(v=o.apply(this,arguments)),i<=1&&(o=t),v}}var ch=ut(function(i,o,v){var U=T;if(v.length){var z=pi(v,Js(ch));U|=S}return Wi(i,U,o,v,z)}),ey=ut(function(i,o,v){var U=T|N;if(v.length){var z=pi(v,Js(ey));U|=S}return Wi(o,U,i,v,z)});function ty(i,o,v){o=v?t:o;var U=Wi(i,p,t,t,t,t,t,o);return U.placeholder=ty.placeholder,U}function ry(i,o,v){o=v?t:o;var U=Wi(i,A,t,t,t,t,t,o);return U.placeholder=ry.placeholder,U}function ny(i,o,v){var U,z,Z,re,ae,fe,be=0,we=!1,Ae=!1,De=!0;if(typeof i!="function")throw new Nr(c);o=Fn(o)||0,sr(v)&&(we=!!v.leading,Ae="maxWait"in v,Z=Ae?te(Fn(v.maxWait)||0,o):Z,De="trailing"in v?!!v.trailing:De);function Fe(pr){var Zn=U,Xi=z;return U=z=t,be=pr,re=i.apply(Xi,Zn),re}function Ye(pr){return be=pr,ae=iu(ht,o),we?Fe(pr):re}function at(pr){var Zn=pr-fe,Xi=pr-be,Sy=o-Zn;return Ae?he(Sy,Z-Xi):Sy}function Ze(pr){var Zn=pr-fe,Xi=pr-be;return fe===t||Zn>=o||Zn<0||Ae&&Xi>=Z}function ht(){var pr=Bl();if(Ze(pr))return gt(pr);ae=iu(ht,at(pr))}function gt(pr){return ae=t,De&&U?Fe(pr):(U=z=t,re)}function Rn(){ae!==t&&d0(ae),be=0,U=fe=z=ae=t}function en(){return ae===t?re:gt(Bl())}function kn(){var pr=Bl(),Zn=Ze(pr);if(U=arguments,z=this,fe=pr,Zn){if(ae===t)return Ye(fe);if(Ae)return d0(ae),ae=iu(ht,o),Fe(fe)}return ae===t&&(ae=iu(ht,o)),re}return kn.cancel=Rn,kn.flush=en,kn}var _w=ut(function(i,o){return Hp(i,1,o)}),ww=ut(function(i,o,v){return Hp(i,Fn(o)||0,v)});function Sw(i){return Wi(i,m)}function Nl(i,o){if(typeof i!="function"||o!=null&&typeof o!="function")throw new Nr(c);var v=function(){var U=arguments,z=o?o.apply(this,U):U[0],Z=v.cache;if(Z.has(z))return Z.get(z);var re=i.apply(this,U);return v.cache=Z.set(z,re)||Z,re};return v.cache=new(Nl.Cache||Ki),v}Nl.Cache=Ki;function Ol(i){if(typeof i!="function")throw new Nr(c);return function(){var o=arguments;switch(o.length){case 0:return!i.call(this);case 1:return!i.call(this,o[0]);case 2:return!i.call(this,o[0],o[1]);case 3:return!i.call(this,o[0],o[1],o[2])}return!i.apply(this,o)}}function Ew(i){return J0(2,i)}var Cw=c_(function(i,o){o=o.length==1&&tt(o[0])?jt(o[0],Ir(Ge())):jt(Pr(o,1),Ir(Ge()));var v=o.length;return ut(function(U){for(var z=-1,Z=he(U.length,v);++z<Z;)U[z]=o[z].call(this,U[z]);return Yr(i,this,U)})}),fh=ut(function(i,o){var v=pi(o,Js(fh));return Wi(i,S,t,o,v)}),iy=ut(function(i,o){var v=pi(o,Js(iy));return Wi(i,O,t,o,v)}),Tw=Gi(function(i,o){return Wi(i,E,t,t,t,o)});function Aw(i,o){if(typeof i!="function")throw new Nr(c);return o=o===t?o:it(o),ut(i,o)}function Iw(i,o){if(typeof i!="function")throw new Nr(c);return o=o==null?0:te(it(o),0),ut(function(v){var U=v[o],z=Ia(v,0,o);return U&&Mr(z,U),Yr(i,this,z)})}function Rw(i,o,v){var U=!0,z=!0;if(typeof i!="function")throw new Nr(c);return sr(v)&&(U="leading"in v?!!v.leading:U,z="trailing"in v?!!v.trailing:z),ny(i,o,{leading:U,maxWait:o,trailing:z})}function kw(i){return X0(i,1)}function Bw(i,o){return fh(Qf(o),i)}function Nw(){if(!arguments.length)return[];var i=arguments[0];return tt(i)?i:[i]}function Ow(i){return jn(i,I)}function Lw(i,o){return o=typeof o=="function"?o:t,jn(i,I,o)}function Pw(i){return jn(i,h|I)}function xw(i,o){return o=typeof o=="function"?o:t,jn(i,h|I,o)}function Uw(i,o){return o==null||Kp(i,o,Rr(o))}function Yn(i,o){return i===o||i!==i&&o!==o}var Dw=Cl(Df),jw=Cl(function(i,o){return i>=o}),us=Zp(function(){return arguments}())?Zp:function(i){return fr(i)&&_t.call(i,"callee")&&!hl.call(i,"callee")},tt=pe.isArray,Vw=Vo?Ir(Vo):Wb;function hn(i){return i!=null&&Ll(i.length)&&!Yi(i)}function dr(i){return fr(i)&&hn(i)}function qw(i){return i===!0||i===!1||fr(i)&&Xr(i)==Ce}var Ra=dl||Sh,Fw=Ju?Ir(Ju):Gb;function Mw(i){return fr(i)&&i.nodeType===1&&!au(i)}function zw(i){if(i==null)return!0;if(hn(i)&&(tt(i)||typeof i=="string"||typeof i.splice=="function"||Ra(i)||eo(i)||us(i)))return!i.length;var o=Kr(i);if(o==R||o==ye)return!i.size;if(nu(i))return!qf(i).length;for(var v in i)if(_t.call(i,v))return!1;return!0}function $w(i,o){return eu(i,o)}function Kw(i,o,v){v=typeof v=="function"?v:t;var U=v?v(i,o):t;return U===t?eu(i,o,t,v):!!U}function hh(i){if(!fr(i))return!1;var o=Xr(i);return o==P||o==Xe||typeof i.message=="string"&&typeof i.name=="string"&&!au(i)}function Hw(i){return typeof i=="number"&&b(i)}function Yi(i){if(!sr(i))return!1;var o=Xr(i);return o==Y||o==G||o==We||o==xe}function ay(i){return typeof i=="number"&&i==it(i)}function Ll(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=F}function sr(i){var o=typeof i;return i!=null&&(o=="object"||o=="function")}function fr(i){return i!=null&&typeof i=="object"}var sy=Ha?Ir(Ha):Yb;function Ww(i,o){return i===o||Vf(i,o,rh(o))}function Gw(i,o,v){return v=typeof v=="function"?v:t,Vf(i,o,rh(o),v)}function Qw(i){return oy(i)&&i!=+i}function Yw(i){if(L_(i))throw new Ke(u);return Xp(i)}function Zw(i){return i===null}function Xw(i){return i==null}function oy(i){return typeof i=="number"||fr(i)&&Xr(i)==H}function au(i){if(!fr(i)||Xr(i)!=ee)return!1;var o=gi(i);if(o===null)return!0;var v=_t.call(o,"constructor")&&o.constructor;return typeof v=="function"&&v instanceof v&&Za.call(v)==Rf}var dh=el?Ir(el):Zb;function Jw(i){return ay(i)&&i>=-F&&i<=F}var uy=tl?Ir(tl):Xb;function Pl(i){return typeof i=="string"||!tt(i)&&fr(i)&&Xr(i)==Oe}function In(i){return typeof i=="symbol"||fr(i)&&Xr(i)==He}var eo=qo?Ir(qo):Jb;function eS(i){return i===t}function tS(i){return fr(i)&&Kr(i)==$e}function rS(i){return fr(i)&&Xr(i)==kt}var nS=Cl(Ff),iS=Cl(function(i,o){return i<=o});function ly(i){if(!i)return[];if(hn(i))return Pl(i)?Sn(i):fn(i);if(Sa&&i[Sa])return zs(i[Sa]());var o=Kr(i),v=o==R?Qo:o==ye?$s:to;return v(i)}function Zi(i){if(!i)return i===0?i:0;if(i=Fn(i),i===L||i===-L){var o=i<0?-1:1;return o*J}return i===i?i:0}function it(i){var o=Zi(i),v=o%1;return o===o?v?o-v:o:0}function cy(i){return i?is(it(i),0,se):0}function Fn(i){if(typeof i=="number")return i;if(In(i))return oe;if(sr(i)){var o=typeof i.valueOf=="function"?i.valueOf():i;i=sr(o)?o+"":o}if(typeof i!="string")return i===0?i:+i;i=Ui(i);var v=fa.test(i);return v||ha.test(i)?pf(i.slice(2),v?2:8):Ns.test(i)?oe:+i}function fy(i){return vi(i,dn(i))}function aS(i){return i?is(it(i),-F,F):i===0?i:0}function Nt(i){return i==null?"":An(i)}var sS=Zs(function(i,o){if(nu(o)||hn(o)){vi(o,Rr(o),i);return}for(var v in o)_t.call(o,v)&&Zo(i,v,o[v])}),hy=Zs(function(i,o){vi(o,dn(o),i)}),xl=Zs(function(i,o,v,U){vi(o,dn(o),i,U)}),oS=Zs(function(i,o,v,U){vi(o,Rr(o),i,U)}),uS=Gi(Pf);function lS(i,o){var v=Tn(i);return o==null?v:$p(v,o)}var cS=ut(function(i,o){i=yt(i);var v=-1,U=o.length,z=U>2?o[2]:t;for(z&&Jr(o[0],o[1],z)&&(U=1);++v<U;)for(var Z=o[v],re=dn(Z),ae=-1,fe=re.length;++ae<fe;){var be=re[ae],we=i[be];(we===t||Yn(we,Vi[be])&&!_t.call(i,be))&&(i[be]=Z[be])}return i}),fS=ut(function(i){return i.push(t,k0),Yr(dy,t,i)});function hS(i,o){return Mo(i,Ge(o,3),mi)}function dS(i,o){return Mo(i,Ge(o,3),Uf)}function pS(i,o){return i==null?i:xf(i,Ge(o,3),dn)}function yS(i,o){return i==null?i:Qp(i,Ge(o,3),dn)}function gS(i,o){return i&&mi(i,Ge(o,3))}function mS(i,o){return i&&Uf(i,Ge(o,3))}function vS(i){return i==null?[]:gl(i,Rr(i))}function bS(i){return i==null?[]:gl(i,dn(i))}function ph(i,o,v){var U=i==null?t:as(i,o);return U===t?v:U}function _S(i,o){return i!=null&&O0(i,o,zb)}function yh(i,o){return i!=null&&O0(i,o,$b)}var wS=C0(function(i,o,v){o!=null&&typeof o.toString!="function"&&(o=Hs.call(o)),i[o]=v},mh(pn)),SS=C0(function(i,o,v){o!=null&&typeof o.toString!="function"&&(o=Hs.call(o)),_t.call(i,o)?i[o].push(v):i[o]=[v]},Ge),ES=ut(Jo);function Rr(i){return hn(i)?Mp(i):qf(i)}function dn(i){return hn(i)?Mp(i,!0):e_(i)}function CS(i,o){var v={};return o=Ge(o,3),mi(i,function(U,z,Z){Hi(v,o(U,z,Z),U)}),v}function TS(i,o){var v={};return o=Ge(o,3),mi(i,function(U,z,Z){Hi(v,z,o(U,z,Z))}),v}var AS=Zs(function(i,o,v){ml(i,o,v)}),dy=Zs(function(i,o,v,U){ml(i,o,v,U)}),IS=Gi(function(i,o){var v={};if(i==null)return v;var U=!1;o=jt(o,function(Z){return Z=Aa(Z,i),U||(U=Z.length>1),Z}),vi(i,eh(i),v),U&&(v=jn(v,h|g|I,w_));for(var z=o.length;z--;)Hf(v,o[z]);return v});function RS(i,o){return py(i,Ol(Ge(o)))}var kS=Gi(function(i,o){return i==null?{}:r_(i,o)});function py(i,o){if(i==null)return{};var v=jt(eh(i),function(U){return[U]});return o=Ge(o),a0(i,v,function(U,z){return o(U,z[0])})}function BS(i,o,v){o=Aa(o,i);var U=-1,z=o.length;for(z||(z=1,i=t);++U<z;){var Z=i==null?t:i[bi(o[U])];Z===t&&(U=z,Z=v),i=Yi(Z)?Z.call(i):Z}return i}function NS(i,o,v){return i==null?i:tu(i,o,v)}function OS(i,o,v,U){return U=typeof U=="function"?U:t,i==null?i:tu(i,o,v,U)}var yy=I0(Rr),gy=I0(dn);function LS(i,o,v){var U=tt(i),z=U||Ra(i)||eo(i);if(o=Ge(o,4),v==null){var Z=i&&i.constructor;z?v=U?new Z:[]:sr(i)?v=Yi(Z)?Tn(gi(i)):{}:v={}}return(z?Fr:mi)(i,function(re,ae,fe){return o(v,re,ae,fe)}),v}function PS(i,o){return i==null?!0:Hf(i,o)}function xS(i,o,v){return i==null?i:c0(i,o,Qf(v))}function US(i,o,v,U){return U=typeof U=="function"?U:t,i==null?i:c0(i,o,Qf(v),U)}function to(i){return i==null?[]:Di(i,Rr(i))}function DS(i){return i==null?[]:Di(i,dn(i))}function jS(i,o,v){return v===t&&(v=o,o=t),v!==t&&(v=Fn(v),v=v===v?v:0),o!==t&&(o=Fn(o),o=o===o?o:0),is(Fn(i),o,v)}function VS(i,o,v){return o=Zi(o),v===t?(v=o,o=0):v=Zi(v),i=Fn(i),Kb(i,o,v)}function qS(i,o,v){if(v&&typeof v!="boolean"&&Jr(i,o,v)&&(o=v=t),v===t&&(typeof o=="boolean"?(v=o,o=t):typeof i=="boolean"&&(v=i,i=t)),i===t&&o===t?(i=0,o=1):(i=Zi(i),o===t?(o=i,i=0):o=Zi(o)),i>o){var U=i;i=o,o=U}if(v||i%1||o%1){var z=qe();return he(i+z*(o-i+Yu("1e-"+((z+"").length-1))),o)}return zf(i,o)}var FS=Xs(function(i,o,v){return o=o.toLowerCase(),i+(v?my(o):o)});function my(i){return gh(Nt(i).toLowerCase())}function vy(i){return i=Nt(i),i&&i.replace(_n,di).replace(uf,"")}function MS(i,o,v){i=Nt(i),o=An(o);var U=i.length;v=v===t?U:is(it(v),0,U);var z=v;return v-=o.length,v>=0&&i.slice(v,z)==o}function zS(i){return i=Nt(i),i&&ui.test(i)?i.replace(Qr,Go):i}function $S(i){return i=Nt(i),i&&Xt.test(i)?i.replace(Ht,"\\$&"):i}var KS=Xs(function(i,o,v){return i+(v?"-":"")+o.toLowerCase()}),HS=Xs(function(i,o,v){return i+(v?" ":"")+o.toLowerCase()}),WS=w0("toLowerCase");function GS(i,o,v){i=Nt(i),o=it(o);var U=o?wa(i):0;if(!o||U>=o)return i;var z=(o-U)/2;return El(Ys(z),v)+i+El(Qs(z),v)}function QS(i,o,v){i=Nt(i),o=it(o);var U=o?wa(i):0;return o&&U<o?i+El(o-U,v):i}function YS(i,o,v){i=Nt(i),o=it(o);var U=o?wa(i):0;return o&&U<o?El(o-U,v)+i:i}function ZS(i,o,v){return v||o==null?o=0:o&&(o=+o),Re(Nt(i).replace(Wt,""),o||0)}function XS(i,o,v){return(v?Jr(i,o,v):o===t)?o=1:o=it(o),$f(Nt(i),o)}function JS(){var i=arguments,o=Nt(i[0]);return i.length<3?o:o.replace(i[1],i[2])}var eE=Xs(function(i,o,v){return i+(v?"_":"")+o.toLowerCase()});function tE(i,o,v){return v&&typeof v!="number"&&Jr(i,o,v)&&(o=v=t),v=v===t?se:v>>>0,v?(i=Nt(i),i&&(typeof o=="string"||o!=null&&!dh(o))&&(o=An(o),!o&&ji(i))?Ia(Sn(i),0,v):i.split(o,v)):[]}var rE=Xs(function(i,o,v){return i+(v?" ":"")+gh(o)});function nE(i,o,v){return i=Nt(i),v=v==null?0:is(it(v),0,i.length),o=An(o),i.slice(v,v+o.length)==o}function iE(i,o,v){var U=Q.templateSettings;v&&Jr(i,o,v)&&(o=t),i=Nt(i),o=xl({},o,U,R0);var z=xl({},o.imports,U.imports,R0),Z=Rr(z),re=Di(z,Z),ae,fe,be=0,we=o.interpolate||Cr,Ae="__p += '",De=Ks((o.escape||Cr).source+"|"+we.source+"|"+(we===xt?Mt:Cr).source+"|"+(o.evaluate||Cr).source+"|$","g"),Fe="//# sourceURL="+(_t.call(o,"sourceURL")?(o.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++hf+"]")+`
`;i.replace(De,function(Ze,ht,gt,Rn,en,kn){return gt||(gt=Rn),Ae+=i.slice(be,kn).replace(za,bf),ht&&(ae=!0,Ae+=`' +
__e(`+ht+`) +
'`),en&&(fe=!0,Ae+=`';
`+en+`;
__p += '`),gt&&(Ae+=`' +
((__t = (`+gt+`)) == null ? '' : __t) +
'`),be=kn+Ze.length,Ze}),Ae+=`';
`;var Ye=_t.call(o,"variable")&&o.variable;if(!Ye)Ae=`with (obj) {
`+Ae+`
}
`;else if(ir.test(Ye))throw new Ke(f);Ae=(fe?Ae.replace(yr,""):Ae).replace(jr,"$1").replace(un,"$1;"),Ae="function("+(Ye||"obj")+`) {
`+(Ye?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ae?", __e = _.escape":"")+(fe?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ae+`return __p
}`;var at=_y(function(){return ft(Z,Fe+"return "+Ae).apply(t,re)});if(at.source=Ae,hh(at))throw at;return at}function aE(i){return Nt(i).toLowerCase()}function sE(i){return Nt(i).toUpperCase()}function oE(i,o,v){if(i=Nt(i),i&&(v||o===t))return Ui(i);if(!i||!(o=An(o)))return i;var U=Sn(i),z=Sn(o),Z=Qa(U,z),re=ba(U,z)+1;return Ia(U,Z,re).join("")}function uE(i,o,v){if(i=Nt(i),i&&(v||o===t))return i.slice(0,ol(i)+1);if(!i||!(o=An(o)))return i;var U=Sn(i),z=ba(U,Sn(o))+1;return Ia(U,0,z).join("")}function lE(i,o,v){if(i=Nt(i),i&&(v||o===t))return i.replace(Wt,"");if(!i||!(o=An(o)))return i;var U=Sn(i),z=Qa(U,Sn(o));return Ia(U,z).join("")}function cE(i,o){var v=y,U=q;if(sr(o)){var z="separator"in o?o.separator:z;v="length"in o?it(o.length):v,U="omission"in o?An(o.omission):U}i=Nt(i);var Z=i.length;if(ji(i)){var re=Sn(i);Z=re.length}if(v>=Z)return i;var ae=v-wa(U);if(ae<1)return U;var fe=re?Ia(re,0,ae).join(""):i.slice(0,ae);if(z===t)return fe+U;if(re&&(ae+=fe.length-ae),dh(z)){if(i.slice(ae).search(z)){var be,we=fe;for(z.global||(z=Ks(z.source,Nt(er.exec(z))+"g")),z.lastIndex=0;be=z.exec(we);)var Ae=be.index;fe=fe.slice(0,Ae===t?ae:Ae)}}else if(i.indexOf(An(z),ae)!=ae){var De=fe.lastIndexOf(z);De>-1&&(fe=fe.slice(0,De))}return fe+U}function fE(i){return i=Nt(i),i&&bn.test(i)?i.replace(Gr,Cf):i}var hE=Xs(function(i,o,v){return i+(v?" ":"")+o.toUpperCase()}),gh=w0("toUpperCase");function by(i,o,v){return i=Nt(i),o=v?t:o,o===t?_f(i)?Af(i):mf(i):i.match(o)||[]}var _y=ut(function(i,o){try{return Yr(i,t,o)}catch(v){return hh(v)?v:new Ke(v)}}),dE=Gi(function(i,o){return Fr(o,function(v){v=bi(v),Hi(i,v,ch(i[v],i))}),i});function pE(i){var o=i==null?0:i.length,v=Ge();return i=o?jt(i,function(U){if(typeof U[1]!="function")throw new Nr(c);return[v(U[0]),U[1]]}):[],ut(function(U){for(var z=-1;++z<o;){var Z=i[z];if(Yr(Z[0],this,U))return Yr(Z[1],this,U)}})}function yE(i){return qb(jn(i,h))}function mh(i){return function(){return i}}function gE(i,o){return i==null||i!==i?o:i}var mE=E0(),vE=E0(!0);function pn(i){return i}function vh(i){return Jp(typeof i=="function"?i:jn(i,h))}function bE(i){return t0(jn(i,h))}function _E(i,o){return r0(i,jn(o,h))}var wE=ut(function(i,o){return function(v){return Jo(v,i,o)}}),SE=ut(function(i,o){return function(v){return Jo(i,v,o)}});function bh(i,o,v){var U=Rr(o),z=gl(o,U);v==null&&!(sr(o)&&(z.length||!U.length))&&(v=o,o=i,i=this,z=gl(o,Rr(o)));var Z=!(sr(v)&&"chain"in v)||!!v.chain,re=Yi(i);return Fr(z,function(ae){var fe=o[ae];i[ae]=fe,re&&(i.prototype[ae]=function(){var be=this.__chain__;if(Z||be){var we=i(this.__wrapped__),Ae=we.__actions__=fn(this.__actions__);return Ae.push({func:fe,args:arguments,thisArg:i}),we.__chain__=be,we}return fe.apply(i,Mr([this.value()],arguments))})}),i}function EE(){return mr._===this&&(mr._=Ws),this}function _h(){}function CE(i){return i=it(i),ut(function(o){return n0(o,i)})}var TE=Zf(jt),AE=Zf(rl),IE=Zf(Fs);function wy(i){return ih(i)?$o(bi(i)):n_(i)}function RE(i){return function(o){return i==null?t:as(i,o)}}var kE=T0(),BE=T0(!0);function wh(){return[]}function Sh(){return!1}function NE(){return{}}function OE(){return""}function LE(){return!0}function PE(i,o){if(i=it(i),i<1||i>F)return[];var v=se,U=he(i,se);o=Ge(o),i-=se;for(var z=Wo(U,o);++v<i;)o(v);return z}function xE(i){return tt(i)?jt(i,bi):In(i)?[i]:fn(F0(Nt(i)))}function UE(i){var o=++If;return Nt(i)+o}var DE=Sl(function(i,o){return i+o},0),jE=Xf("ceil"),VE=Sl(function(i,o){return i/o},1),qE=Xf("floor");function FE(i){return i&&i.length?yl(i,pn,Df):t}function ME(i,o){return i&&i.length?yl(i,Ge(o,2),Df):t}function zE(i){return il(i,pn)}function $E(i,o){return il(i,Ge(o,2))}function KE(i){return i&&i.length?yl(i,pn,Ff):t}function HE(i,o){return i&&i.length?yl(i,Ge(o,2),Ff):t}var WE=Sl(function(i,o){return i*o},1),GE=Xf("round"),QE=Sl(function(i,o){return i-o},0);function YE(i){return i&&i.length?Ho(i,pn):0}function ZE(i,o){return i&&i.length?Ho(i,Ge(o,2)):0}return Q.after=bw,Q.ary=X0,Q.assign=sS,Q.assignIn=hy,Q.assignInWith=xl,Q.assignWith=oS,Q.at=uS,Q.before=J0,Q.bind=ch,Q.bindAll=dE,Q.bindKey=ey,Q.castArray=Nw,Q.chain=Q0,Q.chunk=q_,Q.compact=F_,Q.concat=M_,Q.cond=pE,Q.conforms=yE,Q.constant=mh,Q.countBy=Y2,Q.create=lS,Q.curry=ty,Q.curryRight=ry,Q.debounce=ny,Q.defaults=cS,Q.defaultsDeep=fS,Q.defer=_w,Q.delay=ww,Q.difference=z_,Q.differenceBy=$_,Q.differenceWith=K_,Q.drop=H_,Q.dropRight=W_,Q.dropRightWhile=G_,Q.dropWhile=Q_,Q.fill=Y_,Q.filter=X2,Q.flatMap=tw,Q.flatMapDeep=rw,Q.flatMapDepth=nw,Q.flatten=K0,Q.flattenDeep=Z_,Q.flattenDepth=X_,Q.flip=Sw,Q.flow=mE,Q.flowRight=vE,Q.fromPairs=J_,Q.functions=vS,Q.functionsIn=bS,Q.groupBy=iw,Q.initial=t2,Q.intersection=r2,Q.intersectionBy=n2,Q.intersectionWith=i2,Q.invert=wS,Q.invertBy=SS,Q.invokeMap=sw,Q.iteratee=vh,Q.keyBy=ow,Q.keys=Rr,Q.keysIn=dn,Q.map=kl,Q.mapKeys=CS,Q.mapValues=TS,Q.matches=bE,Q.matchesProperty=_E,Q.memoize=Nl,Q.merge=AS,Q.mergeWith=dy,Q.method=wE,Q.methodOf=SE,Q.mixin=bh,Q.negate=Ol,Q.nthArg=CE,Q.omit=IS,Q.omitBy=RS,Q.once=Ew,Q.orderBy=uw,Q.over=TE,Q.overArgs=Cw,Q.overEvery=AE,Q.overSome=IE,Q.partial=fh,Q.partialRight=iy,Q.partition=lw,Q.pick=kS,Q.pickBy=py,Q.property=wy,Q.propertyOf=RE,Q.pull=u2,Q.pullAll=W0,Q.pullAllBy=l2,Q.pullAllWith=c2,Q.pullAt=f2,Q.range=kE,Q.rangeRight=BE,Q.rearg=Tw,Q.reject=hw,Q.remove=h2,Q.rest=Aw,Q.reverse=uh,Q.sampleSize=pw,Q.set=NS,Q.setWith=OS,Q.shuffle=yw,Q.slice=d2,Q.sortBy=vw,Q.sortedUniq=_2,Q.sortedUniqBy=w2,Q.split=tE,Q.spread=Iw,Q.tail=S2,Q.take=E2,Q.takeRight=C2,Q.takeRightWhile=T2,Q.takeWhile=A2,Q.tap=F2,Q.throttle=Rw,Q.thru=Rl,Q.toArray=ly,Q.toPairs=yy,Q.toPairsIn=gy,Q.toPath=xE,Q.toPlainObject=fy,Q.transform=LS,Q.unary=kw,Q.union=I2,Q.unionBy=R2,Q.unionWith=k2,Q.uniq=B2,Q.uniqBy=N2,Q.uniqWith=O2,Q.unset=PS,Q.unzip=lh,Q.unzipWith=G0,Q.update=xS,Q.updateWith=US,Q.values=to,Q.valuesIn=DS,Q.without=L2,Q.words=by,Q.wrap=Bw,Q.xor=P2,Q.xorBy=x2,Q.xorWith=U2,Q.zip=D2,Q.zipObject=j2,Q.zipObjectDeep=V2,Q.zipWith=q2,Q.entries=yy,Q.entriesIn=gy,Q.extend=hy,Q.extendWith=xl,bh(Q,Q),Q.add=DE,Q.attempt=_y,Q.camelCase=FS,Q.capitalize=my,Q.ceil=jE,Q.clamp=jS,Q.clone=Ow,Q.cloneDeep=Pw,Q.cloneDeepWith=xw,Q.cloneWith=Lw,Q.conformsTo=Uw,Q.deburr=vy,Q.defaultTo=gE,Q.divide=VE,Q.endsWith=MS,Q.eq=Yn,Q.escape=zS,Q.escapeRegExp=$S,Q.every=Z2,Q.find=J2,Q.findIndex=z0,Q.findKey=hS,Q.findLast=ew,Q.findLastIndex=$0,Q.findLastKey=dS,Q.floor=qE,Q.forEach=Y0,Q.forEachRight=Z0,Q.forIn=pS,Q.forInRight=yS,Q.forOwn=gS,Q.forOwnRight=mS,Q.get=ph,Q.gt=Dw,Q.gte=jw,Q.has=_S,Q.hasIn=yh,Q.head=H0,Q.identity=pn,Q.includes=aw,Q.indexOf=e2,Q.inRange=VS,Q.invoke=ES,Q.isArguments=us,Q.isArray=tt,Q.isArrayBuffer=Vw,Q.isArrayLike=hn,Q.isArrayLikeObject=dr,Q.isBoolean=qw,Q.isBuffer=Ra,Q.isDate=Fw,Q.isElement=Mw,Q.isEmpty=zw,Q.isEqual=$w,Q.isEqualWith=Kw,Q.isError=hh,Q.isFinite=Hw,Q.isFunction=Yi,Q.isInteger=ay,Q.isLength=Ll,Q.isMap=sy,Q.isMatch=Ww,Q.isMatchWith=Gw,Q.isNaN=Qw,Q.isNative=Yw,Q.isNil=Xw,Q.isNull=Zw,Q.isNumber=oy,Q.isObject=sr,Q.isObjectLike=fr,Q.isPlainObject=au,Q.isRegExp=dh,Q.isSafeInteger=Jw,Q.isSet=uy,Q.isString=Pl,Q.isSymbol=In,Q.isTypedArray=eo,Q.isUndefined=eS,Q.isWeakMap=tS,Q.isWeakSet=rS,Q.join=a2,Q.kebabCase=KS,Q.last=qn,Q.lastIndexOf=s2,Q.lowerCase=HS,Q.lowerFirst=WS,Q.lt=nS,Q.lte=iS,Q.max=FE,Q.maxBy=ME,Q.mean=zE,Q.meanBy=$E,Q.min=KE,Q.minBy=HE,Q.stubArray=wh,Q.stubFalse=Sh,Q.stubObject=NE,Q.stubString=OE,Q.stubTrue=LE,Q.multiply=WE,Q.nth=o2,Q.noConflict=EE,Q.noop=_h,Q.now=Bl,Q.pad=GS,Q.padEnd=QS,Q.padStart=YS,Q.parseInt=ZS,Q.random=qS,Q.reduce=cw,Q.reduceRight=fw,Q.repeat=XS,Q.replace=JS,Q.result=BS,Q.round=GE,Q.runInContext=ce,Q.sample=dw,Q.size=gw,Q.snakeCase=eE,Q.some=mw,Q.sortedIndex=p2,Q.sortedIndexBy=y2,Q.sortedIndexOf=g2,Q.sortedLastIndex=m2,Q.sortedLastIndexBy=v2,Q.sortedLastIndexOf=b2,Q.startCase=rE,Q.startsWith=nE,Q.subtract=QE,Q.sum=YE,Q.sumBy=ZE,Q.template=iE,Q.times=PE,Q.toFinite=Zi,Q.toInteger=it,Q.toLength=cy,Q.toLower=aE,Q.toNumber=Fn,Q.toSafeInteger=aS,Q.toString=Nt,Q.toUpper=sE,Q.trim=oE,Q.trimEnd=uE,Q.trimStart=lE,Q.truncate=cE,Q.unescape=fE,Q.uniqueId=UE,Q.upperCase=hE,Q.upperFirst=gh,Q.each=Y0,Q.eachRight=Z0,Q.first=H0,bh(Q,function(){var i={};return mi(Q,function(o,v){_t.call(Q.prototype,v)||(i[v]=o)}),i}(),{chain:!1}),Q.VERSION=r,Fr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(i){Q[i].placeholder=Q}),Fr(["drop","take"],function(i,o){pt.prototype[i]=function(v){v=v===t?1:te(it(v),0);var U=this.__filtered__&&!o?new pt(this):this.clone();return U.__filtered__?U.__takeCount__=he(v,U.__takeCount__):U.__views__.push({size:he(v,se),type:i+(U.__dir__<0?"Right":"")}),U},pt.prototype[i+"Right"]=function(v){return this.reverse()[i](v).reverse()}}),Fr(["filter","map","takeWhile"],function(i,o){var v=o+1,U=v==w||v==j;pt.prototype[i]=function(z){var Z=this.clone();return Z.__iteratees__.push({iteratee:Ge(z,3),type:v}),Z.__filtered__=Z.__filtered__||U,Z}}),Fr(["head","last"],function(i,o){var v="take"+(o?"Right":"");pt.prototype[i]=function(){return this[v](1).value()[0]}}),Fr(["initial","tail"],function(i,o){var v="drop"+(o?"":"Right");pt.prototype[i]=function(){return this.__filtered__?new pt(this):this[v](1)}}),pt.prototype.compact=function(){return this.filter(pn)},pt.prototype.find=function(i){return this.filter(i).head()},pt.prototype.findLast=function(i){return this.reverse().find(i)},pt.prototype.invokeMap=ut(function(i,o){return typeof i=="function"?new pt(this):this.map(function(v){return Jo(v,i,o)})}),pt.prototype.reject=function(i){return this.filter(Ol(Ge(i)))},pt.prototype.slice=function(i,o){i=it(i);var v=this;return v.__filtered__&&(i>0||o<0)?new pt(v):(i<0?v=v.takeRight(-i):i&&(v=v.drop(i)),o!==t&&(o=it(o),v=o<0?v.dropRight(-o):v.take(o-i)),v)},pt.prototype.takeRightWhile=function(i){return this.reverse().takeWhile(i).reverse()},pt.prototype.toArray=function(){return this.take(se)},mi(pt.prototype,function(i,o){var v=/^(?:filter|find|map|reject)|While$/.test(o),U=/^(?:head|last)$/.test(o),z=Q[U?"take"+(o=="last"?"Right":""):o],Z=U||/^find/.test(o);z&&(Q.prototype[o]=function(){var re=this.__wrapped__,ae=U?[1]:arguments,fe=re instanceof pt,be=ae[0],we=fe||tt(re),Ae=function(ht){var gt=z.apply(Q,Mr([ht],ae));return U&&De?gt[0]:gt};we&&v&&typeof be=="function"&&be.length!=1&&(fe=we=!1);var De=this.__chain__,Fe=!!this.__actions__.length,Ye=Z&&!De,at=fe&&!Fe;if(!Z&&we){re=at?re:new pt(this);var Ze=i.apply(re,ae);return Ze.__actions__.push({func:Rl,args:[Ae],thisArg:t}),new $r(Ze,De)}return Ye&&at?i.apply(this,ae):(Ze=this.thru(Ae),Ye?U?Ze.value()[0]:Ze.value():Ze)})}),Fr(["pop","push","shift","sort","splice","unshift"],function(i){var o=Ya[i],v=/^(?:push|sort|unshift)$/.test(i)?"tap":"thru",U=/^(?:pop|shift)$/.test(i);Q.prototype[i]=function(){var z=arguments;if(U&&!this.__chain__){var Z=this.value();return o.apply(tt(Z)?Z:[],z)}return this[v](function(re){return o.apply(tt(re)?re:[],z)})}}),mi(pt.prototype,function(i,o){var v=Q[o];if(v){var U=v.name+"";_t.call(zr,U)||(zr[U]=[]),zr[U].push({name:o,func:v})}}),zr[wl(t,N).name]=[{name:"wrapper",func:t}],pt.prototype.clone=fb,pt.prototype.reverse=hb,pt.prototype.value=db,Q.prototype.at=M2,Q.prototype.chain=z2,Q.prototype.commit=$2,Q.prototype.next=K2,Q.prototype.plant=W2,Q.prototype.reverse=G2,Q.prototype.toJSON=Q.prototype.valueOf=Q.prototype.value=Q2,Q.prototype.first=Q.prototype.head,Sa&&(Q.prototype[Sa]=H2),Q},Un=yi();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(mr._=Un,define(function(){return Un})):ci?((ci.exports=Un)._=Un,js._=Un):mr._=Un}).call(e)}),j3=Te((e,n)=>{var t=tv(),r=sv(),a=av(),u=Xd(),{includes:c,isBoolean:f,isInteger:l,isNumber:s,isPlainObject:d,isString:h,once:g}=D3(),{KeyObject:I,createSecretKey:C,createPrivateKey:_}=require("crypto"),T=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];r&&T.splice(3,0,"PS256","PS384","PS512");var N={expiresIn:{isValid:function(E){return l(E)||h(E)&&E},message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:function(E){return l(E)||h(E)&&E},message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:function(E){return h(E)||Array.isArray(E)},message:'"audience" must be a string or array'},algorithm:{isValid:c.bind(null,T),message:'"algorithm" must be a valid string enum value'},header:{isValid:d,message:'"header" must be an object'},encoding:{isValid:h,message:'"encoding" must be a string'},issuer:{isValid:h,message:'"issuer" must be a string'},subject:{isValid:h,message:'"subject" must be a string'},jwtid:{isValid:h,message:'"jwtid" must be a string'},noTimestamp:{isValid:f,message:'"noTimestamp" must be a boolean'},keyid:{isValid:h,message:'"keyid" must be a string'},mutatePayload:{isValid:f,message:'"mutatePayload" must be a boolean'},allowInsecureKeySizes:{isValid:f,message:'"allowInsecureKeySizes" must be a boolean'},allowInvalidAsymmetricKeyTypes:{isValid:f,message:'"allowInvalidAsymmetricKeyTypes" must be a boolean'}},B={iat:{isValid:s,message:'"iat" should be a number of seconds'},exp:{isValid:s,message:'"exp" should be a number of seconds'},nbf:{isValid:s,message:'"nbf" should be a number of seconds'}};function p(E,m,y,q){if(!d(y))throw new Error('Expected "'+q+'" to be a plain object.');Object.keys(y).forEach(function(M){let V=E[M];if(!V){if(!m)throw new Error('"'+M+'" is not allowed in "'+q+'"');return}if(!V.isValid(y[M]))throw new Error(V.message)})}function A(E){return p(N,!1,E,"options")}function S(E){return p(B,!0,E,"payload")}var O={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"},D=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"];n.exports=function(E,m,y,q){typeof y=="function"?(q=y,y={}):y=y||{};let M=typeof E=="object"&&!Buffer.isBuffer(E),V=Object.assign({alg:y.algorithm||"HS256",typ:M?"JWT":void 0,kid:y.keyid},y.header);function w(L){if(q)return q(L);throw L}if(!m&&y.algorithm!=="none")return w(new Error("secretOrPrivateKey must have a value"));if(m!=null&&!(m instanceof I))try{m=_(m)}catch{try{m=C(typeof m=="string"?Buffer.from(m):m)}catch{return w(new Error("secretOrPrivateKey is not valid key material"))}}if(V.alg.startsWith("HS")&&m.type!=="secret")return w(new Error(`secretOrPrivateKey must be a symmetric key when using ${V.alg}`));if(/^(?:RS|PS|ES)/.test(V.alg)){if(m.type!=="private")return w(new Error(`secretOrPrivateKey must be an asymmetric key when using ${V.alg}`));if(!y.allowInsecureKeySizes&&!V.alg.startsWith("ES")&&m.asymmetricKeyDetails!==void 0&&m.asymmetricKeyDetails.modulusLength<2048)return w(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${V.alg}`))}if(typeof E>"u")return w(new Error("payload is required"));if(M){try{S(E)}catch(L){return w(L)}y.mutatePayload||(E=Object.assign({},E))}else{let L=D.filter(function(F){return typeof y[F]<"u"});if(L.length>0)return w(new Error("invalid "+L.join(",")+" option for "+typeof E+" payload"))}if(typeof E.exp<"u"&&typeof y.expiresIn<"u")return w(new Error('Bad "options.expiresIn" option the payload already has an "exp" property.'));if(typeof E.nbf<"u"&&typeof y.notBefore<"u")return w(new Error('Bad "options.notBefore" option the payload already has an "nbf" property.'));try{A(y)}catch(L){return w(L)}if(!y.allowInvalidAsymmetricKeyTypes)try{a(V.alg,m)}catch(L){return w(L)}let x=E.iat||Math.floor(Date.now()/1e3);if(y.noTimestamp?delete E.iat:M&&(E.iat=x),typeof y.notBefore<"u"){try{E.nbf=t(y.notBefore,x)}catch(L){return w(L)}if(typeof E.nbf>"u")return w(new Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}if(typeof y.expiresIn<"u"&&typeof E=="object"){try{E.exp=t(y.expiresIn,x)}catch(L){return w(L)}if(typeof E.exp>"u")return w(new Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}Object.keys(O).forEach(function(L){let F=O[L];if(typeof y[L]<"u"){if(typeof E[F]<"u")return w(new Error('Bad "options.'+L+'" option. The payload already has an "'+F+'" property.'));E[F]=y[L]}});let j=y.encoding||"utf8";if(typeof q=="function")q=q&&g(q),u.createSign({header:V,privateKey:m,payload:E,encoding:j}).once("error",q).once("done",function(L){if(!y.allowInsecureKeySizes&&/^(?:RS|PS)/.test(V.alg)&&L.length<256)return q(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${V.alg}`));q(null,L)});else{let L=u.sign({header:V,payload:E,secret:m,encoding:j});if(!y.allowInsecureKeySizes&&/^(?:RS|PS)/.test(V.alg)&&L.length<256)throw new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${V.alg}`);return L}}}),V3=Te((e,n)=>{n.exports={verify:U3(),sign:j3(),JsonWebTokenError:Vc(),NotBeforeError:Qm(),TokenExpiredError:Ym()},Object.defineProperty(n.exports,"decode",{enumerable:!1,value:ev()})}),ov={};xT(ov,{BrowserName:()=>uv,marketNameMap:()=>lv,submitChrome:()=>u5,submitEdge:()=>y5,submitFirefox:()=>aA,submitItero:()=>JI,submitOpera:()=>oA,supportedBrowserSet:()=>q3});ob.exports=UT(ov);var uv=(e=>(e.Chrome="chrome",e.Firefox="firefox",e.Opera="opera",e.Edge="edge",e.Itero="itero",e))(uv||{}),q3=new Set(["chrome","edge","firefox","itero"]),lv={chrome:"Chrome Web Store",edge:"Edge Add-ons",firefox:"Firefox Add-ons",itero:"Itero TestBed"},F3=require("fs"),cv=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function M3(e){return cv.includes(e)}var z3=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Blob","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","WeakRef","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","FormData","URLSearchParams","HTMLElement","NaN",...cv];function $3(e){return z3.includes(e)}var K3=["null","undefined","string","number","bigint","boolean","symbol"];function H3(e){return K3.includes(e)}function Ao(e){return n=>typeof n===e}var{toString:W3}=Object.prototype,ju=e=>{let n=W3.call(e).slice(8,-1);if(/HTML\w+Element/.test(n)&&ne.domElement(e))return"HTMLElement";if($3(n))return n},Vt=e=>n=>ju(n)===e;function ne(e){if(e===null)return"null";switch(typeof e){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(e)?"NaN":"number";case"boolean":return"boolean";case"function":return"Function";case"bigint":return"bigint";case"symbol":return"symbol";default:}if(ne.observable(e))return"Observable";if(ne.array(e))return"Array";if(ne.buffer(e))return"Buffer";let n=ju(e);if(n)return n;if(e instanceof String||e instanceof Boolean||e instanceof Number)throw new TypeError("Please don't use object wrappers for primitive types");return"Object"}ne.undefined=Ao("undefined");ne.string=Ao("string");var G3=Ao("number");ne.number=e=>G3(e)&&!ne.nan(e);ne.bigint=Ao("bigint");ne.function_=Ao("function");ne.null_=e=>e===null;ne.class_=e=>ne.function_(e)&&e.toString().startsWith("class ");ne.boolean=e=>e===!0||e===!1;ne.symbol=Ao("symbol");ne.numericString=e=>ne.string(e)&&!ne.emptyStringOrWhitespace(e)&&!Number.isNaN(Number(e));ne.array=(e,n)=>Array.isArray(e)?ne.function_(n)?e.every(t=>n(t)):!0:!1;ne.buffer=e=>e?.constructor?.isBuffer?.(e)??!1;ne.blob=e=>Vt("Blob")(e);ne.nullOrUndefined=e=>ne.null_(e)||ne.undefined(e);ne.object=e=>!ne.null_(e)&&(typeof e=="object"||ne.function_(e));ne.iterable=e=>ne.function_(e?.[Symbol.iterator]);ne.asyncIterable=e=>ne.function_(e?.[Symbol.asyncIterator]);ne.generator=e=>ne.iterable(e)&&ne.function_(e?.next)&&ne.function_(e?.throw);ne.asyncGenerator=e=>ne.asyncIterable(e)&&ne.function_(e.next)&&ne.function_(e.throw);ne.nativePromise=e=>Vt("Promise")(e);var Q3=e=>ne.function_(e?.then)&&ne.function_(e?.catch);ne.promise=e=>ne.nativePromise(e)||Q3(e);ne.generatorFunction=Vt("GeneratorFunction");ne.asyncGeneratorFunction=e=>ju(e)==="AsyncGeneratorFunction";ne.asyncFunction=e=>ju(e)==="AsyncFunction";ne.boundFunction=e=>ne.function_(e)&&!e.hasOwnProperty("prototype");ne.regExp=Vt("RegExp");ne.date=Vt("Date");ne.error=Vt("Error");ne.map=e=>Vt("Map")(e);ne.set=e=>Vt("Set")(e);ne.weakMap=e=>Vt("WeakMap")(e);ne.weakSet=e=>Vt("WeakSet")(e);ne.weakRef=e=>Vt("WeakRef")(e);ne.int8Array=Vt("Int8Array");ne.uint8Array=Vt("Uint8Array");ne.uint8ClampedArray=Vt("Uint8ClampedArray");ne.int16Array=Vt("Int16Array");ne.uint16Array=Vt("Uint16Array");ne.int32Array=Vt("Int32Array");ne.uint32Array=Vt("Uint32Array");ne.float32Array=Vt("Float32Array");ne.float64Array=Vt("Float64Array");ne.bigInt64Array=Vt("BigInt64Array");ne.bigUint64Array=Vt("BigUint64Array");ne.arrayBuffer=Vt("ArrayBuffer");ne.sharedArrayBuffer=Vt("SharedArrayBuffer");ne.dataView=Vt("DataView");ne.enumCase=(e,n)=>Object.values(n).includes(e);ne.directInstanceOf=(e,n)=>Object.getPrototypeOf(e)===n.prototype;ne.urlInstance=e=>Vt("URL")(e);ne.urlString=e=>{if(!ne.string(e))return!1;try{return new URL(e),!0}catch{return!1}};ne.truthy=e=>!!e;ne.falsy=e=>!e;ne.nan=e=>Number.isNaN(e);ne.primitive=e=>ne.null_(e)||H3(typeof e);ne.integer=e=>Number.isInteger(e);ne.safeInteger=e=>Number.isSafeInteger(e);ne.plainObject=e=>{if(typeof e!="object"||e===null)return!1;let n=Object.getPrototypeOf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};ne.typedArray=e=>M3(ju(e));var Y3=e=>ne.safeInteger(e)&&e>=0;ne.arrayLike=e=>!ne.nullOrUndefined(e)&&!ne.function_(e)&&Y3(e.length);ne.inRange=(e,n)=>{if(ne.number(n))return e>=Math.min(0,n)&&e<=Math.max(n,0);if(ne.array(n)&&n.length===2)return e>=Math.min(...n)&&e<=Math.max(...n);throw new TypeError(`Invalid range: ${JSON.stringify(n)}`)};var Z3=1,X3=["innerHTML","ownerDocument","style","attributes","nodeValue"];ne.domElement=e=>ne.object(e)&&e.nodeType===Z3&&ne.string(e.nodeName)&&!ne.plainObject(e)&&X3.every(n=>n in e);ne.observable=e=>e?e===e[Symbol.observable]?.()||e===e["@@observable"]?.():!1;ne.nodeStream=e=>ne.object(e)&&ne.function_(e.pipe)&&!ne.observable(e);ne.infinite=e=>e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY;var fv=e=>n=>ne.integer(n)&&Math.abs(n%2)===e;ne.evenInteger=fv(0);ne.oddInteger=fv(1);ne.emptyArray=e=>ne.array(e)&&e.length===0;ne.nonEmptyArray=e=>ne.array(e)&&e.length>0;ne.emptyString=e=>ne.string(e)&&e.length===0;var J3=e=>ne.string(e)&&!/\S/.test(e);ne.emptyStringOrWhitespace=e=>ne.emptyString(e)||J3(e);ne.nonEmptyString=e=>ne.string(e)&&e.length>0;ne.nonEmptyStringAndNotWhitespace=e=>ne.string(e)&&!ne.emptyStringOrWhitespace(e);ne.emptyObject=e=>ne.object(e)&&!ne.map(e)&&!ne.set(e)&&Object.keys(e).length===0;ne.nonEmptyObject=e=>ne.object(e)&&!ne.map(e)&&!ne.set(e)&&Object.keys(e).length>0;ne.emptySet=e=>ne.set(e)&&e.size===0;ne.nonEmptySet=e=>ne.set(e)&&e.size>0;ne.emptyMap=e=>ne.map(e)&&e.size===0;ne.nonEmptyMap=e=>ne.map(e)&&e.size>0;ne.propertyKey=e=>ne.any([ne.string,ne.number,ne.symbol],e);ne.formData=e=>Vt("FormData")(e);ne.urlSearchParams=e=>Vt("URLSearchParams")(e);var hv=(e,n,t)=>{if(!ne.function_(n))throw new TypeError(`Invalid predicate: ${JSON.stringify(n)}`);if(t.length===0)throw new TypeError("Invalid number of values");return e.call(t,n)};ne.any=(e,...n)=>(ne.array(e)?e:[e]).some(t=>hv(Array.prototype.some,t,n));ne.all=(e,...n)=>hv(Array.prototype.every,e,n);var Be=(e,n,t,r={})=>{if(!e){let{multipleValues:a}=r,u=a?`received values of types ${[...new Set(t.map(c=>`\`${ne(c)}\``))].join(", ")}`:`received value of type \`${ne(t)}\``;throw new TypeError(`Expected value which is \`${n}\`, ${u}.`)}},Ie={undefined:e=>Be(ne.undefined(e),"undefined",e),string:e=>Be(ne.string(e),"string",e),number:e=>Be(ne.number(e),"number",e),bigint:e=>Be(ne.bigint(e),"bigint",e),function_:e=>Be(ne.function_(e),"Function",e),null_:e=>Be(ne.null_(e),"null",e),class_:e=>Be(ne.class_(e),"Class",e),boolean:e=>Be(ne.boolean(e),"boolean",e),symbol:e=>Be(ne.symbol(e),"symbol",e),numericString:e=>Be(ne.numericString(e),"string with a number",e),array:(e,n)=>{Be(ne.array(e),"Array",e),n&&e.forEach(n)},buffer:e=>Be(ne.buffer(e),"Buffer",e),blob:e=>Be(ne.blob(e),"Blob",e),nullOrUndefined:e=>Be(ne.nullOrUndefined(e),"null or undefined",e),object:e=>Be(ne.object(e),"Object",e),iterable:e=>Be(ne.iterable(e),"Iterable",e),asyncIterable:e=>Be(ne.asyncIterable(e),"AsyncIterable",e),generator:e=>Be(ne.generator(e),"Generator",e),asyncGenerator:e=>Be(ne.asyncGenerator(e),"AsyncGenerator",e),nativePromise:e=>Be(ne.nativePromise(e),"native Promise",e),promise:e=>Be(ne.promise(e),"Promise",e),generatorFunction:e=>Be(ne.generatorFunction(e),"GeneratorFunction",e),asyncGeneratorFunction:e=>Be(ne.asyncGeneratorFunction(e),"AsyncGeneratorFunction",e),asyncFunction:e=>Be(ne.asyncFunction(e),"AsyncFunction",e),boundFunction:e=>Be(ne.boundFunction(e),"Function",e),regExp:e=>Be(ne.regExp(e),"RegExp",e),date:e=>Be(ne.date(e),"Date",e),error:e=>Be(ne.error(e),"Error",e),map:e=>Be(ne.map(e),"Map",e),set:e=>Be(ne.set(e),"Set",e),weakMap:e=>Be(ne.weakMap(e),"WeakMap",e),weakSet:e=>Be(ne.weakSet(e),"WeakSet",e),weakRef:e=>Be(ne.weakRef(e),"WeakRef",e),int8Array:e=>Be(ne.int8Array(e),"Int8Array",e),uint8Array:e=>Be(ne.uint8Array(e),"Uint8Array",e),uint8ClampedArray:e=>Be(ne.uint8ClampedArray(e),"Uint8ClampedArray",e),int16Array:e=>Be(ne.int16Array(e),"Int16Array",e),uint16Array:e=>Be(ne.uint16Array(e),"Uint16Array",e),int32Array:e=>Be(ne.int32Array(e),"Int32Array",e),uint32Array:e=>Be(ne.uint32Array(e),"Uint32Array",e),float32Array:e=>Be(ne.float32Array(e),"Float32Array",e),float64Array:e=>Be(ne.float64Array(e),"Float64Array",e),bigInt64Array:e=>Be(ne.bigInt64Array(e),"BigInt64Array",e),bigUint64Array:e=>Be(ne.bigUint64Array(e),"BigUint64Array",e),arrayBuffer:e=>Be(ne.arrayBuffer(e),"ArrayBuffer",e),sharedArrayBuffer:e=>Be(ne.sharedArrayBuffer(e),"SharedArrayBuffer",e),dataView:e=>Be(ne.dataView(e),"DataView",e),enumCase:(e,n)=>Be(ne.enumCase(e,n),"EnumCase",e),urlInstance:e=>Be(ne.urlInstance(e),"URL",e),urlString:e=>Be(ne.urlString(e),"string with a URL",e),truthy:e=>Be(ne.truthy(e),"truthy",e),falsy:e=>Be(ne.falsy(e),"falsy",e),nan:e=>Be(ne.nan(e),"NaN",e),primitive:e=>Be(ne.primitive(e),"primitive",e),integer:e=>Be(ne.integer(e),"integer",e),safeInteger:e=>Be(ne.safeInteger(e),"integer",e),plainObject:e=>Be(ne.plainObject(e),"plain object",e),typedArray:e=>Be(ne.typedArray(e),"TypedArray",e),arrayLike:e=>Be(ne.arrayLike(e),"array-like",e),domElement:e=>Be(ne.domElement(e),"HTMLElement",e),observable:e=>Be(ne.observable(e),"Observable",e),nodeStream:e=>Be(ne.nodeStream(e),"Node.js Stream",e),infinite:e=>Be(ne.infinite(e),"infinite number",e),emptyArray:e=>Be(ne.emptyArray(e),"empty array",e),nonEmptyArray:e=>Be(ne.nonEmptyArray(e),"non-empty array",e),emptyString:e=>Be(ne.emptyString(e),"empty string",e),emptyStringOrWhitespace:e=>Be(ne.emptyStringOrWhitespace(e),"empty string or whitespace",e),nonEmptyString:e=>Be(ne.nonEmptyString(e),"non-empty string",e),nonEmptyStringAndNotWhitespace:e=>Be(ne.nonEmptyStringAndNotWhitespace(e),"non-empty string and not whitespace",e),emptyObject:e=>Be(ne.emptyObject(e),"empty object",e),nonEmptyObject:e=>Be(ne.nonEmptyObject(e),"non-empty object",e),emptySet:e=>Be(ne.emptySet(e),"empty set",e),nonEmptySet:e=>Be(ne.nonEmptySet(e),"non-empty set",e),emptyMap:e=>Be(ne.emptyMap(e),"empty map",e),nonEmptyMap:e=>Be(ne.nonEmptyMap(e),"non-empty map",e),propertyKey:e=>Be(ne.propertyKey(e),"PropertyKey",e),formData:e=>Be(ne.formData(e),"FormData",e),urlSearchParams:e=>Be(ne.urlSearchParams(e),"URLSearchParams",e),evenInteger:e=>Be(ne.evenInteger(e),"even integer",e),oddInteger:e=>Be(ne.oddInteger(e),"odd integer",e),directInstanceOf:(e,n)=>Be(ne.directInstanceOf(e,n),"T",e),inRange:(e,n)=>Be(ne.inRange(e,n),"in range",e),any:(e,...n)=>Be(ne.any(e,...n),"predicate returns truthy for any value",n,{multipleValues:!0}),all:(e,...n)=>Be(ne.all(e,...n),"predicate returns truthy for all values",n,{multipleValues:!0})};Object.defineProperties(ne,{class:{value:ne.class_},function:{value:ne.function_},null:{value:ne.null_}});Object.defineProperties(Ie,{class:{value:Ie.class_},function:{value:Ie.function_},null:{value:Ie.null_}});var ue=ne,e6=require("node:events"),t6=class extends Error{constructor(e){super(e||"Promise was canceled"),this.name="CancelError"}get isCanceled(){return!0}},sp=class{static fn(e){return(...n)=>new sp((t,r,a)=>{n.push(a),e(...n).then(t,r)})}constructor(e){this._cancelHandlers=[],this._isPending=!0,this._isCanceled=!1,this._rejectOnCancel=!0,this._promise=new Promise((n,t)=>{this._reject=t;let r=c=>{(!this._isCanceled||!u.shouldReject)&&(this._isPending=!1,n(c))},a=c=>{this._isPending=!1,t(c)},u=c=>{if(!this._isPending)throw new Error("The `onCancel` handler was attached after the promise settled.");this._cancelHandlers.push(c)};Object.defineProperties(u,{shouldReject:{get:()=>this._rejectOnCancel,set:c=>{this._rejectOnCancel=c}}}),e(r,a,u)})}then(e,n){return this._promise.then(e,n)}catch(e){return this._promise.catch(e)}finally(e){return this._promise.finally(e)}cancel(e){if(!(!this._isPending||this._isCanceled)){if(this._isCanceled=!0,this._cancelHandlers.length>0)try{for(let n of this._cancelHandlers)n()}catch(n){this._reject(n);return}this._rejectOnCancel&&this._reject(new t6(e))}}get isCanceled(){return this._isCanceled}};Object.setPrototypeOf(sp.prototype,Promise.prototype);function r6(e){return ue.object(e)&&"_onResponse"in e}var Sr=class extends Error{constructor(e,n,t){if(super(e),Object.defineProperty(this,"input",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stack",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"response",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Error.captureStackTrace(this,this.constructor),this.name="RequestError",this.code=n.code??"ERR_GOT_REQUEST_ERROR",this.input=n.input,r6(t)?(Object.defineProperty(this,"request",{enumerable:!1,value:t}),Object.defineProperty(this,"response",{enumerable:!1,value:t.response}),this.options=t.options):this.options=t,this.timings=this.request?.timings,ue.string(n.stack)&&ue.string(this.stack)){let r=this.stack.indexOf(this.message)+this.message.length,a=this.stack.slice(r).split(`
`).reverse(),u=n.stack.slice(n.stack.indexOf(n.message)+n.message.length).split(`
`).reverse();for(;u.length>0&&u[0]===a[0];)a.shift();this.stack=`${this.stack.slice(0,r)}${a.reverse().join(`
`)}${u.reverse().join(`
`)}`}}},n6=class extends Sr{constructor(e){super(`Redirected ${e.options.maxRedirects} times. Aborting.`,{},e),this.name="MaxRedirectsError",this.code="ERR_TOO_MANY_REDIRECTS"}},Ec=class extends Sr{constructor(e){super(`Response code ${e.statusCode} (${e.statusMessage})`,{},e.request),this.name="HTTPError",this.code="ERR_NON_2XX_3XX_RESPONSE"}},i6=class extends Sr{constructor(e,n){super(e.message,e,n),this.name="CacheError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_CACHE_ACCESS":this.code}},Ig=class extends Sr{constructor(e,n){super(e.message,e,n),this.name="UploadError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_UPLOAD":this.code}},a6=class extends Sr{constructor(e,n,t){super(e.message,e,t),Object.defineProperty(this,"timings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"event",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="TimeoutError",this.event=e.event,this.timings=n}},Rg=class extends Sr{constructor(e,n){super(e.message,e,n),this.name="ReadError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_READING_RESPONSE_STREAM":this.code}},s6=class extends Sr{constructor(e){super("Retrying",{},e),this.name="RetryError",this.code="ERR_RETRYING"}},o6=class extends Sr{constructor(e){super("This operation was aborted.",{},e),this.code="ERR_ABORTED",this.name="AbortError"}},dv=vr(require("node:process"),1),Hh=require("node:buffer"),u6=require("node:stream"),kg=require("node:url"),Wh=vr(require("node:http"),1),l6=require("events"),c6=require("util"),f6=vr(DT(),1),h6=e=>{if(e.timings)return e.timings;let n={start:Date.now(),socket:void 0,lookup:void 0,connect:void 0,secureConnect:void 0,upload:void 0,response:void 0,end:void 0,error:void 0,abort:void 0,phases:{wait:void 0,dns:void 0,tcp:void 0,tls:void 0,request:void 0,firstByte:void 0,download:void 0,total:void 0}};e.timings=n;let t=c=>{c.once(l6.errorMonitor,()=>{n.error=Date.now(),n.phases.total=n.error-n.start})};t(e);let r=()=>{n.abort=Date.now(),n.phases.total=n.abort-n.start};e.prependOnceListener("abort",r);let a=c=>{if(n.socket=Date.now(),n.phases.wait=n.socket-n.start,c6.types.isProxy(c))return;let f=()=>{n.lookup=Date.now(),n.phases.dns=n.lookup-n.socket};c.prependOnceListener("lookup",f),(0,f6.default)(c,{connect:()=>{n.connect=Date.now(),n.lookup===void 0&&(c.removeListener("lookup",f),n.lookup=n.connect,n.phases.dns=n.lookup-n.socket),n.phases.tcp=n.connect-n.lookup},secureConnect:()=>{n.secureConnect=Date.now(),n.phases.tls=n.secureConnect-n.connect}})};e.socket?a(e.socket):e.prependOnceListener("socket",a);let u=()=>{n.upload=Date.now(),n.phases.request=n.upload-(n.secureConnect??n.connect)};return e.writableFinished?u():e.prependOnceListener("finish",u),e.prependOnceListener("response",c=>{n.response=Date.now(),n.phases.firstByte=n.response-n.upload,c.timings=n,t(c),c.prependOnceListener("end",()=>{e.off("abort",r),c.off("aborted",r),!n.phases.total&&(n.end=Date.now(),n.phases.download=n.end-n.response,n.phases.total=n.end-n.start)}),c.prependOnceListener("aborted",r)}),n},d6=h6,p6=vr(require("node:events"),1),Wl=vr(require("node:url"),1),y6=vr(require("node:crypto"),1),pv=vr(require("node:stream"),1),g6="text/plain",m6="us-ascii",Gh=(e,n)=>n.some(t=>t instanceof RegExp?t.test(e):t===e),v6=new Set(["https:","http:","file:"]),b6=e=>{try{let{protocol:n}=new URL(e);return n.endsWith(":")&&!v6.has(n)}catch{return!1}},_6=(e,{stripHash:n})=>{let t=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(e);if(!t)throw new Error(`Invalid URL: ${e}`);let{type:r,data:a,hash:u}=t.groups,c=r.split(";");u=n?"":u;let f=!1;c[c.length-1]==="base64"&&(c.pop(),f=!0);let l=c.shift()?.toLowerCase()??"",s=[...c.map(d=>{let[h,g=""]=d.split("=").map(I=>I.trim());return h==="charset"&&(g=g.toLowerCase(),g===m6)?"":`${h}${g?`=${g}`:""}`}).filter(Boolean)];return f&&s.push("base64"),(s.length>0||l&&l!==g6)&&s.unshift(l),`data:${s.join(";")},${f?a.trim():a}${u?`#${u}`:""}`};function w6(e,n){if(n={defaultProtocol:"http",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,removeExplicitPort:!1,sortQueryParameters:!0,...n},typeof n.defaultProtocol=="string"&&!n.defaultProtocol.endsWith(":")&&(n.defaultProtocol=`${n.defaultProtocol}:`),e=e.trim(),/^data:/i.test(e))return _6(e,n);if(b6(e))return e;let t=e.startsWith("//");!t&&/^\.*\//.test(e)||(e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,n.defaultProtocol));let r=new URL(e);if(n.forceHttp&&n.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(n.forceHttp&&r.protocol==="https:"&&(r.protocol="http:"),n.forceHttps&&r.protocol==="http:"&&(r.protocol="https:"),n.stripAuthentication&&(r.username="",r.password=""),n.stripHash?r.hash="":n.stripTextFragment&&(r.hash=r.hash.replace(/#?:~:text.*?$/i,"")),r.pathname){let u=/\b[a-z][a-z\d+\-.]{1,50}:\/\//g,c=0,f="";for(;;){let s=u.exec(r.pathname);if(!s)break;let d=s[0],h=s.index,g=r.pathname.slice(c,h);f+=g.replace(/\/{2,}/g,"/"),f+=d,c=h+d.length}let l=r.pathname.slice(c,r.pathname.length);f+=l.replace(/\/{2,}/g,"/"),r.pathname=f}if(r.pathname)try{r.pathname=decodeURI(r.pathname)}catch{}if(n.removeDirectoryIndex===!0&&(n.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(n.removeDirectoryIndex)&&n.removeDirectoryIndex.length>0){let u=r.pathname.split("/"),c=u[u.length-1];Gh(c,n.removeDirectoryIndex)&&(u=u.slice(0,-1),r.pathname=u.slice(1).join("/")+"/")}if(r.hostname&&(r.hostname=r.hostname.replace(/\.$/,""),n.stripWWW&&/^www\.(?!www\.)[a-z\-\d]{1,63}\.[a-z.\-\d]{2,63}$/.test(r.hostname)&&(r.hostname=r.hostname.replace(/^www\./,""))),Array.isArray(n.removeQueryParameters))for(let u of[...r.searchParams.keys()])Gh(u,n.removeQueryParameters)&&r.searchParams.delete(u);if(!Array.isArray(n.keepQueryParameters)&&n.removeQueryParameters===!0&&(r.search=""),Array.isArray(n.keepQueryParameters)&&n.keepQueryParameters.length>0)for(let u of[...r.searchParams.keys()])Gh(u,n.keepQueryParameters)||r.searchParams.delete(u);if(n.sortQueryParameters){r.searchParams.sort();try{r.search=decodeURIComponent(r.search)}catch{}}n.removeTrailingSlash&&(r.pathname=r.pathname.replace(/\/$/,"")),n.removeExplicitPort&&r.port&&(r.port="");let a=e;return e=r.toString(),!n.removeSingleSlash&&r.pathname==="/"&&!a.endsWith("/")&&r.hash===""&&(e=e.replace(/\/$/,"")),(n.removeTrailingSlash||r.pathname==="/")&&r.hash===""&&n.removeSingleSlash&&(e=e.replace(/\/$/,"")),t&&!n.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),n.stripProtocol&&(e=e.replace(/^(?:https?:)?\/\//,"")),e}var S6=vr(jm(),1),Qh=vr(VT(),1),E6=require("node:stream");function Ed(e){return Object.fromEntries(Object.entries(e).map(([n,t])=>[n.toLowerCase(),t]))}var Bg=class extends E6.Readable{statusCode;headers;body;url;constructor({statusCode:e,headers:n,body:t,url:r}){if(typeof e!="number")throw new TypeError("Argument `statusCode` should be a number");if(typeof n!="object")throw new TypeError("Argument `headers` should be an object");if(!(t instanceof Uint8Array))throw new TypeError("Argument `body` should be a buffer");if(typeof r!="string")throw new TypeError("Argument `url` should be a string");super({read(){this.push(t),this.push(null)}}),this.statusCode=e,this.headers=Ed(n),this.body=t,this.url=r}},Gl=vr(FT(),1),C6=["aborted","complete","headers","httpVersion","httpVersionMinor","httpVersionMajor","method","rawHeaders","rawTrailers","setTimeout","socket","statusCode","statusMessage","trailers","url"];function T6(e,n){if(n._readableState.autoDestroy)throw new Error("The second stream must have the `autoDestroy` option set to `false`");let t=new Set([...Object.keys(e),...C6]),r={};for(let a of t)a in n||(r[a]={get(){let u=e[a];return typeof u=="function"?u.bind(e):u},set(u){e[a]=u},enumerable:!0,configurable:!1});return Object.defineProperties(n,r),e.once("aborted",()=>{n.destroy(),n.emit("aborted")}),e.once("close",()=>{e.complete&&n.readable?n.once("end",()=>{n.emit("close")}):n.emit("close")}),n}var A6=class extends Error{constructor(e){super(e.message),Object.assign(this,e)}},wu=class extends Error{constructor(e){super(e.message),Object.assign(this,e)}},I6=class{constructor(e,n){this.hooks=new Map,this.request=()=>(t,r)=>{let a;if(typeof t=="string")a=Yh(Wl.default.parse(t)),t={};else if(t instanceof Wl.default.URL)a=Yh(Wl.default.parse(t.toString())),t={};else{let[h,...g]=(t.path??"").split("?"),I=g.length>0?`?${g.join("?")}`:"";a=Yh({...t,pathname:h,search:I})}t={headers:{},method:"GET",cache:!0,strictTtl:!1,automaticFailover:!1,...t,...B6(a)},t.headers=Object.fromEntries(R6(t.headers).map(([h,g])=>[h.toLowerCase(),g]));let u=new p6.default,c=w6(Wl.default.format(a),{stripWWW:!1,removeTrailingSlash:!1,stripAuthentication:!1}),f=`${t.method}:${c}`;t.body&&t.method!==void 0&&["POST","PATCH","PUT"].includes(t.method)&&(t.body instanceof pv.default.Readable?t.cache=!1:f+=`:${y6.default.createHash("md5").update(t.body).digest("hex")}`);let l=!1,s=!1,d=h=>{s=!0;let g=!1,I=()=>{},C=new Promise(T=>{I=()=>{g||(g=!0,T())}}),_=async T=>{if(l){T.status=T.statusCode;let B=Qh.default.fromObject(l.cachePolicy).revalidatedPolicy(h,T);if(!B.modified){T.resume(),await new Promise(A=>{T.once("end",A)});let p=Ng(B.policy.responseHeaders());T=new Bg({statusCode:l.statusCode,headers:p,body:l.body,url:l.url}),T.cachePolicy=B.policy,T.fromCache=!0}}T.fromCache||(T.cachePolicy=new Qh.default(h,T,h),T.fromCache=!1);let N;h.cache&&T.cachePolicy.storable()?(N=k6(T),(async()=>{try{let B=S6.default.buffer(T);await Promise.race([C,new Promise(O=>T.once("end",O)),new Promise(O=>T.once("close",O))]);let p=await B,A={url:T.url,statusCode:T.fromCache?l.statusCode:T.statusCode,body:p,cachePolicy:T.cachePolicy.toObject()},S=h.strictTtl?T.cachePolicy.timeToLive():void 0;if(h.maxTtl&&(S=S?Math.min(S,h.maxTtl):h.maxTtl),this.hooks.size>0)for(let O of this.hooks.keys())A=await this.runHook(O,A,T);await this.cache.set(f,A,S)}catch(B){u.emit("error",new wu(B))}})()):h.cache&&l&&(async()=>{try{await this.cache.delete(f)}catch(B){u.emit("error",new wu(B))}})(),u.emit("response",N??T),typeof r=="function"&&r(N??T)};try{let T=this.cacheRequest(h,_);T.once("error",I),T.once("abort",I),T.once("destroy",I),u.emit("request",T)}catch(T){u.emit("error",new A6(T))}};return(async()=>{let h=async I=>{await Promise.resolve();let C=I.cache?await this.cache.get(f):void 0;if(typeof C>"u"&&!I.forceRefresh){d(I);return}let _=Qh.default.fromObject(C.cachePolicy);if(_.satisfiesWithoutRevalidation(I)&&!I.forceRefresh){let T=Ng(_.responseHeaders()),N=new Bg({statusCode:C.statusCode,headers:T,body:C.body,url:C.url});N.cachePolicy=_,N.fromCache=!0,u.emit("response",N),typeof r=="function"&&r(N)}else _.satisfiesWithoutRevalidation(I)&&Date.now()>=_.timeToLive()&&I.forceRefresh?(await this.cache.delete(f),I.headers=_.revalidationHeaders(I),d(I)):(l=C,I.headers=_.revalidationHeaders(I),d(I))},g=I=>u.emit("error",new wu(I));if(this.cache instanceof Gl.default){let I=this.cache;I.once("error",g),u.on("error",()=>I.removeListener("error",g)),u.on("response",()=>I.removeListener("error",g))}try{await h(t)}catch(I){t.automaticFailover&&!s&&d(t),u.emit("error",new wu(I))}})(),u},this.addHook=(t,r)=>{this.hooks.has(t)||this.hooks.set(t,r)},this.removeHook=t=>this.hooks.delete(t),this.getHook=t=>this.hooks.get(t),this.runHook=async(t,...r)=>this.hooks.get(t)?.(...r),n instanceof Gl.default?this.cache=n:typeof n=="string"?this.cache=new Gl.default({uri:n,namespace:"cacheable-request"}):this.cache=new Gl.default({store:n,namespace:"cacheable-request"}),this.request=this.request.bind(this),this.cacheRequest=e}},R6=Object.entries,k6=e=>{let n=new pv.PassThrough({autoDestroy:!1});return T6(e,n),e.pipe(n)},B6=e=>{let n={...e};return n.path=`${e.pathname||"/"}${e.search||""}`,delete n.pathname,delete n.search,n},Yh=e=>({protocol:e.protocol,auth:e.auth,hostname:e.hostname||e.host||"localhost",port:e.port,pathname:e.pathname,search:e.search}),Ng=e=>{let n=[];for(let t of Object.keys(e))n[t.toLowerCase()]=e[t];return n},N6=I6,O6=vr(zT(),1),L6=vr(jm(),1),na=e=>typeof e=="function",P6=e=>na(e[Symbol.asyncIterator]);async function*x6(e){let n=e.getReader();for(;;){let{done:t,value:r}=await n.read();if(t)break;yield r}}var U6=e=>{if(P6(e))return e;if(na(e.getReader))return x6(e);throw new TypeError("Unsupported data source: Expected either ReadableStream or async iterable.")},Og="abcdefghijklmnopqrstuvwxyz0123456789";function D6(){let e=16,n="";for(;e--;)n+=Og[Math.random()*Og.length<<0];return n}var Lg=e=>String(e).replace(/\r|\n/g,(n,t,r)=>n==="\r"&&r[t+1]!==`
`||n===`
`&&r[t-1]!=="\r"?`\r
`:n),j6=e=>Object.prototype.toString.call(e).slice(8,-1).toLowerCase();function Pg(e){if(j6(e)!=="object")return!1;let n=Object.getPrototypeOf(e);return n==null?!0:(n.constructor&&n.constructor.toString())===Object.toString()}function xg(e,n){if(typeof n=="string"){for(let[t,r]of Object.entries(e))if(n.toLowerCase()===t.toLowerCase())return r}}var V6=e=>new Proxy(e,{get:(n,t)=>xg(n,t),has:(n,t)=>xg(n,t)!==void 0}),op=e=>!!(e&&na(e.constructor)&&e[Symbol.toStringTag]==="FormData"&&na(e.append)&&na(e.getAll)&&na(e.entries)&&na(e[Symbol.iterator])),Ug=e=>String(e).replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/"/g,"%22"),cs=e=>!!(e&&typeof e=="object"&&na(e.constructor)&&e[Symbol.toStringTag]==="File"&&na(e.stream)&&e.name!=null),cu=function(e,n,t,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?e!==n||!a:!n.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(e,t):a?a.value=t:n.set(e,t),t},Qt=function(e,n,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?e!==n||!r:!n.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(e):r?r.value:n.get(e)},fu,Pa,hu,Ql,du,fs,pu,yu,Yl,Zh,Dg,q6={enableAdditionalHeaders:!1},Zl={writable:!1,configurable:!1},F6=class{constructor(e,n,t){if(fu.add(this),Pa.set(this,`\r
`),hu.set(this,void 0),Ql.set(this,void 0),du.set(this,"-".repeat(2)),fs.set(this,new TextEncoder),pu.set(this,void 0),yu.set(this,void 0),Yl.set(this,void 0),!op(e))throw new TypeError("Expected first argument to be a FormData instance.");let r;if(Pg(n)?t=n:r=n,r||(r=D6()),typeof r!="string")throw new TypeError("Expected boundary argument to be a string.");if(t&&!Pg(t))throw new TypeError("Expected options argument to be an object.");cu(this,yu,Array.from(e.entries()),"f"),cu(this,Yl,{...q6,...t},"f"),cu(this,hu,Qt(this,fs,"f").encode(Qt(this,Pa,"f")),"f"),cu(this,Ql,Qt(this,hu,"f").byteLength,"f"),this.boundary=`form-data-boundary-${r}`,this.contentType=`multipart/form-data; boundary=${this.boundary}`,cu(this,pu,Qt(this,fs,"f").encode(`${Qt(this,du,"f")}${this.boundary}${Qt(this,du,"f")}${Qt(this,Pa,"f").repeat(2)}`),"f");let a={"Content-Type":this.contentType},u=Qt(this,fu,"m",Dg).call(this);u&&(this.contentLength=u,a["Content-Length"]=u),this.headers=V6(Object.freeze(a)),Object.defineProperties(this,{boundary:Zl,contentType:Zl,contentLength:Zl,headers:Zl})}getContentLength(){return this.contentLength==null?void 0:Number(this.contentLength)}*values(){for(let[e,n]of Qt(this,yu,"f")){let t=cs(n)?n:Qt(this,fs,"f").encode(Lg(n));yield Qt(this,fu,"m",Zh).call(this,e,t),yield t,yield Qt(this,hu,"f")}yield Qt(this,pu,"f")}async*encode(){for(let e of this.values())cs(e)?yield*U6(e.stream()):yield e}[(Pa=new WeakMap,hu=new WeakMap,Ql=new WeakMap,du=new WeakMap,fs=new WeakMap,pu=new WeakMap,yu=new WeakMap,Yl=new WeakMap,fu=new WeakSet,Zh=function(e,n){let t="";t+=`${Qt(this,du,"f")}${this.boundary}${Qt(this,Pa,"f")}`,t+=`Content-Disposition: form-data; name="${Ug(e)}"`,cs(n)&&(t+=`; filename="${Ug(n.name)}"${Qt(this,Pa,"f")}`,t+=`Content-Type: ${n.type||"application/octet-stream"}`);let r=cs(n)?n.size:n.byteLength;return Qt(this,Yl,"f").enableAdditionalHeaders===!0&&r!=null&&!isNaN(r)&&(t+=`${Qt(this,Pa,"f")}Content-Length: ${cs(n)?n.size:n.byteLength}`),Qt(this,fs,"f").encode(`${t}${Qt(this,Pa,"f").repeat(2)}`)},Dg=function(){let e=0;for(let[n,t]of Qt(this,yu,"f")){let r=cs(t)?t:Qt(this,fs,"f").encode(Lg(t)),a=cs(r)?r.size:r.byteLength;if(a==null||isNaN(a))return;e+=Qt(this,fu,"m",Zh).call(this,n,r).byteLength,e+=a,e+=Qt(this,Ql,"f")}return String(e+Qt(this,pu,"f").byteLength)},Symbol.iterator)](){return this.values()}[Symbol.asyncIterator](){return this.encode()}},M6=require("node:buffer"),z6=require("node:util");function yv(e){return ue.nodeStream(e)&&ue.function_(e.getBoundary)}async function $6(e,n){if(n&&"content-length"in n)return Number(n["content-length"]);if(!e)return 0;if(ue.string(e))return M6.Buffer.byteLength(e);if(ue.buffer(e))return e.length;if(yv(e))return(0,z6.promisify)(e.getLength.bind(e))()}function gv(e,n,t){let r={};for(let a of t){let u=(...c)=>{n.emit(a,...c)};r[a]=u,e.on(a,u)}return()=>{for(let[a,u]of Object.entries(r))e.off(a,u)}}var K6=vr(require("node:net"),1);function H6(){let e=[];return{once(n,t,r){n.once(t,r),e.push({origin:n,event:t,fn:r})},unhandleAll(){for(let n of e){let{origin:t,event:r,fn:a}=n;t.removeListener(r,a)}e.length=0}}}var jg=Symbol("reentry"),W6=()=>{},mv=class extends Error{constructor(e,n){super(`Timeout awaiting '${n}' for ${e}ms`),Object.defineProperty(this,"event",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="TimeoutError",this.code="ETIMEDOUT"}};function G6(e,n,t){if(jg in e)return W6;e[jg]=!0;let r=[],{once:a,unhandleAll:u}=H6(),c=(_,T,N)=>{let B=setTimeout(T,_,_,N);B.unref?.();let p=()=>{clearTimeout(B)};return r.push(p),p},{host:f,hostname:l}=t,s=(_,T)=>{e.destroy(new mv(_,T))},d=()=>{for(let _ of r)_();u()};if(e.once("error",_=>{if(d(),e.listenerCount("error")===0)throw _}),typeof n.request<"u"){let _=c(n.request,s,"request");a(e,"response",T=>{a(T,"end",_)})}if(typeof n.socket<"u"){let{socket:_}=n,T=()=>{s(_,"socket")};e.setTimeout(_,T),r.push(()=>{e.removeListener("timeout",T)})}let h=typeof n.lookup<"u",g=typeof n.connect<"u",I=typeof n.secureConnect<"u",C=typeof n.send<"u";return(h||g||I||C)&&a(e,"socket",_=>{let{socketPath:T}=e;if(_.connecting){let N=!!(T??K6.default.isIP(l??f??"")!==0);if(h&&!N&&typeof _.address().address>"u"){let B=c(n.lookup,s,"lookup");a(_,"lookup",B)}if(g){let B=()=>c(n.connect,s,"connect");N?a(_,"connect",B()):a(_,"lookup",p=>{p===null&&a(_,"connect",B())})}I&&t.protocol==="https:"&&a(_,"connect",()=>{let B=c(n.secureConnect,s,"secureConnect");a(_,"secureConnect",B)})}if(C){let N=()=>c(n.send,s,"send");_.connecting?a(_,"connect",()=>{a(e,"upload-complete",N())}):a(e,"upload-complete",N())}}),typeof n.response<"u"&&a(e,"upload-complete",()=>{let _=c(n.response,s,"response");a(e,"response",_)}),typeof n.read<"u"&&a(e,"response",_=>{let T=c(n.read,s,"read");a(_,"end",T)}),d}function Q6(e){e=e;let n={protocol:e.protocol,hostname:ue.string(e.hostname)&&e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,host:e.host,hash:e.hash,search:e.search,pathname:e.pathname,href:e.href,path:`${e.pathname||""}${e.search||""}`};return ue.string(e.port)&&e.port.length>0&&(n.port=Number(e.port)),(e.username||e.password)&&(n.auth=`${e.username||""}:${e.password||""}`),n}var Y6=class{constructor(){Object.defineProperty(this,"weakMap",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"map",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.weakMap=new WeakMap,this.map=new Map}set(e,n){typeof e=="object"?this.weakMap.set(e,n):this.map.set(e,n)}get(e){return typeof e=="object"?this.weakMap.get(e):this.map.get(e)}has(e){return typeof e=="object"?this.weakMap.has(e):this.map.has(e)}},Z6=({attemptCount:e,retryOptions:n,error:t,retryAfter:r,computedValue:a})=>{if(t.name==="RetryError")return 1;if(e>n.limit)return 0;let u=n.methods.includes(t.options.method),c=n.errorCodes.includes(t.code),f=t.response&&n.statusCodes.includes(t.response.statusCode);if(!u||!c&&!f)return 0;if(t.response){if(r)return r>a?0:r;if(t.response.statusCode===413)return 0}let l=Math.random()*n.noise;return Math.min(2**(e-1)*1e3,n.backoffLimit)+l},X6=Z6,J6=vr(require("node:process"),1),Xh=require("node:util"),vs=require("node:url"),e4=require("node:tls"),t4=vr(require("node:http"),1),r4=vr(require("node:https"),1),fo=require("node:dns"),Jh=require("node:util"),n4=vr(require("node:os"),1),{Resolver:Vg}=fo.promises,uo=Symbol("cacheableLookupCreateConnection"),ed=Symbol("cacheableLookupInstance"),qg=Symbol("expires"),i4=typeof fo.ALL=="number",Fg=e=>{if(!(e&&typeof e.createConnection=="function"))throw new Error("Expected an Agent instance as the first argument")},a4=e=>{for(let n of e)n.family!==6&&(n.address=`::ffff:${n.address}`,n.family=6)},Mg=()=>{let e=!1,n=!1;for(let t of Object.values(n4.default.networkInterfaces()))for(let r of t)if(!r.internal&&(r.family==="IPv6"?n=!0:e=!0,e&&n))return{has4:e,has6:n};return{has4:e,has6:n}},s4=e=>Symbol.iterator in e,Xl=e=>e.catch(n=>{if(n.code==="ENODATA"||n.code==="ENOTFOUND"||n.code==="ENOENT")return[];throw n}),zg={ttl:!0},o4={all:!0},u4={all:!0,family:4},l4={all:!0,family:6},c4=class{constructor({cache:e=new Map,maxTtl:n=1/0,fallbackDuration:t=3600,errorTtl:r=.15,resolver:a=new Vg,lookup:u=fo.lookup}={}){if(this.maxTtl=n,this.errorTtl=r,this._cache=e,this._resolver=a,this._dnsLookup=u&&(0,Jh.promisify)(u),this.stats={cache:0,query:0},this._resolver instanceof Vg?(this._resolve4=this._resolver.resolve4.bind(this._resolver),this._resolve6=this._resolver.resolve6.bind(this._resolver)):(this._resolve4=(0,Jh.promisify)(this._resolver.resolve4.bind(this._resolver)),this._resolve6=(0,Jh.promisify)(this._resolver.resolve6.bind(this._resolver))),this._iface=Mg(),this._pending={},this._nextRemovalTime=!1,this._hostnamesToFallback=new Set,this.fallbackDuration=t,t>0){let c=setInterval(()=>{this._hostnamesToFallback.clear()},t*1e3);c.unref&&c.unref(),this._fallbackInterval=c}this.lookup=this.lookup.bind(this),this.lookupAsync=this.lookupAsync.bind(this)}set servers(e){this.clear(),this._resolver.setServers(e)}get servers(){return this._resolver.getServers()}lookup(e,n,t){if(typeof n=="function"?(t=n,n={}):typeof n=="number"&&(n={family:n}),!t)throw new Error("Callback must be a function.");this.lookupAsync(e,n).then(r=>{n.all?t(null,r):t(null,r.address,r.family,r.expires,r.ttl,r.source)},t)}async lookupAsync(e,n={}){typeof n=="number"&&(n={family:n});let t=await this.query(e);if(n.family===6){let r=t.filter(a=>a.family===6);n.hints&fo.V4MAPPED&&(i4&&n.hints&fo.ALL||r.length===0)?a4(t):t=r}else n.family===4&&(t=t.filter(r=>r.family===4));if(n.hints&fo.ADDRCONFIG){let{_iface:r}=this;t=t.filter(a=>a.family===6?r.has6:r.has4)}if(t.length===0){let r=new Error(`cacheableLookup ENOTFOUND ${e}`);throw r.code="ENOTFOUND",r.hostname=e,r}return n.all?t:t[0]}async query(e){let n="cache",t=await this._cache.get(e);if(t&&this.stats.cache++,!t){let r=this._pending[e];if(r)this.stats.cache++,t=await r;else{n="query";let a=this.queryAndCache(e);this._pending[e]=a,this.stats.query++;try{t=await a}finally{delete this._pending[e]}}}return t=t.map(r=>({...r,source:n})),t}async _resolve(e){let[n,t]=await Promise.all([Xl(this._resolve4(e,zg)),Xl(this._resolve6(e,zg))]),r=0,a=0,u=0,c=Date.now();for(let f of n)f.family=4,f.expires=c+f.ttl*1e3,r=Math.max(r,f.ttl);for(let f of t)f.family=6,f.expires=c+f.ttl*1e3,a=Math.max(a,f.ttl);return n.length>0?t.length>0?u=Math.min(r,a):u=r:u=a,{entries:[...n,...t],cacheTtl:u}}async _lookup(e){try{let[n,t]=await Promise.all([Xl(this._dnsLookup(e,u4)),Xl(this._dnsLookup(e,l4))]);return{entries:[...n,...t],cacheTtl:0}}catch{return{entries:[],cacheTtl:0}}}async _set(e,n,t){if(this.maxTtl>0&&t>0){t=Math.min(t,this.maxTtl)*1e3,n[qg]=Date.now()+t;try{await this._cache.set(e,n,t)}catch(r){this.lookupAsync=async()=>{let a=new Error("Cache Error. Please recreate the CacheableLookup instance.");throw a.cause=r,a}}s4(this._cache)&&this._tick(t)}}async queryAndCache(e){if(this._hostnamesToFallback.has(e))return this._dnsLookup(e,o4);let n=await this._resolve(e);n.entries.length===0&&this._dnsLookup&&(n=await this._lookup(e),n.entries.length!==0&&this.fallbackDuration>0&&this._hostnamesToFallback.add(e));let t=n.entries.length===0?this.errorTtl:n.cacheTtl;return await this._set(e,n.entries,t),n.entries}_tick(e){let n=this._nextRemovalTime;(!n||e<n)&&(clearTimeout(this._removalTimeout),this._nextRemovalTime=e,this._removalTimeout=setTimeout(()=>{this._nextRemovalTime=!1;let t=1/0,r=Date.now();for(let[a,u]of this._cache){let c=u[qg];r>=c?this._cache.delete(a):c<t&&(t=c)}t!==1/0&&this._tick(t-r)},e),this._removalTimeout.unref&&this._removalTimeout.unref())}install(e){if(Fg(e),uo in e)throw new Error("CacheableLookup has been already installed");e[uo]=e.createConnection,e[ed]=this,e.createConnection=(n,t)=>("lookup"in n||(n.lookup=this.lookup),e[uo](n,t))}uninstall(e){if(Fg(e),e[uo]){if(e[ed]!==this)throw new Error("The agent is not owned by this CacheableLookup instance");e.createConnection=e[uo],delete e[uo],delete e[ed]}}updateInterfaceInfo(){let{_iface:e}=this;this._iface=Mg(),(e.has4&&!this._iface.has4||e.has6&&!this._iface.has6)&&this._cache.clear()}clear(e){if(e){this._cache.delete(e);return}this._cache.clear()}},f4=vr(e3(),1);function h4(e){let n=[],t=e.split(",");for(let r of t){let[a,...u]=r.split(";"),c=a.trim();if(c[0]!=="<"||c[c.length-1]!==">")throw new Error(`Invalid format of the Link header reference: ${c}`);let f=c.slice(1,-1),l={};if(u.length===0)throw new Error(`Unexpected end of Link header parameters: ${u.join(";")}`);for(let s of u){let d=s.trim(),h=d.indexOf("=");if(h===-1)throw new Error(`Failed to parse Link header: ${e}`);let g=d.slice(0,h).trim(),I=d.slice(h+1).trim();l[g]=I}n.push({reference:f,parameters:l})}return n}var[$g,d4]=J6.default.versions.node.split(".").map(Number);function p4(e){for(let n in e){let t=e[n];Ie.any([ue.string,ue.number,ue.boolean,ue.null_,ue.undefined],t)}}var y4=new Map,td,g4=()=>td||(td=new c4,td),m4={request:void 0,agent:{http:void 0,https:void 0,http2:void 0},h2session:void 0,decompress:!0,timeout:{connect:void 0,lookup:void 0,read:void 0,request:void 0,response:void 0,secureConnect:void 0,send:void 0,socket:void 0},prefixUrl:"",body:void 0,form:void 0,json:void 0,cookieJar:void 0,ignoreInvalidCookies:!1,searchParams:void 0,dnsLookup:void 0,dnsCache:void 0,context:{},hooks:{init:[],beforeRequest:[],beforeError:[],beforeRedirect:[],beforeRetry:[],afterResponse:[]},followRedirect:!0,maxRedirects:10,cache:void 0,throwHttpErrors:!0,username:"",password:"",http2:!1,allowGetBody:!1,headers:{"user-agent":"got (https://github.com/sindresorhus/got)"},methodRewriting:!1,dnsLookupIpVersion:void 0,parseJson:JSON.parse,stringifyJson:JSON.stringify,retry:{limit:2,methods:["GET","PUT","HEAD","DELETE","OPTIONS","TRACE"],statusCodes:[408,413,429,500,502,503,504,521,522,524],errorCodes:["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"],maxRetryAfter:void 0,calculateDelay:({computedValue:e})=>e,backoffLimit:Number.POSITIVE_INFINITY,noise:100},localAddress:void 0,method:"GET",createConnection:void 0,cacheOptions:{shared:void 0,cacheHeuristic:void 0,immutableMinTimeToLive:void 0,ignoreCargoCult:void 0},https:{alpnProtocols:void 0,rejectUnauthorized:void 0,checkServerIdentity:void 0,certificateAuthority:void 0,key:void 0,certificate:void 0,passphrase:void 0,pfx:void 0,ciphers:void 0,honorCipherOrder:void 0,minVersion:void 0,maxVersion:void 0,signatureAlgorithms:void 0,tlsSessionLifetime:void 0,dhparam:void 0,ecdhCurve:void 0,certificateRevocationLists:void 0},encoding:void 0,resolveBodyOnly:!1,isStream:!1,responseType:"text",url:void 0,pagination:{transform(e){return e.request.options.responseType==="json"?e.body:JSON.parse(e.body)},paginate({response:e}){let n=e.headers.link;if(typeof n!="string"||n.trim()==="")return!1;let t=h4(n).find(r=>r.parameters.rel==="next"||r.parameters.rel==='"next"');return t?{url:new vs.URL(t.reference,e.url)}:!1},filter:()=>!0,shouldContinue:()=>!0,countLimit:Number.POSITIVE_INFINITY,backoff:0,requestLimit:1e4,stackAllItems:!1},setHost:!0,maxHeaderSize:void 0,signal:void 0,enableUnixSockets:!0},v4=e=>{let{hooks:n,retry:t}=e,r={...e,context:{...e.context},cacheOptions:{...e.cacheOptions},https:{...e.https},agent:{...e.agent},headers:{...e.headers},retry:{...t,errorCodes:[...t.errorCodes],methods:[...t.methods],statusCodes:[...t.statusCodes]},timeout:{...e.timeout},hooks:{init:[...n.init],beforeRequest:[...n.beforeRequest],beforeError:[...n.beforeError],beforeRedirect:[...n.beforeRedirect],beforeRetry:[...n.beforeRetry],afterResponse:[...n.afterResponse]},searchParams:e.searchParams?new vs.URLSearchParams(e.searchParams):void 0,pagination:{...e.pagination}};return r.url!==void 0&&(r.prefixUrl=""),r},b4=e=>{let{hooks:n,retry:t}=e,r={...e};return ue.object(e.context)&&(r.context={...e.context}),ue.object(e.cacheOptions)&&(r.cacheOptions={...e.cacheOptions}),ue.object(e.https)&&(r.https={...e.https}),ue.object(e.cacheOptions)&&(r.cacheOptions={...r.cacheOptions}),ue.object(e.agent)&&(r.agent={...e.agent}),ue.object(e.headers)&&(r.headers={...e.headers}),ue.object(t)&&(r.retry={...t},ue.array(t.errorCodes)&&(r.retry.errorCodes=[...t.errorCodes]),ue.array(t.methods)&&(r.retry.methods=[...t.methods]),ue.array(t.statusCodes)&&(r.retry.statusCodes=[...t.statusCodes])),ue.object(e.timeout)&&(r.timeout={...e.timeout}),ue.object(n)&&(r.hooks={...n},ue.array(n.init)&&(r.hooks.init=[...n.init]),ue.array(n.beforeRequest)&&(r.hooks.beforeRequest=[...n.beforeRequest]),ue.array(n.beforeError)&&(r.hooks.beforeError=[...n.beforeError]),ue.array(n.beforeRedirect)&&(r.hooks.beforeRedirect=[...n.beforeRedirect]),ue.array(n.beforeRetry)&&(r.hooks.beforeRetry=[...n.beforeRetry]),ue.array(n.afterResponse)&&(r.hooks.afterResponse=[...n.afterResponse])),ue.object(e.pagination)&&(r.pagination={...e.pagination}),r},_4=e=>{let n=[e.timeout.socket,e.timeout.connect,e.timeout.lookup,e.timeout.request,e.timeout.secureConnect].filter(t=>typeof t=="number");if(n.length>0)return Math.min(...n)},Kg=(e,n,t)=>{let r=e.hooks?.init;if(r)for(let a of r)a(n,t)},ia=class{constructor(e,n,t){if(Object.defineProperty(this,"_unixOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_internals",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_merging",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_init",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Ie.any([ue.string,ue.urlInstance,ue.object,ue.undefined],e),Ie.any([ue.object,ue.undefined],n),Ie.any([ue.object,ue.undefined],t),e instanceof ia||n instanceof ia)throw new TypeError("The defaults must be passed as the third argument");this._internals=v4(t?._internals??t??m4),this._init=[...t?._init??[]],this._merging=!1,this._unixOptions=void 0;try{if(ue.plainObject(e))try{this.merge(e),this.merge(n)}finally{this.url=e.url}else try{this.merge(n)}finally{if(n?.url!==void 0)if(e===void 0)this.url=n.url;else throw new TypeError("The `url` option is mutually exclusive with the `input` argument");else e!==void 0&&(this.url=e)}}catch(r){throw r.options=this,r}}merge(e){if(e){if(e instanceof ia){for(let n of e._init)this.merge(n);return}e=b4(e),Kg(this,e,this),Kg(e,e,this),this._merging=!0,"isStream"in e&&(this.isStream=e.isStream);try{let n=!1;for(let t in e)if(!(t==="mutableDefaults"||t==="handlers")&&t!=="url"){if(!(t in this))throw new Error(`Unexpected option: ${t}`);this[t]=e[t],n=!0}n&&this._init.push(e)}finally{this._merging=!1}}}get request(){return this._internals.request}set request(e){Ie.any([ue.function_,ue.undefined],e),this._internals.request=e}get agent(){return this._internals.agent}set agent(e){Ie.plainObject(e);for(let n in e){if(!(n in this._internals.agent))throw new TypeError(`Unexpected agent option: ${n}`);Ie.any([ue.object,ue.undefined],e[n])}this._merging?Object.assign(this._internals.agent,e):this._internals.agent={...e}}get h2session(){return this._internals.h2session}set h2session(e){this._internals.h2session=e}get decompress(){return this._internals.decompress}set decompress(e){Ie.boolean(e),this._internals.decompress=e}get timeout(){return this._internals.timeout}set timeout(e){Ie.plainObject(e);for(let n in e){if(!(n in this._internals.timeout))throw new Error(`Unexpected timeout option: ${n}`);Ie.any([ue.number,ue.undefined],e[n])}this._merging?Object.assign(this._internals.timeout,e):this._internals.timeout={...e}}get prefixUrl(){return this._internals.prefixUrl}set prefixUrl(e){if(Ie.any([ue.string,ue.urlInstance],e),e===""){this._internals.prefixUrl="";return}if(e=e.toString(),e.endsWith("/")||(e+="/"),this._internals.prefixUrl&&this._internals.url){let{href:n}=this._internals.url;this._internals.url.href=e+n.slice(this._internals.prefixUrl.length)}this._internals.prefixUrl=e}get body(){return this._internals.body}set body(e){Ie.any([ue.string,ue.buffer,ue.nodeStream,ue.generator,ue.asyncGenerator,op,ue.undefined],e),ue.nodeStream(e)&&Ie.truthy(e.readable),e!==void 0&&(Ie.undefined(this._internals.form),Ie.undefined(this._internals.json)),this._internals.body=e}get form(){return this._internals.form}set form(e){Ie.any([ue.plainObject,ue.undefined],e),e!==void 0&&(Ie.undefined(this._internals.body),Ie.undefined(this._internals.json)),this._internals.form=e}get json(){return this._internals.json}set json(e){e!==void 0&&(Ie.undefined(this._internals.body),Ie.undefined(this._internals.form)),this._internals.json=e}get url(){return this._internals.url}set url(e){if(Ie.any([ue.string,ue.urlInstance,ue.undefined],e),e===void 0){this._internals.url=void 0;return}if(ue.string(e)&&e.startsWith("/"))throw new Error("`url` must not start with a slash");let n=`${this.prefixUrl}${e.toString()}`,t=new vs.URL(n);if(this._internals.url=t,t.protocol==="unix:"&&(t.href=`http://unix${t.pathname}${t.search}`),t.protocol!=="http:"&&t.protocol!=="https:"){let r=new Error(`Unsupported protocol: ${t.protocol}`);throw r.code="ERR_UNSUPPORTED_PROTOCOL",r}if(this._internals.username&&(t.username=this._internals.username,this._internals.username=""),this._internals.password&&(t.password=this._internals.password,this._internals.password=""),this._internals.searchParams&&(t.search=this._internals.searchParams.toString(),this._internals.searchParams=void 0),t.hostname==="unix"){if(!this._internals.enableUnixSockets)throw new Error("Using UNIX domain sockets but option `enableUnixSockets` is not enabled");let r=/(?<socketPath>.+?):(?<path>.+)/.exec(`${t.pathname}${t.search}`);if(r?.groups){let{socketPath:a,path:u}=r.groups;this._unixOptions={socketPath:a,path:u,host:""}}else this._unixOptions=void 0;return}this._unixOptions=void 0}get cookieJar(){return this._internals.cookieJar}set cookieJar(e){if(Ie.any([ue.object,ue.undefined],e),e===void 0){this._internals.cookieJar=void 0;return}let{setCookie:n,getCookieString:t}=e;Ie.function_(n),Ie.function_(t),n.length===4&&t.length===0?(n=(0,Xh.promisify)(n.bind(e)),t=(0,Xh.promisify)(t.bind(e)),this._internals.cookieJar={setCookie:n,getCookieString:t}):this._internals.cookieJar=e}get signal(){return this._internals.signal}set signal(e){Ie.object(e),this._internals.signal=e}get ignoreInvalidCookies(){return this._internals.ignoreInvalidCookies}set ignoreInvalidCookies(e){Ie.boolean(e),this._internals.ignoreInvalidCookies=e}get searchParams(){return this._internals.url?this._internals.url.searchParams:(this._internals.searchParams===void 0&&(this._internals.searchParams=new vs.URLSearchParams),this._internals.searchParams)}set searchParams(e){Ie.any([ue.string,ue.object,ue.undefined],e);let n=this._internals.url;if(e===void 0){this._internals.searchParams=void 0,n&&(n.search="");return}let t=this.searchParams,r;if(ue.string(e))r=new vs.URLSearchParams(e);else if(e instanceof vs.URLSearchParams)r=e;else{p4(e),r=new vs.URLSearchParams;for(let a in e){let u=e[a];u===null?r.append(a,""):u===void 0?t.delete(a):r.append(a,u)}}if(this._merging){for(let a of r.keys())t.delete(a);for(let[a,u]of r)t.append(a,u)}else n?n.search=t.toString():this._internals.searchParams=t}get searchParameters(){throw new Error("The `searchParameters` option does not exist. Use `searchParams` instead.")}set searchParameters(e){throw new Error("The `searchParameters` option does not exist. Use `searchParams` instead.")}get dnsLookup(){return this._internals.dnsLookup}set dnsLookup(e){Ie.any([ue.function_,ue.undefined],e),this._internals.dnsLookup=e}get dnsCache(){return this._internals.dnsCache}set dnsCache(e){Ie.any([ue.object,ue.boolean,ue.undefined],e),e===!0?this._internals.dnsCache=g4():e===!1?this._internals.dnsCache=void 0:this._internals.dnsCache=e}get context(){return this._internals.context}set context(e){Ie.object(e),this._merging?Object.assign(this._internals.context,e):this._internals.context={...e}}get hooks(){return this._internals.hooks}set hooks(e){Ie.object(e);for(let n in e){if(!(n in this._internals.hooks))throw new Error(`Unexpected hook event: ${n}`);let t=n,r=e[t];if(Ie.any([ue.array,ue.undefined],r),r)for(let a of r)Ie.function_(a);if(this._merging)r&&this._internals.hooks[t].push(...r);else{if(!r)throw new Error(`Missing hook event: ${n}`);this._internals.hooks[n]=[...r]}}}get followRedirect(){return this._internals.followRedirect}set followRedirect(e){Ie.boolean(e),this._internals.followRedirect=e}get followRedirects(){throw new TypeError("The `followRedirects` option does not exist. Use `followRedirect` instead.")}set followRedirects(e){throw new TypeError("The `followRedirects` option does not exist. Use `followRedirect` instead.")}get maxRedirects(){return this._internals.maxRedirects}set maxRedirects(e){Ie.number(e),this._internals.maxRedirects=e}get cache(){return this._internals.cache}set cache(e){Ie.any([ue.object,ue.string,ue.boolean,ue.undefined],e),e===!0?this._internals.cache=y4:e===!1?this._internals.cache=void 0:this._internals.cache=e}get throwHttpErrors(){return this._internals.throwHttpErrors}set throwHttpErrors(e){Ie.boolean(e),this._internals.throwHttpErrors=e}get username(){let e=this._internals.url,n=e?e.username:this._internals.username;return decodeURIComponent(n)}set username(e){Ie.string(e);let n=this._internals.url,t=encodeURIComponent(e);n?n.username=t:this._internals.username=t}get password(){let e=this._internals.url,n=e?e.password:this._internals.password;return decodeURIComponent(n)}set password(e){Ie.string(e);let n=this._internals.url,t=encodeURIComponent(e);n?n.password=t:this._internals.password=t}get http2(){return this._internals.http2}set http2(e){Ie.boolean(e),this._internals.http2=e}get allowGetBody(){return this._internals.allowGetBody}set allowGetBody(e){Ie.boolean(e),this._internals.allowGetBody=e}get headers(){return this._internals.headers}set headers(e){Ie.plainObject(e),this._merging?Object.assign(this._internals.headers,Ed(e)):this._internals.headers=Ed(e)}get methodRewriting(){return this._internals.methodRewriting}set methodRewriting(e){Ie.boolean(e),this._internals.methodRewriting=e}get dnsLookupIpVersion(){return this._internals.dnsLookupIpVersion}set dnsLookupIpVersion(e){if(e!==void 0&&e!==4&&e!==6)throw new TypeError(`Invalid DNS lookup IP version: ${e}`);this._internals.dnsLookupIpVersion=e}get parseJson(){return this._internals.parseJson}set parseJson(e){Ie.function_(e),this._internals.parseJson=e}get stringifyJson(){return this._internals.stringifyJson}set stringifyJson(e){Ie.function_(e),this._internals.stringifyJson=e}get retry(){return this._internals.retry}set retry(e){if(Ie.plainObject(e),Ie.any([ue.function_,ue.undefined],e.calculateDelay),Ie.any([ue.number,ue.undefined],e.maxRetryAfter),Ie.any([ue.number,ue.undefined],e.limit),Ie.any([ue.array,ue.undefined],e.methods),Ie.any([ue.array,ue.undefined],e.statusCodes),Ie.any([ue.array,ue.undefined],e.errorCodes),Ie.any([ue.number,ue.undefined],e.noise),e.noise&&Math.abs(e.noise)>100)throw new Error(`The maximum acceptable retry noise is +/- 100ms, got ${e.noise}`);for(let t in e)if(!(t in this._internals.retry))throw new Error(`Unexpected retry option: ${t}`);this._merging?Object.assign(this._internals.retry,e):this._internals.retry={...e};let{retry:n}=this._internals;n.methods=[...new Set(n.methods.map(t=>t.toUpperCase()))],n.statusCodes=[...new Set(n.statusCodes)],n.errorCodes=[...new Set(n.errorCodes)]}get localAddress(){return this._internals.localAddress}set localAddress(e){Ie.any([ue.string,ue.undefined],e),this._internals.localAddress=e}get method(){return this._internals.method}set method(e){Ie.string(e),this._internals.method=e.toUpperCase()}get createConnection(){return this._internals.createConnection}set createConnection(e){Ie.any([ue.function_,ue.undefined],e),this._internals.createConnection=e}get cacheOptions(){return this._internals.cacheOptions}set cacheOptions(e){Ie.plainObject(e),Ie.any([ue.boolean,ue.undefined],e.shared),Ie.any([ue.number,ue.undefined],e.cacheHeuristic),Ie.any([ue.number,ue.undefined],e.immutableMinTimeToLive),Ie.any([ue.boolean,ue.undefined],e.ignoreCargoCult);for(let n in e)if(!(n in this._internals.cacheOptions))throw new Error(`Cache option \`${n}\` does not exist`);this._merging?Object.assign(this._internals.cacheOptions,e):this._internals.cacheOptions={...e}}get https(){return this._internals.https}set https(e){Ie.plainObject(e),Ie.any([ue.boolean,ue.undefined],e.rejectUnauthorized),Ie.any([ue.function_,ue.undefined],e.checkServerIdentity),Ie.any([ue.string,ue.object,ue.array,ue.undefined],e.certificateAuthority),Ie.any([ue.string,ue.object,ue.array,ue.undefined],e.key),Ie.any([ue.string,ue.object,ue.array,ue.undefined],e.certificate),Ie.any([ue.string,ue.undefined],e.passphrase),Ie.any([ue.string,ue.buffer,ue.array,ue.undefined],e.pfx),Ie.any([ue.array,ue.undefined],e.alpnProtocols),Ie.any([ue.string,ue.undefined],e.ciphers),Ie.any([ue.string,ue.buffer,ue.undefined],e.dhparam),Ie.any([ue.string,ue.undefined],e.signatureAlgorithms),Ie.any([ue.string,ue.undefined],e.minVersion),Ie.any([ue.string,ue.undefined],e.maxVersion),Ie.any([ue.boolean,ue.undefined],e.honorCipherOrder),Ie.any([ue.number,ue.undefined],e.tlsSessionLifetime),Ie.any([ue.string,ue.undefined],e.ecdhCurve),Ie.any([ue.string,ue.buffer,ue.array,ue.undefined],e.certificateRevocationLists);for(let n in e)if(!(n in this._internals.https))throw new Error(`HTTPS option \`${n}\` does not exist`);this._merging?Object.assign(this._internals.https,e):this._internals.https={...e}}get encoding(){return this._internals.encoding}set encoding(e){if(e===null)throw new TypeError("To get a Buffer, set `options.responseType` to `buffer` instead");Ie.any([ue.string,ue.undefined],e),this._internals.encoding=e}get resolveBodyOnly(){return this._internals.resolveBodyOnly}set resolveBodyOnly(e){Ie.boolean(e),this._internals.resolveBodyOnly=e}get isStream(){return this._internals.isStream}set isStream(e){Ie.boolean(e),this._internals.isStream=e}get responseType(){return this._internals.responseType}set responseType(e){if(e===void 0){this._internals.responseType="text";return}if(e!=="text"&&e!=="buffer"&&e!=="json")throw new Error(`Invalid \`responseType\` option: ${e}`);this._internals.responseType=e}get pagination(){return this._internals.pagination}set pagination(e){Ie.object(e),this._merging?Object.assign(this._internals.pagination,e):this._internals.pagination=e}get auth(){throw new Error("Parameter `auth` is deprecated. Use `username` / `password` instead.")}set auth(e){throw new Error("Parameter `auth` is deprecated. Use `username` / `password` instead.")}get setHost(){return this._internals.setHost}set setHost(e){Ie.boolean(e),this._internals.setHost=e}get maxHeaderSize(){return this._internals.maxHeaderSize}set maxHeaderSize(e){Ie.any([ue.number,ue.undefined],e),this._internals.maxHeaderSize=e}get enableUnixSockets(){return this._internals.enableUnixSockets}set enableUnixSockets(e){Ie.boolean(e),this._internals.enableUnixSockets=e}toJSON(){return{...this._internals}}[Symbol.for("nodejs.util.inspect.custom")](e,n){return(0,Xh.inspect)(this._internals,n)}createNativeRequestOptions(){let e=this._internals,n=e.url,t;n.protocol==="https:"?t=e.http2?e.agent:e.agent.https:t=e.agent.http;let{https:r}=e,{pfx:a}=r;return ue.array(a)&&ue.plainObject(a[0])&&(a=a.map(u=>({buf:u.buffer,passphrase:u.passphrase}))),{...e.cacheOptions,...this._unixOptions,ALPNProtocols:r.alpnProtocols,ca:r.certificateAuthority,cert:r.certificate,key:r.key,passphrase:r.passphrase,pfx:r.pfx,rejectUnauthorized:r.rejectUnauthorized,checkServerIdentity:r.checkServerIdentity??e4.checkServerIdentity,ciphers:r.ciphers,honorCipherOrder:r.honorCipherOrder,minVersion:r.minVersion,maxVersion:r.maxVersion,sigalgs:r.signatureAlgorithms,sessionTimeout:r.tlsSessionLifetime,dhparam:r.dhparam,ecdhCurve:r.ecdhCurve,crl:r.certificateRevocationLists,lookup:e.dnsLookup??e.dnsCache?.lookup,family:e.dnsLookupIpVersion,agent:t,setHost:e.setHost,method:e.method,maxHeaderSize:e.maxHeaderSize,localAddress:e.localAddress,headers:e.headers,createConnection:e.createConnection,timeout:e.http2?_4(e):void 0,h2session:e.h2session}}getRequestFunction(){let e=this._internals.url,{request:n}=this._internals;return!n&&e?this.getFallbackRequestFunction():n}getFallbackRequestFunction(){let e=this._internals.url;if(e){if(e.protocol==="https:"){if(this._internals.http2){if($g<15||$g===15&&d4<10){let n=new Error("To use the `http2` option, install Node.js 15.10.0 or above");throw n.code="EUNSUPPORTED",n}return f4.default.auto}return r4.default.request}return t4.default.request}}freeze(){let e=this._internals;Object.freeze(e),Object.freeze(e.hooks),Object.freeze(e.hooks.afterResponse),Object.freeze(e.hooks.beforeError),Object.freeze(e.hooks.beforeRedirect),Object.freeze(e.hooks.beforeRequest),Object.freeze(e.hooks.beforeRetry),Object.freeze(e.hooks.init),Object.freeze(e.https),Object.freeze(e.cacheOptions),Object.freeze(e.agent),Object.freeze(e.headers),Object.freeze(e.timeout),Object.freeze(e.retry),Object.freeze(e.retry.errorCodes),Object.freeze(e.retry.methods),Object.freeze(e.retry.statusCodes)}},Cc=e=>{let{statusCode:n}=e,t=e.request.options.followRedirect?299:399;return n>=200&&n<=t||n===304},Hg=class extends Sr{constructor(e,n){let{options:t}=n.request;super(`${e.message} in "${t.url.toString()}"`,e,n.request),this.name="ParseError",this.code="ERR_BODY_PARSE_FAILURE"}},Wg=(e,n,t,r)=>{let{rawBody:a}=e;try{if(n==="text")return a.toString(r);if(n==="json")return a.length===0?"":t(a.toString(r));if(n==="buffer")return a}catch(u){throw new Hg(u,e)}throw new Hg({message:`Unknown body type '${n}'`,name:"Error"},e)};function w4(e){return e.writable&&!e.writableEnded}var S4=w4;function Gg(e){return e.protocol==="unix:"||e.hostname==="unix"}var E4=ue.string(dv.default.versions.brotli),C4=new Set(["GET","HEAD"]),rd=new Y6,T4=new Set([300,301,302,303,304,307,308]),A4=["socket","connect","continue","information","upgrade"],Jl=()=>{},up=class extends u6.Duplex{constructor(e,n,t){super({autoDestroy:!1,highWaterMark:0}),Object.defineProperty(this,"constructor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_noPipe",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"response",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"requestUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"redirectUrls",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"retryCount",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_stopRetry",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downloadedSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_uploadedSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_stopReading",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_pipedServerResponses",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_responseSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_bodySize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_unproxyEvents",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isFromCache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_cannotHaveBody",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_triggerRead",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_cancelTimeouts",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_removeListeners",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_nativeResponse",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_flushed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_aborted",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_requestInitialized",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._downloadedSize=0,this._uploadedSize=0,this._stopReading=!1,this._pipedServerResponses=new Set,this._cannotHaveBody=!1,this._unproxyEvents=Jl,this._triggerRead=!1,this._cancelTimeouts=Jl,this._removeListeners=Jl,this._jobs=[],this._flushed=!1,this._requestInitialized=!1,this._aborted=!1,this.redirectUrls=[],this.retryCount=0,this._stopRetry=Jl,this.on("pipe",a=>{a.headers&&Object.assign(this.options.headers,a.headers)}),this.on("newListener",a=>{if(a==="retry"&&this.listenerCount("retry")>0)throw new Error("A retry listener has been attached already.")});try{if(this.options=new ia(e,n,t),!this.options.url){if(this.options.prefixUrl==="")throw new TypeError("Missing `url` property");this.options.url=""}this.requestUrl=this.options.url}catch(a){let{options:u}=a;u&&(this.options=u),this.flush=async()=>{this.flush=async()=>{},this.destroy(a)};return}let{body:r}=this.options;if(ue.nodeStream(r)&&r.once("error",a=>{this._flushed?this._beforeError(new Ig(a,this)):this.flush=async()=>{this.flush=async()=>{},this._beforeError(new Ig(a,this))}}),this.options.signal){let a=()=>{this.destroy(new o6(this))};this.options.signal.aborted?a():(this.options.signal.addEventListener("abort",a),this._removeListeners=()=>{this.options.signal.removeEventListener("abort",a)})}}async flush(){if(!this._flushed){this._flushed=!0;try{if(await this._finalizeBody(),this.destroyed)return;if(await this._makeRequest(),this.destroyed){this._request?.destroy();return}for(let e of this._jobs)e();this._jobs.length=0,this._requestInitialized=!0}catch(e){this._beforeError(e)}}}_beforeError(e){if(this._stopReading)return;let{response:n,options:t}=this,r=this.retryCount+(e.name==="RetryError"?0:1);this._stopReading=!0,e instanceof Sr||(e=new Sr(e.message,e,this));let a=e;(async()=>{if(n?.readable&&!n.rawBody&&!this._request?.socket?.destroyed&&(n.setEncoding(this.readableEncoding),await this._setRawBody(n)&&(n.body=n.rawBody.toString())),this.listenerCount("retry")!==0){let u;try{let c;n&&"retry-after"in n.headers&&(c=Number(n.headers["retry-after"]),Number.isNaN(c)?(c=Date.parse(n.headers["retry-after"])-Date.now(),c<=0&&(c=1)):c*=1e3);let f=t.retry;u=await f.calculateDelay({attemptCount:r,retryOptions:f,error:a,retryAfter:c,computedValue:X6({attemptCount:r,retryOptions:f,error:a,retryAfter:c,computedValue:f.maxRetryAfter??t.timeout.request??Number.POSITIVE_INFINITY})})}catch(c){this._error(new Sr(c.message,c,this));return}if(u){if(await new Promise(c=>{let f=setTimeout(c,u);this._stopRetry=()=>{clearTimeout(f),c()}}),this.destroyed)return;try{for(let c of this.options.hooks.beforeRetry)await c(a,this.retryCount+1)}catch(c){this._error(new Sr(c.message,e,this));return}if(this.destroyed)return;this.destroy(),this.emit("retry",this.retryCount+1,e,c=>{let f=new up(t.url,c,t);return f.retryCount=this.retryCount+1,dv.default.nextTick(()=>{f.flush()}),f});return}}this._error(a)})()}_read(){this._triggerRead=!0;let{response:e}=this;if(e&&!this._stopReading){e.readableLength&&(this._triggerRead=!1);let n;for(;(n=e.read())!==null;){this._downloadedSize+=n.length;let t=this.downloadProgress;t.percent<1&&this.emit("downloadProgress",t),this.push(n)}}}_write(e,n,t){let r=()=>{this._writeRequest(e,n,t)};this._requestInitialized?r():this._jobs.push(r)}_final(e){let n=()=>{if(!this._request||this._request.destroyed){e();return}this._request.end(t=>{this._request._writableState?.errored||(t||(this._bodySize=this._uploadedSize,this.emit("uploadProgress",this.uploadProgress),this._request.emit("upload-complete")),e(t))})};this._requestInitialized?n():this._jobs.push(n)}_destroy(e,n){if(this._stopReading=!0,this.flush=async()=>{},this._stopRetry(),this._cancelTimeouts(),this._removeListeners(),this.options){let{body:t}=this.options;ue.nodeStream(t)&&t.destroy()}this._request&&this._request.destroy(),e!==null&&!ue.undefined(e)&&!(e instanceof Sr)&&(e=new Sr(e.message,e,this)),n(e)}pipe(e,n){return e instanceof Wh.ServerResponse&&this._pipedServerResponses.add(e),super.pipe(e,n)}unpipe(e){return e instanceof Wh.ServerResponse&&this._pipedServerResponses.delete(e),super.unpipe(e),this}async _finalizeBody(){let{options:e}=this,{headers:n}=e,t=!ue.undefined(e.form),r=!ue.undefined(e.json),a=!ue.undefined(e.body),u=C4.has(e.method)&&!(e.method==="GET"&&e.allowGetBody);if(this._cannotHaveBody=u,t||r||a){if(u)throw new TypeError(`The \`${e.method}\` method cannot be used with a body`);let c=!ue.string(n["content-type"]);if(a){if(op(e.body)){let l=new F6(e.body);c&&(n["content-type"]=l.headers["Content-Type"]),"Content-Length"in l.headers&&(n["content-length"]=l.headers["Content-Length"]),e.body=l.encode()}yv(e.body)&&c&&(n["content-type"]=`multipart/form-data; boundary=${e.body.getBoundary()}`)}else if(t){c&&(n["content-type"]="application/x-www-form-urlencoded");let{form:l}=e;e.form=void 0,e.body=new kg.URLSearchParams(l).toString()}else{c&&(n["content-type"]="application/json");let{json:l}=e;e.json=void 0,e.body=e.stringifyJson(l)}let f=await $6(e.body,e.headers);ue.undefined(n["content-length"])&&ue.undefined(n["transfer-encoding"])&&!u&&!ue.undefined(f)&&(n["content-length"]=String(f))}e.responseType==="json"&&!("accept"in e.headers)&&(e.headers.accept="application/json"),this._bodySize=Number(n["content-length"])||void 0}async _onResponseBase(e){if(this.isAborted)return;let{options:n}=this,{url:t}=n;this._nativeResponse=e,n.decompress&&(e=(0,O6.default)(e));let r=e.statusCode,a=e;a.statusMessage=a.statusMessage??Wh.default.STATUS_CODES[r],a.url=n.url.toString(),a.requestUrl=this.requestUrl,a.redirectUrls=this.redirectUrls,a.request=this,a.isFromCache=this._nativeResponse.fromCache??!1,a.ip=this.ip,a.retryCount=this.retryCount,a.ok=Cc(a),this._isFromCache=a.isFromCache,this._responseSize=Number(e.headers["content-length"])||void 0,this.response=a,e.once("end",()=>{this._responseSize=this._downloadedSize,this.emit("downloadProgress",this.downloadProgress)}),e.once("error",c=>{this._aborted=!0,e.destroy(),this._beforeError(new Rg(c,this))}),e.once("aborted",()=>{this._aborted=!0,this._beforeError(new Rg({name:"Error",message:"The server aborted pending request",code:"ECONNRESET"},this))}),this.emit("downloadProgress",this.downloadProgress);let u=e.headers["set-cookie"];if(ue.object(n.cookieJar)&&u){let c=u.map(async f=>n.cookieJar.setCookie(f,t.toString()));n.ignoreInvalidCookies&&(c=c.map(async f=>{try{await f}catch{}}));try{await Promise.all(c)}catch(f){this._beforeError(f);return}}if(!this.isAborted){if(n.followRedirect&&e.headers.location&&T4.has(r)){if(e.resume(),this._cancelTimeouts(),this._unproxyEvents(),this.redirectUrls.length>=n.maxRedirects){this._beforeError(new n6(this));return}this._request=void 0;let c=new ia(void 0,void 0,this.options),f=r===303&&c.method!=="GET"&&c.method!=="HEAD",l=r!==307&&r!==308,s=c.methodRewriting&&l;(f||s)&&(c.method="GET",c.body=void 0,c.json=void 0,c.form=void 0,delete c.headers["content-length"]);try{let d=Hh.Buffer.from(e.headers.location,"binary").toString(),h=new kg.URL(d,t);if(!Gg(t)&&Gg(h)){this._beforeError(new Sr("Cannot redirect to UNIX socket",{},this));return}h.hostname!==t.hostname||h.port!==t.port?("host"in c.headers&&delete c.headers.host,"cookie"in c.headers&&delete c.headers.cookie,"authorization"in c.headers&&delete c.headers.authorization,(c.username||c.password)&&(c.username="",c.password="")):(h.username=c.username,h.password=c.password),this.redirectUrls.push(h),c.prefixUrl="",c.url=h;for(let g of c.hooks.beforeRedirect)await g(c,a);this.emit("redirect",c,a),this.options=c,await this._makeRequest()}catch(d){this._beforeError(d);return}return}if(n.isStream&&n.throwHttpErrors&&!Cc(a)){this._beforeError(new Ec(a));return}if(e.on("readable",()=>{this._triggerRead&&this._read()}),this.on("resume",()=>{e.resume()}),this.on("pause",()=>{e.pause()}),e.once("end",()=>{this.push(null)}),this._noPipe){await this._setRawBody()&&this.emit("response",e);return}this.emit("response",e);for(let c of this._pipedServerResponses)if(!c.headersSent){for(let f in e.headers){let l=n.decompress?f!=="content-encoding":!0,s=e.headers[f];l&&c.setHeader(f,s)}c.statusCode=r}}}async _setRawBody(e=this){if(e.readableEnded)return!1;try{let n=await(0,L6.buffer)(e);if(!this.isAborted)return this.response.rawBody=n,!0}catch{}return!1}async _onResponse(e){try{await this._onResponseBase(e)}catch(n){this._beforeError(n)}}_onRequest(e){let{options:n}=this,{timeout:t,url:r}=n;d6(e),this.options.http2&&e.setTimeout(0),this._cancelTimeouts=G6(e,t,r);let a=n.cache?"cacheableResponse":"response";e.once(a,u=>{this._onResponse(u)}),e.once("error",u=>{this._aborted=!0,e.destroy(),u=u instanceof mv?new a6(u,this.timings,this):new Sr(u.message,u,this),this._beforeError(u)}),this._unproxyEvents=gv(e,this,A4),this._request=e,this.emit("uploadProgress",this.uploadProgress),this._sendBody(),this.emit("request",e)}async _asyncWrite(e){return new Promise((n,t)=>{super.write(e,r=>{if(r){t(r);return}n()})})}_sendBody(){let{body:e}=this.options,n=this.redirectUrls.length===0?this:this._request??this;ue.nodeStream(e)?e.pipe(n):ue.generator(e)||ue.asyncGenerator(e)?(async()=>{try{for await(let t of e)await this._asyncWrite(t);super.end()}catch(t){this._beforeError(t)}})():ue.undefined(e)?(this._cannotHaveBody||this._noPipe)&&n.end():(this._writeRequest(e,void 0,()=>{}),n.end())}_prepareCache(e){if(!rd.has(e)){let n=new N6((t,r)=>{let a=t._request(t,r);return ue.promise(a)&&(a.once=(u,c)=>{if(u==="error")(async()=>{try{await a}catch(f){c(f)}})();else if(u==="abort")(async()=>{try{(await a).once("abort",c)}catch{}})();else throw new Error(`Unknown HTTP2 promise event: ${u}`);return a}),a},e);rd.set(e,n.request())}}async _createCacheableRequest(e,n){return new Promise((t,r)=>{Object.assign(n,Q6(e));let a,u=rd.get(n.cache)(n,async c=>{if(c._readableState.autoDestroy=!1,a){let f=()=>{c.req&&(c.complete=c.req.res.complete)};c.prependOnceListener("end",f),f(),(await a).emit("cacheableResponse",c)}t(c)});u.once("error",r),u.once("request",async c=>{a=c,t(a)})})}async _makeRequest(){let{options:e}=this,{headers:n,username:t,password:r}=e,a=e.cookieJar;for(let l in n)if(ue.undefined(n[l]))delete n[l];else if(ue.null_(n[l]))throw new TypeError(`Use \`undefined\` instead of \`null\` to delete the \`${l}\` header`);if(e.decompress&&ue.undefined(n["accept-encoding"])&&(n["accept-encoding"]=E4?"gzip, deflate, br":"gzip, deflate"),t||r){let l=Hh.Buffer.from(`${t}:${r}`).toString("base64");n.authorization=`Basic ${l}`}if(a){let l=await a.getCookieString(e.url.toString());ue.nonEmptyString(l)&&(n.cookie=l)}e.prefixUrl="";let u;for(let l of e.hooks.beforeRequest){let s=await l(e);if(!ue.undefined(s)){u=()=>s;break}}u||(u=e.getRequestFunction());let c=e.url;this._requestOptions=e.createNativeRequestOptions(),e.cache&&(this._requestOptions._request=u,this._requestOptions.cache=e.cache,this._requestOptions.body=e.body,this._prepareCache(e.cache));let f=e.cache?this._createCacheableRequest:u;try{let l=f(c,this._requestOptions);ue.promise(l)&&(l=await l),ue.undefined(l)&&(l=e.getFallbackRequestFunction()(c,this._requestOptions),ue.promise(l)&&(l=await l)),S4(l)?this._onRequest(l):this.writable?(this.once("finish",()=>{this._onResponse(l)}),this._sendBody()):this._onResponse(l)}catch(l){throw l instanceof wu?new i6(l,this):l}}async _error(e){try{if(!(e instanceof Ec&&!this.options.throwHttpErrors))for(let n of this.options.hooks.beforeError)e=await n(e)}catch(n){e=new Sr(n.message,n,this)}this.destroy(e)}_writeRequest(e,n,t){!this._request||this._request.destroyed||this._request.write(e,n,r=>{if(!r&&!this._request.destroyed){this._uploadedSize+=Hh.Buffer.byteLength(e,n);let a=this.uploadProgress;a.percent<1&&this.emit("uploadProgress",a)}t(r)})}get ip(){return this.socket?.remoteAddress}get isAborted(){return this._aborted}get socket(){return this._request?.socket??void 0}get downloadProgress(){let e;return this._responseSize?e=this._downloadedSize/this._responseSize:this._responseSize===this._downloadedSize?e=1:e=0,{percent:e,transferred:this._downloadedSize,total:this._responseSize}}get uploadProgress(){let e;return this._bodySize?e=this._uploadedSize/this._bodySize:this._bodySize===this._uploadedSize?e=1:e=0,{percent:e,transferred:this._uploadedSize,total:this._bodySize}}get timings(){return this._request?.timings}get isFromCache(){return this._isFromCache}get reusedSocket(){return this._request?.reusedSocket}},I4=class extends Sr{constructor(e){super("Promise was canceled",{},e),this.name="CancelError",this.code="ERR_CANCELED"}get isCanceled(){return!0}},R4=["request","response","redirect","uploadProgress","downloadProgress"];function Qg(e){let n,t,r,a=new e6.EventEmitter,u=new sp((f,l,s)=>{s(()=>{n.destroy()}),s.shouldReject=!1,s(()=>{l(new I4(n))});let d=h=>{s(()=>{});let g=e??new up(void 0,void 0,r);g.retryCount=h,g._noPipe=!0,n=g,g.once("response",async _=>{let T=(_.headers["content-encoding"]??"").toLowerCase(),N=T==="gzip"||T==="deflate"||T==="br",{options:B}=g;if(N&&!B.decompress)_.body=_.rawBody;else try{_.body=Wg(_,B.responseType,B.parseJson,B.encoding)}catch(p){if(_.body=_.rawBody.toString(),Cc(_)){g._beforeError(p);return}}try{let p=B.hooks.afterResponse;for(let[A,S]of p.entries())if(_=await S(_,async O=>{throw B.merge(O),B.prefixUrl="",O.url&&(B.url=O.url),B.hooks.afterResponse=B.hooks.afterResponse.slice(0,A),new s6(g)}),!(ue.object(_)&&ue.number(_.statusCode)&&!ue.nullOrUndefined(_.body)))throw new TypeError("The `afterResponse` hook returned an invalid value")}catch(p){g._beforeError(p);return}if(t=_,!Cc(_)){g._beforeError(new Ec(_));return}g.destroy(),f(g.options.resolveBodyOnly?_.body:_)});let I=_=>{if(u.isCanceled)return;let{options:T}=g;if(_ instanceof Ec&&!T.throwHttpErrors){let{response:N}=_;g.destroy(),f(g.options.resolveBodyOnly?N.body:N);return}l(_)};g.once("error",I);let C=g.options?.body;g.once("retry",(_,T)=>{e=void 0;let N=g.options.body;if(C===N&&ue.nodeStream(N)){T.message="Cannot retry with consumed body stream",I(T);return}r=g.options,d(_)}),gv(g,a,R4),ue.undefined(e)&&g.flush()};d(0)});u.on=(f,l)=>(a.on(f,l),u),u.off=(f,l)=>(a.off(f,l),u);let c=f=>{let l=(async()=>{await u;let{options:s}=t.request;return Wg(t,f,s.parseJson,s.encoding)})();return Object.defineProperties(l,Object.getOwnPropertyDescriptors(u)),l};return u.json=()=>{if(n.options){let{headers:f}=n.options;!n.writableFinished&&!("accept"in f)&&(f.accept="application/json")}return c("json")},u.buffer=()=>c("buffer"),u.text=()=>c("text"),u}var k4=async e=>new Promise(n=>{setTimeout(n,e)}),B4=e=>ue.function_(e),N4=["get","post","put","patch","head","delete"],vv=e=>{e={options:new ia(void 0,void 0,e.options),handlers:[...e.handlers],mutableDefaults:e.mutableDefaults},Object.defineProperty(e,"mutableDefaults",{enumerable:!0,configurable:!1,writable:!1});let n=(r,a,u=e.options)=>{let c=new up(r,a,u),f,l=h=>(c.options=h,c._noPipe=!h.isStream,c.flush(),h.isStream?c:(f||(f=Qg(c)),f)),s=0,d=h=>{let g=(e.handlers[s++]??l)(h,d);if(ue.promise(g)&&!c.options.isStream&&(f||(f=Qg(c)),g!==f)){let I=Object.getOwnPropertyDescriptors(f);for(let C in I)C in g&&delete I[C];Object.defineProperties(g,I),g.cancel=f.cancel}return g};return d(c.options)};n.extend=(...r)=>{let a=new ia(void 0,void 0,e.options),u=[...e.handlers],c;for(let f of r)B4(f)?(a.merge(f.defaults.options),u.push(...f.defaults.handlers),c=f.defaults.mutableDefaults):(a.merge(f),f.handlers&&u.push(...f.handlers),c=f.mutableDefaults);return vv({options:a,handlers:u,mutableDefaults:!!c})};let t=async function*(r,a){let u=new ia(r,a,e.options);u.resolveBodyOnly=!1;let{pagination:c}=u;Ie.function_(c.transform),Ie.function_(c.shouldContinue),Ie.function_(c.filter),Ie.function_(c.paginate),Ie.number(c.countLimit),Ie.number(c.requestLimit),Ie.number(c.backoff);let f=[],{countLimit:l}=c,s=0;for(;s<c.requestLimit;){s!==0&&await k4(c.backoff);let d=await n(void 0,void 0,u),h=await c.transform(d),g=[];Ie.array(h);for(let C of h)if(c.filter({item:C,currentItems:g,allItems:f})&&(!c.shouldContinue({item:C,currentItems:g,allItems:f})||(yield C,c.stackAllItems&&f.push(C),g.push(C),--l<=0)))return;let I=c.paginate({response:d,currentItems:g,allItems:f});if(I===!1)return;I===d.request.options?u=d.request.options:(u.merge(I),Ie.any([ue.urlInstance,ue.undefined],I.url),I.url!==void 0&&(u.prefixUrl="",u.url=I.url)),s++}};n.paginate=t,n.paginate.all=async(r,a)=>{let u=[];for await(let c of t(r,a))u.push(c);return u},n.paginate.each=t,n.stream=(r,a)=>n(r,{...a,isStream:!0});for(let r of N4)n[r]=(a,u)=>n(a,{...u,method:r}),n.stream[r]=(a,u)=>n(a,{...u,method:r,isStream:!0});return e.mutableDefaults||(Object.freeze(e.handlers),e.options.freeze()),Object.defineProperty(n,"defaults",{value:e,writable:!1,configurable:!1,enumerable:!0}),n},O4=vv,L4={options:new ia,handlers:[],mutableDefaults:!1},P4=O4(L4),nn=P4,dc="https://www.googleapis.com",x4=`${dc}/oauth2/v4/token`,lp={extId:"No extension ID provided, e.g. https://chrome.google.com/webstore/detail/EXT_ID",clientId:"No client ID provided. To get one: https://github.com/PlasmoHQ/chrome-webstore-api/blob/main/token.md",clientSecret:"No client secret provided. To get one: https://github.com/PlasmoHQ/chrome-webstore-api/blob/main/token.md",refreshToken:"No refresh token provided. To get one: https://github.com/PlasmoHQ/chrome-webstore-api/blob/main/token.md"},U4=Object.keys(lp),D4=class{options={};constructor(e){for(let n of U4){if(!e[n])throw new Error(lp[n]);this.options[n]=e[n]}}get uploadEndpoint(){return`${dc}/upload/chromewebstore/v1.1/items/${this.options.extId}`}getPublishEndpoint(e){return`${dc}/chromewebstore/v1.1/items/${this.options.extId}/publish?publishTarget=${e}`}getInfoEndpoint(e){return`${dc}/chromewebstore/v1.1/items/${this.options.extId}?projection=${e}`}async submit({filePath:e="",target:n="default"}){let t=await this.getAccessToken(),{uploadState:r,itemError:a}=await this.upload({readStream:(0,F3.createReadStream)(e)},t);if(r==="FAILURE"||r==="NOT_FOUND")throw new Error(a.map(({error_detail:u})=>u).join(`
`));if(!this.options.uploadOnly)return this.publish({target:n},t)}async upload({readStream:e=null},n=""){if(!e)throw new Error("Read stream missing");let t=n||await this.getAccessToken();return nn.put(this.uploadEndpoint,{headers:this.getHeaders(t),body:e,throwHttpErrors:!1}).json()}async publish({target:e="default"},n=""){let t=n||await this.getAccessToken();return nn.post(this.getPublishEndpoint(e),{headers:this.getHeaders(t)}).json()}async get({projection:e="DRAFT"},n=""){let t=n||await this.getAccessToken();return nn.get(this.getInfoEndpoint(e),{headers:this.getHeaders(t)}).json()}async getAccessToken(){return(await nn.post(x4,{json:{client_id:this.options.clientId,refresh_token:this.options.refreshToken,grant_type:"refresh_token",client_secret:this.options.clientSecret}}).json()).access_token}getHeaders(e){return{Authorization:`Bearer ${e}`,"x-goog-api-version":"2"}}},j4=require("module"),V4=(0,j4.createRequire)("/"),q4;try{q4=V4("worker_threads").Worker}catch{}var On=Uint8Array,ho=Uint16Array,F4=Int32Array,bv=new On([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),_v=new On([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),M4=new On([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),wv=function(e,n){for(var t=new ho(31),r=0;r<31;++r)t[r]=n+=1<<e[r-1];for(var a=new F4(t[30]),r=1;r<30;++r)for(var u=t[r];u<t[r+1];++u)a[u]=u-t[r]<<5|r;return{b:t,r:a}},Sv=wv(bv,2),Ev=Sv.b,z4=Sv.r;Ev[28]=258,z4[258]=28;var Cv=wv(_v,0),$4=Cv.b,JR=Cv.r,Cd=new ho(32768);for(At=0;At<32768;++At)ea=(At&43690)>>1|(At&21845)<<1,ea=(ea&52428)>>2|(ea&13107)<<2,ea=(ea&61680)>>4|(ea&3855)<<4,Cd[At]=((ea&65280)>>8|(ea&255)<<8)>>1;var ea,At,Tu=function(e,n,t){for(var r=e.length,a=0,u=new ho(n);a<r;++a)e[a]&&++u[e[a]-1];var c=new ho(n);for(a=1;a<n;++a)c[a]=c[a-1]+u[a-1]<<1;var f;if(t){f=new ho(1<<n);var l=15-n;for(a=0;a<r;++a)if(e[a])for(var s=a<<4|e[a],d=n-e[a],h=c[e[a]-1]++<<d,g=h|(1<<d)-1;h<=g;++h)f[Cd[h]>>l]=s}else for(f=new ho(r),a=0;a<r;++a)e[a]&&(f[a]=Cd[c[e[a]-1]++]>>15-e[a]);return f},Vu=new On(288);for(At=0;At<144;++At)Vu[At]=8;var At;for(At=144;At<256;++At)Vu[At]=9;var At;for(At=256;At<280;++At)Vu[At]=7;var At;for(At=280;At<288;++At)Vu[At]=8;var At,Tv=new On(32);for(At=0;At<32;++At)Tv[At]=5;var At,K4=Tu(Vu,9,1),H4=Tu(Tv,5,1),nd=function(e){for(var n=e[0],t=1;t<e.length;++t)e[t]>n&&(n=e[t]);return n},Jn=function(e,n,t){var r=n/8|0;return(e[r]|e[r+1]<<8)>>(n&7)&t},id=function(e,n){var t=n/8|0;return(e[t]|e[t+1]<<8|e[t+2]<<16)>>(n&7)},W4=function(e){return(e+7)/8|0},cp=function(e,n,t){(n==null||n<0)&&(n=0),(t==null||t>e.length)&&(t=e.length);var r=new On(t-n);return r.set(e.subarray(n,t)),r},G4=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Kn=function(e,n,t){var r=new Error(n||G4[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,Kn),!t)throw r;return r},Q4=function(e,n,t,r){var a=e.length,u=r?r.length:0;if(!a||n.f&&!n.l)return t||new On(0);var c=!t||n.i!=2,f=n.i;t||(t=new On(a*3));var l=function(Xe){var P=t.length;if(Xe>P){var Y=new On(Math.max(P*2,Xe));Y.set(t),t=Y}},s=n.f||0,d=n.p||0,h=n.b||0,g=n.l,I=n.d,C=n.m,_=n.n,T=a*8;do{if(!g){s=Jn(e,d,1);var N=Jn(e,d+1,3);if(d+=3,N)if(N==1)g=K4,I=H4,C=9,_=5;else if(N==2){var B=Jn(e,d,31)+257,p=Jn(e,d+10,15)+4,A=B+Jn(e,d+5,31)+1;d+=14;for(var S=new On(A),O=new On(19),D=0;D<p;++D)O[M4[D]]=Jn(e,d+D*3,7);d+=p*3;for(var E=nd(O),m=(1<<E)-1,y=Tu(O,E,1),D=0;D<A;){var q=y[Jn(e,d,m)];d+=q&15;var M=q>>4;if(M<16)S[D++]=M;else{var V=0,w=0;for(M==16?(w=3+Jn(e,d,3),d+=2,V=S[D-1]):M==17?(w=3+Jn(e,d,7),d+=3):M==18&&(w=11+Jn(e,d,127),d+=7);w--;)S[D++]=V}}var x=S.subarray(0,B),j=S.subarray(B);C=nd(x),_=nd(j),g=Tu(x,C,1),I=Tu(j,_,1)}else Kn(1);else{var M=W4(d)+4,L=e[M-4]|e[M-3]<<8,F=M+L;if(F>a){f&&Kn(0);break}c&&l(h+L),t.set(e.subarray(M,F),h),n.b=h+=L,n.p=d=F*8,n.f=s;continue}if(d>T){f&&Kn(0);break}}c&&l(h+131072);for(var J=(1<<C)-1,oe=(1<<_)-1,se=d;;se=d){var V=g[id(e,d)&J],de=V>>4;if(d+=V&15,d>T){f&&Kn(0);break}if(V||Kn(2),de<256)t[h++]=de;else if(de==256){se=d,g=null;break}else{var ke=de-254;if(de>264){var D=de-257,Le=bv[D];ke=Jn(e,d,(1<<Le)-1)+Ev[D],d+=Le}var Ve=I[id(e,d)&oe],Ee=Ve>>4;Ve||Kn(3),d+=Ve&15;var j=$4[Ee];if(Ee>3){var Le=_v[Ee];j+=id(e,d)&(1<<Le)-1,d+=Le}if(d>T){f&&Kn(0);break}c&&l(h+131072);var We=h+ke;if(h<j){var Ce=u-j,et=Math.min(j,We);for(Ce+h<0&&Kn(3);h<et;++h)t[h]=r[Ce+h]}for(;h<We;h+=4)t[h]=t[h-j],t[h+1]=t[h+1-j],t[h+2]=t[h+2-j],t[h+3]=t[h+3-j];h=We}}n.l=g,n.p=se,n.b=h,n.f=s,g&&(s=1,n.m=C,n.d=I,n.n=_)}while(!s);return h==t.length?t:cp(t,0,h)},Y4=new On(0),Ei=function(e,n){return e[n]|e[n+1]<<8},ti=function(e,n){return(e[n]|e[n+1]<<8|e[n+2]<<16|e[n+3]<<24)>>>0},ad=function(e,n){return ti(e,n)+ti(e,n+4)*4294967296};function Z4(e,n){return Q4(e,{i:2},n&&n.out,n&&n.dictionary)}var Td=typeof TextDecoder<"u"&&new TextDecoder,X4=0;try{Td.decode(Y4,{stream:!0}),X4=1}catch{}var J4=function(e){for(var n="",t=0;;){var r=e[t++],a=(r>127)+(r>223)+(r>239);if(t+a>e.length)return{s:n,r:cp(e,t-1)};a?a==3?(r=((r&15)<<18|(e[t++]&63)<<12|(e[t++]&63)<<6|e[t++]&63)-65536,n+=String.fromCharCode(55296|r>>10,56320|r&1023)):a&1?n+=String.fromCharCode((r&31)<<6|e[t++]&63):n+=String.fromCharCode((r&15)<<12|(e[t++]&63)<<6|e[t++]&63):n+=String.fromCharCode(r)}};function Av(e,n){if(n){for(var t="",r=0;r<e.length;r+=16384)t+=String.fromCharCode.apply(null,e.subarray(r,r+16384));return t}else{if(Td)return Td.decode(e);var a=J4(e),u=a.s,t=a.r;return t.length&&Kn(8),u}}var e5=function(e,n){return n+30+Ei(e,n+26)+Ei(e,n+28)},t5=function(e,n,t){var r=Ei(e,n+28),a=Av(e.subarray(n+46,n+46+r),!(Ei(e,n+8)&2048)),u=n+46+r,c=ti(e,n+20),f=t&&c==4294967295?r5(e,u):[c,ti(e,n+24),ti(e,n+42)],l=f[0],s=f[1],d=f[2];return[Ei(e,n+10),l,s,a,u+Ei(e,n+30)+Ei(e,n+32),d]},r5=function(e,n){for(;Ei(e,n)!=1;n+=4+Ei(e,n+2));return[ad(e,n+12),ad(e,n+4),ad(e,n+20)]};function n5(e,n){for(var t={},r=e.length-22;ti(e,r)!=101010256;--r)(!r||e.length-r>65558)&&Kn(13);var a=Ei(e,r+8);if(!a)return{};var u=ti(e,r+16),c=u==4294967295||a==65535;if(c){var f=ti(e,r-12);c=ti(e,f)==101075792,c&&(a=ti(e,f+32),u=ti(e,f+48))}for(var l=n&&n.filter,s=0;s<a;++s){var d=t5(e,u,c),h=d[0],g=d[1],I=d[2],C=d[3],_=d[4],T=d[5],N=e5(e,T);u=_,(!l||l({name:C,size:g,originalSize:I,compression:h}))&&(h?h==8?t[C]=Z4(e.subarray(N,N+g),{out:new On(I)}):Kn(14,"unknown compression type "+h):t[C]=cp(e,N,N+g))}return t}var fp=require("fs"),i5=require("path"),a5=require("process"),hp=e=>(0,i5.resolve)((0,a5.cwd)(),e),Iv=e=>(0,fp.existsSync)(hp(e));function qu({zip:e="",file:n="",versionFile:t="package.json"}){let r=e||n;if(Iv(t)&&r.includes("{version}")){let a=JSON.parse((0,fp.readFileSync)(t).toString());return r.replace("{version}",a.version||"")}else return r}function Hc(e){let n=(0,fp.readFileSync)(hp(e)),t=n5(n),r=Av(t["manifest.json"]);return JSON.parse(r)}function Wc({extId:e=null,market:n="",zip:t=""}){let{name:r,version:a}=Hc(t),u=lv[n]||n;console.log(`Successfully updated "${e}" (${r}) to version ${a} on ${u}!`)}var ec={};function Rv({message:e="Message",prefix:n="",market:t=""}){var r;ec[t]=1+((r=ec?.[t])!=null?r:0);let a=`${t}: Step ${ec[t]}) ${e}`;return n!=="Error"&&(n=n||"Info",a=`${n} ${a}`),n==="Info"?a=a.trim():n==="Error"&&(a=a.trimStart()),a}var kv={},Fu=e=>{kv[e]=!0,process.env.VERBOSE="true"};function Gc(e=""){return n=>kv[e]&&console.log(Rv({market:e,message:n}))}var Qc=(e,n,t)=>{let r=new Error(Rv({market:n,message:`Item "${t}": ${e.message}`,prefix:"Error"}));return r.stack=e.stack,r};function sd(e,n){return`${e}: ${n}`}var Mu=({market:e="chrome",options:n={},errorMap:t={}})=>{if(Object.keys(t).some(a=>{if(!n[a])throw new Error(sd(e,t[a]))}),!n.zip&&!n.file)throw new Error(sd(e,"No extension bundle provided"));let r=n.zip||n.file;if(!Iv(r))throw new Error(sd(e,`Extension bundle file doesn't exist: ${hp(r)}`))},Ru="chrome",s5=Gc(Ru);function o5(e){return la(this,null,function*(){var n=e,{extId:t,target:r="default",zip:a,dryRun:u}=n,c=Dc(n,["extId","target","zip","dryRun"]);let f=new D4(Uc({extId:t},c));if(s5(`Updating extension with ID ${t}`),u)return!0;try{return yield f.submit({filePath:a,target:r}),Wc({extId:t,market:Ru,zip:a}),!0}catch(l){let s=Hc(a);throw Qc(l,Ru,`"${t}" (${s.name})`)}})}function u5(e){return la(this,null,function*(){return e.zip=qu(e),e.verbose&&Fu(Ru),Mu({market:Ru,options:e,errorMap:lp}),o5(e)})}var l5=require("fs"),dp={productId:"Product ID is required. To get one, go to: https://partner.microsoft.com/en-us/dashboard/microsoftedge/{product-id}/package/dashboard",clientId:"Client ID is required. To get one: https://partner.microsoft.com/en-us/dashboard/microsoftedge/publishapi",clientSecret:"Client Secret is required. To get one: https://partner.microsoft.com/en-us/dashboard/microsoftedge/publishapi",accessTokenUrl:"Access token URL is required. To get one: https://partner.microsoft.com/en-us/dashboard/microsoftedge/publishapi"},c5=Object.keys(dp),f5=e=>new Promise(n=>setTimeout(n,e)),Yg="https://api.addons.microsoftedge.microsoft.com",h5=class{options={};constructor(e){for(let n of c5){if(!e[n])throw new Error(dp[n]);this.options[n]=e[n]}}get productEndpoint(){return`${Yg}/v1/products/${this.options.productId}`}get publishEndpoint(){return`${this.productEndpoint}/submissions`}get uploadEndpoint(){return`${this.publishEndpoint}/draft/package`}async submit({filePath:e="",notes:n=""}){let t=await this.getAccessToken(),r=await this.upload((0,l5.createReadStream)(e),t);return await this.waitForUpload(r,t),this.publish(n,t)}async publish(e="",n=null){let t={headers:{Authorization:`Bearer ${n||await this.getAccessToken()}`,"Content-Type":"application/x-www-form-urlencoded"}};e.length>0&&(t.body=`{ "notes"="${e}" }`);let r=await nn.post(this.publishEndpoint,t);return this.handleTempStatus(r.statusCode,"Submit"),r.headers.location}async upload(e=null,n=null){let t=n||await this.getAccessToken(),r=await nn.post(this.uploadEndpoint,{body:e,headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/zip"}});return this.handleTempStatus(r.statusCode,"Upload"),r.headers.location}async getPublishStatus(e,n=null){let t=n||await this.getAccessToken(),r=`${this.publishEndpoint}/operations/${e}`;return nn.get(r,{headers:{Authorization:`Bearer ${t}`}}).json()}async waitForUpload(e,n=null,t=5,r=3e3){let a=n||await this.getAccessToken(),u=`${this.uploadEndpoint}/operations/${e}`,c,f,l=0;for(;f!=="Succeeded"&&l<t;){let s=await nn.get(u,{headers:{Authorization:`Bearer ${a}`}}).json();if(s.status==="Failed")throw new Error(s.message||s.errorCode+":"+(s.errors||[]).join(","));s.status==="InProgress"?await f5(r):s.status==="Succeeded"&&(c=s.message),f=s.status,l++}return c}handleTempStatus=(e,n)=>{if(e!==202)throw e>=500?new Error("Edge server error, please try again later"):new Error(`${n} failed, double check your api credentials`)};getAccessToken=async()=>(await nn.post(`${this.options.accessTokenUrl}`,{body:`client_id=${this.options.clientId}&scope=${Yg}/.default&client_secret=${this.options.clientSecret}&grant_type=client_credentials`,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).json()).access_token},ku="edge",d5=Gc(ku);function p5(e){return la(this,null,function*(){var n=e,{productId:t,notes:r,zip:a,dryRun:u}=n,c=Dc(n,["productId","notes","zip","dryRun"]);let f=Hc(a),l=new h5(Uc({productId:t},c));if(d5(`Updating extension with Product ID ${t}`),u)return!0;try{return yield l.submit({filePath:a,notes:r}),Wc({extId:t,market:ku,zip:a}),!0}catch(s){throw Qc(s,ku,`"${t}" (${f.name})`)}})}function y5(e){return la(this,null,function*(){return e.zip=qu(e),e.verbose&&Fu(ku),Mu({market:ku,options:e,errorMap:dp}),p5(e)})}var kr=e=>typeof e=="function",mt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:e=>`Symbol(${e})`;function Bv(){}function Wr(e){return typeof e=="object"&&e!==null||typeof e=="function"}var Nv=Bv;function wt(e,n){try{Object.defineProperty(e,"name",{value:n,configurable:!0})}catch{}}var pp=Promise,g5=Promise.prototype.then,m5=Promise.resolve.bind(pp),v5=Promise.reject.bind(pp);function an(e){return new pp(e)}function It(e){return m5(e)}function Je(e){return v5(e)}function aa(e,n,t){return g5.call(e,n,t)}function Hr(e,n,t){aa(aa(e,n,t),void 0,Nv)}function Zg(e,n){Hr(e,n)}function Xg(e,n){Hr(e,void 0,n)}function ni(e,n,t){return aa(e,n,t)}function vo(e){aa(e,void 0,Nv)}var pc=e=>{if(typeof queueMicrotask=="function")pc=queueMicrotask;else{let n=It(void 0);pc=t=>aa(n,t)}return pc(e)};function Yc(e,n,t){if(typeof e!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,n,t)}function Rs(e,n,t){try{return It(Yc(e,n,t))}catch(r){return Je(r)}}var Hn=class{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(e){let n=this._back,t=n;n._elements.length===16383&&(t={_elements:[],_next:void 0}),n._elements.push(e),t!==n&&(this._back=t,n._next=t),++this._size}shift(){let e=this._front,n=e,t=this._cursor,r=t+1,a=e._elements,u=a[t];return r===16384&&(n=e._next,r=0),--this._size,this._cursor=r,e!==n&&(this._front=n),a[t]=void 0,u}forEach(e){let n=this._cursor,t=this._front,r=t._elements;for(;!(n===r.length&&t._next===void 0||n===r.length&&(t=t._next,r=t._elements,n=0,r.length===0));)e(r[n]),++n}peek(){let e=this._front,n=this._cursor;return e._elements[n]}},Ov=mt("[[AbortSteps]]"),Lv=mt("[[ErrorSteps]]"),yp=mt("[[CancelSteps]]"),gp=mt("[[PullSteps]]"),mp=mt("[[ReleaseSteps]]");function Pv(e,n){e._ownerReadableStream=n,n._reader=e,n._state==="readable"?Ad(e):n._state==="closed"?function(t){Ad(t),jv(t)}(e):Dv(e,n._storedError)}function xv(e,n){return y1(e._ownerReadableStream,n)}function Uv(e){let n=e._ownerReadableStream;n._state==="readable"?vp(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function(t,r){Dv(t,r)}(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),n._readableStreamController[mp](),n._reader=void 0,e._ownerReadableStream=void 0}function bo(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function Ad(e){e._closedPromise=an((n,t)=>{e._closedPromise_resolve=n,e._closedPromise_reject=t})}function Dv(e,n){Ad(e),vp(e,n)}function vp(e,n){e._closedPromise_reject!==void 0&&(vo(e._closedPromise),e._closedPromise_reject(n),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function jv(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}var Jg=Number.isFinite||function(e){return typeof e=="number"&&isFinite(e)},b5=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function sa(e,n){if(e!==void 0&&typeof(t=e)!="object"&&typeof t!="function")throw new TypeError(`${n} is not an object.`);var t}function si(e,n){if(typeof e!="function")throw new TypeError(`${n} is not a function.`)}function Vv(e,n){if(!function(t){return typeof t=="object"&&t!==null||typeof t=="function"}(e))throw new TypeError(`${n} is not an object.`)}function ua(e,n,t){if(e===void 0)throw new TypeError(`Parameter ${n} is required in '${t}'.`)}function Id(e,n,t){if(e===void 0)throw new TypeError(`${n} is required in '${t}'.`)}function bp(e){return Number(e)}function em(e){return e===0?0:e}function qv(e,n){let t=Number.MAX_SAFE_INTEGER,r=Number(e);if(r=em(r),!Jg(r))throw new TypeError(`${n} is not a finite number`);if(r=function(a){return em(b5(a))}(r),r<0||r>t)throw new TypeError(`${n} is outside the accepted range of 0 to ${t}, inclusive`);return Jg(r)&&r!==0?r:0}function Su(e){if(!Wr(e)||typeof e.getReader!="function")return!1;try{return typeof e.locked=="boolean"}catch{return!1}}function Fv(e){if(!Wr(e)||typeof e.getWriter!="function")return!1;try{return typeof e.locked=="boolean"}catch{return!1}}function Mv(e,n){if(!As(e))throw new TypeError(`${n} is not a ReadableStream.`)}function zv(e,n){e._reader._readRequests.push(n)}function _p(e,n,t){let r=e._reader._readRequests.shift();t?r._closeSteps():r._chunkSteps(n)}function Zc(e){return e._reader._readRequests.length}function $v(e){let n=e._reader;return n!==void 0&&!!Ts(n)}var bs=class{constructor(e){if(ua(e,1,"ReadableStreamDefaultReader"),Mv(e,"First parameter"),wo(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");Pv(this,e),this._readRequests=new Hn}get closed(){return Ts(this)?this._closedPromise:Je(tc("closed"))}cancel(e){return Ts(this)?this._ownerReadableStream===void 0?Je(bo("cancel")):xv(this,e):Je(tc("cancel"))}read(){if(!Ts(this))return Je(tc("read"));if(this._ownerReadableStream===void 0)return Je(bo("read from"));let e,n,t=an((r,a)=>{e=r,n=a});return function(r,a){let u=r._ownerReadableStream;u._disturbed=!0,u._state==="closed"?a._closeSteps():u._state==="errored"?a._errorSteps(u._storedError):u._readableStreamController[gp](a)}(this,{_chunkSteps:r=>e({value:r,done:!1}),_closeSteps:()=>e({value:void 0,done:!0}),_errorSteps:r=>n(r)}),t}releaseLock(){if(!Ts(this))throw tc("releaseLock");this._ownerReadableStream!==void 0&&function(e){Uv(e);let n=new TypeError("Reader was released");Kv(e,n)}(this)}};function Ts(e){return!!Wr(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readRequests")&&e instanceof bs}function Kv(e,n){let t=e._readRequests;e._readRequests=new Hn,t.forEach(r=>{r._errorSteps(n)})}function tc(e){return new TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`)}Object.defineProperties(bs.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),wt(bs.prototype.cancel,"cancel"),wt(bs.prototype.read,"read"),wt(bs.prototype.releaseLock,"releaseLock"),typeof mt.toStringTag=="symbol"&&Object.defineProperty(bs.prototype,mt.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});var Hv=class{constructor(e,n){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=e,this._preventCancel=n}next(){let e=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?ni(this._ongoingPromise,e,e):e(),this._ongoingPromise}return(e){let n=()=>this._returnSteps(e);return this._ongoingPromise?ni(this._ongoingPromise,n,n):n()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});let e=this._reader;return e===void 0?Je(bo("iterate")):aa(e.read(),n=>{var t;return this._ongoingPromise=void 0,n.done&&(this._isFinished=!0,(t=this._reader)===null||t===void 0||t.releaseLock(),this._reader=void 0),n},n=>{var t;throw this._ongoingPromise=void 0,this._isFinished=!0,(t=this._reader)===null||t===void 0||t.releaseLock(),this._reader=void 0,n})}_returnSteps(e){if(this._isFinished)return Promise.resolve({value:e,done:!0});this._isFinished=!0;let n=this._reader;if(n===void 0)return Je(bo("finish iterating"));if(this._reader=void 0,!this._preventCancel){let t=n.cancel(e);return n.releaseLock(),ni(t,()=>({value:e,done:!0}))}return n.releaseLock(),It({value:e,done:!0})}},Wv={next(){return tm(this)?this._asyncIteratorImpl.next():Je(rm("next"))},return(e){return tm(this)?this._asyncIteratorImpl.return(e):Je(rm("return"))}};function tm(e){if(!Wr(e)||!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl"))return!1;try{return e._asyncIteratorImpl instanceof Hv}catch{return!1}}function rm(e){return new TypeError(`ReadableStreamAsyncIterator.${e} can only be used on a ReadableSteamAsyncIterator`)}typeof mt.asyncIterator=="symbol"&&Object.defineProperty(Wv,mt.asyncIterator,{value(){return this},writable:!0,configurable:!0});var Gv=Number.isNaN||function(e){return e!=e};function Qv(e,n,t,r,a){new Uint8Array(e).set(new Uint8Array(t,r,a),n)}function nm(e){let n=function(t,r,a){if(t.slice)return t.slice(r,a);let u=a-r,c=new ArrayBuffer(u);return Qv(c,0,t,r,u),c}(e.buffer,e.byteOffset,e.byteOffset+e.byteLength);return new Uint8Array(n)}function Rd(e){let n=e._queue.shift();return e._queueTotalSize-=n.size,e._queueTotalSize<0&&(e._queueTotalSize=0),n.value}function wp(e,n,t){if(typeof(r=t)!="number"||Gv(r)||r<0||t===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");var r;e._queue.push({value:n,size:t}),e._queueTotalSize+=t}function Ma(e){e._queue=new Hn,e._queueTotalSize=0}var po=class{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!od(this))throw ud("view");return this._view}respond(e){if(!od(this))throw ud("respond");if(ua(e,1,"respond"),e=qv(e,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");this._view.buffer,function(n,t){let r=n._pendingPullIntos.peek();if(n._controlledReadableByteStream._state==="closed"){if(t!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(t===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(r.bytesFilled+t>r.byteLength)throw new RangeError("bytesWritten out of range")}r.buffer=r.buffer,im(n,t)}(this._associatedReadableByteStreamController,e)}respondWithNewView(e){if(!od(this))throw ud("respondWithNewView");if(ua(e,1,"respondWithNewView"),!ArrayBuffer.isView(e))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");e.buffer,function(n,t){let r=n._pendingPullIntos.peek();if(n._controlledReadableByteStream._state==="closed"){if(t.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(t.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(r.byteOffset+r.bytesFilled!==t.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(r.bufferByteLength!==t.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(r.bytesFilled+t.byteLength>r.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");let a=t.byteLength;r.buffer=t.buffer,im(n,a)}(this._associatedReadableByteStreamController,e)}};Object.defineProperties(po.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),wt(po.prototype.respond,"respond"),wt(po.prototype.respondWithNewView,"respondWithNewView"),typeof mt.toStringTag=="symbol"&&Object.defineProperty(po.prototype,mt.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});var _s=class{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!co(this))throw gu("byobRequest");return function(e){if(e._byobRequest===null&&e._pendingPullIntos.length>0){let n=e._pendingPullIntos.peek(),t=new Uint8Array(n.buffer,n.byteOffset+n.bytesFilled,n.byteLength-n.bytesFilled),r=Object.create(po.prototype);(function(a,u,c){a._associatedReadableByteStreamController=u,a._view=c})(r,e,t),e._byobRequest=r}return e._byobRequest}(this)}get desiredSize(){if(!co(this))throw gu("desiredSize");return n1(this)}close(){if(!co(this))throw gu("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");let e=this._controlledReadableByteStream._state;if(e!=="readable")throw new TypeError(`The stream (in ${e} state) is not in the readable state and cannot be closed`);(function(n){let t=n._controlledReadableByteStream;if(!(n._closeRequested||t._state!=="readable")){if(n._queueTotalSize>0)return void(n._closeRequested=!0);if(n._pendingPullIntos.length>0&&n._pendingPullIntos.peek().bytesFilled>0){let r=new TypeError("Insufficient bytes to fill elements in the given buffer");throw _o(n,r),r}Tc(n),Nu(t)}})(this)}enqueue(e){if(!co(this))throw gu("enqueue");if(ua(e,1,"enqueue"),!ArrayBuffer.isView(e))throw new TypeError("chunk must be an array buffer view");if(e.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(e.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");let n=this._controlledReadableByteStream._state;if(n!=="readable")throw new TypeError(`The stream (in ${n} state) is not in the readable state and cannot be enqueued to`);(function(t,r){let a=t._controlledReadableByteStream;if(t._closeRequested||a._state!=="readable")return;let u=r.buffer,c=r.byteOffset,f=r.byteLength,l=u;if(t._pendingPullIntos.length>0){let s=t._pendingPullIntos.peek();s.buffer,Sp(t),s.buffer=s.buffer,s.readerType==="none"&&Jv(t,s)}$v(a)?(function(s){let d=s._controlledReadableByteStream._reader;for(;d._readRequests.length>0;){if(s._queueTotalSize===0)return;am(s,d._readRequests.shift())}}(t),Zc(a)===0?yc(t,l,c,f):(t._pendingPullIntos.length>0&&go(t),_p(a,new Uint8Array(l,c,f),!1))):Ep(a)?(yc(t,l,c,f),Bd(t)):yc(t,l,c,f),Is(t)})(this,e)}error(e){if(!co(this))throw gu("error");_o(this,e)}[yp](e){Yv(this),Ma(this);let n=this._cancelAlgorithm(e);return Tc(this),n}[gp](e){let n=this._controlledReadableByteStream;if(this._queueTotalSize>0)return void am(this,e);let t=this._autoAllocateChunkSize;if(t!==void 0){let r;try{r=new ArrayBuffer(t)}catch(u){return void e._errorSteps(u)}let a={buffer:r,bufferByteLength:t,byteOffset:0,byteLength:t,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(a)}zv(n,e),Is(this)}[mp](){if(this._pendingPullIntos.length>0){let e=this._pendingPullIntos.peek();e.readerType="none",this._pendingPullIntos=new Hn,this._pendingPullIntos.push(e)}}};function co(e){return!!Wr(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")&&e instanceof _s}function od(e){return!!Wr(e)&&!!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")&&e instanceof po}function Is(e){if(function(n){let t=n._controlledReadableByteStream;return t._state!=="readable"||n._closeRequested||!n._started?!1:!!($v(t)&&Zc(t)>0||Ep(t)&&i1(t)>0||n1(n)>0)}(e)){if(e._pulling)return void(e._pullAgain=!0);e._pulling=!0,Hr(e._pullAlgorithm(),()=>(e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,Is(e)),null),n=>(_o(e,n),null))}}function Yv(e){Sp(e),e._pendingPullIntos=new Hn}function kd(e,n){let t=!1;e._state==="closed"&&(t=!0);let r=Zv(n);n.readerType==="default"?_p(e,r,t):function(a,u,c){let f=a._reader._readIntoRequests.shift();c?f._closeSteps(u):f._chunkSteps(u)}(e,r,t)}function Zv(e){let n=e.bytesFilled,t=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,n/t)}function yc(e,n,t,r){e._queue.push({buffer:n,byteOffset:t,byteLength:r}),e._queueTotalSize+=r}function Xv(e,n,t,r){let a;try{a=n.slice(t,t+r)}catch(u){throw _o(e,u),u}yc(e,a,0,r)}function Jv(e,n){n.bytesFilled>0&&Xv(e,n.buffer,n.byteOffset,n.bytesFilled),go(e)}function e1(e,n){let t=n.elementSize,r=n.bytesFilled-n.bytesFilled%t,a=Math.min(e._queueTotalSize,n.byteLength-n.bytesFilled),u=n.bytesFilled+a,c=u-u%t,f=a,l=!1;c>r&&(f=c-n.bytesFilled,l=!0);let s=e._queue;for(;f>0;){let d=s.peek(),h=Math.min(f,d.byteLength),g=n.byteOffset+n.bytesFilled;Qv(n.buffer,g,d.buffer,d.byteOffset,h),d.byteLength===h?s.shift():(d.byteOffset+=h,d.byteLength-=h),e._queueTotalSize-=h,t1(e,h,n),f-=h}return l}function t1(e,n,t){t.bytesFilled+=n}function r1(e){e._queueTotalSize===0&&e._closeRequested?(Tc(e),Nu(e._controlledReadableByteStream)):Is(e)}function Sp(e){e._byobRequest!==null&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function Bd(e){for(;e._pendingPullIntos.length>0;){if(e._queueTotalSize===0)return;let n=e._pendingPullIntos.peek();e1(e,n)&&(go(e),kd(e._controlledReadableByteStream,n))}}function im(e,n){let t=e._pendingPullIntos.peek();Sp(e),e._controlledReadableByteStream._state==="closed"?function(r,a){a.readerType==="none"&&go(r);let u=r._controlledReadableByteStream;if(Ep(u))for(;i1(u)>0;)kd(u,go(r))}(e,t):function(r,a,u){if(t1(0,a,u),u.readerType==="none")return Jv(r,u),void Bd(r);if(u.bytesFilled<u.elementSize)return;go(r);let c=u.bytesFilled%u.elementSize;if(c>0){let f=u.byteOffset+u.bytesFilled;Xv(r,u.buffer,f-c,c)}u.bytesFilled-=c,kd(r._controlledReadableByteStream,u),Bd(r)}(e,n,t),Is(e)}function go(e){return e._pendingPullIntos.shift()}function Tc(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function _o(e,n){let t=e._controlledReadableByteStream;t._state==="readable"&&(Yv(e),Ma(e),Tc(e),g1(t,n))}function am(e,n){let t=e._queue.shift();e._queueTotalSize-=t.byteLength,r1(e);let r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);n._chunkSteps(r)}function n1(e){let n=e._controlledReadableByteStream._state;return n==="errored"?null:n==="closed"?0:e._strategyHWM-e._queueTotalSize}function _5(e,n,t){let r=Object.create(_s.prototype),a,u,c;a=n.start!==void 0?()=>n.start(r):()=>{},u=n.pull!==void 0?()=>n.pull(r):()=>It(void 0),c=n.cancel!==void 0?l=>n.cancel(l):()=>It(void 0);let f=n.autoAllocateChunkSize;if(f===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");(function(l,s,d,h,g,I,C){s._controlledReadableByteStream=l,s._pullAgain=!1,s._pulling=!1,s._byobRequest=null,s._queue=s._queueTotalSize=void 0,Ma(s),s._closeRequested=!1,s._started=!1,s._strategyHWM=I,s._pullAlgorithm=h,s._cancelAlgorithm=g,s._autoAllocateChunkSize=C,s._pendingPullIntos=new Hn,l._readableStreamController=s,Hr(It(d()),()=>(s._started=!0,Is(s),null),_=>(_o(s,_),null))})(e,r,a,u,c,t,f)}function ud(e){return new TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`)}function gu(e){return new TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`)}function sm(e,n){e._reader._readIntoRequests.push(n)}function i1(e){return e._reader._readIntoRequests.length}function Ep(e){let n=e._reader;return n!==void 0&&!!yo(n)}Object.defineProperties(_s.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),wt(_s.prototype.close,"close"),wt(_s.prototype.enqueue,"enqueue"),wt(_s.prototype.error,"error"),typeof mt.toStringTag=="symbol"&&Object.defineProperty(_s.prototype,mt.toStringTag,{value:"ReadableByteStreamController",configurable:!0});var ws=class{constructor(e){if(ua(e,1,"ReadableStreamBYOBReader"),Mv(e,"First parameter"),wo(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!co(e._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");Pv(this,e),this._readIntoRequests=new Hn}get closed(){return yo(this)?this._closedPromise:Je(rc("closed"))}cancel(e){return yo(this)?this._ownerReadableStream===void 0?Je(bo("cancel")):xv(this,e):Je(rc("cancel"))}read(e){if(!yo(this))return Je(rc("read"));if(!ArrayBuffer.isView(e))return Je(new TypeError("view must be an array buffer view"));if(e.byteLength===0)return Je(new TypeError("view must have non-zero byteLength"));if(e.buffer.byteLength===0)return Je(new TypeError("view's buffer must have non-zero byteLength"));if(e.buffer,this._ownerReadableStream===void 0)return Je(bo("read from"));let n,t,r=an((a,u)=>{n=a,t=u});return function(a,u,c){let f=a._ownerReadableStream;f._disturbed=!0,f._state==="errored"?c._errorSteps(f._storedError):function(l,s,d){let h=l._controlledReadableByteStream,g=1;s.constructor!==DataView&&(g=s.constructor.BYTES_PER_ELEMENT);let I=s.constructor,C=s.buffer,_={buffer:C,bufferByteLength:C.byteLength,byteOffset:s.byteOffset,byteLength:s.byteLength,bytesFilled:0,elementSize:g,viewConstructor:I,readerType:"byob"};if(l._pendingPullIntos.length>0)return l._pendingPullIntos.push(_),void sm(h,d);if(h._state!=="closed"){if(l._queueTotalSize>0){if(e1(l,_)){let T=Zv(_);return r1(l),void d._chunkSteps(T)}if(l._closeRequested){let T=new TypeError("Insufficient bytes to fill elements in the given buffer");return _o(l,T),void d._errorSteps(T)}}l._pendingPullIntos.push(_),sm(h,d),Is(l)}else{let T=new I(_.buffer,_.byteOffset,0);d._closeSteps(T)}}(f._readableStreamController,u,c)}(this,e,{_chunkSteps:a=>n({value:a,done:!1}),_closeSteps:a=>n({value:a,done:!0}),_errorSteps:a=>t(a)}),r}releaseLock(){if(!yo(this))throw rc("releaseLock");this._ownerReadableStream!==void 0&&function(e){Uv(e);let n=new TypeError("Reader was released");a1(e,n)}(this)}};function yo(e){return!!Wr(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")&&e instanceof ws}function a1(e,n){let t=e._readIntoRequests;e._readIntoRequests=new Hn,t.forEach(r=>{r._errorSteps(n)})}function rc(e){return new TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`)}function Bu(e,n){let{highWaterMark:t}=e;if(t===void 0)return n;if(Gv(t)||t<0)throw new RangeError("Invalid highWaterMark");return t}function Ac(e){let{size:n}=e;return n||(()=>1)}function Ic(e,n){sa(e,n);let t=e?.highWaterMark,r=e?.size;return{highWaterMark:t===void 0?void 0:bp(t),size:r===void 0?void 0:w5(r,`${n} has member 'size' that`)}}function w5(e,n){return si(e,n),t=>bp(e(t))}function S5(e,n,t){return si(e,t),r=>Rs(e,n,[r])}function E5(e,n,t){return si(e,t),()=>Rs(e,n,[])}function C5(e,n,t){return si(e,t),r=>Yc(e,n,[r])}function T5(e,n,t){return si(e,t),(r,a)=>Rs(e,n,[r,a])}Object.defineProperties(ws.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),wt(ws.prototype.cancel,"cancel"),wt(ws.prototype.read,"read"),wt(ws.prototype.releaseLock,"releaseLock"),typeof mt.toStringTag=="symbol"&&Object.defineProperty(ws.prototype,mt.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});var A5=typeof AbortController=="function",Ss=class{constructor(e={},n={}){e===void 0?e=null:Vv(e,"First parameter");let t=Ic(n,"Second parameter"),r=function(c,f){sa(c,f);let l=c?.abort,s=c?.close,d=c?.start,h=c?.type,g=c?.write;return{abort:l===void 0?void 0:S5(l,c,`${f} has member 'abort' that`),close:s===void 0?void 0:E5(s,c,`${f} has member 'close' that`),start:d===void 0?void 0:C5(d,c,`${f} has member 'start' that`),write:g===void 0?void 0:T5(g,c,`${f} has member 'write' that`),type:h}}(e,"First parameter");var a;if((a=this)._state="writable",a._storedError=void 0,a._writer=void 0,a._writableStreamController=void 0,a._writeRequests=new Hn,a._inFlightWriteRequest=void 0,a._closeRequest=void 0,a._inFlightCloseRequest=void 0,a._pendingAbortRequest=void 0,a._backpressure=!1,r.type!==void 0)throw new RangeError("Invalid type is specified");let u=Ac(t);(function(c,f,l,s){let d=Object.create(Rc.prototype),h,g,I,C;h=f.start!==void 0?()=>f.start(d):()=>{},g=f.write!==void 0?_=>f.write(_,d):()=>It(void 0),I=f.close!==void 0?()=>f.close():()=>It(void 0),C=f.abort!==void 0?_=>f.abort(_):()=>It(void 0),function(_,T,N,B,p,A,S,O){T._controlledWritableStream=_,_._writableStreamController=T,T._queue=void 0,T._queueTotalSize=void 0,Ma(T),T._abortReason=void 0,T._abortController=function(){if(A5)return new AbortController}(),T._started=!1,T._strategySizeAlgorithm=O,T._strategyHWM=S,T._writeAlgorithm=B,T._closeAlgorithm=p,T._abortAlgorithm=A;let D=Ip(T);Ap(_,D);let E=N();Hr(It(E),()=>(T._started=!0,Xc(T),null),m=>(T._started=!0,Nd(_,m),null))}(c,d,h,g,I,C,l,s)})(this,r,Bu(t,1),u)}get locked(){if(!Ti(this))throw ic("locked");return gc(this)}abort(e){return Ti(this)?gc(this)?Je(new TypeError("Cannot abort a stream that already has a writer")):s1(this,e):Je(ic("abort"))}close(){return Ti(this)?gc(this)?Je(new TypeError("Cannot close a stream that already has a writer")):Va(this)?Je(new TypeError("Cannot close an already-closing stream")):o1(this):Je(ic("close"))}getWriter(){if(!Ti(this))throw ic("getWriter");return new ja(this)}};function Ti(e){return!!Wr(e)&&!!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")&&e instanceof Ss}function gc(e){return e._writer!==void 0}function s1(e,n){var t;if(e._state==="closed"||e._state==="errored")return It(void 0);e._writableStreamController._abortReason=n,(t=e._writableStreamController._abortController)===null||t===void 0||t.abort(n);let r=e._state;if(r==="closed"||r==="errored")return It(void 0);if(e._pendingAbortRequest!==void 0)return e._pendingAbortRequest._promise;let a=!1;r==="erroring"&&(a=!0,n=void 0);let u=an((c,f)=>{e._pendingAbortRequest={_promise:void 0,_resolve:c,_reject:f,_reason:n,_wasAlreadyErroring:a}});return e._pendingAbortRequest._promise=u,a||Cp(e,n),u}function o1(e){let n=e._state;if(n==="closed"||n==="errored")return Je(new TypeError(`The stream (in ${n} state) is not in the writable state and cannot be closed`));let t=an((u,c)=>{let f={_resolve:u,_reject:c};e._closeRequest=f}),r=e._writer;var a;return r!==void 0&&e._backpressure&&n==="writable"&&kp(r),wp(a=e._writableStreamController,l1,0),Xc(a),t}function Nd(e,n){e._state!=="writable"?Tp(e):Cp(e,n)}function Cp(e,n){let t=e._writableStreamController;e._state="erroring",e._storedError=n;let r=e._writer;r!==void 0&&u1(r,n),!function(a){return!(a._inFlightWriteRequest===void 0&&a._inFlightCloseRequest===void 0)}(e)&&t._started&&Tp(e)}function Tp(e){e._state="errored",e._writableStreamController[Lv]();let n=e._storedError;if(e._writeRequests.forEach(r=>{r._reject(n)}),e._writeRequests=new Hn,e._pendingAbortRequest===void 0)return void nc(e);let t=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,t._wasAlreadyErroring)return t._reject(n),void nc(e);Hr(e._writableStreamController[Ov](t._reason),()=>(t._resolve(),nc(e),null),r=>(t._reject(r),nc(e),null))}function Va(e){return e._closeRequest!==void 0||e._inFlightCloseRequest!==void 0}function nc(e){e._closeRequest!==void 0&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);let n=e._writer;n!==void 0&&Rp(n,e._storedError)}function Ap(e,n){let t=e._writer;t!==void 0&&n!==e._backpressure&&(n?function(r){Jc(r)}(t):kp(t)),e._backpressure=n}Object.defineProperties(Ss.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),wt(Ss.prototype.abort,"abort"),wt(Ss.prototype.close,"close"),wt(Ss.prototype.getWriter,"getWriter"),typeof mt.toStringTag=="symbol"&&Object.defineProperty(Ss.prototype,mt.toStringTag,{value:"WritableStream",configurable:!0});var ja=class{constructor(e){if(ua(e,1,"WritableStreamDefaultWriter"),function(r,a){if(!Ti(r))throw new TypeError(`${a} is not a WritableStream.`)}(e,"First parameter"),gc(e))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=e,e._writer=this;let n=e._state;if(n==="writable")!Va(e)&&e._backpressure?Jc(this):lm(this),mc(this);else if(n==="erroring")Od(this,e._storedError),mc(this);else if(n==="closed")lm(this),mc(t=this),h1(t);else{let r=e._storedError;Od(this,r),um(this,r)}var t}get closed(){return hs(this)?this._closedPromise:Je(ds("closed"))}get desiredSize(){if(!hs(this))throw ds("desiredSize");if(this._ownerWritableStream===void 0)throw mu("desiredSize");return function(e){let n=e._ownerWritableStream,t=n._state;return t==="errored"||t==="erroring"?null:t==="closed"?0:c1(n._writableStreamController)}(this)}get ready(){return hs(this)?this._readyPromise:Je(ds("ready"))}abort(e){return hs(this)?this._ownerWritableStream===void 0?Je(mu("abort")):function(n,t){return s1(n._ownerWritableStream,t)}(this,e):Je(ds("abort"))}close(){if(!hs(this))return Je(ds("close"));let e=this._ownerWritableStream;return e===void 0?Je(mu("close")):Va(e)?Je(new TypeError("Cannot close an already-closing stream")):o1(this._ownerWritableStream)}releaseLock(){if(!hs(this))throw ds("releaseLock");this._ownerWritableStream!==void 0&&function(e){let n=e._ownerWritableStream,t=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");u1(e,t),function(r,a){r._closedPromiseState==="pending"?Rp(r,a):function(u,c){um(u,c)}(r,a)}(e,t),n._writer=void 0,e._ownerWritableStream=void 0}(this)}write(e){return hs(this)?this._ownerWritableStream===void 0?Je(mu("write to")):function(n,t){let r=n._ownerWritableStream,a=r._writableStreamController,u=function(l,s){try{return l._strategySizeAlgorithm(s)}catch(d){return om(l,d),1}}(a,t);if(r!==n._ownerWritableStream)return Je(mu("write to"));let c=r._state;if(c==="errored")return Je(r._storedError);if(Va(r)||c==="closed")return Je(new TypeError("The stream is closing or closed and cannot be written to"));if(c==="erroring")return Je(r._storedError);let f=function(l){return an((s,d)=>{let h={_resolve:s,_reject:d};l._writeRequests.push(h)})}(r);return function(l,s,d){try{wp(l,s,d)}catch(g){return void om(l,g)}let h=l._controlledWritableStream;!Va(h)&&h._state==="writable"&&Ap(h,Ip(l)),Xc(l)}(a,t,u),f}(this,e):Je(ds("write"))}};function hs(e){return!!Wr(e)&&!!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")&&e instanceof ja}function u1(e,n){e._readyPromiseState==="pending"?d1(e,n):function(t,r){Od(t,r)}(e,n)}Object.defineProperties(ja.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),wt(ja.prototype.abort,"abort"),wt(ja.prototype.close,"close"),wt(ja.prototype.releaseLock,"releaseLock"),wt(ja.prototype.write,"write"),typeof mt.toStringTag=="symbol"&&Object.defineProperty(ja.prototype,mt.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});var l1={},Rc=class{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!ld(this))throw cd("abortReason");return this._abortReason}get signal(){if(!ld(this))throw cd("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(e){if(!ld(this))throw cd("error");this._controlledWritableStream._state==="writable"&&f1(this,e)}[Ov](e){let n=this._abortAlgorithm(e);return kc(this),n}[Lv](){Ma(this)}};function ld(e){return!!Wr(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")&&e instanceof Rc}function kc(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function c1(e){return e._strategyHWM-e._queueTotalSize}function Xc(e){let n=e._controlledWritableStream;if(!e._started||n._inFlightWriteRequest!==void 0)return;if(n._state==="erroring")return void Tp(n);if(e._queue.length===0)return;let t=e._queue.peek().value;t===l1?function(r){let a=r._controlledWritableStream;(function(c){c._inFlightCloseRequest=c._closeRequest,c._closeRequest=void 0})(a),Rd(r);let u=r._closeAlgorithm();kc(r),Hr(u,()=>(function(c){c._inFlightCloseRequest._resolve(void 0),c._inFlightCloseRequest=void 0,c._state==="erroring"&&(c._storedError=void 0,c._pendingAbortRequest!==void 0&&(c._pendingAbortRequest._resolve(),c._pendingAbortRequest=void 0)),c._state="closed";let f=c._writer;f!==void 0&&h1(f)}(a),null),c=>(function(f,l){f._inFlightCloseRequest._reject(l),f._inFlightCloseRequest=void 0,f._pendingAbortRequest!==void 0&&(f._pendingAbortRequest._reject(l),f._pendingAbortRequest=void 0),Nd(f,l)}(a,c),null))}(e):function(r,a){let u=r._controlledWritableStream;(function(c){c._inFlightWriteRequest=c._writeRequests.shift()})(u),Hr(r._writeAlgorithm(a),()=>{(function(f){f._inFlightWriteRequest._resolve(void 0),f._inFlightWriteRequest=void 0})(u);let c=u._state;if(Rd(r),!Va(u)&&c==="writable"){let f=Ip(r);Ap(u,f)}return Xc(r),null},c=>(u._state==="writable"&&kc(r),function(f,l){f._inFlightWriteRequest._reject(l),f._inFlightWriteRequest=void 0,Nd(f,l)}(u,c),null))}(e,t)}function om(e,n){e._controlledWritableStream._state==="writable"&&f1(e,n)}function Ip(e){return c1(e)<=0}function f1(e,n){let t=e._controlledWritableStream;kc(e),Cp(t,n)}function ic(e){return new TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`)}function cd(e){return new TypeError(`WritableStreamDefaultController.prototype.${e} can only be used on a WritableStreamDefaultController`)}function ds(e){return new TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`)}function mu(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function mc(e){e._closedPromise=an((n,t)=>{e._closedPromise_resolve=n,e._closedPromise_reject=t,e._closedPromiseState="pending"})}function um(e,n){mc(e),Rp(e,n)}function Rp(e,n){e._closedPromise_reject!==void 0&&(vo(e._closedPromise),e._closedPromise_reject(n),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function h1(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function Jc(e){e._readyPromise=an((n,t)=>{e._readyPromise_resolve=n,e._readyPromise_reject=t}),e._readyPromiseState="pending"}function Od(e,n){Jc(e),d1(e,n)}function lm(e){Jc(e),kp(e)}function d1(e,n){e._readyPromise_reject!==void 0&&(vo(e._readyPromise),e._readyPromise_reject(n),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function kp(e){e._readyPromise_resolve!==void 0&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}Object.defineProperties(Rc.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof mt.toStringTag=="symbol"&&Object.defineProperty(Rc.prototype,mt.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});var cm=typeof DOMException<"u"?DOMException:void 0,I5=function(e){if(typeof e!="function"&&typeof e!="object")return!1;try{return new e,!0}catch{return!1}}(cm)?cm:function(){let e=function(n,t){this.message=n||"",this.name=t||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}();function fm(e,n,t,r,a,u){let c=e.getReader(),f=n.getWriter();As(e)&&(e._disturbed=!0);let l,s,d,h=!1,g=!1,I="readable",C="writable",_=!1,T=!1,N=an(p=>{d=p}),B=Promise.resolve(void 0);return an((p,A)=>{let S;function O(){if(h)return;let V=an((w,x)=>{(function j(L){L?w():aa(function(){return h?It(!0):aa(f.ready,()=>aa(c.read(),F=>!!F.done||(B=f.write(F.value),vo(B),!1)))}(),j,x)})(!1)});vo(V)}function D(){return I="closed",t?q():y(()=>(Ti(n)&&(_=Va(n),C=n._state),_||C==="closed"?It(void 0):C==="erroring"||C==="errored"?Je(s):(_=!0,f.close())),!1,void 0),null}function E(V){return h||(I="errored",l=V,r?q(!0,V):y(()=>f.abort(V),!0,V)),null}function m(V){return g||(C="errored",s=V,a?q(!0,V):y(()=>c.cancel(V),!0,V)),null}if(u!==void 0&&(S=()=>{let V=u.reason!==void 0?u.reason:new I5("Aborted","AbortError"),w=[];r||w.push(()=>C==="writable"?f.abort(V):It(void 0)),a||w.push(()=>I==="readable"?c.cancel(V):It(void 0)),y(()=>Promise.all(w.map(x=>x())),!0,V)},u.aborted?S():u.addEventListener("abort",S)),As(e)&&(I=e._state,l=e._storedError),Ti(n)&&(C=n._state,s=n._storedError,_=Va(n)),As(e)&&Ti(n)&&(T=!0,d()),I==="errored")E(l);else if(C==="erroring"||C==="errored")m(s);else if(I==="closed")D();else if(_||C==="closed"){let V=new TypeError("the destination writable stream closed before all data could be piped to it");a?q(!0,V):y(()=>c.cancel(V),!0,V)}function y(V,w,x){function j(){return C!=="writable"||_?L():Zg(function(){let F;return It(function J(){if(F!==B)return F=B,ni(B,J,J)}())}(),L),null}function L(){return V?Hr(V(),()=>M(w,x),F=>M(!0,F)):M(w,x),null}h||(h=!0,T?j():Zg(N,j))}function q(V,w){y(void 0,V,w)}function M(V,w){return g=!0,f.releaseLock(),c.releaseLock(),u!==void 0&&u.removeEventListener("abort",S),V?A(w):p(void 0),null}h||(Hr(c.closed,D,E),Hr(f.closed,function(){return g||(C="closed"),null},m)),T?O():pc(()=>{T=!0,d(),O()})})}function R5(e,n){return function(t){try{return t.getReader({mode:"byob"}).releaseLock(),!0}catch{return!1}}(e)?function(t){let r,a,u,c,f,l=t.getReader(),s=!1,d=!1,h=!1,g=!1,I=!1,C=!1,_=an(m=>{f=m});function T(m){Xg(m.closed,y=>(m!==l||(u.error(y),c.error(y),I&&C||f(void 0)),null))}function N(){s&&(l.releaseLock(),l=t.getReader(),T(l),s=!1),Hr(l.read(),m=>{var y,q;if(h=!1,g=!1,m.done)return I||u.close(),C||c.close(),(y=u.byobRequest)===null||y===void 0||y.respond(0),(q=c.byobRequest)===null||q===void 0||q.respond(0),I&&C||f(void 0),null;let M=m.value,V=M,w=M;if(!I&&!C)try{w=nm(M)}catch(x){return u.error(x),c.error(x),f(l.cancel(x)),null}return I||u.enqueue(V),C||c.enqueue(w),d=!1,h?p():g&&A(),null},()=>(d=!1,null))}function B(m,y){s||(l.releaseLock(),l=t.getReader({mode:"byob"}),T(l),s=!0);let q=y?c:u,M=y?u:c;Hr(l.read(m),V=>{var w;h=!1,g=!1;let x=y?C:I,j=y?I:C;if(V.done){x||q.close(),j||M.close();let F=V.value;return F!==void 0&&(x||q.byobRequest.respondWithNewView(F),j||(w=M.byobRequest)===null||w===void 0||w.respond(0)),x&&j||f(void 0),null}let L=V.value;if(j)x||q.byobRequest.respondWithNewView(L);else{let F;try{F=nm(L)}catch(J){return q.error(J),M.error(J),f(l.cancel(J)),null}x||q.byobRequest.respondWithNewView(L),M.enqueue(F)}return d=!1,h?p():g&&A(),null},()=>(d=!1,null))}function p(){if(d)return h=!0,It(void 0);d=!0;let m=u.byobRequest;return m===null?N():B(m.view,!1),It(void 0)}function A(){if(d)return g=!0,It(void 0);d=!0;let m=c.byobRequest;return m===null?N():B(m.view,!0),It(void 0)}function S(m){if(I=!0,r=m,C){let y=[r,a],q=l.cancel(y);f(q)}return _}function O(m){if(C=!0,a=m,I){let y=[r,a],q=l.cancel(y);f(q)}return _}let D=new Dr({type:"bytes",start(m){u=m},pull:p,cancel:S}),E=new Dr({type:"bytes",start(m){c=m},pull:A,cancel:O});return T(l),[D,E]}(e):function(t,r){let a=t.getReader(),u,c,f,l,s,d=!1,h=!1,g=!1,I=!1,C=an(A=>{s=A});function _(){return d?(h=!0,It(void 0)):(d=!0,Hr(a.read(),A=>{if(h=!1,A.done)return g||f.close(),I||l.close(),g&&I||s(void 0),null;let S=A.value,O=S,D=S;return g||f.enqueue(O),I||l.enqueue(D),d=!1,h&&_(),null},()=>(d=!1,null)),It(void 0))}function T(A){if(g=!0,u=A,I){let S=[u,c],O=a.cancel(S);s(O)}return C}function N(A){if(I=!0,c=A,g){let S=[u,c],O=a.cancel(S);s(O)}return C}let B=new Dr({start(A){f=A},pull:_,cancel:T}),p=new Dr({start(A){l=A},pull:_,cancel:N});return Xg(a.closed,A=>(f.error(A),l.error(A),g&&I||s(void 0),null)),[B,p]}(e)}var Es=class{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!ac(this))throw sc("desiredSize");return p1(this)}close(){if(!ac(this))throw sc("close");if(!Eu(this))throw new TypeError("The stream is not in a state that permits close");(function(e){if(!Eu(e))return;let n=e._controlledReadableStream;e._closeRequested=!0,e._queue.length===0&&(vc(e),Nu(n))})(this)}enqueue(e){if(!ac(this))throw sc("enqueue");if(!Eu(this))throw new TypeError("The stream is not in a state that permits enqueue");return function(n,t){if(!Eu(n))return;let r=n._controlledReadableStream;if(wo(r)&&Zc(r)>0)_p(r,t,!1);else{let a;try{a=n._strategySizeAlgorithm(t)}catch(u){throw Iu(n,u),u}try{wp(n,t,a)}catch(u){throw Iu(n,u),u}}Au(n)}(this,e)}error(e){if(!ac(this))throw sc("error");Iu(this,e)}[yp](e){Ma(this);let n=this._cancelAlgorithm(e);return vc(this),n}[gp](e){let n=this._controlledReadableStream;if(this._queue.length>0){let t=Rd(this);this._closeRequested&&this._queue.length===0?(vc(this),Nu(n)):Au(this),e._chunkSteps(t)}else zv(n,e),Au(this)}[mp](){}};function ac(e){return!!Wr(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")&&e instanceof Es}function Au(e){if(function(n){let t=n._controlledReadableStream;return!Eu(n)||!n._started?!1:!!(wo(t)&&Zc(t)>0||p1(n)>0)}(e)){if(e._pulling)return void(e._pullAgain=!0);e._pulling=!0,Hr(e._pullAlgorithm(),()=>(e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,Au(e)),null),n=>(Iu(e,n),null))}}function vc(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Iu(e,n){let t=e._controlledReadableStream;t._state==="readable"&&(Ma(e),vc(e),g1(t,n))}function p1(e){let n=e._controlledReadableStream._state;return n==="errored"?null:n==="closed"?0:e._strategyHWM-e._queueTotalSize}function Eu(e){return!e._closeRequested&&e._controlledReadableStream._state==="readable"}function k5(e,n,t,r){let a=Object.create(Es.prototype),u,c,f;u=n.start!==void 0?()=>n.start(a):()=>{},c=n.pull!==void 0?()=>n.pull(a):()=>It(void 0),f=n.cancel!==void 0?l=>n.cancel(l):()=>It(void 0),function(l,s,d,h,g,I,C){s._controlledReadableStream=l,s._queue=void 0,s._queueTotalSize=void 0,Ma(s),s._started=!1,s._closeRequested=!1,s._pullAgain=!1,s._pulling=!1,s._strategySizeAlgorithm=C,s._strategyHWM=I,s._pullAlgorithm=h,s._cancelAlgorithm=g,l._readableStreamController=s,Hr(It(d()),()=>(s._started=!0,Au(s),null),_=>(Iu(s,_),null))}(e,a,u,c,f,t,r)}function sc(e){return new TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`)}function B5(e,n,t){return si(e,t),r=>Rs(e,n,[r])}function N5(e,n,t){return si(e,t),r=>Rs(e,n,[r])}function O5(e,n,t){return si(e,t),r=>Yc(e,n,[r])}function L5(e,n){if((e=`${e}`)!="bytes")throw new TypeError(`${n} '${e}' is not a valid enumeration value for ReadableStreamType`);return e}function P5(e,n){if((e=`${e}`)!="byob")throw new TypeError(`${n} '${e}' is not a valid enumeration value for ReadableStreamReaderMode`);return e}function hm(e,n){sa(e,n);let t=e?.preventAbort,r=e?.preventCancel,a=e?.preventClose,u=e?.signal;return u!==void 0&&function(c,f){if(!function(l){if(typeof l!="object"||l===null)return!1;try{return typeof l.aborted=="boolean"}catch{return!1}}(c))throw new TypeError(`${f} is not an AbortSignal.`)}(u,`${n} has member 'signal' that`),{preventAbort:!!t,preventCancel:!!r,preventClose:!!a,signal:u}}function x5(e,n){sa(e,n);let t=e?.readable;Id(t,"readable","ReadableWritablePair"),function(a,u){if(!Su(a))throw new TypeError(`${u} is not a ReadableStream.`)}(t,`${n} has member 'readable' that`);let r=e?.writable;return Id(r,"writable","ReadableWritablePair"),function(a,u){if(!Fv(a))throw new TypeError(`${u} is not a WritableStream.`)}(r,`${n} has member 'writable' that`),{readable:t,writable:r}}Object.defineProperties(Es.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),wt(Es.prototype.close,"close"),wt(Es.prototype.enqueue,"enqueue"),wt(Es.prototype.error,"error"),typeof mt.toStringTag=="symbol"&&Object.defineProperty(Es.prototype,mt.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});var Dr=class{constructor(e={},n={}){e===void 0?e=null:Vv(e,"First parameter");let t=Ic(n,"Second parameter"),r=function(u,c){sa(u,c);let f=u,l=f?.autoAllocateChunkSize,s=f?.cancel,d=f?.pull,h=f?.start,g=f?.type;return{autoAllocateChunkSize:l===void 0?void 0:qv(l,`${c} has member 'autoAllocateChunkSize' that`),cancel:s===void 0?void 0:B5(s,f,`${c} has member 'cancel' that`),pull:d===void 0?void 0:N5(d,f,`${c} has member 'pull' that`),start:h===void 0?void 0:O5(h,f,`${c} has member 'start' that`),type:g===void 0?void 0:L5(g,`${c} has member 'type' that`)}}(e,"First parameter");var a;if((a=this)._state="readable",a._reader=void 0,a._storedError=void 0,a._disturbed=!1,r.type==="bytes"){if(t.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");_5(this,r,Bu(t,0))}else{let u=Ac(t);k5(this,r,Bu(t,1),u)}}get locked(){if(!As(this))throw ps("locked");return wo(this)}cancel(e){return As(this)?wo(this)?Je(new TypeError("Cannot cancel a stream that already has a reader")):y1(this,e):Je(ps("cancel"))}getReader(e){if(!As(this))throw ps("getReader");return function(n,t){sa(n,t);let r=n?.mode;return{mode:r===void 0?void 0:P5(r,`${t} has member 'mode' that`)}}(e,"First parameter").mode===void 0?new bs(this):function(n){return new ws(n)}(this)}pipeThrough(e,n={}){if(!Su(this))throw ps("pipeThrough");ua(e,1,"pipeThrough");let t=x5(e,"First parameter"),r=hm(n,"Second parameter");if(this.locked)throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(t.writable.locked)throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return vo(fm(this,t.writable,r.preventClose,r.preventAbort,r.preventCancel,r.signal)),t.readable}pipeTo(e,n={}){if(!Su(this))return Je(ps("pipeTo"));if(e===void 0)return Je("Parameter 1 is required in 'pipeTo'.");if(!Fv(e))return Je(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let t;try{t=hm(n,"Second parameter")}catch(r){return Je(r)}return this.locked?Je(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):e.locked?Je(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):fm(this,e,t.preventClose,t.preventAbort,t.preventCancel,t.signal)}tee(){if(!Su(this))throw ps("tee");if(this.locked)throw new TypeError("Cannot tee a stream that already has a reader");return R5(this)}values(e){if(!Su(this))throw ps("values");return function(n,t){let r=n.getReader(),a=new Hv(r,t),u=Object.create(Wv);return u._asyncIteratorImpl=a,u}(this,function(n,t){return sa(n,t),{preventCancel:!!n?.preventCancel}}(e,"First parameter").preventCancel)}};function As(e){return!!Wr(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")&&e instanceof Dr}function wo(e){return e._reader!==void 0}function y1(e,n){if(e._disturbed=!0,e._state==="closed")return It(void 0);if(e._state==="errored")return Je(e._storedError);Nu(e);let t=e._reader;if(t!==void 0&&yo(t)){let r=t._readIntoRequests;t._readIntoRequests=new Hn,r.forEach(a=>{a._closeSteps(void 0)})}return ni(e._readableStreamController[yp](n),Bv)}function Nu(e){e._state="closed";let n=e._reader;if(n!==void 0&&(jv(n),Ts(n))){let t=n._readRequests;n._readRequests=new Hn,t.forEach(r=>{r._closeSteps()})}}function g1(e,n){e._state="errored",e._storedError=n;let t=e._reader;t!==void 0&&(vp(t,n),Ts(t)?Kv(t,n):a1(t,n))}function ps(e){return new TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`)}function m1(e,n){sa(e,n);let t=e?.highWaterMark;return Id(t,"highWaterMark","QueuingStrategyInit"),{highWaterMark:bp(t)}}Object.defineProperties(Dr.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),wt(Dr.prototype.cancel,"cancel"),wt(Dr.prototype.getReader,"getReader"),wt(Dr.prototype.pipeThrough,"pipeThrough"),wt(Dr.prototype.pipeTo,"pipeTo"),wt(Dr.prototype.tee,"tee"),wt(Dr.prototype.values,"values"),typeof mt.toStringTag=="symbol"&&Object.defineProperty(Dr.prototype,mt.toStringTag,{value:"ReadableStream",configurable:!0}),typeof mt.asyncIterator=="symbol"&&Object.defineProperty(Dr.prototype,mt.asyncIterator,{value:Dr.prototype.values,writable:!0,configurable:!0});var v1=e=>e.byteLength;wt(v1,"size");var Ld=class{constructor(e){ua(e,1,"ByteLengthQueuingStrategy"),e=m1(e,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!pm(this))throw dm("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!pm(this))throw dm("size");return v1}};function dm(e){return new TypeError(`ByteLengthQueuingStrategy.prototype.${e} can only be used on a ByteLengthQueuingStrategy`)}function pm(e){return!!Wr(e)&&!!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")&&e instanceof Ld}Object.defineProperties(Ld.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof mt.toStringTag=="symbol"&&Object.defineProperty(Ld.prototype,mt.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});var b1=()=>1;wt(b1,"size");var Pd=class{constructor(e){ua(e,1,"CountQueuingStrategy"),e=m1(e,"First parameter"),this._countQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!gm(this))throw ym("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!gm(this))throw ym("size");return b1}};function ym(e){return new TypeError(`CountQueuingStrategy.prototype.${e} can only be used on a CountQueuingStrategy`)}function gm(e){return!!Wr(e)&&!!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")&&e instanceof Pd}function U5(e,n,t){return si(e,t),r=>Rs(e,n,[r])}function D5(e,n,t){return si(e,t),r=>Yc(e,n,[r])}function j5(e,n,t){return si(e,t),(r,a)=>Rs(e,n,[r,a])}Object.defineProperties(Pd.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof mt.toStringTag=="symbol"&&Object.defineProperty(Pd.prototype,mt.toStringTag,{value:"CountQueuingStrategy",configurable:!0});var xd=class{constructor(e={},n={},t={}){e===void 0&&(e=null);let r=Ic(n,"Second parameter"),a=Ic(t,"Third parameter"),u=function(h,g){sa(h,g);let I=h?.flush,C=h?.readableType,_=h?.start,T=h?.transform,N=h?.writableType;return{flush:I===void 0?void 0:U5(I,h,`${g} has member 'flush' that`),readableType:C,start:_===void 0?void 0:D5(_,h,`${g} has member 'start' that`),transform:T===void 0?void 0:j5(T,h,`${g} has member 'transform' that`),writableType:N}}(e,"First parameter");if(u.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(u.writableType!==void 0)throw new RangeError("Invalid writableType specified");let c=Bu(a,0),f=Ac(a),l=Bu(r,1),s=Ac(r),d;(function(h,g,I,C,_,T){function N(){return g}function B(D){return function(E,m){let y=E._transformStreamController;return E._backpressure?ni(E._backpressureChangePromise,()=>{if((Ti(E._writable)?E._writable._state:E._writableState)==="erroring")throw Ti(E._writable)?E._writable._storedError:E._writableStoredError;return vm(y,m)}):vm(y,m)}(h,D)}function p(D){return function(E,m){return Bc(E,m),It(void 0)}(h,D)}function A(){return function(D){let E=D._transformStreamController,m=E._flushAlgorithm();return _1(E),ni(m,()=>{if(D._readableState==="errored")throw D._readableStoredError;Oc(D)&&S1(D)},y=>{throw Bc(D,y),D._readableStoredError})}(h)}function S(){return function(D){return Nc(D,!1),D._backpressureChangePromise}(h)}function O(D){return ef(h,D),It(void 0)}h._writableState="writable",h._writableStoredError=void 0,h._writableHasInFlightOperation=!1,h._writableStarted=!1,h._writable=function(D,E,m,y,q,M,V){return new Ss({start(w){D._writableController=w;try{let x=w.signal;x!==void 0&&x.addEventListener("abort",()=>{D._writableState==="writable"&&(D._writableState="erroring",x.reason&&(D._writableStoredError=x.reason))})}catch{}return ni(E(),()=>(D._writableStarted=!0,_m(D),null),x=>{throw D._writableStarted=!0,fd(D,x),x})},write:w=>(function(x){x._writableHasInFlightOperation=!0}(D),ni(m(w),()=>(function(x){x._writableHasInFlightOperation=!1}(D),_m(D),null),x=>{throw function(j,L){j._writableHasInFlightOperation=!1,fd(j,L)}(D,x),x})),close:()=>(function(w){w._writableHasInFlightOperation=!0}(D),ni(y(),()=>(function(w){w._writableHasInFlightOperation=!1,w._writableState==="erroring"&&(w._writableStoredError=void 0),w._writableState="closed"}(D),null),w=>{throw function(x,j){x._writableHasInFlightOperation=!1,x._writableState,fd(x,j)}(D,w),w})),abort:w=>(D._writableState="errored",D._writableStoredError=w,q(w))},{highWaterMark:M,size:V})}(h,N,B,A,p,I,C),h._readableState="readable",h._readableStoredError=void 0,h._readableCloseRequested=!1,h._readablePulling=!1,h._readable=function(D,E,m,y,q,M){return new Dr({start:V=>(D._readableController=V,E().catch(w=>{Lc(D,w)})),pull:()=>(D._readablePulling=!0,m().catch(V=>{Lc(D,V)})),cancel:V=>(D._readableState="closed",y(V))},{highWaterMark:q,size:M})}(h,N,S,O,_,T),h._backpressure=void 0,h._backpressureChangePromise=void 0,h._backpressureChangePromise_resolve=void 0,Nc(h,!0),h._transformStreamController=void 0})(this,an(h=>{d=h}),l,s,c,f),function(h,g){let I=Object.create(Cs.prototype),C,_;C=g.transform!==void 0?T=>g.transform(T,I):T=>{try{return w1(I,T),It(void 0)}catch(N){return Je(N)}},_=g.flush!==void 0?()=>g.flush(I):()=>It(void 0),function(T,N,B,p){N._controlledTransformStream=T,T._transformStreamController=N,N._transformAlgorithm=B,N._flushAlgorithm=p}(h,I,C,_)}(this,u),u.start!==void 0?d(u.start(this._transformStreamController)):d(void 0)}get readable(){if(!mm(this))throw bm("readable");return this._readable}get writable(){if(!mm(this))throw bm("writable");return this._writable}};function mm(e){return!!Wr(e)&&!!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")&&e instanceof xd}function Bc(e,n){Lc(e,n),ef(e,n)}function ef(e,n){_1(e._transformStreamController),function(t,r){t._writableController.error(r),t._writableState==="writable"&&C1(t,r)}(e,n),e._backpressure&&Nc(e,!1)}function Nc(e,n){e._backpressureChangePromise!==void 0&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=an(t=>{e._backpressureChangePromise_resolve=t}),e._backpressure=n}Object.defineProperties(xd.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof mt.toStringTag=="symbol"&&Object.defineProperty(xd.prototype,mt.toStringTag,{value:"TransformStream",configurable:!0});var Cs=class{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!oc(this))throw uc("desiredSize");return E1(this._controlledTransformStream)}enqueue(e){if(!oc(this))throw uc("enqueue");w1(this,e)}error(e){if(!oc(this))throw uc("error");var n;n=e,Bc(this._controlledTransformStream,n)}terminate(){if(!oc(this))throw uc("terminate");(function(e){let n=e._controlledTransformStream;Oc(n)&&S1(n);let t=new TypeError("TransformStream terminated");ef(n,t)})(this)}};function oc(e){return!!Wr(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")&&e instanceof Cs}function _1(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0}function w1(e,n){let t=e._controlledTransformStream;if(!Oc(t))throw new TypeError("Readable side is not in a state that permits enqueue");try{(function(r,a){r._readablePulling=!1;try{r._readableController.enqueue(a)}catch(u){throw Lc(r,u),u}})(t,n)}catch(r){throw ef(t,r),t._readableStoredError}(function(r){return!function(a){return Oc(a)?!!(a._readablePulling||E1(a)>0):!1}(r)})(t)!==t._backpressure&&Nc(t,!0)}function vm(e,n){return ni(e._transformAlgorithm(n),void 0,t=>{throw Bc(e._controlledTransformStream,t),t})}function uc(e){return new TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`)}function bm(e){return new TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`)}function Oc(e){return!e._readableCloseRequested&&e._readableState==="readable"}function S1(e){e._readableState="closed",e._readableCloseRequested=!0,e._readableController.close()}function Lc(e,n){e._readableState==="readable"&&(e._readableState="errored",e._readableStoredError=n),e._readableController.error(n)}function E1(e){return e._readableController.desiredSize}function fd(e,n){e._writableState!=="writable"?Bp(e):C1(e,n)}function C1(e,n){e._writableState="erroring",e._writableStoredError=n,!function(t){return t._writableHasInFlightOperation}(e)&&e._writableStarted&&Bp(e)}function Bp(e){e._writableState="errored"}function _m(e){e._writableState==="erroring"&&Bp(e)}Object.defineProperties(Cs.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),wt(Cs.prototype.enqueue,"enqueue"),wt(Cs.prototype.error,"error"),wt(Cs.prototype.terminate,"terminate"),typeof mt.toStringTag=="symbol"&&Object.defineProperty(Cs.prototype,mt.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});var T1=65536;async function*V5(e){let n=e.byteOffset+e.byteLength,t=e.byteOffset;for(;t!==n;){let r=Math.min(n-t,T1),a=e.buffer.slice(t,t+r);t+=a.byteLength,yield new Uint8Array(a)}}async function*q5(e){let n=0;for(;n!==e.size;){let t=await e.slice(n,Math.min(e.size,n+T1)).arrayBuffer();n+=t.byteLength,yield new Uint8Array(t)}}async function*hd(e,n=!1){for(let t of e)ArrayBuffer.isView(t)?n?yield*V5(t):yield t:kr(t.stream)?yield*t.stream():yield*q5(t)}function*F5(e,n,t=0,r){r??(r=n);let a=t<0?Math.max(n+t,0):Math.min(t,n),u=r<0?Math.max(n+r,0):Math.min(r,n),c=Math.max(u-a,0),f=0;for(let l of e){if(f>=c)break;let s=ArrayBuffer.isView(l)?l.byteLength:l.size;if(a&&s<=a)a-=s,u-=s;else{let d;ArrayBuffer.isView(l)?(d=l.subarray(a,Math.min(s,u)),f+=d.byteLength):(d=l.slice(a,Math.min(s,u)),f+=d.size),u-=s,a=0,yield d}}}var xa=function(e,n,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?e!==n||!r:!n.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(e):r?r.value:n.get(e)},wm=function(e,n,t,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?e!==n||!a:!n.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(e,t):a?a.value=t:n.set(e,t),t},ys,lc,vu,So=class{constructor(e=[],n={}){if(ys.set(this,[]),lc.set(this,""),vu.set(this,0),n??(n={}),typeof e!="object"||e===null)throw new TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if(!kr(e[Symbol.iterator]))throw new TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if(typeof n!="object"&&!kr(n))throw new TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");let t=new TextEncoder;for(let a of e){let u;ArrayBuffer.isView(a)?u=new Uint8Array(a.buffer.slice(a.byteOffset,a.byteOffset+a.byteLength)):a instanceof ArrayBuffer?u=new Uint8Array(a.slice(0)):a instanceof So?u=a:u=t.encode(String(a)),wm(this,vu,xa(this,vu,"f")+(ArrayBuffer.isView(u)?u.byteLength:u.size),"f"),xa(this,ys,"f").push(u)}let r=n.type===void 0?"":String(n.type);wm(this,lc,/^[\x20-\x7E]*$/.test(r)?r:"","f")}static[(ys=new WeakMap,lc=new WeakMap,vu=new WeakMap,Symbol.hasInstance)](e){return!!(e&&typeof e=="object"&&kr(e.constructor)&&(kr(e.stream)||kr(e.arrayBuffer))&&/^(Blob|File)$/.test(e[Symbol.toStringTag]))}get type(){return xa(this,lc,"f")}get size(){return xa(this,vu,"f")}slice(e,n,t){return new So(F5(xa(this,ys,"f"),this.size,e,n),{type:t})}async text(){let e=new TextDecoder,n="";for await(let t of hd(xa(this,ys,"f")))n+=e.decode(t,{stream:!0});return n+=e.decode(),n}async arrayBuffer(){let e=new Uint8Array(this.size),n=0;for await(let t of hd(xa(this,ys,"f")))e.set(t,n),n+=t.length;return e.buffer}stream(){let e=hd(xa(this,ys,"f"),!0);return new Dr({async pull(n){let{value:t,done:r}=await e.next();if(r)return queueMicrotask(()=>n.close());n.enqueue(t)},async cancel(){await e.return()}})}get[Symbol.toStringTag](){return"Blob"}};Object.defineProperties(So.prototype,{type:{enumerable:!0},size:{enumerable:!0},slice:{enumerable:!0},stream:{enumerable:!0},text:{enumerable:!0},arrayBuffer:{enumerable:!0}});var M5=e=>e instanceof So,Sm=function(e,n,t,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?e!==n||!a:!n.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(e,t):a?a.value=t:n.set(e,t),t},Em=function(e,n,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?e!==n||!r:!n.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(e):r?r.value:n.get(e)},cc,fc,Pc=class extends So{constructor(e,n,t={}){if(super(e,t),cc.set(this,void 0),fc.set(this,0),arguments.length<2)throw new TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);Sm(this,cc,String(n),"f");let r=t.lastModified===void 0?Date.now():Number(t.lastModified);Number.isNaN(r)||Sm(this,fc,r,"f")}static[(cc=new WeakMap,fc=new WeakMap,Symbol.hasInstance)](e){return e instanceof So&&e[Symbol.toStringTag]==="File"&&typeof e.name=="string"}get name(){return Em(this,cc,"f")}get webkitRelativePath(){return""}get lastModified(){return Em(this,fc,"f")}get[Symbol.toStringTag](){return"File"}},z5=e=>e instanceof Pc,wi=function(e,n,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?e!==n||!r:!n.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(e):r?r.value:n.get(e)},hc,Si,dd,$5=class{constructor(){hc.add(this),Si.set(this,new Map)}static[(Si=new WeakMap,hc=new WeakSet,Symbol.hasInstance)](e){if(!e)return!1;let n=e;return!!(kr(n.constructor)&&n[Symbol.toStringTag]==="FormData"&&kr(n.append)&&kr(n.set)&&kr(n.get)&&kr(n.getAll)&&kr(n.has)&&kr(n.delete)&&kr(n.entries)&&kr(n.values)&&kr(n.keys)&&kr(n[Symbol.iterator])&&kr(n.forEach))}append(e,n,t){wi(this,hc,"m",dd).call(this,{name:e,fileName:t,append:!0,rawValue:n,argsLength:arguments.length})}set(e,n,t){wi(this,hc,"m",dd).call(this,{name:e,fileName:t,append:!1,rawValue:n,argsLength:arguments.length})}get(e){let n=wi(this,Si,"f").get(String(e));return n?n[0]:null}getAll(e){let n=wi(this,Si,"f").get(String(e));return n?n.slice():[]}has(e){return wi(this,Si,"f").has(String(e))}delete(e){wi(this,Si,"f").delete(String(e))}*keys(){for(let e of wi(this,Si,"f").keys())yield e}*entries(){for(let e of this.keys()){let n=this.getAll(e);for(let t of n)yield[e,t]}}*values(){for(let[,e]of this)yield e}[(dd=function({name:e,rawValue:n,append:t,fileName:r,argsLength:a}){let u=t?"append":"set";if(a<2)throw new TypeError(`Failed to execute '${u}' on 'FormData': 2 arguments required, but only ${a} present.`);e=String(e);let c;if(z5(n))c=r===void 0?n:new Pc([n],r,{type:n.type,lastModified:n.lastModified});else if(M5(n))c=new Pc([n],r===void 0?"blob":r,{type:n.type});else{if(r)throw new TypeError(`Failed to execute '${u}' on 'FormData': parameter 2 is not of type 'Blob'.`);c=String(n)}let f=wi(this,Si,"f").get(e);if(!f)return void wi(this,Si,"f").set(e,[c]);if(!t)return void wi(this,Si,"f").set(e,[c]);f.push(c)},Symbol.iterator)](){return this.entries()}forEach(e,n){for(let[t,r]of this)e.call(n,r,t,this)}get[Symbol.toStringTag](){return"FormData"}},K5=require("node:fs"),A1=require("node:fs/promises"),H5=require("node:path"),W5=vr(t3(),1),G5=e=>Object.prototype.toString.call(e).slice(8,-1).toLowerCase();function Q5(e){if(G5(e)!=="object")return!1;let n=Object.getPrototypeOf(e);return n==null?!0:(n.constructor&&n.constructor.toString())===Object.toString()}var Y5=Q5,Cm=function(e,n,t,r,a){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?e!==n||!a:!n.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?a.call(e,t):a?a.value=t:n.set(e,t),t},gs=function(e,n,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?e!==n||!r:!n.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(e):r?r.value:n.get(e)},ms,lo,Z5="The requested file could not be read, typically due to permission problems that have occurred after a reference to a file was acquired.",I1=class{constructor(e){ms.set(this,void 0),lo.set(this,void 0),Cm(this,ms,e.path,"f"),Cm(this,lo,e.start||0,"f"),this.name=(0,H5.basename)(gs(this,ms,"f")),this.size=e.size,this.lastModified=e.lastModified}slice(e,n){return new I1({path:gs(this,ms,"f"),lastModified:this.lastModified,start:gs(this,lo,"f")+e,size:n-e})}async*stream(){let{mtimeMs:e}=await(0,A1.stat)(gs(this,ms,"f"));if(e>this.lastModified)throw new W5.default(Z5,"NotReadableError");this.size&&(yield*(0,K5.createReadStream)(gs(this,ms,"f"),{start:gs(this,lo,"f"),end:gs(this,lo,"f")+this.size-1}))}get[(ms=new WeakMap,lo=new WeakMap,Symbol.toStringTag)](){return"File"}};function X5(e,{mtimeMs:n,size:t},r,a={}){let u;Y5(r)?[a,u]=[r,void 0]:u=r;let c=new I1({path:e,size:t,lastModified:n});return u||(u=c.name),new Pc([c],u,{...a,lastModified:c.lastModified})}async function J5(e,n,t){let r=await(0,A1.stat)(e);return X5(e,r,n,t)}var eA=vr(V3(),1),Np={apiKey:"API Key is required. To get one: https://addons.mozilla.org/en-US/developers/addon/api/key",apiSecret:"API Secret is required. To get one: https://addons.mozilla.org/en-US/developers/addon/api/key"},tA=Object.keys(Np),Tm="https://addons.mozilla.org/api",rA=class{options={};get productEndpoint(){return`${Tm}/v4/addons/${encodeURIComponent(this.options.extId)}`}constructor(e){for(let n of tA){if(!e[n])throw new Error(Np[n]);this.options[n]=e[n]}typeof e.extId=="string"&&e.extId.length>0&&!e.extId.includes("@")&&(e.extId.startsWith("{")||(e.extId="{"+e.extId),e.extId.endsWith("}")||(e.extId+="}")),this.options.extId=e.extId}submit=async({filePath:e,version:n="1.0.0"})=>{let t=`${this.productEndpoint}/versions/${encodeURIComponent(n)}/`,r=new $5;r.append("upload",await J5(e));let a=await this.getAccessToken(),u=await nn.put(t,{throwHttpErrors:!1,body:r,headers:{Authorization:`JWT ${a}`}});if(u.statusCode>=400)throw u.statusCode===401?new Error("Invalid access token"):u.statusCode===403?new Error("You do not own this add-on"):u.statusCode===409?new Error(`Version ${n} already exists`):(console.log(u.body),new Error(JSON.parse(u.body).error||"Unknown error"));return JSON.parse(u.body)};getUploadStatus=async({version:e="1.0.0"})=>{let n=await this.getAccessToken(),t=`${this.productEndpoint}/versions/${encodeURIComponent(e)}/`;return nn.get(t,{headers:{Authorization:`JWT ${n}`}}).json()};getProfile=async()=>{let e=await this.getAccessToken(),n=`${Tm}/v5/accounts/profile`;return nn.get(n,{headers:{Authorization:`JWT ${e}`}}).json()};getAccessToken=async()=>{let e=Math.floor(Date.now()/1e3),n={iss:this.options.apiKey,jti:Math.random().toString(),iat:e,exp:e+60*5};return eA.default.sign(n,this.options.apiSecret,{algorithm:"HS256"})}},Ou="firefox",nA=Gc(Ou);function iA(e){return la(this,null,function*(){var n=e,{extId:t,zip:r,dryRun:a}=n,u=Dc(n,["extId","zip","dryRun"]),c,f,l,s;let d=Hc(r),h=((f=(c=d.browser_specific_settings)==null?void 0:c.gecko)==null?void 0:f.id)||((s=(l=d.applications)==null?void 0:l.gecko)==null?void 0:s.id)||t,g=new rA(Uc({extId:h},u));if(nA(`Updating extension with ID ${h}`),a)return!0;try{return yield g.submit({filePath:r,version:d.version}),Wc({extId:h,market:Ou,zip:r}),!0}catch(I){throw Qc(I,Ou,`"${h}" (${d.name})`)}})}function aA(e){return la(this,null,function*(){return e.zip=qu(e),e.verbose&&Fu(Ou),Mu({market:Ou,options:e,errorMap:Np}),iA(e)})}var sA={packageId:"No package ID is provided, e.g. https://addons.opera.com/developer/package/PACKAGE_ID",sessionid:`No "sessionid" is provided. If you have a hard time obtaining it, run:
web-ext-deploy --get-cookies=opera`,csrftoken:`No "csrftoken" is provided. If you have a hard time obtaining it, run:
web-ext-deploy --get-cookies=opera`},Am="opera";function oA(e){return la(this,null,function*(){throw e.zip=qu(e),e.changelog&&(e.changelog=e.changelog.replace(/\/\/n/g,`
`)),e.verbose&&Fu(Am),Mu({market:Am,options:e,errorMap:sA}),new Error("Opera submission is not supported at this time, due to lack of automation API - their CSRF token and cookies expires in 24 hours. It will be faster to just drag/drop the zip on their dev portal.")})}var uA=require("fs/promises"),lA=require("module"),xc=require("path"),R1=require("crypto"),cA=Object.create,k1=Object.defineProperty,fA=Object.getOwnPropertyDescriptor,hA=Object.getOwnPropertyNames,dA=Object.getPrototypeOf,pA=Object.prototype.hasOwnProperty,mo=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(n,t)=>(typeof require<"u"?require:n)[t]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')}),Qe=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),yA=(e,n,t,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let a of hA(n))!pA.call(e,a)&&a!==t&&k1(e,a,{get:()=>n[a],enumerable:!(r=fA(n,a))||r.enumerable});return e},Io=(e,n,t)=>(t=e!=null?cA(dA(e)):{},yA(n||!e||!e.__esModule?k1(t,"default",{value:e,enumerable:!0}):t,e)),gA=Qe((e,n)=>{(function(t,r){typeof e=="object"&&typeof n<"u"?r(e):typeof define=="function"&&define.amd?define(["exports"],r):(t=typeof globalThis<"u"?globalThis:t||self,r(t.WebStreamsPolyfill={}))})(e,function(t){"use strict";let r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:b=>`Symbol(${b})`;function a(){}function u(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}let c=u();function f(b){return typeof b=="object"&&b!==null||typeof b=="function"}let l=a,s=Promise,d=Promise.prototype.then,h=Promise.resolve.bind(s),g=Promise.reject.bind(s);function I(b){return new s(b)}function C(b){return h(b)}function _(b){return g(b)}function T(b,k,K){return d.call(b,k,K)}function N(b,k,K){T(T(b,k,K),void 0,l)}function B(b,k){N(b,k)}function p(b,k){N(b,void 0,k)}function A(b,k,K){return T(b,k,K)}function S(b){T(b,void 0,l)}let O=(()=>{let b=c&&c.queueMicrotask;if(typeof b=="function")return b;let k=C(void 0);return K=>T(k,K)})();function D(b,k,K){if(typeof b!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(b,k,K)}function E(b,k,K){try{return C(D(b,k,K))}catch(te){return _(te)}}let m=16384;class y{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(k){let K=this._back,te=K;K._elements.length===m-1&&(te={_elements:[],_next:void 0}),K._elements.push(k),te!==K&&(this._back=te,K._next=te),++this._size}shift(){let k=this._front,K=k,te=this._cursor,he=te+1,me=k._elements,Re=me[te];return he===m&&(K=k._next,he=0),--this._size,this._cursor=he,k!==K&&(this._front=K),me[te]=void 0,Re}forEach(k){let K=this._cursor,te=this._front,he=te._elements;for(;(K!==he.length||te._next!==void 0)&&!(K===he.length&&(te=te._next,he=te._elements,K=0,he.length===0));)k(he[K]),++K}peek(){let k=this._front,K=this._cursor;return k._elements[K]}}function q(b,k){b._ownerReadableStream=k,k._reader=b,k._state==="readable"?x(b):k._state==="closed"?L(b):j(b,k._storedError)}function M(b,k){let K=b._ownerReadableStream;return Ke(K,k)}function V(b){b._ownerReadableStream._state==="readable"?F(b,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):J(b,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),b._ownerReadableStream._reader=void 0,b._ownerReadableStream=void 0}function w(b){return new TypeError("Cannot "+b+" a stream using a released reader")}function x(b){b._closedPromise=I((k,K)=>{b._closedPromise_resolve=k,b._closedPromise_reject=K})}function j(b,k){x(b),F(b,k)}function L(b){x(b),oe(b)}function F(b,k){b._closedPromise_reject!==void 0&&(S(b._closedPromise),b._closedPromise_reject(k),b._closedPromise_resolve=void 0,b._closedPromise_reject=void 0)}function J(b,k){j(b,k)}function oe(b){b._closedPromise_resolve!==void 0&&(b._closedPromise_resolve(void 0),b._closedPromise_resolve=void 0,b._closedPromise_reject=void 0)}let se=r("[[AbortSteps]]"),de=r("[[ErrorSteps]]"),ke=r("[[CancelSteps]]"),Le=r("[[PullSteps]]"),Ve=Number.isFinite||function(b){return typeof b=="number"&&isFinite(b)},Ee=Math.trunc||function(b){return b<0?Math.ceil(b):Math.floor(b)};function We(b){return typeof b=="object"||typeof b=="function"}function Ce(b,k){if(b!==void 0&&!We(b))throw new TypeError(`${k} is not an object.`)}function et(b,k){if(typeof b!="function")throw new TypeError(`${k} is not a function.`)}function Xe(b){return typeof b=="object"&&b!==null||typeof b=="function"}function P(b,k){if(!Xe(b))throw new TypeError(`${k} is not an object.`)}function Y(b,k,K){if(b===void 0)throw new TypeError(`Parameter ${k} is required in '${K}'.`)}function G(b,k,K){if(b===void 0)throw new TypeError(`${k} is required in '${K}'.`)}function R(b){return Number(b)}function H(b){return b===0?0:b}function ie(b){return H(Ee(b))}function ee(b,k){let K=Number.MAX_SAFE_INTEGER,te=Number(b);if(te=H(te),!Ve(te))throw new TypeError(`${k} is not a finite number`);if(te=ie(te),te<0||te>K)throw new TypeError(`${k} is outside the accepted range of 0 to ${K}, inclusive`);return!Ve(te)||te===0?0:te}function _e(b,k){if(!pe(b))throw new TypeError(`${k} is not a ReadableStream.`)}function xe(b){return new rt(b)}function je(b,k){b._reader._readRequests.push(k)}function ye(b,k,K){let te=b._reader._readRequests.shift();K?te._closeSteps():te._chunkSteps(k)}function Oe(b){return b._reader._readRequests.length}function He(b){let k=b._reader;return!(k===void 0||!$e(k))}class rt{constructor(k){if(Y(k,1,"ReadableStreamDefaultReader"),_e(k,"First parameter"),Ue(k))throw new TypeError("This stream has already been locked for exclusive reading by another reader");q(this,k),this._readRequests=new y}get closed(){return $e(this)?this._closedPromise:_(Et("closed"))}cancel(k=void 0){return $e(this)?this._ownerReadableStream===void 0?_(w("cancel")):M(this,k):_(Et("cancel"))}read(){if(!$e(this))return _(Et("read"));if(this._ownerReadableStream===void 0)return _(w("read from"));let k,K,te=I((he,me)=>{k=he,K=me});return kt(this,{_chunkSteps:he=>k({value:he,done:!1}),_closeSteps:()=>k({value:void 0,done:!0}),_errorSteps:he=>K(he)}),te}releaseLock(){if(!$e(this))throw Et("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");V(this)}}}Object.defineProperties(rt.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(rt.prototype,r.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});function $e(b){return!f(b)||!Object.prototype.hasOwnProperty.call(b,"_readRequests")?!1:b instanceof rt}function kt(b,k){let K=b._ownerReadableStream;K._disturbed=!0,K._state==="closed"?k._closeSteps():K._state==="errored"?k._errorSteps(K._storedError):K._readableStreamController[Le](k)}function Et(b){return new TypeError(`ReadableStreamDefaultReader.prototype.${b} can only be used on a ReadableStreamDefaultReader`)}let Ct=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype);class Ot{constructor(k,K){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=k,this._preventCancel=K}next(){let k=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?A(this._ongoingPromise,k,k):k(),this._ongoingPromise}return(k){let K=()=>this._returnSteps(k);return this._ongoingPromise?A(this._ongoingPromise,K,K):K()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});let k=this._reader;if(k._ownerReadableStream===void 0)return _(w("iterate"));let K,te,he=I((me,Re)=>{K=me,te=Re});return kt(k,{_chunkSteps:me=>{this._ongoingPromise=void 0,O(()=>K({value:me,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,V(k),K({value:void 0,done:!0})},_errorSteps:me=>{this._ongoingPromise=void 0,this._isFinished=!0,V(k),te(me)}}),he}_returnSteps(k){if(this._isFinished)return Promise.resolve({value:k,done:!0});this._isFinished=!0;let K=this._reader;if(K._ownerReadableStream===void 0)return _(w("finish iterating"));if(!this._preventCancel){let te=M(K,k);return V(K),A(te,()=>({value:k,done:!0}))}return V(K),C({value:k,done:!0})}}let Bt={next(){return zt(this)?this._asyncIteratorImpl.next():_(Yt("next"))},return(b){return zt(this)?this._asyncIteratorImpl.return(b):_(Yt("return"))}};Ct!==void 0&&Object.setPrototypeOf(Bt,Ct);function Lt(b,k){let K=xe(b),te=new Ot(K,k),he=Object.create(Bt);return he._asyncIteratorImpl=te,he}function zt(b){if(!f(b)||!Object.prototype.hasOwnProperty.call(b,"_asyncIteratorImpl"))return!1;try{return b._asyncIteratorImpl instanceof Ot}catch{return!1}}function Yt(b){return new TypeError(`ReadableStreamAsyncIterator.${b} can only be used on a ReadableSteamAsyncIterator`)}let $t=Number.isNaN||function(b){return b!==b};function Kt(b){return b.slice()}function ur(b,k,K,te,he){new Uint8Array(b).set(new Uint8Array(K,te,he),k)}function Er(b){return b}function yr(b){return!1}function jr(b,k,K){if(b.slice)return b.slice(k,K);let te=K-k,he=new ArrayBuffer(te);return ur(he,0,b,k,te),he}function un(b){return!(typeof b!="number"||$t(b)||b<0)}function Gr(b){let k=jr(b.buffer,b.byteOffset,b.byteOffset+b.byteLength);return new Uint8Array(k)}function Qr(b){let k=b._queue.shift();return b._queueTotalSize-=k.size,b._queueTotalSize<0&&(b._queueTotalSize=0),k.value}function bn(b,k,K){if(!un(K)||K===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");b._queue.push({value:k,size:K}),b._queueTotalSize+=K}function ui(b){return b._queue.peek().value}function Vr(b){b._queue=new y,b._queueTotalSize=0}class Ln{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!Zt(this))throw ya("view");return this._view}respond(k){if(!Zt(this))throw ya("respond");if(Y(k,1,"respond"),k=ee(k,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");yr(this._view.buffer),da(this._associatedReadableByteStreamController,k)}respondWithNewView(k){if(!Zt(this))throw ya("respondWithNewView");if(Y(k,1,"respondWithNewView"),!ArrayBuffer.isView(k))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");yr(k.buffer),pa(this._associatedReadableByteStreamController,k)}}Object.defineProperties(Ln.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Ln.prototype,r.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class xt{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!Ut(this))throw br("byobRequest");return za(this)}get desiredSize(){if(!Ut(this))throw br("desiredSize");return Bi(this)}close(){if(!Ut(this))throw br("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");let k=this._controlledReadableByteStream._state;if(k!=="readable")throw new TypeError(`The stream (in ${k} state) is not in the readable state and cannot be closed`);ki(this)}enqueue(k){if(!Ut(this))throw br("enqueue");if(Y(k,1,"enqueue"),!ArrayBuffer.isView(k))throw new TypeError("chunk must be an array buffer view");if(k.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(k.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");let K=this._controlledReadableByteStream._state;if(K!=="readable")throw new TypeError(`The stream (in ${K} state) is not in the readable state and cannot be enqueued to`);_n(this,k)}error(k=void 0){if(!Ut(this))throw br("error");Cr(this,k)}[ke](k){Ht(this),Vr(this);let K=this._cancelAlgorithm(k);return ha(this),K}[Le](k){let K=this._controlledReadableByteStream;if(this._queueTotalSize>0){let he=this._queue.shift();this._queueTotalSize-=he.byteLength,nr(this);let me=new Uint8Array(he.buffer,he.byteOffset,he.byteLength);k._chunkSteps(me);return}let te=this._autoAllocateChunkSize;if(te!==void 0){let he;try{he=new ArrayBuffer(te)}catch(Re){k._errorSteps(Re);return}let me={buffer:he,bufferByteLength:te,byteOffset:0,byteLength:te,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(me)}je(K,k),Dt(this)}}Object.defineProperties(xt.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(xt.prototype,r.toStringTag,{value:"ReadableByteStreamController",configurable:!0});function Ut(b){return!f(b)||!Object.prototype.hasOwnProperty.call(b,"_controlledReadableByteStream")?!1:b instanceof xt}function Zt(b){return!f(b)||!Object.prototype.hasOwnProperty.call(b,"_associatedReadableByteStreamController")?!1:b instanceof Ln}function Dt(b){if(!ko(b))return;if(b._pulling){b._pullAgain=!0;return}b._pulling=!0;let k=b._pullAlgorithm();N(k,()=>{b._pulling=!1,b._pullAgain&&(b._pullAgain=!1,Dt(b))},K=>{Cr(b,K)})}function Ht(b){Jt(b),b._pendingPullIntos=new y}function Xt(b,k){let K=!1;b._state==="closed"&&(K=!0);let te=Wt(k);k.readerType==="default"?ye(b,te,K):Bo(b,te,K)}function Wt(b){let k=b.bytesFilled,K=b.elementSize;return new b.viewConstructor(b.buffer,b.byteOffset,k/K)}function Gt(b,k,K,te){b._queue.push({buffer:k,byteOffset:K,byteLength:te}),b._queueTotalSize+=te}function tr(b,k){let K=k.elementSize,te=k.bytesFilled-k.bytesFilled%K,he=Math.min(b._queueTotalSize,k.byteLength-k.bytesFilled),me=k.bytesFilled+he,Re=me-me%K,qe=he,nt=!1;Re>te&&(qe=Re-k.bytesFilled,nt=!0);let st=b._queue;for(;qe>0;){let ct=st.peek(),dt=Math.min(qe,ct.byteLength),Ft=k.byteOffset+k.bytesFilled;ur(k.buffer,Ft,ct.buffer,ct.byteOffset,dt),ct.byteLength===dt?st.shift():(ct.byteOffset+=dt,ct.byteLength-=dt),b._queueTotalSize-=dt,rr(b,dt,k),qe-=dt}return nt}function rr(b,k,K){K.bytesFilled+=k}function nr(b){b._queueTotalSize===0&&b._closeRequested?(ha(b),ft(b._controlledReadableByteStream)):Dt(b)}function Jt(b){b._byobRequest!==null&&(b._byobRequest._associatedReadableByteStreamController=void 0,b._byobRequest._view=null,b._byobRequest=null)}function ir(b){for(;b._pendingPullIntos.length>0;){if(b._queueTotalSize===0)return;let k=b._pendingPullIntos.peek();tr(b,k)&&(fa(b),Xt(b._controlledReadableByteStream,k))}}function lr(b,k,K){let te=b._controlledReadableByteStream,he=1;k.constructor!==DataView&&(he=k.constructor.BYTES_PER_ELEMENT);let me=k.constructor,Re=k.buffer,qe={buffer:Re,bufferByteLength:Re.byteLength,byteOffset:k.byteOffset,byteLength:k.byteLength,bytesFilled:0,elementSize:he,viewConstructor:me,readerType:"byob"};if(b._pendingPullIntos.length>0){b._pendingPullIntos.push(qe),Us(te,K);return}if(te._state==="closed"){let nt=new me(qe.buffer,qe.byteOffset,0);K._closeSteps(nt);return}if(b._queueTotalSize>0){if(tr(b,qe)){let nt=Wt(qe);nr(b),K._chunkSteps(nt);return}if(b._closeRequested){let nt=new TypeError("Insufficient bytes to fill elements in the given buffer");Cr(b,nt),K._errorSteps(nt);return}}b._pendingPullIntos.push(qe),Us(te,K),Dt(b)}function Mt(b,k){let K=b._controlledReadableByteStream;if($(K))for(;$a(K)>0;){let te=fa(b);Xt(K,te)}}function er(b,k,K){if(rr(b,k,K),K.bytesFilled<K.elementSize)return;fa(b);let te=K.bytesFilled%K.elementSize;if(te>0){let he=K.byteOffset+K.bytesFilled,me=jr(K.buffer,he-te,he);Gt(b,me,0,me.byteLength)}K.bytesFilled-=te,Xt(b._controlledReadableByteStream,K),ir(b)}function Ns(b,k){let K=b._pendingPullIntos.peek();Jt(b),b._controlledReadableByteStream._state==="closed"?Mt(b):er(b,k,K),Dt(b)}function fa(b){return b._pendingPullIntos.shift()}function ko(b){let k=b._controlledReadableByteStream;return k._state!=="readable"||b._closeRequested||!b._started?!1:!!(He(k)&&Oe(k)>0||$(k)&&$a(k)>0||Bi(b)>0)}function ha(b){b._pullAlgorithm=void 0,b._cancelAlgorithm=void 0}function ki(b){let k=b._controlledReadableByteStream;if(!(b._closeRequested||k._state!=="readable")){if(b._queueTotalSize>0){b._closeRequested=!0;return}if(b._pendingPullIntos.length>0&&b._pendingPullIntos.peek().bytesFilled>0){let K=new TypeError("Insufficient bytes to fill elements in the given buffer");throw Cr(b,K),K}ha(b),ft(k)}}function _n(b,k){let K=b._controlledReadableByteStream;if(b._closeRequested||K._state!=="readable")return;let te=k.buffer,he=k.byteOffset,me=k.byteLength,Re=te;if(b._pendingPullIntos.length>0){let qe=b._pendingPullIntos.peek();yr(qe.buffer),qe.buffer=qe.buffer}if(Jt(b),He(K))if(Oe(K)===0)Gt(b,Re,he,me);else{b._pendingPullIntos.length>0&&fa(b);let qe=new Uint8Array(Re,he,me);ye(K,qe,!1)}else $(K)?(Gt(b,Re,he,me),ir(b)):Gt(b,Re,he,me);Dt(b)}function Cr(b,k){let K=b._controlledReadableByteStream;K._state==="readable"&&(Ht(b),Vr(b),ha(b),cr(K,k))}function za(b){if(b._byobRequest===null&&b._pendingPullIntos.length>0){let k=b._pendingPullIntos.peek(),K=new Uint8Array(k.buffer,k.byteOffset+k.bytesFilled,k.byteLength-k.bytesFilled),te=Object.create(Ln.prototype);Ps(te,b,K),b._byobRequest=te}return b._byobRequest}function Bi(b){let k=b._controlledReadableByteStream._state;return k==="errored"?null:k==="closed"?0:b._strategyHWM-b._queueTotalSize}function da(b,k){let K=b._pendingPullIntos.peek();if(b._controlledReadableByteStream._state==="closed"){if(k!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(k===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(K.bytesFilled+k>K.byteLength)throw new RangeError("bytesWritten out of range")}K.buffer=K.buffer,Ns(b,k)}function pa(b,k){let K=b._pendingPullIntos.peek();if(b._controlledReadableByteStream._state==="closed"){if(k.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(k.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(K.byteOffset+K.bytesFilled!==k.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(K.bufferByteLength!==k.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(K.bytesFilled+k.byteLength>K.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");let te=k.byteLength;K.buffer=k.buffer,Ns(b,te)}function Os(b,k,K,te,he,me,Re){k._controlledReadableByteStream=b,k._pullAgain=!1,k._pulling=!1,k._byobRequest=null,k._queue=k._queueTotalSize=void 0,Vr(k),k._closeRequested=!1,k._started=!1,k._strategyHWM=me,k._pullAlgorithm=te,k._cancelAlgorithm=he,k._autoAllocateChunkSize=Re,k._pendingPullIntos=new y,b._readableStreamController=k;let qe=K();N(C(qe),()=>{k._started=!0,Dt(k)},nt=>{Cr(k,nt)})}function Ls(b,k,K){let te=Object.create(xt.prototype),he=()=>{},me=()=>C(void 0),Re=()=>C(void 0);k.start!==void 0&&(he=()=>k.start(te)),k.pull!==void 0&&(me=()=>k.pull(te)),k.cancel!==void 0&&(Re=nt=>k.cancel(nt));let qe=k.autoAllocateChunkSize;if(qe===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");Os(b,te,he,me,Re,K,qe)}function Ps(b,k,K){b._associatedReadableByteStreamController=k,b._view=K}function ya(b){return new TypeError(`ReadableStreamBYOBRequest.prototype.${b} can only be used on a ReadableStreamBYOBRequest`)}function br(b){return new TypeError(`ReadableByteStreamController.prototype.${b} can only be used on a ReadableByteStreamController`)}function xs(b){return new W(b)}function Us(b,k){b._reader._readIntoRequests.push(k)}function Bo(b,k,K){let te=b._reader._readIntoRequests.shift();K?te._closeSteps(k):te._chunkSteps(k)}function $a(b){return b._reader._readIntoRequests.length}function $(b){let k=b._reader;return!(k===void 0||!X(k))}class W{constructor(k){if(Y(k,1,"ReadableStreamBYOBReader"),_e(k,"First parameter"),Ue(k))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!Ut(k._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");q(this,k),this._readIntoRequests=new y}get closed(){return X(this)?this._closedPromise:_(ve("closed"))}cancel(k=void 0){return X(this)?this._ownerReadableStream===void 0?_(w("cancel")):M(this,k):_(ve("cancel"))}read(k){if(!X(this))return _(ve("read"));if(!ArrayBuffer.isView(k))return _(new TypeError("view must be an array buffer view"));if(k.byteLength===0)return _(new TypeError("view must have non-zero byteLength"));if(k.buffer.byteLength===0)return _(new TypeError("view's buffer must have non-zero byteLength"));if(yr(k.buffer),this._ownerReadableStream===void 0)return _(w("read from"));let K,te,he=I((me,Re)=>{K=me,te=Re});return le(this,k,{_chunkSteps:me=>K({value:me,done:!1}),_closeSteps:me=>K({value:me,done:!0}),_errorSteps:me=>te(me)}),he}releaseLock(){if(!X(this))throw ve("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");V(this)}}}Object.defineProperties(W.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(W.prototype,r.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});function X(b){return!f(b)||!Object.prototype.hasOwnProperty.call(b,"_readIntoRequests")?!1:b instanceof W}function le(b,k,K){let te=b._ownerReadableStream;te._disturbed=!0,te._state==="errored"?K._errorSteps(te._storedError):lr(te._readableStreamController,k,K)}function ve(b){return new TypeError(`ReadableStreamBYOBReader.prototype.${b} can only be used on a ReadableStreamBYOBReader`)}function Se(b,k){let{highWaterMark:K}=b;if(K===void 0)return k;if($t(K)||K<0)throw new RangeError("Invalid highWaterMark");return K}function Pe(b){let{size:k}=b;return k||(()=>1)}function Ne(b,k){Ce(b,k);let K=b?.highWaterMark,te=b?.size;return{highWaterMark:K===void 0?void 0:R(K),size:te===void 0?void 0:bt(te,`${k} has member 'size' that`)}}function bt(b,k){return et(b,k),K=>R(b(K))}function ar(b,k){Ce(b,k);let K=b?.abort,te=b?.close,he=b?.start,me=b?.type,Re=b?.write;return{abort:K===void 0?void 0:Tr(K,b,`${k} has member 'abort' that`),close:te===void 0?void 0:Br(te,b,`${k} has member 'close' that`),start:he===void 0?void 0:ln(he,b,`${k} has member 'start' that`),write:Re===void 0?void 0:li(Re,b,`${k} has member 'write' that`),type:me}}function Tr(b,k,K){return et(b,K),te=>E(b,k,[te])}function Br(b,k,K){return et(b,K),()=>E(b,k,[])}function ln(b,k,K){return et(b,K),te=>D(b,k,[te])}function li(b,k,K){return et(b,K),(te,he)=>E(b,k,[te,he])}function Ar(b,k){if(!Oi(b))throw new TypeError(`${k} is not a WritableStream.`)}function gr(b){if(typeof b!="object"||b===null)return!1;try{return typeof b.aborted=="boolean"}catch{return!1}}let Ni=typeof AbortController=="function";function wn(){if(Ni)return new AbortController}class Wn{constructor(k={},K={}){k===void 0?k=null:P(k,"First parameter");let te=Ne(K,"Second parameter"),he=ar(k,"First parameter");if(Oo(this),he.type!==void 0)throw new RangeError("Invalid type is specified");let me=Pe(te),Re=Se(te,1);Ju(this,he,Re,me)}get locked(){if(!Oi(this))throw ma("locked");return ga(this)}abort(k=void 0){return Oi(this)?ga(this)?_(new TypeError("Cannot abort a stream that already has a writer")):Ds(this,k):_(ma("abort"))}close(){return Oi(this)?ga(this)?_(new TypeError("Cannot close a stream that already has a writer")):Pn(this)?_(new TypeError("Cannot close an already-closing stream")):Gu(this):_(ma("close"))}getWriter(){if(!Oi(this))throw ma("getWriter");return No(this)}}Object.defineProperties(Wn.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Wn.prototype,r.toStringTag,{value:"WritableStream",configurable:!0});function No(b){return new Ka(b)}function Wu(b,k,K,te,he=1,me=()=>1){let Re=Object.create(Wn.prototype);Oo(Re);let qe=Object.create(fi.prototype);return Vo(Re,qe,b,k,K,te,he,me),Re}function Oo(b){b._state="writable",b._storedError=void 0,b._writer=void 0,b._writableStreamController=void 0,b._writeRequests=new y,b._inFlightWriteRequest=void 0,b._closeRequest=void 0,b._inFlightCloseRequest=void 0,b._pendingAbortRequest=void 0,b._backpressure=!1}function Oi(b){return!f(b)||!Object.prototype.hasOwnProperty.call(b,"_writableStreamController")?!1:b instanceof Wn}function ga(b){return b._writer!==void 0}function Ds(b,k){var K;if(b._state==="closed"||b._state==="errored")return C(void 0);b._writableStreamController._abortReason=k,(K=b._writableStreamController._abortController)===null||K===void 0||K.abort();let te=b._state;if(te==="closed"||te==="errored")return C(void 0);if(b._pendingAbortRequest!==void 0)return b._pendingAbortRequest._promise;let he=!1;te==="erroring"&&(he=!0,k=void 0);let me=I((Re,qe)=>{b._pendingAbortRequest={_promise:void 0,_resolve:Re,_reject:qe,_reason:k,_wasAlreadyErroring:he}});return b._pendingAbortRequest._promise=me,he||Po(b,k),me}function Gu(b){let k=b._state;if(k==="closed"||k==="errored")return _(new TypeError(`The stream (in ${k} state) is not in the writable state and cannot be closed`));let K=I((he,me)=>{let Re={_resolve:he,_reject:me};b._closeRequest=Re}),te=b._writer;return te!==void 0&&b._backpressure&&k==="writable"&&Ga(te),el(b._writableStreamController),K}function Qu(b){return I((k,K)=>{let te={_resolve:k,_reject:K};b._writeRequests.push(te)})}function Lo(b,k){if(b._state==="writable"){Po(b,k);return}xo(b)}function Po(b,k){let K=b._writableStreamController;b._state="erroring",b._storedError=k;let te=b._writer;te!==void 0&&Xu(te,k),!ff(b)&&K._started&&xo(b)}function xo(b){b._state="errored",b._writableStreamController[de]();let k=b._storedError;if(b._writeRequests.forEach(he=>{he._reject(k)}),b._writeRequests=new y,b._pendingAbortRequest===void 0){Tt(b);return}let K=b._pendingAbortRequest;if(b._pendingAbortRequest=void 0,K._wasAlreadyErroring){K._reject(k),Tt(b);return}let te=b._writableStreamController[se](K._reason);N(te,()=>{K._resolve(),Tt(b)},he=>{K._reject(he),Tt(b)})}function uf(b){b._inFlightWriteRequest._resolve(void 0),b._inFlightWriteRequest=void 0}function Uo(b,k){b._inFlightWriteRequest._reject(k),b._inFlightWriteRequest=void 0,Lo(b,k)}function lf(b){b._inFlightCloseRequest._resolve(void 0),b._inFlightCloseRequest=void 0,b._state==="erroring"&&(b._storedError=void 0,b._pendingAbortRequest!==void 0&&(b._pendingAbortRequest._resolve(),b._pendingAbortRequest=void 0)),b._state="closed";let k=b._writer;k!==void 0&&Mo(k)}function cf(b,k){b._inFlightCloseRequest._reject(k),b._inFlightCloseRequest=void 0,b._pendingAbortRequest!==void 0&&(b._pendingAbortRequest._reject(k),b._pendingAbortRequest=void 0),Lo(b,k)}function Pn(b){return!(b._closeRequest===void 0&&b._inFlightCloseRequest===void 0)}function ff(b){return!(b._inFlightWriteRequest===void 0&&b._inFlightCloseRequest===void 0)}function hf(b){b._inFlightCloseRequest=b._closeRequest,b._closeRequest=void 0}function qt(b){b._inFlightWriteRequest=b._writeRequests.shift()}function Tt(b){b._closeRequest!==void 0&&(b._closeRequest._reject(b._storedError),b._closeRequest=void 0);let k=b._writer;k!==void 0&&Fo(k,b._storedError)}function Do(b,k){let K=b._writer;K!==void 0&&k!==b._backpressure&&(k?il(K):Ga(K)),b._backpressure=k}class Ka{constructor(k){if(Y(k,1,"WritableStreamDefaultWriter"),Ar(k,"First parameter"),ga(k))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=k,k._writer=this;let K=k._state;if(K==="writable")!Pn(k)&&k._backpressure?xi(this):nl(this),qs(this);else if(K==="erroring")hi(this,k._storedError),qs(this);else if(K==="closed")nl(this),gf(this);else{let te=k._storedError;hi(this,te),Fs(this,te)}}get closed(){return Li(this)?this._closedPromise:_(Mr("closed"))}get desiredSize(){if(!Li(this))throw Mr("desiredSize");if(this._ownerWritableStream===void 0)throw Pi("desiredSize");return mr(this)}get ready(){return Li(this)?this._readyPromise:_(Mr("ready"))}abort(k=void 0){return Li(this)?this._ownerWritableStream===void 0?_(Pi("abort")):df(this,k):_(Mr("abort"))}close(){if(!Li(this))return _(Mr("close"));let k=this._ownerWritableStream;return k===void 0?_(Pi("close")):Pn(k)?_(new TypeError("Cannot close an already-closing stream")):Yu(this)}releaseLock(){if(!Li(this))throw Mr("releaseLock");this._ownerWritableStream!==void 0&&js(this)}write(k=void 0){return Li(this)?this._ownerWritableStream===void 0?_(Pi("write to")):ci(this,k):_(Mr("write"))}}Object.defineProperties(Ka.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Ka.prototype,r.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});function Li(b){return!f(b)||!Object.prototype.hasOwnProperty.call(b,"_ownerWritableStream")?!1:b instanceof Ka}function df(b,k){let K=b._ownerWritableStream;return Ds(K,k)}function Yu(b){let k=b._ownerWritableStream;return Gu(k)}function pf(b){let k=b._ownerWritableStream,K=k._state;return Pn(k)||K==="closed"?C(void 0):K==="errored"?_(k._storedError):Yu(b)}function Zu(b,k){b._closedPromiseState==="pending"?Fo(b,k):mf(b,k)}function Xu(b,k){b._readyPromiseState==="pending"?zo(b,k):$o(b,k)}function mr(b){let k=b._ownerWritableStream,K=k._state;return K==="errored"||K==="erroring"?null:K==="closed"?0:qo(k._writableStreamController)}function js(b){let k=b._ownerWritableStream,K=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");Xu(b,K),Zu(b,K),k._writer=void 0,b._ownerWritableStream=void 0}function ci(b,k){let K=b._ownerWritableStream,te=K._writableStreamController,he=tl(te,k);if(K!==b._ownerWritableStream)return _(Pi("write to"));let me=K._state;if(me==="errored")return _(K._storedError);if(Pn(K)||me==="closed")return _(new TypeError("The stream is closing or closed and cannot be written to"));if(me==="erroring")return _(K._storedError);let Re=Qu(K);return Yr(te,k,he),Re}let jo={};class fi{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!qr(this))throw jt("abortReason");return this._abortReason}get signal(){if(!qr(this))throw jt("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(k=void 0){if(!qr(this))throw jt("error");this._controlledWritableStream._state==="writable"&&Wa(this,k)}[se](k){let K=this._abortAlgorithm(k);return Ha(this),K}[de](){Vr(this)}}Object.defineProperties(fi.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(fi.prototype,r.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});function qr(b){return!f(b)||!Object.prototype.hasOwnProperty.call(b,"_controlledWritableStream")?!1:b instanceof fi}function Vo(b,k,K,te,he,me,Re,qe){k._controlledWritableStream=b,b._writableStreamController=k,k._queue=void 0,k._queueTotalSize=void 0,Vr(k),k._abortReason=void 0,k._abortController=wn(),k._started=!1,k._strategySizeAlgorithm=qe,k._strategyHWM=Re,k._writeAlgorithm=te,k._closeAlgorithm=he,k._abortAlgorithm=me;let nt=xn(k);Do(b,nt);let st=K(),ct=C(st);N(ct,()=>{k._started=!0,Vs(k)},dt=>{k._started=!0,Lo(b,dt)})}function Ju(b,k,K,te){let he=Object.create(fi.prototype),me=()=>{},Re=()=>C(void 0),qe=()=>C(void 0),nt=()=>C(void 0);k.start!==void 0&&(me=()=>k.start(he)),k.write!==void 0&&(Re=st=>k.write(st,he)),k.close!==void 0&&(qe=()=>k.close()),k.abort!==void 0&&(nt=st=>k.abort(st)),Vo(b,he,me,Re,qe,nt,K,te)}function Ha(b){b._writeAlgorithm=void 0,b._closeAlgorithm=void 0,b._abortAlgorithm=void 0,b._strategySizeAlgorithm=void 0}function el(b){bn(b,jo,0),Vs(b)}function tl(b,k){try{return b._strategySizeAlgorithm(k)}catch(K){return Fr(b,K),1}}function qo(b){return b._strategyHWM-b._queueTotalSize}function Yr(b,k,K){try{bn(b,k,K)}catch(he){Fr(b,he);return}let te=b._controlledWritableStream;if(!Pn(te)&&te._state==="writable"){let he=xn(b);Do(te,he)}Vs(b)}function Vs(b){let k=b._controlledWritableStream;if(!b._started||k._inFlightWriteRequest!==void 0)return;if(k._state==="erroring"){xo(k);return}if(b._queue.length===0)return;let K=ui(b);K===jo?yf(b):rl(b,K)}function Fr(b,k){b._controlledWritableStream._state==="writable"&&Wa(b,k)}function yf(b){let k=b._controlledWritableStream;hf(k),Qr(b);let K=b._closeAlgorithm();Ha(b),N(K,()=>{lf(k)},te=>{cf(k,te)})}function rl(b,k){let K=b._controlledWritableStream;qt(K);let te=b._writeAlgorithm(k);N(te,()=>{uf(K);let he=K._state;if(Qr(b),!Pn(K)&&he==="writable"){let me=xn(b);Do(K,me)}Vs(b)},he=>{K._state==="writable"&&Ha(b),Uo(K,he)})}function xn(b){return qo(b)<=0}function Wa(b,k){let K=b._controlledWritableStream;Ha(b),Po(K,k)}function ma(b){return new TypeError(`WritableStream.prototype.${b} can only be used on a WritableStream`)}function jt(b){return new TypeError(`WritableStreamDefaultController.prototype.${b} can only be used on a WritableStreamDefaultController`)}function Mr(b){return new TypeError(`WritableStreamDefaultWriter.prototype.${b} can only be used on a WritableStreamDefaultWriter`)}function Pi(b){return new TypeError("Cannot "+b+" a stream using a released writer")}function qs(b){b._closedPromise=I((k,K)=>{b._closedPromise_resolve=k,b._closedPromise_reject=K,b._closedPromiseState="pending"})}function Fs(b,k){qs(b),Fo(b,k)}function gf(b){qs(b),Mo(b)}function Fo(b,k){b._closedPromise_reject!==void 0&&(S(b._closedPromise),b._closedPromise_reject(k),b._closedPromise_resolve=void 0,b._closedPromise_reject=void 0,b._closedPromiseState="rejected")}function mf(b,k){Fs(b,k)}function Mo(b){b._closedPromise_resolve!==void 0&&(b._closedPromise_resolve(void 0),b._closedPromise_resolve=void 0,b._closedPromise_reject=void 0,b._closedPromiseState="resolved")}function xi(b){b._readyPromise=I((k,K)=>{b._readyPromise_resolve=k,b._readyPromise_reject=K}),b._readyPromiseState="pending"}function hi(b,k){xi(b),zo(b,k)}function nl(b){xi(b),Ga(b)}function zo(b,k){b._readyPromise_reject!==void 0&&(S(b._readyPromise),b._readyPromise_reject(k),b._readyPromise_resolve=void 0,b._readyPromise_reject=void 0,b._readyPromiseState="rejected")}function il(b){xi(b)}function $o(b,k){hi(b,k)}function Ga(b){b._readyPromise_resolve!==void 0&&(b._readyPromise_resolve(void 0),b._readyPromise_resolve=void 0,b._readyPromise_reject=void 0,b._readyPromiseState="fulfilled")}let Ko=typeof DOMException<"u"?DOMException:void 0;function vf(b){if(!(typeof b=="function"||typeof b=="object"))return!1;try{return new b,!0}catch{return!1}}function Ho(){let b=function(k,K){this.message=k||"",this.name=K||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return b.prototype=Object.create(Error.prototype),Object.defineProperty(b.prototype,"constructor",{value:b,writable:!0,configurable:!0}),b}let Wo=vf(Ko)?Ko:Ho();function al(b,k,K,te,he,me){let Re=xe(b),qe=No(k);b._disturbed=!0;let nt=!1,st=C(void 0);return I((ct,dt)=>{let Ft;if(me!==void 0){if(Ft=()=>{let ze=new Wo("Aborted","AbortError"),ot=[];te||ot.push(()=>k._state==="writable"?Ds(k,ze):C(void 0)),he||ot.push(()=>b._state==="readable"?Ke(b,ze):C(void 0)),Zr(()=>Promise.all(ot.map(vt=>vt())),!0,ze)},me.aborted){Ft();return}me.addEventListener("abort",Ft)}function Or(){return I((ze,ot)=>{function vt(Lr){Lr?ze():T(Dn(),vt,ot)}vt(!1)})}function Dn(){return nt?C(!0):T(qe._readyPromise,()=>I((ze,ot)=>{kt(Re,{_chunkSteps:vt=>{st=T(ci(qe,vt),void 0,a),ze(!1)},_closeSteps:()=>ze(!0),_errorSteps:ot})}))}if(zr(b,Re._closedPromise,ze=>{te?cn(!0,ze):Zr(()=>Ds(k,ze),!0,ze)}),zr(k,qe._closedPromise,ze=>{he?cn(!0,ze):Zr(()=>Ke(b,ze),!0,ze)}),_r(b,Re._closedPromise,()=>{K?cn():Zr(()=>pf(qe))}),Pn(k)||k._state==="closed"){let ze=new TypeError("the destination writable stream closed before all data could be piped to it");he?cn(!0,ze):Zr(()=>Ke(b,ze),!0,ze)}S(Or());function Cn(){let ze=st;return T(st,()=>ze!==st?Cn():void 0)}function zr(ze,ot,vt){ze._state==="errored"?vt(ze._storedError):p(ot,vt)}function _r(ze,ot,vt){ze._state==="closed"?vt():B(ot,vt)}function Zr(ze,ot,vt){if(nt)return;nt=!0,k._state==="writable"&&!Pn(k)?B(Cn(),Lr):Lr();function Lr(){N(ze(),()=>zi(ot,vt),Q=>zi(!0,Q))}}function cn(ze,ot){nt||(nt=!0,k._state==="writable"&&!Pn(k)?B(Cn(),()=>zi(ze,ot)):zi(ze,ot))}function zi(ze,ot){js(qe),V(Re),me!==void 0&&me.removeEventListener("abort",Ft),ze?dt(ot):ct(void 0)}})}class Ui{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Ir(this))throw zs("desiredSize");return Go(this)}close(){if(!Ir(this))throw zs("close");if(!_a(this))throw new TypeError("The stream is not in a state that permits close");ba(this)}enqueue(k=void 0){if(!Ir(this))throw zs("enqueue");if(!_a(this))throw new TypeError("The stream is not in a state that permits enqueue");return Ms(this,k)}error(k=void 0){if(!Ir(this))throw zs("error");di(this,k)}[ke](k){Vr(this);let K=this._cancelAlgorithm(k);return Qa(this),K}[Le](k){let K=this._controlledReadableStream;if(this._queue.length>0){let te=Qr(this);this._closeRequested&&this._queue.length===0?(Qa(this),ft(K)):Di(this),k._chunkSteps(te)}else je(K,k),Di(this)}}Object.defineProperties(Ui.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Ui.prototype,r.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});function Ir(b){return!f(b)||!Object.prototype.hasOwnProperty.call(b,"_controlledReadableStream")?!1:b instanceof Ui}function Di(b){if(!va(b))return;if(b._pulling){b._pullAgain=!0;return}b._pulling=!0;let k=b._pullAlgorithm();N(k,()=>{b._pulling=!1,b._pullAgain&&(b._pullAgain=!1,Di(b))},K=>{di(b,K)})}function va(b){let k=b._controlledReadableStream;return!_a(b)||!b._started?!1:!!(Ue(k)&&Oe(k)>0||Go(b)>0)}function Qa(b){b._pullAlgorithm=void 0,b._cancelAlgorithm=void 0,b._strategySizeAlgorithm=void 0}function ba(b){if(!_a(b))return;let k=b._controlledReadableStream;b._closeRequested=!0,b._queue.length===0&&(Qa(b),ft(k))}function Ms(b,k){if(!_a(b))return;let K=b._controlledReadableStream;if(Ue(K)&&Oe(K)>0)ye(K,k,!1);else{let te;try{te=b._strategySizeAlgorithm(k)}catch(he){throw di(b,he),he}try{bn(b,k,te)}catch(he){throw di(b,he),he}}Di(b)}function di(b,k){let K=b._controlledReadableStream;K._state==="readable"&&(Vr(b),Qa(b),cr(K,k))}function Go(b){let k=b._controlledReadableStream._state;return k==="errored"?null:k==="closed"?0:b._strategyHWM-b._queueTotalSize}function bf(b){return!va(b)}function _a(b){let k=b._controlledReadableStream._state;return!b._closeRequested&&k==="readable"}function ji(b,k,K,te,he,me,Re){k._controlledReadableStream=b,k._queue=void 0,k._queueTotalSize=void 0,Vr(k),k._started=!1,k._closeRequested=!1,k._pullAgain=!1,k._pulling=!1,k._strategySizeAlgorithm=Re,k._strategyHWM=me,k._pullAlgorithm=te,k._cancelAlgorithm=he,b._readableStreamController=k;let qe=K();N(C(qe),()=>{k._started=!0,Di(k)},nt=>{di(k,nt)})}function _f(b,k,K,te){let he=Object.create(Ui.prototype),me=()=>{},Re=()=>C(void 0),qe=()=>C(void 0);k.start!==void 0&&(me=()=>k.start(he)),k.pull!==void 0&&(Re=()=>k.pull(he)),k.cancel!==void 0&&(qe=nt=>k.cancel(nt)),ji(b,he,me,Re,qe,K,te)}function zs(b){return new TypeError(`ReadableStreamDefaultController.prototype.${b} can only be used on a ReadableStreamDefaultController`)}function Qo(b,k){return Ut(b._readableStreamController)?pi(b):sl(b)}function sl(b,k){let K=xe(b),te=!1,he=!1,me=!1,Re=!1,qe,nt,st,ct,dt,Ft=I(_r=>{dt=_r});function Or(){return te?(he=!0,C(void 0)):(te=!0,kt(K,{_chunkSteps:_r=>{O(()=>{he=!1;let Zr=_r,cn=_r;me||Ms(st._readableStreamController,Zr),Re||Ms(ct._readableStreamController,cn),te=!1,he&&Or()})},_closeSteps:()=>{te=!1,me||ba(st._readableStreamController),Re||ba(ct._readableStreamController),(!me||!Re)&&dt(void 0)},_errorSteps:()=>{te=!1}}),C(void 0))}function Dn(_r){if(me=!0,qe=_r,Re){let Zr=Kt([qe,nt]),cn=Ke(b,Zr);dt(cn)}return Ft}function Cn(_r){if(Re=!0,nt=_r,me){let Zr=Kt([qe,nt]),cn=Ke(b,Zr);dt(cn)}return Ft}function zr(){}return st=Un(zr,Or,Dn),ct=Un(zr,Or,Cn),p(K._closedPromise,_r=>{di(st._readableStreamController,_r),di(ct._readableStreamController,_r),(!me||!Re)&&dt(void 0)}),[st,ct]}function pi(b){let k=xe(b),K=!1,te=!1,he=!1,me=!1,Re=!1,qe,nt,st,ct,dt,Ft=I(ze=>{dt=ze});function Or(ze){p(ze._closedPromise,ot=>{ze===k&&(Cr(st._readableStreamController,ot),Cr(ct._readableStreamController,ot),(!me||!Re)&&dt(void 0))})}function Dn(){X(k)&&(V(k),k=xe(b),Or(k)),kt(k,{_chunkSteps:ze=>{O(()=>{te=!1,he=!1;let ot=ze,vt=ze;if(!me&&!Re)try{vt=Gr(ze)}catch(Lr){Cr(st._readableStreamController,Lr),Cr(ct._readableStreamController,Lr),dt(Ke(b,Lr));return}me||_n(st._readableStreamController,ot),Re||_n(ct._readableStreamController,vt),K=!1,te?zr():he&&_r()})},_closeSteps:()=>{K=!1,me||ki(st._readableStreamController),Re||ki(ct._readableStreamController),st._readableStreamController._pendingPullIntos.length>0&&da(st._readableStreamController,0),ct._readableStreamController._pendingPullIntos.length>0&&da(ct._readableStreamController,0),(!me||!Re)&&dt(void 0)},_errorSteps:()=>{K=!1}})}function Cn(ze,ot){$e(k)&&(V(k),k=xs(b),Or(k));let vt=ot?ct:st,Lr=ot?st:ct;le(k,ze,{_chunkSteps:Q=>{O(()=>{te=!1,he=!1;let Tn=ot?Re:me;if(ot?me:Re)Tn||pa(vt._readableStreamController,Q);else{let Gn;try{Gn=Gr(Q)}catch($r){Cr(vt._readableStreamController,$r),Cr(Lr._readableStreamController,$r),dt(Ke(b,$r));return}Tn||pa(vt._readableStreamController,Q),_n(Lr._readableStreamController,Gn)}K=!1,te?zr():he&&_r()})},_closeSteps:Q=>{K=!1;let Tn=ot?Re:me,Gn=ot?me:Re;Tn||ki(vt._readableStreamController),Gn||ki(Lr._readableStreamController),Q!==void 0&&(Tn||pa(vt._readableStreamController,Q),!Gn&&Lr._readableStreamController._pendingPullIntos.length>0&&da(Lr._readableStreamController,0)),(!Tn||!Gn)&&dt(void 0)},_errorSteps:()=>{K=!1}})}function zr(){if(K)return te=!0,C(void 0);K=!0;let ze=za(st._readableStreamController);return ze===null?Dn():Cn(ze._view,!1),C(void 0)}function _r(){if(K)return he=!0,C(void 0);K=!0;let ze=za(ct._readableStreamController);return ze===null?Dn():Cn(ze._view,!0),C(void 0)}function Zr(ze){if(me=!0,qe=ze,Re){let ot=Kt([qe,nt]),vt=Ke(b,ot);dt(vt)}return Ft}function cn(ze){if(Re=!0,nt=ze,me){let ot=Kt([qe,nt]),vt=Ke(b,ot);dt(vt)}return Ft}function zi(){}return st=ce(zi,zr,Zr),ct=ce(zi,_r,cn),Or(k),[st,ct]}function $s(b,k){Ce(b,k);let K=b,te=K?.autoAllocateChunkSize,he=K?.cancel,me=K?.pull,Re=K?.start,qe=K?.type;return{autoAllocateChunkSize:te===void 0?void 0:ee(te,`${k} has member 'autoAllocateChunkSize' that`),cancel:he===void 0?void 0:wf(he,K,`${k} has member 'cancel' that`),pull:me===void 0?void 0:Sf(me,K,`${k} has member 'pull' that`),start:Re===void 0?void 0:Ef(Re,K,`${k} has member 'start' that`),type:qe===void 0?void 0:wa(qe,`${k} has member 'type' that`)}}function wf(b,k,K){return et(b,K),te=>E(b,k,[te])}function Sf(b,k,K){return et(b,K),te=>E(b,k,[te])}function Ef(b,k,K){return et(b,K),te=>D(b,k,[te])}function wa(b,k){if(b=`${b}`,b!=="bytes")throw new TypeError(`${k} '${b}' is not a valid enumeration value for ReadableStreamType`);return b}function Sn(b,k){Ce(b,k);let K=b?.mode;return{mode:K===void 0?void 0:ol(K,`${k} has member 'mode' that`)}}function ol(b,k){if(b=`${b}`,b!=="byob")throw new TypeError(`${k} '${b}' is not a valid enumeration value for ReadableStreamReaderMode`);return b}function Cf(b,k){return Ce(b,k),{preventCancel:!!b?.preventCancel}}function ul(b,k){Ce(b,k);let K=b?.preventAbort,te=b?.preventCancel,he=b?.preventClose,me=b?.signal;return me!==void 0&&Tf(me,`${k} has member 'signal' that`),{preventAbort:!!K,preventCancel:!!te,preventClose:!!he,signal:me}}function Tf(b,k){if(!gr(b))throw new TypeError(`${k} is not an AbortSignal.`)}function Af(b,k){Ce(b,k);let K=b?.readable;G(K,"readable","ReadableWritablePair"),_e(K,`${k} has member 'readable' that`);let te=b?.writable;return G(te,"writable","ReadableWritablePair"),Ar(te,`${k} has member 'writable' that`),{readable:K,writable:te}}class yi{constructor(k={},K={}){k===void 0?k=null:P(k,"First parameter");let te=Ne(K,"Second parameter"),he=$s(k,"First parameter");if(ge(this),he.type==="bytes"){if(te.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");let me=Se(te,0);Ls(this,he,me)}else{let me=Pe(te),Re=Se(te,1);_f(this,he,Re,me)}}get locked(){if(!pe(this))throw yt("locked");return Ue(this)}cancel(k=void 0){return pe(this)?Ue(this)?_(new TypeError("Cannot cancel a stream that already has a reader")):Ke(this,k):_(yt("cancel"))}getReader(k=void 0){if(!pe(this))throw yt("getReader");return Sn(k,"First parameter").mode===void 0?xe(this):xs(this)}pipeThrough(k,K={}){if(!pe(this))throw yt("pipeThrough");Y(k,1,"pipeThrough");let te=Af(k,"First parameter"),he=ul(K,"Second parameter");if(Ue(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(ga(te.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");let me=al(this,te.writable,he.preventClose,he.preventAbort,he.preventCancel,he.signal);return S(me),te.readable}pipeTo(k,K={}){if(!pe(this))return _(yt("pipeTo"));if(k===void 0)return _("Parameter 1 is required in 'pipeTo'.");if(!Oi(k))return _(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let te;try{te=ul(K,"Second parameter")}catch(he){return _(he)}return Ue(this)?_(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):ga(k)?_(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):al(this,k,te.preventClose,te.preventAbort,te.preventCancel,te.signal)}tee(){if(!pe(this))throw yt("tee");let k=Qo(this);return Kt(k)}values(k=void 0){if(!pe(this))throw yt("values");let K=Cf(k,"First parameter");return Lt(this,K.preventCancel)}}Object.defineProperties(yi.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(yi.prototype,r.toStringTag,{value:"ReadableStream",configurable:!0}),typeof r.asyncIterator=="symbol"&&Object.defineProperty(yi.prototype,r.asyncIterator,{value:yi.prototype.values,writable:!0,configurable:!0});function Un(b,k,K,te=1,he=()=>1){let me=Object.create(yi.prototype);ge(me);let Re=Object.create(Ui.prototype);return ji(me,Re,b,k,K,te,he),me}function ce(b,k,K){let te=Object.create(yi.prototype);ge(te);let he=Object.create(xt.prototype);return Os(te,he,b,k,K,0,void 0),te}function ge(b){b._state="readable",b._reader=void 0,b._storedError=void 0,b._disturbed=!1}function pe(b){return!f(b)||!Object.prototype.hasOwnProperty.call(b,"_readableStreamController")?!1:b instanceof yi}function Ue(b){return b._reader!==void 0}function Ke(b,k){if(b._disturbed=!0,b._state==="closed")return C(void 0);if(b._state==="errored")return _(b._storedError);ft(b);let K=b._reader;K!==void 0&&X(K)&&(K._readIntoRequests.forEach(he=>{he._closeSteps(void 0)}),K._readIntoRequests=new y);let te=b._readableStreamController[ke](k);return A(te,a)}function ft(b){b._state="closed";let k=b._reader;k!==void 0&&(oe(k),$e(k)&&(k._readRequests.forEach(K=>{K._closeSteps()}),k._readRequests=new y))}function cr(b,k){b._state="errored",b._storedError=k;let K=b._reader;K!==void 0&&(F(K,k),$e(K)?(K._readRequests.forEach(te=>{te._errorSteps(k)}),K._readRequests=new y):(K._readIntoRequests.forEach(te=>{te._errorSteps(k)}),K._readIntoRequests=new y))}function yt(b){return new TypeError(`ReadableStream.prototype.${b} can only be used on a ReadableStream`)}function Ks(b,k){Ce(b,k);let K=b?.highWaterMark;return G(K,"highWaterMark","QueuingStrategyInit"),{highWaterMark:R(K)}}let ll=b=>b.byteLength;try{Object.defineProperty(ll,"name",{value:"size",configurable:!0})}catch{}class Nr{constructor(k){Y(k,1,"ByteLengthQueuingStrategy"),k=Ks(k,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=k.highWaterMark}get highWaterMark(){if(!cl(this))throw Ya("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!cl(this))throw Ya("size");return ll}}Object.defineProperties(Nr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Nr.prototype,r.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});function Ya(b){return new TypeError(`ByteLengthQueuingStrategy.prototype.${b} can only be used on a ByteLengthQueuingStrategy`)}function cl(b){return!f(b)||!Object.prototype.hasOwnProperty.call(b,"_byteLengthQueuingStrategyHighWaterMark")?!1:b instanceof Nr}let Vi=()=>1;try{Object.defineProperty(Vi,"name",{value:"size",configurable:!0})}catch{}class qi{constructor(k){Y(k,1,"CountQueuingStrategy"),k=Ks(k,"First parameter"),this._countQueuingStrategyHighWaterMark=k.highWaterMark}get highWaterMark(){if(!_t(this))throw Za("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!_t(this))throw Za("size");return Vi}}Object.defineProperties(qi.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(qi.prototype,r.toStringTag,{value:"CountQueuingStrategy",configurable:!0});function Za(b){return new TypeError(`CountQueuingStrategy.prototype.${b} can only be used on a CountQueuingStrategy`)}function _t(b){return!f(b)||!Object.prototype.hasOwnProperty.call(b,"_countQueuingStrategyHighWaterMark")?!1:b instanceof qi}function If(b,k){Ce(b,k);let K=b?.flush,te=b?.readableType,he=b?.start,me=b?.transform,Re=b?.writableType;return{flush:K===void 0?void 0:fl(K,b,`${k} has member 'flush' that`),readableType:te,start:he===void 0?void 0:Hs(he,b,`${k} has member 'start' that`),transform:me===void 0?void 0:Rf(me,b,`${k} has member 'transform' that`),writableType:Re}}function fl(b,k,K){return et(b,K),te=>E(b,k,[te])}function Hs(b,k,K){return et(b,K),te=>D(b,k,[te])}function Rf(b,k,K){return et(b,K),(te,he)=>E(b,k,[te,he])}class Ws{constructor(k={},K={},te={}){k===void 0&&(k=null);let he=Ne(K,"Second parameter"),me=Ne(te,"Third parameter"),Re=If(k,"First parameter");if(Re.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(Re.writableType!==void 0)throw new RangeError("Invalid writableType specified");let qe=Se(me,0),nt=Pe(me),st=Se(he,1),ct=Pe(he),dt,Ft=I(Or=>{dt=Or});kf(this,Ft,st,ct,qe,nt),Gs(this,Re),Re.start!==void 0?dt(Re.start(this._transformStreamController)):dt(void 0)}get readable(){if(!Xa(this))throw dl("readable");return this._readable}get writable(){if(!Xa(this))throw dl("writable");return this._writable}}Object.defineProperties(Ws.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Ws.prototype,r.toStringTag,{value:"TransformStream",configurable:!0});function kf(b,k,K,te,he,me){function Re(){return k}function qe(Ft){return Nf(b,Ft)}function nt(Ft){return Of(b,Ft)}function st(){return Qs(b)}b._writable=Wu(Re,qe,st,nt,K,te);function ct(){return Ys(b)}function dt(Ft){return Fi(b,Ft),C(void 0)}b._readable=Un(Re,ct,dt,he,me),b._backpressure=void 0,b._backpressureChangePromise=void 0,b._backpressureChangePromise_resolve=void 0,Ja(b,!0),b._transformStreamController=void 0}function Xa(b){return!f(b)||!Object.prototype.hasOwnProperty.call(b,"_transformStreamController")?!1:b instanceof Ws}function En(b,k){di(b._readable._readableStreamController,k),Fi(b,k)}function Fi(b,k){Yo(b._transformStreamController),Fr(b._writable._writableStreamController,k),b._backpressure&&Ja(b,!1)}function Ja(b,k){b._backpressureChangePromise!==void 0&&b._backpressureChangePromise_resolve(),b._backpressureChangePromise=I(K=>{b._backpressureChangePromise_resolve=K}),b._backpressure=k}class gi{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!es(this))throw Ea("desiredSize");let k=this._controlledTransformStream._readable._readableStreamController;return Go(k)}enqueue(k=void 0){if(!es(this))throw Ea("enqueue");Sa(this,k)}error(k=void 0){if(!es(this))throw Ea("error");Mi(this,k)}terminate(){if(!es(this))throw Ea("terminate");Bf(this)}}Object.defineProperties(gi.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(gi.prototype,r.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});function es(b){return!f(b)||!Object.prototype.hasOwnProperty.call(b,"_controlledTransformStream")?!1:b instanceof gi}function hl(b,k,K,te){k._controlledTransformStream=b,b._transformStreamController=k,k._transformAlgorithm=K,k._flushAlgorithm=te}function Gs(b,k){let K=Object.create(gi.prototype),te=me=>{try{return Sa(K,me),C(void 0)}catch(Re){return _(Re)}},he=()=>C(void 0);k.transform!==void 0&&(te=me=>k.transform(me,K)),k.flush!==void 0&&(he=()=>k.flush(K)),hl(b,K,te,he)}function Yo(b){b._transformAlgorithm=void 0,b._flushAlgorithm=void 0}function Sa(b,k){let K=b._controlledTransformStream,te=K._readable._readableStreamController;if(!_a(te))throw new TypeError("Readable side is not in a state that permits enqueue");try{Ms(te,k)}catch(he){throw Fi(K,he),K._readable._storedError}bf(te)!==K._backpressure&&Ja(K,!0)}function Mi(b,k){En(b._controlledTransformStream,k)}function ts(b,k){let K=b._transformAlgorithm(k);return A(K,void 0,te=>{throw En(b._controlledTransformStream,te),te})}function Bf(b){let k=b._controlledTransformStream,K=k._readable._readableStreamController;ba(K);let te=new TypeError("TransformStream terminated");Fi(k,te)}function Nf(b,k){let K=b._transformStreamController;if(b._backpressure){let te=b._backpressureChangePromise;return A(te,()=>{let he=b._writable;if(he._state==="erroring")throw he._storedError;return ts(K,k)})}return ts(K,k)}function Of(b,k){return En(b,k),C(void 0)}function Qs(b){let k=b._readable,K=b._transformStreamController,te=K._flushAlgorithm();return Yo(K),A(te,()=>{if(k._state==="errored")throw k._storedError;ba(k._readableStreamController)},he=>{throw En(b,he),k._storedError})}function Ys(b){return Ja(b,!1),b._backpressureChangePromise}function Ea(b){return new TypeError(`TransformStreamDefaultController.prototype.${b} can only be used on a TransformStreamDefaultController`)}function dl(b){return new TypeError(`TransformStream.prototype.${b} can only be used on a TransformStream`)}t.ByteLengthQueuingStrategy=Nr,t.CountQueuingStrategy=qi,t.ReadableByteStreamController=xt,t.ReadableStream=yi,t.ReadableStreamBYOBReader=W,t.ReadableStreamBYOBRequest=Ln,t.ReadableStreamDefaultController=Ui,t.ReadableStreamDefaultReader=rt,t.TransformStream=Ws,t.TransformStreamDefaultController=gi,t.WritableStream=Wn,t.WritableStreamDefaultController=fi,t.WritableStreamDefaultWriter=Ka,Object.defineProperty(t,"__esModule",{value:!0})})}),mA=Qe(()=>{if(!globalThis.ReadableStream)try{let e=mo("process"),{emitWarning:n}=e;try{e.emitWarning=()=>{},Object.assign(globalThis,mo("stream/web")),e.emitWarning=n}catch(t){throw e.emitWarning=n,t}}catch{Object.assign(globalThis,gA())}try{let{Blob:e}=mo("buffer");e&&!e.prototype.stream&&(e.prototype.stream=function(n){let t=0,r=this;return new ReadableStream({type:"bytes",async pull(a){let u=await r.slice(t,Math.min(r.size,t+65536)).arrayBuffer();t+=u.byteLength,a.enqueue(new Uint8Array(u)),t===r.size&&a.close()}})})}catch{}}),vA=Qe(e=>{e.read=function(n,t,r,a,u){var c,f,l=u*8-a-1,s=(1<<l)-1,d=s>>1,h=-7,g=r?u-1:0,I=r?-1:1,C=n[t+g];for(g+=I,c=C&(1<<-h)-1,C>>=-h,h+=l;h>0;c=c*256+n[t+g],g+=I,h-=8);for(f=c&(1<<-h)-1,c>>=-h,h+=a;h>0;f=f*256+n[t+g],g+=I,h-=8);if(c===0)c=1-d;else{if(c===s)return f?NaN:(C?-1:1)*(1/0);f=f+Math.pow(2,a),c=c-d}return(C?-1:1)*f*Math.pow(2,c-a)},e.write=function(n,t,r,a,u,c){var f,l,s,d=c*8-u-1,h=(1<<d)-1,g=h>>1,I=u===23?Math.pow(2,-24)-Math.pow(2,-77):0,C=a?0:c-1,_=a?1:-1,T=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(l=isNaN(t)?1:0,f=h):(f=Math.floor(Math.log(t)/Math.LN2),t*(s=Math.pow(2,-f))<1&&(f--,s*=2),f+g>=1?t+=I/s:t+=I*Math.pow(2,1-g),t*s>=2&&(f++,s/=2),f+g>=h?(l=0,f=h):f+g>=1?(l=(t*s-1)*Math.pow(2,u),f=f+g):(l=t*Math.pow(2,g-1)*Math.pow(2,u),f=0));u>=8;n[r+C]=l&255,C+=_,l/=256,u-=8);for(f=f<<u|l,d+=u;d>0;n[r+C]=f&255,C+=_,f/=256,d-=8);n[r+C-_]|=T*128}}),bA=Qe((e,n)=>{"use strict";n.exports=r;var t=vA();function r(w){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(w)?w:new Uint8Array(w||0),this.pos=0,this.type=0,this.length=this.buf.length}r.Varint=0,r.Fixed64=1,r.Bytes=2,r.Fixed32=5;var a=65536*65536,u=1/a,c=12,f=typeof TextDecoder>"u"?null:new TextDecoder("utf8");r.prototype={destroy:function(){this.buf=null},readFields:function(w,x,j){for(j=j||this.length;this.pos<j;){var L=this.readVarint(),F=L>>3,J=this.pos;this.type=L&7,w(F,x,this),this.pos===J&&this.skip(L)}return x},readMessage:function(w,x){return this.readFields(w,x,this.readVarint()+this.pos)},readFixed32:function(){var w=E(this.buf,this.pos);return this.pos+=4,w},readSFixed32:function(){var w=y(this.buf,this.pos);return this.pos+=4,w},readFixed64:function(){var w=E(this.buf,this.pos)+E(this.buf,this.pos+4)*a;return this.pos+=8,w},readSFixed64:function(){var w=E(this.buf,this.pos)+y(this.buf,this.pos+4)*a;return this.pos+=8,w},readFloat:function(){var w=t.read(this.buf,this.pos,!0,23,4);return this.pos+=4,w},readDouble:function(){var w=t.read(this.buf,this.pos,!0,52,8);return this.pos+=8,w},readVarint:function(w){var x=this.buf,j,L;return L=x[this.pos++],j=L&127,L<128||(L=x[this.pos++],j|=(L&127)<<7,L<128)||(L=x[this.pos++],j|=(L&127)<<14,L<128)||(L=x[this.pos++],j|=(L&127)<<21,L<128)?j:(L=x[this.pos],j|=(L&15)<<28,l(j,w,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var w=this.readVarint();return w%2===1?(w+1)/-2:w/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var w=this.readVarint()+this.pos,x=this.pos;return this.pos=w,w-x>=c&&f?M(this.buf,x,w):q(this.buf,x,w)},readBytes:function(){var w=this.readVarint()+this.pos,x=this.buf.subarray(this.pos,w);return this.pos=w,x},readPackedVarint:function(w,x){if(this.type!==r.Bytes)return w.push(this.readVarint(x));var j=s(this);for(w=w||[];this.pos<j;)w.push(this.readVarint(x));return w},readPackedSVarint:function(w){if(this.type!==r.Bytes)return w.push(this.readSVarint());var x=s(this);for(w=w||[];this.pos<x;)w.push(this.readSVarint());return w},readPackedBoolean:function(w){if(this.type!==r.Bytes)return w.push(this.readBoolean());var x=s(this);for(w=w||[];this.pos<x;)w.push(this.readBoolean());return w},readPackedFloat:function(w){if(this.type!==r.Bytes)return w.push(this.readFloat());var x=s(this);for(w=w||[];this.pos<x;)w.push(this.readFloat());return w},readPackedDouble:function(w){if(this.type!==r.Bytes)return w.push(this.readDouble());var x=s(this);for(w=w||[];this.pos<x;)w.push(this.readDouble());return w},readPackedFixed32:function(w){if(this.type!==r.Bytes)return w.push(this.readFixed32());var x=s(this);for(w=w||[];this.pos<x;)w.push(this.readFixed32());return w},readPackedSFixed32:function(w){if(this.type!==r.Bytes)return w.push(this.readSFixed32());var x=s(this);for(w=w||[];this.pos<x;)w.push(this.readSFixed32());return w},readPackedFixed64:function(w){if(this.type!==r.Bytes)return w.push(this.readFixed64());var x=s(this);for(w=w||[];this.pos<x;)w.push(this.readFixed64());return w},readPackedSFixed64:function(w){if(this.type!==r.Bytes)return w.push(this.readSFixed64());var x=s(this);for(w=w||[];this.pos<x;)w.push(this.readSFixed64());return w},skip:function(w){var x=w&7;if(x===r.Varint)for(;this.buf[this.pos++]>127;);else if(x===r.Bytes)this.pos=this.readVarint()+this.pos;else if(x===r.Fixed32)this.pos+=4;else if(x===r.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+x)},writeTag:function(w,x){this.writeVarint(w<<3|x)},realloc:function(w){for(var x=this.length||16;x<this.pos+w;)x*=2;if(x!==this.length){var j=new Uint8Array(x);j.set(this.buf),this.buf=j,this.length=x}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(w){this.realloc(4),m(this.buf,w,this.pos),this.pos+=4},writeSFixed32:function(w){this.realloc(4),m(this.buf,w,this.pos),this.pos+=4},writeFixed64:function(w){this.realloc(8),m(this.buf,w&-1,this.pos),m(this.buf,Math.floor(w*u),this.pos+4),this.pos+=8},writeSFixed64:function(w){this.realloc(8),m(this.buf,w&-1,this.pos),m(this.buf,Math.floor(w*u),this.pos+4),this.pos+=8},writeVarint:function(w){if(w=+w||0,w>268435455||w<0){h(w,this);return}this.realloc(4),this.buf[this.pos++]=w&127|(w>127?128:0),!(w<=127)&&(this.buf[this.pos++]=(w>>>=7)&127|(w>127?128:0),!(w<=127)&&(this.buf[this.pos++]=(w>>>=7)&127|(w>127?128:0),!(w<=127)&&(this.buf[this.pos++]=w>>>7&127)))},writeSVarint:function(w){this.writeVarint(w<0?-w*2-1:w*2)},writeBoolean:function(w){this.writeVarint(!!w)},writeString:function(w){w=String(w),this.realloc(w.length*4),this.pos++;var x=this.pos;this.pos=V(this.buf,w,this.pos);var j=this.pos-x;j>=128&&C(x,j,this),this.pos=x-1,this.writeVarint(j),this.pos+=j},writeFloat:function(w){this.realloc(4),t.write(this.buf,w,this.pos,!0,23,4),this.pos+=4},writeDouble:function(w){this.realloc(8),t.write(this.buf,w,this.pos,!0,52,8),this.pos+=8},writeBytes:function(w){var x=w.length;this.writeVarint(x),this.realloc(x);for(var j=0;j<x;j++)this.buf[this.pos++]=w[j]},writeRawMessage:function(w,x){this.pos++;var j=this.pos;w(x,this);var L=this.pos-j;L>=128&&C(j,L,this),this.pos=j-1,this.writeVarint(L),this.pos+=L},writeMessage:function(w,x,j){this.writeTag(w,r.Bytes),this.writeRawMessage(x,j)},writePackedVarint:function(w,x){x.length&&this.writeMessage(w,_,x)},writePackedSVarint:function(w,x){x.length&&this.writeMessage(w,T,x)},writePackedBoolean:function(w,x){x.length&&this.writeMessage(w,p,x)},writePackedFloat:function(w,x){x.length&&this.writeMessage(w,N,x)},writePackedDouble:function(w,x){x.length&&this.writeMessage(w,B,x)},writePackedFixed32:function(w,x){x.length&&this.writeMessage(w,A,x)},writePackedSFixed32:function(w,x){x.length&&this.writeMessage(w,S,x)},writePackedFixed64:function(w,x){x.length&&this.writeMessage(w,O,x)},writePackedSFixed64:function(w,x){x.length&&this.writeMessage(w,D,x)},writeBytesField:function(w,x){this.writeTag(w,r.Bytes),this.writeBytes(x)},writeFixed32Field:function(w,x){this.writeTag(w,r.Fixed32),this.writeFixed32(x)},writeSFixed32Field:function(w,x){this.writeTag(w,r.Fixed32),this.writeSFixed32(x)},writeFixed64Field:function(w,x){this.writeTag(w,r.Fixed64),this.writeFixed64(x)},writeSFixed64Field:function(w,x){this.writeTag(w,r.Fixed64),this.writeSFixed64(x)},writeVarintField:function(w,x){this.writeTag(w,r.Varint),this.writeVarint(x)},writeSVarintField:function(w,x){this.writeTag(w,r.Varint),this.writeSVarint(x)},writeStringField:function(w,x){this.writeTag(w,r.Bytes),this.writeString(x)},writeFloatField:function(w,x){this.writeTag(w,r.Fixed32),this.writeFloat(x)},writeDoubleField:function(w,x){this.writeTag(w,r.Fixed64),this.writeDouble(x)},writeBooleanField:function(w,x){this.writeVarintField(w,!!x)}};function l(w,x,j){var L=j.buf,F,J;if(J=L[j.pos++],F=(J&112)>>4,J<128||(J=L[j.pos++],F|=(J&127)<<3,J<128)||(J=L[j.pos++],F|=(J&127)<<10,J<128)||(J=L[j.pos++],F|=(J&127)<<17,J<128)||(J=L[j.pos++],F|=(J&127)<<24,J<128)||(J=L[j.pos++],F|=(J&1)<<31,J<128))return d(w,F,x);throw new Error("Expected varint not more than 10 bytes")}function s(w){return w.type===r.Bytes?w.readVarint()+w.pos:w.pos+1}function d(w,x,j){return j?x*4294967296+(w>>>0):(x>>>0)*4294967296+(w>>>0)}function h(w,x){var j,L;if(w>=0?(j=w%4294967296|0,L=w/4294967296|0):(j=~(-w%4294967296),L=~(-w/4294967296),j^4294967295?j=j+1|0:(j=0,L=L+1|0)),w>=18446744073709552e3||w<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");x.realloc(10),g(j,L,x),I(L,x)}function g(w,x,j){j.buf[j.pos++]=w&127|128,w>>>=7,j.buf[j.pos++]=w&127|128,w>>>=7,j.buf[j.pos++]=w&127|128,w>>>=7,j.buf[j.pos++]=w&127|128,w>>>=7,j.buf[j.pos]=w&127}function I(w,x){var j=(w&7)<<4;x.buf[x.pos++]|=j|((w>>>=3)?128:0),w&&(x.buf[x.pos++]=w&127|((w>>>=7)?128:0),w&&(x.buf[x.pos++]=w&127|((w>>>=7)?128:0),w&&(x.buf[x.pos++]=w&127|((w>>>=7)?128:0),w&&(x.buf[x.pos++]=w&127|((w>>>=7)?128:0),w&&(x.buf[x.pos++]=w&127)))))}function C(w,x,j){var L=x<=16383?1:x<=2097151?2:x<=268435455?3:Math.floor(Math.log(x)/(Math.LN2*7));j.realloc(L);for(var F=j.pos-1;F>=w;F--)j.buf[F+L]=j.buf[F]}function _(w,x){for(var j=0;j<w.length;j++)x.writeVarint(w[j])}function T(w,x){for(var j=0;j<w.length;j++)x.writeSVarint(w[j])}function N(w,x){for(var j=0;j<w.length;j++)x.writeFloat(w[j])}function B(w,x){for(var j=0;j<w.length;j++)x.writeDouble(w[j])}function p(w,x){for(var j=0;j<w.length;j++)x.writeBoolean(w[j])}function A(w,x){for(var j=0;j<w.length;j++)x.writeFixed32(w[j])}function S(w,x){for(var j=0;j<w.length;j++)x.writeSFixed32(w[j])}function O(w,x){for(var j=0;j<w.length;j++)x.writeFixed64(w[j])}function D(w,x){for(var j=0;j<w.length;j++)x.writeSFixed64(w[j])}function E(w,x){return(w[x]|w[x+1]<<8|w[x+2]<<16)+w[x+3]*16777216}function m(w,x,j){w[j]=x,w[j+1]=x>>>8,w[j+2]=x>>>16,w[j+3]=x>>>24}function y(w,x){return(w[x]|w[x+1]<<8|w[x+2]<<16)+(w[x+3]<<24)}function q(w,x,j){for(var L="",F=x;F<j;){var J=w[F],oe=null,se=J>239?4:J>223?3:J>191?2:1;if(F+se>j)break;var de,ke,Le;se===1?J<128&&(oe=J):se===2?(de=w[F+1],(de&192)===128&&(oe=(J&31)<<6|de&63,oe<=127&&(oe=null))):se===3?(de=w[F+1],ke=w[F+2],(de&192)===128&&(ke&192)===128&&(oe=(J&15)<<12|(de&63)<<6|ke&63,(oe<=2047||oe>=55296&&oe<=57343)&&(oe=null))):se===4&&(de=w[F+1],ke=w[F+2],Le=w[F+3],(de&192)===128&&(ke&192)===128&&(Le&192)===128&&(oe=(J&15)<<18|(de&63)<<12|(ke&63)<<6|Le&63,(oe<=65535||oe>=1114112)&&(oe=null))),oe===null?(oe=65533,se=1):oe>65535&&(oe-=65536,L+=String.fromCharCode(oe>>>10&1023|55296),oe=56320|oe&1023),L+=String.fromCharCode(oe),F+=se}return L}function M(w,x,j){return f.decode(w.subarray(x,j))}function V(w,x,j){for(var L=0,F,J;L<x.length;L++){if(F=x.charCodeAt(L),F>55295&&F<57344)if(J)if(F<56320){w[j++]=239,w[j++]=191,w[j++]=189,J=F;continue}else F=J-55296<<10|F-56320|65536,J=null;else{F>56319||L+1===x.length?(w[j++]=239,w[j++]=191,w[j++]=189):J=F;continue}else J&&(w[j++]=239,w[j++]=191,w[j++]=189,J=null);F<128?w[j++]=F:(F<2048?w[j++]=F>>6|192:(F<65536?w[j++]=F>>12|224:(w[j++]=F>>18|240,w[j++]=F>>12&63|128),w[j++]=F>>6&63|128),w[j++]=F&63|128)}return j}}),_A=Qe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});function n(f){var l=f+48;return l+=9-f>>>8&-48+65-10,String.fromCharCode(l)}function t(f){var l=f+48;return l+=9-f>>>8&-48+97-10,String.fromCharCode(l)}var r=256;function a(f){var l=r;return l+=(47-f&f-58)>>8&-r+f-48,l+=(64-f&f-71)>>8&-r+f-65+10,l+=(96-f&f-103)>>8&-r+f-97+10,l}function u(f,l){l===void 0&&(l=!1);for(var s=l?t:n,d="",h=0;h<f.length;h++)d+=s(f[h]>>>4),d+=s(f[h]&15);return d}e.encode=u;function c(f){if(f.length===0)return new Uint8Array(0);if(f.length%2!==0)throw new Error("hex: input string must be divisible by two");for(var l=new Uint8Array(f.length/2),s=0,d=0;d<f.length;d+=2){var h=a(f.charCodeAt(d)),g=a(f.charCodeAt(d+1));l[d/2]=h<<4|g,s|=h&r,s|=g&r}if(s!==0)throw new Error("hex: incorrect characters for decoding");return l}e.decode=c}),wA=Qe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});function n(f,l){var s=f>>>16&65535,d=f&65535,h=l>>>16&65535,g=l&65535;return d*g+(s*g+d*h<<16>>>0)|0}e.mul=Math.imul||n;function t(f,l){return f+l|0}e.add=t;function r(f,l){return f-l|0}e.sub=r;function a(f,l){return f<<l|f>>>32-l}e.rotl=a;function u(f,l){return f<<32-l|f>>>l}e.rotr=u;function c(f){return typeof f=="number"&&isFinite(f)&&Math.floor(f)===f}e.isInteger=Number.isInteger||c,e.MAX_SAFE_INTEGER=9007199254740991,e.isSafeInteger=function(f){return e.isInteger(f)&&f>=-e.MAX_SAFE_INTEGER&&f<=e.MAX_SAFE_INTEGER}}),SA=Qe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=wA();function t(j,L){return L===void 0&&(L=0),(j[L+0]<<8|j[L+1])<<16>>16}e.readInt16BE=t;function r(j,L){return L===void 0&&(L=0),(j[L+0]<<8|j[L+1])>>>0}e.readUint16BE=r;function a(j,L){return L===void 0&&(L=0),(j[L+1]<<8|j[L])<<16>>16}e.readInt16LE=a;function u(j,L){return L===void 0&&(L=0),(j[L+1]<<8|j[L])>>>0}e.readUint16LE=u;function c(j,L,F){return L===void 0&&(L=new Uint8Array(2)),F===void 0&&(F=0),L[F+0]=j>>>8,L[F+1]=j>>>0,L}e.writeUint16BE=c,e.writeInt16BE=c;function f(j,L,F){return L===void 0&&(L=new Uint8Array(2)),F===void 0&&(F=0),L[F+0]=j>>>0,L[F+1]=j>>>8,L}e.writeUint16LE=f,e.writeInt16LE=f;function l(j,L){return L===void 0&&(L=0),j[L]<<24|j[L+1]<<16|j[L+2]<<8|j[L+3]}e.readInt32BE=l;function s(j,L){return L===void 0&&(L=0),(j[L]<<24|j[L+1]<<16|j[L+2]<<8|j[L+3])>>>0}e.readUint32BE=s;function d(j,L){return L===void 0&&(L=0),j[L+3]<<24|j[L+2]<<16|j[L+1]<<8|j[L]}e.readInt32LE=d;function h(j,L){return L===void 0&&(L=0),(j[L+3]<<24|j[L+2]<<16|j[L+1]<<8|j[L])>>>0}e.readUint32LE=h;function g(j,L,F){return L===void 0&&(L=new Uint8Array(4)),F===void 0&&(F=0),L[F+0]=j>>>24,L[F+1]=j>>>16,L[F+2]=j>>>8,L[F+3]=j>>>0,L}e.writeUint32BE=g,e.writeInt32BE=g;function I(j,L,F){return L===void 0&&(L=new Uint8Array(4)),F===void 0&&(F=0),L[F+0]=j>>>0,L[F+1]=j>>>8,L[F+2]=j>>>16,L[F+3]=j>>>24,L}e.writeUint32LE=I,e.writeInt32LE=I;function C(j,L){L===void 0&&(L=0);var F=l(j,L),J=l(j,L+4);return F*4294967296+J-(J>>31)*4294967296}e.readInt64BE=C;function _(j,L){L===void 0&&(L=0);var F=s(j,L),J=s(j,L+4);return F*4294967296+J}e.readUint64BE=_;function T(j,L){L===void 0&&(L=0);var F=d(j,L),J=d(j,L+4);return J*4294967296+F-(F>>31)*4294967296}e.readInt64LE=T;function N(j,L){L===void 0&&(L=0);var F=h(j,L),J=h(j,L+4);return J*4294967296+F}e.readUint64LE=N;function B(j,L,F){return L===void 0&&(L=new Uint8Array(8)),F===void 0&&(F=0),g(j/4294967296>>>0,L,F),g(j>>>0,L,F+4),L}e.writeUint64BE=B,e.writeInt64BE=B;function p(j,L,F){return L===void 0&&(L=new Uint8Array(8)),F===void 0&&(F=0),I(j>>>0,L,F),I(j/4294967296>>>0,L,F+4),L}e.writeUint64LE=p,e.writeInt64LE=p;function A(j,L,F){if(F===void 0&&(F=0),j%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(j/8>L.length-F)throw new Error("readUintBE: array is too short for the given bitLength");for(var J=0,oe=1,se=j/8+F-1;se>=F;se--)J+=L[se]*oe,oe*=256;return J}e.readUintBE=A;function S(j,L,F){if(F===void 0&&(F=0),j%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(j/8>L.length-F)throw new Error("readUintLE: array is too short for the given bitLength");for(var J=0,oe=1,se=F;se<F+j/8;se++)J+=L[se]*oe,oe*=256;return J}e.readUintLE=S;function O(j,L,F,J){if(F===void 0&&(F=new Uint8Array(j/8)),J===void 0&&(J=0),j%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!n.isSafeInteger(L))throw new Error("writeUintBE value must be an integer");for(var oe=1,se=j/8+J-1;se>=J;se--)F[se]=L/oe&255,oe*=256;return F}e.writeUintBE=O;function D(j,L,F,J){if(F===void 0&&(F=new Uint8Array(j/8)),J===void 0&&(J=0),j%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!n.isSafeInteger(L))throw new Error("writeUintLE value must be an integer");for(var oe=1,se=J;se<J+j/8;se++)F[se]=L/oe&255,oe*=256;return F}e.writeUintLE=D;function E(j,L){L===void 0&&(L=0);var F=new DataView(j.buffer,j.byteOffset,j.byteLength);return F.getFloat32(L)}e.readFloat32BE=E;function m(j,L){L===void 0&&(L=0);var F=new DataView(j.buffer,j.byteOffset,j.byteLength);return F.getFloat32(L,!0)}e.readFloat32LE=m;function y(j,L){L===void 0&&(L=0);var F=new DataView(j.buffer,j.byteOffset,j.byteLength);return F.getFloat64(L)}e.readFloat64BE=y;function q(j,L){L===void 0&&(L=0);var F=new DataView(j.buffer,j.byteOffset,j.byteLength);return F.getFloat64(L,!0)}e.readFloat64LE=q;function M(j,L,F){L===void 0&&(L=new Uint8Array(4)),F===void 0&&(F=0);var J=new DataView(L.buffer,L.byteOffset,L.byteLength);return J.setFloat32(F,j),L}e.writeFloat32BE=M;function V(j,L,F){L===void 0&&(L=new Uint8Array(4)),F===void 0&&(F=0);var J=new DataView(L.buffer,L.byteOffset,L.byteLength);return J.setFloat32(F,j,!0),L}e.writeFloat32LE=V;function w(j,L,F){L===void 0&&(L=new Uint8Array(8)),F===void 0&&(F=0);var J=new DataView(L.buffer,L.byteOffset,L.byteLength);return J.setFloat64(F,j),L}e.writeFloat64BE=w;function x(j,L,F){L===void 0&&(L=new Uint8Array(8)),F===void 0&&(F=0);var J=new DataView(L.buffer,L.byteOffset,L.byteLength);return J.setFloat64(F,j,!0),L}e.writeFloat64LE=x}),EA=Qe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});function n(t){for(var r=0;r<t.length;r++)t[r]=0;return t}e.wipe=n}),CA=Qe(e=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=SA(),t=EA();e.DIGEST_LENGTH=32,e.BLOCK_SIZE=64;var r=function(){function f(){this.digestLength=e.DIGEST_LENGTH,this.blockSize=e.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return f.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},f.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},f.prototype.clean=function(){t.wipe(this._buffer),t.wipe(this._temp),this.reset()},f.prototype.update=function(l,s){if(s===void 0&&(s=l.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var d=0;if(this._bytesHashed+=s,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&s>0;)this._buffer[this._bufferLength++]=l[d++],s--;this._bufferLength===this.blockSize&&(u(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(s>=this.blockSize&&(d=u(this._temp,this._state,l,d,s),s%=this.blockSize);s>0;)this._buffer[this._bufferLength++]=l[d++],s--;return this},f.prototype.finish=function(l){if(!this._finished){var s=this._bytesHashed,d=this._bufferLength,h=s/536870912|0,g=s<<3,I=s%64<56?64:128;this._buffer[d]=128;for(var C=d+1;C<I-8;C++)this._buffer[C]=0;n.writeUint32BE(h,this._buffer,I-8),n.writeUint32BE(g,this._buffer,I-4),u(this._temp,this._state,this._buffer,0,I),this._finished=!0}for(var C=0;C<this.digestLength/4;C++)n.writeUint32BE(this._state[C],l,C*4);return this},f.prototype.digest=function(){var l=new Uint8Array(this.digestLength);return this.finish(l),l},f.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},f.prototype.restoreState=function(l){return this._state.set(l.state),this._bufferLength=l.bufferLength,l.buffer&&this._buffer.set(l.buffer),this._bytesHashed=l.bytesHashed,this._finished=!1,this},f.prototype.cleanSavedState=function(l){t.wipe(l.state),l.buffer&&t.wipe(l.buffer),l.bufferLength=0,l.bytesHashed=0},f}();e.SHA256=r;var a=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function u(f,l,s,d,h){for(;h>=64;){for(var g=l[0],I=l[1],C=l[2],_=l[3],T=l[4],N=l[5],B=l[6],p=l[7],A=0;A<16;A++){var S=d+A*4;f[A]=n.readUint32BE(s,S)}for(var A=16;A<64;A++){var O=f[A-2],D=(O>>>17|O<<32-17)^(O>>>19|O<<32-19)^O>>>10;O=f[A-15];var E=(O>>>7|O<<32-7)^(O>>>18|O<<32-18)^O>>>3;f[A]=(D+f[A-7]|0)+(E+f[A-16]|0)}for(var A=0;A<64;A++){var D=(((T>>>6|T<<26)^(T>>>11|T<<21)^(T>>>25|T<<7))+(T&N^~T&B)|0)+(p+(a[A]+f[A]|0)|0)|0,E=((g>>>2|g<<32-2)^(g>>>13|g<<32-13)^(g>>>22|g<<32-22))+(g&I^g&C^I&C)|0;p=B,B=N,N=T,T=_+D|0,_=C,C=I,I=g,g=D+E|0}l[0]+=g,l[1]+=I,l[2]+=C,l[3]+=_,l[4]+=T,l[5]+=N,l[6]+=B,l[7]+=p,d+=64,h-=64}return d}function c(f){var l=new r;l.update(f);var s=l.digest();return l.clean(),s}e.hash=c}),lt=Qe((e,n)=>{n.exports={options:{usePureJavaScript:!1}}}),TA=Qe((e,n)=>{var t={};n.exports=t;var r={};t.encode=function(u,c,f){if(typeof c!="string")throw new TypeError('"alphabet" must be a string.');if(f!==void 0&&typeof f!="number")throw new TypeError('"maxline" must be a number.');var l="";if(!(u instanceof Uint8Array))l=a(u,c);else{var s=0,d=c.length,h=c.charAt(0),g=[0];for(s=0;s<u.length;++s){for(var I=0,C=u[s];I<g.length;++I)C+=g[I]<<8,g[I]=C%d,C=C/d|0;for(;C>0;)g.push(C%d),C=C/d|0}for(s=0;u[s]===0&&s<u.length-1;++s)l+=h;for(s=g.length-1;s>=0;--s)l+=c[g[s]]}if(f){var _=new RegExp(".{1,"+f+"}","g");l=l.match(_).join(`\r
`)}return l},t.decode=function(u,c){if(typeof u!="string")throw new TypeError('"input" must be a string.');if(typeof c!="string")throw new TypeError('"alphabet" must be a string.');var f=r[c];if(!f){f=r[c]=[];for(var l=0;l<c.length;++l)f[c.charCodeAt(l)]=l}u=u.replace(/\s/g,"");for(var s=c.length,d=c.charAt(0),h=[0],l=0;l<u.length;l++){var g=f[u.charCodeAt(l)];if(g===void 0)return;for(var I=0,C=g;I<h.length;++I)C+=h[I]*s,h[I]=C&255,C>>=8;for(;C>0;)h.push(C&255),C>>=8}for(var _=0;u[_]===d&&_<u.length-1;++_)h.push(0);return typeof Buffer<"u"?Buffer.from(h.reverse()):new Uint8Array(h.reverse())};function a(u,c){var f=0,l=c.length,s=c.charAt(0),d=[0];for(f=0;f<u.length();++f){for(var h=0,g=u.at(f);h<d.length;++h)g+=d[h]<<8,d[h]=g%l,g=g/l|0;for(;g>0;)d.push(g%l),g=g/l|0}var I="";for(f=0;u.at(f)===0&&f<u.length()-1;++f)I+=s;for(f=d.length-1;f>=0;--f)I+=c[d[f]];return I}}),St=Qe((e,n)=>{var t=lt(),r=TA(),a=n.exports=t.util=t.util||{};(function(){if(typeof process<"u"&&process.nextTick&&!process.browser){a.nextTick=process.nextTick,typeof setImmediate=="function"?a.setImmediate=setImmediate:a.setImmediate=a.nextTick;return}if(typeof setImmediate=="function"){a.setImmediate=function(){return setImmediate.apply(void 0,arguments)},a.nextTick=function(y){return setImmediate(y)};return}if(a.setImmediate=function(y){setTimeout(y,0)},typeof window<"u"&&typeof window.postMessage=="function"){let y=function(q){if(q.source===window&&q.data===A){q.stopPropagation();var M=S.slice();S.length=0,M.forEach(function(V){V()})}};var p=y,A="forge.setImmediate",S=[];a.setImmediate=function(q){S.push(q),S.length===1&&window.postMessage(A,"*")},window.addEventListener("message",y,!0)}if(typeof MutationObserver<"u"){var O=Date.now(),D=!0,E=document.createElement("div"),S=[];new MutationObserver(function(){var q=S.slice();S.length=0,q.forEach(function(M){M()})}).observe(E,{attributes:!0});var m=a.setImmediate;a.setImmediate=function(q){Date.now()-O>15?(O=Date.now(),m(q)):(S.push(q),S.length===1&&E.setAttribute("a",D=!D))}}a.nextTick=a.setImmediate})(),a.isNodejs=typeof process<"u"&&process.versions&&process.versions.node,a.globalScope=function(){return a.isNodejs?global:typeof self>"u"?window:self}(),a.isArray=Array.isArray||function(p){return Object.prototype.toString.call(p)==="[object Array]"},a.isArrayBuffer=function(p){return typeof ArrayBuffer<"u"&&p instanceof ArrayBuffer},a.isArrayBufferView=function(p){return p&&a.isArrayBuffer(p.buffer)&&p.byteLength!==void 0};function u(p){if(!(p===8||p===16||p===24||p===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+p)}a.ByteBuffer=c;function c(p){if(this.data="",this.read=0,typeof p=="string")this.data=p;else if(a.isArrayBuffer(p)||a.isArrayBufferView(p))if(typeof Buffer<"u"&&p instanceof Buffer)this.data=p.toString("binary");else{var A=new Uint8Array(p);try{this.data=String.fromCharCode.apply(null,A)}catch{for(var S=0;S<A.length;++S)this.putByte(A[S])}}else(p instanceof c||typeof p=="object"&&typeof p.data=="string"&&typeof p.read=="number")&&(this.data=p.data,this.read=p.read);this._constructedStringLength=0}a.ByteStringBuffer=c;var f=4096;a.ByteStringBuffer.prototype._optimizeConstructedString=function(p){this._constructedStringLength+=p,this._constructedStringLength>f&&(this.data.substr(0,1),this._constructedStringLength=0)},a.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},a.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},a.ByteStringBuffer.prototype.putByte=function(p){return this.putBytes(String.fromCharCode(p))},a.ByteStringBuffer.prototype.fillWithByte=function(p,A){p=String.fromCharCode(p);for(var S=this.data;A>0;)A&1&&(S+=p),A>>>=1,A>0&&(p+=p);return this.data=S,this._optimizeConstructedString(A),this},a.ByteStringBuffer.prototype.putBytes=function(p){return this.data+=p,this._optimizeConstructedString(p.length),this},a.ByteStringBuffer.prototype.putString=function(p){return this.putBytes(a.encodeUtf8(p))},a.ByteStringBuffer.prototype.putInt16=function(p){return this.putBytes(String.fromCharCode(p>>8&255)+String.fromCharCode(p&255))},a.ByteStringBuffer.prototype.putInt24=function(p){return this.putBytes(String.fromCharCode(p>>16&255)+String.fromCharCode(p>>8&255)+String.fromCharCode(p&255))},a.ByteStringBuffer.prototype.putInt32=function(p){return this.putBytes(String.fromCharCode(p>>24&255)+String.fromCharCode(p>>16&255)+String.fromCharCode(p>>8&255)+String.fromCharCode(p&255))},a.ByteStringBuffer.prototype.putInt16Le=function(p){return this.putBytes(String.fromCharCode(p&255)+String.fromCharCode(p>>8&255))},a.ByteStringBuffer.prototype.putInt24Le=function(p){return this.putBytes(String.fromCharCode(p&255)+String.fromCharCode(p>>8&255)+String.fromCharCode(p>>16&255))},a.ByteStringBuffer.prototype.putInt32Le=function(p){return this.putBytes(String.fromCharCode(p&255)+String.fromCharCode(p>>8&255)+String.fromCharCode(p>>16&255)+String.fromCharCode(p>>24&255))},a.ByteStringBuffer.prototype.putInt=function(p,A){u(A);var S="";do A-=8,S+=String.fromCharCode(p>>A&255);while(A>0);return this.putBytes(S)},a.ByteStringBuffer.prototype.putSignedInt=function(p,A){return p<0&&(p+=2<<A-1),this.putInt(p,A)},a.ByteStringBuffer.prototype.putBuffer=function(p){return this.putBytes(p.getBytes())},a.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},a.ByteStringBuffer.prototype.getInt16=function(){var p=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,p},a.ByteStringBuffer.prototype.getInt24=function(){var p=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,p},a.ByteStringBuffer.prototype.getInt32=function(){var p=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,p},a.ByteStringBuffer.prototype.getInt16Le=function(){var p=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,p},a.ByteStringBuffer.prototype.getInt24Le=function(){var p=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,p},a.ByteStringBuffer.prototype.getInt32Le=function(){var p=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,p},a.ByteStringBuffer.prototype.getInt=function(p){u(p);var A=0;do A=(A<<8)+this.data.charCodeAt(this.read++),p-=8;while(p>0);return A},a.ByteStringBuffer.prototype.getSignedInt=function(p){var A=this.getInt(p),S=2<<p-2;return A>=S&&(A-=S<<1),A},a.ByteStringBuffer.prototype.getBytes=function(p){var A;return p?(p=Math.min(this.length(),p),A=this.data.slice(this.read,this.read+p),this.read+=p):p===0?A="":(A=this.read===0?this.data:this.data.slice(this.read),this.clear()),A},a.ByteStringBuffer.prototype.bytes=function(p){return typeof p>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+p)},a.ByteStringBuffer.prototype.at=function(p){return this.data.charCodeAt(this.read+p)},a.ByteStringBuffer.prototype.setAt=function(p,A){return this.data=this.data.substr(0,this.read+p)+String.fromCharCode(A)+this.data.substr(this.read+p+1),this},a.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},a.ByteStringBuffer.prototype.copy=function(){var p=a.createBuffer(this.data);return p.read=this.read,p},a.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},a.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},a.ByteStringBuffer.prototype.truncate=function(p){var A=Math.max(0,this.length()-p);return this.data=this.data.substr(this.read,A),this.read=0,this},a.ByteStringBuffer.prototype.toHex=function(){for(var p="",A=this.read;A<this.data.length;++A){var S=this.data.charCodeAt(A);S<16&&(p+="0"),p+=S.toString(16)}return p},a.ByteStringBuffer.prototype.toString=function(){return a.decodeUtf8(this.bytes())};function l(p,A){A=A||{},this.read=A.readOffset||0,this.growSize=A.growSize||1024;var S=a.isArrayBuffer(p),O=a.isArrayBufferView(p);if(S||O){S?this.data=new DataView(p):this.data=new DataView(p.buffer,p.byteOffset,p.byteLength),this.write="writeOffset"in A?A.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,p!=null&&this.putBytes(p),"writeOffset"in A&&(this.write=A.writeOffset)}a.DataBuffer=l,a.DataBuffer.prototype.length=function(){return this.write-this.read},a.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},a.DataBuffer.prototype.accommodate=function(p,A){if(this.length()>=p)return this;A=Math.max(A||this.growSize,p);var S=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),O=new Uint8Array(this.length()+A);return O.set(S),this.data=new DataView(O.buffer),this},a.DataBuffer.prototype.putByte=function(p){return this.accommodate(1),this.data.setUint8(this.write++,p),this},a.DataBuffer.prototype.fillWithByte=function(p,A){this.accommodate(A);for(var S=0;S<A;++S)this.data.setUint8(p);return this},a.DataBuffer.prototype.putBytes=function(p,A){if(a.isArrayBufferView(p)){var S=new Uint8Array(p.buffer,p.byteOffset,p.byteLength),O=S.byteLength-S.byteOffset;this.accommodate(O);var D=new Uint8Array(this.data.buffer,this.write);return D.set(S),this.write+=O,this}if(a.isArrayBuffer(p)){var S=new Uint8Array(p);this.accommodate(S.byteLength);var D=new Uint8Array(this.data.buffer);return D.set(S,this.write),this.write+=S.byteLength,this}if(p instanceof a.DataBuffer||typeof p=="object"&&typeof p.read=="number"&&typeof p.write=="number"&&a.isArrayBufferView(p.data)){var S=new Uint8Array(p.data.byteLength,p.read,p.length());this.accommodate(S.byteLength);var D=new Uint8Array(p.data.byteLength,this.write);return D.set(S),this.write+=S.byteLength,this}if(p instanceof a.ByteStringBuffer&&(p=p.data,A="binary"),A=A||"binary",typeof p=="string"){var E;if(A==="hex")return this.accommodate(Math.ceil(p.length/2)),E=new Uint8Array(this.data.buffer,this.write),this.write+=a.binary.hex.decode(p,E,this.write),this;if(A==="base64")return this.accommodate(Math.ceil(p.length/4)*3),E=new Uint8Array(this.data.buffer,this.write),this.write+=a.binary.base64.decode(p,E,this.write),this;if(A==="utf8"&&(p=a.encodeUtf8(p),A="binary"),A==="binary"||A==="raw")return this.accommodate(p.length),E=new Uint8Array(this.data.buffer,this.write),this.write+=a.binary.raw.decode(E),this;if(A==="utf16")return this.accommodate(p.length*2),E=new Uint16Array(this.data.buffer,this.write),this.write+=a.text.utf16.encode(E),this;throw new Error("Invalid encoding: "+A)}throw Error("Invalid parameter: "+p)},a.DataBuffer.prototype.putBuffer=function(p){return this.putBytes(p),p.clear(),this},a.DataBuffer.prototype.putString=function(p){return this.putBytes(p,"utf16")},a.DataBuffer.prototype.putInt16=function(p){return this.accommodate(2),this.data.setInt16(this.write,p),this.write+=2,this},a.DataBuffer.prototype.putInt24=function(p){return this.accommodate(3),this.data.setInt16(this.write,p>>8&65535),this.data.setInt8(this.write,p>>16&255),this.write+=3,this},a.DataBuffer.prototype.putInt32=function(p){return this.accommodate(4),this.data.setInt32(this.write,p),this.write+=4,this},a.DataBuffer.prototype.putInt16Le=function(p){return this.accommodate(2),this.data.setInt16(this.write,p,!0),this.write+=2,this},a.DataBuffer.prototype.putInt24Le=function(p){return this.accommodate(3),this.data.setInt8(this.write,p>>16&255),this.data.setInt16(this.write,p>>8&65535,!0),this.write+=3,this},a.DataBuffer.prototype.putInt32Le=function(p){return this.accommodate(4),this.data.setInt32(this.write,p,!0),this.write+=4,this},a.DataBuffer.prototype.putInt=function(p,A){u(A),this.accommodate(A/8);do A-=8,this.data.setInt8(this.write++,p>>A&255);while(A>0);return this},a.DataBuffer.prototype.putSignedInt=function(p,A){return u(A),this.accommodate(A/8),p<0&&(p+=2<<A-1),this.putInt(p,A)},a.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},a.DataBuffer.prototype.getInt16=function(){var p=this.data.getInt16(this.read);return this.read+=2,p},a.DataBuffer.prototype.getInt24=function(){var p=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,p},a.DataBuffer.prototype.getInt32=function(){var p=this.data.getInt32(this.read);return this.read+=4,p},a.DataBuffer.prototype.getInt16Le=function(){var p=this.data.getInt16(this.read,!0);return this.read+=2,p},a.DataBuffer.prototype.getInt24Le=function(){var p=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,p},a.DataBuffer.prototype.getInt32Le=function(){var p=this.data.getInt32(this.read,!0);return this.read+=4,p},a.DataBuffer.prototype.getInt=function(p){u(p);var A=0;do A=(A<<8)+this.data.getInt8(this.read++),p-=8;while(p>0);return A},a.DataBuffer.prototype.getSignedInt=function(p){var A=this.getInt(p),S=2<<p-2;return A>=S&&(A-=S<<1),A},a.DataBuffer.prototype.getBytes=function(p){var A;return p?(p=Math.min(this.length(),p),A=this.data.slice(this.read,this.read+p),this.read+=p):p===0?A="":(A=this.read===0?this.data:this.data.slice(this.read),this.clear()),A},a.DataBuffer.prototype.bytes=function(p){return typeof p>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+p)},a.DataBuffer.prototype.at=function(p){return this.data.getUint8(this.read+p)},a.DataBuffer.prototype.setAt=function(p,A){return this.data.setUint8(p,A),this},a.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},a.DataBuffer.prototype.copy=function(){return new a.DataBuffer(this)},a.DataBuffer.prototype.compact=function(){if(this.read>0){var p=new Uint8Array(this.data.buffer,this.read),A=new Uint8Array(p.byteLength);A.set(p),this.data=new DataView(A),this.write-=this.read,this.read=0}return this},a.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},a.DataBuffer.prototype.truncate=function(p){return this.write=Math.max(0,this.length()-p),this.read=Math.min(this.read,this.write),this},a.DataBuffer.prototype.toHex=function(){for(var p="",A=this.read;A<this.data.byteLength;++A){var S=this.data.getUint8(A);S<16&&(p+="0"),p+=S.toString(16)}return p},a.DataBuffer.prototype.toString=function(p){var A=new Uint8Array(this.data,this.read,this.length());if(p=p||"utf8",p==="binary"||p==="raw")return a.binary.raw.encode(A);if(p==="hex")return a.binary.hex.encode(A);if(p==="base64")return a.binary.base64.encode(A);if(p==="utf8")return a.text.utf8.decode(A);if(p==="utf16")return a.text.utf16.decode(A);throw new Error("Invalid encoding: "+p)},a.createBuffer=function(p,A){return A=A||"raw",p!==void 0&&A==="utf8"&&(p=a.encodeUtf8(p)),new a.ByteBuffer(p)},a.fillString=function(p,A){for(var S="";A>0;)A&1&&(S+=p),A>>>=1,A>0&&(p+=p);return S},a.xorBytes=function(p,A,S){for(var O="",D="",E="",m=0,y=0;S>0;--S,++m)D=p.charCodeAt(m)^A.charCodeAt(m),y>=10&&(O+=E,E="",y=0),E+=String.fromCharCode(D),++y;return O+=E,O},a.hexToBytes=function(p){var A="",S=0;for(p.length&!0&&(S=1,A+=String.fromCharCode(parseInt(p[0],16)));S<p.length;S+=2)A+=String.fromCharCode(parseInt(p.substr(S,2),16));return A},a.bytesToHex=function(p){return a.createBuffer(p).toHex()},a.int32ToBytes=function(p){return String.fromCharCode(p>>24&255)+String.fromCharCode(p>>16&255)+String.fromCharCode(p>>8&255)+String.fromCharCode(p&255)};var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",d=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],h="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";a.encode64=function(p,A){for(var S="",O="",D,E,m,y=0;y<p.length;)D=p.charCodeAt(y++),E=p.charCodeAt(y++),m=p.charCodeAt(y++),S+=s.charAt(D>>2),S+=s.charAt((D&3)<<4|E>>4),isNaN(E)?S+="==":(S+=s.charAt((E&15)<<2|m>>6),S+=isNaN(m)?"=":s.charAt(m&63)),A&&S.length>A&&(O+=S.substr(0,A)+`\r
`,S=S.substr(A));return O+=S,O},a.decode64=function(p){p=p.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var A="",S,O,D,E,m=0;m<p.length;)S=d[p.charCodeAt(m++)-43],O=d[p.charCodeAt(m++)-43],D=d[p.charCodeAt(m++)-43],E=d[p.charCodeAt(m++)-43],A+=String.fromCharCode(S<<2|O>>4),D!==64&&(A+=String.fromCharCode((O&15)<<4|D>>2),E!==64&&(A+=String.fromCharCode((D&3)<<6|E)));return A},a.encodeUtf8=function(p){return unescape(encodeURIComponent(p))},a.decodeUtf8=function(p){return decodeURIComponent(escape(p))},a.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:r.encode,decode:r.decode}},a.binary.raw.encode=function(p){return String.fromCharCode.apply(null,p)},a.binary.raw.decode=function(p,A,S){var O=A;O||(O=new Uint8Array(p.length)),S=S||0;for(var D=S,E=0;E<p.length;++E)O[D++]=p.charCodeAt(E);return A?D-S:O},a.binary.hex.encode=a.bytesToHex,a.binary.hex.decode=function(p,A,S){var O=A;O||(O=new Uint8Array(Math.ceil(p.length/2))),S=S||0;var D=0,E=S;for(p.length&1&&(D=1,O[E++]=parseInt(p[0],16));D<p.length;D+=2)O[E++]=parseInt(p.substr(D,2),16);return A?E-S:O},a.binary.base64.encode=function(p,A){for(var S="",O="",D,E,m,y=0;y<p.byteLength;)D=p[y++],E=p[y++],m=p[y++],S+=s.charAt(D>>2),S+=s.charAt((D&3)<<4|E>>4),isNaN(E)?S+="==":(S+=s.charAt((E&15)<<2|m>>6),S+=isNaN(m)?"=":s.charAt(m&63)),A&&S.length>A&&(O+=S.substr(0,A)+`\r
`,S=S.substr(A));return O+=S,O},a.binary.base64.decode=function(p,A,S){var O=A;O||(O=new Uint8Array(Math.ceil(p.length/4)*3)),p=p.replace(/[^A-Za-z0-9\+\/\=]/g,""),S=S||0;for(var D,E,m,y,q=0,M=S;q<p.length;)D=d[p.charCodeAt(q++)-43],E=d[p.charCodeAt(q++)-43],m=d[p.charCodeAt(q++)-43],y=d[p.charCodeAt(q++)-43],O[M++]=D<<2|E>>4,m!==64&&(O[M++]=(E&15)<<4|m>>2,y!==64&&(O[M++]=(m&3)<<6|y));return A?M-S:O.subarray(0,M)},a.binary.base58.encode=function(p,A){return a.binary.baseN.encode(p,h,A)},a.binary.base58.decode=function(p,A){return a.binary.baseN.decode(p,h,A)},a.text={utf8:{},utf16:{}},a.text.utf8.encode=function(p,A,S){p=a.encodeUtf8(p);var O=A;O||(O=new Uint8Array(p.length)),S=S||0;for(var D=S,E=0;E<p.length;++E)O[D++]=p.charCodeAt(E);return A?D-S:O},a.text.utf8.decode=function(p){return a.decodeUtf8(String.fromCharCode.apply(null,p))},a.text.utf16.encode=function(p,A,S){var O=A;O||(O=new Uint8Array(p.length*2));var D=new Uint16Array(O.buffer);S=S||0;for(var E=S,m=S,y=0;y<p.length;++y)D[m++]=p.charCodeAt(y),E+=2;return A?E-S:O},a.text.utf16.decode=function(p){return String.fromCharCode.apply(null,new Uint16Array(p.buffer))},a.deflate=function(p,A,S){if(A=a.decode64(p.deflate(a.encode64(A)).rval),S){var O=2,D=A.charCodeAt(1);D&32&&(O=6),A=A.substring(O,A.length-4)}return A},a.inflate=function(p,A,S){var O=p.inflate(a.encode64(A)).rval;return O===null?null:a.decode64(O)};var g=function(p,A,S){if(!p)throw new Error("WebStorage not available.");var O;if(S===null?O=p.removeItem(A):(S=a.encode64(JSON.stringify(S)),O=p.setItem(A,S)),typeof O<"u"&&O.rval!==!0){var D=new Error(O.error.message);throw D.id=O.error.id,D.name=O.error.name,D}},I=function(p,A){if(!p)throw new Error("WebStorage not available.");var S=p.getItem(A);if(p.init)if(S.rval===null){if(S.error){var O=new Error(S.error.message);throw O.id=S.error.id,O.name=S.error.name,O}S=null}else S=S.rval;return S!==null&&(S=JSON.parse(a.decode64(S))),S},C=function(p,A,S,O){var D=I(p,A);D===null&&(D={}),D[S]=O,g(p,A,D)},_=function(p,A,S){var O=I(p,A);return O!==null&&(O=S in O?O[S]:null),O},T=function(p,A,S){var O=I(p,A);if(O!==null&&S in O){delete O[S];var D=!0;for(var E in O){D=!1;break}D&&(O=null),g(p,A,O)}},N=function(p,A){g(p,A,null)},B=function(p,A,S){var O=null;typeof S>"u"&&(S=["web","flash"]);var D,E=!1,m=null;for(var y in S){D=S[y];try{if(D==="flash"||D==="both"){if(A[0]===null)throw new Error("Flash local storage not available.");O=p.apply(this,A),E=D==="flash"}(D==="web"||D==="both")&&(A[0]=localStorage,O=p.apply(this,A),E=!0)}catch(q){m=q}if(E)break}if(!E)throw m;return O};a.setItem=function(p,A,S,O,D){B(C,arguments,D)},a.getItem=function(p,A,S,O){return B(_,arguments,O)},a.removeItem=function(p,A,S,O){B(T,arguments,O)},a.clearItems=function(p,A,S){B(N,arguments,S)},a.isEmpty=function(p){for(var A in p)if(p.hasOwnProperty(A))return!1;return!0},a.format=function(p){for(var A=/%./g,S,O,D=0,E=[],m=0;S=A.exec(p);){O=p.substring(m,A.lastIndex-2),O.length>0&&E.push(O),m=A.lastIndex;var y=S[0][1];switch(y){case"s":case"o":D<arguments.length?E.push(arguments[D+++1]):E.push("<?>");break;case"%":E.push("%");break;default:E.push("<%"+y+"?>")}}return E.push(p.substring(m)),E.join("")},a.formatNumber=function(p,A,S,O){var D=p,E=isNaN(A=Math.abs(A))?2:A,m=S===void 0?",":S,y=O===void 0?".":O,q=D<0?"-":"",M=parseInt(D=Math.abs(+D||0).toFixed(E),10)+"",V=M.length>3?M.length%3:0;return q+(V?M.substr(0,V)+y:"")+M.substr(V).replace(/(\d{3})(?=\d)/g,"$1"+y)+(E?m+Math.abs(D-M).toFixed(E).slice(2):"")},a.formatSize=function(p){return p>=1073741824?p=a.formatNumber(p/1073741824,2,".","")+" GiB":p>=1048576?p=a.formatNumber(p/1048576,2,".","")+" MiB":p>=1024?p=a.formatNumber(p/1024,0)+" KiB":p=a.formatNumber(p,0)+" bytes",p},a.bytesFromIP=function(p){return p.indexOf(".")!==-1?a.bytesFromIPv4(p):p.indexOf(":")!==-1?a.bytesFromIPv6(p):null},a.bytesFromIPv4=function(p){if(p=p.split("."),p.length!==4)return null;for(var A=a.createBuffer(),S=0;S<p.length;++S){var O=parseInt(p[S],10);if(isNaN(O))return null;A.putByte(O)}return A.getBytes()},a.bytesFromIPv6=function(p){var A=0;p=p.split(":").filter(function(m){return m.length===0&&++A,!0});for(var S=(8-p.length+A)*2,O=a.createBuffer(),D=0;D<8;++D){if(!p[D]||p[D].length===0){O.fillWithByte(0,S),S=0;continue}var E=a.hexToBytes(p[D]);E.length<2&&O.putByte(0),O.putBytes(E)}return O.getBytes()},a.bytesToIP=function(p){return p.length===4?a.bytesToIPv4(p):p.length===16?a.bytesToIPv6(p):null},a.bytesToIPv4=function(p){if(p.length!==4)return null;for(var A=[],S=0;S<p.length;++S)A.push(p.charCodeAt(S));return A.join(".")},a.bytesToIPv6=function(p){if(p.length!==16)return null;for(var A=[],S=[],O=0,D=0;D<p.length;D+=2){for(var E=a.bytesToHex(p[D]+p[D+1]);E[0]==="0"&&E!=="0";)E=E.substr(1);if(E==="0"){var m=S[S.length-1],y=A.length;!m||y!==m.end+1?S.push({start:y,end:y}):(m.end=y,m.end-m.start>S[O].end-S[O].start&&(O=S.length-1))}A.push(E)}if(S.length>0){var q=S[O];q.end-q.start>0&&(A.splice(q.start,q.end-q.start+1,""),q.start===0&&A.unshift(""),q.end===7&&A.push(""))}return A.join(":")},a.estimateCores=function(p,A){if(typeof p=="function"&&(A=p,p={}),p=p||{},"cores"in a&&!p.update)return A(null,a.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return a.cores=navigator.hardwareConcurrency,A(null,a.cores);if(typeof Worker>"u")return a.cores=1,A(null,a.cores);if(typeof Blob>"u")return a.cores=2,A(null,a.cores);var S=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(m){for(var y=Date.now(),q=y+4;Date.now()<q;);self.postMessage({st:y,et:q})})}.toString(),")()"],{type:"application/javascript"}));O([],5,16);function O(m,y,q){if(y===0){var M=Math.floor(m.reduce(function(V,w){return V+w},0)/m.length);return a.cores=Math.max(1,M),URL.revokeObjectURL(S),A(null,a.cores)}D(q,function(V,w){m.push(E(q,w)),O(m,y-1,q)})}function D(m,y){for(var q=[],M=[],V=0;V<m;++V){var w=new Worker(S);w.addEventListener("message",function(x){if(M.push(x.data),M.length===m){for(var j=0;j<m;++j)q[j].terminate();y(null,M)}}),q.push(w)}for(var V=0;V<m;++V)q[V].postMessage(V)}function E(m,y){for(var q=[],M=0;M<m;++M)for(var V=y[M],w=q[M]=[],x=0;x<m;++x)if(M!==x){var j=y[x];(V.st>j.st&&V.st<j.et||j.st>V.st&&j.st<V.et)&&w.push(x)}return q.reduce(function(L,F){return Math.max(L,F.length)},0)}}}),Op=Qe((e,n)=>{var t=lt();St(),n.exports=t.cipher=t.cipher||{},t.cipher.algorithms=t.cipher.algorithms||{},t.cipher.createCipher=function(a,u){var c=a;if(typeof c=="string"&&(c=t.cipher.getAlgorithm(c),c&&(c=c())),!c)throw new Error("Unsupported algorithm: "+a);return new t.cipher.BlockCipher({algorithm:c,key:u,decrypt:!1})},t.cipher.createDecipher=function(a,u){var c=a;if(typeof c=="string"&&(c=t.cipher.getAlgorithm(c),c&&(c=c())),!c)throw new Error("Unsupported algorithm: "+a);return new t.cipher.BlockCipher({algorithm:c,key:u,decrypt:!0})},t.cipher.registerAlgorithm=function(a,u){a=a.toUpperCase(),t.cipher.algorithms[a]=u},t.cipher.getAlgorithm=function(a){return a=a.toUpperCase(),a in t.cipher.algorithms?t.cipher.algorithms[a]:null};var r=t.cipher.BlockCipher=function(a){this.algorithm=a.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=a.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=a.decrypt,this.algorithm.initialize(a)};r.prototype.start=function(a){a=a||{};var u={};for(var c in a)u[c]=a[c];u.decrypt=this._decrypt,this._finish=!1,this._input=t.util.createBuffer(),this.output=a.output||t.util.createBuffer(),this.mode.start(u)},r.prototype.update=function(a){for(a&&this._input.putBuffer(a);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},r.prototype.finish=function(a){a&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(c){return a(this.blockSize,c,!1)},this.mode.unpad=function(c){return a(this.blockSize,c,!0)});var u={};return u.decrypt=this._decrypt,u.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,u)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,u))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,u))}}),B1=Qe((e,n)=>{var t=lt();St(),t.cipher=t.cipher||{};var r=n.exports=t.cipher.modes=t.cipher.modes||{};r.ecb=function(f){f=f||{},this.name="ECB",this.cipher=f.cipher,this.blockSize=f.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},r.ecb.prototype.start=function(f){},r.ecb.prototype.encrypt=function(f,l,s){if(f.length()<this.blockSize&&!(s&&f.length()>0))return!0;for(var d=0;d<this._ints;++d)this._inBlock[d]=f.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var d=0;d<this._ints;++d)l.putInt32(this._outBlock[d])},r.ecb.prototype.decrypt=function(f,l,s){if(f.length()<this.blockSize&&!(s&&f.length()>0))return!0;for(var d=0;d<this._ints;++d)this._inBlock[d]=f.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var d=0;d<this._ints;++d)l.putInt32(this._outBlock[d])},r.ecb.prototype.pad=function(f,l){var s=f.length()===this.blockSize?this.blockSize:this.blockSize-f.length();return f.fillWithByte(s,s),!0},r.ecb.prototype.unpad=function(f,l){if(l.overflow>0)return!1;var s=f.length(),d=f.at(s-1);return d>this.blockSize<<2?!1:(f.truncate(d),!0)},r.cbc=function(f){f=f||{},this.name="CBC",this.cipher=f.cipher,this.blockSize=f.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},r.cbc.prototype.start=function(f){if(f.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in f)this._iv=a(f.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")},r.cbc.prototype.encrypt=function(f,l,s){if(f.length()<this.blockSize&&!(s&&f.length()>0))return!0;for(var d=0;d<this._ints;++d)this._inBlock[d]=this._prev[d]^f.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var d=0;d<this._ints;++d)l.putInt32(this._outBlock[d]);this._prev=this._outBlock},r.cbc.prototype.decrypt=function(f,l,s){if(f.length()<this.blockSize&&!(s&&f.length()>0))return!0;for(var d=0;d<this._ints;++d)this._inBlock[d]=f.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var d=0;d<this._ints;++d)l.putInt32(this._prev[d]^this._outBlock[d]);this._prev=this._inBlock.slice(0)},r.cbc.prototype.pad=function(f,l){var s=f.length()===this.blockSize?this.blockSize:this.blockSize-f.length();return f.fillWithByte(s,s),!0},r.cbc.prototype.unpad=function(f,l){if(l.overflow>0)return!1;var s=f.length(),d=f.at(s-1);return d>this.blockSize<<2?!1:(f.truncate(d),!0)},r.cfb=function(f){f=f||{},this.name="CFB",this.cipher=f.cipher,this.blockSize=f.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=t.util.createBuffer(),this._partialBytes=0},r.cfb.prototype.start=function(f){if(!("iv"in f))throw new Error("Invalid IV parameter.");this._iv=a(f.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},r.cfb.prototype.encrypt=function(f,l,s){var d=f.length();if(d===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&d>=this.blockSize){for(var h=0;h<this._ints;++h)this._inBlock[h]=f.getInt32()^this._outBlock[h],l.putInt32(this._inBlock[h]);return}var g=(this.blockSize-d)%this.blockSize;g>0&&(g=this.blockSize-g),this._partialOutput.clear();for(var h=0;h<this._ints;++h)this._partialBlock[h]=f.getInt32()^this._outBlock[h],this._partialOutput.putInt32(this._partialBlock[h]);if(g>0)f.read-=this.blockSize;else for(var h=0;h<this._ints;++h)this._inBlock[h]=this._partialBlock[h];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),g>0&&!s)return l.putBytes(this._partialOutput.getBytes(g-this._partialBytes)),this._partialBytes=g,!0;l.putBytes(this._partialOutput.getBytes(d-this._partialBytes)),this._partialBytes=0},r.cfb.prototype.decrypt=function(f,l,s){var d=f.length();if(d===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&d>=this.blockSize){for(var h=0;h<this._ints;++h)this._inBlock[h]=f.getInt32(),l.putInt32(this._inBlock[h]^this._outBlock[h]);return}var g=(this.blockSize-d)%this.blockSize;g>0&&(g=this.blockSize-g),this._partialOutput.clear();for(var h=0;h<this._ints;++h)this._partialBlock[h]=f.getInt32(),this._partialOutput.putInt32(this._partialBlock[h]^this._outBlock[h]);if(g>0)f.read-=this.blockSize;else for(var h=0;h<this._ints;++h)this._inBlock[h]=this._partialBlock[h];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),g>0&&!s)return l.putBytes(this._partialOutput.getBytes(g-this._partialBytes)),this._partialBytes=g,!0;l.putBytes(this._partialOutput.getBytes(d-this._partialBytes)),this._partialBytes=0},r.ofb=function(f){f=f||{},this.name="OFB",this.cipher=f.cipher,this.blockSize=f.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=t.util.createBuffer(),this._partialBytes=0},r.ofb.prototype.start=function(f){if(!("iv"in f))throw new Error("Invalid IV parameter.");this._iv=a(f.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},r.ofb.prototype.encrypt=function(f,l,s){var d=f.length();if(f.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&d>=this.blockSize){for(var h=0;h<this._ints;++h)l.putInt32(f.getInt32()^this._outBlock[h]),this._inBlock[h]=this._outBlock[h];return}var g=(this.blockSize-d)%this.blockSize;g>0&&(g=this.blockSize-g),this._partialOutput.clear();for(var h=0;h<this._ints;++h)this._partialOutput.putInt32(f.getInt32()^this._outBlock[h]);if(g>0)f.read-=this.blockSize;else for(var h=0;h<this._ints;++h)this._inBlock[h]=this._outBlock[h];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),g>0&&!s)return l.putBytes(this._partialOutput.getBytes(g-this._partialBytes)),this._partialBytes=g,!0;l.putBytes(this._partialOutput.getBytes(d-this._partialBytes)),this._partialBytes=0},r.ofb.prototype.decrypt=r.ofb.prototype.encrypt,r.ctr=function(f){f=f||{},this.name="CTR",this.cipher=f.cipher,this.blockSize=f.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=t.util.createBuffer(),this._partialBytes=0},r.ctr.prototype.start=function(f){if(!("iv"in f))throw new Error("Invalid IV parameter.");this._iv=a(f.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},r.ctr.prototype.encrypt=function(f,l,s){var d=f.length();if(d===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&d>=this.blockSize)for(var h=0;h<this._ints;++h)l.putInt32(f.getInt32()^this._outBlock[h]);else{var g=(this.blockSize-d)%this.blockSize;g>0&&(g=this.blockSize-g),this._partialOutput.clear();for(var h=0;h<this._ints;++h)this._partialOutput.putInt32(f.getInt32()^this._outBlock[h]);if(g>0&&(f.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),g>0&&!s)return l.putBytes(this._partialOutput.getBytes(g-this._partialBytes)),this._partialBytes=g,!0;l.putBytes(this._partialOutput.getBytes(d-this._partialBytes)),this._partialBytes=0}u(this._inBlock)},r.ctr.prototype.decrypt=r.ctr.prototype.encrypt,r.gcm=function(f){f=f||{},this.name="GCM",this.cipher=f.cipher,this.blockSize=f.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=t.util.createBuffer(),this._partialBytes=0,this._R=3774873600},r.gcm.prototype.start=function(f){if(!("iv"in f))throw new Error("Invalid IV parameter.");var l=t.util.createBuffer(f.iv);this._cipherLength=0;var s;if("additionalData"in f?s=t.util.createBuffer(f.additionalData):s=t.util.createBuffer(),"tagLength"in f?this._tagLength=f.tagLength:this._tagLength=128,this._tag=null,f.decrypt&&(this._tag=t.util.createBuffer(f.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var d=l.length();if(d===12)this._j0=[l.getInt32(),l.getInt32(),l.getInt32(),1];else{for(this._j0=[0,0,0,0];l.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[l.getInt32(),l.getInt32(),l.getInt32(),l.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(c(d*8)))}this._inBlock=this._j0.slice(0),u(this._inBlock),this._partialBytes=0,s=t.util.createBuffer(s),this._aDataLength=c(s.length()*8);var h=s.length()%this.blockSize;for(h&&s.fillWithByte(0,this.blockSize-h),this._s=[0,0,0,0];s.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[s.getInt32(),s.getInt32(),s.getInt32(),s.getInt32()])},r.gcm.prototype.encrypt=function(f,l,s){var d=f.length();if(d===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&d>=this.blockSize){for(var h=0;h<this._ints;++h)l.putInt32(this._outBlock[h]^=f.getInt32());this._cipherLength+=this.blockSize}else{var g=(this.blockSize-d)%this.blockSize;g>0&&(g=this.blockSize-g),this._partialOutput.clear();for(var h=0;h<this._ints;++h)this._partialOutput.putInt32(f.getInt32()^this._outBlock[h]);if(g<=0||s){if(s){var I=d%this.blockSize;this._cipherLength+=I,this._partialOutput.truncate(this.blockSize-I)}else this._cipherLength+=this.blockSize;for(var h=0;h<this._ints;++h)this._outBlock[h]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),g>0&&!s)return f.read-=this.blockSize,l.putBytes(this._partialOutput.getBytes(g-this._partialBytes)),this._partialBytes=g,!0;l.putBytes(this._partialOutput.getBytes(d-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),u(this._inBlock)},r.gcm.prototype.decrypt=function(f,l,s){var d=f.length();if(d<this.blockSize&&!(s&&d>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),u(this._inBlock),this._hashBlock[0]=f.getInt32(),this._hashBlock[1]=f.getInt32(),this._hashBlock[2]=f.getInt32(),this._hashBlock[3]=f.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var h=0;h<this._ints;++h)l.putInt32(this._outBlock[h]^this._hashBlock[h]);d<this.blockSize?this._cipherLength+=d%this.blockSize:this._cipherLength+=this.blockSize},r.gcm.prototype.afterFinish=function(f,l){var s=!0;l.decrypt&&l.overflow&&f.truncate(this.blockSize-l.overflow),this.tag=t.util.createBuffer();var d=this._aDataLength.concat(c(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,d);var h=[];this.cipher.encrypt(this._j0,h);for(var g=0;g<this._ints;++g)this.tag.putInt32(this._s[g]^h[g]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),l.decrypt&&this.tag.bytes()!==this._tag&&(s=!1),s},r.gcm.prototype.multiply=function(f,l){for(var s=[0,0,0,0],d=l.slice(0),h=0;h<128;++h){var g=f[h/32|0]&1<<31-h%32;g&&(s[0]^=d[0],s[1]^=d[1],s[2]^=d[2],s[3]^=d[3]),this.pow(d,d)}return s},r.gcm.prototype.pow=function(f,l){for(var s=f[3]&1,d=3;d>0;--d)l[d]=f[d]>>>1|(f[d-1]&1)<<31;l[0]=f[0]>>>1,s&&(l[0]^=this._R)},r.gcm.prototype.tableMultiply=function(f){for(var l=[0,0,0,0],s=0;s<32;++s){var d=s/8|0,h=f[d]>>>(7-s%8)*4&15,g=this._m[s][h];l[0]^=g[0],l[1]^=g[1],l[2]^=g[2],l[3]^=g[3]}return l},r.gcm.prototype.ghash=function(f,l,s){return l[0]^=s[0],l[1]^=s[1],l[2]^=s[2],l[3]^=s[3],this.tableMultiply(l)},r.gcm.prototype.generateHashTable=function(f,l){for(var s=8/l,d=4*s,h=16*s,g=new Array(h),I=0;I<h;++I){var C=[0,0,0,0],_=I/d|0,T=(d-1-I%d)*l;C[_]=1<<l-1<<T,g[I]=this.generateSubHashTable(this.multiply(C,f),l)}return g},r.gcm.prototype.generateSubHashTable=function(f,l){var s=1<<l,d=s>>>1,h=new Array(s);h[d]=f.slice(0);for(var g=d>>>1;g>0;)this.pow(h[2*g],h[g]=[]),g>>=1;for(g=2;g<d;){for(var I=1;I<g;++I){var C=h[g],_=h[I];h[g+I]=[C[0]^_[0],C[1]^_[1],C[2]^_[2],C[3]^_[3]]}g*=2}for(h[0]=[0,0,0,0],g=d+1;g<s;++g){var T=h[g^d];h[g]=[f[0]^T[0],f[1]^T[1],f[2]^T[2],f[3]^T[3]]}return h};function a(f,l){if(typeof f=="string"&&(f=t.util.createBuffer(f)),t.util.isArray(f)&&f.length>4){var s=f;f=t.util.createBuffer();for(var d=0;d<s.length;++d)f.putByte(s[d])}if(f.length()<l)throw new Error("Invalid IV length; got "+f.length()+" bytes and expected "+l+" bytes.");if(!t.util.isArray(f)){for(var h=[],g=l/4,d=0;d<g;++d)h.push(f.getInt32());f=h}return f}function u(f){f[f.length-1]=f[f.length-1]+1&4294967295}function c(f){return[f/4294967296|0,f&4294967295]}}),ks=Qe((e,n)=>{var t=lt();Op(),B1(),St(),n.exports=t.aes=t.aes||{},t.aes.startEncrypting=function(_,T,N,B){var p=C({key:_,output:N,decrypt:!1,mode:B});return p.start(T),p},t.aes.createEncryptionCipher=function(_,T){return C({key:_,output:null,decrypt:!1,mode:T})},t.aes.startDecrypting=function(_,T,N,B){var p=C({key:_,output:N,decrypt:!0,mode:B});return p.start(T),p},t.aes.createDecryptionCipher=function(_,T){return C({key:_,output:null,decrypt:!0,mode:T})},t.aes.Algorithm=function(_,T){a||h();var N=this;N.name=_,N.mode=new T({blockSize:16,cipher:{encrypt:function(B,p){return I(N._w,B,p,!1)},decrypt:function(B,p){return I(N._w,B,p,!0)}}}),N._init=!1},t.aes.Algorithm.prototype.initialize=function(_){if(!this._init){var T=_.key,N;if(typeof T=="string"&&(T.length===16||T.length===24||T.length===32))T=t.util.createBuffer(T);else if(t.util.isArray(T)&&(T.length===16||T.length===24||T.length===32)){N=T,T=t.util.createBuffer();for(var B=0;B<N.length;++B)T.putByte(N[B])}if(!t.util.isArray(T)){N=T,T=[];var p=N.length();if(p===16||p===24||p===32){p=p>>>2;for(var B=0;B<p;++B)T.push(N.getInt32())}}if(!t.util.isArray(T)||!(T.length===4||T.length===6||T.length===8))throw new Error("Invalid key parameter.");var A=this.mode.name,S=["CFB","OFB","CTR","GCM"].indexOf(A)!==-1;this._w=g(T,_.decrypt&&!S),this._init=!0}},t.aes._expandKey=function(_,T){return a||h(),g(_,T)},t.aes._updateBlock=I,r("AES-ECB",t.cipher.modes.ecb),r("AES-CBC",t.cipher.modes.cbc),r("AES-CFB",t.cipher.modes.cfb),r("AES-OFB",t.cipher.modes.ofb),r("AES-CTR",t.cipher.modes.ctr),r("AES-GCM",t.cipher.modes.gcm);function r(_,T){var N=function(){return new t.aes.Algorithm(_,T)};t.cipher.registerAlgorithm(_,N)}var a=!1,u=4,c,f,l,s,d;function h(){a=!0,l=[0,1,2,4,8,16,32,64,128,27,54];for(var _=new Array(256),T=0;T<128;++T)_[T]=T<<1,_[T+128]=T+128<<1^283;c=new Array(256),f=new Array(256),s=new Array(4),d=new Array(4);for(var T=0;T<4;++T)s[T]=new Array(256),d[T]=new Array(256);for(var N=0,B=0,p,A,S,O,D,E,m,T=0;T<256;++T){O=B^B<<1^B<<2^B<<3^B<<4,O=O>>8^O&255^99,c[N]=O,f[O]=N,D=_[O],p=_[N],A=_[p],S=_[A],E=D<<24^O<<16^O<<8^(O^D),m=(p^A^S)<<24^(N^S)<<16^(N^A^S)<<8^(N^p^S);for(var y=0;y<4;++y)s[y][N]=E,d[y][O]=m,E=E<<24|E>>>8,m=m<<24|m>>>8;N===0?N=B=1:(N=p^_[_[_[p^S]]],B^=_[_[B]])}}function g(_,T){for(var N=_.slice(0),B,p=1,A=N.length,S=A+6+1,O=u*S,D=A;D<O;++D)B=N[D-1],D%A===0?(B=c[B>>>16&255]<<24^c[B>>>8&255]<<16^c[B&255]<<8^c[B>>>24]^l[p]<<24,p++):A>6&&D%A===4&&(B=c[B>>>24]<<24^c[B>>>16&255]<<16^c[B>>>8&255]<<8^c[B&255]),N[D]=N[D-A]^B;if(T){var E,m=d[0],y=d[1],q=d[2],M=d[3],V=N.slice(0);O=N.length;for(var D=0,w=O-u;D<O;D+=u,w-=u)if(D===0||D===O-u)V[D]=N[w],V[D+1]=N[w+3],V[D+2]=N[w+2],V[D+3]=N[w+1];else for(var x=0;x<u;++x)E=N[w+x],V[D+(3&-x)]=m[c[E>>>24]]^y[c[E>>>16&255]]^q[c[E>>>8&255]]^M[c[E&255]];N=V}return N}function I(_,T,N,B){var p=_.length/4-1,A,S,O,D,E;B?(A=d[0],S=d[1],O=d[2],D=d[3],E=f):(A=s[0],S=s[1],O=s[2],D=s[3],E=c);var m,y,q,M,V,w,x;m=T[0]^_[0],y=T[B?3:1]^_[1],q=T[2]^_[2],M=T[B?1:3]^_[3];for(var j=3,L=1;L<p;++L)V=A[m>>>24]^S[y>>>16&255]^O[q>>>8&255]^D[M&255]^_[++j],w=A[y>>>24]^S[q>>>16&255]^O[M>>>8&255]^D[m&255]^_[++j],x=A[q>>>24]^S[M>>>16&255]^O[m>>>8&255]^D[y&255]^_[++j],M=A[M>>>24]^S[m>>>16&255]^O[y>>>8&255]^D[q&255]^_[++j],m=V,y=w,q=x;N[0]=E[m>>>24]<<24^E[y>>>16&255]<<16^E[q>>>8&255]<<8^E[M&255]^_[++j],N[B?3:1]=E[y>>>24]<<24^E[q>>>16&255]<<16^E[M>>>8&255]<<8^E[m&255]^_[++j],N[2]=E[q>>>24]<<24^E[M>>>16&255]<<16^E[m>>>8&255]<<8^E[y&255]^_[++j],N[B?1:3]=E[M>>>24]<<24^E[m>>>16&255]<<16^E[y>>>8&255]<<8^E[q&255]^_[++j]}function C(_){_=_||{};var T=(_.mode||"CBC").toUpperCase(),N="AES-"+T,B;_.decrypt?B=t.cipher.createDecipher(N,_.key):B=t.cipher.createCipher(N,_.key);var p=B.start;return B.start=function(A,S){var O=null;S instanceof t.util.ByteBuffer&&(O=S,S={}),S=S||{},S.output=O,S.iv=A,p.call(B,S)},B}}),Bs=Qe((e,n)=>{var t=lt();t.pki=t.pki||{};var r=n.exports=t.pki.oids=t.oids=t.oids||{};function a(c,f){r[c]=f,r[f]=c}function u(c,f){r[c]=f}a("1.2.840.113549.1.1.1","rsaEncryption"),a("1.2.840.113549.1.1.4","md5WithRSAEncryption"),a("1.2.840.113549.1.1.5","sha1WithRSAEncryption"),a("1.2.840.113549.1.1.7","RSAES-OAEP"),a("1.2.840.113549.1.1.8","mgf1"),a("1.2.840.113549.1.1.9","pSpecified"),a("1.2.840.113549.1.1.10","RSASSA-PSS"),a("1.2.840.113549.1.1.11","sha256WithRSAEncryption"),a("1.2.840.113549.1.1.12","sha384WithRSAEncryption"),a("1.2.840.113549.1.1.13","sha512WithRSAEncryption"),a("1.3.101.112","EdDSA25519"),a("1.2.840.10040.4.3","dsa-with-sha1"),a("1.3.14.3.2.7","desCBC"),a("1.3.14.3.2.26","sha1"),a("1.3.14.3.2.29","sha1WithRSASignature"),a("2.16.840.1.101.3.4.2.1","sha256"),a("2.16.840.1.101.3.4.2.2","sha384"),a("2.16.840.1.101.3.4.2.3","sha512"),a("2.16.840.1.101.3.4.2.4","sha224"),a("2.16.840.1.101.3.4.2.5","sha512-224"),a("2.16.840.1.101.3.4.2.6","sha512-256"),a("1.2.840.113549.2.2","md2"),a("1.2.840.113549.2.5","md5"),a("1.2.840.113549.1.7.1","data"),a("1.2.840.113549.1.7.2","signedData"),a("1.2.840.113549.1.7.3","envelopedData"),a("1.2.840.113549.1.7.4","signedAndEnvelopedData"),a("1.2.840.113549.1.7.5","digestedData"),a("1.2.840.113549.1.7.6","encryptedData"),a("1.2.840.113549.1.9.1","emailAddress"),a("1.2.840.113549.1.9.2","unstructuredName"),a("1.2.840.113549.1.9.3","contentType"),a("1.2.840.113549.1.9.4","messageDigest"),a("1.2.840.113549.1.9.5","signingTime"),a("1.2.840.113549.1.9.6","counterSignature"),a("1.2.840.113549.1.9.7","challengePassword"),a("1.2.840.113549.1.9.8","unstructuredAddress"),a("1.2.840.113549.1.9.14","extensionRequest"),a("1.2.840.113549.1.9.20","friendlyName"),a("1.2.840.113549.1.9.21","localKeyId"),a("1.2.840.113549.1.9.22.1","x509Certificate"),a("1.2.840.113549.1.12.10.1.1","keyBag"),a("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag"),a("1.2.840.113549.1.12.10.1.3","certBag"),a("1.2.840.113549.1.12.10.1.4","crlBag"),a("1.2.840.113549.1.12.10.1.5","secretBag"),a("1.2.840.113549.1.12.10.1.6","safeContentsBag"),a("1.2.840.113549.1.5.13","pkcs5PBES2"),a("1.2.840.113549.1.5.12","pkcs5PBKDF2"),a("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4"),a("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4"),a("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC"),a("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC"),a("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC"),a("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC"),a("1.2.840.113549.2.7","hmacWithSHA1"),a("1.2.840.113549.2.8","hmacWithSHA224"),a("1.2.840.113549.2.9","hmacWithSHA256"),a("1.2.840.113549.2.10","hmacWithSHA384"),a("1.2.840.113549.2.11","hmacWithSHA512"),a("1.2.840.113549.3.7","des-EDE3-CBC"),a("2.16.840.1.101.3.4.1.2","aes128-CBC"),a("2.16.840.1.101.3.4.1.22","aes192-CBC"),a("2.16.840.1.101.3.4.1.42","aes256-CBC"),a("2.5.4.3","commonName"),a("2.5.4.4","surname"),a("2.5.4.5","serialNumber"),a("2.5.4.6","countryName"),a("2.5.4.7","localityName"),a("2.5.4.8","stateOrProvinceName"),a("2.5.4.9","streetAddress"),a("2.5.4.10","organizationName"),a("2.5.4.11","organizationalUnitName"),a("2.5.4.12","title"),a("2.5.4.13","description"),a("2.5.4.15","businessCategory"),a("2.5.4.17","postalCode"),a("2.5.4.42","givenName"),a("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName"),a("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName"),a("2.16.840.1.113730.1.1","nsCertType"),a("2.16.840.1.113730.1.13","nsComment"),u("2.5.29.1","authorityKeyIdentifier"),u("2.5.29.2","keyAttributes"),u("2.5.29.3","certificatePolicies"),u("2.5.29.4","keyUsageRestriction"),u("2.5.29.5","policyMapping"),u("2.5.29.6","subtreesConstraint"),u("2.5.29.7","subjectAltName"),u("2.5.29.8","issuerAltName"),u("2.5.29.9","subjectDirectoryAttributes"),u("2.5.29.10","basicConstraints"),u("2.5.29.11","nameConstraints"),u("2.5.29.12","policyConstraints"),u("2.5.29.13","basicConstraints"),a("2.5.29.14","subjectKeyIdentifier"),a("2.5.29.15","keyUsage"),u("2.5.29.16","privateKeyUsagePeriod"),a("2.5.29.17","subjectAltName"),a("2.5.29.18","issuerAltName"),a("2.5.29.19","basicConstraints"),u("2.5.29.20","cRLNumber"),u("2.5.29.21","cRLReason"),u("2.5.29.22","expirationDate"),u("2.5.29.23","instructionCode"),u("2.5.29.24","invalidityDate"),u("2.5.29.25","cRLDistributionPoints"),u("2.5.29.26","issuingDistributionPoint"),u("2.5.29.27","deltaCRLIndicator"),u("2.5.29.28","issuingDistributionPoint"),u("2.5.29.29","certificateIssuer"),u("2.5.29.30","nameConstraints"),a("2.5.29.31","cRLDistributionPoints"),a("2.5.29.32","certificatePolicies"),u("2.5.29.33","policyMappings"),u("2.5.29.34","policyConstraints"),a("2.5.29.35","authorityKeyIdentifier"),u("2.5.29.36","policyConstraints"),a("2.5.29.37","extKeyUsage"),u("2.5.29.46","freshestCRL"),u("2.5.29.54","inhibitAnyPolicy"),a("1.3.6.1.4.1.11129.2.4.2","timestampList"),a("1.3.6.1.5.5.7.1.1","authorityInfoAccess"),a("1.3.6.1.5.5.7.3.1","serverAuth"),a("1.3.6.1.5.5.7.3.2","clientAuth"),a("1.3.6.1.5.5.7.3.3","codeSigning"),a("1.3.6.1.5.5.7.3.4","emailProtection"),a("1.3.6.1.5.5.7.3.8","timeStamping")}),Ri=Qe((e,n)=>{var t=lt();St(),Bs();var r=n.exports=t.asn1=t.asn1||{};r.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192},r.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30},r.create=function(l,s,d,h,g){if(t.util.isArray(h)){for(var I=[],C=0;C<h.length;++C)h[C]!==void 0&&I.push(h[C]);h=I}var _={tagClass:l,type:s,constructed:d,composed:d||t.util.isArray(h),value:h};return g&&"bitStringContents"in g&&(_.bitStringContents=g.bitStringContents,_.original=r.copy(_)),_},r.copy=function(l,s){var d;if(t.util.isArray(l)){d=[];for(var h=0;h<l.length;++h)d.push(r.copy(l[h],s));return d}return typeof l=="string"?l:(d={tagClass:l.tagClass,type:l.type,constructed:l.constructed,composed:l.composed,value:r.copy(l.value,s)},s&&!s.excludeBitStringContents&&(d.bitStringContents=l.bitStringContents),d)},r.equals=function(l,s,d){if(t.util.isArray(l)){if(!t.util.isArray(s)||l.length!==s.length)return!1;for(var h=0;h<l.length;++h)if(!r.equals(l[h],s[h]))return!1;return!0}if(typeof l!=typeof s)return!1;if(typeof l=="string")return l===s;var g=l.tagClass===s.tagClass&&l.type===s.type&&l.constructed===s.constructed&&l.composed===s.composed&&r.equals(l.value,s.value);return d&&d.includeBitStringContents&&(g=g&&l.bitStringContents===s.bitStringContents),g},r.getBerValueLength=function(l){var s=l.getByte();if(s!==128){var d,h=s&128;return h?d=l.getInt((s&127)<<3):d=s,d}};function a(l,s,d){if(d>s){var h=new Error("Too few bytes to parse DER.");throw h.available=l.length(),h.remaining=s,h.requested=d,h}}var u=function(l,s){var d=l.getByte();if(s--,d!==128){var h,g=d&128;if(!g)h=d;else{var I=d&127;a(l,s,I),h=l.getInt(I<<3)}if(h<0)throw new Error("Negative length: "+h);return h}};r.fromDer=function(l,s){s===void 0&&(s={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),typeof s=="boolean"&&(s={strict:s,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in s||(s.strict=!0),"parseAllBytes"in s||(s.parseAllBytes=!0),"decodeBitStrings"in s||(s.decodeBitStrings=!0),typeof l=="string"&&(l=t.util.createBuffer(l));var d=l.length(),h=c(l,l.length(),0,s);if(s.parseAllBytes&&l.length()!==0){var g=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw g.byteCount=d,g.remaining=l.length(),g}return h};function c(l,s,d,h){var g;a(l,s,2);var I=l.getByte();s--;var C=I&192,_=I&31;g=l.length();var T=u(l,s);if(s-=g-l.length(),T!==void 0&&T>s){if(h.strict){var N=new Error("Too few bytes to read ASN.1 value.");throw N.available=l.length(),N.remaining=s,N.requested=T,N}T=s}var B,p,A=(I&32)===32;if(A)if(B=[],T===void 0)for(;;){if(a(l,s,2),l.bytes(2)===String.fromCharCode(0,0)){l.getBytes(2),s-=2;break}g=l.length(),B.push(c(l,s,d+1,h)),s-=g-l.length()}else for(;T>0;)g=l.length(),B.push(c(l,T,d+1,h)),s-=g-l.length(),T-=g-l.length();if(B===void 0&&C===r.Class.UNIVERSAL&&_===r.Type.BITSTRING&&(p=l.bytes(T)),B===void 0&&h.decodeBitStrings&&C===r.Class.UNIVERSAL&&_===r.Type.BITSTRING&&T>1){var S=l.read,O=s,D=0;if(_===r.Type.BITSTRING&&(a(l,s,1),D=l.getByte(),s--),D===0)try{g=l.length();var E={strict:!0,decodeBitStrings:!0},m=c(l,s,d+1,E),y=g-l.length();s-=y,_==r.Type.BITSTRING&&y++;var q=m.tagClass;y===T&&(q===r.Class.UNIVERSAL||q===r.Class.CONTEXT_SPECIFIC)&&(B=[m])}catch{}B===void 0&&(l.read=S,s=O)}if(B===void 0){if(T===void 0){if(h.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");T=s}if(_===r.Type.BMPSTRING)for(B="";T>0;T-=2)a(l,s,2),B+=String.fromCharCode(l.getInt16()),s-=2;else B=l.getBytes(T),s-=T}var M=p===void 0?null:{bitStringContents:p};return r.create(C,_,A,B,M)}r.toDer=function(l){var s=t.util.createBuffer(),d=l.tagClass|l.type,h=t.util.createBuffer(),g=!1;if("bitStringContents"in l&&(g=!0,l.original&&(g=r.equals(l,l.original))),g)h.putBytes(l.bitStringContents);else if(l.composed){l.constructed?d|=32:h.putByte(0);for(var I=0;I<l.value.length;++I)l.value[I]!==void 0&&h.putBuffer(r.toDer(l.value[I]))}else if(l.type===r.Type.BMPSTRING)for(var I=0;I<l.value.length;++I)h.putInt16(l.value.charCodeAt(I));else l.type===r.Type.INTEGER&&l.value.length>1&&(l.value.charCodeAt(0)===0&&!(l.value.charCodeAt(1)&128)||l.value.charCodeAt(0)===255&&(l.value.charCodeAt(1)&128)===128)?h.putBytes(l.value.substr(1)):h.putBytes(l.value);if(s.putByte(d),h.length()<=127)s.putByte(h.length()&127);else{var C=h.length(),_="";do _+=String.fromCharCode(C&255),C=C>>>8;while(C>0);s.putByte(_.length|128);for(var I=_.length-1;I>=0;--I)s.putByte(_.charCodeAt(I))}return s.putBuffer(h),s},r.oidToDer=function(l){var s=l.split("."),d=t.util.createBuffer();d.putByte(40*parseInt(s[0],10)+parseInt(s[1],10));for(var h,g,I,C,_=2;_<s.length;++_){h=!0,g=[],I=parseInt(s[_],10);do C=I&127,I=I>>>7,h||(C|=128),g.push(C),h=!1;while(I>0);for(var T=g.length-1;T>=0;--T)d.putByte(g[T])}return d},r.derToOid=function(l){var s;typeof l=="string"&&(l=t.util.createBuffer(l));var d=l.getByte();s=Math.floor(d/40)+"."+d%40;for(var h=0;l.length()>0;)d=l.getByte(),h=h<<7,d&128?h+=d&127:(s+="."+(h+d),h=0);return s},r.utcTimeToDate=function(l){var s=new Date,d=parseInt(l.substr(0,2),10);d=d>=50?1900+d:2e3+d;var h=parseInt(l.substr(2,2),10)-1,g=parseInt(l.substr(4,2),10),I=parseInt(l.substr(6,2),10),C=parseInt(l.substr(8,2),10),_=0;if(l.length>11){var T=l.charAt(10),N=10;T!=="+"&&T!=="-"&&(_=parseInt(l.substr(10,2),10),N+=2)}if(s.setUTCFullYear(d,h,g),s.setUTCHours(I,C,_,0),N&&(T=l.charAt(N),T==="+"||T==="-")){var B=parseInt(l.substr(N+1,2),10),p=parseInt(l.substr(N+4,2),10),A=B*60+p;A*=6e4,T==="+"?s.setTime(+s-A):s.setTime(+s+A)}return s},r.generalizedTimeToDate=function(l){var s=new Date,d=parseInt(l.substr(0,4),10),h=parseInt(l.substr(4,2),10)-1,g=parseInt(l.substr(6,2),10),I=parseInt(l.substr(8,2),10),C=parseInt(l.substr(10,2),10),_=parseInt(l.substr(12,2),10),T=0,N=0,B=!1;l.charAt(l.length-1)==="Z"&&(B=!0);var p=l.length-5,A=l.charAt(p);if(A==="+"||A==="-"){var S=parseInt(l.substr(p+1,2),10),O=parseInt(l.substr(p+4,2),10);N=S*60+O,N*=6e4,A==="+"&&(N*=-1),B=!0}return l.charAt(14)==="."&&(T=parseFloat(l.substr(14),10)*1e3),B?(s.setUTCFullYear(d,h,g),s.setUTCHours(I,C,_,T),s.setTime(+s+N)):(s.setFullYear(d,h,g),s.setHours(I,C,_,T)),s},r.dateToUtcTime=function(l){if(typeof l=="string")return l;var s="",d=[];d.push((""+l.getUTCFullYear()).substr(2)),d.push(""+(l.getUTCMonth()+1)),d.push(""+l.getUTCDate()),d.push(""+l.getUTCHours()),d.push(""+l.getUTCMinutes()),d.push(""+l.getUTCSeconds());for(var h=0;h<d.length;++h)d[h].length<2&&(s+="0"),s+=d[h];return s+="Z",s},r.dateToGeneralizedTime=function(l){if(typeof l=="string")return l;var s="",d=[];d.push(""+l.getUTCFullYear()),d.push(""+(l.getUTCMonth()+1)),d.push(""+l.getUTCDate()),d.push(""+l.getUTCHours()),d.push(""+l.getUTCMinutes()),d.push(""+l.getUTCSeconds());for(var h=0;h<d.length;++h)d[h].length<2&&(s+="0"),s+=d[h];return s+="Z",s},r.integerToDer=function(l){var s=t.util.createBuffer();if(l>=-128&&l<128)return s.putSignedInt(l,8);if(l>=-32768&&l<32768)return s.putSignedInt(l,16);if(l>=-8388608&&l<8388608)return s.putSignedInt(l,24);if(l>=-2147483648&&l<2147483648)return s.putSignedInt(l,32);var d=new Error("Integer too large; max is 32-bits.");throw d.integer=l,d},r.derToInteger=function(l){typeof l=="string"&&(l=t.util.createBuffer(l));var s=l.length()*8;if(s>32)throw new Error("Integer too large; max is 32-bits.");return l.getSignedInt(s)},r.validate=function(l,s,d,h){var g=!1;if((l.tagClass===s.tagClass||typeof s.tagClass>"u")&&(l.type===s.type||typeof s.type>"u"))if(l.constructed===s.constructed||typeof s.constructed>"u"){if(g=!0,s.value&&t.util.isArray(s.value))for(var I=0,C=0;g&&C<s.value.length;++C)g=s.value[C].optional||!1,l.value[I]&&(g=r.validate(l.value[I],s.value[C],d,h),g?++I:s.value[C].optional&&(g=!0)),!g&&h&&h.push("["+s.name+'] Tag class "'+s.tagClass+'", type "'+s.type+'" expected value length "'+s.value.length+'", got "'+l.value.length+'"');if(g&&d&&(s.capture&&(d[s.capture]=l.value),s.captureAsn1&&(d[s.captureAsn1]=l),s.captureBitStringContents&&"bitStringContents"in l&&(d[s.captureBitStringContents]=l.bitStringContents),s.captureBitStringValue&&"bitStringContents"in l)){var _;if(l.bitStringContents.length<2)d[s.captureBitStringValue]="";else{var T=l.bitStringContents.charCodeAt(0);if(T!==0)throw new Error("captureBitStringValue only supported for zero unused bits");d[s.captureBitStringValue]=l.bitStringContents.slice(1)}}}else h&&h.push("["+s.name+'] Expected constructed "'+s.constructed+'", got "'+l.constructed+'"');else h&&(l.tagClass!==s.tagClass&&h.push("["+s.name+'] Expected tag class "'+s.tagClass+'", got "'+l.tagClass+'"'),l.type!==s.type&&h.push("["+s.name+'] Expected type "'+s.type+'", got "'+l.type+'"'));return g};var f=/[^\\u0000-\\u00ff]/;r.prettyPrint=function(l,s,d){var h="";s=s||0,d=d||2,s>0&&(h+=`
`);for(var g="",I=0;I<s*d;++I)g+=" ";switch(h+=g+"Tag: ",l.tagClass){case r.Class.UNIVERSAL:h+="Universal:";break;case r.Class.APPLICATION:h+="Application:";break;case r.Class.CONTEXT_SPECIFIC:h+="Context-Specific:";break;case r.Class.PRIVATE:h+="Private:";break}if(l.tagClass===r.Class.UNIVERSAL)switch(h+=l.type,l.type){case r.Type.NONE:h+=" (None)";break;case r.Type.BOOLEAN:h+=" (Boolean)";break;case r.Type.INTEGER:h+=" (Integer)";break;case r.Type.BITSTRING:h+=" (Bit string)";break;case r.Type.OCTETSTRING:h+=" (Octet string)";break;case r.Type.NULL:h+=" (Null)";break;case r.Type.OID:h+=" (Object Identifier)";break;case r.Type.ODESC:h+=" (Object Descriptor)";break;case r.Type.EXTERNAL:h+=" (External or Instance of)";break;case r.Type.REAL:h+=" (Real)";break;case r.Type.ENUMERATED:h+=" (Enumerated)";break;case r.Type.EMBEDDED:h+=" (Embedded PDV)";break;case r.Type.UTF8:h+=" (UTF8)";break;case r.Type.ROID:h+=" (Relative Object Identifier)";break;case r.Type.SEQUENCE:h+=" (Sequence)";break;case r.Type.SET:h+=" (Set)";break;case r.Type.PRINTABLESTRING:h+=" (Printable String)";break;case r.Type.IA5String:h+=" (IA5String (ASCII))";break;case r.Type.UTCTIME:h+=" (UTC time)";break;case r.Type.GENERALIZEDTIME:h+=" (Generalized time)";break;case r.Type.BMPSTRING:h+=" (BMP String)";break}else h+=l.type;if(h+=`
`,h+=g+"Constructed: "+l.constructed+`
`,l.composed){for(var C=0,_="",I=0;I<l.value.length;++I)l.value[I]!==void 0&&(C+=1,_+=r.prettyPrint(l.value[I],s+1,d),I+1<l.value.length&&(_+=","));h+=g+"Sub values: "+C+_}else{if(h+=g+"Value: ",l.type===r.Type.OID){var T=r.derToOid(l.value);h+=T,t.pki&&t.pki.oids&&T in t.pki.oids&&(h+=" ("+t.pki.oids[T]+") ")}if(l.type===r.Type.INTEGER)try{h+=r.derToInteger(l.value)}catch{h+="0x"+t.util.bytesToHex(l.value)}else if(l.type===r.Type.BITSTRING){if(l.value.length>1?h+="0x"+t.util.bytesToHex(l.value.slice(1)):h+="(none)",l.value.length>0){var N=l.value.charCodeAt(0);N==1?h+=" (1 unused bit shown)":N>1&&(h+=" ("+N+" unused bits shown)")}}else if(l.type===r.Type.OCTETSTRING)f.test(l.value)||(h+="("+l.value+") "),h+="0x"+t.util.bytesToHex(l.value);else if(l.type===r.Type.UTF8)try{h+=t.util.decodeUtf8(l.value)}catch(B){if(B.message==="URI malformed")h+="0x"+t.util.bytesToHex(l.value)+" (malformed UTF8)";else throw B}else l.type===r.Type.PRINTABLESTRING||l.type===r.Type.IA5String?h+=l.value:f.test(l.value)?h+="0x"+t.util.bytesToHex(l.value):l.value.length===0?h+="[null]":h+=l.value}return h}}),ca=Qe((e,n)=>{var t=lt();n.exports=t.md=t.md||{},t.md.algorithms=t.md.algorithms||{}}),zu=Qe((e,n)=>{var t=lt();ca(),St();var r=n.exports=t.hmac=t.hmac||{};r.create=function(){var a=null,u=null,c=null,f=null,l={};return l.start=function(s,d){if(s!==null)if(typeof s=="string")if(s=s.toLowerCase(),s in t.md.algorithms)u=t.md.algorithms[s].create();else throw new Error('Unknown hash algorithm "'+s+'"');else u=s;if(d===null)d=a;else{if(typeof d=="string")d=t.util.createBuffer(d);else if(t.util.isArray(d)){var h=d;d=t.util.createBuffer();for(var g=0;g<h.length;++g)d.putByte(h[g])}var I=d.length();I>u.blockLength&&(u.start(),u.update(d.bytes()),d=u.digest()),c=t.util.createBuffer(),f=t.util.createBuffer(),I=d.length();for(var g=0;g<I;++g){var h=d.at(g);c.putByte(54^h),f.putByte(92^h)}if(I<u.blockLength)for(var h=u.blockLength-I,g=0;g<h;++g)c.putByte(54),f.putByte(92);a=d,c=c.bytes(),f=f.bytes()}u.start(),u.update(c)},l.update=function(s){u.update(s)},l.getMac=function(){var s=u.digest().bytes();return u.start(),u.update(f),u.update(s),u.digest()},l.digest=l.getMac,l}}),Lp=Qe((e,n)=>{var t=lt();ca(),St();var r=n.exports=t.md5=t.md5||{};t.md.md5=t.md.algorithms.md5=r,r.create=function(){l||s();var h=null,g=t.util.createBuffer(),I=new Array(16),C={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8};return C.start=function(){C.messageLength=0,C.fullMessageLength=C.messageLength64=[];for(var _=C.messageLengthSize/4,T=0;T<_;++T)C.fullMessageLength.push(0);return g=t.util.createBuffer(),h={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},C},C.start(),C.update=function(_,T){T==="utf8"&&(_=t.util.encodeUtf8(_));var N=_.length;C.messageLength+=N,N=[N/4294967296>>>0,N>>>0];for(var B=C.fullMessageLength.length-1;B>=0;--B)C.fullMessageLength[B]+=N[1],N[1]=N[0]+(C.fullMessageLength[B]/4294967296>>>0),C.fullMessageLength[B]=C.fullMessageLength[B]>>>0,N[0]=N[1]/4294967296>>>0;return g.putBytes(_),d(h,I,g),(g.read>2048||g.length()===0)&&g.compact(),C},C.digest=function(){var _=t.util.createBuffer();_.putBytes(g.bytes());var T=C.fullMessageLength[C.fullMessageLength.length-1]+C.messageLengthSize,N=T&C.blockLength-1;_.putBytes(a.substr(0,C.blockLength-N));for(var B,p=0,A=C.fullMessageLength.length-1;A>=0;--A)B=C.fullMessageLength[A]*8+p,p=B/4294967296>>>0,_.putInt32Le(B>>>0);var S={h0:h.h0,h1:h.h1,h2:h.h2,h3:h.h3};d(S,I,_);var O=t.util.createBuffer();return O.putInt32Le(S.h0),O.putInt32Le(S.h1),O.putInt32Le(S.h2),O.putInt32Le(S.h3),O},C};var a=null,u=null,c=null,f=null,l=!1;function s(){a=String.fromCharCode(128),a+=t.util.fillString(String.fromCharCode(0),64),u=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],c=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],f=new Array(64);for(var h=0;h<64;++h)f[h]=Math.floor(Math.abs(Math.sin(h+1))*4294967296);l=!0}function d(h,g,I){for(var C,_,T,N,B,p,A,S,O=I.length();O>=64;){for(_=h.h0,T=h.h1,N=h.h2,B=h.h3,S=0;S<16;++S)g[S]=I.getInt32Le(),p=B^T&(N^B),C=_+p+f[S]+g[S],A=c[S],_=B,B=N,N=T,T+=C<<A|C>>>32-A;for(;S<32;++S)p=N^B&(T^N),C=_+p+f[S]+g[u[S]],A=c[S],_=B,B=N,N=T,T+=C<<A|C>>>32-A;for(;S<48;++S)p=T^N^B,C=_+p+f[S]+g[u[S]],A=c[S],_=B,B=N,N=T,T+=C<<A|C>>>32-A;for(;S<64;++S)p=N^(T|~B),C=_+p+f[S]+g[u[S]],A=c[S],_=B,B=N,N=T,T+=C<<A|C>>>32-A;h.h0=h.h0+_|0,h.h1=h.h1+T|0,h.h2=h.h2+N|0,h.h3=h.h3+B|0,O-=64}}}),Ro=Qe((e,n)=>{var t=lt();St();var r=n.exports=t.pem=t.pem||{};r.encode=function(c,f){f=f||{};var l="-----BEGIN "+c.type+`-----\r
`,s;if(c.procType&&(s={name:"Proc-Type",values:[String(c.procType.version),c.procType.type]},l+=a(s)),c.contentDomain&&(s={name:"Content-Domain",values:[c.contentDomain]},l+=a(s)),c.dekInfo&&(s={name:"DEK-Info",values:[c.dekInfo.algorithm]},c.dekInfo.parameters&&s.values.push(c.dekInfo.parameters),l+=a(s)),c.headers)for(var d=0;d<c.headers.length;++d)l+=a(c.headers[d]);return c.procType&&(l+=`\r
`),l+=t.util.encode64(c.body,f.maxline||64)+`\r
`,l+="-----END "+c.type+`-----\r
`,l},r.decode=function(c){for(var f=[],l=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,s=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,d=/\r?\n/,h;h=l.exec(c),!!h;){var g=h[1];g==="NEW CERTIFICATE REQUEST"&&(g="CERTIFICATE REQUEST");var I={type:g,procType:null,contentDomain:null,dekInfo:null,headers:[],body:t.util.decode64(h[3])};if(f.push(I),!!h[2]){for(var C=h[2].split(d),_=0;h&&_<C.length;){for(var T=C[_].replace(/\s+$/,""),N=_+1;N<C.length;++N){var B=C[N];if(!/\s/.test(B[0]))break;T+=B,_=N}if(h=T.match(s),h){for(var p={name:h[1],values:[]},A=h[2].split(","),S=0;S<A.length;++S)p.values.push(u(A[S]));if(I.procType)if(!I.contentDomain&&p.name==="Content-Domain")I.contentDomain=A[0]||"";else if(!I.dekInfo&&p.name==="DEK-Info"){if(p.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');I.dekInfo={algorithm:A[0],parameters:A[1]||null}}else I.headers.push(p);else{if(p.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(p.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');I.procType={version:A[0],type:A[1]}}}++_}if(I.procType==="ENCRYPTED"&&!I.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(f.length===0)throw new Error("Invalid PEM formatted message.");return f};function a(c){for(var f=c.name+": ",l=[],s=function(C,_){return" "+_},d=0;d<c.values.length;++d)l.push(c.values[d].replace(/^(\S+\r\n)/,s));f+=l.join(",")+`\r
`;for(var h=0,g=-1,d=0;d<f.length;++d,++h)if(h>65&&g!==-1){var I=f[g];I===","?(++g,f=f.substr(0,g)+`\r
 `+f.substr(g)):f=f.substr(0,g)+`\r
`+I+f.substr(g+1),h=d-g-1,g=-1,++d}else(f[d]===" "||f[d]==="	"||f[d]===",")&&(g=d);return f}function u(c){return c.replace(/^\s+/,"")}}),tf=Qe((e,n)=>{var t=lt();Op(),B1(),St(),n.exports=t.des=t.des||{},t.des.startEncrypting=function(_,T,N,B){var p=C({key:_,output:N,decrypt:!1,mode:B||(T===null?"ECB":"CBC")});return p.start(T),p},t.des.createEncryptionCipher=function(_,T){return C({key:_,output:null,decrypt:!1,mode:T})},t.des.startDecrypting=function(_,T,N,B){var p=C({key:_,output:N,decrypt:!0,mode:B||(T===null?"ECB":"CBC")});return p.start(T),p},t.des.createDecryptionCipher=function(_,T){return C({key:_,output:null,decrypt:!0,mode:T})},t.des.Algorithm=function(_,T){var N=this;N.name=_,N.mode=new T({blockSize:8,cipher:{encrypt:function(B,p){return I(N._keys,B,p,!1)},decrypt:function(B,p){return I(N._keys,B,p,!0)}}}),N._init=!1},t.des.Algorithm.prototype.initialize=function(_){if(!this._init){var T=t.util.createBuffer(_.key);if(this.name.indexOf("3DES")===0&&T.length()!==24)throw new Error("Invalid Triple-DES key size: "+T.length()*8);this._keys=g(T),this._init=!0}},r("DES-ECB",t.cipher.modes.ecb),r("DES-CBC",t.cipher.modes.cbc),r("DES-CFB",t.cipher.modes.cfb),r("DES-OFB",t.cipher.modes.ofb),r("DES-CTR",t.cipher.modes.ctr),r("3DES-ECB",t.cipher.modes.ecb),r("3DES-CBC",t.cipher.modes.cbc),r("3DES-CFB",t.cipher.modes.cfb),r("3DES-OFB",t.cipher.modes.ofb),r("3DES-CTR",t.cipher.modes.ctr);function r(_,T){var N=function(){return new t.des.Algorithm(_,T)};t.cipher.registerAlgorithm(_,N)}var a=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],u=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],c=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],f=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],l=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],s=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],d=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],h=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function g(_){for(var T=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],N=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],B=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],p=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],A=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],S=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],O=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],D=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],E=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],m=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],y=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],q=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],M=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],V=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],w=_.length()>8?3:1,x=[],j=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],L=0,F,J=0;J<w;J++){var oe=_.getInt32(),se=_.getInt32();F=(oe>>>4^se)&252645135,se^=F,oe^=F<<4,F=(se>>>-16^oe)&65535,oe^=F,se^=F<<-16,F=(oe>>>2^se)&858993459,se^=F,oe^=F<<2,F=(se>>>-16^oe)&65535,oe^=F,se^=F<<-16,F=(oe>>>1^se)&1431655765,se^=F,oe^=F<<1,F=(se>>>8^oe)&16711935,oe^=F,se^=F<<8,F=(oe>>>1^se)&1431655765,se^=F,oe^=F<<1,F=oe<<8|se>>>20&240,oe=se<<24|se<<8&16711680|se>>>8&65280|se>>>24&240,se=F;for(var de=0;de<j.length;++de){j[de]?(oe=oe<<2|oe>>>26,se=se<<2|se>>>26):(oe=oe<<1|oe>>>27,se=se<<1|se>>>27),oe&=-15,se&=-15;var ke=T[oe>>>28]|N[oe>>>24&15]|B[oe>>>20&15]|p[oe>>>16&15]|A[oe>>>12&15]|S[oe>>>8&15]|O[oe>>>4&15],Le=D[se>>>28]|E[se>>>24&15]|m[se>>>20&15]|y[se>>>16&15]|q[se>>>12&15]|M[se>>>8&15]|V[se>>>4&15];F=(Le>>>16^ke)&65535,x[L++]=ke^F,x[L++]=Le^F<<16}}return x}function I(_,T,N,B){var p=_.length===32?3:9,A;p===3?A=B?[30,-2,-2]:[0,32,2]:A=B?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var S,O=T[0],D=T[1];S=(O>>>4^D)&252645135,D^=S,O^=S<<4,S=(O>>>16^D)&65535,D^=S,O^=S<<16,S=(D>>>2^O)&858993459,O^=S,D^=S<<2,S=(D>>>8^O)&16711935,O^=S,D^=S<<8,S=(O>>>1^D)&1431655765,D^=S,O^=S<<1,O=O<<1|O>>>31,D=D<<1|D>>>31;for(var E=0;E<p;E+=3){for(var m=A[E+1],y=A[E+2],q=A[E];q!=m;q+=y){var M=D^_[q],V=(D>>>4|D<<28)^_[q+1];S=O,O=D,D=S^(u[M>>>24&63]|f[M>>>16&63]|s[M>>>8&63]|h[M&63]|a[V>>>24&63]|c[V>>>16&63]|l[V>>>8&63]|d[V&63])}S=O,O=D,D=S}O=O>>>1|O<<31,D=D>>>1|D<<31,S=(O>>>1^D)&1431655765,D^=S,O^=S<<1,S=(D>>>8^O)&16711935,O^=S,D^=S<<8,S=(D>>>2^O)&858993459,O^=S,D^=S<<2,S=(O>>>16^D)&65535,D^=S,O^=S<<16,S=(O>>>4^D)&252645135,D^=S,O^=S<<4,N[0]=O,N[1]=D}function C(_){_=_||{};var T=(_.mode||"CBC").toUpperCase(),N="DES-"+T,B;_.decrypt?B=t.cipher.createDecipher(N,_.key):B=t.cipher.createCipher(N,_.key);var p=B.start;return B.start=function(A,S){var O=null;S instanceof t.util.ByteBuffer&&(O=S,S={}),S=S||{},S.output=O,S.iv=A,p.call(B,S)},B}}),Pp=Qe((e,n)=>{var t=lt();zu(),ca(),St();var r=t.pkcs5=t.pkcs5||{},a;t.util.isNodejs&&!t.options.usePureJavaScript&&(a=mo("crypto")),n.exports=t.pbkdf2=r.pbkdf2=function(u,c,f,l,s,d){if(typeof s=="function"&&(d=s,s=null),t.util.isNodejs&&!t.options.usePureJavaScript&&a.pbkdf2&&(s===null||typeof s!="object")&&(a.pbkdf2Sync.length>4||!s||s==="sha1"))return typeof s!="string"&&(s="sha1"),u=Buffer.from(u,"binary"),c=Buffer.from(c,"binary"),d?a.pbkdf2Sync.length===4?a.pbkdf2(u,c,f,l,function(E,m){if(E)return d(E);d(null,m.toString("binary"))}):a.pbkdf2(u,c,f,l,s,function(E,m){if(E)return d(E);d(null,m.toString("binary"))}):a.pbkdf2Sync.length===4?a.pbkdf2Sync(u,c,f,l).toString("binary"):a.pbkdf2Sync(u,c,f,l,s).toString("binary");if((typeof s>"u"||s===null)&&(s="sha1"),typeof s=="string"){if(!(s in t.md.algorithms))throw new Error("Unknown hash algorithm: "+s);s=t.md[s].create()}var h=s.digestLength;if(l>4294967295*h){var g=new Error("Derived key is too long.");if(d)return d(g);throw g}var I=Math.ceil(l/h),C=l-(I-1)*h,_=t.hmac.create();_.start(s,u);var T="",N,B,p;if(!d){for(var A=1;A<=I;++A){_.start(null,null),_.update(c),_.update(t.util.int32ToBytes(A)),N=p=_.digest().getBytes();for(var S=2;S<=f;++S)_.start(null,null),_.update(p),B=_.digest().getBytes(),N=t.util.xorBytes(N,B,h),p=B;T+=A<I?N:N.substr(0,C)}return T}var A=1,S;function O(){if(A>I)return d(null,T);_.start(null,null),_.update(c),_.update(t.util.int32ToBytes(A)),N=p=_.digest().getBytes(),S=2,D()}function D(){if(S<=f)return _.start(null,null),_.update(p),B=_.digest().getBytes(),N=t.util.xorBytes(N,B,h),p=B,++S,t.util.setImmediate(D);T+=A<I?N:N.substr(0,C),++A,O()}O()}}),N1=Qe((e,n)=>{var t=lt();ca(),St();var r=n.exports=t.sha256=t.sha256||{};t.md.sha256=t.md.algorithms.sha256=r,r.create=function(){u||f();var s=null,d=t.util.createBuffer(),h=new Array(64),g={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return g.start=function(){g.messageLength=0,g.fullMessageLength=g.messageLength64=[];for(var I=g.messageLengthSize/4,C=0;C<I;++C)g.fullMessageLength.push(0);return d=t.util.createBuffer(),s={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},g},g.start(),g.update=function(I,C){C==="utf8"&&(I=t.util.encodeUtf8(I));var _=I.length;g.messageLength+=_,_=[_/4294967296>>>0,_>>>0];for(var T=g.fullMessageLength.length-1;T>=0;--T)g.fullMessageLength[T]+=_[1],_[1]=_[0]+(g.fullMessageLength[T]/4294967296>>>0),g.fullMessageLength[T]=g.fullMessageLength[T]>>>0,_[0]=_[1]/4294967296>>>0;return d.putBytes(I),l(s,h,d),(d.read>2048||d.length()===0)&&d.compact(),g},g.digest=function(){var I=t.util.createBuffer();I.putBytes(d.bytes());var C=g.fullMessageLength[g.fullMessageLength.length-1]+g.messageLengthSize,_=C&g.blockLength-1;I.putBytes(a.substr(0,g.blockLength-_));for(var T,N,B=g.fullMessageLength[0]*8,p=0;p<g.fullMessageLength.length-1;++p)T=g.fullMessageLength[p+1]*8,N=T/4294967296>>>0,B+=N,I.putInt32(B>>>0),B=T>>>0;I.putInt32(B);var A={h0:s.h0,h1:s.h1,h2:s.h2,h3:s.h3,h4:s.h4,h5:s.h5,h6:s.h6,h7:s.h7};l(A,h,I);var S=t.util.createBuffer();return S.putInt32(A.h0),S.putInt32(A.h1),S.putInt32(A.h2),S.putInt32(A.h3),S.putInt32(A.h4),S.putInt32(A.h5),S.putInt32(A.h6),S.putInt32(A.h7),S},g};var a=null,u=!1,c=null;function f(){a=String.fromCharCode(128),a+=t.util.fillString(String.fromCharCode(0),64),c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],u=!0}function l(s,d,h){for(var g,I,C,_,T,N,B,p,A,S,O,D,E,m,y,q=h.length();q>=64;){for(B=0;B<16;++B)d[B]=h.getInt32();for(;B<64;++B)g=d[B-2],g=(g>>>17|g<<15)^(g>>>19|g<<13)^g>>>10,I=d[B-15],I=(I>>>7|I<<25)^(I>>>18|I<<14)^I>>>3,d[B]=g+d[B-7]+I+d[B-16]|0;for(p=s.h0,A=s.h1,S=s.h2,O=s.h3,D=s.h4,E=s.h5,m=s.h6,y=s.h7,B=0;B<64;++B)_=(D>>>6|D<<26)^(D>>>11|D<<21)^(D>>>25|D<<7),T=m^D&(E^m),C=(p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10),N=p&A|S&(p^A),g=y+_+T+c[B]+d[B],I=C+N,y=m,m=E,E=D,D=O+g>>>0,O=S,S=A,A=p,p=g+I>>>0;s.h0=s.h0+p|0,s.h1=s.h1+A|0,s.h2=s.h2+S|0,s.h3=s.h3+O|0,s.h4=s.h4+D|0,s.h5=s.h5+E|0,s.h6=s.h6+m|0,s.h7=s.h7+y|0,q-=64}}}),O1=Qe((e,n)=>{var t=lt();St();var r=null;t.util.isNodejs&&!t.options.usePureJavaScript&&!process.versions["node-webkit"]&&(r=mo("crypto"));var a=n.exports=t.prng=t.prng||{};a.create=function(u){for(var c={plugin:u,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},f=u.md,l=new Array(32),s=0;s<32;++s)l[s]=f.create();c.pools=l,c.pool=0,c.generate=function(C,_){if(!_)return c.generateSync(C);var T=c.plugin.cipher,N=c.plugin.increment,B=c.plugin.formatKey,p=c.plugin.formatSeed,A=t.util.createBuffer();c.key=null,S();function S(O){if(O)return _(O);if(A.length()>=C)return _(null,A.getBytes(C));if(c.generated>1048575&&(c.key=null),c.key===null)return t.util.nextTick(function(){d(S)});var D=T(c.key,c.seed);c.generated+=D.length,A.putBytes(D),c.key=B(T(c.key,N(c.seed))),c.seed=p(T(c.key,c.seed)),t.util.setImmediate(S)}},c.generateSync=function(C){var _=c.plugin.cipher,T=c.plugin.increment,N=c.plugin.formatKey,B=c.plugin.formatSeed;c.key=null;for(var p=t.util.createBuffer();p.length()<C;){c.generated>1048575&&(c.key=null),c.key===null&&h();var A=_(c.key,c.seed);c.generated+=A.length,p.putBytes(A),c.key=N(_(c.key,T(c.seed))),c.seed=B(_(c.key,c.seed))}return p.getBytes(C)};function d(C){if(c.pools[0].messageLength>=32)return g(),C();var _=32-c.pools[0].messageLength<<5;c.seedFile(_,function(T,N){if(T)return C(T);c.collect(N),g(),C()})}function h(){if(c.pools[0].messageLength>=32)return g();var C=32-c.pools[0].messageLength<<5;c.collect(c.seedFileSync(C)),g()}function g(){c.reseeds=c.reseeds===4294967295?0:c.reseeds+1;var C=c.plugin.md.create();C.update(c.keyBytes);for(var _=1,T=0;T<32;++T)c.reseeds%_===0&&(C.update(c.pools[T].digest().getBytes()),c.pools[T].start()),_=_<<1;c.keyBytes=C.digest().getBytes(),C.start(),C.update(c.keyBytes);var N=C.digest().getBytes();c.key=c.plugin.formatKey(c.keyBytes),c.seed=c.plugin.formatSeed(N),c.generated=0}function I(C){var _=null,T=t.util.globalScope,N=T.crypto||T.msCrypto;N&&N.getRandomValues&&(_=function(y){return N.getRandomValues(y)});var B=t.util.createBuffer();if(_)for(;B.length()<C;){var p=Math.max(1,Math.min(C-B.length(),65536)/4),A=new Uint32Array(Math.floor(p));try{_(A);for(var S=0;S<A.length;++S)B.putInt32(A[S])}catch(y){if(!(typeof QuotaExceededError<"u"&&y instanceof QuotaExceededError))throw y}}if(B.length()<C)for(var O,D,E,m=Math.floor(Math.random()*65536);B.length()<C;){D=16807*(m&65535),O=16807*(m>>16),D+=(O&32767)<<16,D+=O>>15,D=(D&2147483647)+(D>>31),m=D&4294967295;for(var S=0;S<3;++S)E=m>>>(S<<3),E^=Math.floor(Math.random()*256),B.putByte(E&255)}return B.getBytes(C)}return r?(c.seedFile=function(C,_){r.randomBytes(C,function(T,N){if(T)return _(T);_(null,N.toString())})},c.seedFileSync=function(C){return r.randomBytes(C).toString()}):(c.seedFile=function(C,_){try{_(null,I(C))}catch(T){_(T)}},c.seedFileSync=I),c.collect=function(C){for(var _=C.length,T=0;T<_;++T)c.pools[c.pool].update(C.substr(T,1)),c.pool=c.pool===31?0:c.pool+1},c.collectInt=function(C,_){for(var T="",N=0;N<_;N+=8)T+=String.fromCharCode(C>>N&255);c.collect(T)},c.registerWorker=function(C){if(C===self)c.seedFile=function(T,N){function B(p){var A=p.data;A.forge&&A.forge.prng&&(self.removeEventListener("message",B),N(A.forge.prng.err,A.forge.prng.bytes))}self.addEventListener("message",B),self.postMessage({forge:{prng:{needed:T}}})};else{var _=function(T){var N=T.data;N.forge&&N.forge.prng&&c.seedFile(N.forge.prng.needed,function(B,p){C.postMessage({forge:{prng:{err:B,bytes:p}}})})};C.addEventListener("message",_)}},c}}),oi=Qe((e,n)=>{var t=lt();ks(),N1(),O1(),St(),function(){if(t.random&&t.random.getBytes){n.exports=t.random;return}(function(r){var a={},u=new Array(4),c=t.util.createBuffer();a.formatKey=function(C){var _=t.util.createBuffer(C);return C=new Array(4),C[0]=_.getInt32(),C[1]=_.getInt32(),C[2]=_.getInt32(),C[3]=_.getInt32(),t.aes._expandKey(C,!1)},a.formatSeed=function(C){var _=t.util.createBuffer(C);return C=new Array(4),C[0]=_.getInt32(),C[1]=_.getInt32(),C[2]=_.getInt32(),C[3]=_.getInt32(),C},a.cipher=function(C,_){return t.aes._updateBlock(C,_,u,!1),c.putInt32(u[0]),c.putInt32(u[1]),c.putInt32(u[2]),c.putInt32(u[3]),c.getBytes()},a.increment=function(C){return++C[3],C},a.md=t.md.sha256;function f(){var C=t.prng.create(a);return C.getBytes=function(_,T){return C.generate(_,T)},C.getBytesSync=function(_){return C.generate(_)},C}var l=f(),s=null,d=t.util.globalScope,h=d.crypto||d.msCrypto;if(h&&h.getRandomValues&&(s=function(C){return h.getRandomValues(C)}),t.options.usePureJavaScript||!t.util.isNodejs&&!s){if(typeof window>"u"||window.document,l.collectInt(+new Date,32),typeof navigator<"u"){var g="";for(var I in navigator)try{typeof navigator[I]=="string"&&(g+=navigator[I])}catch{}l.collect(g),g=null}r&&(r().mousemove(function(C){l.collectInt(C.clientX,16),l.collectInt(C.clientY,16)}),r().keypress(function(C){l.collectInt(C.charCode,8)}))}if(!t.random)t.random=l;else for(var I in l)t.random[I]=l[I];t.random.createInstance=f,n.exports=t.random})(typeof jQuery<"u"?jQuery:null)}()}),L1=Qe((e,n)=>{var t=lt();St();var r=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],a=[1,2,3,5],u=function(l,s){return l<<s&65535|(l&65535)>>16-s},c=function(l,s){return(l&65535)>>s|l<<16-s&65535};n.exports=t.rc2=t.rc2||{},t.rc2.expandKey=function(l,s){typeof l=="string"&&(l=t.util.createBuffer(l)),s=s||128;var d=l,h=l.length(),g=s,I=Math.ceil(g/8),C=255>>(g&7),_;for(_=h;_<128;_++)d.putByte(r[d.at(_-1)+d.at(_-h)&255]);for(d.setAt(128-I,r[d.at(128-I)&C]),_=127-I;_>=0;_--)d.setAt(_,r[d.at(_+1)^d.at(_+I)]);return d};var f=function(l,s,d){var h=!1,g=null,I=null,C=null,_,T,N,B,p=[];for(l=t.rc2.expandKey(l,s),N=0;N<64;N++)p.push(l.getInt16Le());d?(_=function(O){for(N=0;N<4;N++)O[N]+=p[B]+(O[(N+3)%4]&O[(N+2)%4])+(~O[(N+3)%4]&O[(N+1)%4]),O[N]=u(O[N],a[N]),B++},T=function(O){for(N=0;N<4;N++)O[N]+=p[O[(N+3)%4]&63]}):(_=function(O){for(N=3;N>=0;N--)O[N]=c(O[N],a[N]),O[N]-=p[B]+(O[(N+3)%4]&O[(N+2)%4])+(~O[(N+3)%4]&O[(N+1)%4]),B--},T=function(O){for(N=3;N>=0;N--)O[N]-=p[O[(N+3)%4]&63]});var A=function(O){var D=[];for(N=0;N<4;N++){var E=g.getInt16Le();C!==null&&(d?E^=C.getInt16Le():C.putInt16Le(E)),D.push(E&65535)}B=d?0:63;for(var m=0;m<O.length;m++)for(var y=0;y<O[m][0];y++)O[m][1](D);for(N=0;N<4;N++)C!==null&&(d?C.putInt16Le(D[N]):D[N]^=C.getInt16Le()),I.putInt16Le(D[N])},S=null;return S={start:function(O,D){O&&typeof O=="string"&&(O=t.util.createBuffer(O)),h=!1,g=t.util.createBuffer(),I=D||new t.util.createBuffer,C=O,S.output=I},update:function(O){for(h||g.putBuffer(O);g.length()>=8;)A([[5,_],[1,T],[6,_],[1,T],[5,_]])},finish:function(O){var D=!0;if(d)if(O)D=O(8,g,!d);else{var E=g.length()===8?8:8-g.length();g.fillWithByte(E,E)}if(D&&(h=!0,S.update()),!d&&(D=g.length()===0,D))if(O)D=O(8,I,!d);else{var m=I.length(),y=I.at(m-1);y>m?D=!1:I.truncate(y)}return D}},S};t.rc2.startEncrypting=function(l,s,d){var h=t.rc2.createEncryptionCipher(l,128);return h.start(s,d),h},t.rc2.createEncryptionCipher=function(l,s){return f(l,s,!0)},t.rc2.startDecrypting=function(l,s,d){var h=t.rc2.createDecryptionCipher(l,128);return h.start(s,d),h},t.rc2.createDecryptionCipher=function(l,s){return f(l,s,!1)}}),rf=Qe((e,n)=>{var t=lt();n.exports=t.jsbn=t.jsbn||{};var r,a=0xdeadbeefcafe,u=(a&16777215)==15715070;function c($,W,X){this.data=[],$!=null&&(typeof $=="number"?this.fromNumber($,W,X):W==null&&typeof $!="string"?this.fromString($,256):this.fromString($,W))}t.jsbn.BigInteger=c;function f(){return new c(null)}function l($,W,X,le,ve,Se){for(;--Se>=0;){var Pe=W*this.data[$++]+X.data[le]+ve;ve=Math.floor(Pe/67108864),X.data[le++]=Pe&67108863}return ve}function s($,W,X,le,ve,Se){for(var Pe=W&32767,Ne=W>>15;--Se>=0;){var bt=this.data[$]&32767,ar=this.data[$++]>>15,Tr=Ne*bt+ar*Pe;bt=Pe*bt+((Tr&32767)<<15)+X.data[le]+(ve&1073741823),ve=(bt>>>30)+(Tr>>>15)+Ne*ar+(ve>>>30),X.data[le++]=bt&1073741823}return ve}function d($,W,X,le,ve,Se){for(var Pe=W&16383,Ne=W>>14;--Se>=0;){var bt=this.data[$]&16383,ar=this.data[$++]>>14,Tr=Ne*bt+ar*Pe;bt=Pe*bt+((Tr&16383)<<14)+X.data[le]+ve,ve=(bt>>28)+(Tr>>14)+Ne*ar,X.data[le++]=bt&268435455}return ve}typeof navigator>"u"?(c.prototype.am=d,r=28):u&&navigator.appName=="Microsoft Internet Explorer"?(c.prototype.am=s,r=30):u&&navigator.appName!="Netscape"?(c.prototype.am=l,r=26):(c.prototype.am=d,r=28),c.prototype.DB=r,c.prototype.DM=(1<<r)-1,c.prototype.DV=1<<r;var h=52;c.prototype.FV=Math.pow(2,h),c.prototype.F1=h-r,c.prototype.F2=2*r-h;var g="0123456789abcdefghijklmnopqrstuvwxyz",I=new Array,C,_;for(C="0".charCodeAt(0),_=0;_<=9;++_)I[C++]=_;for(C="a".charCodeAt(0),_=10;_<36;++_)I[C++]=_;for(C="A".charCodeAt(0),_=10;_<36;++_)I[C++]=_;function T($){return g.charAt($)}function N($,W){var X=I[$.charCodeAt(W)];return X??-1}function B($){for(var W=this.t-1;W>=0;--W)$.data[W]=this.data[W];$.t=this.t,$.s=this.s}function p($){this.t=1,this.s=$<0?-1:0,$>0?this.data[0]=$:$<-1?this.data[0]=$+this.DV:this.t=0}function A($){var W=f();return W.fromInt($),W}function S($,W){var X;if(W==16)X=4;else if(W==8)X=3;else if(W==256)X=8;else if(W==2)X=1;else if(W==32)X=5;else if(W==4)X=2;else{this.fromRadix($,W);return}this.t=0,this.s=0;for(var le=$.length,ve=!1,Se=0;--le>=0;){var Pe=X==8?$[le]&255:N($,le);if(Pe<0){$.charAt(le)=="-"&&(ve=!0);continue}ve=!1,Se==0?this.data[this.t++]=Pe:Se+X>this.DB?(this.data[this.t-1]|=(Pe&(1<<this.DB-Se)-1)<<Se,this.data[this.t++]=Pe>>this.DB-Se):this.data[this.t-1]|=Pe<<Se,Se+=X,Se>=this.DB&&(Se-=this.DB)}X==8&&$[0]&128&&(this.s=-1,Se>0&&(this.data[this.t-1]|=(1<<this.DB-Se)-1<<Se)),this.clamp(),ve&&c.ZERO.subTo(this,this)}function O(){for(var $=this.s&this.DM;this.t>0&&this.data[this.t-1]==$;)--this.t}function D($){if(this.s<0)return"-"+this.negate().toString($);var W;if($==16)W=4;else if($==8)W=3;else if($==2)W=1;else if($==32)W=5;else if($==4)W=2;else return this.toRadix($);var X=(1<<W)-1,le,ve=!1,Se="",Pe=this.t,Ne=this.DB-Pe*this.DB%W;if(Pe-- >0)for(Ne<this.DB&&(le=this.data[Pe]>>Ne)>0&&(ve=!0,Se=T(le));Pe>=0;)Ne<W?(le=(this.data[Pe]&(1<<Ne)-1)<<W-Ne,le|=this.data[--Pe]>>(Ne+=this.DB-W)):(le=this.data[Pe]>>(Ne-=W)&X,Ne<=0&&(Ne+=this.DB,--Pe)),le>0&&(ve=!0),ve&&(Se+=T(le));return ve?Se:"0"}function E(){var $=f();return c.ZERO.subTo(this,$),$}function m(){return this.s<0?this.negate():this}function y($){var W=this.s-$.s;if(W!=0)return W;var X=this.t;if(W=X-$.t,W!=0)return this.s<0?-W:W;for(;--X>=0;)if((W=this.data[X]-$.data[X])!=0)return W;return 0}function q($){var W=1,X;return(X=$>>>16)!=0&&($=X,W+=16),(X=$>>8)!=0&&($=X,W+=8),(X=$>>4)!=0&&($=X,W+=4),(X=$>>2)!=0&&($=X,W+=2),(X=$>>1)!=0&&($=X,W+=1),W}function M(){return this.t<=0?0:this.DB*(this.t-1)+q(this.data[this.t-1]^this.s&this.DM)}function V($,W){var X;for(X=this.t-1;X>=0;--X)W.data[X+$]=this.data[X];for(X=$-1;X>=0;--X)W.data[X]=0;W.t=this.t+$,W.s=this.s}function w($,W){for(var X=$;X<this.t;++X)W.data[X-$]=this.data[X];W.t=Math.max(this.t-$,0),W.s=this.s}function x($,W){var X=$%this.DB,le=this.DB-X,ve=(1<<le)-1,Se=Math.floor($/this.DB),Pe=this.s<<X&this.DM,Ne;for(Ne=this.t-1;Ne>=0;--Ne)W.data[Ne+Se+1]=this.data[Ne]>>le|Pe,Pe=(this.data[Ne]&ve)<<X;for(Ne=Se-1;Ne>=0;--Ne)W.data[Ne]=0;W.data[Se]=Pe,W.t=this.t+Se+1,W.s=this.s,W.clamp()}function j($,W){W.s=this.s;var X=Math.floor($/this.DB);if(X>=this.t){W.t=0;return}var le=$%this.DB,ve=this.DB-le,Se=(1<<le)-1;W.data[0]=this.data[X]>>le;for(var Pe=X+1;Pe<this.t;++Pe)W.data[Pe-X-1]|=(this.data[Pe]&Se)<<ve,W.data[Pe-X]=this.data[Pe]>>le;le>0&&(W.data[this.t-X-1]|=(this.s&Se)<<ve),W.t=this.t-X,W.clamp()}function L($,W){for(var X=0,le=0,ve=Math.min($.t,this.t);X<ve;)le+=this.data[X]-$.data[X],W.data[X++]=le&this.DM,le>>=this.DB;if($.t<this.t){for(le-=$.s;X<this.t;)le+=this.data[X],W.data[X++]=le&this.DM,le>>=this.DB;le+=this.s}else{for(le+=this.s;X<$.t;)le-=$.data[X],W.data[X++]=le&this.DM,le>>=this.DB;le-=$.s}W.s=le<0?-1:0,le<-1?W.data[X++]=this.DV+le:le>0&&(W.data[X++]=le),W.t=X,W.clamp()}function F($,W){var X=this.abs(),le=$.abs(),ve=X.t;for(W.t=ve+le.t;--ve>=0;)W.data[ve]=0;for(ve=0;ve<le.t;++ve)W.data[ve+X.t]=X.am(0,le.data[ve],W,ve,0,X.t);W.s=0,W.clamp(),this.s!=$.s&&c.ZERO.subTo(W,W)}function J($){for(var W=this.abs(),X=$.t=2*W.t;--X>=0;)$.data[X]=0;for(X=0;X<W.t-1;++X){var le=W.am(X,W.data[X],$,2*X,0,1);($.data[X+W.t]+=W.am(X+1,2*W.data[X],$,2*X+1,le,W.t-X-1))>=W.DV&&($.data[X+W.t]-=W.DV,$.data[X+W.t+1]=1)}$.t>0&&($.data[$.t-1]+=W.am(X,W.data[X],$,2*X,0,1)),$.s=0,$.clamp()}function oe($,W,X){var le=$.abs();if(!(le.t<=0)){var ve=this.abs();if(ve.t<le.t){W?.fromInt(0),X!=null&&this.copyTo(X);return}X==null&&(X=f());var Se=f(),Pe=this.s,Ne=$.s,bt=this.DB-q(le.data[le.t-1]);bt>0?(le.lShiftTo(bt,Se),ve.lShiftTo(bt,X)):(le.copyTo(Se),ve.copyTo(X));var ar=Se.t,Tr=Se.data[ar-1];if(Tr!=0){var Br=Tr*(1<<this.F1)+(ar>1?Se.data[ar-2]>>this.F2:0),ln=this.FV/Br,li=(1<<this.F1)/Br,Ar=1<<this.F2,gr=X.t,Ni=gr-ar,wn=W??f();for(Se.dlShiftTo(Ni,wn),X.compareTo(wn)>=0&&(X.data[X.t++]=1,X.subTo(wn,X)),c.ONE.dlShiftTo(ar,wn),wn.subTo(Se,Se);Se.t<ar;)Se.data[Se.t++]=0;for(;--Ni>=0;){var Wn=X.data[--gr]==Tr?this.DM:Math.floor(X.data[gr]*ln+(X.data[gr-1]+Ar)*li);if((X.data[gr]+=Se.am(0,Wn,X,Ni,0,ar))<Wn)for(Se.dlShiftTo(Ni,wn),X.subTo(wn,X);X.data[gr]<--Wn;)X.subTo(wn,X)}W!=null&&(X.drShiftTo(ar,W),Pe!=Ne&&c.ZERO.subTo(W,W)),X.t=ar,X.clamp(),bt>0&&X.rShiftTo(bt,X),Pe<0&&c.ZERO.subTo(X,X)}}}function se($){var W=f();return this.abs().divRemTo($,null,W),this.s<0&&W.compareTo(c.ZERO)>0&&$.subTo(W,W),W}function de($){this.m=$}function ke($){return $.s<0||$.compareTo(this.m)>=0?$.mod(this.m):$}function Le($){return $}function Ve($){$.divRemTo(this.m,null,$)}function Ee($,W,X){$.multiplyTo(W,X),this.reduce(X)}function We($,W){$.squareTo(W),this.reduce(W)}de.prototype.convert=ke,de.prototype.revert=Le,de.prototype.reduce=Ve,de.prototype.mulTo=Ee,de.prototype.sqrTo=We;function Ce(){if(this.t<1)return 0;var $=this.data[0];if(!($&1))return 0;var W=$&3;return W=W*(2-($&15)*W)&15,W=W*(2-($&255)*W)&255,W=W*(2-(($&65535)*W&65535))&65535,W=W*(2-$*W%this.DV)%this.DV,W>0?this.DV-W:-W}function et($){this.m=$,this.mp=$.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<$.DB-15)-1,this.mt2=2*$.t}function Xe($){var W=f();return $.abs().dlShiftTo(this.m.t,W),W.divRemTo(this.m,null,W),$.s<0&&W.compareTo(c.ZERO)>0&&this.m.subTo(W,W),W}function P($){var W=f();return $.copyTo(W),this.reduce(W),W}function Y($){for(;$.t<=this.mt2;)$.data[$.t++]=0;for(var W=0;W<this.m.t;++W){var X=$.data[W]&32767,le=X*this.mpl+((X*this.mph+($.data[W]>>15)*this.mpl&this.um)<<15)&$.DM;for(X=W+this.m.t,$.data[X]+=this.m.am(0,le,$,W,0,this.m.t);$.data[X]>=$.DV;)$.data[X]-=$.DV,$.data[++X]++}$.clamp(),$.drShiftTo(this.m.t,$),$.compareTo(this.m)>=0&&$.subTo(this.m,$)}function G($,W){$.squareTo(W),this.reduce(W)}function R($,W,X){$.multiplyTo(W,X),this.reduce(X)}et.prototype.convert=Xe,et.prototype.revert=P,et.prototype.reduce=Y,et.prototype.mulTo=R,et.prototype.sqrTo=G;function H(){return(this.t>0?this.data[0]&1:this.s)==0}function ie($,W){if($>4294967295||$<1)return c.ONE;var X=f(),le=f(),ve=W.convert(this),Se=q($)-1;for(ve.copyTo(X);--Se>=0;)if(W.sqrTo(X,le),($&1<<Se)>0)W.mulTo(le,ve,X);else{var Pe=X;X=le,le=Pe}return W.revert(X)}function ee($,W){var X;return $<256||W.isEven()?X=new de(W):X=new et(W),this.exp($,X)}c.prototype.copyTo=B,c.prototype.fromInt=p,c.prototype.fromString=S,c.prototype.clamp=O,c.prototype.dlShiftTo=V,c.prototype.drShiftTo=w,c.prototype.lShiftTo=x,c.prototype.rShiftTo=j,c.prototype.subTo=L,c.prototype.multiplyTo=F,c.prototype.squareTo=J,c.prototype.divRemTo=oe,c.prototype.invDigit=Ce,c.prototype.isEven=H,c.prototype.exp=ie,c.prototype.toString=D,c.prototype.negate=E,c.prototype.abs=m,c.prototype.compareTo=y,c.prototype.bitLength=M,c.prototype.mod=se,c.prototype.modPowInt=ee,c.ZERO=A(0),c.ONE=A(1);function _e(){var $=f();return this.copyTo($),$}function xe(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}function je(){return this.t==0?this.s:this.data[0]<<24>>24}function ye(){return this.t==0?this.s:this.data[0]<<16>>16}function Oe($){return Math.floor(Math.LN2*this.DB/Math.log($))}function He(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}function rt($){if($==null&&($=10),this.signum()==0||$<2||$>36)return"0";var W=this.chunkSize($),X=Math.pow($,W),le=A(X),ve=f(),Se=f(),Pe="";for(this.divRemTo(le,ve,Se);ve.signum()>0;)Pe=(X+Se.intValue()).toString($).substr(1)+Pe,ve.divRemTo(le,ve,Se);return Se.intValue().toString($)+Pe}function $e($,W){this.fromInt(0),W==null&&(W=10);for(var X=this.chunkSize(W),le=Math.pow(W,X),ve=!1,Se=0,Pe=0,Ne=0;Ne<$.length;++Ne){var bt=N($,Ne);if(bt<0){$.charAt(Ne)=="-"&&this.signum()==0&&(ve=!0);continue}Pe=W*Pe+bt,++Se>=X&&(this.dMultiply(le),this.dAddOffset(Pe,0),Se=0,Pe=0)}Se>0&&(this.dMultiply(Math.pow(W,Se)),this.dAddOffset(Pe,0)),ve&&c.ZERO.subTo(this,this)}function kt($,W,X){if(typeof W=="number")if($<2)this.fromInt(1);else for(this.fromNumber($,X),this.testBit($-1)||this.bitwiseTo(c.ONE.shiftLeft($-1),$t,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(W);)this.dAddOffset(2,0),this.bitLength()>$&&this.subTo(c.ONE.shiftLeft($-1),this);else{var le=new Array,ve=$&7;le.length=($>>3)+1,W.nextBytes(le),ve>0?le[0]&=(1<<ve)-1:le[0]=0,this.fromString(le,256)}}function Et(){var $=this.t,W=new Array;W[0]=this.s;var X=this.DB-$*this.DB%8,le,ve=0;if($-- >0)for(X<this.DB&&(le=this.data[$]>>X)!=(this.s&this.DM)>>X&&(W[ve++]=le|this.s<<this.DB-X);$>=0;)X<8?(le=(this.data[$]&(1<<X)-1)<<8-X,le|=this.data[--$]>>(X+=this.DB-8)):(le=this.data[$]>>(X-=8)&255,X<=0&&(X+=this.DB,--$)),le&128&&(le|=-256),ve==0&&(this.s&128)!=(le&128)&&++ve,(ve>0||le!=this.s)&&(W[ve++]=le);return W}function Ct($){return this.compareTo($)==0}function Ot($){return this.compareTo($)<0?this:$}function Bt($){return this.compareTo($)>0?this:$}function Lt($,W,X){var le,ve,Se=Math.min($.t,this.t);for(le=0;le<Se;++le)X.data[le]=W(this.data[le],$.data[le]);if($.t<this.t){for(ve=$.s&this.DM,le=Se;le<this.t;++le)X.data[le]=W(this.data[le],ve);X.t=this.t}else{for(ve=this.s&this.DM,le=Se;le<$.t;++le)X.data[le]=W(ve,$.data[le]);X.t=$.t}X.s=W(this.s,$.s),X.clamp()}function zt($,W){return $&W}function Yt($){var W=f();return this.bitwiseTo($,zt,W),W}function $t($,W){return $|W}function Kt($){var W=f();return this.bitwiseTo($,$t,W),W}function ur($,W){return $^W}function Er($){var W=f();return this.bitwiseTo($,ur,W),W}function yr($,W){return $&~W}function jr($){var W=f();return this.bitwiseTo($,yr,W),W}function un(){for(var $=f(),W=0;W<this.t;++W)$.data[W]=this.DM&~this.data[W];return $.t=this.t,$.s=~this.s,$}function Gr($){var W=f();return $<0?this.rShiftTo(-$,W):this.lShiftTo($,W),W}function Qr($){var W=f();return $<0?this.lShiftTo(-$,W):this.rShiftTo($,W),W}function bn($){if($==0)return-1;var W=0;return $&65535||($>>=16,W+=16),$&255||($>>=8,W+=8),$&15||($>>=4,W+=4),$&3||($>>=2,W+=2),$&1||++W,W}function ui(){for(var $=0;$<this.t;++$)if(this.data[$]!=0)return $*this.DB+bn(this.data[$]);return this.s<0?this.t*this.DB:-1}function Vr($){for(var W=0;$!=0;)$&=$-1,++W;return W}function Ln(){for(var $=0,W=this.s&this.DM,X=0;X<this.t;++X)$+=Vr(this.data[X]^W);return $}function xt($){var W=Math.floor($/this.DB);return W>=this.t?this.s!=0:(this.data[W]&1<<$%this.DB)!=0}function Ut($,W){var X=c.ONE.shiftLeft($);return this.bitwiseTo(X,W,X),X}function Zt($){return this.changeBit($,$t)}function Dt($){return this.changeBit($,yr)}function Ht($){return this.changeBit($,ur)}function Xt($,W){for(var X=0,le=0,ve=Math.min($.t,this.t);X<ve;)le+=this.data[X]+$.data[X],W.data[X++]=le&this.DM,le>>=this.DB;if($.t<this.t){for(le+=$.s;X<this.t;)le+=this.data[X],W.data[X++]=le&this.DM,le>>=this.DB;le+=this.s}else{for(le+=this.s;X<$.t;)le+=$.data[X],W.data[X++]=le&this.DM,le>>=this.DB;le+=$.s}W.s=le<0?-1:0,le>0?W.data[X++]=le:le<-1&&(W.data[X++]=this.DV+le),W.t=X,W.clamp()}function Wt($){var W=f();return this.addTo($,W),W}function Gt($){var W=f();return this.subTo($,W),W}function tr($){var W=f();return this.multiplyTo($,W),W}function rr($){var W=f();return this.divRemTo($,W,null),W}function nr($){var W=f();return this.divRemTo($,null,W),W}function Jt($){var W=f(),X=f();return this.divRemTo($,W,X),new Array(W,X)}function ir($){this.data[this.t]=this.am(0,$-1,this,0,0,this.t),++this.t,this.clamp()}function lr($,W){if($!=0){for(;this.t<=W;)this.data[this.t++]=0;for(this.data[W]+=$;this.data[W]>=this.DV;)this.data[W]-=this.DV,++W>=this.t&&(this.data[this.t++]=0),++this.data[W]}}function Mt(){}function er($){return $}function Ns($,W,X){$.multiplyTo(W,X)}function fa($,W){$.squareTo(W)}Mt.prototype.convert=er,Mt.prototype.revert=er,Mt.prototype.mulTo=Ns,Mt.prototype.sqrTo=fa;function ko($){return this.exp($,new Mt)}function ha($,W,X){var le=Math.min(this.t+$.t,W);for(X.s=0,X.t=le;le>0;)X.data[--le]=0;var ve;for(ve=X.t-this.t;le<ve;++le)X.data[le+this.t]=this.am(0,$.data[le],X,le,0,this.t);for(ve=Math.min($.t,W);le<ve;++le)this.am(0,$.data[le],X,le,0,W-le);X.clamp()}function ki($,W,X){--W;var le=X.t=this.t+$.t-W;for(X.s=0;--le>=0;)X.data[le]=0;for(le=Math.max(W-this.t,0);le<$.t;++le)X.data[this.t+le-W]=this.am(W-le,$.data[le],X,0,0,this.t+le-W);X.clamp(),X.drShiftTo(1,X)}function _n($){this.r2=f(),this.q3=f(),c.ONE.dlShiftTo(2*$.t,this.r2),this.mu=this.r2.divide($),this.m=$}function Cr($){if($.s<0||$.t>2*this.m.t)return $.mod(this.m);if($.compareTo(this.m)<0)return $;var W=f();return $.copyTo(W),this.reduce(W),W}function za($){return $}function Bi($){for($.drShiftTo(this.m.t-1,this.r2),$.t>this.m.t+1&&($.t=this.m.t+1,$.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);$.compareTo(this.r2)<0;)$.dAddOffset(1,this.m.t+1);for($.subTo(this.r2,$);$.compareTo(this.m)>=0;)$.subTo(this.m,$)}function da($,W){$.squareTo(W),this.reduce(W)}function pa($,W,X){$.multiplyTo(W,X),this.reduce(X)}_n.prototype.convert=Cr,_n.prototype.revert=za,_n.prototype.reduce=Bi,_n.prototype.mulTo=pa,_n.prototype.sqrTo=da;function Os($,W){var X=$.bitLength(),le,ve=A(1),Se;if(X<=0)return ve;X<18?le=1:X<48?le=3:X<144?le=4:X<768?le=5:le=6,X<8?Se=new de(W):W.isEven()?Se=new _n(W):Se=new et(W);var Pe=new Array,Ne=3,bt=le-1,ar=(1<<le)-1;if(Pe[1]=Se.convert(this),le>1){var Tr=f();for(Se.sqrTo(Pe[1],Tr);Ne<=ar;)Pe[Ne]=f(),Se.mulTo(Tr,Pe[Ne-2],Pe[Ne]),Ne+=2}var Br=$.t-1,ln,li=!0,Ar=f(),gr;for(X=q($.data[Br])-1;Br>=0;){for(X>=bt?ln=$.data[Br]>>X-bt&ar:(ln=($.data[Br]&(1<<X+1)-1)<<bt-X,Br>0&&(ln|=$.data[Br-1]>>this.DB+X-bt)),Ne=le;!(ln&1);)ln>>=1,--Ne;if((X-=Ne)<0&&(X+=this.DB,--Br),li)Pe[ln].copyTo(ve),li=!1;else{for(;Ne>1;)Se.sqrTo(ve,Ar),Se.sqrTo(Ar,ve),Ne-=2;Ne>0?Se.sqrTo(ve,Ar):(gr=ve,ve=Ar,Ar=gr),Se.mulTo(Ar,Pe[ln],ve)}for(;Br>=0&&!($.data[Br]&1<<X);)Se.sqrTo(ve,Ar),gr=ve,ve=Ar,Ar=gr,--X<0&&(X=this.DB-1,--Br)}return Se.revert(ve)}function Ls($){var W=this.s<0?this.negate():this.clone(),X=$.s<0?$.negate():$.clone();if(W.compareTo(X)<0){var le=W;W=X,X=le}var ve=W.getLowestSetBit(),Se=X.getLowestSetBit();if(Se<0)return W;for(ve<Se&&(Se=ve),Se>0&&(W.rShiftTo(Se,W),X.rShiftTo(Se,X));W.signum()>0;)(ve=W.getLowestSetBit())>0&&W.rShiftTo(ve,W),(ve=X.getLowestSetBit())>0&&X.rShiftTo(ve,X),W.compareTo(X)>=0?(W.subTo(X,W),W.rShiftTo(1,W)):(X.subTo(W,X),X.rShiftTo(1,X));return Se>0&&X.lShiftTo(Se,X),X}function Ps($){if($<=0)return 0;var W=this.DV%$,X=this.s<0?$-1:0;if(this.t>0)if(W==0)X=this.data[0]%$;else for(var le=this.t-1;le>=0;--le)X=(W*X+this.data[le])%$;return X}function ya($){var W=$.isEven();if(this.isEven()&&W||$.signum()==0)return c.ZERO;for(var X=$.clone(),le=this.clone(),ve=A(1),Se=A(0),Pe=A(0),Ne=A(1);X.signum()!=0;){for(;X.isEven();)X.rShiftTo(1,X),W?((!ve.isEven()||!Se.isEven())&&(ve.addTo(this,ve),Se.subTo($,Se)),ve.rShiftTo(1,ve)):Se.isEven()||Se.subTo($,Se),Se.rShiftTo(1,Se);for(;le.isEven();)le.rShiftTo(1,le),W?((!Pe.isEven()||!Ne.isEven())&&(Pe.addTo(this,Pe),Ne.subTo($,Ne)),Pe.rShiftTo(1,Pe)):Ne.isEven()||Ne.subTo($,Ne),Ne.rShiftTo(1,Ne);X.compareTo(le)>=0?(X.subTo(le,X),W&&ve.subTo(Pe,ve),Se.subTo(Ne,Se)):(le.subTo(X,le),W&&Pe.subTo(ve,Pe),Ne.subTo(Se,Ne))}if(le.compareTo(c.ONE)!=0)return c.ZERO;if(Ne.compareTo($)>=0)return Ne.subtract($);if(Ne.signum()<0)Ne.addTo($,Ne);else return Ne;return Ne.signum()<0?Ne.add($):Ne}var br=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],xs=(1<<26)/br[br.length-1];function Us($){var W,X=this.abs();if(X.t==1&&X.data[0]<=br[br.length-1]){for(W=0;W<br.length;++W)if(X.data[0]==br[W])return!0;return!1}if(X.isEven())return!1;for(W=1;W<br.length;){for(var le=br[W],ve=W+1;ve<br.length&&le<xs;)le*=br[ve++];for(le=X.modInt(le);W<ve;)if(le%br[W++]==0)return!1}return X.millerRabin($)}function Bo($){var W=this.subtract(c.ONE),X=W.getLowestSetBit();if(X<=0)return!1;for(var le=W.shiftRight(X),ve=$a(),Se,Pe=0;Pe<$;++Pe){do Se=new c(this.bitLength(),ve);while(Se.compareTo(c.ONE)<=0||Se.compareTo(W)>=0);var Ne=Se.modPow(le,this);if(Ne.compareTo(c.ONE)!=0&&Ne.compareTo(W)!=0){for(var bt=1;bt++<X&&Ne.compareTo(W)!=0;)if(Ne=Ne.modPowInt(2,this),Ne.compareTo(c.ONE)==0)return!1;if(Ne.compareTo(W)!=0)return!1}}return!0}function $a(){return{nextBytes:function($){for(var W=0;W<$.length;++W)$[W]=Math.floor(Math.random()*256)}}}c.prototype.chunkSize=Oe,c.prototype.toRadix=rt,c.prototype.fromRadix=$e,c.prototype.fromNumber=kt,c.prototype.bitwiseTo=Lt,c.prototype.changeBit=Ut,c.prototype.addTo=Xt,c.prototype.dMultiply=ir,c.prototype.dAddOffset=lr,c.prototype.multiplyLowerTo=ha,c.prototype.multiplyUpperTo=ki,c.prototype.modInt=Ps,c.prototype.millerRabin=Bo,c.prototype.clone=_e,c.prototype.intValue=xe,c.prototype.byteValue=je,c.prototype.shortValue=ye,c.prototype.signum=He,c.prototype.toByteArray=Et,c.prototype.equals=Ct,c.prototype.min=Ot,c.prototype.max=Bt,c.prototype.and=Yt,c.prototype.or=Kt,c.prototype.xor=Er,c.prototype.andNot=jr,c.prototype.not=un,c.prototype.shiftLeft=Gr,c.prototype.shiftRight=Qr,c.prototype.getLowestSetBit=ui,c.prototype.bitCount=Ln,c.prototype.testBit=xt,c.prototype.setBit=Zt,c.prototype.clearBit=Dt,c.prototype.flipBit=Ht,c.prototype.add=Wt,c.prototype.subtract=Gt,c.prototype.multiply=tr,c.prototype.divide=rr,c.prototype.remainder=nr,c.prototype.divideAndRemainder=Jt,c.prototype.modPow=Os,c.prototype.modInverse=ya,c.prototype.pow=ko,c.prototype.gcd=Ls,c.prototype.isProbablePrime=Us}),$u=Qe((e,n)=>{var t=lt();ca(),St();var r=n.exports=t.sha1=t.sha1||{};t.md.sha1=t.md.algorithms.sha1=r,r.create=function(){u||c();var l=null,s=t.util.createBuffer(),d=new Array(80),h={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return h.start=function(){h.messageLength=0,h.fullMessageLength=h.messageLength64=[];for(var g=h.messageLengthSize/4,I=0;I<g;++I)h.fullMessageLength.push(0);return s=t.util.createBuffer(),l={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},h},h.start(),h.update=function(g,I){I==="utf8"&&(g=t.util.encodeUtf8(g));var C=g.length;h.messageLength+=C,C=[C/4294967296>>>0,C>>>0];for(var _=h.fullMessageLength.length-1;_>=0;--_)h.fullMessageLength[_]+=C[1],C[1]=C[0]+(h.fullMessageLength[_]/4294967296>>>0),h.fullMessageLength[_]=h.fullMessageLength[_]>>>0,C[0]=C[1]/4294967296>>>0;return s.putBytes(g),f(l,d,s),(s.read>2048||s.length()===0)&&s.compact(),h},h.digest=function(){var g=t.util.createBuffer();g.putBytes(s.bytes());var I=h.fullMessageLength[h.fullMessageLength.length-1]+h.messageLengthSize,C=I&h.blockLength-1;g.putBytes(a.substr(0,h.blockLength-C));for(var _,T,N=h.fullMessageLength[0]*8,B=0;B<h.fullMessageLength.length-1;++B)_=h.fullMessageLength[B+1]*8,T=_/4294967296>>>0,N+=T,g.putInt32(N>>>0),N=_>>>0;g.putInt32(N);var p={h0:l.h0,h1:l.h1,h2:l.h2,h3:l.h3,h4:l.h4};f(p,d,g);var A=t.util.createBuffer();return A.putInt32(p.h0),A.putInt32(p.h1),A.putInt32(p.h2),A.putInt32(p.h3),A.putInt32(p.h4),A},h};var a=null,u=!1;function c(){a=String.fromCharCode(128),a+=t.util.fillString(String.fromCharCode(0),64),u=!0}function f(l,s,d){for(var h,g,I,C,_,T,N,B,p=d.length();p>=64;){for(g=l.h0,I=l.h1,C=l.h2,_=l.h3,T=l.h4,B=0;B<16;++B)h=d.getInt32(),s[B]=h,N=_^I&(C^_),h=(g<<5|g>>>27)+N+T+1518500249+h,T=_,_=C,C=(I<<30|I>>>2)>>>0,I=g,g=h;for(;B<20;++B)h=s[B-3]^s[B-8]^s[B-14]^s[B-16],h=h<<1|h>>>31,s[B]=h,N=_^I&(C^_),h=(g<<5|g>>>27)+N+T+1518500249+h,T=_,_=C,C=(I<<30|I>>>2)>>>0,I=g,g=h;for(;B<32;++B)h=s[B-3]^s[B-8]^s[B-14]^s[B-16],h=h<<1|h>>>31,s[B]=h,N=I^C^_,h=(g<<5|g>>>27)+N+T+1859775393+h,T=_,_=C,C=(I<<30|I>>>2)>>>0,I=g,g=h;for(;B<40;++B)h=s[B-6]^s[B-16]^s[B-28]^s[B-32],h=h<<2|h>>>30,s[B]=h,N=I^C^_,h=(g<<5|g>>>27)+N+T+1859775393+h,T=_,_=C,C=(I<<30|I>>>2)>>>0,I=g,g=h;for(;B<60;++B)h=s[B-6]^s[B-16]^s[B-28]^s[B-32],h=h<<2|h>>>30,s[B]=h,N=I&C|_&(I^C),h=(g<<5|g>>>27)+N+T+2400959708+h,T=_,_=C,C=(I<<30|I>>>2)>>>0,I=g,g=h;for(;B<80;++B)h=s[B-6]^s[B-16]^s[B-28]^s[B-32],h=h<<2|h>>>30,s[B]=h,N=I^C^_,h=(g<<5|g>>>27)+N+T+3395469782+h,T=_,_=C,C=(I<<30|I>>>2)>>>0,I=g,g=h;l.h0=l.h0+g|0,l.h1=l.h1+I|0,l.h2=l.h2+C|0,l.h3=l.h3+_|0,l.h4=l.h4+T|0,p-=64}}}),P1=Qe((e,n)=>{var t=lt();St(),oi(),$u();var r=n.exports=t.pkcs1=t.pkcs1||{};r.encode_rsa_oaep=function(u,c,f){var l,s,d,h;typeof f=="string"?(l=f,s=arguments[3]||void 0,d=arguments[4]||void 0):f&&(l=f.label||void 0,s=f.seed||void 0,d=f.md||void 0,f.mgf1&&f.mgf1.md&&(h=f.mgf1.md)),d?d.start():d=t.md.sha1.create(),h||(h=d);var g=Math.ceil(u.n.bitLength()/8),I=g-2*d.digestLength-2;if(c.length>I){var C=new Error("RSAES-OAEP input message length is too long.");throw C.length=c.length,C.maxLength=I,C}l||(l=""),d.update(l,"raw");for(var _=d.digest(),T="",N=I-c.length,B=0;B<N;B++)T+="\0";var p=_.getBytes()+T+""+c;if(!s)s=t.random.getBytes(d.digestLength);else if(s.length!==d.digestLength){var C=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw C.seedLength=s.length,C.digestLength=d.digestLength,C}var A=a(s,g-d.digestLength-1,h),S=t.util.xorBytes(p,A,p.length),O=a(S,d.digestLength,h),D=t.util.xorBytes(s,O,s.length);return"\0"+D+S},r.decode_rsa_oaep=function(u,c,f){var l,s,d;typeof f=="string"?(l=f,s=arguments[3]||void 0):f&&(l=f.label||void 0,s=f.md||void 0,f.mgf1&&f.mgf1.md&&(d=f.mgf1.md));var h=Math.ceil(u.n.bitLength()/8);if(c.length!==h){var g=new Error("RSAES-OAEP encoded message length is invalid.");throw g.length=c.length,g.expectedLength=h,g}if(s===void 0?s=t.md.sha1.create():s.start(),d||(d=s),h<2*s.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");l||(l=""),s.update(l,"raw");for(var I=s.digest().getBytes(),C=c.charAt(0),_=c.substring(1,s.digestLength+1),T=c.substring(1+s.digestLength),N=a(T,s.digestLength,d),B=t.util.xorBytes(_,N,_.length),p=a(B,h-s.digestLength-1,d),A=t.util.xorBytes(T,p,T.length),S=A.substring(0,s.digestLength),g=C!=="\0",O=0;O<s.digestLength;++O)g|=I.charAt(O)!==S.charAt(O);for(var D=1,E=s.digestLength,m=s.digestLength;m<A.length;m++){var y=A.charCodeAt(m),q=y&1^1,M=D?65534:0;g|=y&M,D=D&q,E+=D}if(g||A.charCodeAt(E)!==1)throw new Error("Invalid RSAES-OAEP padding.");return A.substring(E+1)};function a(u,c,f){f||(f=t.md.sha1.create());for(var l="",s=Math.ceil(c/f.digestLength),d=0;d<s;++d){var h=String.fromCharCode(d>>24&255,d>>16&255,d>>8&255,d&255);f.start(),f.update(u+h),l+=f.digest().getBytes()}return l.substring(0,c)}}),x1=Qe((e,n)=>{var t=lt();St(),rf(),oi(),function(){if(t.prime){n.exports=t.prime;return}var r=n.exports=t.prime=t.prime||{},a=t.jsbn.BigInteger,u=[6,4,2,4,2,4,6,2],c=new a(null);c.fromInt(30);var f=function(C,_){return C|_};r.generateProbablePrime=function(C,_,T){typeof _=="function"&&(T=_,_={}),_=_||{};var N=_.algorithm||"PRIMEINC";typeof N=="string"&&(N={name:N}),N.options=N.options||{};var B=_.prng||t.random,p={nextBytes:function(A){for(var S=B.getBytesSync(A.length),O=0;O<A.length;++O)A[O]=S.charCodeAt(O)}};if(N.name==="PRIMEINC")return l(C,p,N.options,T);throw new Error("Invalid prime generation algorithm: "+N.name)};function l(C,_,T,N){return"workers"in T?h(C,_,T,N):s(C,_,T,N)}function s(C,_,T,N){var B=g(C,_),p=0,A=I(B.bitLength());"millerRabinTests"in T&&(A=T.millerRabinTests);var S=10;"maxBlockTime"in T&&(S=T.maxBlockTime),d(B,C,_,p,A,S,N)}function d(C,_,T,N,B,p,A){var S=+new Date;do{if(C.bitLength()>_&&(C=g(_,T)),C.isProbablePrime(B))return A(null,C);C.dAddOffset(u[N++%8],0)}while(p<0||+new Date-S<p);t.util.setImmediate(function(){d(C,_,T,N,B,p,A)})}function h(C,_,T,N){if(typeof Worker>"u")return s(C,_,T,N);var B=g(C,_),p=T.workers,A=T.workLoad||100,S=A*30/8,O=T.workerScript||"forge/prime.worker.js";if(p===-1)return t.util.estimateCores(function(E,m){E&&(m=2),p=m-1,D()});D();function D(){p=Math.max(1,p);for(var E=[],m=0;m<p;++m)E[m]=new Worker(O);for(var y=p,m=0;m<p;++m)E[m].addEventListener("message",M);var q=!1;function M(V){if(!q){--y;var w=V.data;if(w.found){for(var x=0;x<E.length;++x)E[x].terminate();return q=!0,N(null,new a(w.prime,16))}B.bitLength()>C&&(B=g(C,_));var j=B.toString(16);V.target.postMessage({hex:j,workLoad:A}),B.dAddOffset(S,0)}}}}function g(C,_){var T=new a(C,_),N=C-1;return T.testBit(N)||T.bitwiseTo(a.ONE.shiftLeft(N),f,T),T.dAddOffset(31-T.mod(c).byteValue(),0),T}function I(C){return C<=100?27:C<=150?18:C<=200?15:C<=250?12:C<=300?9:C<=350?8:C<=400?7:C<=500?6:C<=600?5:C<=800?4:C<=1250?3:2}}()}),nf=Qe((e,n)=>{var t=lt();Ri(),rf(),Bs(),P1(),x1(),oi(),St(),typeof r>"u"&&(r=t.jsbn.BigInteger);var r,a=t.util.isNodejs?mo("crypto"):null,u=t.asn1,c=t.util;t.pki=t.pki||{},n.exports=t.pki.rsa=t.rsa=t.rsa||{};var f=t.pki,l=[6,4,2,4,2,4,6,2],s={name:"PrivateKeyInfo",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:u.Class.UNIVERSAL,type:u.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:u.Class.UNIVERSAL,type:u.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},d={name:"RSAPrivateKey",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},h={name:"RSAPublicKey",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:u.Class.UNIVERSAL,type:u.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},g=t.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:u.Class.UNIVERSAL,type:u.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:u.Class.UNIVERSAL,type:u.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},I={name:"DigestInfo",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:u.Class.UNIVERSAL,type:u.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:u.Class.UNIVERSAL,type:u.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:u.Class.UNIVERSAL,type:u.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:u.Class.UNIVERSAL,type:u.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},C=function(m){var y;if(m.algorithm in f.oids)y=f.oids[m.algorithm];else{var q=new Error("Unknown message digest algorithm.");throw q.algorithm=m.algorithm,q}var M=u.oidToDer(y).getBytes(),V=u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[]),w=u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[]);w.value.push(u.create(u.Class.UNIVERSAL,u.Type.OID,!1,M)),w.value.push(u.create(u.Class.UNIVERSAL,u.Type.NULL,!1,""));var x=u.create(u.Class.UNIVERSAL,u.Type.OCTETSTRING,!1,m.digest().getBytes());return V.value.push(w),V.value.push(x),u.toDer(V).getBytes()},_=function(m,y,q){if(q)return m.modPow(y.e,y.n);if(!y.p||!y.q)return m.modPow(y.d,y.n);y.dP||(y.dP=y.d.mod(y.p.subtract(r.ONE))),y.dQ||(y.dQ=y.d.mod(y.q.subtract(r.ONE))),y.qInv||(y.qInv=y.q.modInverse(y.p));var M;do M=new r(t.util.bytesToHex(t.random.getBytes(y.n.bitLength()/8)),16);while(M.compareTo(y.n)>=0||!M.gcd(y.n).equals(r.ONE));m=m.multiply(M.modPow(y.e,y.n)).mod(y.n);for(var V=m.mod(y.p).modPow(y.dP,y.p),w=m.mod(y.q).modPow(y.dQ,y.q);V.compareTo(w)<0;)V=V.add(y.p);var x=V.subtract(w).multiply(y.qInv).mod(y.p).multiply(y.q).add(w);return x=x.multiply(M.modInverse(y.n)).mod(y.n),x};f.rsa.encrypt=function(m,y,q){var M=q,V,w=Math.ceil(y.n.bitLength()/8);q!==!1&&q!==!0?(M=q===2,V=T(m,y,q)):(V=t.util.createBuffer(),V.putBytes(m));for(var x=new r(V.toHex(),16),j=_(x,y,M),L=j.toString(16),F=t.util.createBuffer(),J=w-Math.ceil(L.length/2);J>0;)F.putByte(0),--J;return F.putBytes(t.util.hexToBytes(L)),F.getBytes()},f.rsa.decrypt=function(m,y,q,M){var V=Math.ceil(y.n.bitLength()/8);if(m.length!==V){var w=new Error("Encrypted message length is invalid.");throw w.length=m.length,w.expected=V,w}var x=new r(t.util.createBuffer(m).toHex(),16);if(x.compareTo(y.n)>=0)throw new Error("Encrypted message is invalid.");for(var j=_(x,y,q),L=j.toString(16),F=t.util.createBuffer(),J=V-Math.ceil(L.length/2);J>0;)F.putByte(0),--J;return F.putBytes(t.util.hexToBytes(L)),M!==!1?N(F.getBytes(),y,q):F.getBytes()},f.rsa.createKeyPairGenerationState=function(m,y,q){typeof m=="string"&&(m=parseInt(m,10)),m=m||2048,q=q||{};var M=q.prng||t.random,V={nextBytes:function(j){for(var L=M.getBytesSync(j.length),F=0;F<j.length;++F)j[F]=L.charCodeAt(F)}},w=q.algorithm||"PRIMEINC",x;if(w==="PRIMEINC")x={algorithm:w,state:0,bits:m,rng:V,eInt:y||65537,e:new r(null),p:null,q:null,qBits:m>>1,pBits:m-(m>>1),pqState:0,num:null,keys:null},x.e.fromInt(x.eInt);else throw new Error("Invalid key generation algorithm: "+w);return x},f.rsa.stepKeyPairGenerationState=function(m,y){"algorithm"in m||(m.algorithm="PRIMEINC");var q=new r(null);q.fromInt(30);for(var M=0,V=function(oe,se){return oe|se},w=+new Date,x,j=0;m.keys===null&&(y<=0||j<y);){if(m.state===0){var L=m.p===null?m.pBits:m.qBits,F=L-1;m.pqState===0?(m.num=new r(L,m.rng),m.num.testBit(F)||m.num.bitwiseTo(r.ONE.shiftLeft(F),V,m.num),m.num.dAddOffset(31-m.num.mod(q).byteValue(),0),M=0,++m.pqState):m.pqState===1?m.num.bitLength()>L?m.pqState=0:m.num.isProbablePrime(A(m.num.bitLength()))?++m.pqState:m.num.dAddOffset(l[M++%8],0):m.pqState===2?m.pqState=m.num.subtract(r.ONE).gcd(m.e).compareTo(r.ONE)===0?3:0:m.pqState===3&&(m.pqState=0,m.p===null?m.p=m.num:m.q=m.num,m.p!==null&&m.q!==null&&++m.state,m.num=null)}else if(m.state===1)m.p.compareTo(m.q)<0&&(m.num=m.p,m.p=m.q,m.q=m.num),++m.state;else if(m.state===2)m.p1=m.p.subtract(r.ONE),m.q1=m.q.subtract(r.ONE),m.phi=m.p1.multiply(m.q1),++m.state;else if(m.state===3)m.phi.gcd(m.e).compareTo(r.ONE)===0?++m.state:(m.p=null,m.q=null,m.state=0);else if(m.state===4)m.n=m.p.multiply(m.q),m.n.bitLength()===m.bits?++m.state:(m.q=null,m.state=0);else if(m.state===5){var J=m.e.modInverse(m.phi);m.keys={privateKey:f.rsa.setPrivateKey(m.n,m.e,J,m.p,m.q,J.mod(m.p1),J.mod(m.q1),m.q.modInverse(m.p)),publicKey:f.rsa.setPublicKey(m.n,m.e)}}x=+new Date,j+=x-w,w=x}return m.keys!==null},f.rsa.generateKeyPair=function(m,y,q,M){if(arguments.length===1?typeof m=="object"?(q=m,m=void 0):typeof m=="function"&&(M=m,m=void 0):arguments.length===2?typeof m=="number"?typeof y=="function"?(M=y,y=void 0):typeof y!="number"&&(q=y,y=void 0):(q=m,M=y,m=void 0,y=void 0):arguments.length===3&&(typeof y=="number"?typeof q=="function"&&(M=q,q=void 0):(M=q,q=y,y=void 0)),q=q||{},m===void 0&&(m=q.bits||2048),y===void 0&&(y=q.e||65537),!t.options.usePureJavaScript&&!q.prng&&m>=256&&m<=16384&&(y===65537||y===3)){if(M){if(S("generateKeyPair"))return a.generateKeyPair("rsa",{modulusLength:m,publicExponent:y,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(j,L,F){if(j)return M(j);M(null,{privateKey:f.privateKeyFromPem(F),publicKey:f.publicKeyFromPem(L)})});if(O("generateKey")&&O("exportKey"))return c.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:m,publicExponent:E(y),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(j){return c.globalScope.crypto.subtle.exportKey("pkcs8",j.privateKey)}).then(void 0,function(j){M(j)}).then(function(j){if(j){var L=f.privateKeyFromAsn1(u.fromDer(t.util.createBuffer(j)));M(null,{privateKey:L,publicKey:f.setRsaPublicKey(L.n,L.e)})}});if(D("generateKey")&&D("exportKey")){var V=c.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:m,publicExponent:E(y),hash:{name:"SHA-256"}},!0,["sign","verify"]);V.oncomplete=function(j){var L=j.target.result,F=c.globalScope.msCrypto.subtle.exportKey("pkcs8",L.privateKey);F.oncomplete=function(J){var oe=J.target.result,se=f.privateKeyFromAsn1(u.fromDer(t.util.createBuffer(oe)));M(null,{privateKey:se,publicKey:f.setRsaPublicKey(se.n,se.e)})},F.onerror=function(J){M(J)}},V.onerror=function(j){M(j)};return}}else if(S("generateKeyPairSync")){var w=a.generateKeyPairSync("rsa",{modulusLength:m,publicExponent:y,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:f.privateKeyFromPem(w.privateKey),publicKey:f.publicKeyFromPem(w.publicKey)}}}var x=f.rsa.createKeyPairGenerationState(m,y,q);if(!M)return f.rsa.stepKeyPairGenerationState(x,0),x.keys;B(x,q,M)},f.setRsaPublicKey=f.rsa.setPublicKey=function(m,y){var q={n:m,e:y};return q.encrypt=function(M,V,w){if(typeof V=="string"?V=V.toUpperCase():V===void 0&&(V="RSAES-PKCS1-V1_5"),V==="RSAES-PKCS1-V1_5")V={encode:function(j,L,F){return T(j,L,2).getBytes()}};else if(V==="RSA-OAEP"||V==="RSAES-OAEP")V={encode:function(j,L){return t.pkcs1.encode_rsa_oaep(L,j,w)}};else if(["RAW","NONE","NULL",null].indexOf(V)!==-1)V={encode:function(j){return j}};else if(typeof V=="string")throw new Error('Unsupported encryption scheme: "'+V+'".');var x=V.encode(M,q,!0);return f.rsa.encrypt(x,q,!0)},q.verify=function(M,V,w,x){typeof w=="string"?w=w.toUpperCase():w===void 0&&(w="RSASSA-PKCS1-V1_5"),x===void 0&&(x={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in x||(x._parseAllDigestBytes=!0),w==="RSASSA-PKCS1-V1_5"?w={verify:function(L,F){F=N(F,q,!0);var J=u.fromDer(F,{parseAllBytes:x._parseAllDigestBytes}),oe={},se=[];if(!u.validate(J,I,oe,se)){var de=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.");throw de.errors=se,de}var ke=u.derToOid(oe.algorithmIdentifier);if(!(ke===t.oids.md2||ke===t.oids.md5||ke===t.oids.sha1||ke===t.oids.sha224||ke===t.oids.sha256||ke===t.oids.sha384||ke===t.oids.sha512||ke===t.oids["sha512-224"]||ke===t.oids["sha512-256"])){var de=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.");throw de.oid=ke,de}if((ke===t.oids.md2||ke===t.oids.md5)&&!("parameters"in oe))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return L===oe.digest}}:(w==="NONE"||w==="NULL"||w===null)&&(w={verify:function(L,F){return F=N(F,q,!0),L===F}});var j=f.rsa.decrypt(V,q,!0,!1);return w.verify(M,j,q.n.bitLength())},q},f.setRsaPrivateKey=f.rsa.setPrivateKey=function(m,y,q,M,V,w,x,j){var L={n:m,e:y,d:q,p:M,q:V,dP:w,dQ:x,qInv:j};return L.decrypt=function(F,J,oe){typeof J=="string"?J=J.toUpperCase():J===void 0&&(J="RSAES-PKCS1-V1_5");var se=f.rsa.decrypt(F,L,!1,!1);if(J==="RSAES-PKCS1-V1_5")J={decode:N};else if(J==="RSA-OAEP"||J==="RSAES-OAEP")J={decode:function(de,ke){return t.pkcs1.decode_rsa_oaep(ke,de,oe)}};else if(["RAW","NONE","NULL",null].indexOf(J)!==-1)J={decode:function(de){return de}};else throw new Error('Unsupported encryption scheme: "'+J+'".');return J.decode(se,L,!1)},L.sign=function(F,J){var oe=!1;typeof J=="string"&&(J=J.toUpperCase()),J===void 0||J==="RSASSA-PKCS1-V1_5"?(J={encode:C},oe=1):(J==="NONE"||J==="NULL"||J===null)&&(J={encode:function(){return F}},oe=1);var se=J.encode(F,L.n.bitLength());return f.rsa.encrypt(se,L,oe)},L},f.wrapRsaPrivateKey=function(m){return u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,u.integerToDer(0).getBytes()),u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(f.oids.rsaEncryption).getBytes()),u.create(u.Class.UNIVERSAL,u.Type.NULL,!1,"")]),u.create(u.Class.UNIVERSAL,u.Type.OCTETSTRING,!1,u.toDer(m).getBytes())])},f.privateKeyFromAsn1=function(m){var y={},q=[];if(u.validate(m,s,y,q)&&(m=u.fromDer(t.util.createBuffer(y.privateKey))),y={},q=[],!u.validate(m,d,y,q)){var M=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw M.errors=q,M}var V,w,x,j,L,F,J,oe;return V=t.util.createBuffer(y.privateKeyModulus).toHex(),w=t.util.createBuffer(y.privateKeyPublicExponent).toHex(),x=t.util.createBuffer(y.privateKeyPrivateExponent).toHex(),j=t.util.createBuffer(y.privateKeyPrime1).toHex(),L=t.util.createBuffer(y.privateKeyPrime2).toHex(),F=t.util.createBuffer(y.privateKeyExponent1).toHex(),J=t.util.createBuffer(y.privateKeyExponent2).toHex(),oe=t.util.createBuffer(y.privateKeyCoefficient).toHex(),f.setRsaPrivateKey(new r(V,16),new r(w,16),new r(x,16),new r(j,16),new r(L,16),new r(F,16),new r(J,16),new r(oe,16))},f.privateKeyToAsn1=f.privateKeyToRSAPrivateKey=function(m){return u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,u.integerToDer(0).getBytes()),u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,p(m.n)),u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,p(m.e)),u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,p(m.d)),u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,p(m.p)),u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,p(m.q)),u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,p(m.dP)),u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,p(m.dQ)),u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,p(m.qInv))])},f.publicKeyFromAsn1=function(m){var y={},q=[];if(u.validate(m,g,y,q)){var M=u.derToOid(y.publicKeyOid);if(M!==f.oids.rsaEncryption){var V=new Error("Cannot read public key. Unknown OID.");throw V.oid=M,V}m=y.rsaPublicKey}if(q=[],!u.validate(m,h,y,q)){var V=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw V.errors=q,V}var w=t.util.createBuffer(y.publicKeyModulus).toHex(),x=t.util.createBuffer(y.publicKeyExponent).toHex();return f.setRsaPublicKey(new r(w,16),new r(x,16))},f.publicKeyToAsn1=f.publicKeyToSubjectPublicKeyInfo=function(m){return u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.OID,!1,u.oidToDer(f.oids.rsaEncryption).getBytes()),u.create(u.Class.UNIVERSAL,u.Type.NULL,!1,"")]),u.create(u.Class.UNIVERSAL,u.Type.BITSTRING,!1,[f.publicKeyToRSAPublicKey(m)])])},f.publicKeyToRSAPublicKey=function(m){return u.create(u.Class.UNIVERSAL,u.Type.SEQUENCE,!0,[u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,p(m.n)),u.create(u.Class.UNIVERSAL,u.Type.INTEGER,!1,p(m.e))])};function T(m,y,q){var M=t.util.createBuffer(),V=Math.ceil(y.n.bitLength()/8);if(m.length>V-11){var w=new Error("Message is too long for PKCS#1 v1.5 padding.");throw w.length=m.length,w.max=V-11,w}M.putByte(0),M.putByte(q);var x=V-3-m.length,j;if(q===0||q===1){j=q===0?0:255;for(var L=0;L<x;++L)M.putByte(j)}else for(;x>0;){for(var F=0,J=t.random.getBytes(x),L=0;L<x;++L)j=J.charCodeAt(L),j===0?++F:M.putByte(j);x=F}return M.putByte(0),M.putBytes(m),M}function N(m,y,q,M){var V=Math.ceil(y.n.bitLength()/8),w=t.util.createBuffer(m),x=w.getByte(),j=w.getByte();if(x!==0||q&&j!==0&&j!==1||!q&&j!=2||q&&j===0&&typeof M>"u")throw new Error("Encryption block is invalid.");var L=0;if(j===0){L=V-3-M;for(var F=0;F<L;++F)if(w.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(j===1)for(L=0;w.length()>1;){if(w.getByte()!==255){--w.read;break}++L}else if(j===2)for(L=0;w.length()>1;){if(w.getByte()===0){--w.read;break}++L}var J=w.getByte();if(J!==0||L!==V-3-w.length())throw new Error("Encryption block is invalid.");return w.getBytes()}function B(m,y,q){typeof y=="function"&&(q=y,y={}),y=y||{};var M={algorithm:{name:y.algorithm||"PRIMEINC",options:{workers:y.workers||2,workLoad:y.workLoad||100,workerScript:y.workerScript}}};"prng"in y&&(M.prng=y.prng),V();function V(){w(m.pBits,function(j,L){if(j)return q(j);if(m.p=L,m.q!==null)return x(j,m.q);w(m.qBits,x)})}function w(j,L){t.prime.generateProbablePrime(j,M,L)}function x(j,L){if(j)return q(j);if(m.q=L,m.p.compareTo(m.q)<0){var F=m.p;m.p=m.q,m.q=F}if(m.p.subtract(r.ONE).gcd(m.e).compareTo(r.ONE)!==0){m.p=null,V();return}if(m.q.subtract(r.ONE).gcd(m.e).compareTo(r.ONE)!==0){m.q=null,w(m.qBits,x);return}if(m.p1=m.p.subtract(r.ONE),m.q1=m.q.subtract(r.ONE),m.phi=m.p1.multiply(m.q1),m.phi.gcd(m.e).compareTo(r.ONE)!==0){m.p=m.q=null,V();return}if(m.n=m.p.multiply(m.q),m.n.bitLength()!==m.bits){m.q=null,w(m.qBits,x);return}var J=m.e.modInverse(m.phi);m.keys={privateKey:f.rsa.setPrivateKey(m.n,m.e,J,m.p,m.q,J.mod(m.p1),J.mod(m.q1),m.q.modInverse(m.p)),publicKey:f.rsa.setPublicKey(m.n,m.e)},q(null,m.keys)}}function p(m){var y=m.toString(16);y[0]>="8"&&(y="00"+y);var q=t.util.hexToBytes(y);return q.length>1&&(q.charCodeAt(0)===0&&!(q.charCodeAt(1)&128)||q.charCodeAt(0)===255&&(q.charCodeAt(1)&128)===128)?q.substr(1):q}function A(m){return m<=100?27:m<=150?18:m<=200?15:m<=250?12:m<=300?9:m<=350?8:m<=400?7:m<=500?6:m<=600?5:m<=800?4:m<=1250?3:2}function S(m){return t.util.isNodejs&&typeof a[m]=="function"}function O(m){return typeof c.globalScope<"u"&&typeof c.globalScope.crypto=="object"&&typeof c.globalScope.crypto.subtle=="object"&&typeof c.globalScope.crypto.subtle[m]=="function"}function D(m){return typeof c.globalScope<"u"&&typeof c.globalScope.msCrypto=="object"&&typeof c.globalScope.msCrypto.subtle=="object"&&typeof c.globalScope.msCrypto.subtle[m]=="function"}function E(m){for(var y=t.util.hexToBytes(m.toString(16)),q=new Uint8Array(y.length),M=0;M<y.length;++M)q[M]=y.charCodeAt(M);return q}}),U1=Qe((e,n)=>{var t=lt();ks(),Ri(),tf(),ca(),Bs(),Pp(),Ro(),oi(),L1(),nf(),St(),typeof r>"u"&&(r=t.jsbn.BigInteger);var r,a=t.asn1,u=t.pki=t.pki||{};n.exports=u.pbe=t.pbe=t.pbe||{};var c=u.oids,f={name:"EncryptedPrivateKeyInfo",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},l={name:"PBES2Algorithms",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:a.Class.UNIVERSAL,type:a.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},s={name:"pkcs-12PbeParams",tagClass:a.Class.UNIVERSAL,type:a.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:a.Class.UNIVERSAL,type:a.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:a.Class.UNIVERSAL,type:a.Type.INTEGER,constructed:!1,capture:"iterations"}]};u.encryptPrivateKeyInfo=function(C,_,T){T=T||{},T.saltSize=T.saltSize||8,T.count=T.count||2048,T.algorithm=T.algorithm||"aes128",T.prfAlgorithm=T.prfAlgorithm||"sha1";var N=t.random.getBytesSync(T.saltSize),B=T.count,p=a.integerToDer(B),A,S,O;if(T.algorithm.indexOf("aes")===0||T.algorithm==="des"){var D,E,m;switch(T.algorithm){case"aes128":A=16,D=16,E=c["aes128-CBC"],m=t.aes.createEncryptionCipher;break;case"aes192":A=24,D=16,E=c["aes192-CBC"],m=t.aes.createEncryptionCipher;break;case"aes256":A=32,D=16,E=c["aes256-CBC"],m=t.aes.createEncryptionCipher;break;case"des":A=8,D=8,E=c.desCBC,m=t.des.createEncryptionCipher;break;default:var y=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw y.algorithm=T.algorithm,y}var q="hmacWith"+T.prfAlgorithm.toUpperCase(),M=g(q),V=t.pkcs5.pbkdf2(_,N,B,A,M),w=t.random.getBytesSync(D),x=m(V);x.start(w),x.update(a.toDer(C)),x.finish(),O=x.output.getBytes();var j=I(N,p,A,q);S=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(c.pkcs5PBES2).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(c.pkcs5PBKDF2).getBytes()),j]),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(E).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,w)])])])}else if(T.algorithm==="3des"){A=24;var L=new t.util.ByteBuffer(N),V=u.pbe.generatePkcs12Key(_,L,1,B,A),w=u.pbe.generatePkcs12Key(_,L,2,B,A),x=t.des.createEncryptionCipher(V);x.start(w),x.update(a.toDer(C)),x.finish(),O=x.output.getBytes(),S=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(c["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,N),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,p.getBytes())])])}else{var y=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw y.algorithm=T.algorithm,y}var F=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[S,a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,O)]);return F},u.decryptPrivateKeyInfo=function(C,_){var T=null,N={},B=[];if(!a.validate(C,f,N,B)){var p=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw p.errors=B,p}var A=a.derToOid(N.encryptionOid),S=u.pbe.getCipher(A,N.encryptionParams,_),O=t.util.createBuffer(N.encryptedData);return S.update(O),S.finish()&&(T=a.fromDer(S.output)),T},u.encryptedPrivateKeyToPem=function(C,_){var T={type:"ENCRYPTED PRIVATE KEY",body:a.toDer(C).getBytes()};return t.pem.encode(T,{maxline:_})},u.encryptedPrivateKeyFromPem=function(C){var _=t.pem.decode(C)[0];if(_.type!=="ENCRYPTED PRIVATE KEY"){var T=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw T.headerType=_.type,T}if(_.procType&&_.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return a.fromDer(_.body)},u.encryptRsaPrivateKey=function(C,_,T){if(T=T||{},!T.legacy){var N=u.wrapRsaPrivateKey(u.privateKeyToAsn1(C));return N=u.encryptPrivateKeyInfo(N,_,T),u.encryptedPrivateKeyToPem(N)}var B,p,A,S;switch(T.algorithm){case"aes128":B="AES-128-CBC",A=16,p=t.random.getBytesSync(16),S=t.aes.createEncryptionCipher;break;case"aes192":B="AES-192-CBC",A=24,p=t.random.getBytesSync(16),S=t.aes.createEncryptionCipher;break;case"aes256":B="AES-256-CBC",A=32,p=t.random.getBytesSync(16),S=t.aes.createEncryptionCipher;break;case"3des":B="DES-EDE3-CBC",A=24,p=t.random.getBytesSync(8),S=t.des.createEncryptionCipher;break;case"des":B="DES-CBC",A=8,p=t.random.getBytesSync(8),S=t.des.createEncryptionCipher;break;default:var O=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+T.algorithm+'".');throw O.algorithm=T.algorithm,O}var D=t.pbe.opensslDeriveBytes(_,p.substr(0,8),A),E=S(D);E.start(p),E.update(a.toDer(u.privateKeyToAsn1(C))),E.finish();var m={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:B,parameters:t.util.bytesToHex(p).toUpperCase()},body:E.output.getBytes()};return t.pem.encode(m)},u.decryptRsaPrivateKey=function(C,_){var T=null,N=t.pem.decode(C)[0];if(N.type!=="ENCRYPTED PRIVATE KEY"&&N.type!=="PRIVATE KEY"&&N.type!=="RSA PRIVATE KEY"){var B=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw B.headerType=B,B}if(N.procType&&N.procType.type==="ENCRYPTED"){var p,A;switch(N.dekInfo.algorithm){case"DES-CBC":p=8,A=t.des.createDecryptionCipher;break;case"DES-EDE3-CBC":p=24,A=t.des.createDecryptionCipher;break;case"AES-128-CBC":p=16,A=t.aes.createDecryptionCipher;break;case"AES-192-CBC":p=24,A=t.aes.createDecryptionCipher;break;case"AES-256-CBC":p=32,A=t.aes.createDecryptionCipher;break;case"RC2-40-CBC":p=5,A=function(m){return t.rc2.createDecryptionCipher(m,40)};break;case"RC2-64-CBC":p=8,A=function(m){return t.rc2.createDecryptionCipher(m,64)};break;case"RC2-128-CBC":p=16,A=function(m){return t.rc2.createDecryptionCipher(m,128)};break;default:var B=new Error('Could not decrypt private key; unsupported encryption algorithm "'+N.dekInfo.algorithm+'".');throw B.algorithm=N.dekInfo.algorithm,B}var S=t.util.hexToBytes(N.dekInfo.parameters),O=t.pbe.opensslDeriveBytes(_,S.substr(0,8),p),D=A(O);if(D.start(S),D.update(t.util.createBuffer(N.body)),D.finish())T=D.output.getBytes();else return T}else T=N.body;return N.type==="ENCRYPTED PRIVATE KEY"?T=u.decryptPrivateKeyInfo(a.fromDer(T),_):T=a.fromDer(T),T!==null&&(T=u.privateKeyFromAsn1(T)),T},u.pbe.generatePkcs12Key=function(C,_,T,N,B,p){var A,S;if(typeof p>"u"||p===null){if(!("sha1"in t.md))throw new Error('"sha1" hash algorithm unavailable.');p=t.md.sha1.create()}var O=p.digestLength,D=p.blockLength,E=new t.util.ByteBuffer,m=new t.util.ByteBuffer;if(C!=null){for(S=0;S<C.length;S++)m.putInt16(C.charCodeAt(S));m.putInt16(0)}var y=m.length(),q=_.length(),M=new t.util.ByteBuffer;M.fillWithByte(T,D);var V=D*Math.ceil(q/D),w=new t.util.ByteBuffer;for(S=0;S<V;S++)w.putByte(_.at(S%q));var x=D*Math.ceil(y/D),j=new t.util.ByteBuffer;for(S=0;S<x;S++)j.putByte(m.at(S%y));var L=w;L.putBuffer(j);for(var F=Math.ceil(B/O),J=1;J<=F;J++){var oe=new t.util.ByteBuffer;oe.putBytes(M.bytes()),oe.putBytes(L.bytes());for(var se=0;se<N;se++)p.start(),p.update(oe.getBytes()),oe=p.digest();var de=new t.util.ByteBuffer;for(S=0;S<D;S++)de.putByte(oe.at(S%O));var ke=Math.ceil(q/D)+Math.ceil(y/D),Le=new t.util.ByteBuffer;for(A=0;A<ke;A++){var Ve=new t.util.ByteBuffer(L.getBytes(D)),Ee=511;for(S=de.length()-1;S>=0;S--)Ee=Ee>>8,Ee+=de.at(S)+Ve.at(S),Ve.setAt(S,Ee&255);Le.putBuffer(Ve)}L=Le,E.putBuffer(oe)}return E.truncate(E.length()-B),E},u.pbe.getCipher=function(C,_,T){switch(C){case u.oids.pkcs5PBES2:return u.pbe.getCipherForPBES2(C,_,T);case u.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case u.oids["pbewithSHAAnd40BitRC2-CBC"]:return u.pbe.getCipherForPKCS12PBE(C,_,T);default:var N=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw N.oid=C,N.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],N}},u.pbe.getCipherForPBES2=function(C,_,T){var N={},B=[];if(!a.validate(_,l,N,B)){var p=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw p.errors=B,p}if(C=a.derToOid(N.kdfOid),C!==u.oids.pkcs5PBKDF2){var p=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw p.oid=C,p.supportedOids=["pkcs5PBKDF2"],p}if(C=a.derToOid(N.encOid),C!==u.oids["aes128-CBC"]&&C!==u.oids["aes192-CBC"]&&C!==u.oids["aes256-CBC"]&&C!==u.oids["des-EDE3-CBC"]&&C!==u.oids.desCBC){var p=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw p.oid=C,p.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],p}var A=N.kdfSalt,S=t.util.createBuffer(N.kdfIterationCount);S=S.getInt(S.length()<<3);var O,D;switch(u.oids[C]){case"aes128-CBC":O=16,D=t.aes.createDecryptionCipher;break;case"aes192-CBC":O=24,D=t.aes.createDecryptionCipher;break;case"aes256-CBC":O=32,D=t.aes.createDecryptionCipher;break;case"des-EDE3-CBC":O=24,D=t.des.createDecryptionCipher;break;case"desCBC":O=8,D=t.des.createDecryptionCipher;break}var E=h(N.prfOid),m=t.pkcs5.pbkdf2(T,A,S,O,E),y=N.encIv,q=D(m);return q.start(y),q},u.pbe.getCipherForPKCS12PBE=function(C,_,T){var N={},B=[];if(!a.validate(_,s,N,B)){var p=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw p.errors=B,p}var A=t.util.createBuffer(N.salt),S=t.util.createBuffer(N.iterations);S=S.getInt(S.length()<<3);var O,D,E;switch(C){case u.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:O=24,D=8,E=t.des.startDecrypting;break;case u.oids["pbewithSHAAnd40BitRC2-CBC"]:O=5,D=8,E=function(V,w){var x=t.rc2.createDecryptionCipher(V,40);return x.start(w,null),x};break;default:var p=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw p.oid=C,p}var m=h(N.prfOid),y=u.pbe.generatePkcs12Key(T,A,1,S,O,m);m.start();var q=u.pbe.generatePkcs12Key(T,A,2,S,D,m);return E(y,q)},u.pbe.opensslDeriveBytes=function(C,_,T,N){if(typeof N>"u"||N===null){if(!("md5"in t.md))throw new Error('"md5" hash algorithm unavailable.');N=t.md.md5.create()}_===null&&(_="");for(var B=[d(N,C+_)],p=16,A=1;p<T;++A,p+=16)B.push(d(N,B[A-1]+C+_));return B.join("").substr(0,T)};function d(C,_){return C.start().update(_).digest().getBytes()}function h(C){var _;if(!C)_="hmacWithSHA1";else if(_=u.oids[a.derToOid(C)],!_){var T=new Error("Unsupported PRF OID.");throw T.oid=C,T.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],T}return g(_)}function g(C){var _=t.md;switch(C){case"hmacWithSHA224":_=t.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":C=C.substr(8).toLowerCase();break;default:var T=new Error("Unsupported PRF algorithm.");throw T.algorithm=C,T.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],T}if(!_||!(C in _))throw new Error("Unknown hash algorithm: "+C);return _[C].create()}function I(C,_,T,N){var B=a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OCTETSTRING,!1,C),a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,_.getBytes())]);return N!=="hmacWithSHA1"&&B.value.push(a.create(a.Class.UNIVERSAL,a.Type.INTEGER,!1,t.util.hexToBytes(T.toString(16))),a.create(a.Class.UNIVERSAL,a.Type.SEQUENCE,!0,[a.create(a.Class.UNIVERSAL,a.Type.OID,!1,a.oidToDer(u.oids[N]).getBytes()),a.create(a.Class.UNIVERSAL,a.Type.NULL,!1,"")])),B}}),D1=Qe((e,n)=>{var t=lt();Ri(),St();var r=t.asn1,a=n.exports=t.pkcs7asn1=t.pkcs7asn1||{};t.pkcs7=t.pkcs7||{},t.pkcs7.asn1=a;var u={name:"ContentInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:r.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};a.contentInfoValidator=u;var c={name:"EncryptedContentInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:r.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:r.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};a.envelopedDataValidator={name:"EnvelopedData",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:r.Class.UNIVERSAL,type:r.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(c)},a.encryptedDataValidator={name:"EncryptedData",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"version"}].concat(c)};var f={name:"SignerInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:r.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:r.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:r.Class.UNIVERSAL,type:r.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:r.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};a.signedDataValidator={name:"SignedData",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:r.Class.UNIVERSAL,type:r.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},u,{name:"SignedData.Certificates",tagClass:r.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:r.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:r.Class.UNIVERSAL,type:r.Type.SET,capture:"signerInfos",optional:!0,value:[f]}]},a.recipientInfoValidator={name:"RecipientInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:r.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:r.Class.UNIVERSAL,type:r.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}}),j1=Qe((e,n)=>{var t=lt();St(),t.mgf=t.mgf||{};var r=n.exports=t.mgf.mgf1=t.mgf1=t.mgf1||{};r.create=function(a){var u={generate:function(c,f){for(var l=new t.util.ByteBuffer,s=Math.ceil(f/a.digestLength),d=0;d<s;d++){var h=new t.util.ByteBuffer;h.putInt32(d),a.start(),a.update(c+h.getBytes()),l.putBuffer(a.digest())}return l.truncate(l.length()-f),l.getBytes()}};return u}}),AA=Qe((e,n)=>{var t=lt();j1(),n.exports=t.mgf=t.mgf||{},t.mgf.mgf1=t.mgf1}),xp=Qe((e,n)=>{var t=lt();oi(),St();var r=n.exports=t.pss=t.pss||{};r.create=function(a){arguments.length===3&&(a={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var u=a.md,c=a.mgf,f=u.digestLength,l=a.salt||null;typeof l=="string"&&(l=t.util.createBuffer(l));var s;if("saltLength"in a)s=a.saltLength;else if(l!==null)s=l.length();else throw new Error("Salt length not specified or specific salt not given.");if(l!==null&&l.length()!==s)throw new Error("Given salt length does not match length of given salt.");var d=a.prng||t.random,h={};return h.encode=function(g,I){var C,_=I-1,T=Math.ceil(_/8),N=g.digest().getBytes();if(T<f+s+2)throw new Error("Message is too long to encrypt.");var B;l===null?B=d.getBytesSync(s):B=l.bytes();var p=new t.util.ByteBuffer;p.fillWithByte(0,8),p.putBytes(N),p.putBytes(B),u.start(),u.update(p.getBytes());var A=u.digest().getBytes(),S=new t.util.ByteBuffer;S.fillWithByte(0,T-s-f-2),S.putByte(1),S.putBytes(B);var O=S.getBytes(),D=T-f-1,E=c.generate(A,D),m="";for(C=0;C<D;C++)m+=String.fromCharCode(O.charCodeAt(C)^E.charCodeAt(C));var y=65280>>8*T-_&255;return m=String.fromCharCode(m.charCodeAt(0)&~y)+m.substr(1),m+A+String.fromCharCode(188)},h.verify=function(g,I,C){var _,T=C-1,N=Math.ceil(T/8);if(I=I.substr(-N),N<f+s+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(I.charCodeAt(N-1)!==188)throw new Error("Encoded message does not end in 0xBC.");var B=N-f-1,p=I.substr(0,B),A=I.substr(B,f),S=65280>>8*N-T&255;if(p.charCodeAt(0)&S)throw new Error("Bits beyond keysize not zero as expected.");var O=c.generate(A,B),D="";for(_=0;_<B;_++)D+=String.fromCharCode(p.charCodeAt(_)^O.charCodeAt(_));D=String.fromCharCode(D.charCodeAt(0)&~S)+D.substr(1);var E=N-f-s-2;for(_=0;_<E;_++)if(D.charCodeAt(_)!==0)throw new Error("Leftmost octets not zero as expected");if(D.charCodeAt(E)!==1)throw new Error("Inconsistent PSS signature, 0x01 marker not found");var m=D.substr(-s),y=new t.util.ByteBuffer;y.fillWithByte(0,8),y.putBytes(g),y.putBytes(m),u.start(),u.update(y.getBytes());var q=u.digest().getBytes();return A===q},h}}),Up=Qe((e,n)=>{var t=lt();ks(),Ri(),tf(),ca(),AA(),Bs(),Ro(),xp(),nf(),St();var r=t.asn1,a=n.exports=t.pki=t.pki||{},u=a.oids,c={};c.CN=u.commonName,c.commonName="CN",c.C=u.countryName,c.countryName="C",c.L=u.localityName,c.localityName="L",c.ST=u.stateOrProvinceName,c.stateOrProvinceName="ST",c.O=u.organizationName,c.organizationName="O",c.OU=u.organizationalUnitName,c.organizationalUnitName="OU",c.E=u.emailAddress,c.emailAddress="E";var f=t.pki.rsa.publicKeyValidator,l={name:"Certificate",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:r.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:r.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:r.Class.UNIVERSAL,type:r.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:r.Class.UNIVERSAL,type:r.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:r.Class.UNIVERSAL,type:r.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:r.Class.UNIVERSAL,type:r.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},f,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:r.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:r.Class.UNIVERSAL,type:r.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:r.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:r.Class.UNIVERSAL,type:r.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:r.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:r.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:r.Class.UNIVERSAL,type:r.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},s={name:"rsapss",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:r.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:r.Class.UNIVERSAL,type:r.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:r.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:r.Class.UNIVERSAL,type:r.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:r.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:r.Class.UNIVERSAL,type:r.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:r.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:r.Class.UNIVERSAL,type:r.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},d={name:"CertificationRequestInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},f,{name:"CertificationRequestInfo.attributes",tagClass:r.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:r.Class.UNIVERSAL,type:r.Type.SET,constructed:!0}]}]}]},h={name:"CertificationRequest",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[d,{name:"CertificationRequest.signatureAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:r.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:r.Class.UNIVERSAL,type:r.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};a.RDNAttributesAsArray=function(E,m){for(var y=[],q,M,V,w=0;w<E.value.length;++w){q=E.value[w];for(var x=0;x<q.value.length;++x)V={},M=q.value[x],V.type=r.derToOid(M.value[0].value),V.value=M.value[1].value,V.valueTagClass=M.value[1].type,V.type in u&&(V.name=u[V.type],V.name in c&&(V.shortName=c[V.name])),m&&(m.update(V.type),m.update(V.value)),y.push(V)}return y},a.CRIAttributesAsArray=function(E){for(var m=[],y=0;y<E.length;++y)for(var q=E[y],M=r.derToOid(q.value[0].value),V=q.value[1].value,w=0;w<V.length;++w){var x={};if(x.type=M,x.value=V[w].value,x.valueTagClass=V[w].type,x.type in u&&(x.name=u[x.type],x.name in c&&(x.shortName=c[x.name])),x.type===u.extensionRequest){x.extensions=[];for(var j=0;j<x.value.length;++j)x.extensions.push(a.certificateExtensionFromAsn1(x.value[j]))}m.push(x)}return m};function g(E,m){typeof m=="string"&&(m={shortName:m});for(var y=null,q,M=0;y===null&&M<E.attributes.length;++M)q=E.attributes[M],(m.type&&m.type===q.type||m.name&&m.name===q.name||m.shortName&&m.shortName===q.shortName)&&(y=q);return y}var I=function(E,m,y){var q={};if(E!==u["RSASSA-PSS"])return q;y&&(q={hash:{algorithmOid:u.sha1},mgf:{algorithmOid:u.mgf1,hash:{algorithmOid:u.sha1}},saltLength:20});var M={},V=[];if(!r.validate(m,s,M,V)){var w=new Error("Cannot read RSASSA-PSS parameter block.");throw w.errors=V,w}return M.hashOid!==void 0&&(q.hash=q.hash||{},q.hash.algorithmOid=r.derToOid(M.hashOid)),M.maskGenOid!==void 0&&(q.mgf=q.mgf||{},q.mgf.algorithmOid=r.derToOid(M.maskGenOid),q.mgf.hash=q.mgf.hash||{},q.mgf.hash.algorithmOid=r.derToOid(M.maskGenHashOid)),M.saltLength!==void 0&&(q.saltLength=M.saltLength.charCodeAt(0)),q},C=function(E){switch(u[E.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return t.md.sha1.create();case"md5WithRSAEncryption":return t.md.md5.create();case"sha256WithRSAEncryption":return t.md.sha256.create();case"sha384WithRSAEncryption":return t.md.sha384.create();case"sha512WithRSAEncryption":return t.md.sha512.create();case"RSASSA-PSS":return t.md.sha256.create();default:var m=new Error("Could not compute "+E.type+" digest. Unknown signature OID.");throw m.signatureOid=E.signatureOid,m}},_=function(E){var m=E.certificate,y;switch(m.signatureOid){case u.sha1WithRSAEncryption:case u.sha1WithRSASignature:break;case u["RSASSA-PSS"]:var q,M;if(q=u[m.signatureParameters.mgf.hash.algorithmOid],q===void 0||t.md[q]===void 0){var V=new Error("Unsupported MGF hash function.");throw V.oid=m.signatureParameters.mgf.hash.algorithmOid,V.name=q,V}if(M=u[m.signatureParameters.mgf.algorithmOid],M===void 0||t.mgf[M]===void 0){var V=new Error("Unsupported MGF function.");throw V.oid=m.signatureParameters.mgf.algorithmOid,V.name=M,V}if(M=t.mgf[M].create(t.md[q].create()),q=u[m.signatureParameters.hash.algorithmOid],q===void 0||t.md[q]===void 0){var V=new Error("Unsupported RSASSA-PSS hash function.");throw V.oid=m.signatureParameters.hash.algorithmOid,V.name=q,V}y=t.pss.create(t.md[q].create(),M,m.signatureParameters.saltLength);break}return m.publicKey.verify(E.md.digest().getBytes(),E.signature,y)};a.certificateFromPem=function(E,m,y){var q=t.pem.decode(E)[0];if(q.type!=="CERTIFICATE"&&q.type!=="X509 CERTIFICATE"&&q.type!=="TRUSTED CERTIFICATE"){var M=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw M.headerType=q.type,M}if(q.procType&&q.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var V=r.fromDer(q.body,y);return a.certificateFromAsn1(V,m)},a.certificateToPem=function(E,m){var y={type:"CERTIFICATE",body:r.toDer(a.certificateToAsn1(E)).getBytes()};return t.pem.encode(y,{maxline:m})},a.publicKeyFromPem=function(E){var m=t.pem.decode(E)[0];if(m.type!=="PUBLIC KEY"&&m.type!=="RSA PUBLIC KEY"){var y=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw y.headerType=m.type,y}if(m.procType&&m.procType.type==="ENCRYPTED")throw new Error("Could not convert public key from PEM; PEM is encrypted.");var q=r.fromDer(m.body);return a.publicKeyFromAsn1(q)},a.publicKeyToPem=function(E,m){var y={type:"PUBLIC KEY",body:r.toDer(a.publicKeyToAsn1(E)).getBytes()};return t.pem.encode(y,{maxline:m})},a.publicKeyToRSAPublicKeyPem=function(E,m){var y={type:"RSA PUBLIC KEY",body:r.toDer(a.publicKeyToRSAPublicKey(E)).getBytes()};return t.pem.encode(y,{maxline:m})},a.getPublicKeyFingerprint=function(E,m){m=m||{};var y=m.md||t.md.sha1.create(),q=m.type||"RSAPublicKey",M;switch(q){case"RSAPublicKey":M=r.toDer(a.publicKeyToRSAPublicKey(E)).getBytes();break;case"SubjectPublicKeyInfo":M=r.toDer(a.publicKeyToAsn1(E)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+m.type+'".')}y.start(),y.update(M);var V=y.digest();if(m.encoding==="hex"){var w=V.toHex();return m.delimiter?w.match(/.{2}/g).join(m.delimiter):w}else{if(m.encoding==="binary")return V.getBytes();if(m.encoding)throw new Error('Unknown encoding "'+m.encoding+'".')}return V},a.certificationRequestFromPem=function(E,m,y){var q=t.pem.decode(E)[0];if(q.type!=="CERTIFICATE REQUEST"){var M=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw M.headerType=q.type,M}if(q.procType&&q.procType.type==="ENCRYPTED")throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var V=r.fromDer(q.body,y);return a.certificationRequestFromAsn1(V,m)},a.certificationRequestToPem=function(E,m){var y={type:"CERTIFICATE REQUEST",body:r.toDer(a.certificationRequestToAsn1(E)).getBytes()};return t.pem.encode(y,{maxline:m})},a.createCertificate=function(){var E={};return E.version=2,E.serialNumber="00",E.signatureOid=null,E.signature=null,E.siginfo={},E.siginfo.algorithmOid=null,E.validity={},E.validity.notBefore=new Date,E.validity.notAfter=new Date,E.issuer={},E.issuer.getField=function(m){return g(E.issuer,m)},E.issuer.addField=function(m){N([m]),E.issuer.attributes.push(m)},E.issuer.attributes=[],E.issuer.hash=null,E.subject={},E.subject.getField=function(m){return g(E.subject,m)},E.subject.addField=function(m){N([m]),E.subject.attributes.push(m)},E.subject.attributes=[],E.subject.hash=null,E.extensions=[],E.publicKey=null,E.md=null,E.setSubject=function(m,y){N(m),E.subject.attributes=m,delete E.subject.uniqueId,y&&(E.subject.uniqueId=y),E.subject.hash=null},E.setIssuer=function(m,y){N(m),E.issuer.attributes=m,delete E.issuer.uniqueId,y&&(E.issuer.uniqueId=y),E.issuer.hash=null},E.setExtensions=function(m){for(var y=0;y<m.length;++y)B(m[y],{cert:E});E.extensions=m},E.getExtension=function(m){typeof m=="string"&&(m={name:m});for(var y=null,q,M=0;y===null&&M<E.extensions.length;++M)q=E.extensions[M],(m.id&&q.id===m.id||m.name&&q.name===m.name)&&(y=q);return y},E.sign=function(m,y){E.md=y||t.md.sha1.create();var q=u[E.md.algorithm+"WithRSAEncryption"];if(!q){var M=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw M.algorithm=E.md.algorithm,M}E.signatureOid=E.siginfo.algorithmOid=q,E.tbsCertificate=a.getTBSCertificate(E);var V=r.toDer(E.tbsCertificate);E.md.update(V.getBytes()),E.signature=m.sign(E.md)},E.verify=function(m){var y=!1;if(!E.issued(m)){var q=m.issuer,M=E.subject,V=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw V.expectedIssuer=M.attributes,V.actualIssuer=q.attributes,V}var w=m.md;if(w===null){w=C({signatureOid:m.signatureOid,type:"certificate"});var x=m.tbsCertificate||a.getTBSCertificate(m),j=r.toDer(x);w.update(j.getBytes())}return w!==null&&(y=_({certificate:E,md:w,signature:m.signature})),y},E.isIssuer=function(m){var y=!1,q=E.issuer,M=m.subject;if(q.hash&&M.hash)y=q.hash===M.hash;else if(q.attributes.length===M.attributes.length){y=!0;for(var V,w,x=0;y&&x<q.attributes.length;++x)V=q.attributes[x],w=M.attributes[x],(V.type!==w.type||V.value!==w.value)&&(y=!1)}return y},E.issued=function(m){return m.isIssuer(E)},E.generateSubjectKeyIdentifier=function(){return a.getPublicKeyFingerprint(E.publicKey,{type:"RSAPublicKey"})},E.verifySubjectKeyIdentifier=function(){for(var m=u.subjectKeyIdentifier,y=0;y<E.extensions.length;++y){var q=E.extensions[y];if(q.id===m){var M=E.generateSubjectKeyIdentifier().getBytes();return t.util.hexToBytes(q.subjectKeyIdentifier)===M}}return!1},E},a.certificateFromAsn1=function(E,m){var y={},q=[];if(!r.validate(E,l,y,q)){var M=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw M.errors=q,M}var V=r.derToOid(y.publicKeyOid);if(V!==a.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var w=a.createCertificate();w.version=y.certVersion?y.certVersion.charCodeAt(0):0;var x=t.util.createBuffer(y.certSerialNumber);w.serialNumber=x.toHex(),w.signatureOid=t.asn1.derToOid(y.certSignatureOid),w.signatureParameters=I(w.signatureOid,y.certSignatureParams,!0),w.siginfo.algorithmOid=t.asn1.derToOid(y.certinfoSignatureOid),w.siginfo.parameters=I(w.siginfo.algorithmOid,y.certinfoSignatureParams,!1),w.signature=y.certSignature;var j=[];if(y.certValidity1UTCTime!==void 0&&j.push(r.utcTimeToDate(y.certValidity1UTCTime)),y.certValidity2GeneralizedTime!==void 0&&j.push(r.generalizedTimeToDate(y.certValidity2GeneralizedTime)),y.certValidity3UTCTime!==void 0&&j.push(r.utcTimeToDate(y.certValidity3UTCTime)),y.certValidity4GeneralizedTime!==void 0&&j.push(r.generalizedTimeToDate(y.certValidity4GeneralizedTime)),j.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(j.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(w.validity.notBefore=j[0],w.validity.notAfter=j[1],w.tbsCertificate=y.tbsCertificate,m){w.md=C({signatureOid:w.signatureOid,type:"certificate"});var L=r.toDer(w.tbsCertificate);w.md.update(L.getBytes())}var F=t.md.sha1.create(),J=r.toDer(y.certIssuer);F.update(J.getBytes()),w.issuer.getField=function(de){return g(w.issuer,de)},w.issuer.addField=function(de){N([de]),w.issuer.attributes.push(de)},w.issuer.attributes=a.RDNAttributesAsArray(y.certIssuer),y.certIssuerUniqueId&&(w.issuer.uniqueId=y.certIssuerUniqueId),w.issuer.hash=F.digest().toHex();var oe=t.md.sha1.create(),se=r.toDer(y.certSubject);return oe.update(se.getBytes()),w.subject.getField=function(de){return g(w.subject,de)},w.subject.addField=function(de){N([de]),w.subject.attributes.push(de)},w.subject.attributes=a.RDNAttributesAsArray(y.certSubject),y.certSubjectUniqueId&&(w.subject.uniqueId=y.certSubjectUniqueId),w.subject.hash=oe.digest().toHex(),y.certExtensions?w.extensions=a.certificateExtensionsFromAsn1(y.certExtensions):w.extensions=[],w.publicKey=a.publicKeyFromAsn1(y.subjectPublicKeyInfo),w},a.certificateExtensionsFromAsn1=function(E){for(var m=[],y=0;y<E.value.length;++y)for(var q=E.value[y],M=0;M<q.value.length;++M)m.push(a.certificateExtensionFromAsn1(q.value[M]));return m},a.certificateExtensionFromAsn1=function(E){var m={};if(m.id=r.derToOid(E.value[0].value),m.critical=!1,E.value[1].type===r.Type.BOOLEAN?(m.critical=E.value[1].value.charCodeAt(0)!==0,m.value=E.value[2].value):m.value=E.value[1].value,m.id in u){if(m.name=u[m.id],m.name==="keyUsage"){var y=r.fromDer(m.value),q=0,M=0;y.value.length>1&&(q=y.value.charCodeAt(1),M=y.value.length>2?y.value.charCodeAt(2):0),m.digitalSignature=(q&128)===128,m.nonRepudiation=(q&64)===64,m.keyEncipherment=(q&32)===32,m.dataEncipherment=(q&16)===16,m.keyAgreement=(q&8)===8,m.keyCertSign=(q&4)===4,m.cRLSign=(q&2)===2,m.encipherOnly=(q&1)===1,m.decipherOnly=(M&128)===128}else if(m.name==="basicConstraints"){var y=r.fromDer(m.value);y.value.length>0&&y.value[0].type===r.Type.BOOLEAN?m.cA=y.value[0].value.charCodeAt(0)!==0:m.cA=!1;var V=null;y.value.length>0&&y.value[0].type===r.Type.INTEGER?V=y.value[0].value:y.value.length>1&&(V=y.value[1].value),V!==null&&(m.pathLenConstraint=r.derToInteger(V))}else if(m.name==="extKeyUsage")for(var y=r.fromDer(m.value),w=0;w<y.value.length;++w){var x=r.derToOid(y.value[w].value);x in u?m[u[x]]=!0:m[x]=!0}else if(m.name==="nsCertType"){var y=r.fromDer(m.value),q=0;y.value.length>1&&(q=y.value.charCodeAt(1)),m.client=(q&128)===128,m.server=(q&64)===64,m.email=(q&32)===32,m.objsign=(q&16)===16,m.reserved=(q&8)===8,m.sslCA=(q&4)===4,m.emailCA=(q&2)===2,m.objCA=(q&1)===1}else if(m.name==="subjectAltName"||m.name==="issuerAltName"){m.altNames=[];for(var j,y=r.fromDer(m.value),L=0;L<y.value.length;++L){j=y.value[L];var F={type:j.type,value:j.value};switch(m.altNames.push(F),j.type){case 1:case 2:case 6:break;case 7:F.ip=t.util.bytesToIP(j.value);break;case 8:F.oid=r.derToOid(j.value);break;default:}}}else if(m.name==="subjectKeyIdentifier"){var y=r.fromDer(m.value);m.subjectKeyIdentifier=t.util.bytesToHex(y.value)}}return m},a.certificationRequestFromAsn1=function(E,m){var y={},q=[];if(!r.validate(E,h,y,q)){var M=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw M.errors=q,M}var V=r.derToOid(y.publicKeyOid);if(V!==a.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var w=a.createCertificationRequest();if(w.version=y.csrVersion?y.csrVersion.charCodeAt(0):0,w.signatureOid=t.asn1.derToOid(y.csrSignatureOid),w.signatureParameters=I(w.signatureOid,y.csrSignatureParams,!0),w.siginfo.algorithmOid=t.asn1.derToOid(y.csrSignatureOid),w.siginfo.parameters=I(w.siginfo.algorithmOid,y.csrSignatureParams,!1),w.signature=y.csrSignature,w.certificationRequestInfo=y.certificationRequestInfo,m){w.md=C({signatureOid:w.signatureOid,type:"certification request"});var x=r.toDer(w.certificationRequestInfo);w.md.update(x.getBytes())}var j=t.md.sha1.create();return w.subject.getField=function(L){return g(w.subject,L)},w.subject.addField=function(L){N([L]),w.subject.attributes.push(L)},w.subject.attributes=a.RDNAttributesAsArray(y.certificationRequestInfoSubject,j),w.subject.hash=j.digest().toHex(),w.publicKey=a.publicKeyFromAsn1(y.subjectPublicKeyInfo),w.getAttribute=function(L){return g(w,L)},w.addAttribute=function(L){N([L]),w.attributes.push(L)},w.attributes=a.CRIAttributesAsArray(y.certificationRequestInfoAttributes||[]),w},a.createCertificationRequest=function(){var E={};return E.version=0,E.signatureOid=null,E.signature=null,E.siginfo={},E.siginfo.algorithmOid=null,E.subject={},E.subject.getField=function(m){return g(E.subject,m)},E.subject.addField=function(m){N([m]),E.subject.attributes.push(m)},E.subject.attributes=[],E.subject.hash=null,E.publicKey=null,E.attributes=[],E.getAttribute=function(m){return g(E,m)},E.addAttribute=function(m){N([m]),E.attributes.push(m)},E.md=null,E.setSubject=function(m){N(m),E.subject.attributes=m,E.subject.hash=null},E.setAttributes=function(m){N(m),E.attributes=m},E.sign=function(m,y){E.md=y||t.md.sha1.create();var q=u[E.md.algorithm+"WithRSAEncryption"];if(!q){var M=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw M.algorithm=E.md.algorithm,M}E.signatureOid=E.siginfo.algorithmOid=q,E.certificationRequestInfo=a.getCertificationRequestInfo(E);var V=r.toDer(E.certificationRequestInfo);E.md.update(V.getBytes()),E.signature=m.sign(E.md)},E.verify=function(){var m=!1,y=E.md;if(y===null){y=C({signatureOid:E.signatureOid,type:"certification request"});var q=E.certificationRequestInfo||a.getCertificationRequestInfo(E),M=r.toDer(q);y.update(M.getBytes())}return y!==null&&(m=_({certificate:E,md:y,signature:E.signature})),m},E};function T(E){for(var m=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]),y,q,M=E.attributes,V=0;V<M.length;++V){y=M[V];var w=y.value,x=r.Type.PRINTABLESTRING;"valueTagClass"in y&&(x=y.valueTagClass,x===r.Type.UTF8&&(w=t.util.encodeUtf8(w))),q=r.create(r.Class.UNIVERSAL,r.Type.SET,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(y.type).getBytes()),r.create(r.Class.UNIVERSAL,x,!1,w)])]),m.value.push(q)}return m}function N(E){for(var m,y=0;y<E.length;++y){if(m=E[y],typeof m.name>"u"&&(m.type&&m.type in a.oids?m.name=a.oids[m.type]:m.shortName&&m.shortName in c&&(m.name=a.oids[c[m.shortName]])),typeof m.type>"u")if(m.name&&m.name in a.oids)m.type=a.oids[m.name];else{var q=new Error("Attribute type not specified.");throw q.attribute=m,q}if(typeof m.shortName>"u"&&m.name&&m.name in c&&(m.shortName=c[m.name]),m.type===u.extensionRequest&&(m.valueConstructed=!0,m.valueTagClass=r.Type.SEQUENCE,!m.value&&m.extensions)){m.value=[];for(var M=0;M<m.extensions.length;++M)m.value.push(a.certificateExtensionToAsn1(B(m.extensions[M])))}if(typeof m.value>"u"){var q=new Error("Attribute value not specified.");throw q.attribute=m,q}}}function B(E,m){if(m=m||{},typeof E.name>"u"&&E.id&&E.id in a.oids&&(E.name=a.oids[E.id]),typeof E.id>"u")if(E.name&&E.name in a.oids)E.id=a.oids[E.name];else{var y=new Error("Extension ID not specified.");throw y.extension=E,y}if(typeof E.value<"u")return E;if(E.name==="keyUsage"){var q=0,M=0,V=0;E.digitalSignature&&(M|=128,q=7),E.nonRepudiation&&(M|=64,q=6),E.keyEncipherment&&(M|=32,q=5),E.dataEncipherment&&(M|=16,q=4),E.keyAgreement&&(M|=8,q=3),E.keyCertSign&&(M|=4,q=2),E.cRLSign&&(M|=2,q=1),E.encipherOnly&&(M|=1,q=0),E.decipherOnly&&(V|=128,q=7);var w=String.fromCharCode(q);V!==0?w+=String.fromCharCode(M)+String.fromCharCode(V):M!==0&&(w+=String.fromCharCode(M)),E.value=r.create(r.Class.UNIVERSAL,r.Type.BITSTRING,!1,w)}else if(E.name==="basicConstraints")E.value=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]),E.cA&&E.value.value.push(r.create(r.Class.UNIVERSAL,r.Type.BOOLEAN,!1,String.fromCharCode(255))),"pathLenConstraint"in E&&E.value.value.push(r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(E.pathLenConstraint).getBytes()));else if(E.name==="extKeyUsage"){E.value=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]);var x=E.value.value;for(var j in E)E[j]===!0&&(j in u?x.push(r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(u[j]).getBytes())):j.indexOf(".")!==-1&&x.push(r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(j).getBytes())))}else if(E.name==="nsCertType"){var q=0,M=0;E.client&&(M|=128,q=7),E.server&&(M|=64,q=6),E.email&&(M|=32,q=5),E.objsign&&(M|=16,q=4),E.reserved&&(M|=8,q=3),E.sslCA&&(M|=4,q=2),E.emailCA&&(M|=2,q=1),E.objCA&&(M|=1,q=0);var w=String.fromCharCode(q);M!==0&&(w+=String.fromCharCode(M)),E.value=r.create(r.Class.UNIVERSAL,r.Type.BITSTRING,!1,w)}else if(E.name==="subjectAltName"||E.name==="issuerAltName"){E.value=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]);for(var L,F=0;F<E.altNames.length;++F){L=E.altNames[F];var w=L.value;if(L.type===7&&L.ip){if(w=t.util.bytesFromIP(L.ip),w===null){var y=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw y.extension=E,y}}else L.type===8&&(L.oid?w=r.oidToDer(r.oidToDer(L.oid)):w=r.oidToDer(w));E.value.value.push(r.create(r.Class.CONTEXT_SPECIFIC,L.type,!1,w))}}else if(E.name==="nsComment"&&m.cert){if(!/^[\x00-\x7F]*$/.test(E.comment)||E.comment.length<1||E.comment.length>128)throw new Error('Invalid "nsComment" content.');E.value=r.create(r.Class.UNIVERSAL,r.Type.IA5STRING,!1,E.comment)}else if(E.name==="subjectKeyIdentifier"&&m.cert){var J=m.cert.generateSubjectKeyIdentifier();E.subjectKeyIdentifier=J.toHex(),E.value=r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,J.getBytes())}else if(E.name==="authorityKeyIdentifier"&&m.cert){E.value=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]);var x=E.value.value;if(E.keyIdentifier){var oe=E.keyIdentifier===!0?m.cert.generateSubjectKeyIdentifier().getBytes():E.keyIdentifier;x.push(r.create(r.Class.CONTEXT_SPECIFIC,0,!1,oe))}if(E.authorityCertIssuer){var se=[r.create(r.Class.CONTEXT_SPECIFIC,4,!0,[T(E.authorityCertIssuer===!0?m.cert.issuer:E.authorityCertIssuer)])];x.push(r.create(r.Class.CONTEXT_SPECIFIC,1,!0,se))}if(E.serialNumber){var de=t.util.hexToBytes(E.serialNumber===!0?m.cert.serialNumber:E.serialNumber);x.push(r.create(r.Class.CONTEXT_SPECIFIC,2,!1,de))}}else if(E.name==="cRLDistributionPoints"){E.value=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]);for(var x=E.value.value,ke=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]),Le=r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[]),L,F=0;F<E.altNames.length;++F){L=E.altNames[F];var w=L.value;if(L.type===7&&L.ip){if(w=t.util.bytesFromIP(L.ip),w===null){var y=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw y.extension=E,y}}else L.type===8&&(L.oid?w=r.oidToDer(r.oidToDer(L.oid)):w=r.oidToDer(w));Le.value.push(r.create(r.Class.CONTEXT_SPECIFIC,L.type,!1,w))}ke.value.push(r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[Le])),x.push(ke)}if(typeof E.value>"u"){var y=new Error("Extension value not specified.");throw y.extension=E,y}return E}function p(E,m){switch(E){case u["RSASSA-PSS"]:var y=[];return m.hash.algorithmOid!==void 0&&y.push(r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(m.hash.algorithmOid).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")])])),m.mgf.algorithmOid!==void 0&&y.push(r.create(r.Class.CONTEXT_SPECIFIC,1,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(m.mgf.algorithmOid).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(m.mgf.hash.algorithmOid).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")])])])),m.saltLength!==void 0&&y.push(r.create(r.Class.CONTEXT_SPECIFIC,2,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(m.saltLength).getBytes())])),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,y);default:return r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")}}function A(E){var m=r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[]);if(E.attributes.length===0)return m;for(var y=E.attributes,q=0;q<y.length;++q){var M=y[q],V=M.value,w=r.Type.UTF8;"valueTagClass"in M&&(w=M.valueTagClass),w===r.Type.UTF8&&(V=t.util.encodeUtf8(V));var x=!1;"valueConstructed"in M&&(x=M.valueConstructed);var j=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(M.type).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SET,!0,[r.create(r.Class.UNIVERSAL,w,x,V)])]);m.value.push(j)}return m}var S=new Date("1950-01-01T00:00:00Z"),O=new Date("2050-01-01T00:00:00Z");function D(E){return E>=S&&E<O?r.create(r.Class.UNIVERSAL,r.Type.UTCTIME,!1,r.dateToUtcTime(E)):r.create(r.Class.UNIVERSAL,r.Type.GENERALIZEDTIME,!1,r.dateToGeneralizedTime(E))}a.getTBSCertificate=function(E){var m=D(E.validity.notBefore),y=D(E.validity.notAfter),q=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(E.version).getBytes())]),r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,t.util.hexToBytes(E.serialNumber)),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(E.siginfo.algorithmOid).getBytes()),p(E.siginfo.algorithmOid,E.siginfo.parameters)]),T(E.issuer),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[m,y]),T(E.subject),a.publicKeyToAsn1(E.publicKey)]);return E.issuer.uniqueId&&q.value.push(r.create(r.Class.CONTEXT_SPECIFIC,1,!0,[r.create(r.Class.UNIVERSAL,r.Type.BITSTRING,!1,String.fromCharCode(0)+E.issuer.uniqueId)])),E.subject.uniqueId&&q.value.push(r.create(r.Class.CONTEXT_SPECIFIC,2,!0,[r.create(r.Class.UNIVERSAL,r.Type.BITSTRING,!1,String.fromCharCode(0)+E.subject.uniqueId)])),E.extensions.length>0&&q.value.push(a.certificateExtensionsToAsn1(E.extensions)),q},a.getCertificationRequestInfo=function(E){var m=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(E.version).getBytes()),T(E.subject),a.publicKeyToAsn1(E.publicKey),A(E)]);return m},a.distinguishedNameToAsn1=function(E){return T(E)},a.certificateToAsn1=function(E){var m=E.tbsCertificate||a.getTBSCertificate(E);return r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[m,r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(E.signatureOid).getBytes()),p(E.signatureOid,E.signatureParameters)]),r.create(r.Class.UNIVERSAL,r.Type.BITSTRING,!1,String.fromCharCode(0)+E.signature)])},a.certificateExtensionsToAsn1=function(E){var m=r.create(r.Class.CONTEXT_SPECIFIC,3,!0,[]),y=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]);m.value.push(y);for(var q=0;q<E.length;++q)y.value.push(a.certificateExtensionToAsn1(E[q]));return m},a.certificateExtensionToAsn1=function(E){var m=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[]);m.value.push(r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(E.id).getBytes())),E.critical&&m.value.push(r.create(r.Class.UNIVERSAL,r.Type.BOOLEAN,!1,String.fromCharCode(255)));var y=E.value;return typeof E.value!="string"&&(y=r.toDer(y).getBytes()),m.value.push(r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,y)),m},a.certificationRequestToAsn1=function(E){var m=E.certificationRequestInfo||a.getCertificationRequestInfo(E);return r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[m,r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(E.signatureOid).getBytes()),p(E.signatureOid,E.signatureParameters)]),r.create(r.Class.UNIVERSAL,r.Type.BITSTRING,!1,String.fromCharCode(0)+E.signature)])},a.createCaStore=function(E){var m={certs:{}};m.getIssuer=function(w){var x=y(w.issuer);return x},m.addCertificate=function(w){if(typeof w=="string"&&(w=t.pki.certificateFromPem(w)),q(w.subject),!m.hasCertificate(w))if(w.subject.hash in m.certs){var x=m.certs[w.subject.hash];t.util.isArray(x)||(x=[x]),x.push(w),m.certs[w.subject.hash]=x}else m.certs[w.subject.hash]=w},m.hasCertificate=function(w){typeof w=="string"&&(w=t.pki.certificateFromPem(w));var x=y(w.subject);if(!x)return!1;t.util.isArray(x)||(x=[x]);for(var j=r.toDer(a.certificateToAsn1(w)).getBytes(),L=0;L<x.length;++L){var F=r.toDer(a.certificateToAsn1(x[L])).getBytes();if(j===F)return!0}return!1},m.listAllCertificates=function(){var w=[];for(var x in m.certs)if(m.certs.hasOwnProperty(x)){var j=m.certs[x];if(!t.util.isArray(j))w.push(j);else for(var L=0;L<j.length;++L)w.push(j[L])}return w},m.removeCertificate=function(w){var x;if(typeof w=="string"&&(w=t.pki.certificateFromPem(w)),q(w.subject),!m.hasCertificate(w))return null;var j=y(w.subject);if(!t.util.isArray(j))return x=m.certs[w.subject.hash],delete m.certs[w.subject.hash],x;for(var L=r.toDer(a.certificateToAsn1(w)).getBytes(),F=0;F<j.length;++F){var J=r.toDer(a.certificateToAsn1(j[F])).getBytes();L===J&&(x=j[F],j.splice(F,1))}return j.length===0&&delete m.certs[w.subject.hash],x};function y(w){return q(w),m.certs[w.hash]||null}function q(w){if(!w.hash){var x=t.md.sha1.create();w.attributes=a.RDNAttributesAsArray(T(w),x),w.hash=x.digest().toHex()}}if(E)for(var M=0;M<E.length;++M){var V=E[M];m.addCertificate(V)}return m},a.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"},a.verifyCertificateChain=function(E,m,y){typeof y=="function"&&(y={verify:y}),y=y||{},m=m.slice(0);var q=m.slice(0),M=y.validityCheckDate;typeof M>"u"&&(M=new Date);var V=!0,w=null,x=0;do{var j=m.shift(),L=null,F=!1;if(M&&(M<j.validity.notBefore||M>j.validity.notAfter)&&(w={message:"Certificate is not valid yet or has expired.",error:a.certificateError.certificate_expired,notBefore:j.validity.notBefore,notAfter:j.validity.notAfter,now:M}),w===null){if(L=m[0]||E.getIssuer(j),L===null&&j.isIssuer(j)&&(F=!0,L=j),L){var J=L;t.util.isArray(J)||(J=[J]);for(var oe=!1;!oe&&J.length>0;){L=J.shift();try{oe=L.verify(j)}catch{}}oe||(w={message:"Certificate signature is invalid.",error:a.certificateError.bad_certificate})}w===null&&(!L||F)&&!E.hasCertificate(j)&&(w={message:"Certificate is not trusted.",error:a.certificateError.unknown_ca})}if(w===null&&L&&!j.isIssuer(L)&&(w={message:"Certificate issuer is invalid.",error:a.certificateError.bad_certificate}),w===null)for(var se={keyUsage:!0,basicConstraints:!0},de=0;w===null&&de<j.extensions.length;++de){var ke=j.extensions[de];ke.critical&&!(ke.name in se)&&(w={message:"Certificate has an unsupported critical extension.",error:a.certificateError.unsupported_certificate})}if(w===null&&(!V||m.length===0&&(!L||F))){var Le=j.getExtension("basicConstraints"),Ve=j.getExtension("keyUsage");if(Ve!==null&&(!Ve.keyCertSign||Le===null)&&(w={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:a.certificateError.bad_certificate}),w===null&&Le!==null&&!Le.cA&&(w={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:a.certificateError.bad_certificate}),w===null&&Ve!==null&&"pathLenConstraint"in Le){var Ee=x-1;Ee>Le.pathLenConstraint&&(w={message:"Certificate basicConstraints pathLenConstraint violated.",error:a.certificateError.bad_certificate})}}var We=w===null?!0:w.error,Ce=y.verify?y.verify(We,x,q):We;if(Ce===!0)w=null;else throw We===!0&&(w={message:"The application rejected the certificate.",error:a.certificateError.bad_certificate}),(Ce||Ce===0)&&(typeof Ce=="object"&&!t.util.isArray(Ce)?(Ce.message&&(w.message=Ce.message),Ce.error&&(w.error=Ce.error)):typeof Ce=="string"&&(w.error=Ce)),w;V=!1,++x}while(m.length>0);return!0}}),V1=Qe((e,n)=>{var t=lt();Ri(),zu(),Bs(),D1(),U1(),oi(),nf(),$u(),St(),Up();var r=t.asn1,a=t.pki,u=n.exports=t.pkcs12=t.pkcs12||{},c={name:"ContentInfo",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:r.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},f={name:"PFX",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,capture:"version"},c,{name:"PFX.macData",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:r.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:r.Class.UNIVERSAL,type:r.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:r.Class.UNIVERSAL,type:r.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:r.Class.UNIVERSAL,type:r.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},l={name:"SafeBag",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:r.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:r.Class.UNIVERSAL,type:r.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},s={name:"Attribute",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:r.Class.UNIVERSAL,type:r.Type.SET,constructed:!0,capture:"values"}]},d={name:"CertBag",tagClass:r.Class.UNIVERSAL,type:r.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:r.Class.UNIVERSAL,type:r.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:r.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:r.Class.UNIVERSAL,type:r.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function h(N,B,p,A){for(var S=[],O=0;O<N.length;O++)for(var D=0;D<N[O].safeBags.length;D++){var E=N[O].safeBags[D];if(!(A!==void 0&&E.type!==A)){if(B===null){S.push(E);continue}E.attributes[B]!==void 0&&E.attributes[B].indexOf(p)>=0&&S.push(E)}}return S}u.pkcs12FromAsn1=function(N,B,p){typeof B=="string"?(p=B,B=!0):B===void 0&&(B=!0);var A={},S=[];if(!r.validate(N,f,A,S)){var O=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.");throw O.errors=O,O}var D={version:A.version.charCodeAt(0),safeContents:[],getBags:function(L){var F={},J;return"localKeyId"in L?J=L.localKeyId:"localKeyIdHex"in L&&(J=t.util.hexToBytes(L.localKeyIdHex)),J===void 0&&!("friendlyName"in L)&&"bagType"in L&&(F[L.bagType]=h(D.safeContents,null,null,L.bagType)),J!==void 0&&(F.localKeyId=h(D.safeContents,"localKeyId",J,L.bagType)),"friendlyName"in L&&(F.friendlyName=h(D.safeContents,"friendlyName",L.friendlyName,L.bagType)),F},getBagsByFriendlyName:function(L,F){return h(D.safeContents,"friendlyName",L,F)},getBagsByLocalKeyId:function(L,F){return h(D.safeContents,"localKeyId",L,F)}};if(A.version.charCodeAt(0)!==3){var O=new Error("PKCS#12 PFX of version other than 3 not supported.");throw O.version=A.version.charCodeAt(0),O}if(r.derToOid(A.contentType)!==a.oids.data){var O=new Error("Only PKCS#12 PFX in password integrity mode supported.");throw O.oid=r.derToOid(A.contentType),O}var E=A.content.value[0];if(E.tagClass!==r.Class.UNIVERSAL||E.type!==r.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(E=g(E),A.mac){var m=null,y=0,q=r.derToOid(A.macAlgorithm);switch(q){case a.oids.sha1:m=t.md.sha1.create(),y=20;break;case a.oids.sha256:m=t.md.sha256.create(),y=32;break;case a.oids.sha384:m=t.md.sha384.create(),y=48;break;case a.oids.sha512:m=t.md.sha512.create(),y=64;break;case a.oids.md5:m=t.md.md5.create(),y=16;break}if(m===null)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+q);var M=new t.util.ByteBuffer(A.macSalt),V="macIterations"in A?parseInt(t.util.bytesToHex(A.macIterations),16):1,w=u.generateKey(p,M,3,V,y,m),x=t.hmac.create();x.start(m,w),x.update(E.value);var j=x.getMac();if(j.getBytes()!==A.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return I(D,E.value,B,p),D};function g(N){if(N.composed||N.constructed){for(var B=t.util.createBuffer(),p=0;p<N.value.length;++p)B.putBytes(N.value[p].value);N.composed=N.constructed=!1,N.value=B.getBytes()}return N}function I(N,B,p,A){if(B=r.fromDer(B,p),B.tagClass!==r.Class.UNIVERSAL||B.type!==r.Type.SEQUENCE||B.constructed!==!0)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var S=0;S<B.value.length;S++){var O=B.value[S],D={},E=[];if(!r.validate(O,c,D,E)){var m=new Error("Cannot read ContentInfo.");throw m.errors=E,m}var y={encrypted:!1},q=null,M=D.content.value[0];switch(r.derToOid(D.contentType)){case a.oids.data:if(M.tagClass!==r.Class.UNIVERSAL||M.type!==r.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");q=g(M).value;break;case a.oids.encryptedData:q=C(M,A),y.encrypted=!0;break;default:var m=new Error("Unsupported PKCS#12 contentType.");throw m.contentType=r.derToOid(D.contentType),m}y.safeBags=_(q,p,A),N.safeContents.push(y)}}function C(N,B){var p={},A=[];if(!r.validate(N,t.pkcs7.asn1.encryptedDataValidator,p,A)){var S=new Error("Cannot read EncryptedContentInfo.");throw S.errors=A,S}var O=r.derToOid(p.contentType);if(O!==a.oids.data){var S=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.");throw S.oid=O,S}O=r.derToOid(p.encAlgorithm);var D=a.pbe.getCipher(O,p.encParameter,B),E=g(p.encryptedContentAsn1),m=t.util.createBuffer(E.value);if(D.update(m),!D.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return D.output.getBytes()}function _(N,B,p){if(!B&&N.length===0)return[];if(N=r.fromDer(N,B),N.tagClass!==r.Class.UNIVERSAL||N.type!==r.Type.SEQUENCE||N.constructed!==!0)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var A=[],S=0;S<N.value.length;S++){var O=N.value[S],D={},E=[];if(!r.validate(O,l,D,E)){var m=new Error("Cannot read SafeBag.");throw m.errors=E,m}var y={type:r.derToOid(D.bagId),attributes:T(D.bagAttributes)};A.push(y);var q,M,V=D.bagValue.value[0];switch(y.type){case a.oids.pkcs8ShroudedKeyBag:if(V=a.decryptPrivateKeyInfo(V,p),V===null)throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case a.oids.keyBag:try{y.key=a.privateKeyFromAsn1(V)}catch{y.key=null,y.asn1=V}continue;case a.oids.certBag:q=d,M=function(){if(r.derToOid(D.certId)!==a.oids.x509Certificate){var x=new Error("Unsupported certificate type, only X.509 supported.");throw x.oid=r.derToOid(D.certId),x}var j=r.fromDer(D.cert,B);try{y.cert=a.certificateFromAsn1(j,!0)}catch{y.cert=null,y.asn1=j}};break;default:var m=new Error("Unsupported PKCS#12 SafeBag type.");throw m.oid=y.type,m}if(q!==void 0&&!r.validate(V,q,D,E)){var m=new Error("Cannot read PKCS#12 "+q.name);throw m.errors=E,m}M()}return A}function T(N){var B={};if(N!==void 0)for(var p=0;p<N.length;++p){var A={},S=[];if(!r.validate(N[p],s,A,S)){var O=new Error("Cannot read PKCS#12 BagAttribute.");throw O.errors=S,O}var D=r.derToOid(A.oid);if(a.oids[D]!==void 0){B[a.oids[D]]=[];for(var E=0;E<A.values.length;++E)B[a.oids[D]].push(A.values[E].value)}}return B}u.toPkcs12Asn1=function(N,B,p,A){A=A||{},A.saltSize=A.saltSize||8,A.count=A.count||2048,A.algorithm=A.algorithm||A.encAlgorithm||"aes128","useMac"in A||(A.useMac=!0),"localKeyId"in A||(A.localKeyId=null),"generateLocalKeyId"in A||(A.generateLocalKeyId=!0);var S=A.localKeyId,O;if(S!==null)S=t.util.hexToBytes(S);else if(A.generateLocalKeyId)if(B){var D=t.util.isArray(B)?B[0]:B;typeof D=="string"&&(D=a.certificateFromPem(D));var E=t.md.sha1.create();E.update(r.toDer(a.certificateToAsn1(D)).getBytes()),S=E.digest().getBytes()}else S=t.random.getBytes(20);var m=[];S!==null&&m.push(r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(a.oids.localKeyId).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SET,!0,[r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,S)])])),"friendlyName"in A&&m.push(r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(a.oids.friendlyName).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SET,!0,[r.create(r.Class.UNIVERSAL,r.Type.BMPSTRING,!1,A.friendlyName)])])),m.length>0&&(O=r.create(r.Class.UNIVERSAL,r.Type.SET,!0,m));var y=[],q=[];B!==null&&(t.util.isArray(B)?q=B:q=[B]);for(var M=[],V=0;V<q.length;++V){B=q[V],typeof B=="string"&&(B=a.certificateFromPem(B));var w=V===0?O:void 0,x=a.certificateToAsn1(B),j=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(a.oids.certBag).getBytes()),r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(a.oids.x509Certificate).getBytes()),r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,r.toDer(x).getBytes())])])]),w]);M.push(j)}if(M.length>0){var L=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,M),F=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(a.oids.data).getBytes()),r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,r.toDer(L).getBytes())])]);y.push(F)}var J=null;if(N!==null){var oe=a.wrapRsaPrivateKey(a.privateKeyToAsn1(N));p===null?J=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(a.oids.keyBag).getBytes()),r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[oe]),O]):J=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(a.oids.pkcs8ShroudedKeyBag).getBytes()),r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[a.encryptPrivateKeyInfo(oe,p,A)]),O]);var se=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[J]),de=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(a.oids.data).getBytes()),r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,r.toDer(se).getBytes())])]);y.push(de)}var ke=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,y),Le;if(A.useMac){var E=t.md.sha1.create(),Ve=new t.util.ByteBuffer(t.random.getBytes(A.saltSize)),Ee=A.count,N=u.generateKey(p,Ve,3,Ee,20),We=t.hmac.create();We.start(E,N),We.update(r.toDer(ke).getBytes());var Ce=We.getMac();Le=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(a.oids.sha1).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")]),r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,Ce.getBytes())]),r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,Ve.getBytes()),r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(Ee).getBytes())])}return r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(3).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(a.oids.data).getBytes()),r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,r.toDer(ke).getBytes())])]),Le])},u.generateKey=t.pbe.generatePkcs12Key}),q1=Qe((e,n)=>{var t=lt();Ri(),Bs(),U1(),Ro(),Pp(),V1(),xp(),nf(),St(),Up();var r=t.asn1,a=n.exports=t.pki=t.pki||{};a.pemToDer=function(u){var c=t.pem.decode(u)[0];if(c.procType&&c.procType.type==="ENCRYPTED")throw new Error("Could not convert PEM to DER; PEM is encrypted.");return t.util.createBuffer(c.body)},a.privateKeyFromPem=function(u){var c=t.pem.decode(u)[0];if(c.type!=="PRIVATE KEY"&&c.type!=="RSA PRIVATE KEY"){var f=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw f.headerType=c.type,f}if(c.procType&&c.procType.type==="ENCRYPTED")throw new Error("Could not convert private key from PEM; PEM is encrypted.");var l=r.fromDer(c.body);return a.privateKeyFromAsn1(l)},a.privateKeyToPem=function(u,c){var f={type:"RSA PRIVATE KEY",body:r.toDer(a.privateKeyToAsn1(u)).getBytes()};return t.pem.encode(f,{maxline:c})},a.privateKeyInfoToPem=function(u,c){var f={type:"PRIVATE KEY",body:r.toDer(u).getBytes()};return t.pem.encode(f,{maxline:c})}}),F1=Qe((e,n)=>{var t=lt();Ri(),zu(),Lp(),Ro(),q1(),oi(),$u(),St();var r=function(P,Y,G,R){var H=t.util.createBuffer(),ie=P.length>>1,ee=ie+(P.length&1),_e=P.substr(0,ee),xe=P.substr(ie,ee),je=t.util.createBuffer(),ye=t.hmac.create();G=Y+G;var Oe=Math.ceil(R/16),He=Math.ceil(R/20);ye.start("MD5",_e);var rt=t.util.createBuffer();je.putBytes(G);for(var $e=0;$e<Oe;++$e)ye.start(null,null),ye.update(je.getBytes()),je.putBuffer(ye.digest()),ye.start(null,null),ye.update(je.bytes()+G),rt.putBuffer(ye.digest());ye.start("SHA1",xe);var kt=t.util.createBuffer();je.clear(),je.putBytes(G);for(var $e=0;$e<He;++$e)ye.start(null,null),ye.update(je.getBytes()),je.putBuffer(ye.digest()),ye.start(null,null),ye.update(je.bytes()+G),kt.putBuffer(ye.digest());return H.putBytes(t.util.xorBytes(rt.getBytes(),kt.getBytes(),R)),H},a=function(P,Y,G){var R=t.hmac.create();R.start("SHA1",P);var H=t.util.createBuffer();return H.putInt32(Y[0]),H.putInt32(Y[1]),H.putByte(G.type),H.putByte(G.version.major),H.putByte(G.version.minor),H.putInt16(G.length),H.putBytes(G.fragment.bytes()),R.update(H.getBytes()),R.digest().getBytes()},u=function(P,Y,G){var R=!1;try{var H=P.deflate(Y.fragment.getBytes());Y.fragment=t.util.createBuffer(H),Y.length=H.length,R=!0}catch{}return R},c=function(P,Y,G){var R=!1;try{var H=P.inflate(Y.fragment.getBytes());Y.fragment=t.util.createBuffer(H),Y.length=H.length,R=!0}catch{}return R},f=function(P,Y){var G=0;switch(Y){case 1:G=P.getByte();break;case 2:G=P.getInt16();break;case 3:G=P.getInt24();break;case 4:G=P.getInt32();break}return t.util.createBuffer(P.getBytes(G))},l=function(P,Y,G){P.putInt(G.length(),Y<<3),P.putBuffer(G)},s={};s.Versions={TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}},s.SupportedVersions=[s.Versions.TLS_1_1,s.Versions.TLS_1_0],s.Version=s.SupportedVersions[0],s.MaxFragment=16384-1024,s.ConnectionEnd={server:0,client:1},s.PRFAlgorithm={tls_prf_sha256:0},s.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2},s.CipherType={stream:0,block:1,aead:2},s.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4},s.CompressionMethod={none:0,deflate:1},s.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24},s.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20},s.Alert={},s.Alert.Level={warning:1,fatal:2},s.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100},s.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2},s.CipherSuites={},s.getCipherSuite=function(P){var Y=null;for(var G in s.CipherSuites){var R=s.CipherSuites[G];if(R.id[0]===P.charCodeAt(0)&&R.id[1]===P.charCodeAt(1)){Y=R;break}}return Y},s.handleUnexpected=function(P,Y){var G=!P.open&&P.entity===s.ConnectionEnd.client;G||P.error(P,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.unexpected_message}})},s.handleHelloRequest=function(P,Y,G){!P.handshaking&&P.handshakes>0&&(s.queue(P,s.createAlert(P,{level:s.Alert.Level.warning,description:s.Alert.Description.no_renegotiation})),s.flush(P)),P.process()},s.parseHelloMessage=function(P,Y,G){var R=null,H=P.entity===s.ConnectionEnd.client;if(G<38)P.error(P,{message:H?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.illegal_parameter}});else{var ie=Y.fragment,ee=ie.length();if(R={version:{major:ie.getByte(),minor:ie.getByte()},random:t.util.createBuffer(ie.getBytes(32)),session_id:f(ie,1),extensions:[]},H?(R.cipher_suite=ie.getBytes(2),R.compression_method=ie.getByte()):(R.cipher_suites=f(ie,2),R.compression_methods=f(ie,1)),ee=G-(ee-ie.length()),ee>0){for(var _e=f(ie,2);_e.length()>0;)R.extensions.push({type:[_e.getByte(),_e.getByte()],data:f(_e,2)});if(!H)for(var xe=0;xe<R.extensions.length;++xe){var je=R.extensions[xe];if(je.type[0]===0&&je.type[1]===0)for(var ye=f(je.data,2);ye.length()>0;){var Oe=ye.getByte();if(Oe!==0)break;P.session.extensions.server_name.serverNameList.push(f(ye,2).getBytes())}}}if(P.session.version&&(R.version.major!==P.session.version.major||R.version.minor!==P.session.version.minor))return P.error(P,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.protocol_version}});if(H)P.session.cipherSuite=s.getCipherSuite(R.cipher_suite);else for(var He=t.util.createBuffer(R.cipher_suites.bytes());He.length()>0&&(P.session.cipherSuite=s.getCipherSuite(He.getBytes(2)),P.session.cipherSuite===null););if(P.session.cipherSuite===null)return P.error(P,{message:"No cipher suites in common.",send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.handshake_failure},cipherSuite:t.util.bytesToHex(R.cipher_suite)});H?P.session.compressionMethod=R.compression_method:P.session.compressionMethod=s.CompressionMethod.none}return R},s.createSecurityParameters=function(P,Y){var G=P.entity===s.ConnectionEnd.client,R=Y.random.bytes(),H=G?P.session.sp.client_random:R,ie=G?R:s.createRandom().getBytes();P.session.sp={entity:P.entity,prf_algorithm:s.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:P.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:H,server_random:ie}},s.handleServerHello=function(P,Y,G){var R=s.parseHelloMessage(P,Y,G);if(!P.fail){if(R.version.minor<=P.version.minor)P.version.minor=R.version.minor;else return P.error(P,{message:"Incompatible TLS version.",send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.protocol_version}});P.session.version=P.version;var H=R.session_id.bytes();H.length>0&&H===P.session.id?(P.expect=_,P.session.resuming=!0,P.session.sp.server_random=R.random.bytes()):(P.expect=h,P.session.resuming=!1,s.createSecurityParameters(P,R)),P.session.id=H,P.process()}},s.handleClientHello=function(P,Y,G){var R=s.parseHelloMessage(P,Y,G);if(!P.fail){var H=R.session_id.bytes(),ie=null;if(P.sessionCache&&(ie=P.sessionCache.getSession(H),ie===null?H="":(ie.version.major!==R.version.major||ie.version.minor>R.version.minor)&&(ie=null,H="")),H.length===0&&(H=t.random.getBytes(32)),P.session.id=H,P.session.clientHelloVersion=R.version,P.session.sp={},ie)P.version=P.session.version=ie.version,P.session.sp=ie.sp;else{for(var ee,_e=1;_e<s.SupportedVersions.length&&(ee=s.SupportedVersions[_e],!(ee.minor<=R.version.minor));++_e);P.version={major:ee.major,minor:ee.minor},P.session.version=P.version}ie!==null?(P.expect=D,P.session.resuming=!0,P.session.sp.client_random=R.random.bytes()):(P.expect=P.verifyClient!==!1?A:S,P.session.resuming=!1,s.createSecurityParameters(P,R)),P.open=!0,s.queue(P,s.createRecord(P,{type:s.ContentType.handshake,data:s.createServerHello(P)})),P.session.resuming?(s.queue(P,s.createRecord(P,{type:s.ContentType.change_cipher_spec,data:s.createChangeCipherSpec()})),P.state.pending=s.createConnectionState(P),P.state.current.write=P.state.pending.write,s.queue(P,s.createRecord(P,{type:s.ContentType.handshake,data:s.createFinished(P)}))):(s.queue(P,s.createRecord(P,{type:s.ContentType.handshake,data:s.createCertificate(P)})),P.fail||(s.queue(P,s.createRecord(P,{type:s.ContentType.handshake,data:s.createServerKeyExchange(P)})),P.verifyClient!==!1&&s.queue(P,s.createRecord(P,{type:s.ContentType.handshake,data:s.createCertificateRequest(P)})),s.queue(P,s.createRecord(P,{type:s.ContentType.handshake,data:s.createServerHelloDone(P)})))),s.flush(P),P.process()}},s.handleCertificate=function(P,Y,G){if(G<3)return P.error(P,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.illegal_parameter}});var R=Y.fragment,H={certificate_list:f(R,3)},ie,ee,_e=[];try{for(;H.certificate_list.length()>0;)ie=f(H.certificate_list,3),ee=t.asn1.fromDer(ie),ie=t.pki.certificateFromAsn1(ee,!0),_e.push(ie)}catch(je){return P.error(P,{message:"Could not parse certificate list.",cause:je,send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.bad_certificate}})}var xe=P.entity===s.ConnectionEnd.client;(xe||P.verifyClient===!0)&&_e.length===0?P.error(P,{message:xe?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.illegal_parameter}}):_e.length===0?P.expect=xe?g:S:(xe?P.session.serverCertificate=_e[0]:P.session.clientCertificate=_e[0],s.verifyCertificateChain(P,_e)&&(P.expect=xe?g:S)),P.process()},s.handleServerKeyExchange=function(P,Y,G){if(G>0)return P.error(P,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.unsupported_certificate}});P.expect=I,P.process()},s.handleClientKeyExchange=function(P,Y,G){if(G<48)return P.error(P,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.unsupported_certificate}});var R=Y.fragment,H={enc_pre_master_secret:f(R,2).getBytes()},ie=null;if(P.getPrivateKey)try{ie=P.getPrivateKey(P,P.session.serverCertificate),ie=t.pki.privateKeyFromPem(ie)}catch(xe){P.error(P,{message:"Could not get private key.",cause:xe,send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.internal_error}})}if(ie===null)return P.error(P,{message:"No private key set.",send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.internal_error}});try{var ee=P.session.sp;ee.pre_master_secret=ie.decrypt(H.enc_pre_master_secret);var _e=P.session.clientHelloVersion;if(_e.major!==ee.pre_master_secret.charCodeAt(0)||_e.minor!==ee.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch{ee.pre_master_secret=t.random.getBytes(48)}P.expect=D,P.session.clientCertificate!==null&&(P.expect=O),P.process()},s.handleCertificateRequest=function(P,Y,G){if(G<3)return P.error(P,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.illegal_parameter}});var R=Y.fragment,H={certificate_types:f(R,1),certificate_authorities:f(R,2)};P.session.certificateRequest=H,P.expect=C,P.process()},s.handleCertificateVerify=function(P,Y,G){if(G<2)return P.error(P,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.illegal_parameter}});var R=Y.fragment;R.read-=4;var H=R.bytes();R.read+=4;var ie={signature:f(R,2).getBytes()},ee=t.util.createBuffer();ee.putBuffer(P.session.md5.digest()),ee.putBuffer(P.session.sha1.digest()),ee=ee.getBytes();try{var _e=P.session.clientCertificate;if(!_e.publicKey.verify(ee,ie.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");P.session.md5.update(H),P.session.sha1.update(H)}catch{return P.error(P,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.handshake_failure}})}P.expect=D,P.process()},s.handleServerHelloDone=function(P,Y,G){if(G>0)return P.error(P,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.record_overflow}});if(P.serverCertificate===null){var R={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.insufficient_security}},H=0,ie=P.verify(P,R.alert.description,H,[]);if(ie!==!0)return(ie||ie===0)&&(typeof ie=="object"&&!t.util.isArray(ie)?(ie.message&&(R.message=ie.message),ie.alert&&(R.alert.description=ie.alert)):typeof ie=="number"&&(R.alert.description=ie)),P.error(P,R)}P.session.certificateRequest!==null&&(Y=s.createRecord(P,{type:s.ContentType.handshake,data:s.createCertificate(P)}),s.queue(P,Y)),Y=s.createRecord(P,{type:s.ContentType.handshake,data:s.createClientKeyExchange(P)}),s.queue(P,Y),P.expect=B;var ee=function(_e,xe){_e.session.certificateRequest!==null&&_e.session.clientCertificate!==null&&s.queue(_e,s.createRecord(_e,{type:s.ContentType.handshake,data:s.createCertificateVerify(_e,xe)})),s.queue(_e,s.createRecord(_e,{type:s.ContentType.change_cipher_spec,data:s.createChangeCipherSpec()})),_e.state.pending=s.createConnectionState(_e),_e.state.current.write=_e.state.pending.write,s.queue(_e,s.createRecord(_e,{type:s.ContentType.handshake,data:s.createFinished(_e)})),_e.expect=_,s.flush(_e),_e.process()};if(P.session.certificateRequest===null||P.session.clientCertificate===null)return ee(P,null);s.getClientSignature(P,ee)},s.handleChangeCipherSpec=function(P,Y){if(Y.fragment.getByte()!==1)return P.error(P,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.illegal_parameter}});var G=P.entity===s.ConnectionEnd.client;(P.session.resuming&&G||!P.session.resuming&&!G)&&(P.state.pending=s.createConnectionState(P)),P.state.current.read=P.state.pending.read,(!P.session.resuming&&G||P.session.resuming&&!G)&&(P.state.pending=null),P.expect=G?T:E,P.process()},s.handleFinished=function(P,Y,G){var R=Y.fragment;R.read-=4;var H=R.bytes();R.read+=4;var ie=Y.fragment.getBytes();R=t.util.createBuffer(),R.putBuffer(P.session.md5.digest()),R.putBuffer(P.session.sha1.digest());var ee=P.entity===s.ConnectionEnd.client,_e=ee?"server finished":"client finished",xe=P.session.sp,je=12,ye=r;if(R=ye(xe.master_secret,_e,R.getBytes(),je),R.getBytes()!==ie)return P.error(P,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.decrypt_error}});P.session.md5.update(H),P.session.sha1.update(H),(P.session.resuming&&ee||!P.session.resuming&&!ee)&&(s.queue(P,s.createRecord(P,{type:s.ContentType.change_cipher_spec,data:s.createChangeCipherSpec()})),P.state.current.write=P.state.pending.write,P.state.pending=null,s.queue(P,s.createRecord(P,{type:s.ContentType.handshake,data:s.createFinished(P)}))),P.expect=ee?N:m,P.handshaking=!1,++P.handshakes,P.peerCertificate=ee?P.session.serverCertificate:P.session.clientCertificate,s.flush(P),P.isConnected=!0,P.connected(P),P.process()},s.handleAlert=function(P,Y){var G=Y.fragment,R={level:G.getByte(),description:G.getByte()},H;switch(R.description){case s.Alert.Description.close_notify:H="Connection closed.";break;case s.Alert.Description.unexpected_message:H="Unexpected message.";break;case s.Alert.Description.bad_record_mac:H="Bad record MAC.";break;case s.Alert.Description.decryption_failed:H="Decryption failed.";break;case s.Alert.Description.record_overflow:H="Record overflow.";break;case s.Alert.Description.decompression_failure:H="Decompression failed.";break;case s.Alert.Description.handshake_failure:H="Handshake failure.";break;case s.Alert.Description.bad_certificate:H="Bad certificate.";break;case s.Alert.Description.unsupported_certificate:H="Unsupported certificate.";break;case s.Alert.Description.certificate_revoked:H="Certificate revoked.";break;case s.Alert.Description.certificate_expired:H="Certificate expired.";break;case s.Alert.Description.certificate_unknown:H="Certificate unknown.";break;case s.Alert.Description.illegal_parameter:H="Illegal parameter.";break;case s.Alert.Description.unknown_ca:H="Unknown certificate authority.";break;case s.Alert.Description.access_denied:H="Access denied.";break;case s.Alert.Description.decode_error:H="Decode error.";break;case s.Alert.Description.decrypt_error:H="Decrypt error.";break;case s.Alert.Description.export_restriction:H="Export restriction.";break;case s.Alert.Description.protocol_version:H="Unsupported protocol version.";break;case s.Alert.Description.insufficient_security:H="Insufficient security.";break;case s.Alert.Description.internal_error:H="Internal error.";break;case s.Alert.Description.user_canceled:H="User canceled.";break;case s.Alert.Description.no_renegotiation:H="Renegotiation not supported.";break;default:H="Unknown error.";break}if(R.description===s.Alert.Description.close_notify)return P.close();P.error(P,{message:H,send:!1,origin:P.entity===s.ConnectionEnd.client?"server":"client",alert:R}),P.process()},s.handleHandshake=function(P,Y){var G=Y.fragment,R=G.getByte(),H=G.getInt24();if(H>G.length())return P.fragmented=Y,Y.fragment=t.util.createBuffer(),G.read-=4,P.process();P.fragmented=null,G.read-=4;var ie=G.bytes(H+4);G.read+=4,R in Le[P.entity][P.expect]?(P.entity===s.ConnectionEnd.server&&!P.open&&!P.fail&&(P.handshaking=!0,P.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:t.md.md5.create(),sha1:t.md.sha1.create()}),R!==s.HandshakeType.hello_request&&R!==s.HandshakeType.certificate_verify&&R!==s.HandshakeType.finished&&(P.session.md5.update(ie),P.session.sha1.update(ie)),Le[P.entity][P.expect][R](P,Y,H)):s.handleUnexpected(P,Y)},s.handleApplicationData=function(P,Y){P.data.putBuffer(Y.fragment),P.dataReady(P),P.process()},s.handleHeartbeat=function(P,Y){var G=Y.fragment,R=G.getByte(),H=G.getInt16(),ie=G.getBytes(H);if(R===s.HeartbeatMessageType.heartbeat_request){if(P.handshaking||H>ie.length)return P.process();s.queue(P,s.createRecord(P,{type:s.ContentType.heartbeat,data:s.createHeartbeat(s.HeartbeatMessageType.heartbeat_response,ie)})),s.flush(P)}else if(R===s.HeartbeatMessageType.heartbeat_response){if(ie!==P.expectedHeartbeatPayload)return P.process();P.heartbeatReceived&&P.heartbeatReceived(P,t.util.createBuffer(ie))}P.process()};var d=0,h=1,g=2,I=3,C=4,_=5,T=6,N=7,B=8,p=0,A=1,S=2,O=3,D=4,E=5,m=6,y=s.handleUnexpected,q=s.handleChangeCipherSpec,M=s.handleAlert,V=s.handleHandshake,w=s.handleApplicationData,x=s.handleHeartbeat,j=[];j[s.ConnectionEnd.client]=[[y,M,V,y,x],[y,M,V,y,x],[y,M,V,y,x],[y,M,V,y,x],[y,M,V,y,x],[q,M,y,y,x],[y,M,V,y,x],[y,M,V,w,x],[y,M,V,y,x]],j[s.ConnectionEnd.server]=[[y,M,V,y,x],[y,M,V,y,x],[y,M,V,y,x],[y,M,V,y,x],[q,M,y,y,x],[y,M,V,y,x],[y,M,V,w,x],[y,M,V,y,x]];var L=s.handleHelloRequest,F=s.handleServerHello,J=s.handleCertificate,oe=s.handleServerKeyExchange,se=s.handleCertificateRequest,de=s.handleServerHelloDone,ke=s.handleFinished,Le=[];Le[s.ConnectionEnd.client]=[[y,y,F,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y],[L,y,y,y,y,y,y,y,y,y,y,J,oe,se,de,y,y,y,y,y,y],[L,y,y,y,y,y,y,y,y,y,y,y,oe,se,de,y,y,y,y,y,y],[L,y,y,y,y,y,y,y,y,y,y,y,y,se,de,y,y,y,y,y,y],[L,y,y,y,y,y,y,y,y,y,y,y,y,y,de,y,y,y,y,y,y],[L,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y],[L,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,ke],[L,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y],[L,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y]];var Ve=s.handleClientHello,Ee=s.handleClientKeyExchange,We=s.handleCertificateVerify;Le[s.ConnectionEnd.server]=[[y,Ve,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y],[y,y,y,y,y,y,y,y,y,y,y,J,y,y,y,y,y,y,y,y,y],[y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,Ee,y,y,y,y],[y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,We,y,y,y,y,y],[y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y],[y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,ke],[y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y],[y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y]],s.generateKeys=function(P,Y){var G=r,R=Y.client_random+Y.server_random;P.session.resuming||(Y.master_secret=G(Y.pre_master_secret,"master secret",R,48).bytes(),Y.pre_master_secret=null),R=Y.server_random+Y.client_random;var H=2*Y.mac_key_length+2*Y.enc_key_length,ie=P.version.major===s.Versions.TLS_1_0.major&&P.version.minor===s.Versions.TLS_1_0.minor;ie&&(H+=2*Y.fixed_iv_length);var ee=G(Y.master_secret,"key expansion",R,H),_e={client_write_MAC_key:ee.getBytes(Y.mac_key_length),server_write_MAC_key:ee.getBytes(Y.mac_key_length),client_write_key:ee.getBytes(Y.enc_key_length),server_write_key:ee.getBytes(Y.enc_key_length)};return ie&&(_e.client_write_IV=ee.getBytes(Y.fixed_iv_length),_e.server_write_IV=ee.getBytes(Y.fixed_iv_length)),_e},s.createConnectionState=function(P){var Y=P.entity===s.ConnectionEnd.client,G=function(){var ie={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(ee){return!0},compressionState:null,compressFunction:function(ee){return!0},updateSequenceNumber:function(){ie.sequenceNumber[1]===4294967295?(ie.sequenceNumber[1]=0,++ie.sequenceNumber[0]):++ie.sequenceNumber[1]}};return ie},R={read:G(),write:G()};if(R.read.update=function(ie,ee){return R.read.cipherFunction(ee,R.read)?R.read.compressFunction(ie,ee,R.read)||ie.error(ie,{message:"Could not decompress record.",send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.decompression_failure}}):ie.error(ie,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.bad_record_mac}}),!ie.fail},R.write.update=function(ie,ee){return R.write.compressFunction(ie,ee,R.write)?R.write.cipherFunction(ee,R.write)||ie.error(ie,{message:"Could not encrypt record.",send:!1,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.internal_error}}):ie.error(ie,{message:"Could not compress record.",send:!1,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.internal_error}}),!ie.fail},P.session){var H=P.session.sp;switch(P.session.cipherSuite.initSecurityParameters(H),H.keys=s.generateKeys(P,H),R.read.macKey=Y?H.keys.server_write_MAC_key:H.keys.client_write_MAC_key,R.write.macKey=Y?H.keys.client_write_MAC_key:H.keys.server_write_MAC_key,P.session.cipherSuite.initConnectionState(R,P,H),H.compression_algorithm){case s.CompressionMethod.none:break;case s.CompressionMethod.deflate:R.read.compressFunction=c,R.write.compressFunction=u;break;default:throw new Error("Unsupported compression algorithm.")}}return R},s.createRandom=function(){var P=new Date,Y=+P+P.getTimezoneOffset()*6e4,G=t.util.createBuffer();return G.putInt32(Y),G.putBytes(t.random.getBytes(28)),G},s.createRecord=function(P,Y){if(!Y.data)return null;var G={type:Y.type,version:{major:P.version.major,minor:P.version.minor},length:Y.data.length(),fragment:Y.data};return G},s.createAlert=function(P,Y){var G=t.util.createBuffer();return G.putByte(Y.level),G.putByte(Y.description),s.createRecord(P,{type:s.ContentType.alert,data:G})},s.createClientHello=function(P){P.session.clientHelloVersion={major:P.version.major,minor:P.version.minor};for(var Y=t.util.createBuffer(),G=0;G<P.cipherSuites.length;++G){var R=P.cipherSuites[G];Y.putByte(R.id[0]),Y.putByte(R.id[1])}var H=Y.length(),ie=t.util.createBuffer();ie.putByte(s.CompressionMethod.none);var ee=ie.length(),_e=t.util.createBuffer();if(P.virtualHost){var xe=t.util.createBuffer();xe.putByte(0),xe.putByte(0);var je=t.util.createBuffer();je.putByte(0),l(je,2,t.util.createBuffer(P.virtualHost));var ye=t.util.createBuffer();l(ye,2,je),l(xe,2,ye),_e.putBuffer(xe)}var Oe=_e.length();Oe>0&&(Oe+=2);var He=P.session.id,rt=He.length+1+2+4+28+2+H+1+ee+Oe,$e=t.util.createBuffer();return $e.putByte(s.HandshakeType.client_hello),$e.putInt24(rt),$e.putByte(P.version.major),$e.putByte(P.version.minor),$e.putBytes(P.session.sp.client_random),l($e,1,t.util.createBuffer(He)),l($e,2,Y),l($e,1,ie),Oe>0&&l($e,2,_e),$e},s.createServerHello=function(P){var Y=P.session.id,G=Y.length+1+2+4+28+2+1,R=t.util.createBuffer();return R.putByte(s.HandshakeType.server_hello),R.putInt24(G),R.putByte(P.version.major),R.putByte(P.version.minor),R.putBytes(P.session.sp.server_random),l(R,1,t.util.createBuffer(Y)),R.putByte(P.session.cipherSuite.id[0]),R.putByte(P.session.cipherSuite.id[1]),R.putByte(P.session.compressionMethod),R},s.createCertificate=function(P){var Y=P.entity===s.ConnectionEnd.client,G=null;if(P.getCertificate){var R;Y?R=P.session.certificateRequest:R=P.session.extensions.server_name.serverNameList,G=P.getCertificate(P,R)}var H=t.util.createBuffer();if(G!==null)try{t.util.isArray(G)||(G=[G]);for(var ie=null,ee=0;ee<G.length;++ee){var _e=t.pem.decode(G[ee])[0];if(_e.type!=="CERTIFICATE"&&_e.type!=="X509 CERTIFICATE"&&_e.type!=="TRUSTED CERTIFICATE"){var xe=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw xe.headerType=_e.type,xe}if(_e.procType&&_e.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var je=t.util.createBuffer(_e.body);ie===null&&(ie=t.asn1.fromDer(je.bytes(),!1));var ye=t.util.createBuffer();l(ye,3,je),H.putBuffer(ye)}G=t.pki.certificateFromAsn1(ie),Y?P.session.clientCertificate=G:P.session.serverCertificate=G}catch(rt){return P.error(P,{message:"Could not send certificate list.",cause:rt,send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.bad_certificate}})}var Oe=3+H.length(),He=t.util.createBuffer();return He.putByte(s.HandshakeType.certificate),He.putInt24(Oe),l(He,3,H),He},s.createClientKeyExchange=function(P){var Y=t.util.createBuffer();Y.putByte(P.session.clientHelloVersion.major),Y.putByte(P.session.clientHelloVersion.minor),Y.putBytes(t.random.getBytes(46));var G=P.session.sp;G.pre_master_secret=Y.getBytes();var R=P.session.serverCertificate.publicKey;Y=R.encrypt(G.pre_master_secret);var H=Y.length+2,ie=t.util.createBuffer();return ie.putByte(s.HandshakeType.client_key_exchange),ie.putInt24(H),ie.putInt16(Y.length),ie.putBytes(Y),ie},s.createServerKeyExchange=function(P){var Y=0,G=t.util.createBuffer();return Y>0&&(G.putByte(s.HandshakeType.server_key_exchange),G.putInt24(Y)),G},s.getClientSignature=function(P,Y){var G=t.util.createBuffer();G.putBuffer(P.session.md5.digest()),G.putBuffer(P.session.sha1.digest()),G=G.getBytes(),P.getSignature=P.getSignature||function(R,H,ie){var ee=null;if(R.getPrivateKey)try{ee=R.getPrivateKey(R,R.session.clientCertificate),ee=t.pki.privateKeyFromPem(ee)}catch(_e){R.error(R,{message:"Could not get private key.",cause:_e,send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.internal_error}})}ee===null?R.error(R,{message:"No private key set.",send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.internal_error}}):H=ee.sign(H,null),ie(R,H)},P.getSignature(P,G,Y)},s.createCertificateVerify=function(P,Y){var G=Y.length+2,R=t.util.createBuffer();return R.putByte(s.HandshakeType.certificate_verify),R.putInt24(G),R.putInt16(Y.length),R.putBytes(Y),R},s.createCertificateRequest=function(P){var Y=t.util.createBuffer();Y.putByte(1);var G=t.util.createBuffer();for(var R in P.caStore.certs){var H=P.caStore.certs[R],ie=t.pki.distinguishedNameToAsn1(H.subject),ee=t.asn1.toDer(ie);G.putInt16(ee.length()),G.putBuffer(ee)}var _e=1+Y.length()+2+G.length(),xe=t.util.createBuffer();return xe.putByte(s.HandshakeType.certificate_request),xe.putInt24(_e),l(xe,1,Y),l(xe,2,G),xe},s.createServerHelloDone=function(P){var Y=t.util.createBuffer();return Y.putByte(s.HandshakeType.server_hello_done),Y.putInt24(0),Y},s.createChangeCipherSpec=function(){var P=t.util.createBuffer();return P.putByte(1),P},s.createFinished=function(P){var Y=t.util.createBuffer();Y.putBuffer(P.session.md5.digest()),Y.putBuffer(P.session.sha1.digest());var G=P.entity===s.ConnectionEnd.client,R=P.session.sp,H=12,ie=r,ee=G?"client finished":"server finished";Y=ie(R.master_secret,ee,Y.getBytes(),H);var _e=t.util.createBuffer();return _e.putByte(s.HandshakeType.finished),_e.putInt24(Y.length()),_e.putBuffer(Y),_e},s.createHeartbeat=function(P,Y,G){typeof G>"u"&&(G=Y.length);var R=t.util.createBuffer();R.putByte(P),R.putInt16(G),R.putBytes(Y);var H=R.length(),ie=Math.max(16,H-G-3);return R.putBytes(t.random.getBytes(ie)),R},s.queue=function(P,Y){if(Y&&!(Y.fragment.length()===0&&(Y.type===s.ContentType.handshake||Y.type===s.ContentType.alert||Y.type===s.ContentType.change_cipher_spec))){if(Y.type===s.ContentType.handshake){var G=Y.fragment.bytes();P.session.md5.update(G),P.session.sha1.update(G),G=null}var R;if(Y.fragment.length()<=s.MaxFragment)R=[Y];else{R=[];for(var H=Y.fragment.bytes();H.length>s.MaxFragment;)R.push(s.createRecord(P,{type:Y.type,data:t.util.createBuffer(H.slice(0,s.MaxFragment))})),H=H.slice(s.MaxFragment);H.length>0&&R.push(s.createRecord(P,{type:Y.type,data:t.util.createBuffer(H)}))}for(var ie=0;ie<R.length&&!P.fail;++ie){var ee=R[ie],_e=P.state.current.write;_e.update(P,ee)&&P.records.push(ee)}}},s.flush=function(P){for(var Y=0;Y<P.records.length;++Y){var G=P.records[Y];P.tlsData.putByte(G.type),P.tlsData.putByte(G.version.major),P.tlsData.putByte(G.version.minor),P.tlsData.putInt16(G.fragment.length()),P.tlsData.putBuffer(P.records[Y].fragment)}return P.records=[],P.tlsDataReady(P)};var Ce=function(P){switch(P){case!0:return!0;case t.pki.certificateError.bad_certificate:return s.Alert.Description.bad_certificate;case t.pki.certificateError.unsupported_certificate:return s.Alert.Description.unsupported_certificate;case t.pki.certificateError.certificate_revoked:return s.Alert.Description.certificate_revoked;case t.pki.certificateError.certificate_expired:return s.Alert.Description.certificate_expired;case t.pki.certificateError.certificate_unknown:return s.Alert.Description.certificate_unknown;case t.pki.certificateError.unknown_ca:return s.Alert.Description.unknown_ca;default:return s.Alert.Description.bad_certificate}},et=function(P){switch(P){case!0:return!0;case s.Alert.Description.bad_certificate:return t.pki.certificateError.bad_certificate;case s.Alert.Description.unsupported_certificate:return t.pki.certificateError.unsupported_certificate;case s.Alert.Description.certificate_revoked:return t.pki.certificateError.certificate_revoked;case s.Alert.Description.certificate_expired:return t.pki.certificateError.certificate_expired;case s.Alert.Description.certificate_unknown:return t.pki.certificateError.certificate_unknown;case s.Alert.Description.unknown_ca:return t.pki.certificateError.unknown_ca;default:return t.pki.certificateError.bad_certificate}};s.verifyCertificateChain=function(P,Y){try{var G={};for(var R in P.verifyOptions)G[R]=P.verifyOptions[R];G.verify=function(ie,ee,_e){var xe=Ce(ie),je=P.verify(P,ie,ee,_e);if(je!==!0){if(typeof je=="object"&&!t.util.isArray(je)){var ye=new Error("The application rejected the certificate.");throw ye.send=!0,ye.alert={level:s.Alert.Level.fatal,description:s.Alert.Description.bad_certificate},je.message&&(ye.message=je.message),je.alert&&(ye.alert.description=je.alert),ye}je!==ie&&(je=et(je))}return je},t.pki.verifyCertificateChain(P.caStore,Y,G)}catch(ie){var H=ie;(typeof H!="object"||t.util.isArray(H))&&(H={send:!0,alert:{level:s.Alert.Level.fatal,description:Ce(ie)}}),"send"in H||(H.send=!0),"alert"in H||(H.alert={level:s.Alert.Level.fatal,description:Ce(H.error)}),P.error(P,H)}return!P.fail},s.createSessionCache=function(P,Y){var G=null;if(P&&P.getSession&&P.setSession&&P.order)G=P;else{G={},G.cache=P||{},G.capacity=Math.max(Y||100,1),G.order=[];for(var R in P)G.order.length<=Y?G.order.push(R):delete P[R];G.getSession=function(H){var ie=null,ee=null;if(H?ee=t.util.bytesToHex(H):G.order.length>0&&(ee=G.order[0]),ee!==null&&ee in G.cache){ie=G.cache[ee],delete G.cache[ee];for(var _e in G.order)if(G.order[_e]===ee){G.order.splice(_e,1);break}}return ie},G.setSession=function(H,ie){if(G.order.length===G.capacity){var ee=G.order.shift();delete G.cache[ee]}var ee=t.util.bytesToHex(H);G.order.push(ee),G.cache[ee]=ie}}return G},s.createConnection=function(P){var Y=null;P.caStore?t.util.isArray(P.caStore)?Y=t.pki.createCaStore(P.caStore):Y=P.caStore:Y=t.pki.createCaStore();var G=P.cipherSuites||null;if(G===null){G=[];for(var R in s.CipherSuites)G.push(s.CipherSuites[R])}var H=P.server?s.ConnectionEnd.server:s.ConnectionEnd.client,ie=P.sessionCache?s.createSessionCache(P.sessionCache):null,ee={version:{major:s.Version.major,minor:s.Version.minor},entity:H,sessionId:P.sessionId,caStore:Y,sessionCache:ie,cipherSuites:G,connected:P.connected,virtualHost:P.virtualHost||null,verifyClient:P.verifyClient||!1,verify:P.verify||function(ye,Oe,He,rt){return Oe},verifyOptions:P.verifyOptions||{},getCertificate:P.getCertificate||null,getPrivateKey:P.getPrivateKey||null,getSignature:P.getSignature||null,input:t.util.createBuffer(),tlsData:t.util.createBuffer(),data:t.util.createBuffer(),tlsDataReady:P.tlsDataReady,dataReady:P.dataReady,heartbeatReceived:P.heartbeatReceived,closed:P.closed,error:function(ye,Oe){Oe.origin=Oe.origin||(ye.entity===s.ConnectionEnd.client?"client":"server"),Oe.send&&(s.queue(ye,s.createAlert(ye,Oe.alert)),s.flush(ye));var He=Oe.fatal!==!1;He&&(ye.fail=!0),P.error(ye,Oe),He&&ye.close(!1)},deflate:P.deflate||null,inflate:P.inflate||null};ee.reset=function(ye){ee.version={major:s.Version.major,minor:s.Version.minor},ee.record=null,ee.session=null,ee.peerCertificate=null,ee.state={pending:null,current:null},ee.expect=ee.entity===s.ConnectionEnd.client?d:p,ee.fragmented=null,ee.records=[],ee.open=!1,ee.handshakes=0,ee.handshaking=!1,ee.isConnected=!1,ee.fail=!(ye||typeof ye>"u"),ee.input.clear(),ee.tlsData.clear(),ee.data.clear(),ee.state.current=s.createConnectionState(ee)},ee.reset();var _e=function(ye,Oe){var He=Oe.type-s.ContentType.change_cipher_spec,rt=j[ye.entity][ye.expect];He in rt?rt[He](ye,Oe):s.handleUnexpected(ye,Oe)},xe=function(ye){var Oe=0,He=ye.input,rt=He.length();if(rt<5)Oe=5-rt;else{ye.record={type:He.getByte(),version:{major:He.getByte(),minor:He.getByte()},length:He.getInt16(),fragment:t.util.createBuffer(),ready:!1};var $e=ye.record.version.major===ye.version.major;$e&&ye.session&&ye.session.version&&($e=ye.record.version.minor===ye.version.minor),$e||ye.error(ye,{message:"Incompatible TLS version.",send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.protocol_version}})}return Oe},je=function(ye){var Oe=0,He=ye.input,rt=He.length();if(rt<ye.record.length)Oe=ye.record.length-rt;else{ye.record.fragment.putBytes(He.getBytes(ye.record.length)),He.compact();var $e=ye.state.current.read;$e.update(ye,ye.record)&&(ye.fragmented!==null&&(ye.fragmented.type===ye.record.type?(ye.fragmented.fragment.putBuffer(ye.record.fragment),ye.record=ye.fragmented):ye.error(ye,{message:"Invalid fragmented record.",send:!0,alert:{level:s.Alert.Level.fatal,description:s.Alert.Description.unexpected_message}})),ye.record.ready=!0)}return Oe};return ee.handshake=function(ye){if(ee.entity!==s.ConnectionEnd.client)ee.error(ee,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(ee.handshaking)ee.error(ee,{message:"Handshake already in progress.",fatal:!1});else{ee.fail&&!ee.open&&ee.handshakes===0&&(ee.fail=!1),ee.handshaking=!0,ye=ye||"";var Oe=null;ye.length>0&&(ee.sessionCache&&(Oe=ee.sessionCache.getSession(ye)),Oe===null&&(ye="")),ye.length===0&&ee.sessionCache&&(Oe=ee.sessionCache.getSession(),Oe!==null&&(ye=Oe.id)),ee.session={id:ye,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:t.md.md5.create(),sha1:t.md.sha1.create()},Oe&&(ee.version=Oe.version,ee.session.sp=Oe.sp),ee.session.sp.client_random=s.createRandom().getBytes(),ee.open=!0,s.queue(ee,s.createRecord(ee,{type:s.ContentType.handshake,data:s.createClientHello(ee)})),s.flush(ee)}},ee.process=function(ye){var Oe=0;return ye&&ee.input.putBytes(ye),ee.fail||(ee.record!==null&&ee.record.ready&&ee.record.fragment.isEmpty()&&(ee.record=null),ee.record===null&&(Oe=xe(ee)),!ee.fail&&ee.record!==null&&!ee.record.ready&&(Oe=je(ee)),!ee.fail&&ee.record!==null&&ee.record.ready&&_e(ee,ee.record)),Oe},ee.prepare=function(ye){return s.queue(ee,s.createRecord(ee,{type:s.ContentType.application_data,data:t.util.createBuffer(ye)})),s.flush(ee)},ee.prepareHeartbeatRequest=function(ye,Oe){return ye instanceof t.util.ByteBuffer&&(ye=ye.bytes()),typeof Oe>"u"&&(Oe=ye.length),ee.expectedHeartbeatPayload=ye,s.queue(ee,s.createRecord(ee,{type:s.ContentType.heartbeat,data:s.createHeartbeat(s.HeartbeatMessageType.heartbeat_request,ye,Oe)})),s.flush(ee)},ee.close=function(ye){if(!ee.fail&&ee.sessionCache&&ee.session){var Oe={id:ee.session.id,version:ee.session.version,sp:ee.session.sp};Oe.sp.keys=null,ee.sessionCache.setSession(Oe.id,Oe)}ee.open&&(ee.open=!1,ee.input.clear(),(ee.isConnected||ee.handshaking)&&(ee.isConnected=ee.handshaking=!1,s.queue(ee,s.createAlert(ee,{level:s.Alert.Level.warning,description:s.Alert.Description.close_notify})),s.flush(ee)),ee.closed(ee)),ee.reset(ye)},ee},n.exports=t.tls=t.tls||{};for(Xe in s)typeof s[Xe]!="function"&&(t.tls[Xe]=s[Xe]);var Xe;t.tls.prf_tls1=r,t.tls.hmac_sha1=a,t.tls.createSessionCache=s.createSessionCache,t.tls.createConnection=s.createConnection}),IA=Qe((e,n)=>{var t=lt();ks(),F1();var r=n.exports=t.tls;r.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(d){d.bulk_cipher_algorithm=r.BulkCipherAlgorithm.aes,d.cipher_type=r.CipherType.block,d.enc_key_length=16,d.block_length=16,d.fixed_iv_length=16,d.record_iv_length=16,d.mac_algorithm=r.MACAlgorithm.hmac_sha1,d.mac_length=20,d.mac_key_length=20},initConnectionState:a},r.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(d){d.bulk_cipher_algorithm=r.BulkCipherAlgorithm.aes,d.cipher_type=r.CipherType.block,d.enc_key_length=32,d.block_length=16,d.fixed_iv_length=16,d.record_iv_length=16,d.mac_algorithm=r.MACAlgorithm.hmac_sha1,d.mac_length=20,d.mac_key_length=20},initConnectionState:a};function a(d,h,g){var I=h.entity===t.tls.ConnectionEnd.client;d.read.cipherState={init:!1,cipher:t.cipher.createDecipher("AES-CBC",I?g.keys.server_write_key:g.keys.client_write_key),iv:I?g.keys.server_write_IV:g.keys.client_write_IV},d.write.cipherState={init:!1,cipher:t.cipher.createCipher("AES-CBC",I?g.keys.client_write_key:g.keys.server_write_key),iv:I?g.keys.client_write_IV:g.keys.server_write_IV},d.read.cipherFunction=l,d.write.cipherFunction=u,d.read.macLength=d.write.macLength=g.mac_length,d.read.macFunction=d.write.macFunction=r.hmac_sha1}function u(d,h){var g=!1,I=h.macFunction(h.macKey,h.sequenceNumber,d);d.fragment.putBytes(I),h.updateSequenceNumber();var C;d.version.minor===r.Versions.TLS_1_0.minor?C=h.cipherState.init?null:h.cipherState.iv:C=t.random.getBytesSync(16),h.cipherState.init=!0;var _=h.cipherState.cipher;return _.start({iv:C}),d.version.minor>=r.Versions.TLS_1_1.minor&&_.output.putBytes(C),_.update(d.fragment),_.finish(c)&&(d.fragment=_.output,d.length=d.fragment.length(),g=!0),g}function c(d,h,g){if(!g){var I=d-h.length()%d;h.fillWithByte(I-1,I)}return!0}function f(d,h,g){var I=!0;if(g){for(var C=h.length(),_=h.last(),T=C-1-_;T<C-1;++T)I=I&&h.at(T)==_;I&&h.truncate(_+1)}return I}function l(d,h){var g=!1,I;d.version.minor===r.Versions.TLS_1_0.minor?I=h.cipherState.init?null:h.cipherState.iv:I=d.fragment.getBytes(16),h.cipherState.init=!0;var C=h.cipherState.cipher;C.start({iv:I}),C.update(d.fragment),g=C.finish(f);var _=h.macLength,T=t.random.getBytesSync(_),N=C.output.length();N>=_?(d.fragment=C.output.getBytes(N-_),T=C.output.getBytes(_)):d.fragment=C.output.getBytes(),d.fragment=t.util.createBuffer(d.fragment),d.length=d.fragment.length();var B=h.macFunction(h.macKey,h.sequenceNumber,d);return h.updateSequenceNumber(),g=s(h.macKey,T,B)&&g,g}function s(d,h,g){var I=t.hmac.create();return I.start("SHA1",d),I.update(h),h=I.digest().getBytes(),I.start(null,null),I.update(g),g=I.digest().getBytes(),h===g}}),M1=Qe((e,n)=>{var t=lt();ca(),St();var r=n.exports=t.sha512=t.sha512||{};t.md.sha512=t.md.algorithms.sha512=r;var a=t.sha384=t.sha512.sha384=t.sha512.sha384||{};a.create=function(){return r.create("SHA-384")},t.md.sha384=t.md.algorithms.sha384=a,t.sha512.sha256=t.sha512.sha256||{create:function(){return r.create("SHA-512/256")}},t.md["sha512/256"]=t.md.algorithms["sha512/256"]=t.sha512.sha256,t.sha512.sha224=t.sha512.sha224||{create:function(){return r.create("SHA-512/224")}},t.md["sha512/224"]=t.md.algorithms["sha512/224"]=t.sha512.sha224,r.create=function(h){if(c||s(),typeof h>"u"&&(h="SHA-512"),!(h in l))throw new Error("Invalid SHA-512 algorithm: "+h);for(var g=l[h],I=null,C=t.util.createBuffer(),_=new Array(80),T=0;T<80;++T)_[T]=new Array(2);var N=64;switch(h){case"SHA-384":N=48;break;case"SHA-512/256":N=32;break;case"SHA-512/224":N=28;break}var B={algorithm:h.replace("-","").toLowerCase(),blockLength:128,digestLength:N,messageLength:0,fullMessageLength:null,messageLengthSize:16};return B.start=function(){B.messageLength=0,B.fullMessageLength=B.messageLength128=[];for(var p=B.messageLengthSize/4,A=0;A<p;++A)B.fullMessageLength.push(0);C=t.util.createBuffer(),I=new Array(g.length);for(var A=0;A<g.length;++A)I[A]=g[A].slice(0);return B},B.start(),B.update=function(p,A){A==="utf8"&&(p=t.util.encodeUtf8(p));var S=p.length;B.messageLength+=S,S=[S/4294967296>>>0,S>>>0];for(var O=B.fullMessageLength.length-1;O>=0;--O)B.fullMessageLength[O]+=S[1],S[1]=S[0]+(B.fullMessageLength[O]/4294967296>>>0),B.fullMessageLength[O]=B.fullMessageLength[O]>>>0,S[0]=S[1]/4294967296>>>0;return C.putBytes(p),d(I,_,C),(C.read>2048||C.length()===0)&&C.compact(),B},B.digest=function(){var p=t.util.createBuffer();p.putBytes(C.bytes());var A=B.fullMessageLength[B.fullMessageLength.length-1]+B.messageLengthSize,S=A&B.blockLength-1;p.putBytes(u.substr(0,B.blockLength-S));for(var O,D,E=B.fullMessageLength[0]*8,m=0;m<B.fullMessageLength.length-1;++m)O=B.fullMessageLength[m+1]*8,D=O/4294967296>>>0,E+=D,p.putInt32(E>>>0),E=O>>>0;p.putInt32(E);for(var y=new Array(I.length),m=0;m<I.length;++m)y[m]=I[m].slice(0);d(y,_,p);var q=t.util.createBuffer(),M;h==="SHA-512"?M=y.length:h==="SHA-384"?M=y.length-2:M=y.length-4;for(var m=0;m<M;++m)q.putInt32(y[m][0]),(m!==M-1||h!=="SHA-512/224")&&q.putInt32(y[m][1]);return q},B};var u=null,c=!1,f=null,l=null;function s(){u=String.fromCharCode(128),u+=t.util.fillString(String.fromCharCode(0),128),f=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],l={},l["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],l["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],l["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],l["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],c=!0}function d(h,g,I){for(var C,_,T,N,B,p,A,S,O,D,E,m,y,q,M,V,w,x,j,L,F,J,oe,se,de,ke,Le,Ve,Ee,We,Ce,et,Xe,P,Y,G=I.length();G>=128;){for(Ee=0;Ee<16;++Ee)g[Ee][0]=I.getInt32()>>>0,g[Ee][1]=I.getInt32()>>>0;for(;Ee<80;++Ee)et=g[Ee-2],We=et[0],Ce=et[1],C=((We>>>19|Ce<<13)^(Ce>>>29|We<<3)^We>>>6)>>>0,_=((We<<13|Ce>>>19)^(Ce<<3|We>>>29)^(We<<26|Ce>>>6))>>>0,P=g[Ee-15],We=P[0],Ce=P[1],T=((We>>>1|Ce<<31)^(We>>>8|Ce<<24)^We>>>7)>>>0,N=((We<<31|Ce>>>1)^(We<<24|Ce>>>8)^(We<<25|Ce>>>7))>>>0,Xe=g[Ee-7],Y=g[Ee-16],Ce=_+Xe[1]+N+Y[1],g[Ee][0]=C+Xe[0]+T+Y[0]+(Ce/4294967296>>>0)>>>0,g[Ee][1]=Ce>>>0;for(y=h[0][0],q=h[0][1],M=h[1][0],V=h[1][1],w=h[2][0],x=h[2][1],j=h[3][0],L=h[3][1],F=h[4][0],J=h[4][1],oe=h[5][0],se=h[5][1],de=h[6][0],ke=h[6][1],Le=h[7][0],Ve=h[7][1],Ee=0;Ee<80;++Ee)A=((F>>>14|J<<18)^(F>>>18|J<<14)^(J>>>9|F<<23))>>>0,S=((F<<18|J>>>14)^(F<<14|J>>>18)^(J<<23|F>>>9))>>>0,O=(de^F&(oe^de))>>>0,D=(ke^J&(se^ke))>>>0,B=((y>>>28|q<<4)^(q>>>2|y<<30)^(q>>>7|y<<25))>>>0,p=((y<<4|q>>>28)^(q<<30|y>>>2)^(q<<25|y>>>7))>>>0,E=(y&M|w&(y^M))>>>0,m=(q&V|x&(q^V))>>>0,Ce=Ve+S+D+f[Ee][1]+g[Ee][1],C=Le+A+O+f[Ee][0]+g[Ee][0]+(Ce/4294967296>>>0)>>>0,_=Ce>>>0,Ce=p+m,T=B+E+(Ce/4294967296>>>0)>>>0,N=Ce>>>0,Le=de,Ve=ke,de=oe,ke=se,oe=F,se=J,Ce=L+_,F=j+C+(Ce/4294967296>>>0)>>>0,J=Ce>>>0,j=w,L=x,w=M,x=V,M=y,V=q,Ce=_+N,y=C+T+(Ce/4294967296>>>0)>>>0,q=Ce>>>0;Ce=h[0][1]+q,h[0][0]=h[0][0]+y+(Ce/4294967296>>>0)>>>0,h[0][1]=Ce>>>0,Ce=h[1][1]+V,h[1][0]=h[1][0]+M+(Ce/4294967296>>>0)>>>0,h[1][1]=Ce>>>0,Ce=h[2][1]+x,h[2][0]=h[2][0]+w+(Ce/4294967296>>>0)>>>0,h[2][1]=Ce>>>0,Ce=h[3][1]+L,h[3][0]=h[3][0]+j+(Ce/4294967296>>>0)>>>0,h[3][1]=Ce>>>0,Ce=h[4][1]+J,h[4][0]=h[4][0]+F+(Ce/4294967296>>>0)>>>0,h[4][1]=Ce>>>0,Ce=h[5][1]+se,h[5][0]=h[5][0]+oe+(Ce/4294967296>>>0)>>>0,h[5][1]=Ce>>>0,Ce=h[6][1]+ke,h[6][0]=h[6][0]+de+(Ce/4294967296>>>0)>>>0,h[6][1]=Ce>>>0,Ce=h[7][1]+Ve,h[7][0]=h[7][0]+Le+(Ce/4294967296>>>0)>>>0,h[7][1]=Ce>>>0,G-=128}}}),RA=Qe(e=>{var n=lt();Ri();var t=n.asn1;e.privateKeyValidator={name:"PrivateKeyInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},e.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:t.Class.UNIVERSAL,type:t.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}}),kA=Qe((e,n)=>{var t=lt();rf(),oi(),M1(),St();var r=RA(),a=r.publicKeyValidator,u=r.privateKeyValidator;typeof c>"u"&&(c=t.jsbn.BigInteger);var c,f=t.util.ByteBuffer,l=typeof Buffer>"u"?Uint8Array:Buffer;t.pki=t.pki||{},n.exports=t.pki.ed25519=t.ed25519=t.ed25519||{};var s=t.ed25519;s.constants={},s.constants.PUBLIC_KEY_BYTE_LENGTH=32,s.constants.PRIVATE_KEY_BYTE_LENGTH=64,s.constants.SEED_BYTE_LENGTH=32,s.constants.SIGN_BYTE_LENGTH=64,s.constants.HASH_BYTE_LENGTH=64,s.generateKeyPair=function(P){P=P||{};var Y=P.seed;if(Y===void 0)Y=t.random.getBytesSync(s.constants.SEED_BYTE_LENGTH);else if(typeof Y=="string"){if(Y.length!==s.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+s.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(Y instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');Y=d({message:Y,encoding:"binary"});for(var G=new l(s.constants.PUBLIC_KEY_BYTE_LENGTH),R=new l(s.constants.PRIVATE_KEY_BYTE_LENGTH),H=0;H<32;++H)R[H]=Y[H];return A(G,R),{publicKey:G,privateKey:R}},s.privateKeyFromAsn1=function(P){var Y={},G=[],R=t.asn1.validate(P,u,Y,G);if(!R){var H=new Error("Invalid Key.");throw H.errors=G,H}var ie=t.asn1.derToOid(Y.privateKeyOid),ee=t.oids.EdDSA25519;if(ie!==ee)throw new Error('Invalid OID "'+ie+'"; OID must be "'+ee+'".');var _e=Y.privateKey,xe=d({message:t.asn1.fromDer(_e).value,encoding:"binary"});return{privateKeyBytes:xe}},s.publicKeyFromAsn1=function(P){var Y={},G=[],R=t.asn1.validate(P,a,Y,G);if(!R){var H=new Error("Invalid Key.");throw H.errors=G,H}var ie=t.asn1.derToOid(Y.publicKeyOid),ee=t.oids.EdDSA25519;if(ie!==ee)throw new Error('Invalid OID "'+ie+'"; OID must be "'+ee+'".');var _e=Y.ed25519PublicKey;if(_e.length!==s.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return d({message:_e,encoding:"binary"})},s.publicKeyFromPrivateKey=function(P){P=P||{};var Y=d({message:P.privateKey,encoding:"binary"});if(Y.length!==s.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+s.constants.PRIVATE_KEY_BYTE_LENGTH);for(var G=new l(s.constants.PUBLIC_KEY_BYTE_LENGTH),R=0;R<G.length;++R)G[R]=Y[32+R];return G},s.sign=function(P){P=P||{};var Y=d(P),G=d({message:P.privateKey,encoding:"binary"});if(G.length===s.constants.SEED_BYTE_LENGTH){var R=s.generateKeyPair({seed:G});G=R.privateKey}else if(G.length!==s.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+s.constants.SEED_BYTE_LENGTH+" or "+s.constants.PRIVATE_KEY_BYTE_LENGTH);var H=new l(s.constants.SIGN_BYTE_LENGTH+Y.length);S(H,Y,Y.length,G);for(var ie=new l(s.constants.SIGN_BYTE_LENGTH),ee=0;ee<ie.length;++ee)ie[ee]=H[ee];return ie},s.verify=function(P){P=P||{};var Y=d(P);if(P.signature===void 0)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var G=d({message:P.signature,encoding:"binary"});if(G.length!==s.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+s.constants.SIGN_BYTE_LENGTH);var R=d({message:P.publicKey,encoding:"binary"});if(R.length!==s.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+s.constants.PUBLIC_KEY_BYTE_LENGTH);var H=new l(s.constants.SIGN_BYTE_LENGTH+Y.length),ie=new l(s.constants.SIGN_BYTE_LENGTH+Y.length),ee;for(ee=0;ee<s.constants.SIGN_BYTE_LENGTH;++ee)H[ee]=G[ee];for(ee=0;ee<Y.length;++ee)H[ee+s.constants.SIGN_BYTE_LENGTH]=Y[ee];return O(ie,H,H.length,R)>=0};function d(P){var Y=P.message;if(Y instanceof Uint8Array||Y instanceof l)return Y;var G=P.encoding;if(Y===void 0)if(P.md)Y=P.md.digest().getBytes(),G="binary";else throw new TypeError('"options.message" or "options.md" not specified.');if(typeof Y=="string"&&!G)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if(typeof Y=="string"){if(typeof Buffer<"u")return Buffer.from(Y,G);Y=new f(Y,G)}else if(!(Y instanceof f))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var R=new l(Y.length()),H=0;H<R.length;++H)R[H]=Y.at(H);return R}var h=Ee(),g=Ee([1]),I=Ee([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),C=Ee([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),_=Ee([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),T=Ee([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),N=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),B=Ee([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function p(P,Y){var G=t.md.sha512.create(),R=new f(P);G.update(R.getBytes(Y),"binary");var H=G.digest().getBytes();if(typeof Buffer<"u")return Buffer.from(H,"binary");for(var ie=new l(s.constants.HASH_BYTE_LENGTH),ee=0;ee<64;++ee)ie[ee]=H.charCodeAt(ee);return ie}function A(P,Y){var G=[Ee(),Ee(),Ee(),Ee()],R,H=p(Y,32);for(H[0]&=248,H[31]&=127,H[31]|=64,se(G,H),q(P,G),R=0;R<32;++R)Y[R+32]=P[R];return 0}function S(P,Y,G,R){var H,ie,ee=new Float64Array(64),_e=[Ee(),Ee(),Ee(),Ee()],xe=p(R,32);xe[0]&=248,xe[31]&=127,xe[31]|=64;var je=G+64;for(H=0;H<G;++H)P[64+H]=Y[H];for(H=0;H<32;++H)P[32+H]=xe[32+H];var ye=p(P.subarray(32),G+32);for(E(ye),se(_e,ye),q(P,_e),H=32;H<64;++H)P[H]=R[H];var Oe=p(P,G+64);for(E(Oe),H=32;H<64;++H)ee[H]=0;for(H=0;H<32;++H)ee[H]=ye[H];for(H=0;H<32;++H)for(ie=0;ie<32;ie++)ee[H+ie]+=Oe[H]*xe[ie];return D(P.subarray(32),ee),je}function O(P,Y,G,R){var H,ie,ee=new l(32),_e=[Ee(),Ee(),Ee(),Ee()],xe=[Ee(),Ee(),Ee(),Ee()];if(ie=-1,G<64||V(xe,R))return-1;for(H=0;H<G;++H)P[H]=Y[H];for(H=0;H<32;++H)P[H+32]=R[H];var je=p(P,G);if(E(je),oe(_e,xe,je),se(xe,Y.subarray(32)),m(_e,xe),q(ee,_e),G-=64,L(Y,0,ee,0)){for(H=0;H<G;++H)P[H]=0;return-1}for(H=0;H<G;++H)P[H]=Y[H+64];return ie=G,ie}function D(P,Y){var G,R,H,ie;for(R=63;R>=32;--R){for(G=0,H=R-32,ie=R-12;H<ie;++H)Y[H]+=G-16*Y[R]*N[H-(R-32)],G=Y[H]+128>>8,Y[H]-=G*256;Y[H]+=G,Y[R]=0}for(G=0,H=0;H<32;++H)Y[H]+=G-(Y[31]>>4)*N[H],G=Y[H]>>8,Y[H]&=255;for(H=0;H<32;++H)Y[H]-=G*N[H];for(R=0;R<32;++R)Y[R+1]+=Y[R]>>8,P[R]=Y[R]&255}function E(P){for(var Y=new Float64Array(64),G=0;G<64;++G)Y[G]=P[G],P[G]=0;D(P,Y)}function m(P,Y){var G=Ee(),R=Ee(),H=Ee(),ie=Ee(),ee=Ee(),_e=Ee(),xe=Ee(),je=Ee(),ye=Ee();Ce(G,P[1],P[0]),Ce(ye,Y[1],Y[0]),Xe(G,G,ye),We(R,P[0],P[1]),We(ye,Y[0],Y[1]),Xe(R,R,ye),Xe(H,P[3],Y[3]),Xe(H,H,C),Xe(ie,P[2],Y[2]),We(ie,ie,ie),Ce(ee,R,G),Ce(_e,ie,H),We(xe,ie,H),We(je,R,G),Xe(P[0],ee,_e),Xe(P[1],je,xe),Xe(P[2],xe,_e),Xe(P[3],ee,je)}function y(P,Y,G){for(var R=0;R<4;++R)Ve(P[R],Y[R],G)}function q(P,Y){var G=Ee(),R=Ee(),H=Ee();ke(H,Y[2]),Xe(G,Y[0],H),Xe(R,Y[1],H),M(P,R),P[31]^=J(G)<<7}function M(P,Y){var G,R,H,ie=Ee(),ee=Ee();for(G=0;G<16;++G)ee[G]=Y[G];for(Le(ee),Le(ee),Le(ee),R=0;R<2;++R){for(ie[0]=ee[0]-65517,G=1;G<15;++G)ie[G]=ee[G]-65535-(ie[G-1]>>16&1),ie[G-1]&=65535;ie[15]=ee[15]-32767-(ie[14]>>16&1),H=ie[15]>>16&1,ie[14]&=65535,Ve(ee,ie,1-H)}for(G=0;G<16;G++)P[2*G]=ee[G]&255,P[2*G+1]=ee[G]>>8}function V(P,Y){var G=Ee(),R=Ee(),H=Ee(),ie=Ee(),ee=Ee(),_e=Ee(),xe=Ee();return de(P[2],g),w(P[1],Y),et(H,P[1]),Xe(ie,H,I),Ce(H,H,P[2]),We(ie,P[2],ie),et(ee,ie),et(_e,ee),Xe(xe,_e,ee),Xe(G,xe,H),Xe(G,G,ie),x(G,G),Xe(G,G,H),Xe(G,G,ie),Xe(G,G,ie),Xe(P[0],G,ie),et(R,P[0]),Xe(R,R,ie),j(R,H)&&Xe(P[0],P[0],B),et(R,P[0]),Xe(R,R,ie),j(R,H)?-1:(J(P[0])===Y[31]>>7&&Ce(P[0],h,P[0]),Xe(P[3],P[0],P[1]),0)}function w(P,Y){var G;for(G=0;G<16;++G)P[G]=Y[2*G]+(Y[2*G+1]<<8);P[15]&=32767}function x(P,Y){var G=Ee(),R;for(R=0;R<16;++R)G[R]=Y[R];for(R=250;R>=0;--R)et(G,G),R!==1&&Xe(G,G,Y);for(R=0;R<16;++R)P[R]=G[R]}function j(P,Y){var G=new l(32),R=new l(32);return M(G,P),M(R,Y),L(G,0,R,0)}function L(P,Y,G,R){return F(P,Y,G,R,32)}function F(P,Y,G,R,H){var ie,ee=0;for(ie=0;ie<H;++ie)ee|=P[Y+ie]^G[R+ie];return(1&ee-1>>>8)-1}function J(P){var Y=new l(32);return M(Y,P),Y[0]&1}function oe(P,Y,G){var R,H;for(de(P[0],h),de(P[1],g),de(P[2],g),de(P[3],h),H=255;H>=0;--H)R=G[H/8|0]>>(H&7)&1,y(P,Y,R),m(Y,P),m(P,P),y(P,Y,R)}function se(P,Y){var G=[Ee(),Ee(),Ee(),Ee()];de(G[0],_),de(G[1],T),de(G[2],g),Xe(G[3],_,T),oe(P,G,Y)}function de(P,Y){var G;for(G=0;G<16;G++)P[G]=Y[G]|0}function ke(P,Y){var G=Ee(),R;for(R=0;R<16;++R)G[R]=Y[R];for(R=253;R>=0;--R)et(G,G),R!==2&&R!==4&&Xe(G,G,Y);for(R=0;R<16;++R)P[R]=G[R]}function Le(P){var Y,G,R=1;for(Y=0;Y<16;++Y)G=P[Y]+R+65535,R=Math.floor(G/65536),P[Y]=G-R*65536;P[0]+=R-1+37*(R-1)}function Ve(P,Y,G){for(var R,H=~(G-1),ie=0;ie<16;++ie)R=H&(P[ie]^Y[ie]),P[ie]^=R,Y[ie]^=R}function Ee(P){var Y,G=new Float64Array(16);if(P)for(Y=0;Y<P.length;++Y)G[Y]=P[Y];return G}function We(P,Y,G){for(var R=0;R<16;++R)P[R]=Y[R]+G[R]}function Ce(P,Y,G){for(var R=0;R<16;++R)P[R]=Y[R]-G[R]}function et(P,Y){Xe(P,Y,Y)}function Xe(P,Y,G){var R,H,ie=0,ee=0,_e=0,xe=0,je=0,ye=0,Oe=0,He=0,rt=0,$e=0,kt=0,Et=0,Ct=0,Ot=0,Bt=0,Lt=0,zt=0,Yt=0,$t=0,Kt=0,ur=0,Er=0,yr=0,jr=0,un=0,Gr=0,Qr=0,bn=0,ui=0,Vr=0,Ln=0,xt=G[0],Ut=G[1],Zt=G[2],Dt=G[3],Ht=G[4],Xt=G[5],Wt=G[6],Gt=G[7],tr=G[8],rr=G[9],nr=G[10],Jt=G[11],ir=G[12],lr=G[13],Mt=G[14],er=G[15];R=Y[0],ie+=R*xt,ee+=R*Ut,_e+=R*Zt,xe+=R*Dt,je+=R*Ht,ye+=R*Xt,Oe+=R*Wt,He+=R*Gt,rt+=R*tr,$e+=R*rr,kt+=R*nr,Et+=R*Jt,Ct+=R*ir,Ot+=R*lr,Bt+=R*Mt,Lt+=R*er,R=Y[1],ee+=R*xt,_e+=R*Ut,xe+=R*Zt,je+=R*Dt,ye+=R*Ht,Oe+=R*Xt,He+=R*Wt,rt+=R*Gt,$e+=R*tr,kt+=R*rr,Et+=R*nr,Ct+=R*Jt,Ot+=R*ir,Bt+=R*lr,Lt+=R*Mt,zt+=R*er,R=Y[2],_e+=R*xt,xe+=R*Ut,je+=R*Zt,ye+=R*Dt,Oe+=R*Ht,He+=R*Xt,rt+=R*Wt,$e+=R*Gt,kt+=R*tr,Et+=R*rr,Ct+=R*nr,Ot+=R*Jt,Bt+=R*ir,Lt+=R*lr,zt+=R*Mt,Yt+=R*er,R=Y[3],xe+=R*xt,je+=R*Ut,ye+=R*Zt,Oe+=R*Dt,He+=R*Ht,rt+=R*Xt,$e+=R*Wt,kt+=R*Gt,Et+=R*tr,Ct+=R*rr,Ot+=R*nr,Bt+=R*Jt,Lt+=R*ir,zt+=R*lr,Yt+=R*Mt,$t+=R*er,R=Y[4],je+=R*xt,ye+=R*Ut,Oe+=R*Zt,He+=R*Dt,rt+=R*Ht,$e+=R*Xt,kt+=R*Wt,Et+=R*Gt,Ct+=R*tr,Ot+=R*rr,Bt+=R*nr,Lt+=R*Jt,zt+=R*ir,Yt+=R*lr,$t+=R*Mt,Kt+=R*er,R=Y[5],ye+=R*xt,Oe+=R*Ut,He+=R*Zt,rt+=R*Dt,$e+=R*Ht,kt+=R*Xt,Et+=R*Wt,Ct+=R*Gt,Ot+=R*tr,Bt+=R*rr,Lt+=R*nr,zt+=R*Jt,Yt+=R*ir,$t+=R*lr,Kt+=R*Mt,ur+=R*er,R=Y[6],Oe+=R*xt,He+=R*Ut,rt+=R*Zt,$e+=R*Dt,kt+=R*Ht,Et+=R*Xt,Ct+=R*Wt,Ot+=R*Gt,Bt+=R*tr,Lt+=R*rr,zt+=R*nr,Yt+=R*Jt,$t+=R*ir,Kt+=R*lr,ur+=R*Mt,Er+=R*er,R=Y[7],He+=R*xt,rt+=R*Ut,$e+=R*Zt,kt+=R*Dt,Et+=R*Ht,Ct+=R*Xt,Ot+=R*Wt,Bt+=R*Gt,Lt+=R*tr,zt+=R*rr,Yt+=R*nr,$t+=R*Jt,Kt+=R*ir,ur+=R*lr,Er+=R*Mt,yr+=R*er,R=Y[8],rt+=R*xt,$e+=R*Ut,kt+=R*Zt,Et+=R*Dt,Ct+=R*Ht,Ot+=R*Xt,Bt+=R*Wt,Lt+=R*Gt,zt+=R*tr,Yt+=R*rr,$t+=R*nr,Kt+=R*Jt,ur+=R*ir,Er+=R*lr,yr+=R*Mt,jr+=R*er,R=Y[9],$e+=R*xt,kt+=R*Ut,Et+=R*Zt,Ct+=R*Dt,Ot+=R*Ht,Bt+=R*Xt,Lt+=R*Wt,zt+=R*Gt,Yt+=R*tr,$t+=R*rr,Kt+=R*nr,ur+=R*Jt,Er+=R*ir,yr+=R*lr,jr+=R*Mt,un+=R*er,R=Y[10],kt+=R*xt,Et+=R*Ut,Ct+=R*Zt,Ot+=R*Dt,Bt+=R*Ht,Lt+=R*Xt,zt+=R*Wt,Yt+=R*Gt,$t+=R*tr,Kt+=R*rr,ur+=R*nr,Er+=R*Jt,yr+=R*ir,jr+=R*lr,un+=R*Mt,Gr+=R*er,R=Y[11],Et+=R*xt,Ct+=R*Ut,Ot+=R*Zt,Bt+=R*Dt,Lt+=R*Ht,zt+=R*Xt,Yt+=R*Wt,$t+=R*Gt,Kt+=R*tr,ur+=R*rr,Er+=R*nr,yr+=R*Jt,jr+=R*ir,un+=R*lr,Gr+=R*Mt,Qr+=R*er,R=Y[12],Ct+=R*xt,Ot+=R*Ut,Bt+=R*Zt,Lt+=R*Dt,zt+=R*Ht,Yt+=R*Xt,$t+=R*Wt,Kt+=R*Gt,ur+=R*tr,Er+=R*rr,yr+=R*nr,jr+=R*Jt,un+=R*ir,Gr+=R*lr,Qr+=R*Mt,bn+=R*er,R=Y[13],Ot+=R*xt,Bt+=R*Ut,Lt+=R*Zt,zt+=R*Dt,Yt+=R*Ht,$t+=R*Xt,Kt+=R*Wt,ur+=R*Gt,Er+=R*tr,yr+=R*rr,jr+=R*nr,un+=R*Jt,Gr+=R*ir,Qr+=R*lr,bn+=R*Mt,ui+=R*er,R=Y[14],Bt+=R*xt,Lt+=R*Ut,zt+=R*Zt,Yt+=R*Dt,$t+=R*Ht,Kt+=R*Xt,ur+=R*Wt,Er+=R*Gt,yr+=R*tr,jr+=R*rr,un+=R*nr,Gr+=R*Jt,Qr+=R*ir,bn+=R*lr,ui+=R*Mt,Vr+=R*er,R=Y[15],Lt+=R*xt,zt+=R*Ut,Yt+=R*Zt,$t+=R*Dt,Kt+=R*Ht,ur+=R*Xt,Er+=R*Wt,yr+=R*Gt,jr+=R*tr,un+=R*rr,Gr+=R*nr,Qr+=R*Jt,bn+=R*ir,ui+=R*lr,Vr+=R*Mt,Ln+=R*er,ie+=38*zt,ee+=38*Yt,_e+=38*$t,xe+=38*Kt,je+=38*ur,ye+=38*Er,Oe+=38*yr,He+=38*jr,rt+=38*un,$e+=38*Gr,kt+=38*Qr,Et+=38*bn,Ct+=38*ui,Ot+=38*Vr,Bt+=38*Ln,H=1,R=ie+H+65535,H=Math.floor(R/65536),ie=R-H*65536,R=ee+H+65535,H=Math.floor(R/65536),ee=R-H*65536,R=_e+H+65535,H=Math.floor(R/65536),_e=R-H*65536,R=xe+H+65535,H=Math.floor(R/65536),xe=R-H*65536,R=je+H+65535,H=Math.floor(R/65536),je=R-H*65536,R=ye+H+65535,H=Math.floor(R/65536),ye=R-H*65536,R=Oe+H+65535,H=Math.floor(R/65536),Oe=R-H*65536,R=He+H+65535,H=Math.floor(R/65536),He=R-H*65536,R=rt+H+65535,H=Math.floor(R/65536),rt=R-H*65536,R=$e+H+65535,H=Math.floor(R/65536),$e=R-H*65536,R=kt+H+65535,H=Math.floor(R/65536),kt=R-H*65536,R=Et+H+65535,H=Math.floor(R/65536),Et=R-H*65536,R=Ct+H+65535,H=Math.floor(R/65536),Ct=R-H*65536,R=Ot+H+65535,H=Math.floor(R/65536),Ot=R-H*65536,R=Bt+H+65535,H=Math.floor(R/65536),Bt=R-H*65536,R=Lt+H+65535,H=Math.floor(R/65536),Lt=R-H*65536,ie+=H-1+37*(H-1),H=1,R=ie+H+65535,H=Math.floor(R/65536),ie=R-H*65536,R=ee+H+65535,H=Math.floor(R/65536),ee=R-H*65536,R=_e+H+65535,H=Math.floor(R/65536),_e=R-H*65536,R=xe+H+65535,H=Math.floor(R/65536),xe=R-H*65536,R=je+H+65535,H=Math.floor(R/65536),je=R-H*65536,R=ye+H+65535,H=Math.floor(R/65536),ye=R-H*65536,R=Oe+H+65535,H=Math.floor(R/65536),Oe=R-H*65536,R=He+H+65535,H=Math.floor(R/65536),He=R-H*65536,R=rt+H+65535,H=Math.floor(R/65536),rt=R-H*65536,R=$e+H+65535,H=Math.floor(R/65536),$e=R-H*65536,R=kt+H+65535,H=Math.floor(R/65536),kt=R-H*65536,R=Et+H+65535,H=Math.floor(R/65536),Et=R-H*65536,R=Ct+H+65535,H=Math.floor(R/65536),Ct=R-H*65536,R=Ot+H+65535,H=Math.floor(R/65536),Ot=R-H*65536,R=Bt+H+65535,H=Math.floor(R/65536),Bt=R-H*65536,R=Lt+H+65535,H=Math.floor(R/65536),Lt=R-H*65536,ie+=H-1+37*(H-1),P[0]=ie,P[1]=ee,P[2]=_e,P[3]=xe,P[4]=je,P[5]=ye,P[6]=Oe,P[7]=He,P[8]=rt,P[9]=$e,P[10]=kt,P[11]=Et,P[12]=Ct,P[13]=Ot,P[14]=Bt,P[15]=Lt}}),BA=Qe((e,n)=>{var t=lt();St(),oi(),rf(),n.exports=t.kem=t.kem||{};var r=t.jsbn.BigInteger;t.kem.rsa={},t.kem.rsa.create=function(u,c){c=c||{};var f=c.prng||t.random,l={};return l.encrypt=function(s,d){var h=Math.ceil(s.n.bitLength()/8),g;do g=new r(t.util.bytesToHex(f.getBytesSync(h)),16).mod(s.n);while(g.compareTo(r.ONE)<=0);g=t.util.hexToBytes(g.toString(16));var I=h-g.length;I>0&&(g=t.util.fillString(String.fromCharCode(0),I)+g);var C=s.encrypt(g,"NONE"),_=u.generate(g,d);return{encapsulation:C,key:_}},l.decrypt=function(s,d,h){var g=s.decrypt(d,"NONE");return u.generate(g,h)},l},t.kem.kdf1=function(u,c){a(this,u,0,c||u.digestLength)},t.kem.kdf2=function(u,c){a(this,u,1,c||u.digestLength)};function a(u,c,f,l){u.generate=function(s,d){for(var h=new t.util.ByteBuffer,g=Math.ceil(d/l)+f,I=new t.util.ByteBuffer,C=f;C<g;++C){I.putInt32(C),c.start(),c.update(s+I.getBytes());var _=c.digest();h.putBytes(_.getBytes(l))}return h.truncate(h.length()-d),h.getBytes()}}}),NA=Qe((e,n)=>{var t=lt();St(),n.exports=t.log=t.log||{},t.log.levels=["none","error","warning","info","debug","verbose","max"];var r={},a=[],u=null;for(t.log.LEVEL_LOCKED=2,t.log.NO_LEVEL_CHECK=4,t.log.INTERPOLATE=8,l=0;l<t.log.levels.length;++l)c=t.log.levels[l],r[c]={index:l,name:c.toUpperCase()};var c,l;for(t.log.logMessage=function(C){for(var _=r[C.level].index,T=0;T<a.length;++T){var N=a[T];if(N.flags&t.log.NO_LEVEL_CHECK)N.f(C);else{var B=r[N.level].index;_<=B&&N.f(N,C)}}},t.log.prepareStandard=function(C){"standard"in C||(C.standard=r[C.level].name+" ["+C.category+"] "+C.message)},t.log.prepareFull=function(C){if(!("full"in C)){var _=[C.message];_=_.concat([]),C.full=t.util.format.apply(this,_)}},t.log.prepareStandardFull=function(C){"standardFull"in C||(t.log.prepareStandard(C),C.standardFull=C.standard)},f=["error","warning","info","debug","verbose"],l=0;l<f.length;++l)(function(C){t.log[C]=function(_,T){var N=Array.prototype.slice.call(arguments).slice(2),B={timestamp:new Date,level:C,category:_,message:T,arguments:N};t.log.logMessage(B)}})(f[l]);var f,l;t.log.makeLogger=function(C){var _={flags:0,f:C};return t.log.setLevel(_,"none"),_},t.log.setLevel=function(C,_){var T=!1;if(C&&!(C.flags&t.log.LEVEL_LOCKED))for(var N=0;N<t.log.levels.length;++N){var B=t.log.levels[N];if(_==B){C.level=_,T=!0;break}}return T},t.log.lock=function(C,_){typeof _>"u"||_?C.flags|=t.log.LEVEL_LOCKED:C.flags&=~t.log.LEVEL_LOCKED},t.log.addLogger=function(C){a.push(C)},typeof console<"u"&&"log"in console?(console.error&&console.warn&&console.info&&console.debug?(d={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},h=function(C,_){t.log.prepareStandard(_);var T=d[_.level],N=[_.standard];N=N.concat(_.arguments.slice()),T.apply(console,N)},s=t.log.makeLogger(h)):(h=function(C,_){t.log.prepareStandardFull(_),console.log(_.standardFull)},s=t.log.makeLogger(h)),t.log.setLevel(s,"debug"),t.log.addLogger(s),u=s):console={log:function(){}};var s,d,h;u!==null&&typeof window<"u"&&window.location&&(g=new URL(window.location.href).searchParams,g.has("console.level")&&t.log.setLevel(u,g.get("console.level").slice(-1)[0]),g.has("console.lock")&&(I=g.get("console.lock").slice(-1)[0],I=="true"&&t.log.lock(u)));var g,I;t.log.consoleLogger=u}),OA=Qe((e,n)=>{n.exports=ca(),Lp(),$u(),N1(),M1()}),LA=Qe((e,n)=>{var t=lt();ks(),Ri(),tf(),Bs(),Ro(),D1(),oi(),St(),Up();var r=t.asn1,a=n.exports=t.pkcs7=t.pkcs7||{};a.messageFromPem=function(_){var T=t.pem.decode(_)[0];if(T.type!=="PKCS7"){var N=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw N.headerType=T.type,N}if(T.procType&&T.procType.type==="ENCRYPTED")throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var B=r.fromDer(T.body);return a.messageFromAsn1(B)},a.messageToPem=function(_,T){var N={type:"PKCS7",body:r.toDer(_.toAsn1()).getBytes()};return t.pem.encode(N,{maxline:T})},a.messageFromAsn1=function(_){var T={},N=[];if(!r.validate(_,a.asn1.contentInfoValidator,T,N)){var B=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw B.errors=N,B}var p=r.derToOid(T.contentType),A;switch(p){case t.pki.oids.envelopedData:A=a.createEnvelopedData();break;case t.pki.oids.encryptedData:A=a.createEncryptedData();break;case t.pki.oids.signedData:A=a.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+p+" is not (yet) supported.")}return A.fromAsn1(T.content.value[0]),A},a.createSignedData=function(){var _=null;return _={type:t.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(B){if(I(_,B,a.asn1.signedDataValidator),_.certificates=[],_.crls=[],_.digestAlgorithmIdentifiers=[],_.contentInfo=null,_.signerInfos=[],_.rawCapture.certificates)for(var p=_.rawCapture.certificates.value,A=0;A<p.length;++A)_.certificates.push(t.pki.certificateFromAsn1(p[A]))},toAsn1:function(){_.contentInfo||_.sign();for(var B=[],p=0;p<_.certificates.length;++p)B.push(t.pki.certificateToAsn1(_.certificates[p]));var A=[],S=r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(_.version).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SET,!0,_.digestAlgorithmIdentifiers),_.contentInfo])]);return B.length>0&&S.value[0].value.push(r.create(r.Class.CONTEXT_SPECIFIC,0,!0,B)),A.length>0&&S.value[0].value.push(r.create(r.Class.CONTEXT_SPECIFIC,1,!0,A)),S.value[0].value.push(r.create(r.Class.UNIVERSAL,r.Type.SET,!0,_.signerInfos)),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(_.type).getBytes()),S])},addSigner:function(B){var p=B.issuer,A=B.serialNumber;if(B.certificate){var S=B.certificate;typeof S=="string"&&(S=t.pki.certificateFromPem(S)),p=S.issuer.attributes,A=S.serialNumber}var O=B.key;if(!O)throw new Error("Could not add PKCS#7 signer; no private key specified.");typeof O=="string"&&(O=t.pki.privateKeyFromPem(O));var D=B.digestAlgorithm||t.pki.oids.sha1;switch(D){case t.pki.oids.sha1:case t.pki.oids.sha256:case t.pki.oids.sha384:case t.pki.oids.sha512:case t.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+D)}var E=B.authenticatedAttributes||[];if(E.length>0){for(var m=!1,y=!1,q=0;q<E.length;++q){var M=E[q];if(!m&&M.type===t.pki.oids.contentType){if(m=!0,y)break;continue}if(!y&&M.type===t.pki.oids.messageDigest){if(y=!0,m)break;continue}}if(!m||!y)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}_.signers.push({key:O,version:1,issuer:p,serialNumber:A,digestAlgorithm:D,signatureAlgorithm:t.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:E,unauthenticatedAttributes:[]})},sign:function(B){if(B=B||{},(typeof _.content!="object"||_.contentInfo===null)&&(_.contentInfo=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(t.pki.oids.data).getBytes())]),"content"in _)){var p;_.content instanceof t.util.ByteBuffer?p=_.content.bytes():typeof _.content=="string"&&(p=t.util.encodeUtf8(_.content)),B.detached?_.detachedContent=r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,p):_.contentInfo.value.push(r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,p)]))}if(_.signers.length!==0){var A=T();N(A)}},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(B){typeof B=="string"&&(B=t.pki.certificateFromPem(B)),_.certificates.push(B)},addCertificateRevokationList:function(B){throw new Error("PKCS#7 CRL support not yet implemented.")}},_;function T(){for(var B={},p=0;p<_.signers.length;++p){var A=_.signers[p],S=A.digestAlgorithm;S in B||(B[S]=t.md[t.pki.oids[S]].create()),A.authenticatedAttributes.length===0?A.md=B[S]:A.md=t.md[t.pki.oids[S]].create()}_.digestAlgorithmIdentifiers=[];for(var S in B)_.digestAlgorithmIdentifiers.push(r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(S).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")]));return B}function N(B){var p;if(_.detachedContent?p=_.detachedContent:(p=_.contentInfo.value[1],p=p.value[0]),!p)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var A=r.derToOid(_.contentInfo.value[0].value),S=r.toDer(p);S.getByte(),r.getBerValueLength(S),S=S.getBytes();for(var O in B)B[O].start().update(S);for(var D=new Date,E=0;E<_.signers.length;++E){var m=_.signers[E];if(m.authenticatedAttributes.length===0){if(A!==t.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{m.authenticatedAttributesAsn1=r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var y=r.create(r.Class.UNIVERSAL,r.Type.SET,!0,[]),q=0;q<m.authenticatedAttributes.length;++q){var M=m.authenticatedAttributes[q];M.type===t.pki.oids.messageDigest?M.value=B[m.digestAlgorithm].digest():M.type===t.pki.oids.signingTime&&(M.value||(M.value=D)),y.value.push(h(M)),m.authenticatedAttributesAsn1.value.push(h(M))}S=r.toDer(y).getBytes(),m.md.start().update(S)}m.signature=m.key.sign(m.md,"RSASSA-PKCS1-V1_5")}_.signerInfos=d(_.signers)}},a.createEncryptedData=function(){var _=null;return _={type:t.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:t.pki.oids["aes256-CBC"]},fromAsn1:function(T){I(_,T,a.asn1.encryptedDataValidator)},decrypt:function(T){T!==void 0&&(_.encryptedContent.key=T),C(_)}},_},a.createEnvelopedData=function(){var _=null;return _={type:t.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:t.pki.oids["aes256-CBC"]},fromAsn1:function(T){var N=I(_,T,a.asn1.envelopedDataValidator);_.recipients=f(N.recipientInfos.value)},toAsn1:function(){return r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(_.type).getBytes()),r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(_.version).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SET,!0,l(_.recipients)),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,g(_.encryptedContent))])])])},findRecipient:function(T){for(var N=T.issuer.attributes,B=0;B<_.recipients.length;++B){var p=_.recipients[B],A=p.issuer;if(p.serialNumber===T.serialNumber&&A.length===N.length){for(var S=!0,O=0;O<N.length;++O)if(A[O].type!==N[O].type||A[O].value!==N[O].value){S=!1;break}if(S)return p}}return null},decrypt:function(T,N){if(_.encryptedContent.key===void 0&&T!==void 0&&N!==void 0)switch(T.encryptedContent.algorithm){case t.pki.oids.rsaEncryption:case t.pki.oids.desCBC:var B=N.decrypt(T.encryptedContent.content);_.encryptedContent.key=t.util.createBuffer(B);break;default:throw new Error("Unsupported asymmetric cipher, OID "+T.encryptedContent.algorithm)}C(_)},addRecipient:function(T){_.recipients.push({version:0,issuer:T.issuer.attributes,serialNumber:T.serialNumber,encryptedContent:{algorithm:t.pki.oids.rsaEncryption,key:T.publicKey}})},encrypt:function(T,N){if(_.encryptedContent.content===void 0){N=N||_.encryptedContent.algorithm,T=T||_.encryptedContent.key;var B,p,A;switch(N){case t.pki.oids["aes128-CBC"]:B=16,p=16,A=t.aes.createEncryptionCipher;break;case t.pki.oids["aes192-CBC"]:B=24,p=16,A=t.aes.createEncryptionCipher;break;case t.pki.oids["aes256-CBC"]:B=32,p=16,A=t.aes.createEncryptionCipher;break;case t.pki.oids["des-EDE3-CBC"]:B=24,p=8,A=t.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+N)}if(T===void 0)T=t.util.createBuffer(t.random.getBytes(B));else if(T.length()!=B)throw new Error("Symmetric key has wrong length; got "+T.length()+" bytes, expected "+B+".");_.encryptedContent.algorithm=N,_.encryptedContent.key=T,_.encryptedContent.parameter=t.util.createBuffer(t.random.getBytes(p));var S=A(T);if(S.start(_.encryptedContent.parameter.copy()),S.update(_.content),!S.finish())throw new Error("Symmetric encryption failed.");_.encryptedContent.content=S.output}for(var O=0;O<_.recipients.length;++O){var D=_.recipients[O];if(D.encryptedContent.content===void 0)switch(D.encryptedContent.algorithm){case t.pki.oids.rsaEncryption:D.encryptedContent.content=D.encryptedContent.key.encrypt(_.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+D.encryptedContent.algorithm)}}}},_};function u(_){var T={},N=[];if(!r.validate(_,a.asn1.recipientInfoValidator,T,N)){var B=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw B.errors=N,B}return{version:T.version.charCodeAt(0),issuer:t.pki.RDNAttributesAsArray(T.issuer),serialNumber:t.util.createBuffer(T.serial).toHex(),encryptedContent:{algorithm:r.derToOid(T.encAlgorithm),parameter:T.encParameter?T.encParameter.value:void 0,content:T.encKey}}}function c(_){return r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(_.version).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[t.pki.distinguishedNameToAsn1({attributes:_.issuer}),r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,t.util.hexToBytes(_.serialNumber))]),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(_.encryptedContent.algorithm).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")]),r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,_.encryptedContent.content)])}function f(_){for(var T=[],N=0;N<_.length;++N)T.push(u(_[N]));return T}function l(_){for(var T=[],N=0;N<_.length;++N)T.push(c(_[N]));return T}function s(_){var T=r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,r.integerToDer(_.version).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[t.pki.distinguishedNameToAsn1({attributes:_.issuer}),r.create(r.Class.UNIVERSAL,r.Type.INTEGER,!1,t.util.hexToBytes(_.serialNumber))]),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(_.digestAlgorithm).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")])]);if(_.authenticatedAttributesAsn1&&T.value.push(_.authenticatedAttributesAsn1),T.value.push(r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(_.signatureAlgorithm).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.NULL,!1,"")])),T.value.push(r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,_.signature)),_.unauthenticatedAttributes.length>0){for(var N=r.create(r.Class.CONTEXT_SPECIFIC,1,!0,[]),B=0;B<_.unauthenticatedAttributes.length;++B){var p=_.unauthenticatedAttributes[B];N.values.push(h(p))}T.value.push(N)}return T}function d(_){for(var T=[],N=0;N<_.length;++N)T.push(s(_[N]));return T}function h(_){var T;if(_.type===t.pki.oids.contentType)T=r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(_.value).getBytes());else if(_.type===t.pki.oids.messageDigest)T=r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,_.value.bytes());else if(_.type===t.pki.oids.signingTime){var N=new Date("1950-01-01T00:00:00Z"),B=new Date("2050-01-01T00:00:00Z"),p=_.value;if(typeof p=="string"){var A=Date.parse(p);isNaN(A)?p.length===13?p=r.utcTimeToDate(p):p=r.generalizedTimeToDate(p):p=new Date(A)}p>=N&&p<B?T=r.create(r.Class.UNIVERSAL,r.Type.UTCTIME,!1,r.dateToUtcTime(p)):T=r.create(r.Class.UNIVERSAL,r.Type.GENERALIZEDTIME,!1,r.dateToGeneralizedTime(p))}return r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(_.type).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SET,!0,[T])])}function g(_){return[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(t.pki.oids.data).getBytes()),r.create(r.Class.UNIVERSAL,r.Type.SEQUENCE,!0,[r.create(r.Class.UNIVERSAL,r.Type.OID,!1,r.oidToDer(_.algorithm).getBytes()),_.parameter?r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,_.parameter.getBytes()):void 0]),r.create(r.Class.CONTEXT_SPECIFIC,0,!0,[r.create(r.Class.UNIVERSAL,r.Type.OCTETSTRING,!1,_.content.getBytes())])]}function I(_,T,N){var B={},p=[];if(!r.validate(T,N,B,p)){var A=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw A.errors=A,A}var S=r.derToOid(B.contentType);if(S!==t.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(B.encryptedContent){var O="";if(t.util.isArray(B.encryptedContent))for(var D=0;D<B.encryptedContent.length;++D){if(B.encryptedContent[D].type!==r.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");O+=B.encryptedContent[D].value}else O=B.encryptedContent;_.encryptedContent={algorithm:r.derToOid(B.encAlgorithm),parameter:t.util.createBuffer(B.encParameter.value),content:t.util.createBuffer(O)}}if(B.content){var O="";if(t.util.isArray(B.content))for(var D=0;D<B.content.length;++D){if(B.content[D].type!==r.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");O+=B.content[D].value}else O=B.content;_.content=t.util.createBuffer(O)}return _.version=B.version.charCodeAt(0),_.rawCapture=B,B}function C(_){if(_.encryptedContent.key===void 0)throw new Error("Symmetric key not available.");if(_.content===void 0){var T;switch(_.encryptedContent.algorithm){case t.pki.oids["aes128-CBC"]:case t.pki.oids["aes192-CBC"]:case t.pki.oids["aes256-CBC"]:T=t.aes.createDecryptionCipher(_.encryptedContent.key);break;case t.pki.oids.desCBC:case t.pki.oids["des-EDE3-CBC"]:T=t.des.createDecryptionCipher(_.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+_.encryptedContent.algorithm)}if(T.start(_.encryptedContent.parameter),T.update(_.encryptedContent.content),!T.finish())throw new Error("Symmetric decryption failed.");_.content=T.output}}}),PA=Qe((e,n)=>{var t=lt();ks(),zu(),Lp(),$u(),St();var r=n.exports=t.ssh=t.ssh||{};r.privateKeyToPutty=function(f,l,s){s=s||"",l=l||"";var d="ssh-rsa",h=l===""?"none":"aes256-cbc",g="PuTTY-User-Key-File-2: "+d+`\r
`;g+="Encryption: "+h+`\r
`,g+="Comment: "+s+`\r
`;var I=t.util.createBuffer();u(I,d),a(I,f.e),a(I,f.n);var C=t.util.encode64(I.bytes(),64),_=Math.floor(C.length/66)+1;g+="Public-Lines: "+_+`\r
`,g+=C;var T=t.util.createBuffer();a(T,f.d),a(T,f.p),a(T,f.q),a(T,f.qInv);var N;if(!l)N=t.util.encode64(T.bytes(),64);else{var B=T.length()+16-1;B-=B%16;var p=c(T.bytes());p.truncate(p.length()-B+T.length()),T.putBuffer(p);var A=t.util.createBuffer();A.putBuffer(c("\0\0\0\0",l)),A.putBuffer(c("\0\0\0",l));var S=t.aes.createEncryptionCipher(A.truncate(8),"CBC");S.start(t.util.createBuffer().fillWithByte(0,16)),S.update(T.copy()),S.finish();var O=S.output;O.truncate(16),N=t.util.encode64(O.bytes(),64)}_=Math.floor(N.length/66)+1,g+=`\r
Private-Lines: `+_+`\r
`,g+=N;var D=c("putty-private-key-file-mac-key",l),E=t.util.createBuffer();u(E,d),u(E,h),u(E,s),E.putInt32(I.length()),E.putBuffer(I),E.putInt32(T.length()),E.putBuffer(T);var m=t.hmac.create();return m.start("sha1",D),m.update(E.bytes()),g+=`\r
Private-MAC: `+m.digest().toHex()+`\r
`,g},r.publicKeyToOpenSSH=function(f,l){var s="ssh-rsa";l=l||"";var d=t.util.createBuffer();return u(d,s),a(d,f.e),a(d,f.n),s+" "+t.util.encode64(d.bytes())+" "+l},r.privateKeyToOpenSSH=function(f,l){return l?t.pki.encryptRsaPrivateKey(f,l,{legacy:!0,algorithm:"aes128"}):t.pki.privateKeyToPem(f)},r.getPublicKeyFingerprint=function(f,l){l=l||{};var s=l.md||t.md.md5.create(),d="ssh-rsa",h=t.util.createBuffer();u(h,d),a(h,f.e),a(h,f.n),s.start(),s.update(h.getBytes());var g=s.digest();if(l.encoding==="hex"){var I=g.toHex();return l.delimiter?I.match(/.{2}/g).join(l.delimiter):I}else{if(l.encoding==="binary")return g.getBytes();if(l.encoding)throw new Error('Unknown encoding "'+l.encoding+'".')}return g};function a(f,l){var s=l.toString(16);s[0]>="8"&&(s="00"+s);var d=t.util.hexToBytes(s);f.putInt32(d.length),f.putBytes(d)}function u(f,l){f.putInt32(l.length),f.putString(l)}function c(){for(var f=t.md.sha1.create(),l=arguments.length,s=0;s<l;++s)f.update(arguments[s]);return f.digest()}}),z1=Qe((e,n)=>{n.exports=lt(),ks(),IA(),Ri(),Op(),tf(),kA(),zu(),BA(),NA(),OA(),j1(),Pp(),Ro(),P1(),V1(),LA(),q1(),x1(),O1(),xp(),oi(),L1(),PA(),F1(),St()});function xA(e,n){return $1(n,(t,r)=>`${e}/${r}`)}function $1(e,n=(t,r)=>`${t}: ${r}`){return Object.entries(e).reduce((t,[r,a])=>(t[r]=n(r,a),t),{})}var Lu={Itero:"https://itero.plasmo.com"},UA={Base:"/api/chrome-policy",Hash:"/api/chrome-policy/hash"},e8=xA(Lu.Itero,UA),t8=Io(mA(),1),Im=65536;async function*pd(e,n=!0){for(let t of e)if("stream"in t)yield*t.stream();else if(ArrayBuffer.isView(t))if(n){let r=t.byteOffset,a=t.byteOffset+t.byteLength;for(;r!==a;){let u=Math.min(a-r,Im),c=t.buffer.slice(r,r+u);r+=c.byteLength,yield new Uint8Array(c)}}else yield t;else{let r=0,a=t;for(;r!==a.size;){let u=await a.slice(r,Math.min(a.size,r+Im)).arrayBuffer();r+=u.byteLength,yield new Uint8Array(u)}}}var K1=class Ud{#e=[];#r="";#t=0;#n="transparent";constructor(n=[],t={}){if(typeof n!="object"||n===null)throw new TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if(typeof n[Symbol.iterator]!="function")throw new TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if(typeof t!="object"&&typeof t!="function")throw new TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");t===null&&(t={});let r=new TextEncoder;for(let u of n){let c;ArrayBuffer.isView(u)?c=new Uint8Array(u.buffer.slice(u.byteOffset,u.byteOffset+u.byteLength)):u instanceof ArrayBuffer?c=new Uint8Array(u.slice(0)):u instanceof Ud?c=u:c=r.encode(`${u}`),this.#t+=ArrayBuffer.isView(c)?c.byteLength:c.size,this.#e.push(c)}this.#n=`${t.endings===void 0?"transparent":t.endings}`;let a=t.type===void 0?"":String(t.type);this.#r=/^[\x20-\x7E]*$/.test(a)?a:""}get size(){return this.#t}get type(){return this.#r}async text(){let n=new TextDecoder,t="";for await(let r of pd(this.#e,!1))t+=n.decode(r,{stream:!0});return t+=n.decode(),t}async arrayBuffer(){let n=new Uint8Array(this.size),t=0;for await(let r of pd(this.#e,!1))n.set(r,t),t+=r.length;return n.buffer}stream(){let n=pd(this.#e,!0);return new globalThis.ReadableStream({type:"bytes",async pull(t){let r=await n.next();r.done?t.close():t.enqueue(r.value)},async cancel(){await n.return()}})}slice(n=0,t=this.size,r=""){let{size:a}=this,u=n<0?Math.max(a+n,0):Math.min(n,a),c=t<0?Math.max(a+t,0):Math.min(t,a),f=Math.max(c-u,0),l=this.#e,s=[],d=0;for(let g of l){if(d>=f)break;let I=ArrayBuffer.isView(g)?g.byteLength:g.size;if(u&&I<=u)u-=I,c-=I;else{let C;ArrayBuffer.isView(g)?(C=g.subarray(u,Math.min(I,c)),d+=C.byteLength):(C=g.slice(u,Math.min(I,c)),d+=C.size),c-=I,s.push(C),u=0}}let h=new Ud([],{type:String(r).toLowerCase()});return h.#t=f,h.#e=s,h}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](n){return n&&typeof n=="object"&&typeof n.constructor=="function"&&(typeof n.stream=="function"||typeof n.arrayBuffer=="function")&&/^(Blob|File)$/.test(n[Symbol.toStringTag])}};Object.defineProperties(K1.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});var DA=K1,bc=DA,jA=(0,lA.createRequire)("/"),VA;try{VA=jA("worker_threads").Worker}catch{}var hr=Uint8Array,vn=Uint16Array,af=Uint32Array,sf=new hr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),of=new hr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Dd=new hr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),H1=function(e,n){for(var t=new vn(31),r=0;r<31;++r)t[r]=n+=1<<e[r-1];for(var a=new af(t[30]),r=1;r<30;++r)for(var u=t[r];u<t[r+1];++u)a[u]=u-t[r]<<5|r;return[t,a]},W1=H1(sf,2),G1=W1[0],jd=W1[1];G1[28]=258,jd[258]=28;var Q1=H1(of,0),qA=Q1[0],Rm=Q1[1],Vd=new vn(32768);for(Rt=0;Rt<32768;++Rt)ta=(Rt&43690)>>>1|(Rt&21845)<<1,ta=(ta&52428)>>>2|(ta&13107)<<2,ta=(ta&61680)>>>4|(ta&3855)<<4,Vd[Rt]=((ta&65280)>>>8|(ta&255)<<8)>>>1;var ta,Rt,Ai=function(e,n,t){for(var r=e.length,a=0,u=new vn(n);a<r;++a)e[a]&&++u[e[a]-1];var c=new vn(n);for(a=0;a<n;++a)c[a]=c[a-1]+u[a-1]<<1;var f;if(t){f=new vn(1<<n);var l=15-n;for(a=0;a<r;++a)if(e[a])for(var s=a<<4|e[a],d=n-e[a],h=c[e[a]-1]++<<d,g=h|(1<<d)-1;h<=g;++h)f[Vd[h]>>>l]=s}else for(f=new vn(r),a=0;a<r;++a)e[a]&&(f[a]=Vd[c[e[a]-1]++]>>>15-e[a]);return f},Fa=new hr(288);for(Rt=0;Rt<144;++Rt)Fa[Rt]=8;var Rt;for(Rt=144;Rt<256;++Rt)Fa[Rt]=9;var Rt;for(Rt=256;Rt<280;++Rt)Fa[Rt]=7;var Rt;for(Rt=280;Rt<288;++Rt)Fa[Rt]=8;var Rt,Pu=new hr(32);for(Rt=0;Rt<32;++Rt)Pu[Rt]=5;var Rt,FA=Ai(Fa,9,0),MA=Ai(Fa,9,1),zA=Ai(Pu,5,0),$A=Ai(Pu,5,1),yd=function(e){for(var n=e[0],t=1;t<e.length;++t)e[t]>n&&(n=e[t]);return n},ei=function(e,n,t){var r=n/8|0;return(e[r]|e[r+1]<<8)>>(n&7)&t},gd=function(e,n){var t=n/8|0;return(e[t]|e[t+1]<<8|e[t+2]<<16)>>(n&7)},Dp=function(e){return(e+7)/8|0},Ku=function(e,n,t){(n==null||n<0)&&(n=0),(t==null||t>e.length)&&(t=e.length);var r=new(e.BYTES_PER_ELEMENT==2?vn:e.BYTES_PER_ELEMENT==4?af:hr)(t-n);return r.set(e.subarray(n,t)),r},KA=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],mn=function(e,n,t){var r=new Error(n||KA[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,mn),!t)throw r;return r},HA=function(e,n,t){var r=e.length;if(!r||t&&t.f&&!t.l)return n||new hr(0);var a=!n||t,u=!t||t.i;t||(t={}),n||(n=new hr(r*3));var c=function(Ee){var We=n.length;if(Ee>We){var Ce=new hr(Math.max(We*2,Ee));Ce.set(n),n=Ce}},f=t.f||0,l=t.p||0,s=t.b||0,d=t.l,h=t.d,g=t.m,I=t.n,C=r*8;do{if(!d){f=ei(e,l,1);var _=ei(e,l+1,3);if(l+=3,_)if(_==1)d=MA,h=$A,g=9,I=5;else if(_==2){var T=ei(e,l,31)+257,N=ei(e,l+10,15)+4,B=T+ei(e,l+5,31)+1;l+=14;for(var p=new hr(B),A=new hr(19),S=0;S<N;++S)A[Dd[S]]=ei(e,l+S*3,7);l+=N*3;for(var O=yd(A),D=(1<<O)-1,E=Ai(A,O,1),S=0;S<B;){var m=E[ei(e,l,D)];l+=m&15;var y=m>>>4;if(y<16)p[S++]=y;else{var q=0,M=0;for(y==16?(M=3+ei(e,l,3),l+=2,q=p[S-1]):y==17?(M=3+ei(e,l,7),l+=3):y==18&&(M=11+ei(e,l,127),l+=7);M--;)p[S++]=q}}var V=p.subarray(0,T),w=p.subarray(T);g=yd(V),I=yd(w),d=Ai(V,g,1),h=Ai(w,I,1)}else mn(1);else{var y=Dp(l)+4,x=e[y-4]|e[y-3]<<8,j=y+x;if(j>r){u&&mn(0);break}a&&c(s+x),n.set(e.subarray(y,j),s),t.b=s+=x,t.p=l=j*8,t.f=f;continue}if(l>C){u&&mn(0);break}}a&&c(s+131072);for(var L=(1<<g)-1,F=(1<<I)-1,J=l;;J=l){var q=d[gd(e,l)&L],oe=q>>>4;if(l+=q&15,l>C){u&&mn(0);break}if(q||mn(2),oe<256)n[s++]=oe;else if(oe==256){J=l,d=null;break}else{var se=oe-254;if(oe>264){var S=oe-257,de=sf[S];se=ei(e,l,(1<<de)-1)+G1[S],l+=de}var ke=h[gd(e,l)&F],Le=ke>>>4;ke||mn(3),l+=ke&15;var w=qA[Le];if(Le>3){var de=of[Le];w+=gd(e,l)&(1<<de)-1,l+=de}if(l>C){u&&mn(0);break}a&&c(s+131072);for(var Ve=s+se;s<Ve;s+=4)n[s]=n[s-w],n[s+1]=n[s+1-w],n[s+2]=n[s+2-w],n[s+3]=n[s+3-w];s=Ve}}t.l=d,t.p=J,t.b=s,t.f=f,d&&(f=1,t.m=g,t.d=h,t.n=I)}while(!f);return s==n.length?n:Ku(n,0,s)},ra=function(e,n,t){t<<=n&7;var r=n/8|0;e[r]|=t,e[r+1]|=t>>>8},bu=function(e,n,t){t<<=n&7;var r=n/8|0;e[r]|=t,e[r+1]|=t>>>8,e[r+2]|=t>>>16},md=function(e,n){for(var t=[],r=0;r<e.length;++r)e[r]&&t.push({s:r,f:e[r]});var a=t.length,u=t.slice();if(!a)return[jp,0];if(a==1){var c=new hr(t[0].s+1);return c[t[0].s]=1,[c,1]}t.sort(function(S,O){return S.f-O.f}),t.push({s:-1,f:25001});var f=t[0],l=t[1],s=0,d=1,h=2;for(t[0]={s:-1,f:f.f+l.f,l:f,r:l};d!=a-1;)f=t[t[s].f<t[h].f?s++:h++],l=t[s!=d&&t[s].f<t[h].f?s++:h++],t[d++]={s:-1,f:f.f+l.f,l:f,r:l};for(var g=u[0].s,r=1;r<a;++r)u[r].s>g&&(g=u[r].s);var I=new vn(g+1),C=qd(t[d-1],I,0);if(C>n){var r=0,_=0,T=C-n,N=1<<T;for(u.sort(function(O,D){return I[D.s]-I[O.s]||O.f-D.f});r<a;++r){var B=u[r].s;if(I[B]>n)_+=N-(1<<C-I[B]),I[B]=n;else break}for(_>>>=T;_>0;){var p=u[r].s;I[p]<n?_-=1<<n-I[p]++-1:++r}for(;r>=0&&_;--r){var A=u[r].s;I[A]==n&&(--I[A],++_)}C=n}return[new hr(I),C]},qd=function(e,n,t){return e.s==-1?Math.max(qd(e.l,n,t+1),qd(e.r,n,t+1)):n[e.s]=t},km=function(e){for(var n=e.length;n&&!e[--n];);for(var t=new vn(++n),r=0,a=e[0],u=1,c=function(l){t[r++]=l},f=1;f<=n;++f)if(e[f]==a&&f!=n)++u;else{if(!a&&u>2){for(;u>138;u-=138)c(32754);u>2&&(c(u>10?u-11<<5|28690:u-3<<5|12305),u=0)}else if(u>3){for(c(a),--u;u>6;u-=6)c(8304);u>2&&(c(u-3<<5|8208),u=0)}for(;u--;)c(a);u=1,a=e[f]}return[t.subarray(0,r),n]},_u=function(e,n){for(var t=0,r=0;r<n.length;++r)t+=e[r]*n[r];return t},Fd=function(e,n,t){var r=t.length,a=Dp(n+2);e[a]=r&255,e[a+1]=r>>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var u=0;u<r;++u)e[a+u+4]=t[u];return(a+4+r)*8},Bm=function(e,n,t,r,a,u,c,f,l,s,d){ra(n,d++,t),++a[256];for(var h=md(a,15),g=h[0],I=h[1],C=md(u,15),_=C[0],T=C[1],N=km(g),B=N[0],p=N[1],A=km(_),S=A[0],O=A[1],D=new vn(19),E=0;E<B.length;++E)D[B[E]&31]++;for(var E=0;E<S.length;++E)D[S[E]&31]++;for(var m=md(D,7),y=m[0],q=m[1],M=19;M>4&&!y[Dd[M-1]];--M);var V=s+5<<3,w=_u(a,Fa)+_u(u,Pu)+c,x=_u(a,g)+_u(u,_)+c+14+3*M+_u(D,y)+(2*D[16]+3*D[17]+7*D[18]);if(V<=w&&V<=x)return Fd(n,d,e.subarray(l,l+s));var j,L,F,J;if(ra(n,d,1+(x<w)),d+=2,x<w){j=Ai(g,I,0),L=g,F=Ai(_,T,0),J=_;var oe=Ai(y,q,0);ra(n,d,p-257),ra(n,d+5,O-1),ra(n,d+10,M-4),d+=14;for(var E=0;E<M;++E)ra(n,d+3*E,y[Dd[E]]);d+=3*M;for(var se=[B,S],de=0;de<2;++de)for(var ke=se[de],E=0;E<ke.length;++E){var Le=ke[E]&31;ra(n,d,oe[Le]),d+=y[Le],Le>15&&(ra(n,d,ke[E]>>>5&127),d+=ke[E]>>>12)}}else j=FA,L=Fa,F=zA,J=Pu;for(var E=0;E<f;++E)if(r[E]>255){var Le=r[E]>>>18&31;bu(n,d,j[Le+257]),d+=L[Le+257],Le>7&&(ra(n,d,r[E]>>>23&31),d+=sf[Le]);var Ve=r[E]&31;bu(n,d,F[Ve]),d+=J[Ve],Ve>3&&(bu(n,d,r[E]>>>5&8191),d+=of[Ve])}else bu(n,d,j[r[E]]),d+=L[r[E]];return bu(n,d,j[256]),d+L[256]},WA=new af([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),jp=new hr(0),GA=function(e,n,t,r,a,u){var c=e.length,f=new hr(r+c+5*(1+Math.ceil(c/7e3))+a),l=f.subarray(r,f.length-a),s=0;if(!n||c<8)for(var d=0;d<=c;d+=65535){var h=d+65535;h>=c&&(l[s>>3]=u),s=Fd(l,s+1,e.subarray(d,h))}else{for(var g=WA[n-1],I=g>>>13,C=g&8191,_=(1<<t)-1,T=new vn(32768),N=new vn(_+1),B=Math.ceil(t/3),p=2*B,A=function(R){return(e[R]^e[R+1]<<B^e[R+2]<<p)&_},S=new af(25e3),O=new vn(288),D=new vn(32),E=0,m=0,d=0,y=0,q=0,M=0;d<c;++d){var V=A(d),w=d&32767,x=N[V];if(T[w]=x,N[V]=w,q<=d){var j=c-d;if((E>7e3||y>24576)&&j>423){s=Bm(e,l,0,S,O,D,m,y,M,d-M,s),y=E=m=0,M=d;for(var L=0;L<286;++L)O[L]=0;for(var L=0;L<30;++L)D[L]=0}var F=2,J=0,oe=C,se=w-x&32767;if(j>2&&V==A(d-se))for(var de=Math.min(I,j)-1,ke=Math.min(32767,d),Le=Math.min(258,j);se<=ke&&--oe&&w!=x;){if(e[d+F]==e[d+F-se]){for(var Ve=0;Ve<Le&&e[d+Ve]==e[d+Ve-se];++Ve);if(Ve>F){if(F=Ve,J=se,Ve>de)break;for(var Ee=Math.min(se,Ve-2),We=0,L=0;L<Ee;++L){var Ce=d-se+L+32768&32767,et=T[Ce],Xe=Ce-et+32768&32767;Xe>We&&(We=Xe,x=Ce)}}}w=x,x=T[w],se+=w-x+32768&32767}if(J){S[y++]=268435456|jd[F]<<18|Rm[J];var P=jd[F]&31,Y=Rm[J]&31;m+=sf[P]+of[Y],++O[257+P],++D[Y],q=d+F,++E}else S[y++]=e[d],++O[e[d]]}}s=Bm(e,l,u,S,O,D,m,y,M,d-M,s),!u&&s&7&&(s=Fd(l,s+1,jp))}return Ku(f,0,r+Dp(s)+a)},QA=function(){for(var e=new Int32Array(256),n=0;n<256;++n){for(var t=n,r=9;--r;)t=(t&1&&-306674912)^t>>>1;e[n]=t}return e}(),YA=function(){var e=-1;return{p:function(n){for(var t=e,r=0;r<n.length;++r)t=QA[t&255^n[r]]^t>>>8;e=t},d:function(){return~e}}},ZA=function(e,n,t,r,a){return GA(e,n.level==null?6:n.level,n.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):12+n.mem,t,r,!a)},Y1=function(e,n){var t={};for(var r in e)t[r]=e[r];for(var r in n)t[r]=n[r];return t},Ci=function(e,n){return e[n]|e[n+1]<<8},ri=function(e,n){return(e[n]|e[n+1]<<8|e[n+2]<<16|e[n+3]<<24)>>>0},vd=function(e,n){return ri(e,n)+ri(e,n+4)*4294967296},Ur=function(e,n,t){for(;t;++n)e[n]=t,t>>>=8};function XA(e,n){return ZA(e,n||{},0,0)}function JA(e,n){return HA(e,n)}var Z1=function(e,n,t,r){for(var a in e){var u=e[a],c=n+a,f=r;Array.isArray(u)&&(f=Y1(r,u[1]),u=u[0]),u instanceof hr?t[c]=[u,f]:(t[c+="/"]=[new hr(0),f],Z1(u,c,t,r))}},Nm=typeof TextEncoder<"u"&&new TextEncoder,Md=typeof TextDecoder<"u"&&new TextDecoder,eI=0;try{Md.decode(jp,{stream:!0}),eI=1}catch{}var tI=function(e){for(var n="",t=0;;){var r=e[t++],a=(r>127)+(r>223)+(r>239);if(t+a>e.length)return[n,Ku(e,t-1)];a?a==3?(r=((r&15)<<18|(e[t++]&63)<<12|(e[t++]&63)<<6|e[t++]&63)-65536,n+=String.fromCharCode(55296|r>>10,56320|r&1023)):a&1?n+=String.fromCharCode((r&31)<<6|e[t++]&63):n+=String.fromCharCode((r&15)<<12|(e[t++]&63)<<6|e[t++]&63):n+=String.fromCharCode(r)}};function zd(e,n){if(n){for(var t=new hr(e.length),r=0;r<e.length;++r)t[r]=e.charCodeAt(r);return t}if(Nm)return Nm.encode(e);for(var a=e.length,u=new hr(e.length+(e.length>>1)),c=0,f=function(h){u[c++]=h},r=0;r<a;++r){if(c+5>u.length){var l=new hr(c+8+(a-r<<1));l.set(u),u=l}var s=e.charCodeAt(r);s<128||n?f(s):s<2048?(f(192|s>>6),f(128|s&63)):s>55295&&s<57344?(s=65536+(s&1047552)|e.charCodeAt(++r)&1023,f(240|s>>18),f(128|s>>12&63),f(128|s>>6&63),f(128|s&63)):(f(224|s>>12),f(128|s>>6&63),f(128|s&63))}return Ku(u,0,c)}function Vp(e,n){if(n){for(var t="",r=0;r<e.length;r+=16384)t+=String.fromCharCode.apply(null,e.subarray(r,r+16384));return t}else{if(Md)return Md.decode(e);var a=tI(e),u=a[0],c=a[1];return c.length&&mn(8),u}}var rI=function(e,n){return n+30+Ci(e,n+26)+Ci(e,n+28)},nI=function(e,n,t){var r=Ci(e,n+28),a=Vp(e.subarray(n+46,n+46+r),!(Ci(e,n+8)&2048)),u=n+46+r,c=ri(e,n+20),f=t&&c==4294967295?iI(e,u):[c,ri(e,n+24),ri(e,n+42)],l=f[0],s=f[1],d=f[2];return[Ci(e,n+10),l,s,a,u+Ci(e,n+30)+Ci(e,n+32),d]},iI=function(e,n){for(;Ci(e,n)!=1;n+=4+Ci(e,n+2));return[vd(e,n+12),vd(e,n+4),vd(e,n+20)]},$d=function(e){var n=0;if(e)for(var t in e){var r=e[t].length;r>65535&&mn(9),n+=r+4}return n},Om=function(e,n,t,r,a,u,c,f){var l=r.length,s=t.extra,d=f&&f.length,h=$d(s);Ur(e,n,c!=null?33639248:67324752),n+=4,c!=null&&(e[n++]=20,e[n++]=t.os),e[n]=20,n+=2,e[n++]=t.flag<<1|(u<0&&8),e[n++]=a&&8,e[n++]=t.compression&255,e[n++]=t.compression>>8;var g=new Date(t.mtime==null?Date.now():t.mtime),I=g.getFullYear()-1980;if((I<0||I>119)&&mn(10),Ur(e,n,I<<25|g.getMonth()+1<<21|g.getDate()<<16|g.getHours()<<11|g.getMinutes()<<5|g.getSeconds()>>>1),n+=4,u!=-1&&(Ur(e,n,t.crc),Ur(e,n+4,u<0?-u-2:u),Ur(e,n+8,t.size)),Ur(e,n+12,l),Ur(e,n+14,h),n+=16,c!=null&&(Ur(e,n,d),Ur(e,n+6,t.attrs),Ur(e,n+10,c),n+=14),e.set(r,n),n+=l,h)for(var C in s){var _=s[C],T=_.length;Ur(e,n,+C),Ur(e,n+2,T),e.set(_,n+4),n+=4+T}return d&&(e.set(f,n),n+=d),n},aI=function(e,n,t,r,a){Ur(e,n,101010256),Ur(e,n+8,t),Ur(e,n+10,t),Ur(e,n+12,r),Ur(e,n+16,a)};function sI(e,n){n||(n={});var t={},r=[];Z1(e,"",t,n);var a=0,u=0;for(var c in t){var f=t[c],l=f[0],s=f[1],d=s.level==0?0:8,h=zd(c),g=h.length,I=s.comment,C=I&&zd(I),_=C&&C.length,T=$d(s.extra);g>65535&&mn(11);var N=d?XA(l,s):l,B=N.length,p=YA();p.p(l),r.push(Y1(s,{size:l.length,crc:p.d(),c:N,f:h,m:C,u:g!=c.length||C&&I.length!=_,o:a,compression:d})),a+=30+g+T+B,u+=76+2*(g+T)+(_||0)+B}for(var A=new hr(u+22),S=a,O=u-a,D=0;D<r.length;++D){var h=r[D];Om(A,h.o,h,h.f,h.u,h.c.length);var E=30+h.f.length+$d(h.extra);A.set(h.c,h.o+E),Om(A,a,h,h.f,h.u,h.c.length,h.o,h.m),a+=16+E+(h.m?h.m.length:0)}return aI(A,a,r.length,O,S),A}function oI(e,n){for(var t={},r=e.length-22;ri(e,r)!=101010256;--r)(!r||e.length-r>65558)&&mn(13);var a=Ci(e,r+8);if(!a)return{};var u=ri(e,r+16),c=u==4294967295||a==65535;if(c){var f=ri(e,r-12);c=ri(e,f)==101075792,c&&(a=ri(e,f+32),u=ri(e,f+48))}for(var l=n&&n.filter,s=0;s<a;++s){var d=nI(e,u,c),h=d[0],g=d[1],I=d[2],C=d[3],_=d[4],T=d[5],N=rI(e,T);u=_,(!l||l({name:C,size:g,originalSize:I,compression:h}))&&(h?h==8?t[C]=JA(e.subarray(N,N+g),new hr(I)):mn(14,"unknown compression type "+h):t[C]=Ku(e,N,N+g))}return t}var qp={bmp:"image/bmp",gif:"image/gif",jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png"},uI=Object.keys(qp),Lm=new Set(uI),lI=Object.values(qp),r8=new Set(lI);function cI(e){throw new Error("Statement should be unreachable")}var Kd="en",Hd=!1,Wd=!1,_c=!1,fI=!1,hI=!1,X1=!1,dI=!1,pI=!1,yI=!1,bd,Gd=Kd,Da,qa=typeof self=="object"?self:typeof global=="object"?global:{},Nn;typeof qa.vscode<"u"&&typeof qa.vscode.process<"u"?Nn=qa.vscode.process:typeof process<"u"&&(Nn=process);var J1=typeof Nn?.versions?.electron=="string",eb=J1&&Nn?.type==="renderer",n8=eb&&Nn?.sandboxed;typeof navigator=="object"&&!eb?(Da=navigator.userAgent,Hd=Da.indexOf("Windows")>=0,Wd=Da.indexOf("Macintosh")>=0,pI=(Da.indexOf("Macintosh")>=0||Da.indexOf("iPad")>=0||Da.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,_c=Da.indexOf("Linux")>=0,X1=!0,bd=navigator.language,Gd=bd):typeof Nn=="object"?(Hd=Nn.platform==="win32",Wd=Nn.platform==="darwin",_c=Nn.platform==="linux",fI=_c&&!!Nn.env.SNAP&&!!Nn.env.SNAP_REVISION,dI=J1,yI=!!Nn.env.CI||!!Nn.env.BUILD_ARTIFACTSTAGINGDIRECTORY,bd=Kd,Gd=Kd,hI=!0):console.error("Unable to resolve platform.");var tb={[1]:"Mac",[2]:"Linux",[3]:"Windows"};function gI(e){switch(e){case 0:return"Web";case 1:case 2:case 3:return tb[e];default:cI(e)}}var wc=0;Wd?wc=1:Hd?wc=3:_c&&(wc=2);var i8=Object.values(tb),a8=gI(wc),s8=X1&&typeof qa.importScripts=="function",Ii=Da,Ua=Gd,mI;(e=>{function n(){return Ua}e.value=n;function t(){return Ua.length===2?Ua==="en":Ua.length>=3?Ua[0]==="e"&&Ua[1]==="n"&&Ua[2]==="-":!1}e.isDefaultVariant=t;function r(){return Ua==="en"}e.isDefault=r})(mI||={});var o8=(()=>{if(typeof qa.postMessage=="function"&&!qa.importScripts){let e=[];qa.addEventListener("message",t=>{if(t.data&&t.data.vscodeScheduleAsyncWork)for(let r=0,a=e.length;r<a;r++){let u=e[r];if(u.id===t.data.vscodeScheduleAsyncWork){e.splice(r,1),u.callback();return}}});let n=0;return t=>{let r=++n;e.push({id:r,callback:t}),qa.postMessage({vscodeScheduleAsyncWork:r},"*")}}return e=>setTimeout(e)})(),vI=!!(Ii&&Ii.indexOf("Chrome")>=0),u8=!!(Ii&&Ii.indexOf("Firefox")>=0),l8=!!(!vI&&Ii&&Ii.indexOf("Safari")>=0),c8=!!(Ii&&Ii.indexOf("Edg/")>=0),f8=!!(Ii&&Ii.indexOf("Android")>=0),Pm=Io(bA()),rb=class{static read(e,n){return e.readFields(rb._readField,{sha256_with_rsa:[],sha256_with_ecdsa:[],signed_header_data:null},n)}static _readField(e,n,t){!n||!t||(e===2?n.sha256_with_rsa?.push(Cu.read(t,t.readVarint()+t.pos)):e===3?n.sha256_with_ecdsa?.push(Cu.read(t,t.readVarint()+t.pos)):e===1e4&&(n.signed_header_data=t.readBytes()))}static write(e,n){if(!(!e||!n)){if(e.sha256_with_rsa)for(var t=0;t<e.sha256_with_rsa.length;t++)n.writeMessage(2,Cu.write,e.sha256_with_rsa[t]);if(e.sha256_with_ecdsa)for(t=0;t<e.sha256_with_ecdsa.length;t++)n.writeMessage(3,Cu.write,e.sha256_with_ecdsa[t]);e.signed_header_data&&n.writeBytesField(1e4,e.signed_header_data)}}},Cu=class{static read(e,n){return e.readFields(Cu._readField,{public_key:null,signature:null},n)}static _readField(e,n,t){!n||!t||(e===1?n.public_key=t.readBytes():e===2&&(n.signature=t.readBytes()))}static write(e,n){!e||!n||(e.public_key&&n.writeBytesField(1,e.public_key),e.signature&&n.writeBytesField(2,e.signature))}},nb=class{static read(e,n){return e.readFields(nb._readField,{crx_id:null},n)}static _readField(e,n,t){!n||!t||e===1&&(n.crx_id=t.readBytes())}static write(e,n){!e||!n||e.crx_id&&n.writeBytesField(1,e.crx_id)}},bI=16,Qd=4,_d=Buffer.from("Cr24","utf8"),wd=Buffer.from([3,0,0,0]),_I=Buffer.from("CRX3 SignedData\0","utf8");function wI(e,n){let t=e.binary.public(),r=new Pm.default;nb.write({crx_id:SI(t)},r);let a=Buffer.from(r.finish());r=new Pm.default,rb.write({sha256_with_rsa:[{public_key:t,signature:EI(e.text.private(),a,n)}],signed_header_data:a},r);let u=Buffer.from(r.finish()),c=_d.length+wd.length+Qd+u.length+n.length,f=Buffer.allocUnsafe(c),l=0;return _d.copy(f,l),wd.copy(f,l+=_d.length),f.writeUInt32LE(u.length,l+=wd.length),u.copy(f,l+=Qd),n.copy(f,l+=u.length),f}function SI(e){return(0,R1.createHash)("sha256").update(e).digest().subarray(0,bI)}function EI(e,n,t){let r=(0,R1.createSign)("RSA-SHA256");r.update(_I);let a=Buffer.allocUnsafe(Qd);return a.writeUInt32LE(n.length,0),r.update(a),r.update(n),r.update(t),r.sign(e)}var CI=(e,n)=>wI(e,n),TI=Io(_A()),AI=Io(CA()),II=Io(z1()),RI={0:"a",1:"b",2:"c",3:"d",4:"e",5:"f",6:"g",7:"h",8:"i",9:"j",a:"k",b:"l",c:"m",d:"n",e:"o",f:"p",g:"q",h:"r",i:"s",j:"t",k:"u",l:"v",m:"w",n:"x",o:"y",p:"z"},kI=e=>e.replace(/[0-9a-f]/gi,n=>RI[n]),BI=e=>kI(TI.encode(AI.hash(II.default.util.binary.base64.decode(e)),!0).slice(0,32)),NI=(e,n,t)=>`<?xml version='1.0' encoding='UTF-8'?>
<gupdate xmlns='http://www.google.com/update2/response' protocol='2.0'>
  <app appid='${e}'>
    <updatecheck codebase='${n}' version='${t}' />
  </app>
</gupdate>`,OI=e=>`${Lu.Itero}/api/ext/update/${e}`,LI=e=>`${Lu.Itero}/api/ext/install/${e}`,PI=Io(z1()),{pki:oa,asn1:xm}=PI.default,xI=(e="")=>new Promise((n,t)=>{try{if(e){let r=oa.privateKeyFromPem(e),a=oa.rsa.setPublicKey(r.n,r.e);n({privateKey:r,publicKey:a})}else oa.rsa.generateKeyPair({bits:2048,workers:2},(r,a)=>{n(a)})}catch(r){t(r)}}),UI=e=>{let n=oa.privateKeyToAsn1(e),t=oa.wrapRsaPrivateKey(n);return oa.privateKeyInfoToPem(t)},DI=async(e="")=>{let{publicKey:n,privateKey:t}=await xI(e);return{text:{public:()=>{let r=oa.publicKeyToPem(n),a=jI(r);return console.log({publicKey:n,untrimmedKey:r,trimmedKey:a}),a},private:()=>UI(t)},binary:{public:()=>Buffer.from(xm.toDer(oa.publicKeyToAsn1(n)).getBytes(),"binary"),private:()=>Buffer.from(xm.toDer(oa.privateKeyToAsn1(t)).getBytes(),"binary")}}},jI=(e,n=!1)=>{let t=n?"PRIVATE":"PUBLIC";return e.replace(`-----BEGIN ${t} KEY-----`,"").replace(`-----END ${t} KEY-----`,"").replace(/\n|\r/g,"").trim()},VI=(e,n)=>{if(!e.icons)throw new Error("No icons found in manifest");let t=Object.keys(e.icons).reduce((l,s)=>Math.max(l,parseInt(s)),0);if(!t)throw new Error("Invalid icon sizes, must be a number");let r=(0,xc.normalize)(e.icons[t]),a=(0,xc.extname)(r).slice(1);if(!Lm.has(a))throw new Error("Invalid icon type. Valid types are: "+[...Lm].join(", "));let u=qp[a];if(!n[r])throw new Error("Could not find extension icon. Please ensure the icon paths are correct in your manifest.json");let c=Buffer.from(n[r]),f=new bc([c],{type:u});return{path:r,type:u,blob:f}},Sd=/__MSG_(?<tag>.*)__/gm,qI=e=>new Promise((n,t)=>{let r,a=oI(e);if(a["manifest.json"])r=a;else{let c=Object.keys(a),f=c.find(s=>s.endsWith("manifest.json"));if(!f){t(new Error("Cannot locate manifest.json"));return}let l=(0,xc.dirname)(f);r=c.reduce((s,d)=>{if(d.startsWith(l)){let h=(0,xc.relative)(l,d);h&&(s[h+(d.endsWith("/")?"/":"")]=a[d])}return s},{})}let u=JSON.parse(Vp(r["manifest.json"]));n({unzip:r,manifestData:u})}),FI=class{manifest;displayManifest;iconData;#e;get submitManifest(){return{...this.manifest,...this.displayManifest}}loadManifest=async e=>{let{unzip:n,manifestData:t}=await qI(e);this.#e=n,this.manifest=t,this.displayManifest=this.getDisplayManifest(),this.iconData=VI(this.manifest,n)};getDisplayManifest(){let e={name:this.manifest.name,version:this.manifest.version,description:this.manifest.description||"",version_name:this.manifest.version_name||""};try{if(this.manifest.default_locale){let n=this.manifest.default_locale,t=JSON.parse(Vp(this.#e[`_locales/${n}/messages.json`]));e.name=e.name.replace(Sd,(r,a)=>t[a].message),e.description=e.description.replace(Sd,(r,a)=>t[a].message),e.version_name=e.version_name.replace(Sd,(r,a)=>t[a].message)}}catch{throw new Error("default_locale is defined, but no locale data is found")}return e}#r;#t;loadKey=async e=>{if(!e)throw new Error("Missing private key?!");this.#r=await DI(e);let n=this.#r.text.public();this.manifest.key=n,this.#t=BI(this.manifest.key),this.manifest.update_url=OI(this.#t)};generateResources=async()=>{if(!this.#r||!this.#t||!this.manifest.key)throw new Error("Key not loaded");this.#e["manifest.json"]=zd(JSON.stringify(this.manifest));let e=Buffer.from(sI(this.#e)),n=CI(this.#r,Buffer.from(e));return{icon:this.iconData.blob,crx:new bc([n],{type:"application/x-chrome-extension"}),zip:new bc([e],{type:"application/zip"}),xml:new bc([NI(this.#t,LI(this.#t),this.manifest.version)],{type:"text/xml"})}}},ib=typeof globalThis.process<"u"?globalThis.process.argv:[],MI=()=>typeof globalThis.process<"u"?globalThis.process.env:{},zI=new Set(ib),ab=e=>zI.has(e),h8=ib.filter(e=>e.startsWith("--")&&e.includes("=")).map(e=>e.split("=")).reduce((e,[n,t])=>(e[n]=t,e),{}),d8=ab("--dry-run"),sb=()=>ab("--verbose")||MI().VERBOSE==="true",p8=sb(),$I=(e="",...n)=>console.log(e.padEnd(9),"|",...n),KI=0,HI=(...e)=>sb()&&$I(`\u{1F7E1} ${KI++}`,...e),WI=async(e,n)=>{let t=Buffer.from(await n.arrayBuffer());return nn.put(e,{headers:{"Content-Type":n.type},body:t})},GI={privateKey:"",token:"",entityId:"",extensionId:""},Fp=$1(GI,e=>`Missing ${e}`),QI=Object.keys(Fp),YI=class{options={};constructor(e){for(let n of QI){if(!e[n])throw new Error(Fp[n]);this.options[n]=e[n]}}async submit({filePath:e=""}){let n=await(0,uA.readFile)(e),t=new FI;await t.loadManifest(n),await t.loadKey(this.options.privateKey);let{version:r,...a}=await nn.post(`${Lu.Itero}/api/submit`,{json:{token:this.options.token,entityId:this.options.entityId,manifest:t.submitManifest,iconContentType:t.iconData.type}}).json();HI(`New version: ${r}`),t.manifest.version=r;let u=await t.generateResources(),c={xml:a.uploadXmlUrl,crx:a.crxFileUrl,zip:a.zipUrl,icon:a.iconUrl};await Promise.all(Object.entries(c).map(([f,l])=>WI(l,u[f]))),await nn.put(`${Lu.Itero}/api/submit`,{json:{token:this.options.token,entityId:this.options.entityId,extensionId:this.options.extensionId}})}},xu="itero",ZI=Gc(xu);function XI(e){return la(this,null,function*(){var n=e,{zip:t,dryRun:r}=n,a=Dc(n,["zip","dryRun"]);let u=new YI(Uc({},a));if(ZI("Updating extension to Itero TestBed"),r)return!0;try{return yield u.submit({filePath:t}),Wc({market:xu,zip:t}),!0}catch(c){throw Qc(c,xu)}})}function JI(e){return la(this,null,function*(){return e.zip=qu(e),e.verbose&&Fu(xu),Mu({market:xu,options:e,errorMap:Fp}),XI(e)})}});var or=su(Vh()),on=su(ub());var Hu=e=>`${e.padEnd(9)} |`,cb=e=>e.zip||e.file,lb=e=>!!cb(e);function eR(){return Cy(this,null,function*(){try{(0,or.info)("\u{1F7E3} Plasmo Browser Platform Publish v3");let e=JSON.parse((0,or.getInput)("keys",{required:!0})),n=(0,or.getInput)("file")||(0,or.getInput)("zip")||(0,or.getInput)("artifact"),t=(0,or.getInput)("version-file"),r=(0,or.getInput)("notes")||(0,or.getInput)("edge-notes"),a=!!(0,or.getInput)("verbose");a&&(console.log=or.info);let u=Object.keys(e).filter(s=>on.supportedBrowserSet.has(s));if(u.length===0)throw new Error("No supported browser found");for(let s of u){let d=(0,or.getInput)(`${s}-file`),h=cb(e[s]);d?e[s].zip=d:h?e[s].zip=h:n?e[s].zip=n:(0,or.warning)(`${Hu("\u{1F7E1} SKIP")} No artifact available to submit for ${s}`),a&&(e[s].verbose=a),t&&(e[s].versionFile=t)}if(!u.some(s=>lb(e[s])))throw new Error("No artifact found for deployment");if(e.edge&&r&&(e.edge.notes=r),process.env.NODE_ENV==="test"){(0,or.debug)(JSON.stringify({artifact:n,versionFile:t,verbose:a})),(0,or.debug)(u.join(","));return}let f=u.map(s=>{if(!lb(e[s]))return!1;switch((0,or.info)(`${Hu("\u{1F7E1} QUEUE")} Prepare for ${s} submission`),s){case on.BrowserName.Chrome:return(0,on.submitChrome)(e[s]);case on.BrowserName.Firefox:return(0,on.submitFirefox)(e[s]);case on.BrowserName.Edge:return(0,on.submitEdge)(e[s]);case on.BrowserName.Itero:return(0,on.submitItero)(e[s])}});(yield Promise.allSettled(f)).forEach((s,d)=>{s.status==="rejected"?(0,or.setFailed)(`${Hu("\u{1F534} ERROR")} ${s.reason}`):s.value&&(0,or.info)(`${Hu("\u{1F7E2} DONE")} ${u[d]} submission successful`)})}catch(e){e instanceof Error&&(0,or.setFailed)(`${Hu("\u{1F534} ERROR")} ${e.message}`)}})}eR();
/*! Bundled license information:

node-domexception/index.js:
  (*! node-domexception. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

lodash/lodash.js:
  (**
   * @license
   * Lodash <https://lodash.com/>
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)

web-streams-polyfill/dist/ponyfill.mjs:
  (**
   * @license
   * web-streams-polyfill v4.0.0-beta.3
   * Copyright 2021 Mattias Buelens, Diwank Singh Tomer and other contributors.
   * This code is released under the MIT license.
   * SPDX-License-Identifier: MIT
   *)

formdata-node/lib/blobHelpers.js:
  (*! Based on fetch-blob. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> & David Frank *)

formdata-node/lib/Blob.js:
  (*! Based on fetch-blob. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> & David Frank *)

@plasmohq/itero-testbed-api/dist/index.js:
  (*! Bundled license information:
  
  ieee754/index.js:
    (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)
  
  fetch-blob/index.js:
    (*! fetch-blob. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> *)
  *)
*/
